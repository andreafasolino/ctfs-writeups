"use strict";define("Release/Client",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization"],function(e,t,s,r,a){!function(e){t.RestClientExtended={},Object.defineProperty(t,"__esModule",{value:!0});const i="x-ms-continuationtoken";s.RestClients.add("IExtendedReleaseClient",{factory:class extends r.RestClientBase{async getReleasesWithToken(e,t,s,r,n,o,p,l,u,c,d,m,R,g,I,h,y,j,v,T,V,f){const _={definitionId:t,definitionEnvironmentId:s,searchText:r,createdBy:n,statusFilter:o,environmentStatusFilter:p,minCreatedTime:l,maxCreatedTime:u,queryOrder:c,$top:d,continuationToken:m,$expand:g,artifactTypeId:I,sourceId:h,artifactVersionId:y,sourceBranchFilter:j,isDeleted:v,tagFilter:T&&T.join(","),propertyFilters:V&&V.join(","),releaseIdFilter:f&&f.join(","),path:R};return this.beginRequest({apiVersion:"5.0-preview.8",routeTemplate:"{project}/_apis/Release/releases",routeValues:{project:e},queryParams:_,returnRawResponse:!0}).then(e=>{const t=e.headers.get(i),s=t&&parseInt(t,10);return e.text().then(e=>({releases:a.deserializeVssJsonObject(e),continuationToken:s}))})}async getDeploymentsWithContinuationToken(e,t,s,r,n,o,p,l,u,c,d,m,R,g,I,h){const y={definitionId:t,definitionEnvironmentId:s,createdBy:r,minModifiedTime:n,maxModifiedTime:o,deploymentStatus:p,operationStatus:l,latestAttemptsOnly:u,queryOrder:c,$top:d,continuationToken:m,createdFor:R,minStartedTime:g,maxStartedTime:I,sourceBranch:h};return this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/Release/deployments",routeValues:{project:e},queryParams:y,returnRawResponse:!0}).then(e=>{const t=e.headers.get(i),s=t&&parseInt(t,10);return e.text().then(e=>({deployments:a.deserializeVssJsonObject(e),continuationToken:s}))})}},options:{serviceInstanceType:"0000000d-0000-8888-8000-000000000000"}})}(),function(e){t[e]={},Object.defineProperty(t,"__esModule",{value:!0});t[e].ReleaseClientName="IReleaseRestClient",t[e].getReleaseClient=function(s,r){return s.getRestClient(t[e].ReleaseClientName,r)},s.RestClients.add(t[e].ReleaseClientName,{factory:class extends r.RestClientBase{constructor(e){super(e)}async getAgentArtifactDefinitions(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/agentartifacts",routeValues:{project:e,releaseId:t}})}async getApprovals(e,t,s,r,a,i,n,o,p){const l={assignedToFilter:t,statusFilter:s,releaseIdsFilter:r&&r.join(","),typeFilter:a,top:i,continuationToken:n,queryOrder:o,includeMyGroupApprovals:p};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/approvals",routeValues:{project:e},queryParams:l})}async getApprovalHistory(e,t){return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/approvals/{approvalStepId}/history",routeValues:{project:e,approvalStepId:t}})}async getApproval(e,t,s){const r={includeHistory:s};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/approvals/{approvalId}",routeValues:{project:e,approvalId:t},queryParams:r})}async updateReleaseApproval(e,t,s){return this.beginRequest({apiVersion:"5.0",method:"PATCH",routeTemplate:"{project}/_apis/Release/approvals/{approvalId}",routeValues:{project:t,approvalId:s},body:e})}async updateReleaseApprovals(e,t){return this.beginRequest({apiVersion:"5.0",method:"PATCH",routeTemplate:"{project}/_apis/Release/approvals",routeValues:{project:t},body:e})}async getTaskAttachmentContent(e,t,s,r,a,i,n,o){return this.beginRequest({apiVersion:"5.0-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/records/{recordId}/attachments/{type}/{name}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:a,recordId:i,type:n,name:o}})}async getReleaseTaskAttachmentContent(e,t,s,r,a,i,n,o,p){return this.beginRequest({apiVersion:"5.0-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/timelines/{timelineId}/records/{recordId}/attachments/{type}/{name}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,planId:a,timelineId:i,recordId:n,type:o,name:p}})}async getTaskAttachments(e,t,s,r,a,i){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/attachments/{type}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:a,type:i}})}async getReleaseTaskAttachments(e,t,s,r,a,i){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/attachments/{type}",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,planId:a,type:i}})}async getAutoTriggerIssues(e,t,s,r){const a={artifactType:e,sourceId:t,artifactVersionId:s};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/autotriggerissues",routeValues:{project:r},queryParams:a})}async getDeploymentBadge(e,t,s,r){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/public/Release/badge/{projectId}/{releaseDefinitionId}/{environmentId}/{branchName}",routeValues:{projectId:e,releaseDefinitionId:t,environmentId:s,branchName:r}})}async getReleaseChanges(e,t,s,r,a){const i={baseReleaseId:s,$top:r,artifactAlias:a};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/changes",routeValues:{project:e,releaseId:t},queryParams:i})}async getDefinitionEnvironments(e,t,s){const r={taskGroupId:t,propertyFilters:s&&s.join(",")};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/definitionEnvironments",routeValues:{project:e},queryParams:r})}async createReleaseDefinition(e,t){return this.beginRequest({apiVersion:"5.0",method:"POST",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:t},body:e})}async deleteReleaseDefinition(e,t,s,r){const a={comment:s,forceDelete:r};return this.beginRequest({apiVersion:"5.0",method:"DELETE",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e,definitionId:t},queryParams:a})}async getReleaseDefinition(e,t,s){const r={propertyFilters:s&&s.join(",")};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e,definitionId:t},queryParams:r})}async getReleaseDefinitionRevision(e,t,s){const r={revision:s};return this.beginRequest({apiVersion:"5.0",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e,definitionId:t},queryParams:r})}async getReleaseDefinitions(e,t,s,r,a,i,n,o,p,l,u,c,d,m,R){const g={searchText:t,$expand:s,artifactType:r,artifactSourceId:a,$top:i,continuationToken:n,queryOrder:o,path:p,isExactNameMatch:l,tagFilter:u&&u.join(","),propertyFilters:c&&c.join(","),definitionIdFilter:d&&d.join(","),isDeleted:m,searchTextContainsFolderName:R};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:e},queryParams:g})}async undeleteReleaseDefinition(e,t,s){return this.beginRequest({apiVersion:"5.0",method:"PATCH",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:t,definitionId:s},body:e})}async updateReleaseDefinition(e,t){return this.beginRequest({apiVersion:"5.0",method:"PUT",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}",routeValues:{project:t},body:e})}async getDeployments(e,t,s,r,a,i,n,o,p,l,u,c,d,m,R,g){const I={definitionId:t,definitionEnvironmentId:s,createdBy:r,minModifiedTime:a,maxModifiedTime:i,deploymentStatus:n,operationStatus:o,latestAttemptsOnly:p,queryOrder:l,$top:u,continuationToken:c,createdFor:d,minStartedTime:m,maxStartedTime:R,sourceBranch:g};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/deployments",routeValues:{project:e},queryParams:I})}async getDeploymentsForMultipleEnvironments(e,t){return this.beginRequest({apiVersion:"5.0",method:"POST",routeTemplate:"{project}/_apis/Release/deployments",routeValues:{project:t},body:e})}async getReleaseEnvironment(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.6",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}",routeValues:{project:e,releaseId:t,environmentId:s}})}async updateReleaseEnvironment(e,t,s,r){return this.beginRequest({apiVersion:"5.0-preview.6",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}",routeValues:{project:t,releaseId:s,environmentId:r},body:e})}async createDefinitionEnvironmentTemplate(e,t){return this.beginRequest({apiVersion:"5.0-preview.3",method:"POST",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:t},body:e})}async deleteDefinitionEnvironmentTemplate(e,t){const s={templateId:t};return this.beginRequest({apiVersion:"5.0-preview.3",method:"DELETE",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async getDefinitionEnvironmentTemplate(e,t){const s={templateId:t};return this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async listDefinitionEnvironmentTemplates(e,t){const s={isDeleted:t};return this.beginRequest({apiVersion:"5.0-preview.3",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async undeleteReleaseDefinitionEnvironmentTemplate(e,t){const s={templateId:t};return this.beginRequest({apiVersion:"5.0-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/Release/definitions/environmenttemplates",routeValues:{project:e},queryParams:s})}async createFavorites(e,t,s,r){const a={identityId:r};return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/favorites/{scope}",routeValues:{project:t,scope:s},queryParams:a,body:e})}async deleteFavorites(e,t,s,r){const a={identityId:s,favoriteItemIds:r};return this.beginRequest({apiVersion:"5.0-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/Release/favorites/{scope}",routeValues:{project:e,scope:t},queryParams:a})}async getFavorites(e,t,s){const r={identityId:s};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/favorites/{scope}",routeValues:{project:e,scope:t},queryParams:r})}async getFlightAssignments(e){const t={flightName:e};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/Release/flightAssignments",queryParams:t})}async createFolder(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.2",method:"POST",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:t,path:s},body:e})}async deleteFolder(e,t){return this.beginRequest({apiVersion:"5.0-preview.2",method:"DELETE",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:e,path:t}})}async getFolders(e,t,s){const r={queryOrder:s};return this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:e,path:t},queryParams:r})}async updateFolder(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.2",method:"PATCH",routeTemplate:"{project}/_apis/Release/folders/{*path}",routeValues:{project:t,path:s},body:e})}async updateGates(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/gates/{gateStepId}",routeValues:{project:t,gateStepId:s},body:e})}async getReleaseHistory(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/history",routeValues:{project:e,releaseId:t}})}async getInputValues(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/artifacts/inputvaluesquery",routeValues:{project:t},body:e})}async getIssues(e,t,s){const r={sourceId:s};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/issues/{buildId}",routeValues:{project:e,buildId:t},queryParams:r})}async getGateLog(e,t,s,r,a){return this.beginRequest({apiVersion:"5.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/gates/{gateId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,gateId:r,taskId:a}})}async getLogs(e,t){return this.beginRequest({apiVersion:"5.0-preview.2",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/logs",routeValues:{project:e,releaseId:t}})}async getLog(e,t,s,r,a){const i={attemptId:a};return this.beginRequest({apiVersion:"5.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,taskId:r},queryParams:i})}async getTaskLog2(e,t,s,r,a,i,n,o){const p={startLine:n,endLine:o};return this.beginRequest({apiVersion:"5.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:a,taskId:i},queryParams:p})}async getTaskLog(e,t,s,r,a,i,n){const o={startLine:i,endLine:n};return this.beginRequest({apiVersion:"5.0-preview.2",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/tasks/{taskId}/logs",routeValues:{project:e,releaseId:t,environmentId:s,releaseDeployPhaseId:r,taskId:a},queryParams:o})}async getManualIntervention(e,t,s){return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/manualInterventions/{manualInterventionId}",routeValues:{project:e,releaseId:t,manualInterventionId:s}})}async getManualInterventions(e,t){return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/manualInterventions/{manualInterventionId}",routeValues:{project:e,releaseId:t}})}async updateManualIntervention(e,t,s,r){return this.beginRequest({apiVersion:"5.0",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/manualInterventions/{manualInterventionId}",routeValues:{project:t,releaseId:s,manualInterventionId:r},body:e})}async getMetrics(e,t){const s={minMetricsTime:t};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/metrics",routeValues:{project:e},queryParams:s})}async getReleaseProjects(e,t){const s={artifactType:e,artifactSourceId:t};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"_apis/Release/projects",queryParams:s})}async getReleases(e,t,s,r,a,i,n,o,p,l,u,c,d,m,R,g,I,h,y,j,v,T){const V={definitionId:t,definitionEnvironmentId:s,searchText:r,createdBy:a,statusFilter:i,environmentStatusFilter:n,minCreatedTime:o,maxCreatedTime:p,queryOrder:l,$top:u,continuationToken:c,$expand:d,artifactTypeId:m,sourceId:R,artifactVersionId:g,sourceBranchFilter:I,isDeleted:h,tagFilter:y&&y.join(","),propertyFilters:j&&j.join(","),releaseIdFilter:v&&v.join(","),path:T};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/releases",routeValues:{project:e},queryParams:V})}async createRelease(e,t){return this.beginRequest({apiVersion:"5.0",method:"POST",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:t},body:e})}async deleteRelease(e,t,s){const r={comment:s};return this.beginRequest({apiVersion:"5.0",method:"DELETE",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:r})}async getRelease(e,t,s,r,a,i){const n={approvalFilters:s,propertyFilters:r&&r.join(","),$expand:a,$topGateRecords:i};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:n})}async getReleaseDefinitionSummary(e,t,s,r,a){const i={definitionId:t,releaseCount:s,includeArtifact:r,definitionEnvironmentIdsFilter:a&&a.join(",")};return this.beginRequest({apiVersion:"5.0",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e},queryParams:i})}async getReleaseRevision(e,t,s){const r={definitionSnapshotRevision:s};return this.beginRequest({apiVersion:"5.0",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:r})}async undeleteRelease(e,t,s){const r={comment:s};return this.beginRequest({apiVersion:"5.0",method:"PUT",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:e,releaseId:t},queryParams:r})}async updateRelease(e,t,s){return this.beginRequest({apiVersion:"5.0",method:"PUT",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:t,releaseId:s},body:e})}async updateReleaseResource(e,t,s){return this.beginRequest({apiVersion:"5.0",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}",routeValues:{project:t,releaseId:s},body:e})}async getReleaseSettings(e){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releasesettings",routeValues:{project:e}})}async updateReleaseSettings(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"PUT",routeTemplate:"{project}/_apis/Release/releasesettings",routeValues:{project:t},body:e})}async getDefinitionRevision(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/revisions/{revision}",routeValues:{project:e,definitionId:t,revision:s}})}async getReleaseDefinitionHistory(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/revisions/{revision}",routeValues:{project:e,definitionId:t}})}async getSummaryMailSections(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/sendmail/{releaseId}",routeValues:{project:e,releaseId:t}})}async sendSummaryMail(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/sendmail/{releaseId}",routeValues:{project:t,releaseId:s},body:e})}async getSourceBranches(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/sourcebranches",routeValues:{project:e,definitionId:t}})}async addDefinitionTag(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:e,releaseDefinitionId:t,tag:s}})}async addDefinitionTags(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:t,releaseDefinitionId:s},body:e})}async deleteDefinitionTag(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:e,releaseDefinitionId:t,tag:s}})}async getDefinitionTags(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/definitions/{releaseDefinitionId}/tags/{*tag}",routeValues:{project:e,releaseDefinitionId:t}})}async addReleaseTag(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:e,releaseId:t,tag:s}})}async addReleaseTags(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:t,releaseId:s},body:e})}async deleteReleaseTag(e,t,s){return this.beginRequest({apiVersion:"5.0-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:e,releaseId:t,tag:s}})}async getReleaseTags(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/tags/{*tag}",routeValues:{project:e,releaseId:t}})}async getTags(e){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/tags",routeValues:{project:e}})}async getTasksForTaskGroup(e,t,s,r){return this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/tasks",routeValues:{project:e,releaseId:t,environmentId:s,releaseDeployPhaseId:r}})}async getTasks2(e,t,s,r,a){return this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/tasks",routeValues:{project:e,releaseId:t,environmentId:s,attemptId:r,timelineId:a}})}async getTasks(e,t,s,r){const a={attemptId:r};return this.beginRequest({apiVersion:"5.0-preview.2",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/environments/{environmentId}/tasks",routeValues:{project:e,releaseId:t,environmentId:s},queryParams:a})}async getArtifactTypeDefinitions(e){return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/artifacts/types",routeValues:{project:e}})}async getArtifactVersions(e,t){const s={releaseDefinitionId:t};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/artifacts/versions",routeValues:{project:e},queryParams:s})}async getArtifactVersionsForSources(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/Release/artifacts/versions",routeValues:{project:t},body:e})}async getReleaseWorkItemsRefs(e,t,s,r,a){const i={baseReleaseId:s,$top:r,artifactAlias:a};return this.beginRequest({apiVersion:"5.0-preview.1",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/workitems",routeValues:{project:e,releaseId:t},queryParams:i})}},options:{resourceAreaId:"efc2f575-36ef-48e9-b672-0c6fb4a48ac5",serviceInstanceType:"0000000d-0000-8888-8000-000000000000"}})}("RestClientRelease"),function(e){t.ServiceRelease={},Object.defineProperty(t,"__esModule",{value:!0});s.Services.add("IReleaseService",{serviceFactory:class extends s.VssService{getReleaseDefinition(e){const t=this._getProjectName();return this._getClient().getReleaseDefinition(t,e)}createReleaseDefinition(e){const t=this._getProjectName();return this._getClient().createReleaseDefinition(e,t)}updateReleaseDefinition(e){const t=this._getProjectName();return this._getClient().updateReleaseDefinition(e,t)}deleteReleaseDefinition(e,t,s=!1){const r=this._getProjectName();return this._getClient().deleteReleaseDefinition(r,e,t,s)}undeleteReleaseDefinition(e,t){const s=this._getProjectName();return this._getClient().undeleteReleaseDefinition({comment:t},s,e)}getRelease(e,t,s,r,a){const i=this._getProjectName();return this._getClient().getRelease(i,e,t,s,r,a)}createRelease(e){const t=this._getProjectName();return this._getClient().createRelease(e,t)}updateRelease(e){const t=this._getProjectName();return this._getClient().updateRelease(e,t,e.id)}patchRelease(e,t){const s=this._getProjectName();return this._getClient().updateReleaseResource(t,s,e)}undeleteRelease(e,t){const s=this._getProjectName();return this._getClient().undeleteRelease(s,e,t)}deleteRelease(e,t){const s=this._getProjectName();return this._getClient().deleteRelease(s,e,t)}abandonRelease(e,t){const s={comment:t,keepForever:e.keepForever,manualEnvironments:[],status:4,name:""};return this.patchRelease(e.id,s)}retainRelease(e,t,s){const r={comment:s,keepForever:t,manualEnvironments:[],status:0,name:""};return this.patchRelease(e,r)}getTags(){return this._getClient().getTags(this._getProjectName())}getBranches(e){return this._getClient().getSourceBranches(this._getProjectName(),e)}getReleaseDefinitions(e,t,s,r,a,i,n,o,p,l,u,c,d,m){return this._getClient().getReleaseDefinitions(this._getProjectName(),e,t,s,r,a,i,n,o,p,l,u,c,d,m)}getDeployments(e,t,s,r,a,i,n,o,p,l,u,c,d,m,R){return this.pageContext.getRestClient("IExtendedReleaseClient").getDeploymentsWithContinuationToken(this._getProjectName(),e,t,s,r,a,i,n,o,p,l,u,c,d,m,R)}getApprovals(e,t,s,r,a,i,n,o){return this._getClient().getApprovals(this._getProjectName(),e,t,s,r,a,i,n,o)}getLastDeployment(e){return this.getDeployments(e,void 0,void 0,void 0,void 0,31,258047,void 0,0,1).then(e=>e.deployments[0])}createFolder(e){let t={path:e};return this._getClient().createFolder(t,this._getProjectName(),e)}updateFolder(e,t){return this._getClient().updateFolder(e,this._getProjectName(),t)}deleteFolder(e){return this._getClient().deleteFolder(this._getProjectName(),e)}listReleases(e,t=0,s="",r=0,a="",i=!1,n=[],o="",p=0,l="",u="",c="",d="",m=0,R,g,I=0,h=25,y=[],j=[]){return this.pageContext.getRestClient("IExtendedReleaseClient").getReleasesWithToken(this._getProjectName(),e,t,s,o,r,m,R,g,I,h,p,l,94,u,c,d,a,i,n,y,j)}getDefinitionEnvironmentTemplate(e){const t=this._getProjectName();return this._getClient().getDefinitionEnvironmentTemplate(t,e)}getReleaseEnvironment(e,t){const s=this._getProjectName();return this._getClient().getReleaseEnvironment(s,e,t)}_getProjectName(){const e=this.pageContext.getService("ITfsPageService").getData();if(e&&e.project)return e.project.name;throw new Error("Release rest client :: Project is not available in page data. Cannot make this network call without project information")}_getClient(){return this.pageContext.getRestClient("IReleaseRestClient")}}})}()},["RestClient/Extended","RestClient/Release","Service/Release"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-releaseManagement-web.release-client"}}));