"use strict";define("Test/Client",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization","Tfs/Platform/Page","VSS/Platform/Feature"],function(e,t,s,r,u,n,o){!function(e){t.RestClientExtended={},Object.defineProperty(t,"__esModule",{value:!0});const n="x-ms-continuationtoken";s.RestClients.add("IExtendedTestClient",{factory:class extends r.RestClientBase{async getTestResultsByBuildWithContinuationToken(e,t,s,r,o,a){const i={buildId:t,publishContext:s,outcomes:r,$top:o,continuationToken:a};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultsByBuild",routeValues:{project:e},queryParams:i,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}async getTestResultsByReleaseWithContinuationToken(e,t,s,r,o,a,i){const l={releaseId:t,releaseEnvid:s,publishContext:r,outcomes:o,$top:a,continuationToken:i};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultsByRelease",routeValues:{project:e},queryParams:l,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}getResultGroupsByBuildWithContinuationToken(e,t,s,r,o){const a={buildId:t,publishContext:s,fields:r&&r.join(","),continuationToken:o};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultGroupsByBuild",routeValues:{project:e},queryParams:a,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({fieldDetails:u.deserializeVssJsonObject(e),continuationToken:t}))})}getResultGroupsByReleaseWithContinuationToken(e,t,s,r,o,a){const i={releaseId:t,publishContext:s,releaseEnvId:r,fields:o&&o.join(","),continuationToken:a};return this.beginRequest({routeTemplate:"{project}/_apis/test/ResultGroupsByRelease",routeValues:{project:e},queryParams:i,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({fieldDetails:u.deserializeVssJsonObject(e),continuationToken:t}))})}},options:{serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}(),function(e){t.RestClientExtendedTcm={},Object.defineProperty(t,"__esModule",{value:!0});const n="x-ms-continuationtoken";s.RestClients.add("IExtendedTcmClient",{factory:class extends r.RestClientBase{async getTestResultsByPipelineWithContinuationToken(e,t,s,r,o,a,i,l){const p={pipelineId:t,stageName:s,phaseName:r,jobName:o,outcomes:a&&a.join(","),$top:i};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbypipeline",routeValues:{project:e},customHeaders:{"x-ms-continuationtoken":l},queryParams:p}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}async getTestResultsByBuildWithContinuationToken(e,t,s,r,o,a){const i={buildId:t,publishContext:s,outcomes:r,$top:o,continuationToken:a};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultsByBuild",routeValues:{project:e},queryParams:i,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}async getTestResultsByReleaseWithContinuationToken(e,t,s,r,o,a,i){const l={releaseId:t,releaseEnvid:s,publishContext:r,outcomes:o,$top:a,continuationToken:i};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultsByRelease",routeValues:{project:e},queryParams:l,apiVersion:"4.1-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}getResultGroupsByBuildWithContinuationToken(e,t,s,r,o){const a={buildId:t,publishContext:s,fields:r&&r.join(","),continuationToken:o};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultGroupsByBuild",routeValues:{project:e},queryParams:a,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({fieldDetails:u.deserializeVssJsonObject(e),continuationToken:t}))})}getResultGroupsByReleaseWithContinuationToken(e,t,s,r,o,a){const i={releaseId:t,publishContext:s,releaseEnvId:r,fields:o&&o.join(","),continuationToken:a};return this.beginRequest({routeTemplate:"{project}/_apis/tcm/ResultGroupsByRelease",routeValues:{project:e},queryParams:i,apiVersion:"5.0-preview.2",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({fieldDetails:u.deserializeVssJsonObject(e),continuationToken:t}))})}getTestLogsForBuild(e,t,s,r,o,a,i,l){const p={buildId:t,type:s,directoryPath:r,fileNamePrefix:o,fetchMetaData:a,top:i,continuationToken:l};return this.beginRequest({routeTemplate:"{project}/_apis/testresults/testlog",routeValues:{project:e},queryParams:p,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}getTestResultLogs(e,t,s,r,o,a,i,l,p){const c={type:r,directoryPath:o,fileNamePrefix:a,fetchMetaData:i,top:l,continuationToken:p};var d={};return p&&(d={"x-ms-continuationtoken":p}),this.beginRequest({routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},queryParams:c,customHeaders:d,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}getTestSubResultLogs(e,t,s,r,o,a,i,l,p,c){const d={subResultId:r,type:o,directoryPath:a,fileNamePrefix:i,fetchMetaData:l,top:p};var m={};return c&&(m={"x-ms-continuationtoken":c}),this.beginRequest({routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},queryParams:d,customHeaders:m,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}getTestRunLogs(e,t,s,r,o,a,i,l){const p={type:s,directoryPath:r,fileNamePrefix:o,fetchMetaData:a,top:i};var c={};return l&&(c={"x-ms-continuationtoken":l}),this.beginRequest({routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlog",routeValues:{project:e,runId:t},queryParams:p,customHeaders:c,apiVersion:"5.0-preview.1",returnRawResponse:!0}).then(e=>{const t=e.headers.get(n);return e.text().then(e=>({results:u.deserializeVssJsonObject(e),continuationToken:t}))})}},options:{serviceInstanceType:"00000054-0000-8888-8000-000000000000"}})}(),function(e){t[e]={},Object.defineProperty(t,"__esModule",{value:!0});t[e].TestClientName="ITestRestClient",t[e].getTestClient=function(s,r){return s.getRestClient(t[e].TestClientName,r)},s.RestClients.add(t[e].TestClientName,{factory:class extends r.RestClientBase{constructor(e){super(e)}async getTestResultAttachmentContent(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestResultAttachments(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getTestSubResultAttachmentContent(e,t,s,r,u){const n={testSubResultId:u};return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:n})}async getTestSubResultAttachments(e,t,s,r){const u={testSubResultId:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s},queryParams:u})}async getTestRunAttachmentContent(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/test/Runs/{runId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getTestRunAttachments(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Attachments/{attachmentId}",routeValues:{project:e,runId:t}})}async getBugsLinkedToTestResult(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Bugs",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getBuildCodeCoverage(e,t,s){const r={buildId:t,flags:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/CodeCoverage",routeValues:{project:e},queryParams:r})}async getCodeCoverageSummary(e,t,s){const r={buildId:t,deltaBuildId:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/CodeCoverage",routeValues:{project:e},queryParams:r})}async getPointsByQuery(e,t,s,r){const u={$skip:s,$top:r};return this.beginRequest({apiVersion:"5.1-preview.2",method:"POST",routeTemplate:"{project}/_apis/test/Points",routeValues:{project:t},queryParams:u,body:e})}async getTestResultDetailsForBuild(e,t,s,r,u,n,o,a){const i={buildId:t,publishContext:s,groupBy:r,$filter:u,$orderby:n,shouldIncludeResults:o,queryRunSummaryForInProgress:a};return this.beginRequest({apiVersion:"5.1-preview.2",routeTemplate:"{project}/_apis/test/ResultDetailsByBuild",routeValues:{project:e},queryParams:i})}async getTestResultDetailsForRelease(e,t,s,r,u,n,o,a,i){const l={releaseId:t,releaseEnvId:s,publishContext:r,groupBy:u,$filter:n,$orderby:o,shouldIncludeResults:a,queryRunSummaryForInProgress:i};return this.beginRequest({apiVersion:"5.1-preview.2",routeTemplate:"{project}/_apis/test/ResultDetailsByRelease",routeValues:{project:e},queryParams:l})}async getTestResultById(e,t,s,r){const u={detailsToInclude:r};return this.beginRequest({apiVersion:"5.1",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}",routeValues:{project:e,runId:t,testCaseResultId:s},queryParams:u})}async getTestResultsByQuery(e,t){return this.beginRequest({apiVersion:"5.1-preview.6",method:"POST",routeTemplate:"{project}/_apis/test/Results",routeValues:{project:t},body:e})}async queryTestResultsReportForBuild(e,t,s,r,u){const n={buildId:t,publishContext:s,includeFailureDetails:r,buildToCompare:u};return this.beginRequest({apiVersion:"5.1-preview.3",routeTemplate:"{project}/_apis/test/ResultSummaryByBuild",routeValues:{project:e},queryParams:n})}async createTestRun(e,t){return this.beginRequest({apiVersion:"5.1",method:"POST",routeTemplate:"{project}/_apis/test/Runs/{runId}",routeValues:{project:t},body:e})}async getTestRunById(e,t,s){const r={includeDetails:s};return this.beginRequest({apiVersion:"5.1",routeTemplate:"{project}/_apis/test/Runs/{runId}",routeValues:{project:e,runId:t},queryParams:r})}async addTestCasesToSuite(e,t,s,r){return this.beginRequest({apiVersion:"5.1",method:"POST",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{action}/{testCaseIds}",routeValues:{project:e,planId:t,suiteId:s,testCaseIds:r,action:"TestCases"}})}async queryTestHistory(e,t){return this.beginRequest({apiVersion:"5.1-preview.2",method:"POST",routeTemplate:"{project}/_apis/test/Results/TestHistory",routeValues:{project:t},body:e})}async createTestSettings(e,t){return this.beginRequest({apiVersion:"5.1",method:"POST",routeTemplate:"{project}/_apis/test/TestSettings/{testSettingsId}",routeValues:{project:t},body:e})}async deleteTestMethodToWorkItemLink(e,t,s){const r={testName:t,workItemId:s};return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/WorkItems/{workItemId}",routeValues:{project:e},queryParams:r})}async queryTestMethodLinkedWorkItems(e,t){const s={testName:t};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/WorkItems/{workItemId}",routeValues:{project:e},queryParams:s})}async queryTestResultWorkItems(e,t,s,r,u,n,o){const a={workItemCategory:t,automatedTestName:s,testCaseId:r,maxCompleteDate:u,days:n,$workItemCount:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/test/Results/WorkItems",routeValues:{project:e},queryParams:a})}},options:{resourceAreaId:"c2aa639c-3ccc-4740-b3b6-ce2a1e1d984e",serviceInstanceType:"00025394-6065-48ca-87d9-7f5672854ef7"}})}("RestClientTest"),function(e){t[e]={},Object.defineProperty(t,"__esModule",{value:!0});t[e].TestResultsClientName="ITestResultsRestClient",t[e].getTestResultsClient=function(s,r){return s.getRestClient(t[e].TestResultsClientName,r)},s.RestClients.add(t[e].TestResultsClientName,{factory:class extends r.RestClientBase{constructor(e){super(e)}async createTestIterationResultAttachment(e,t,s,r,u,n){const o={iterationId:u,actionPath:n};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:t,runId:s,testCaseResultId:r},queryParams:o,body:e})}async createTestResultAttachment(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:t,runId:s,testCaseResultId:r},body:e})}async createTestSubResultAttachment(e,t,s,r,u){const n={testSubResultId:u};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:t,runId:s,testCaseResultId:r},queryParams:n,body:e})}async deleteTestResultAttachment(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestResultAttachmentContent(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestResultAttachments(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getTestResultAttachmentZip(e,t,s,r){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r}})}async getTestSubResultAttachmentContent(e,t,s,r,u){const n={testSubResultId:u};return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:n})}async getTestSubResultAttachments(e,t,s,r){const u={testSubResultId:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s},queryParams:u})}async getTestSubResultAttachmentZip(e,t,s,r,u){const n={testSubResultId:u};return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:s,attachmentId:r},queryParams:n})}async createTestRunAttachment(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:t,runId:s},body:e})}async deleteTestRunAttachment(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getTestRunAttachmentContent(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/octet-stream",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getTestRunAttachments(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t}})}async getTestRunAttachmentZip(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",httpResponseType:"application/zip",routeTemplate:"{project}/_apis/testresults/runs/{runId}/attachments/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:s}})}async getBugsLinkedToTestResult(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testCaseResultId}/bugs",routeValues:{project:e,runId:t,testCaseResultId:s}})}async getBuildCodeCoverage(e,t,s){const r={buildId:t,flags:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/codecoverage",routeValues:{project:e},queryParams:r})}async getCodeCoverageSummary(e,t,s){const r={buildId:t,deltaBuildId:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/codecoverage",routeValues:{project:e},queryParams:r})}async updateCodeCoverageSummary(e,t,s){const r={buildId:t};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/codecoverage",routeValues:{project:e},queryParams:r,body:s})}async getTestRunCodeCoverage(e,t,s){const r={flags:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/codecoverage",routeValues:{project:e,runId:t},queryParams:r})}async getFileLevelCodeCoverage(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",httpResponseType:"text/plain",routeTemplate:"{project}/_apis/testresults/codecoverage/filecoverage",routeValues:{project:t},body:e})}async queryTestResultHistory(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/results/History",routeValues:{project:t},body:e})}async getTestRunMessageLogs(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/MessageLogs",routeValues:{project:e,runId:t}})}async getTestResultDetailsForBuild(e,t,s,r,u,n,o,a){const i={buildId:t,publishContext:s,groupBy:r,$filter:u,$orderby:n,shouldIncludeResults:o,queryRunSummaryForInProgress:a};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultdetailsbybuild",routeValues:{project:e},queryParams:i})}async getTestResultDetailsForRelease(e,t,s,r,u,n,o,a,i){const l={releaseId:t,releaseEnvId:s,publishContext:r,groupBy:u,$filter:n,$orderby:o,shouldIncludeResults:a,queryRunSummaryForInProgress:i};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultdetailsbyrelease",routeValues:{project:e},queryParams:l})}async publishTestResultDocument(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/ResultDocument",routeValues:{project:t,runId:s},body:e})}async getResultGroupsByBuild(e,t,s,r,u){const n={buildId:t,publishContext:s,fields:r&&r.join(","),continuationToken:u};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultgroupsbybuild",routeValues:{project:e},queryParams:n})}async getResultGroupsByRelease(e,t,s,r,u,n){const o={releaseId:t,publishContext:s,releaseEnvId:r,fields:u&&u.join(","),continuationToken:n};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultgroupsbyrelease",routeValues:{project:e},queryParams:o})}async queryTestResultsMetaData(e,t,s){const r={detailsToInclude:s};return this.beginRequest({apiVersion:"5.1-preview.3",method:"POST",routeTemplate:"{project}/_apis/testresults/results/ResultMetaData/{testCaseReferenceId}",routeValues:{project:t},queryParams:r,body:e})}async updateTestResultsMetaData(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/testresults/results/ResultMetaData/{testCaseReferenceId}",routeValues:{project:t,testCaseReferenceId:s},body:e})}async getTestResultsByQuery(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/results",routeValues:{project:t},body:e})}async getTestResultsByQueryWiql(e,t,s,r,u,n){const o={includeResultDetails:s,includeIterationDetails:r,$skip:u,$top:n};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/results/query",routeValues:{project:t},queryParams:o,body:e})}async addTestResultsToTestRun(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:t,runId:s},body:e})}async getTestResultById(e,t,s,r){const u={detailsToInclude:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:e,runId:t,testResultId:s},queryParams:u})}async getTestResults(e,t,s,r,u,n){const o={detailsToInclude:s,$skip:r,$top:u,outcomes:n&&n.join(",")};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:e,runId:t},queryParams:o})}async updateTestResults(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{testResultId}",routeValues:{project:t,runId:s},body:e})}async getTestResultsByBuild(e,t,s,r,u,n){const o={buildId:t,publishContext:s,outcomes:r&&r.join(","),$top:u,continuationToken:n};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbybuild",routeValues:{project:e},queryParams:o})}async getTestResultsByPipeline(e,t,s,r,u,n,o,a){const i={pipelineId:t,stageName:s,phaseName:r,jobName:u,outcomes:n&&n.join(","),$top:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbypipeline",routeValues:{project:e},customHeaders:{"x-ms-continuationtoken":a},queryParams:i})}async getTestResultsByRelease(e,t,s,r,u,n,o){const a={releaseId:t,releaseEnvid:s,publishContext:r,outcomes:u&&u.join(","),$top:n,continuationToken:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsbyrelease",routeValues:{project:e},queryParams:a})}async testResultsGroupDetails(e,t,s,r,u,n,o){const a={pipelineId:t,stageName:s,phaseName:r,jobName:u,shouldIncludeFailedAndAbortedResults:n,queryGroupSummaryForInProgress:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsgroupDetails",routeValues:{project:e},queryParams:a})}async queryTestResultsReportForBuild(e,t,s,r,u){const n={buildId:t,publishContext:s,includeFailureDetails:r,buildToCompare:u};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsummarybybuild",routeValues:{project:e},queryParams:n})}async queryTestResultsReportForPipeline(e,t,s,r,u,n){const o={pipelineId:t,stageName:s,phaseName:r,jobName:u,includeFailureDetails:n};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsummarybypipeline",routeValues:{project:e},queryParams:o})}async queryTestResultsReportForRelease(e,t,s,r,u,n){const o={releaseId:t,releaseEnvId:s,publishContext:r,includeFailureDetails:u,releaseToCompare:n};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/resultsummarybyrelease",routeValues:{project:e},queryParams:o})}async queryTestResultsSummaryForReleases(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/resultsummarybyrelease",routeValues:{project:t},body:e})}async queryTestSummaryByRequirement(e,t,s){const r={workItemIds:s&&s.join(",")};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/resultsummarybyrequirement",routeValues:{project:t},queryParams:r,body:e})}async queryResultTrendForBuild(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/ResultTrendByBuild",routeValues:{project:t},body:e})}async queryResultTrendForRelease(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/ResultTrendByRelease",routeValues:{project:t},body:e})}async createTestRun(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:t},body:e})}async deleteTestRun(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e,runId:t}})}async getTestRunById(e,t,s,r){const u={includeDetails:s,includeTags:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e,runId:t},queryParams:u})}async getTestRuns(e,t,s,r,u,n,o,a,i){const l={buildUri:t,owner:s,tmiRunId:r,planId:u,includeRunDetails:n,automated:o,$skip:a,$top:i};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e},queryParams:l})}async queryTestRuns(e,t,s,r,u,n,o,a,i,l,p,c,d,m,h,R,T){const g={minLastUpdatedDate:t,maxLastUpdatedDate:s,state:r,planIds:u&&u.join(","),isAutomated:n,publishContext:o,buildIds:a&&a.join(","),buildDefIds:i&&i.join(","),branchName:l,releaseIds:p&&p.join(","),releaseDefIds:c&&c.join(","),releaseEnvIds:d&&d.join(","),releaseEnvDefIds:m&&m.join(","),runTitle:h,$top:R,continuationToken:T};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:e},queryParams:g})}async updateTestRun(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/runs/{runId}",routeValues:{project:t,runId:s},body:e})}async getTestRunStatistics(e,t){return this.beginRequest({apiVersion:"5.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/statistics",routeValues:{project:e,runId:t}})}async getTestResultsSettings(e,t){const s={settingsType:t};return this.beginRequest({apiVersion:"5.1-preview.3",routeTemplate:"{project}/_apis/testresults/settings",routeValues:{project:e},queryParams:s})}async updatePipelinesTestSettings(e,t){return this.beginRequest({apiVersion:"5.1-preview.3",method:"PATCH",routeTemplate:"{project}/_apis/testresults/settings",routeValues:{project:t},body:e})}async getTestTagsForBuild(e,t){const s={buildId:t};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/tags",routeValues:{project:e},queryParams:s})}async getTestTagsForRelease(e,t,s){const r={releaseId:t,releaseEnvId:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/tags",routeValues:{project:e},queryParams:r})}async updateTestRunTags(e,t,s){return this.beginRequest({apiVersion:"5.1-preview.1",method:"PATCH",routeTemplate:"{project}/_apis/testresults/runs/{runId}/tags",routeValues:{project:t,runId:s},body:e})}async getTestTagSummaryForBuild(e,t){const s={buildId:t};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/tagsummary",routeValues:{project:e},queryParams:s})}async getTestTagSummaryForRelease(e,t,s){const r={releaseId:t,releaseEnvId:s};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/tagsummary",routeValues:{project:e},queryParams:r})}async queryTestHistory(e,t){return this.beginRequest({apiVersion:"5.1-preview.2",method:"POST",routeTemplate:"{project}/_apis/testresults/results/TestHistory",routeValues:{project:t},body:e})}async getTestLogsForBuild(e,t,s,r,u,n,o,a){const i={buildId:t,type:s,directoryPath:r,fileNamePrefix:u,fetchMetaData:n,top:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/testlog",routeValues:{project:e},customHeaders:{"x-ms-continuationtoken":a},queryParams:i})}async getTestResultLogs(e,t,s,r,u,n,o,a,i){const l={type:r,directoryPath:u,fileNamePrefix:n,fetchMetaData:o,top:a};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},customHeaders:{"x-ms-continuationtoken":i},queryParams:l})}async getTestSubResultLogs(e,t,s,r,u,n,o,a,i,l){const p={subResultId:r,type:u,directoryPath:n,fileNamePrefix:o,fetchMetaData:a,top:i};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlog",routeValues:{project:e,runId:t,resultId:s},customHeaders:{"x-ms-continuationtoken":l},queryParams:p})}async getTestRunLogs(e,t,s,r,u,n,o,a){const i={type:s,directoryPath:r,fileNamePrefix:u,fetchMetaData:n,top:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlog",routeValues:{project:e,runId:t},customHeaders:{"x-ms-continuationtoken":a},queryParams:i})}async getTestLogStoreEndpointDetailsForBuildLog(e,t,s,r){const u={build:t,type:s,filePath:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/testlogstoreendpoint",routeValues:{project:e},queryParams:u})}async testLogStoreEndpointDetailsForBuild(e,t,s){const r={buildId:t,testLogStoreOperationType:s};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testlogstoreendpoint",routeValues:{project:e},queryParams:r})}async getTestLogStoreEndpointDetailsForResultLog(e,t,s,r,u){const n={type:r,filePath:u};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlogstoreendpoint",routeValues:{project:e,runId:t,resultId:s},queryParams:n})}async getTestLogStoreEndpointDetailsForSubResultLog(e,t,s,r,u,n){const o={subResultId:r,type:u,filePath:n};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlogstoreendpoint",routeValues:{project:e,runId:t,resultId:s},queryParams:o})}async testLogStoreEndpointDetailsForResult(e,t,s,r,u,n){const o={subResultId:r,filePath:u,type:n};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/results/{resultId}/testlogstoreendpoint",routeValues:{project:e,runId:t,resultId:s},queryParams:o})}async getTestLogStoreEndpointDetailsForRunLog(e,t,s,r){const u={type:s,filePath:r};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlogstoreendpoint",routeValues:{project:e,runId:t},queryParams:u})}async testLogStoreEndpointDetailsForRun(e,t,s,r,u){const n={testLogStoreOperationType:s,filePath:r,type:u};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/runs/{runId}/testlogstoreendpoint",routeValues:{project:e,runId:t},queryParams:n})}async createTestSettings(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testsettings",routeValues:{project:t},body:e})}async deleteTestSettings(e,t){const s={testSettingsId:t};return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/testsettings",routeValues:{project:e},queryParams:s})}async getTestSettingsById(e,t){const s={testSettingsId:t};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/testsettings",routeValues:{project:e},queryParams:s})}async addWorkItemToTestLinks(e,t){return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testmethods/workitems",routeValues:{project:t},body:e})}async deleteTestMethodToWorkItemLink(e,t,s){const r={testName:t,workItemId:s};return this.beginRequest({apiVersion:"5.1-preview.1",method:"DELETE",routeTemplate:"{project}/_apis/testresults/testmethods/{testName}/workitems/{workItemId}",routeValues:{project:e},queryParams:r})}async queryTestMethodLinkedWorkItems(e,t){const s={testName:t};return this.beginRequest({apiVersion:"5.1-preview.1",method:"POST",routeTemplate:"{project}/_apis/testresults/testmethods/{testName}/workitems/{workItemId}",routeValues:{project:e},queryParams:s})}async queryTestResultWorkItems(e,t,s,r,u,n,o){const a={workItemCategory:t,automatedTestName:s,testCaseId:r,maxCompleteDate:u,days:n,$workItemCount:o};return this.beginRequest({apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/testresults/results/workitems",routeValues:{project:e},queryParams:a})}},options:{serviceInstanceType:"00000054-0000-8888-8000-000000000000"}})}("RestClientTestResults"),function(e){t.TestManagementServices={},Object.defineProperty(t,"__esModule",{value:!0}),t.TestManagementServices.TestManagementServiceName="ITestManagementService";class r extends s.VssService{_serviceStart(e){super._serviceStart(e);let t=n.getTFSPageData(e);this._projectName=t&&t.project?t.project.name:"",this._tfsClient=e.getRestClient("ITestRestClient"),o.isFeatureFlagEnabled(e,"WebAccess.TestManagement.QueryFromTcmService",!1)?(this._extendedClient=e.getRestClient("IExtendedTcmClient"),this._client=e.getRestClient("ITestResultsRestClient"),this._isTCMClient=!0):(this._extendedClient=e.getRestClient("IExtendedTestClient"),this._client=this._tfsClient,this._isTCMClient=!1)}queryTestResultsReportForBuild(e,t,s){return this._client.queryTestResultsReportForBuild(this._projectName,e,t,s).then(e=>e,e=>(console.log(e),Promise.resolve(null)))}getTestResultsByGroupForBuild(e,t,s,r,u,n,o){return this._client.getTestResultDetailsForBuild(this._projectName,e,t,s,r,u,n,o).then(e=>e,e=>(console.log(e),Promise.resolve(null)))}getTestResultsByGroupForRelease(e,t,s,r,u,n,o,a){return this._client.getTestResultDetailsForRelease(this._projectName,e,t,s,r,u,n,o,a)}getTestResultsByQuery(e){return this._client.getTestResultsByQuery(e,this._projectName)}getResultById(e,t,s){return this._client.getTestResultById(this._projectName,e,t,s||0)}getTestRunById(e,t,s){return!0===this._isTCMClient?this._client.getTestRunById(this._projectName,e,t,s):this._client.getTestRunById(this._projectName,e,t)}getCodeCoverageSummary(e){return this._tfsClient.getCodeCoverageSummary(this._projectName,e)}getBuildCodeCoverage(e,t){return this._tfsClient.getBuildCodeCoverage(this._projectName,e,t)}getTestResultsByBuildWithContinuationToken(e,t,s,r,u){return this._extendedClient.getTestResultsByBuildWithContinuationToken(this._projectName,e,t,s,r,u)}getTestResultsByReleaseWithContinuationToken(e,t,s,r,u,n){return this._extendedClient.getTestResultsByReleaseWithContinuationToken(this._projectName,e,t,s,r,u,n)}getResultGroupsByBuild(e,t,s,r){return this._extendedClient.getResultGroupsByBuildWithContinuationToken(this._projectName,e,t,s,r)}getResultGroupsByRelease(e,t,s,r,u){return this._extendedClient.getResultGroupsByReleaseWithContinuationToken(this._projectName,e,s,t,r,u)}queryTestHistory(e){return this._client.queryTestHistory(e,this._projectName)}getRecentBugs(e,t,s){return this._client.queryTestResultWorkItems(this._projectName,"Microsoft.BugCategory",e,t,void 0,s)}getAssociatedBugs(e,t){return this._client.getBugsLinkedToTestResult(this._projectName,e,t)}deleteTestMethodToWorkItemLink(e,t){return this._client.deleteTestMethodToWorkItemLink(this._projectName,e,t)}getTestMethodLinkedWorkItems(e){return this._client.queryTestMethodLinkedWorkItems(this._projectName,e)}getTestRunAttachments(e){return this._client.getTestRunAttachments(this._projectName,e)}getTestResultAttachments(e,t){return this._client.getTestResultAttachments(this._projectName,e,t)}getTestSubResultAttachments(e,t,s){return this._client.getTestSubResultAttachments(this._projectName,e,t,s)}getTestRunAttachmentContent(e,t){return this._client.getTestRunAttachmentContent(this._projectName,e,t)}getTestResultAttachmentContent(e,t,s){return this._client.getTestResultAttachmentContent(this._projectName,e,t,s)}getTestSubResultAttachmentContent(e,t,s,r){return this._client.getTestSubResultAttachmentContent(this._projectName,e,t,s,r)}getTestRunLogs(e,t,s,r,u,n,o){return this._extendedClient.getTestRunLogs(this._projectName,e,t,s,r,u,n,o)}getTestResultLogs(e,t,s,r,u,n,o,a){return this._extendedClient.getTestResultLogs(this._projectName,e,t,s,r,u,n,o,a)}getTestSubResultLogs(e,t,s,r,u,n,o,a,i){return this._extendedClient.getTestSubResultLogs(this._projectName,e,t,s,r,u,n,o,a,i)}getTestLogStoreEndpointDetailsForRunLog(e,t,s){return this._client.getTestLogStoreEndpointDetailsForRunLog(this._projectName,e,t,s)}getTestLogStoreEndpointDetailsForResultLog(e,t,s,r){return this._client.getTestLogStoreEndpointDetailsForResultLog(this._projectName,e,t,s,r)}getTestLogStoreEndpointDetailsForSubResultLog(e,t,s,r,u){return this._client.getTestLogStoreEndpointDetailsForSubResultLog(this._projectName,e,t,s,r,u)}getTestTagsForBuild(e){return this._client.getTestTagsForBuild(this._projectName,e)}getTestTagsForRelease(e,t){return this._client.getTestTagsForRelease(this._projectName,e,t)}getTestTagSummaryForBuild(e){return this._client.getTestTagSummaryForBuild(this._projectName,e)}getTestTagSummaryForRelease(e,t){return this._client.getTestTagSummaryForRelease(this._projectName,e,t)}updateTestResultsMetaData(e,t){return this._client.updateTestResultsMetaData(t,this._projectName,e)}getTestResultsGroupDetails(e,t,s,r,u,n){return this._client.testResultsGroupDetails(this._projectName,e,t,s,r,u,n)}}t.TestManagementServices.TestManagementService=r,s.Services.add(t.TestManagementServices.TestManagementServiceName,{serviceFactory:r})}()},["RestClient/Extended","RestClient/ExtendedTcm","RestClient/Test","RestClient/TestResults","TestManagementServices"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-test-web.common-client"}}));