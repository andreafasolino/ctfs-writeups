"use strict";define("Build/Flux",["require","exports"],function(t,e){var i,n;!function(t){i=e.Action={},Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(){this._listeners=[]}invoke(t){if(n.s_executing)throw new Error("Cannot invoke an action from inside another action.");n.s_executing=!0;try{this._listeners.forEach(e=>{e(t)})}finally{n.s_executing=!1}}addListener(t,e){let i=e?t.bind(e):t;return this._listeners.push(i),i}removeListener(t){let e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)}}n.s_executing=!1,e.Action.Action=n}(),function(t){n=e.SourcesContribution={},Object.defineProperty(e,"__esModule",{value:!0});e.SourcesContribution.ContributionSource=class{constructor(t){this._pageContext=t.pageContext}getDataAsync(t,e,i=!1){return this._service.getDataAsync(t,e,i)}getData(t,e){return this._service.getData(t,e)}getSharedData(t){return this._service.getSharedData(t)}getContributions(t){return Promise.all(t.map(t=>this._service.getContributionAsync(t)))}get _service(){return this._pageContext.getService("IVssContributionService")}}}(),function(t){e.ActionsContributionData={},Object.defineProperty(e,"__esModule",{value:!0});e.ActionsContributionData.ContributionDataActionCreator=class{constructor(t){this._defaultErrorHandler=(t=>{console.error(t)}),this._actionHub=t.actionHub||new r,this._dataParser=t.dataParser,this._source=new n.ContributionSource({pageContext:t.pageContext}),this._errorHandler=t.errorHandler||this._defaultErrorHandler}fetchContributionData(t,e,i=!1,n){this._source.getDataAsync(t,e,i).then(t=>{if(t){const i=this._dataParser(t);this._actionHub.contributionDataAvailable.invoke(i),n&&n(i,e)}}).catch(this._errorHandler)}};class r{constructor(){this._contributionDataAvailable=new i.Action}get contributionDataAvailable(){return this._contributionDataAvailable}}e.ActionsContributionData.ContributionDataActionHub=r}(),e.Common={},Object.defineProperty(e,"__esModule",{value:!0}),function(t){e.Store={},Object.defineProperty(e,"__esModule",{value:!0});e.Store.Store=class{constructor(){this._listeners=[]}addListener(t){this.addCustomListener(t,this._listeners)}removeListener(t){this.removeCustomListener(t,this._listeners)}dispose(){this._listeners=[]}addCustomListener(t,e){(e=e||this._listeners||[]).push(t)}removeCustomListener(t,e){const i=(e=e||this._listeners||[]).indexOf(t);i>-1&&e.splice(i,1)}emitChanged(t,e){(e=e||this._listeners||[]).forEach(e=>e(t))}}}()},["Action","Sources/Contribution","Actions/ContributionData","Common","Store"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-build-web.common-flux"}}));