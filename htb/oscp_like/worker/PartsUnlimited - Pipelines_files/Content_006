if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-async'); }
// Copyright (C) Microsoft Corporation. All rights reserved.
var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("PipelineWorkflow/Scripts/Shared/LegacyLWP/PrefetchPipelineWorkFlow",["require","exports","react","VSS/LWP","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return u.using(["PipelineWorkflow/Scripts/Extensions/ReleaseProgressExtension","PipelineWorkflow/Scripts/Extensions/Hub","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseExtension"],function(){}),i.createElement("div",null)},t}(i.Component),e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",null)},t}(i.Component);r.registerLWPComponent("prefetch-progressview-editor",f);r.registerLWPComponent("prefetch-create-release-panel",e)});

define("DistributedTaskControls/Common/JQueryWrapper",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.extend=function(n,t){return $.extend(n,t)},n.extendDeep=function(n,t){return $.extend(!0,n,t)},n.isFunction=function(n){return $.isFunction(n)},n.closest=function(n,t){if(n.closest)return n.closest(t);var r=document.querySelectorAll(t),i=0;do for(i=r.length;--i>=0&&r.item(i)!==n;);while(i<0&&(n=n.parentElement));return n},n}();t.JQueryWrapper=i});

define("DistributedTaskControls/Common/Factory",["require","exports","DistributedTaskControls/Common/JQueryWrapper","VSS/Utils/String"],function(n,t,i,r){var u,f,e,s,o,h;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(){if(!n._allowPrivateInstantiation)throw new Error("Error: Instantiating an object of Singleton class is not allowed. Please use the instance method");}return n.getInstance=function(t){return this._instance||(n._allowPrivateInstantiation=!0,this._instance=new t({}),n._allowPrivateInstantiation=!1),this._instance},n.dispose=function(){this._instance=null},n._allowPrivateInstantiation=!1,n._instance=null,n}();t.Singleton=u;f=function(){function n(){}return n.create=function(n,t){return this.createObject(n,t)},n.createObject=function(n,t){var i,r;if(t)return new n(t);i=Object.create(n.prototype);try{return r=i.constructor(t),r?r:i}catch(u){return new i.constructor(t)}},n}();t.Factory=f;e=function(){function n(){}return n.getKey=function(){throw new Error("This method needs to be implemented in derived classes");},n}();t.KeyMonikerProvider=e;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(e);t.Initializable=s;o=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._instanceMap={},t}return __extends(t,n),t.prototype.dispose=function(){var n=this;Object.keys(this._instanceMap).forEach(function(t){n._deleteInstance(t)});this._instanceMap={}},t.prototype.getAllObjects=function(n){var r=n.getKey().toLowerCase(),i=[];for(var t in this._instanceMap)this._instanceMap.hasOwnProperty(t)&&t.indexOf(r)===0&&i.push(this._instanceMap[t]);return i},t.prototype.getObject=function(n,t){var f=n.prototype.constructor.length,u,i;if(f>0){if(u=this._getInstanceKey(n,t),i=this._instanceMap[u],i)return i;throw new Error(r.format("Object requested is not created yet. Ensure that the object is created before it is queried. {0}",n));}else return this.createObject(n,t,null)},t.prototype.removeObject=function(n,t){var i=this._getInstanceKey(n,t);this._deleteInstance(i)},t.prototype.createObject=function(n,t,i){var u=this._getInstanceKey(n,t),r=this._instanceMap[u];if(!r){r=f.createObject(n,i);this.onObjectCreated(r,t);this._instanceMap[u]=r}return r},t.prototype._getInstanceKey=function(n,t){var i=n.getKey();return t&&(i=i+"."+t),i.toLowerCase()},t.prototype._deleteInstance=function(n){var t=this._instanceMap[n],r;t&&(r=t.__dispose,r&&i.JQueryWrapper.isFunction(r)&&t.__dispose(),delete this._instanceMap[n])},t}(u);t.BaseManager=o;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.onObjectCreated=function(n,t){n.initialize(t)},t}(o);t.Manager=h});

define("DistributedTaskControls/Common/Actions/ActionCreatorManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetActionCreator=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.CreateActionCreator=function(i,r,u){return n.getInstance.call(this,t).createObject(i,r,u)},t.DeleteActionCreator=function(i,r){n.getInstance.call(this,t).removeObject(i,r)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.ActionCreatorManager=r});

define("DistributedTaskControls/Common/Stores/StoreManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetStore=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.CreateStore=function(i,r,u){return n.getInstance.call(this,t).createObject(i,r,u)},t.DeleteStore=function(i,r){n.getInstance.call(this,t).removeObject(i,r)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.StoreManager=r});

define("DistributedTasksCommon/TFS.Tasks.Common.Variables",["require","exports","VSS/Utils/String","VSS/VSS"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(){}return n.CollectionId="system.collectionId",n.TeamProject="system.teamProject",n.DefinitionId="system.definitionId",n}();t.ImplicitVariableNames=u;f=function(){function n(){}return n.GetImplicitVariables=function(t){var i=[],r=n._getVariableFactories();return Object.keys(r).forEach(function(n){i.push(r[n](t))}),i},n._getVariableFactories=function(){return n._factories||(n._factories={},n._addFactory(u.CollectionId,function(n){return n.collection.id},!1),n._addFactory(u.TeamProject,function(n){return n.project.name},!1),n._addFactory(u.DefinitionId,function(){return""},!1)),n._factories},n._addFactory=function(t,i,r){n._factories[t]=function(n){return{name:t,value:i(n),allowOverride:r,isSecret:!1}}},n.IsImplicitVariable=function(t){for(var r in n._getVariableFactories())if(i.localeIgnoreCaseComparer(t,r)===0)return!0;return!1},n._factories=null,n}();t.ImplicitVariables=f;r.tfsModuleLoaded("TFS.Tasks.Common.Variables",t)});

define("DistributedTaskControls/Common/Actions/ActionsHubManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetActionsHub=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.GetAllActionsHub=function(i){return n.getInstance.call(this,t).getAllObjects(i)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.ActionsHubManager=r});

define("DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls",["require","exports"],function(require,exports){var e=exports;e.WizardSave="Save";e.WizardNext="Next";e.PhaseSkippedText="The job was skipped due to an unsatisfied condition.";e.DeploymentGroupPhaseHelpMarkDown="[More Information](https://go.microsoft.com/fwlink/?LinkId=852588)";e.AgentConnectingSubText="Connecting...";e.TomorrowFormat="tomorrow at {0}";e.RemoveTaskDescription="Click to remove the task";e.CreateAutoSpnFooter="A new Azure Service Principal will be created and assigned with \u0026quot;Contributor\u0026quot; role, having access to all the resources in the selected subscription.\u003cbr/\u003e\u003cbr/\u003eIf your subscription is not listed above, or your organization is not backed by Azure Active Directory or to specify an existing Service Principal click";e.VariableScopeFilterSearchBoxAriaLabel="Scope search";e.NoMatchingSubscriptionFound="No matching subscription or service connection found";e.CancelButtonText="Cancel";e.DownloadLogMenuitemLabel="Download the log";e.RunOnServerTaskTypeDescription="Tasks are shown that will run on the server. Currently, only one task is allowed in a server job.";e.DistributedTaskOverviewWarning="\"Distributed task overview warning\"";e.VariableNamePlaceHolder="name (required)";e.AgentPhaseTitle="Agent job";e.ARIALabelProcessVariablesTable="Pipeline variables table";e.JobCancellingStatus="Canceling";e.SearchTemplateDescription="Search for the pipeline template to apply";e.AgentAcquisitionRunAsLaunchAgentServiceText="To run as a LaunchAgent service see \u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://go.microsoft.com/fwlink/?LinkID=821556\"\u003ehere\u003c/a\u003e";e.VariableGroupsNeedAttention="Some variable groups need attention";e.VariableNameDuplicateMessageNoScope="Variable \u0027{0}\u0027 is already defined";e.SpecialCharactersNotAllowedErrorMessage="\u0027\u003c\u0027, \u0027\u003e\u0027, \u0027|\u0027, \u0027\\\u0027, \u0027:\u0027, \u0027$\u0027, \u0027@\u0027, \u0027\"\u0027, \u0027/\u0027 are not allowed.";e.EditorShortKeyGroup="Editor";e.TargetsText="targets";e.AgentQueueDropdownNoRegisteredAgents="(No agents)";e.CopyContentHelpDocsLinkTitle="[more information about YAML builds]";e.EnvironmentVariableNameSpaceErrorTooltip="Environment variable name cannot contain spaces";e.TargetsLabel="Targets";e.GitHubConnectionDeletedMessage="The service connection for the “{0}” repository no longer exists. To fix this problem, create or select a service connection.";e.SubscriptionIdInvalid="Subscription ID must be a valid GUID";e.MetataskInstanceNameFormat="Task group: {0} {1}";e.ConnectionLabel="Connection:";e.PhaseIssuesHeaderText="Job issues";e.NoExtensionAvailableText="There are no extensions to display";e.AgentAcquisitionPlatformOsxVersion="macOS {0}";e.HoursAgoCompactFormat="{0}h ago";e.TaskItemListDescription="Don\u0027t see what you need?";e.MoreTaskLogOptionsEllipsesButtonAriaLabel="More task log options";e.TaskLogExpandedViewCloseButtonAriaLabel="Close expanded view";e.Errors="{0} errors";e.MetataskControlOptionsTooltipText="Setting the control option as \u0027false\u0027 in the task group will override the control option value in the sub tasks. Else, it honors the value set in sub tasks. [Read more](https://go.microsoft.com/fwlink/?LinkId=761053).";e.VerifyServiceEndpointFailureSuggestion="Note: Verification may fail if the URL is not accessible from {0}. However, it might still be valid and accessible from the agent that executes Build/Release.";e.ConditionSelector_SucceededOrFailedInRelease="Even if a previous task has failed, unless the deployment was canceled";e.AuthorizedUsingOAuthFormat="Authorized as user \u0027{0}\u0027";e.ErrorSavingEndpointPolicyDuringCreation="Service connection was created successfully, but there was an error in loading policy.\\n";e.RunOnServerPhaseHeaderTooltip="Group of tasks that will run on server";e.IssuesButtonAriaLabel="View job issues";e.Task_ErrorMessageForAzureEndpoint="Selected Azure service connection in the current task has been updated to service connection type \u0027Azure\u0027 under \u0027Services\u0027 tab. Update Azure connection type field for the current task with value \u0027Azure Classic\u0027.";e.PhaseRunOnServerTitle="Run on server";e.PredefinedVariables="Predefined variables";e.ARIADescriptionAddPhaseEllipsisButton="Show add phase contextual menu";e.JobInProgressStatus="In progress";e.RefreshAgentQueueDescription="Refresh the agent pool";e.QueuedStatusLabel="Queued";e.Task_TestCategoryText="Test";e.PhaseExecutionPlanHeader="Execution plan";e.EnterValidServerUrl="Enter a valid, absolute server URL";e.SelectRepositoryTitle="Select a repository";e.AuthorizationInprogressInfoMessage="Configuring the Azure service connection...";e.VariableGroupHeaderExpandedAriaLabel="Collapse variable group";e.Warnings="{0} warnings";e.AddTaskToPhase="Add a task to {0}";e.SettableAtQueueTimeTitleText="Variable \u0027{0}\u0027 settable at queue time.";e.FlatViewTextInputCellDescription="Press enter or spacebar to edit this cell.";e.EmptyText="Empty";e.LinkSettings="Link settings";e.BranchFilterAriaLabel="Branch filter";e.EqualSymbol=" = ";e.AuthorizedUsingPAT="Authorized using personal access token";e.NoDaySelectedError="You must select at least one day.";e.ScopeText="Scope";e.ARIALabelScheduledTriggerTimeMinute="Trigger time - minutes";e.ManageInputDescription="Manage {0}. Page will open in new tab.";e.Friday="Fri";e.PhaseConditionCustomConditionText="Custom condition using variable expressions";e.PhaseConditionCustomConditionHelp="Specifies an expression that controls when this job should run. [More information](https://go.microsoft.com/fwlink/?linkid=851344)";e.EnabledLabel="Enabled";e.VariableGroupDeletedMessage="This variable group no longer exists. Remove the entry from the pipeline.";e.NoResultsFoundText="No results found.";e.Tuesday="Tue";e.LogsComponentContentRegionAriaLabel="Task log content region";e.GenerateLinkText="generate";e.DeletePhaseDialogText="You are about to delete the \u0027{0}\u0027 job and all its settings. This action cannot be reversed.";e.BranchFilterForBuildPlaceholder="Select a branch or use a variable";e.DisplayNameText="Display name";e.Task_PreviewMajorVersionSpecFormat="{0} (preview)";e.PhaseSelectDependenciesLabel="Select dependencies";e.VariablesGridViewLabel="Grid";e.Delete="Delete";e.Deploy="Deploy";e.PhaseSummaryQueueTimeText="Queue time: {0}";e.LinkedVariableGroupsText="Variable groups";e.TimeoutTitle="Timeout";e.LinkVGPanelCloseButtonAriaLabel="Close variable groups panel";e.Authorizing="Authorizing";e.VariablesNeedAttention="Some variables need attention";e.Task_AddServiceEndpointTitle="Add";e.Utility="Utility";e.AgentAcquisitionDialogTitle="Get agent";e.TaskAdded="Task added";e.Monday="Mon";e.EnvironmentVariableNameEmptyErrorTooltip="Environment variable name is required";e.Manage="Manage";e.MoreInformationTooltipText="More Information";e.TasksEnabled="Tasks enabled";e.YearsAgoCompactFormat="{0}y ago";e.ChangeTypeText="Change Type";e.ARIALabelMaxTargetsInParallel="Maximum number of targets in parallel";e.EmptyFolderMessage="No items in this folder.";e.ARIALabelEnvironmentVariablesTable="Environment variables table";e.Browse="Browse";e.AgentQueuesText="Agent pools";e.Thursday="Thu";e.ByText="by";e.CyclicDependencyErrorMessageNodeSeparator=", ";e.AgentAcquisitionPlatformWindows="Windows";e.JobsAheadText="jobs are ahead of this one";e.IntegerInRangeErrorMessage="You must specify an integer from {0} to {1}.";e.Cancel="Cancel";e.SearchInputDescription="Search {0} on server";e.ProcessParameterGroupLabel="Parameters";e.ARIALabelDemandsTable="Demands table";e.ARIALabelVariablesRightPane="Variables Tab - Right details pane";e.UseBasicDescription="Create a new service connection authenticated with a username and password";e.Create="Create";e.Custom="Custom";e.InstallCountText="{0} installs";e.EndpointCreationOperationFailed="Service connection creation operation failed";e.NameLabel="Name";e.AdvancedOptionText="Advanced";e.WaitingForRunningJobsToFinish="Waiting for the currently running jobs to finish";e.ParallelismTitle="Parallelism";e.AgentAcquisitionDownloadAgentTitle="Download the agent";e.ProjectCollection="Project collection";e.ControlOptionsText="Control Options";e.PositiveValidCancelTimeoutErrorMessage="You must specify an integer from {0} to 60 for job cancellation timeout.";e.InvalidRefNameInput="A valid reference name can only contain \u0027a-z\u0027, \u0027A-Z\u0027, \u00270-9\u0027 and \u0027_\u0027.";e.DisabledLabel="Disabled";e.ForYearsSingularFormat="{0} year";e.ConnectionStatusVerifying="Verifying...";e.SelectTimezoneDescription="Select the time zone for the schedule";e.DeleteVariableTitleText="Delete variable \u0027{0}\u0027";e.PositiveValidNumberErrorMessage="You must specify an integer from 0 to 1000000000.";e.TaskLogStepOverviewErrorLogsDescription="This task has error logs summary associated with it.";e.Tasks_MenuEnableText="Enable selected task(s)";e.RunOnMachineGroupPhaseName="Run on machine group";e.AboutToStart="about to start";e.ConditionSelectorCustomConditionTooltip="Specifies an expression that controls when this task should run. [More information](https://go.microsoft.com/fwlink/?linkid=842996)";e.Task_ToolCategoryText="Tool";e.AddInputDescription="Add {0}";e.RequiredInputErrorMessage="This setting is required.";e.VariableScopeLabel="Scope of {0}";e.CommandBarEllipsesAriaLabel="More options";e.AgentAcquisitionRunAsSystemDServiceText="To run as a SystemD service see \u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://go.microsoft.com/fwlink/?LinkID=821557\"\u003ehere\u003c/a\u003e";e.ARIADescriptionTaskGroupDialogCreateDescription="Create a task group";e.ConfigAsCodeText="Configuration as code";e.DeleteTemplateConfirmMessage="Are you sure you want to permanently delete the \u0027{0}\u0027 template?";e.FetchingAgentInformationText="Fetching agent information";e.QueuePositionLabel="Position";e.DeleteText="Delete";e.Task_PackageCategoryText="Package";e.UsePAT="Authorize with a GitHub personal access token";e.DurationFormatSeconds="{0} seconds";e.Update="Update";e.EditDefinitionNamePlaceHolder="Enter pipeline name";e.HourSuffix="h";e.InProgressTaskLogStepOverviewAriaLabel="{0}, {1}, running for {2}";e.ViewQueueDescription="Click to view the agent pool.";e.OptionsLeftPaneARIALabel="Options left pane";e.Undelete="Undelete";e.FolderPickerRowLabel="Folder picker row";e.SettableAtQueueTimeText="Settable at queue time";e.UseAutoSpnUpdateWindowFooter="To renew the Service Principal Key automatically click";e.TaskDeletedMessage="This task is no longer installed. Re-install the task or remove it from your pipeline.";e.ConcurrencyLimitsLearnMore="Not expecting to see this here? We have recently enabled parallel job limits. [Learn more](https://aka.ms/concurrency-limits)";e.RunOnAgentPhaseHeaderTooltip="Group of tasks that will run on an agent";e.DGARIADescriptionRequiredTags="Deploy to subset of targets in the deployment group using tags. For example – Web, DB etc.";e.Task_HelpMessageForTaskCategory="Categorizes the task according to the selected option.";e.DraftText="Draft";e.Task_MiscCategoryText="Miscellaneous";e.Skipped="skipped";e.RequiredTagsLabel="Required tags";e.TaskGroupViewYamlError="Task group has not been exported, task groups are not supported yet";e.PhaseAdditionalOptionsHeader="Additional options";e.HelpShortKey="Help";e.ARIALabelTaskGroupConfigurationParameterValue="{0} value";e.InfoCalloutAriaLabel="More information about {0}";e.GetText="Get";e.ARIALabelVariablesLeftPane="Variables Tab - Left pane";e.Hidden="Hidden";e.WaitingForAvailableAgent="Waiting for an available agent";e.UpdateAutoSpnFooter="Azure Service Principal key will be renewed for this service connection.\u003cbr/\u003e\u003cbr/\u003eTo update using an existing Service Principal click";e.ARIALabelDismissErrorMessage="Dismiss error message";e.Tasks_MenuManageMetaTask="Manage task group";e.ParallelismNoneOptionText="None";e.DeploymentGroupHelpMarkdown="A deployment group job executes the tasks that are defined in the job on some or all of the targets in the deployment group.\u003cbr/\u003e\u003cbr/\u003eDeployment groups make it easy to define groups of target servers for deployment. A deployment group is a logical set of deployment targets that each have an agent installed. [Learn more...](https://go.microsoft.com/fwlink/?linkid=856339)";e.NoSearchResultsFoundText="No results found for ";e.SearchInputText="Search button for searching build pipelines";e.PrivateAgentsBusyText="All eligible agents are busy";e.PhaseConditionAlwaysText="Even if a previous job has failed";e.MoreDetails="More details";e.DeploymentJobCancelTimeoutDescription="Specifies the maximum waiting time for a deployment job to respond to a cancellation request before being terminated by the server. A zero value will cause the timeout for the parent pipeline to be used.";e.ForConjunctionInFriendlyDate="for";e.VariableGroupUnaccessibleMessage="You do not have permissions to view this variable group";e.TimeoutDescription="Specifies the maximum time, in minutes, a deployment is allowed to execute on an agent before being canceled by the server. \u003cbr\u003eDuration is measured after the pre-approval is completed and before the post-approval is requested. \u003cbr\u003eA zero value will cause the timeout for the parent pipeline to be used.";e.PhaseRunOnMachineGroupDeploymentTitle="Run on deployment group";e.SearchTaskAriaLabel="Search task";e.ComboBoxInvalidErrorMessage="Invalid Value";e.AgentlessPhaseTitle="Agentless job";e.ChangeVariableTypeToSecret="Change variable type to secret";e.OpenLinkVariableGroupPanelButton="Link variable group";e.PhaseSummaryStartTimeText="Started: {0}";e.RealmName="Realm name";e.BreadcrumbOverflowAriaLabel="More folders";e.PlainVariable="Plain variable";e.PhaseSelectDependenciesLabelFormat="Select job dependencies, {0}";e.DaysAgoFormat="{0} days ago";e.AgentRequestQueued="Queueing the job";e.SourcesConnectionNameFormat="{0} connection {1}";e.AuthRequiredMessage="We need your authorization to access your repositories";e.MaxAgentsTitle="Maximum number of agents";e.DeleteTemplateConfirmHeader="Delete template";e.ARIADescriptionRequiredTags="Machines matching the specified tags will be targeted for deployment. Example – Web, DB etc.";e.FailedToFindEndpointUIContribution="Failed to find service connection UI contribution {0}";e.Task_TaskRenameTooltip="Rename";e.VariablesNeedAttentionSingleScope="Errors in \u0027{0}\u0027 variables";e.SystemPrerequisites="System prerequisites";e.NoMatchingRepositoriesFoundText="No matching repositories found";e.AgentAcquisitionConfigureAccountHtml="Configure your account by following the steps outlined \u003ca target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://aka.ms/vstsagentroles\"\u003ehere\u003c/a\u003e.";e.EnableAccessTokenLabel="Allow scripts to access the OAuth token";e.Tasks_MenuRemoveTasks="Remove selected task(s)";e.VariableGroupNoResult="No variable groups found.";e.MarkdownExternalLinkTooltip="External link";e.Sunday="Sun";e.CopyToClipboard="Copy to clipboard";e.Parameters="Parameters";e.ShareButtonText="Share";e.LogComponentFollowTailToggleLabel="Follow tail";e.ProjectLabel="Project";e.VariableNameDuplicateMessage="Variable \u0027{0}\u0027 is already defined for \u0027{1}\u0027 scope";e.ReferenceNameText="Reference name";e.ShowFoldersDropDownDescription="Show folders drop-down";e.EmptyVariableRowAriaLabel="Empty variable";e.LearnMoreVariableGroupsLinkText="Learn more about variable groups";e.AzureServicePrincipalIdText="Service Principal Client ID";e.HoursAgoSingularFormat="{0} hour ago";e.CompareDifference="Compare Difference";e.InvalidVariableOrNonPositiveNumber="Specified value is not valid. You must specify an integer from 0 to 1000000000 or a variable, ex:- $(testvariable).";e.PhaseRunOnAgentDeploymentTitle="Run on agent";e.DeletePhaseDialogTitle="Delete the job";e.DemandLabel="Demand";e.EmptyDemandRowAriaLabel="Empty demand";e.ConditionSelector_CustomCondition="Custom conditions";e.SaveButtonText="Save";e.DeleteEmptyEnvironmentVariableTooltip="Delete environment variable";e.TodayFormat="today at {0}";e.Subscription="Subscription";e.Task_VersionSelectorHelp="A new version of the task is available.";e.MoreInformation="More Information";e.DisplayNameLabel="Display name";e.AddRunOnAgentTasksText="Add an agent job";e.SliderCurrentValueImpliesText="{0}{1} implies {2} {3}";e.LinkedParameterIconAriaLabel="Linked parameter";e.PivotError="{0} in error";e.TaskLearnMoreText="Learn more";e.Project="Current project";e.SelectedOptionInvalidMessage="This setting is invalid. Select a valid option from the dropdown.";e.ARMEndpointScopeResource="Scoped to resource \u0027{0}\u0027 in resource group \u0027{1}\u0027";e.Task_BuildCategoryText="Build";e.ApplyTemplateButtonText="Apply";e.PlanGroupsInProgressText="In progress";e.TaskItemListTitle="Add tasks";e.FetchingExtensionsText="Fetching Extensions";e.MinutesAgoCompactFormat="{0}m ago";e.AddDemandDescription="Add new demand";e.AgentAcquisitionPlatformUbuntuVersion="Ubuntu {0}";e.SvnServerUrlHelpText="If you use this authentication credential as a main Subversion repository service connection, you should specify the full repository URL,\r\ne.g. \u003ccode\u003e`https://svnserver/repo`\u003c/code\u003e or \u003ccode\u003e`svn://svnserver:3690/repositories/myrepo`\u003c/code\u003e.\r\nThe `Realm name` parameter is optional in this case.\r\n\u003cbr\u003e\u003cbr\u003e\r\nIf you use this authentication credential as an additional service connection for Subversion externals, you may specify the schema, hostname, and port only,\r\ne.g. \u003ccode\u003e`https://svnserver:443`\u003c/code\u003e or \u003ccode\u003e`svn://svnserver:3690`\u003c/code\u003e.\r\nThe `Realm name` parameter is required in this case.";e.Task_TaskEnabledText="Enabled";e.UndefinedVariableYamlComment="Your build pipeline references an undefined variable named ‘{0}’. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab. See https://go.microsoft.com/fwlink/?linkid=865972";e.RunOnServerDescriptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. An agentless job executes tasks on the server without requiring an agent.";e.ARIALabelPlangroupsQueueDialogLeftPane="{0} - Left pane";e.AddRunOnServerTasksText="Add a server job";e.DisabledText="Disabled";e.MoreInformationText="More information";e.VariableNameRequiredMessage="Variable name is required";e.DaysSummaryText="{0} and {1}";e.EditorExtensionButtonAriaLabel="Edit {0}";e.Confirm="Confirm";e.ForYearsCompactFormat="{0}y";e.Task_UtilityCategoryText="Utility";e.ConditionSelector_RunAlwaysInBuild="Even if a previous task has failed, even if the build was canceled";e.ParallelismMultiConfigurationOptionText="Multi-configuration";e.Tasks_MetaTaskDescTooltip="Help-text for task group inputs (optional).";e.ViewAsYamlDescription="Click to view YAML snippet for this task";e.WizardPrevious="Previous";e.SubscriptionNameInvalid="Enter a valid subscription name";e.CreateAndLinkVariableDialogTitle="Link settings";e.CopyTaskDisplayNameFormat="{0} copy";e.TasksDisabled="Tasks disabled";e.TaskExtensionDisabledMessage="This task\u0027s extension \"{0}\" has been disabled.";e.SelectTitle="Select";e.AgentName="Agent: {0}";e.SelectVersionDescription="Select the version of task to apply.";e.VariableGroupDescriptionText="Description";e.UnlinkAllText="Unlink all";e.QueueDropdownEmptyMessage="There are no authorized queues to pick from";e.ProcessParameterGroupParamsMoreInfoMarkdown="[Learn more](https://aka.ms/process-params)";e.OptionsRightPaneARIALabel="Options right pane";e.Pending="pending";e.SvnAcceptUntrustedCertsHelpText="Allows the SVN client to accept self-signed SSL server certificates without installing them into the DevOps service role and/or Build Agent computers. \u003cbr\u003e\u003cbr\u003e Same as the `--trust-server-cert` option of the `svn` command line utility.";e.ARIALabelScheduledTriggerTimeZone="Trigger time zone";e.JobSkippedStatus="Skipped";e.SearchLabel="Search";e.TaskInputLinkShortKey="Link task parameter";e.PastedContentClippedText="This input does not support more than {0} characters. The pasted content has been clipped.";e.PoolOwnerLabel="Pool owner:";e.MultipliersTitle="Multipliers";e.FetchingTasksText="Fetching Tasks";e.DurationFormatMinutes="{0} minutes";e.ShiftTaskOrPhaseUpShortKey="Move task or job up";e.AllAgentsDisabled="All eligible agents are disabled";e.RequestedText="Requested";e.TaskLogViewLimitExceededMessage="The log is too big to be displayed in the browser. You can download the log and view it offline.";e.DemandNameEmptyErrorTooltip="Demand name is required";e.ARIADescriptionMaxTargetsInParallel="Provide % of deployment machines that can be deployed in parallel against the total deployment machines that matches provided tags in this deployment group.";e.ConnectionStatusNotVerified="Not verified";e.AgentSpecificationRequired="Selecting an agent specification is required";e.MinutesAgoPluralFormat="{0} minutes ago";e.VariableErrorMessageColumnHeader="Variable error message";e.SevenDaysFormat="{0} at {1}";e.DefaultValueText="Default value";e.ARMEndpointScope="Scoped to {0}";e.Wednesday="Wed";e.AzureRMInputComponentNote="Note: To configure new a service connection, select the Azure subscription from the list and click \u0027Authorize\u0027. \u003cbr /\u003e\r\nIf your subscription is not listed or if you want to use an existing service principal, you can setup an Azure service connection using the \u0027Add\u0027 or \u0027Manage\u0027 button. \u003cbr /\u003e\r\nManaged Service Identity service connection scope is limited to access granted to the Azure virtual machine running the agent. Ensure that the VM has access to specified resources. \u003cbr /\u003e\r\nService connection scoped at Management Group level are visible only in Azure PowerShell task.";e.Package="Package";e.TaskGroup_InPreviewToolTip="These options are in preview";e.VariableExpressionLabel="Variable expression";e.PasswordLabel="Password";e.Task_AzureConnectionManageTitle="Manage";e.YamlTemplateDescription="Looking for a better experience to configure your pipelines using YAML files? Try the new YAML pipeline creation experience. \u003ca href=\"https://aka.ms/build-designers\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eLearn more\u003c/a\u003e";e.RunOnServerPhaseName="Run on server";e.PhaseConditionOnSucceededText="Only when all previous jobs have succeeded";e.DeleteDemandTooltip="Delete demand \u0027{0}\u0027";e.ConjunctionWithFriendlyDateFormat="{0} {1}";e.AgentAcquisitionPlatformOsx="macOS";e.ShowBranchesAriaLabel="Show branches";e.TaskInputLinkToProcessParameterCalloutText="This setting is linked to the \u0027{0}\u0027 ({1}) pipeline parameter.";e.ExpandText="Expand";e.TargetsToDeployText="Targets to deploy to in parallel";e.ARIALabelDismissWarningMessage="Dismiss warning message";e.TaskCallFailedDisplayErrorMessage="Unable to refresh the list of tasks. This may be due to some network issue. Please check your connection and refresh the list again.";e.SkipDownloadArtifactHelpText="Skip downloading artifacts to the agent before starting the deployment. The artifact directory will not be cleaned if this is checked.";e.ExternalGitDialogTitle="Add a generic Git service connection";e.TaskLogExpandViewButtonName="View detailed logs";e.PhaseNameLengthErrorMessage="The job name must be less than 256 characters";e.YearsAgoSingularFormat="{0} year ago";e.PhaseConditionOnFailureText="Only when a previous job has failed";e.CopyContentHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose \u0027Copy\u0027 from the browser’s context menu or press Ctrl+C. ";e.OnlyOneManualInterventionTaskIsAllowedError="Only one manual intervention task is allowed per run on a server job.";e.DeprecatedTasksText="Deprecated tasks";e.MinutesSuffix="m";e.Tasks_MetaTaskDialogCreate="Create";e.NoRepositoryFoundText="No repository found";e.CollapseText="Collapse";e.SeedLabel="Seed";e.Task_ErrorMessageForAzureRmEndpoint="Selected Azure service connection in the current task has been updated to service connection type \u0027Azure Resource Manager\u0027 under \u0027Services\u0027 tab. Update Azure connection type field for the current task with value \u0027Azure Resource Manager\u0027.";e.ScheduleSummaryText="{0} {1}";e.CouldNotFetchEndpointTypes="Could not retrieve available service connection types";e.AddConnection="Add connection";e.ExtensionCallFailedDisplayErrorMessage="Unable to fetch the list of extensions from the marketplace. This may be due to some network issue. Please check your connection and refresh the list again.";e.LoadingAgentInfo="Loading agent information...";e.ChangeScopeText="Change scope";e.AgentSpecificationLabel="Agent Specification";e.SelectDayDescription="Select the day(s) for the schedule";e.ARIALabelScheduledTriggerTimeHours="Trigger time - hours";e.ContinuousDaysSummaryText="{0} through {1}";e.CloseButtonText="Close";e.MachinesMissingDemandLabel="Targets Missing Demand";e.ContinueOnErrorText="Continue on error";e.Task_NumTasksUpdateInProgress="{0} tasks are being updated and will be available soon.";e.ARIALabelHistoryVersionSelector="Select a version";e.ARIALabelVariablesTable="Variables table";e.ForDaysSingularFormat="{0} day";e.AgentPhaseHelpMarkDown="[More Information](https://go.microsoft.com/fwlink/?LinkId=825235)";e.ARIALabelHistorySelectVersion="Select this version";e.DGDemandsDescription="View the list of targets that are missing capabilities required for the tasks to run. Targets with the missing capability are skipped during deployment.";e.GitRepositoryUrl="Git repository URL";e.ForHoursFormat="{0} hours";e.PlanDurationInQueueText="Duration in queue";e.SkipArtifactDownloadLabel="Skip download of artifacts";e.AzureRMAvailableServiceConnections="Available Azure service connections";e.ConditionSelector_SucceededOrFailedInBuild="Even if a previous task has failed, unless the build was canceled";e.Task_ResetText="reset";e.AzureSubscriptionIdText="Subscription ID";e.YearsAgoFormat="{0} years ago";e.Download="Download";e.TaskRemoved="Task removed";e.PlanStartedText="Started";e.Tasks_MenuCloneTasks="Clone task(s)";e.ExtensionText="extension";e.SharingItemDoesnotExists="The item you are trying to share doesn\u0027t exists.";e.ForMinutesSingluarFormat="{0} minute";e.OK="OK";e.EnableAccessTokenHelpText="Enables scripts and other processes launched by tasks to access the OAuth token through the System.AccessToken variable.";e.FolderPath="Folder path";e.JobAuthorizedToStart="This job is ready to begin";e.ContextMenuText="Context menu";e.CounterVariableSeedLabel="Seed for {0}";e.ConnectionNameInvalid="Enter a valid connection name";e.ForMinutesCompactFormat="{0}m";e.RunOnServerPhaseHelpMarkDown="[More Information](https://go.microsoft.com/fwlink/?LinkId=852587)";e.DeleteDemandColumnHeader="Delete demand";e.ConditionSelectorLabelText="Run this task";e.GetItFreeText="Get it free";e.ProcessParameterGroupParamsMoreInfoLink="https://aka.ms/process-params";e.ManageConcurrencyLimit="Manage parallel job limits";e.AgentAcquisitionMoreInfoTitle="That\u0027s it!";e.TasksRemoved="Tasks removed";e.LinkSettingsDescription="Click to link this task\u0027s settings to shared pipeline parameters.";e.DeploymentGroupDeployToMultipleMachinesOptionText="Multiple";e.CloseOverlayPanel="Close panel";e.Task_InvalidSectionName="{0}  *";e.ARIALabelHistoryAllVersionsSelector="Select all versions";e.SecretVariableYamlComment="Your build pipeline references a secret variable named ‘{0}’. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab, and then select the option to make it secret. See https://go.microsoft.com/fwlink/?linkid=865972";e.PoolDetailsTitleFormat="Details for pool {0}";e.TaskLogStepTitleDescription="Click here to open the logs for this task.";e.NumberOfAgentsDescription="Specify the number of agents to be used. This is the maximum number of agents that can run in parallel. Actual numbers of agents running in parallel will depend on the number of available agents in the agent pool selected.";e.AzureSubscriptionDisplayName="{0} ({1})";e.AzureServicePrincipalKeyText="Service Principal Key";e.AgentInitializingSubText="Initializing the agent...";e.JustNow="just now";e.ShowMore="Show more";e.ScheduleTime="at {0}:{1}";e.Add="Add";e.And="and";e.New="New";e.Tasks_MenuCreateMetaTask="Create task group";e.CreateMetaTaskDescriptionWatermarkText="Enter description";e.Error="{0} error";e.MatchingTargetsResolvedAtRuntime="Matching targets to be resolved at run time for \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1} deployment group\u003c/a\u003e";e.NoProjects="No projects available.";e.SpnKeyInvalid="Enter a valid service principal key";e.Build="Build";e.Comma=",";e.MinutesAgoSingularFormat="{0} minute ago";e.ForDaysFormat="{0} days";e.Hours="Hours";e.Token="Token";e.ViewDetails="View details";e.Retry="Retry";e.Shown="Shown";e.RefreshInputDescription="Refresh {0}";e.DemandEquals="equals";e.EnvironmentVariableValueEmptyErrorTooltip="Environment variable value is required";e.DemandExists="exists";e.HelpButtonText="Help";e.ExpandViewAriaDescription="Click on the button to see the logs in expanded view";e.UseBasic="Use username and password to authorize";e.DeleteEnvironmentVariableColumnHeader="Delete environment variable";e.DefaultAgentQueue="Agent pool";e.Task_UnableToCreateTaskGroupMessage="Unable to create task group. Task {0} with runsOn value: {1}, does not match with other child tasks.";e.ProcessParameterGroupDescription="Important settings that can be shared between your pipeline’s tasks and changed in one place.";e.DeleteEmptyDemandTooltip="Delete demand";e.TaskGroup_Preview="Preview";e.OnConjunctionInFriendlyDate="on";e.ErrorWhileOpeningEditorExtension="Error finding the extension";e.ClipboardPasteLargeDataError="Clipboard data is too large to paste";e.TargetsMissingCapability="Targets missing capability";e.TimeoutInMinutes="Timeout";e.ExternalLinkTooltipText="External Link";e.NumberOfAgentsTitle="Number of agents";e.UserName="User name";e.ARIALabelTaskGroupConfigurationParameterDescription="{0} description";e.ServerUrl="Server URL";e.ConditionSelector_Failed="Only when a previous task has failed";e.AddTask="Add Task";e.Tasks_MetaTaskParamTooltip="Variables extracted from selected tasks.";e.VariableGroupValueColumn="Value";e.VisualStudioTeamServicesProductName="Azure DevOps";e.SubversionDialogTitle="Add a Subversion repository service connection";e.VariableGroupNameText="Name";e.WhatsNewInVersionText="What\u0027s new in version {0}";e.TypeOfParallelismDescription="The manner in which the job’s tasks are parallelized. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eNone:\u003c/b\u003e Tasks will run on a single agent.\u003cbr/\u003e\u003cbr/\u003e \u003cb\u003eMulti-configuration:\u003c/b\u003e Run the same set of tasks on multiple configurations as specified in the multipliers. Configurations will run in parallel and each configuration will use a single agent. The total number of agents used by the job will depend on the number of configurations, and can be limited by specifying the maximum number of agents. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eMulti-agent:\u003c/b\u003e Run the same set of tasks on multiple agents using the specified number of agents. \u003cbr/\u003e\u003cbr/\u003e\u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=835763\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027\u003eMore information.\u003c/a\u003e";e.DeploymentGroupDeployToSingleMachineOptionText="One target at a time";e.UseAutoSpnCreateWindowFooter="To create a new Service Principal automatically click";e.AgentAcquisitionPlatformLinux="Linux";e.ServerJobTimeoutDescription="Specifies the maximum time in minutes, a deployment is allowed to execute on an agent before being canceled by the server. \u003cbr\u003eDuration is measured after the pre-approval is completed and before the post-approval is requested. \u003cbr\u003eA zero value indicates an infinite timeout.";e.ChangeRefName="Any changes to the reference name will require updates to downstream tasks that uses this reference name, a valid reference name can only contain \u0027a-z\u0027, \u0027A-Z\u0027, \u00270-9\u0027 and \u0027_\u0027.";e.TaskTypeDescriptioHelpUrl="https://go.microsoft.com/fwlink/?LinkID=825235";e.InvalidAgentSpecification="Invalid agent specification";e.DurationFormatHours="{0} hours";e.VariableGroupDeleted="[Variable group deleted]";e.ApplyTemplateDescription="Apply {0} template";e.AgentAcquisitionCreateAgentTitle="Create the agent";e.MaxNumberOfAgentDescription="Limit the number of agents to be used. If more configurations are specified than the maximum number of agents, some configurations will wait until an agent completes running a previously assigned configuration.";e.NoScheduleSelected="No schedule selected...";e.PrivateText="Private";e.TaskDisabled="Task disabled";e.SpnClientIdInvalid="Enter a valid service principal client ID or name";e.VariablesGridViewAriaLabel="Variables grid view";e.AgentAcquisitionHeaderTitle="Starting your job";e.ServicePrincipalTip="Refer to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=623000\u0026clcid=0x409\" target=\"_blank\" rel=\"noopener noreferrer\"\u003elink\u003c/a\u003e on how to create Azure Service Principal manually.";e.TaskTimeoutTooltip="Specifies the maximum time, in minutes, that a task is allowed to execute before being canceled by server.\u003cbr\u003e A zero value indicates an infinite timeout.";e.ForDaysCompactFormat="{0}d";e.AlwaysRunText="Always run";e.ChangedByText="Changed By";e.TeamFoundationServerProductName="Azure DevOps Server";e.GroupDialogboxCalloutDescription="Categorizes the task according to selected option.";e.Tasks_MetaTaskDialogParameterHeader="Name";e.NoDefinitionIdYetText="\u003c No pipeline ID yet \u003e";e.MatchingTargetsPercentage="{0}% targets";e.VariableValuePlaceHolder="value";e.SliderTargetsDisplayValue="{0}% targets ({1})";e.PlanGroupsInQueueText="In queue";e.AddDeploymentGroupPhase="Add a deployment group job";e.HostedAgentReadyForJobText="An agent is now available";e.InputsEditorExtensionLabel="Input Editor";e.QueryText="Query";e.LinkLabel="Link";e.VariableValueLabel="Value of {0}";e.GroupTaskDialogParameterText="The following parameters and values are from the configuration variables used in the underlying tasks.";e.PhaseConditionHelpText="Specifies when this job should run. Choose \"Custom conditions\" to specify more complex conditions.";e.ConditionSelectorTooltip="Specifies when this task should run. Choose \"Custom conditions\" to specify more complex conditions.";e.UsePATDescription="Create a new GitHub service connection authenticated with a GitHub personal access token";e.LearnMore="Learn more";e.AgentAcquisitionConfigureAgentTitle="Configure the agent";e.DemandsDescription="Specify which capabilities the agent must have to run this pipeline.";e.SearchableComboSearchSucessful="Search completed; select an option now.";e.ARIADescriptionDeployInParallel="Deployment configuration will determine the number of targets that can be deployed to, in parallel. The selection accounts for the percentage of targets that must remain available at any time excluding the targets that are being deployed to.  It is also used to determine the success and failure conditions during deployment.";e.AcceptUntrustedCerts="Accept untrusted SSL certificates";e.DeprecatedText="Deprecated";e.TaskGroupCreationDeniedBecauseOfProcessParams="One or more of the selected tasks have settings linked to pipeline parameters. You must unlink these before creating a task group.";e.CopyContentHelpDocsLink="\u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=852344\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e";e.AddAgentPoolPhase="Add an agent job";e.YesterdayFormat="yesterday at {0}";e.JobNotStartedStatus="Not started";e.AzureSubscriptionNameText="Subscription Name";e.HostedText="Hosted";e.MoreInformationForInputLabel="More information for {0}";e.SinceSevenDaysFormat="{0}, {1}";e.ConnectionName="Connection name";e.SettingToLink="Setting to link";e.VariablesListViewLabel="List";e.MSIResourceMissingWarning="Managed Service Identity service connection scope is limited to access granted to the Azure virtual machine running the agent. Ensure that the VM has access to specified resources.";e.DeploymentGroupNotFound="Deployment Group does not exist.";e.SpnCreationInProgress="Setting up Service Principal details for the service connection...";e.CloseMessageBarButtonText="Close message bar";e.CounterVariableValidSeedRange="Seed values must be integers greater than or equal to 0.";e.EnvironmentVariableErrorMessageColumnHeader="Environment variable error message";e.OutputGroup="Output Variables";e.DaysAgoSingularFormat="{0} day ago";e.AgentAcquisitionPlatformRedhat="Red Hat";e.DeploymentGroupPhaseTitle="Deployment group job";e.ConditionSelector_RunAlwaysInRelease="Even if a previous task has failed, even if the deployment was canceled";e.AgentAcquisitionRunAgentInteractiveOrServiceTitle="You can run the agent interactively or as a LaunchAgent service.";e.PhaseCancelledText="Job canceled.";e.OptionAffectsDataStorageAndSecurity="This option affects your data storage and security.";e.ARIALabelPlangroupsQueueDialogRightPane="{0} - Right details pane";e.PhaseCancellingText="Canceling job...";e.AgentAcquisitionPlatformUbuntu="Ubuntu";e.TaskEnabled="Task enabled";e.ManageVariableGroups="Manage variable groups";e.FolderPickerLabel="Folder";e.VariablesGridDuplicateNameMessage="Duplicate values have been defined for this variable in List view for \u0027{0}\u0027 scope.";e.PreviousTaskButtonText="Previous task";e.Task_MetaTaskDialogParentParameterHeading="Parameters";e.PhaseDependenciesHeader="Dependencies";e.ForMinutesPluralFormat="{0} minutes";e.DeploymentGroupLabel="Deployment group";e.InProgress="in progress";e.ARMEndpointScopeResourceGroup="Scoped to resource group \u0027{0}\u0027";e.AgentAcquisitionRunAgentOptionallyTitle="Optionally run the agent interactively";e.SecretValueText="Secret value";e.SearchableComboSearchFailed="Search for \u0027{0}\u0027 did not yield any result, use some other text.";e.ShowFoldersDropDownLabel="Show folders";e.PlanGroupsQueueHubsNotProvidedErrorMessage="At least one hub information should be provided.";e.BrowseInputComponentDescription="Browse {0}";e.ErrorText="Error";e.ConditionSelector_AllSucceeded="Only when all previous tasks have succeeded";e.DeleteVariableTitleTextNoName="Delete variable";e.ProcessParametersMultipleSettingsLinkedFooterText="This field is linked to {0} settings.";e.CyclicDependencyErrorMessage="Cyclic dependencies is preventing the layout of the following: {0}";e.MoreErrorsMessage="{0} more errors. Click on expand view in the context menu to view complete logs.";e.ARMEndpointAdvancedOptions="Advanced options";e.ManageAgentQueueDescription="Manage the agent pool. The page will open in new tab.";e.IssueTextFormat="[{0}]{1}";e.CompletedTaskLogStepOverviewAriaLabel="{0}, {1}, ran for {2}";e.CheckoutMarketPlaceText="Check out the Marketplace.";e.DefinitionDefaultNameFormat="{0} ({1})";e.JobCancelledStatus="Canceled";e.SearchAllRepositories="Search all repositories";e.HostedAgentsBusyText="All agents are busy";e.SinceYesterdayFormat="yesterday {0}";e.NoSubscriptionFound="No subscription or service connection found.";e.PercentageSymbol="%";e.Authorize="Authorize";e.ConnectionStatusVerified="Verified";e.Task_DeployCategoryText="Deploy";e.AgentAcquisitionPlatformRedhatVersion="Red Hat {0}";e.SvnRealmNameHelpText="If you use multiple credentials in a build pipeline to download a complete set of the source from Subversion,\r\nyou should specify the `Realm name` in each of them. The `Realm name` represents a sort of \"authentication namespace\" used\r\nby the Subversion repository to select the appropriate Subversion identity database. Along with the repository server\u0027s schema, hostname, and port it forms\r\na key that the Build Agent uses to select the specific credential from the set provided in the build pipeline.  \u003cbr\u003e\u003cbr\u003e\r\nTo find out the `Realm name`, you could do any of the following:\r\n\u003cul\u003e\r\n\u003cli\u003e\r\nIf you access the repository via `HTTP` or `HTTPS`: Open the repo in a web browser without saved credentials. It will use the `Realm Name` in the authentication dialog.\r\n\u003c/li\u003e\r\n\u003cli\u003e\r\nUse the command line `svn` program. If you don\u0027t have stored the credentials, run e.g. \u003ccode\u003e`svn info https://svnserver/repo`\u003c/code\u003e.\r\nYou will see the `Realm name` when it asks you to enter a password.\r\n\u003c/li\u003e\r\n\u003cli\u003e\r\nIf you have already stored the credentials to access the repository, look for the `Realm name` in one of the files in the Subversion authentication cache section of your user profile,\r\ne.g. in \u003ccode\u003e`~/.subversion/auth/svn/simple`\u003c/code\u003e or \u003ccode\u003e`C:\\Users\\yourname\\Application Data\\Subversion\\auth\\svn.simple`\u003c/code\u003e.\r\n\u003c/li\u003e\r\n\u003c/ul\u003e";e.AddAgentlessPhase="Add an agentless job";e.SinceStartOfDateFormat="{0}";e.Minutes="Minutes";e.ProcessParameterGroupNoParamsHelp="This pipeline doesn’t have any pipeline parameters. Create them to share the most important settings between tasks and change them in one place.";e.AddCustomConnectionsDialogTitle="Add {0} service connection";e.AgentAcquisitionRunAgentTitle="Run the agent";e.CollapsibleDescriptionLearnMore="Learn more";e.EnvironmentsScopeText="Stages";e.InstalledText="Installed";e.PoolMetadataNotFound="No additional information was found for pool {0}.";e.NoVariableGroupMessage="Add variable groups to your pipeline.";e.VerifyConnection="Verify connection";e.MinutesLaterFormat="{0} minutes";e.DependentsWarningMessage="This setting is dependent on \u003cb\u003e {0} \u003c/b\u003esetting(s). Linking it to a pipeline parameter without also linking all the settings on which it depends could cause your pipeline to fail unintentionally.";e.SecretVariableValueResetMessage="Secret variable values are not copied when importing or cloning. Enter the value or delete the variable.";e.DeleteScheduleButtonAriaLabel="Delete schedule";e.Tasks_MetaTaskDialogValuesHeader="Value";e.EditText="Edit";e.ARIADescriptionTaskGroupDialogCancelDescription="Cancel task group creation";e.PhaseDeploymentTargetsHeader="Deployment targets";e.SincePendingTimeDuration="since {0}";e.EmptyProcessFormat="Or start with an {0}";e.OverrideVariableYamlComment="Your build pipeline references the ‘{0}’ variable, which you’ve selected to be settable at queue time. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab, and then select the option to make it settable at queue time. See https://go.microsoft.com/fwlink/?linkid=865971";e.VariablesListViewAriaLabel="Variables list view";e.Task_NameLabel="Name";e.MenuViewAsYaml="View YAML";e.SearchableComboGuidance="This setting is required. You may select an option from dropdown or type and search.";e.VariableDeleteColumnHeader="Delete variable";e.DeleteEnvironmentVariableTooltip="Delete environment variable \u0027{0}\u0027";e.ProcessParametersSingleSettingLinkedFooterText="This field is linked to 1 setting in {0}";e.AddRunOnMachineGroupTasksText="Add a machine group job";e.GenerateLinkTooltip="Generate name from task attributes";e.Tasks_MarketPlaceText="Don\u0027t see what you need? Check out the Marketplace.";e.AddAzureResourceManagerDialogTitle="Add Azure Resource Manager Service Connection";e.HoursAgoFormat="{0} hours ago";e.QueueNameLabel="Pool:";e.VariableSecretColumnHeader="Secret variable";e.TrimmedScheduleTime="{0}:{1}";e.LinkVariableGroupPanelHeader="Link variable group";e.VariablesNeedAttentionMultipleScopes="Errors across multiple scopes";e.Saturday="Sat";e.Succeeded="succeeded";e.AllFieldsRequired="All fields are required";e.SecretVariable="Secret variable";e.NoSearchResultsFoundDescription="Check the spelling of your search term or try different keywords to expand the results of your search.";e.ARIALabelProcessEditorRightPane="Process Editor overview - right pane";e.LinkVariableGroupPanelInfoText="Use a variable group to store values that you want to make available across multiple release pipelines. You will only be able to see variable groups where you have a “user access” role. [Learn More]({0})";e.ScheduleTextFormat="Schedule {0}";e.SubversionRepositoryUrl="Subversion repository URL";e.SearchForProjectsText="Search for projects";e.AddPhaseLearnMore="Learn more about jobs";e.GetVariableValueTooltip="Get value";e.Task_AllCategoriesText="All";e.VariablesText="Variables";e.VariablesList="Variables list";e.UnlinkAllProcessParametersDialogTitle="Unlink all pipeline parameters";e.RunOnAgentPhaseName="Run on agent";e.FetchingLogLoadingComponentLabel="Fetching logs";e.InvalidRepositoryName="\u0027{0}\u0027 is not a valid repository name, click \u0027...\u0027 to search";e.EnvironmentVariableRowAriaLabel="Environment variable {0}";e.Task_CreateMetaTaskDialogTitle="Create task group";e.VariableLabel="The pipeline parameter to link to this setting";e.CounterVariableValueLabel="Value for {0}";e.Task_AddLabelText="Add";e.Refresh="Refresh";e.AzureRMAvailableAzureSubscriptions="Available Azure subscriptions";e.PoolMetadataLabel="Pool information:";e.ARIALabelHistoryEllipsisButton="More history options";e.AuthorizeUsingOAuth="Authorize using OAuth";e.SearchTemplateAriaLabel="Search template";e.ConnectionStatusFailed="Failed";e.PickListDisabledGuidanceMessageInfo="Configure the value of this setting from the Pipeline view.";e.UnLockText="Unlock";e.DemandValueEmptyErrorTooltip="Demand value is required";e.Loading="Loading...";e.LogsComponentHeaderRegionAriaLabel="Task log header region";e.AddEnvironmentVariableDescription="Add new environment variable";e.AddTaskDescription="Add {0} task";e.AddTaskLinkText="Add";e.YamlTemplateName="YAML";e.TaskItemListAllText="All";e.ScopesText="Scopes: ";e.Cancelled="canceled";e.SettingsRequiredMessage="Some settings need attention";e.ServerUrlInvalid="The server URL is invalid";e.TagPickerNoTagsHeader="No Tags";e.AgentQueuesInfoMarkdown="When you queue a build, it executes on an agent from the selected pool. You can select a Microsoft-hosted pool, or a self-hosted pool that you manage.\u003cbr /\u003e\r\n[More information](https://go.microsoft.com/fwlink/?linkid=858744)";e.ClickAuthorizeHelpText="Click Authorize to configure an Azure service connection. A new Azure service principal will be created and added to the Contributor role, having access to all resources in the selected subscription. To restrict the scope of the service principal to a specific resource group, see [connect to Microsoft Azure](https://go.microsoft.com/fwlink/?linkid=2094254)";e.ParallelExecutionYamlComment="Multi-configuration and multi-agent job options are not exported to YAML. Configure these options using documentation guidance: https://docs.microsoft.com/vsts/pipelines/process/phases";e.JobPartiallySucceededStatus="Partially succeeded";e.TaskDisabledMessage="This task has been disabled for your project.";e.ARIADescriptionHistoryEllipsisButton="Show contextual menu";e.VariableRowAriaLabel="Variable \u0027{0}\u0027";e.SelectHourDescription="Select the hour for the schedule";e.DefinitionLabel="Pipeline";e.Task_AddTasksDialogTitle="Task catalog";e.TaskGroupCreatedMessagePrefix="Task group ";e.PhaseNotStartedText="The job has not yet started.";e.EditDefinitionNameInvalidTitle="The pipeline name cannot be empty.";e.CreatingText="Creating...";e.GetExtensionAriaDescription="Get {0} extension";e.ShiftTaskUpShortKey="Move task up";e.RevertDefinition="Revert Pipeline";e.ARIALabelAddPhaseEllipsisButton="Add phase options";e.VariablesGridDuplicateNameMessageMultipleScope="Duplicate values have been defined for this variable in List view for scopes: \u0027{0}\u0027";e.NotStartedTaskLogStepOverviewAriaLabel="{0}, {1}";e.CreateTaskGroup="Create task group";e.SettableAtQueueTimeTitleTextNoName="Variable settable at queue time.";e.FoldersNameHeader="Folders / Pipelines";e.AgentAcquisitionConfigureAccountTitle="Configure your account";e.RunOnMachineGroupTasksDescription="Lets you add tasks which require a machine group";e.HostedQueue="Microsoft-hosted pool";e.RunOnMachineGroupPhaseHeaderTooltip="Group of tasks that will run on a machine group";e.PrivateAgentReadyForJobText="Agent {0} is available";e.ConditionSelectorCustomInputLabel="Custom condition";e.PoolInfoLabel="Pool information";e.PhaseAgentSelectionHeader="Agent selection";e.ARIALabelProcessEditorLeftPane="Process Editor overview - left pane";e.DemandErrorMessageColumnHeader="Demand error message";e.Description="Description";e.ParallelismMultiAgentsOptionText="Multi-agent";e.RunOnServerTasksDescription="Lets you add tasks which run on the server";e.SortJobItemsAriaTitle="Sort job items";e.CommentText="Comment";e.DeploymentGroupZeroMachinesWithSelectedTagsDisplayText="No matching targets in \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1} deployment group\u003c/a\u003e";e.MorePhaseSummaryOptionsEllipsesButtonAriaLabel="More job summary options";e.EmptyProcessText="Empty job";e.CounterVariablesOverviewText="Counter variables";e.TagPickerSuggestedTagsHeader="Suggested Tags";e.EmptyEnvironmentVariableRowAriaLabel="Empty environment variable";e.TaskGroupCreatedMessageSuffix=" has been created.";e.WhiteSpaceSeparator=" ";e.DeploymentGroupNumberOfMachinesWithSelectedTagsDisplayText="{2} matching targets in \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1} deployment group\u003c/a\u003e";e.DraftedTaskDefinitionFriendlyName="{0} {1}";e.UnlinkText="Unlink";e.AzureTenantId="Tenant ID";e.AgentAcquisitionConfigureAgentDetailedInstructions="Detailed instructions";e.ProcessParametersCalloutText="This field is linked to {0} setting(s) across:";e.ChoiceLabel="Or";e.DataStorageAndSecurityLearnMoreLink="https://go.microsoft.com/fwlink/?linkid=870426";e.FileUploadDialogTitle="Upload file";e.Tasks_MetaTaskValueTooltip="Default value for task group inputs (optional).";e.DaysAgoCompactFormat="{0}d ago";e.EmptyProcessDescription="Click to start with an empty pipeline and add your own steps.";e.RunOnAgentDescriptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. An agent job executes tasks on an agent in an agent pool.";e.VariableGroupNameColumn="Name";e.ShiftTaskOrPhaseDownShortKey="Move task or job down";e.MoreItem="+{0} more";e.TagsLabel="Tags";e.ChangedDateText="Changed Date";e.WarningText="Warning";e.TaskTypeDescriptionHelpText="Learn more \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027\u003ehere\u003c/a\u003e.";e.AdvancedSettingsText="Advanced settings";e.Task_VersionSelectorLabel="Task version";e.ChangeVariableTypeToPlain="Change variable type to plain text";e.SpnUpdateInProgress="Service Principal details are being updated...";e.PhaseFailedText="Failure occurred during job execution.";e.ChangeDetailsText="Change details";e.PhaseConditionLabel="Run this job";e.PrivateQueue="Private pool";e.RunOnAgentTasksDescription="Lets you add tasks which require an agent";e.Task_MarketplaceCategoryText="Marketplace";e.EmptyOutputVariablesList="There are no output variables associated with this task [more information](https://github.com/Microsoft/azure-pipelines-agent/blob/master/docs/preview/outputvariable.md)";e.InfoIconAriaLabel="More information";e.VariableGroupNameFormat="{0} ({1})";e.AgentAcquisitionRunInteractivelyTitle="To run interactively:";e.DeploymentMachineLinkText="\u003ca href=\"{0}\" target=\"_blank\"\u003e{1}\u003c/a\u003e";e.FollowTailDisabled="Follow tail is disabled";e.EnvironmentVariablesHeader="Environment Variables";e.CopyUrlToClipboard="Copy URL to clipboard";e.DemandsTitle="Demands";e.TaskLearnMoreDescription="Click to read more about {0} task";e.AuthorizeToCreateAzureRMEndpointHelpText="Click Authorize to configure an Azure service connection. A new Azure Service Principal will be created and assigned with the \"Contributor\" role, having access to all resources in the selected subscription.";e.PreviewText="Preview";e.TenetIdInvalid="Enter a valid tenant ID";e.Tasks_MetaTaskDialogDescriptionHeader="Description";e.EditDefinitionNameTitle="Edit pipeline name";e.VariableGroupHeaderCollapsedAriaLabel="Expand variable group";e.InheritAgentQueueFromDefinition="\u003cinherit from pipeline\u003e";e.MinutesLessThanTen="{0}{1}";e.AddVariableDescription="Add new pipeline variable";e.DemandNameSpaceErrorTooltip="Demand name cannot contain spaces";e.ForYearsFormat="{0} years";e.JobFailedStatus="Failed";e.EditVariableGroupText="Edit variable group";e.TaskLogStepOverviewLiveLogDescription="This task has live logs associated with it.";e.PasswordKey="Password / Token key";e.UrlInvalid="Enter a valid URL.";e.LockText="Lock";e.NextTaskButtonText="Next task";e.UnlinkFromProcessParameterCalloutFooterText="Unlink";e.ForHoursSingularFormat="{0} hour";e.CategoryText="Category";e.ResetCounterVariableValue="Reset Value back to Seed";e.Tasks_MetaTaskVariablesMessage="The following parameters and values are from the configuration variables used in the underlying tasks.";e.QueueLabel="Pool";e.Warning="{0} warning";e.MultipliersDescription="A list of comma separated configuration variables to use. These are defined on the \u003cem\u003eVariables\u003c/em\u003e tab.\u003cbr/\u003e\u003cbr/\u003eFor example, \u003ccode\u003eOperatingSystem, Browser\u003c/code\u003e will run the tasks for both variables.";e.Tasks_MenuDisableText="Disable selected task(s)";e.VariableGroupScopeText="Variable group scope";e.SinceConjunctionInFriendlyDate="since";e.JenkinsLicenseText="\u0026amp;quot;Jenkins\u0026amp;quot; is a registered trademark of Software in the Public Interest Inc\r\nThe Jenkins logo is licensed under the Creative Commons Attribution-ShareAlike Unported License by the Jenkins project (https://jenkins-ci.org/)";e.SelectMinuteDescription="Select the minute for the schedule";e.ErrorTruncateMessageBarText="Expand or collapse error message bar";e.MissingDemandWarning="Some targets do not meet all task demands";e.FollowTailEnabled="Follow tail is enabled";e.RunOnMachineGroupDescriptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. A deployment group job executes tasks on machines defined in a deployment group.";e.RemoveText="Remove";e.ValueLabel="Value";e.ForHoursCompactFormat="{0}h";e.Days="Days";e.Back="Back";e.Name="Name";e.View="View ";e.Test="Test";e.RequiredInputInValidMessage="This setting is invalid.";e.ShiftTaskDownShortKey="Move task down";e.DurationFormatDays="{0} days";e.UnlinkAllProcessParametersDialogSubText="Are you sure you want to unlink all pipeline parameters? This action cannot be reversed.";e.ARIALabelHistoryTab="History";e.Task_RenameTaskLabel="Rename";e.ProcessParameterGroupParamsMoreInfo="Learn more";e.AgentAcquisitionRunAgentOptionallyInfo="If you didn\u0027t run as a service above:";e.JobSucceededStatus="Succeeded";e.DemandRowAriaLabel="Demand {0}";e.ProcessVariablesText="Pipeline variables";e.DeploymentJobCancelTimeoutText="Job cancel timeout";e.NewerVersionAvailableFlagAriaLabel="Newer version available";e.ConditionLabel="Condition";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTaskControls/Variables/Common/VariableUtils",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.convertDefinitionVariableToModelVariable=function(n){var t=n.variable,i={name:n.name,allowOverride:t.allowOverride,disableSecretVariableName:t.isSecret||!1,isSecret:t.isSecret||!1,value:t.value};return t.scope&&(i.scope=t.scope),i.hasSecretValueBeenReset=t.hasSecretValueBeenReset,i.hasVariableBeenUpdatedByUser=t.hasVariableBeenUpdatedByUser,i},n.createVariablesCopy=function(t){var i=[];return t.forEach(function(t){i.push(n.convertDefinitionVariableToModelVariable(t))}),i},n.areEqual=function(t,i){var u,f,r;if(t.length!==i.length)return!1;for(u=!0,f=t.length,r=0;r<f;r++)if(t[r].name!==i[r].name||t[r].isSecret!==i[r].isSecret||n.getVariableValue(t[r])!==n.getVariableValue(i[r])||!!t[r].allowOverride!=!!i[r].allowOverride||!n.isScopeEqual(t[r].scope,i[r].scope)){u=!1;break}return u},n.areShallowEqual=function(n,t){return!n&&!t?!0:!n||!t?!1:n.length!==t.length?!1:!0},n.getVariablesInScope=function(n,t){return n.filter(function(n){return n.scope.key===t})},n.updateScopeOfVariables=function(t,i){var r=n.getVariablesInScope(t||[],i.key);r.forEach(function(n){n.scope=i})},n.cloneScopedProcessVariables=function(n,t){for(var i,f,e=[],o=n.length,u=0;u<o;u++)i=n[u],f={name:i.name,allowOverride:i.allowOverride,hasSecretValueBeenReset:i.isSecret||!1,isSecret:i.isSecret||!1,value:!i.isSecret?i.value:r.empty},f.scope=t,e.push(f);return e},n.getVariableRowAriaLabel=function(n){var t=typeof n!="string"?n.name:n;return!t?i.EmptyVariableRowAriaLabel:r.format(i.VariableRowAriaLabel,t)},n.getDeleteVariableIconAriaLabel=function(n){var t=typeof n!="string"?n.name:n;return!t?i.DeleteVariableTitleTextNoName:r.format(i.DeleteVariableTitleText,t)},n.getSettableAtQueueTimeAriaLabel=function(n){var t=typeof n!="string"?n.name:n;return!t?i.SettableAtQueueTimeTitleTextNoName:r.format(i.SettableAtQueueTimeTitleText,t)},n.isScopeEqual=function(n,t){return!n&&!t?!0:!n||!t?!1:n.key===t.key},n.getVariableValue=function(n){return!!n.isSecret&&r.localeIgnoreCaseComparer(n.value,r.empty)===0?null:n.value},n.ProcessVariablesItem="ProcessVariablesItem",n.VariablesGroupItem="VariablesGroupItem",n}();t.VariablesUtils=u});

define("VSS/Flux/Store",["require","exports","VSS/Events/Handlers"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(){this._changedHandlers=new i.EventHandlerList;this._namedEventCollection=new i.NamedEventCollection}return n.prototype.addChangedListener=function(n){this._changedHandlers.subscribe(n)},n.prototype.removeChangedListener=function(n){this._changedHandlers.unsubscribe(n)},n.prototype.emitChanged=function(){this._changedHandlers.invokeHandlers(this)},n.prototype.emit=function(n,t,i){this._namedEventCollection.invokeHandlers(n,t,i)},n.prototype.addListener=function(n,t){this._namedEventCollection.subscribe(n,t)},n.prototype.removeListener=function(n,t){this._namedEventCollection.unsubscribe(n,t)},n}();t.Store=r;u=function(n){function t(){var t=__construct(this,n,[]),i,r;for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return r=t.getAction(),r!==null&&r.addListener(t.onChange,t),t}return __extends(t,n),t.prototype.getAction=function(){return null},t.prototype.onChange=function(n){this._value=n;this.emitChanged()},t.prototype.getValue=function(){return this._value},t}(r);t.DefaultStore=u;f=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._loading=!0,t._error=null,t}return __extends(t,n),t.prototype.isLoading=function(){return this._loading},t.prototype.hasError=function(){return this._error!==null},t.prototype.getError=function(){return this._error},t.prototype.onError=function(n){this._error=n;this.emitChanged()},t}(r);t.RemoteStore=f});

define("DistributedTaskControls/Common/Stores/Base",["require","exports","VSS/Flux/Store","VSS/Utils/String"],function(n,t,i,r){var u,e,f,o;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){throw new Error("This method needs to be implemented in derived classes");},t.prototype.initialize=function(n){this._instanceId=n||r.empty},t.prototype.getInstanceId=function(){return this._instanceId},t.prototype.getState=function(){return{}},t.prototype.__dispose=function(){this.disposeInternal();this._instanceId=null},t}(i.Store);t.StoreBase=u;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(u);t.ViewStoreBase=e;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(u);t.ChangeTrackerStoreBase=f;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(f);t.DataStoreBase=o});

define("DistributedTaskControls/Variables/Common/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.DefaultScopeKey=2147483647}(i=t.VariableConstants||(t.VariableConstants={})),function(n){n.StoreKey_ProcessVariablesDataStore="STORE_KEY_DEFINITION_VARIABLES_DATA_STORE";n.StoreKey_ProcessVariablesViewStore="STORE_KEY_DEFINITION_VARIABLES_VIEW_STORE";n.StoreKey_RuntimeVariablesStore="STORE_KEY_RUNTIME_VARIABLES_STORE";n.StoreKey_VariablesGridViewStore="STORE_KEY_DEFINITION_VARIABLES_GRID_VIEW_STORE";n.StoreKey_VariablesListViewStore="STORE_KEY_DEFINITION_VARIABLES_LIST_VIEW_STORE";n.StoreKey_ProcessVariablesFilterStore="STORE_KEY_PROCESS_VARIABLES_FILTER_STORE";n.StoreKey_ListGridViewStore="STORE_KEY_LIST_GRID_VIEW_STORE";n.StoreKey_CounterVariableDataStore="STORE_KEY_COUNTER_VARIABLE_DATA_STORE";n.StoreKey_CounterVariableViewStore="STORE_KEY_COUNTER_VARIABLE_VIEW_STORE"}(r=t.VariableStoreKeys||(t.VariableStoreKeys={})),function(n){n.VariablesSection_ActionsHub="ACTIONS_HUB_KEY_VARIABLES_SECTION_ACTIONS_HUB";n.VariablesSection_ViewActionsHub="ACTIONS_HUB_KEY_VARIABLES_VIEW_SECTION_ACTIONS_HUB";n.RuntimeVariables_ActionsHub="ACTIONS_HUB_KEY_RUNTIME_VARIABLES_SECTION_ACTIONS_HUB";n.VariablesSection_FiltersActionsHub="ACTIONS_HUB_KEY_VARIABLES_SECTION_FILTERS_ACTIONS_HUB";n.VariablesGrid_ActionsHub="ACTIONS_HUB_KEY_VARIABLES_GRID_ACTIONS_HUB";n.VariablesPivot_ActionsHub="ACTIONS_HUB_KEY_VARIABLES_PIVOT_ACTIONS_HUB";n.CounterVariables_ActionHub="ACTIONS_HUB_KEY_COUNTER_VARIABLES_ACTION_HUB";n.CounterVariables_ViewActionHub="ACTIONS_HUB_KEY_COUNTER_VARIABLES_VIEW_ACTION_HUB"}(u=t.VariableActionHubKeys||(t.VariableActionHubKeys={})),function(n){n.VariablesSection_ActionCreator="ACTIONS_CREATOR_KEY_VARIABLES_SECTION_ACTIONS_CREATOR";n.RuntimeVariables_ActionCreator="ACTIONS_CREATOR_KEY_RUNTIME_VARIABLES_SECTION_ACTION_CREATOR";n.VariablesGrid_ActionCreator="ACTIONS_CREATOR_KEY_VARIABLES_GRID_ACTIONS_CREATOR";n.CounterVariables_ActionCreator="ACTIONS_CREATOR_KEY_COUNTER_VARIABLES_ACTIONS_CREATOR"}(f=t.VariableActionCreatorKeys||(t.VariableActionCreatorKeys={})),function(n){n.IconColumnKey="icon";n.NameColumnKey="name";n.ValueColumnKey="value";n.DeleteColumnKey="delete";n.SecretColumnKey="secret";n.SettableAtQueueTimeColumnKey="settableAtQueueTime";n.ScopeColumnKey="scope";n.ContributedValueMenuColumnKey="contributedValueMenu"}(e=t.VariableColumnKeys||(t.VariableColumnKeys={})),function(n){n.HeaderName="headerName";n.MinWidth="minWidth";n.MaxWidth="maxWidth";n.IsReadOnly="isReadOnly"}(o=t.ProcessVariableColumnOptionProperties||(t.ProcessVariableColumnOptionProperties={})),function(n){n.NameColumnKey="name";n.ValueColumnKey="value"}(s=t.VariableGroupColumnKeys||(t.VariableGroupColumnKeys={})),function(n){n.NameFieldKey="name";n.ValueFieldKey="value"}(h=t.VariableGroupFieldNameKeys||(t.VariableGroupFieldNameKeys={})),function(n){n.NameColumnKey="dtc-pv-grid-name-column-key";n.IconColumnKey="dtc-pv-grid-icon-column-key"}(c=t.ProcessVariablesGridViewColumnKeys||(t.ProcessVariablesGridViewColumnKeys={})),function(n){n.Keyword="keyword";n.Scope="scope"}(l=t.ProcessVariablesFilterKeys||(t.ProcessVariablesFilterKeys={})),function(n){n.List="List";n.Grid="Grid"}(a=t.ListGridPivotKeys||(t.ListGridPivotKeys={})),function(n){n.VariableGroupLinkPanelScopePickerInstanceId="link-variable-group-panel-scope-picker-store-instance";n.VariableGroupEditPanelScopePickerInstanceId="edit-variable-group-panel-scope-picker-store-instance"}(v=t.InstanceIds||(t.InstanceIds={})),function(n){n.Default="default";n.Others="others"}(y=t.ScopePickerChoiceGroupKeys||(t.ScopePickerChoiceGroupKeys={})),function(n){n.Icon="icon";n.Name="name";n.Delete="delete";n.Seed="seed";n.Value="value";n.Reset="reset"}(p=t.CounterVariableColumnKeys||(t.CounterVariableColumnKeys={}))});

define("DistributedTaskControls/Variables/Common/DataStoreBase",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/VariableUtils","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._currentVariablesArray=[],t}return __extends(t,n),t.prototype.disposeInternal=function(){this._currentVariablesArray=null},t.prototype.getVariableList=function(){var n=[];return this._currentVariablesArray&&this._currentVariablesArray.forEach(function(t){if(!t.isSystemVariable){var i={name:t.name.trim(),variable:{allowOverride:t.allowOverride,isSecret:t.isSecret,value:u.VariablesUtils.getVariableValue(t)}};t.scope&&(i.variable.scope=t.scope);n.push(i)}}),n},t.prototype.getState=function(){return{variablesArray:this._currentVariablesArray}},t.prototype.getCurrentVariablesArray=function(){return this._currentVariablesArray},t.prototype.setCurrentVariablesArray=function(n){this._currentVariablesArray=n},t.prototype.isValid=function(){var i=this,t=!0,n={},u=r.VariableConstants.DefaultScopeKey;return this.getCurrentVariablesArray().forEach(function(r){if(i._isVariableInErrorState(r))return t=!1,!1;var e=r.name.trim().toLocaleLowerCase(),f=(r.scope?r.scope.key:u).toString(10);if(n.hasOwnProperty(f)){if(n[f].hasOwnProperty(e))return t=!1,!1;n[f][e]=r.value}else n[f]={},n[f][e]=r.value}),t},t.prototype._updateVariableName=function(n,t){this._currentVariablesArray[t].hasVariableBeenUpdatedByUser=!0;this._currentVariablesArray[t].name=n},t.prototype._updateVariableValueText=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].hasVariableBeenUpdatedByUser=!0,this._currentVariablesArray[t].value=n)},t.prototype._updateIsSecret=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].hasVariableBeenUpdatedByUser=!0,this._currentVariablesArray[t].isSecret=n,n===!1&&(this._currentVariablesArray[t].value=this._currentVariablesArray[t].value||f.empty))},t.prototype._updateDisableSecretConversion=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].disableSecretConversion=n)},t.prototype._updateAllowOverride=function(n,t){n!==null&&n!==undefined&&(this._currentVariablesArray[t].allowOverride=n)},t.prototype._appendVariable=function(n){this._currentVariablesArray.push(n)},t.prototype._appendVariables=function(n){var t;(t=this._currentVariablesArray).push.apply(t,n)},t.prototype._removeVariable=function(n){this._currentVariablesArray.splice(n,1)},t.prototype._isVariableInErrorState=function(n){if(!n.name)return!0;var t=n.name.trim().toLowerCase();return t===f.empty},t}(i.ChangeTrackerStoreBase);t.VariablesStoreBase=e});

define("VSS/Flux/Action",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i="DEFAULT_SCOPE",r=function(){function n(n){n===void 0&&(n=i);this._listeners=[];this._scope=n}return n.prototype.invoke=function(t){if(n.executingScopes[this._scope])throw new Error("Cannot invoke an action with scope "+this._scope+" from inside another action with the same scope");n.executingScopes[this._scope]=!0;try{this._listeners.forEach(function(n){n(t)})}finally{delete n.executingScopes[this._scope]}},n.prototype.addListener=function(n,t){var i=t?n.bind(t):n;return this._listeners.push(i),i},n.prototype.removeListener=function(n){var t=this._listeners.indexOf(n);t>=0&&this._listeners.splice(t,1)},n.executingScopes={},n}();t.Action=r});

define("VSS/Flux/ReactPerf",["require","exports","react"],function(n,t,i){function r(){i.addons&&i.addons.Perf&&i.addons.Perf.start()}function u(){i.addons&&i.addons.Perf&&i.addons.Perf.stop()}function f(){if(i.addons&&i.addons.Perf)return i.addons.Perf.getLastMeasurements()}function e(n){i.addons&&i.addons.Perf&&(console.table||(console.table=function(n){if(n&&n.length){var t=Object.keys(n[0]);console.log(t.join(", "));n.forEach(function(n){var i=t.map(function(t){return n[t]});console.log(i.join(", "))})}}),i.addons.Perf.printWasted(n))}Object.defineProperty(t,"__esModule",{value:!0});t.start=r;t.stop=u;t.getLastMeasurements=f;t.printWasted=e});

define("DistributedTaskControls/Common/Actions/Base",["require","exports","DistributedTaskControls/Common/Factory","VSS/Flux/Action","VSS/Flux/ReactPerf"],function(n,t,i,r,u){var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.Initializable);t.ActionCreatorBase=f;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.Initializable);t.ActionsHubBase=e;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.invoke=function(t){u.start();n.prototype.invoke.call(this,t);u.stop();u.printWasted(u.getLastMeasurements())},t}(r.Action);t.Action=o});

define("DistributedTaskControls/Variables/Common/Actions/ActionsBase",["require","exports","DistributedTaskControls/Common/Actions/Base","VSS/Flux/Action"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateVariableKey=new r.Action;this._updateVariableValue=new r.Action;this._deleteVariable=new r.Action;this._addVariable=new r.Action},Object.defineProperty(t.prototype,"updateVariableKey",{get:function(){return this._updateVariableKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateVariableValue",{get:function(){return this._updateVariableValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteVariable",{get:function(){return this._deleteVariable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addVariable",{get:function(){return this._addVariable},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.ActionsBase=u});

define("DistributedTaskControls/Variables/ProcessVariables/Actions/Actions",["require","exports","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/Actions/ActionsBase","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._createProcessVariables=new u.Action;this._updateProcessVariables=new u.Action;this._updateScopePermissions=new u.Action;this._sort=new u.Action;this._addScopedProcessVariables=new u.Action;this._cloneScopedProcessVariables=new u.Action;this._updateScope=new u.Action;this._deleteScope=new u.Action;this._toggleEditMode=new u.Action},t.getKey=function(){return i.VariableActionHubKeys.VariablesSection_ActionsHub},Object.defineProperty(t.prototype,"createProcessVariables",{get:function(){return this._createProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateProcessVariables",{get:function(){return this._updateProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateScopePermissions",{get:function(){return this._updateScopePermissions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleEditMode",{get:function(){return this._toggleEditMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addScopedProcessVariables",{get:function(){return this._addScopedProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneScopedProcessVariables",{get:function(){return this._cloneScopedProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateScope",{get:function(){return this._updateScope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteScope",{get:function(){return this._deleteScope},enumerable:!0,configurable:!0}),t}(r.ActionsBase);t.ProcessVariablesActions=f});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("DistributedTaskControls/Variables/ProcessVariables/DataStore",["require","exports","DistributedTasksCommon/TFS.Tasks.Common.Variables","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/Common/DataStoreBase","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariables/Actions/Actions","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Utilities","VSS/Context","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._scopeKeyToPermissionsMap={},t._originalVariablesArray=[],t._scopes=[],t}return __extends(t,n),t.getKey=function(){return e.VariableStoreKeys.StoreKey_ProcessVariablesDataStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(o.ProcessVariablesActions,n);this._actionsHub.createProcessVariables.addListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.addListener(this._initializeOrUpdateProcessVariables);this._actionsHub.updateScopePermissions.addListener(this._updateScopePermissions);this._actionsHub.updateVariableKey.addListener(this._updateVariableKey);this._actionsHub.updateVariableValue.addListener(this._updateVariableValue);this._actionsHub.deleteVariable.addListener(this._deleteVariable);this._actionsHub.addVariable.addListener(this._addVariable);this._actionsHub.addScopedProcessVariables.addListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.addListener(this._cloneScopedVariables);this._actionsHub.updateScope.addListener(this._handleUpdateScope);this._actionsHub.deleteScope.addListener(this._handleDeleteScope)},t.prototype.shouldShowPermissionWarning=function(n){return n!==e.VariableConstants.DefaultScopeKey&&this._scopeKeyToPermissionsMap[n]!==undefined?this._hasDefinitionEditPermission&&!this._scopeKeyToPermissionsMap[n]:!1},t.prototype.getPermissionWarningMessage=function(){return this._permissionWarningMessage},t.prototype.getDefaultScopes=function(){return[]},t.prototype.getVariableOverviewErrorMessage=function(){return l.empty},t.prototype.disposeInternal=function(){this._actionsHub.createProcessVariables.removeListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.removeListener(this._initializeOrUpdateProcessVariables);this._actionsHub.updateScopePermissions.removeListener(this._updateScopePermissions);this._actionsHub.updateVariableKey.removeListener(this._updateVariableKey);this._actionsHub.updateVariableValue.removeListener(this._updateVariableValue);this._actionsHub.deleteVariable.removeListener(this._deleteVariable);this._actionsHub.addVariable.removeListener(this._addVariable);this._actionsHub.addScopedProcessVariables.removeListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.removeListener(this._cloneScopedVariables);this._actionsHub.updateScope.removeListener(this._handleUpdateScope);this._actionsHub.deleteScope.removeListener(this._handleDeleteScope);this._originalVariablesArray=null;n.prototype.disposeInternal.call(this)},t.prototype._updateVariableValue=function(t){n.prototype._updateVariableValueText.call(this,t.variable.value,t.index);n.prototype._updateIsSecret.call(this,t.variable.isSecret,t.index);n.prototype._updateAllowOverride.call(this,t.variable.allowOverride,t.index);this.emitChanged()},t.prototype._getActionsHub=function(){return this._actionsHub},t.prototype._getScopes=function(){return this._scopes},t.prototype.getOriginalVariablesArray=function(){return this._originalVariablesArray},t.prototype.isDirty=function(){return!u.VariablesUtils.areEqual(this.getCurrentVariablesArray(),this._originalVariablesArray)},t.prototype._createProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this.emitChanged()},t.prototype._updateScopePermissions=function(n){var t,i,r;if(n.scopePermissions){for(t=0,i=n.scopePermissions;t<i.length;t++)r=i[t],this._scopeKeyToPermissionsMap[r.scopeKey]=r.hasPermission;this._hasDefinitionEditPermission=n.hasDefinitionEditPermission;this._permissionWarningMessage=n.permissionWarningMessage;this.emitChanged()}},t.prototype._initializeOrUpdateProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this.emitChanged()},t.prototype._createOrUpdateProcessVariablesListener=function(n){var r=this,i,t;this._originalVariablesArray=u.VariablesUtils.createVariablesCopy(n.variableList);i=u.VariablesUtils.createVariablesCopy(n.variableList);n.skipSystemVariables||(t=this._getSystemVariables(n.definitionId),Object.keys(t).reverse().forEach(function(u){n.variableList&&n.variableList.hasOwnProperty(u)||(r._originalVariablesArray.unshift(t[u]),i.unshift(t[u]))}));this.setCurrentVariablesArray(i);this._scopes=n.scopes||[]},t.prototype._updateVariableKey=function(n){this._updateVariableName(n.key,n.index);this.emitChanged()},t.prototype._addVariable=function(){var i={name:l.empty,isSecret:!1,value:l.empty,allowOverride:!1},t,n;this._scopes&&this._scopes.length>0&&(t=void 0,n=this._scopes.filter(function(n){return n.key===e.VariableConstants.DefaultScopeKey}),n&&n.length>0&&(t=n[0]),i.scope=t);this._appendVariable(i);this.emitChanged()},t.prototype._deleteVariable=function(n){this._removeVariable(n.index);this.emitChanged()},t.prototype._addScopedVariables=function(n){this._appendVariables(u.VariablesUtils.createVariablesCopy(n.variableList));this._scopes.push(n.scope);this.emitChanged()},t.prototype._cloneScopedVariables=function(n){var t=u.VariablesUtils.getVariablesInScope(this.getCurrentVariablesArray(),n.sourceScopeKey),i=u.VariablesUtils.cloneScopedProcessVariables(t,n.targetScope);this._appendVariables(i);this._scopes.push(n.targetScope);this.emitChanged()},t.prototype._handleUpdateScope=function(n){var i=this._getScopes(),t=i&&i.filter(function(t){return t.key===n.key});t&&t.length>0&&(t[0].value=n.value);u.VariablesUtils.updateScopeOfVariables(this.getCurrentVariablesArray(),n);this.emitChanged()},t.prototype._handleDeleteScope=function(n){var t=this.getCurrentVariablesArray().filter(function(t){return t.scope.key!==n.key});this.setCurrentVariablesArray(t);this._scopes=this._getScopes().filter(function(t){return t.key!==n.key});delete this._scopeKeyToPermissionsMap[n.key];this.emitChanged()},t.prototype._getSystemVariables=function(n){var t={};return i.ImplicitVariables.GetImplicitVariables(c.getDefaultWebContext()).forEach(function(n){n.isSystemVariable=!0;t[n.name]=n}),t[i.ImplicitVariableNames.DefinitionId].value=!!n&&n>=0?n.toString():s.NoDefinitionIdYetText,t},__decorate([h.autobind],t.prototype,"_updateVariableValue",null),__decorate([h.autobind],t.prototype,"_createProcessVariables",null),__decorate([h.autobind],t.prototype,"_updateScopePermissions",null),__decorate([h.autobind],t.prototype,"_initializeOrUpdateProcessVariables",null),__decorate([h.autobind],t.prototype,"_updateVariableKey",null),__decorate([h.autobind],t.prototype,"_addVariable",null),__decorate([h.autobind],t.prototype,"_deleteVariable",null),__decorate([h.autobind],t.prototype,"_addScopedVariables",null),__decorate([h.autobind],t.prototype,"_cloneScopedVariables",null),__decorate([h.autobind],t.prototype,"_handleUpdateScope",null),__decorate([h.autobind],t.prototype,"_handleDeleteScope",null),t}(f.VariablesStoreBase);t.ProcessVariablesStore=a});

define("DistributedTaskControls/Variables/ProcessVariablesV2/ProcessVariablesUtils",["require","exports","VSS/Utils/String","VSS/Utils/Number"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.compareByName=function(n,t,r){var u=i.localeComparer(n.name,t.name);return r?-u:u},n.compareByValue=function(n,t,r){var u=i.localeComparer(n.value,t.value);return r?-u:u},n.compareByScope=function(n,t,r){var u=i.localeComparer(n.scope.value,t.scope.value);return r?-u:u},n.compareDeep=function(n,t){var f=n.scope&&t.scope?r.defaultComparer(n.scope.key,t.scope.key):0,u;return f===0?(u=i.localeComparer(n.name,t.name),u===0?i.localeComparer(n.value,t.value):u):f},n}();t.ProcessVariablesUtils=u});

define("DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper",["require","exports","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Valid=0]="Valid";n[n.Invalid=1]="Invalid"}(f=t.ValidState||(t.ValidState={}));e=function(){function n(){}return n.getNameValidationState=function(t,i){if(t.isSecret&&t.name.trim()===u.empty)return n._getInvalidValidationState(r.VariableNameRequiredMessage);if(t.name.trim()!==u.empty||t.value&&t.value.trim()!==u.empty){if(t.name.trim()===u.empty)return n._getInvalidValidationState(r.VariableNameRequiredMessage);if(i[t.name.trim().toLocaleLowerCase()]>1)return t.scope?n._getInvalidValidationState(u.format(r.VariableNameDuplicateMessage,t.name,t.scope.value)):n._getInvalidValidationState(u.format(r.VariableNameDuplicateMessageNoScope,t.name))}else return n._getValidValidationState();return n._getValidValidationState()},n.getValueValidationState=function(t){return!!t.isSecret&&!!t.hasSecretValueBeenReset&&!t.hasVariableBeenUpdatedByUser?n._getInvalidValidationState(r.SecretVariableValueResetMessage):n._getValidValidationState()},n.getDuplicateVariableNamesMap=function(n,t){n=n||[];var i={};return n?(n.forEach(function(n){var u=n.name.trim().toLocaleLowerCase(),r=(n.scope?n.scope.key:t).toString(10);i.hasOwnProperty(r)?i[r].hasOwnProperty(u)?i[r][u]++:i[r][u]=1:(i[r]={},i[r][u]=1)}),i):i},n.getUniqueInvalidScopeKeys=function(t){for(var r,u=[],f=t||[],s=f.length,o=i.VariableConstants.DefaultScopeKey,h=n.getDuplicateVariableNamesMap(f,o),e=0;e<s;e++)r=f[e],n.isVariableValid(h,r)||(r.scope?u.push(r.scope.key):u.push(o));return n._getUniqueScopeKeys(u)},n._getUniqueScopeKeys=function(n){return n&&n.length>0?n.filter(function(n,t,i){return i.indexOf(n)===t}):[]},n.isVariableValid=function(t,r){var e=(r.scope?r.scope.key:i.VariableConstants.DefaultScopeKey).toString(10),o=t[e],s=n.getValueValidationState(r),u;return s.state===f.Invalid?!1:(u=n.getNameValidationState(r,o),u.state===f.Invalid)?!1:!0},n._getValidValidationState=function(){return{state:f.Valid,message:u.empty}},n._getInvalidValidationState=function(n){return{state:f.Invalid,message:n}},n}();t.ValidationHelper=e});

define("DistributedTaskControls/Variables/ProcessVariablesV2/DataStore",["require","exports","DistributedTaskControls/Variables/ProcessVariables/DataStore","DistributedTaskControls/Variables/ProcessVariablesV2/ProcessVariablesUtils","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Utilities","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleToggleEditMode=function(n){n.editMode=!1;t.getCurrentVariablesArray().forEach(function(t){t.disableVariable=!n.editMode});t._variablesDisabledMode=!n.editMode;t.emitChanged()},t}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._sortOptions={columnKey:u.VariableColumnKeys.NameColumnKey,isSortedDescending:!1};this._getActionsHub().sort.addListener(this._sort);this._getActionsHub().toggleEditMode.addListener(this._handleToggleEditMode)},t.prototype.getState=function(){return{scopes:n.prototype._getScopes.call(this),variablesArray:n.prototype.getState.call(this).variablesArray,isSortedDescending:this._sortOptions&&this._sortOptions.isSortedDescending,sortedColumnKey:this._sortOptions&&this._sortOptions.columnKey,variablesDisabledMode:this._variablesDisabledMode,hideAddVariables:this._hideAddVariables}},t.prototype.disposeInternal=function(){this._getActionsHub().sort.removeListener(this._sort);this._getActionsHub().toggleEditMode.removeListener(this._handleToggleEditMode);n.prototype.disposeInternal.call(this)},t.prototype._updateVariableValue=function(t){n.prototype._updateVariableValueText.call(this,t.variable.value,t.index);n.prototype._updateIsSecret.call(this,t.variable.isSecret,t.index);n.prototype._updateAllowOverride.call(this,t.variable.allowOverride,t.index);this._updateScope(t.variable.scope,t.index);this.emitChanged()},t.prototype._updateScope=function(n,t){if(n!==null&&n!==undefined){var i=this.getCurrentVariablesArray()[t];i.hasVariableBeenUpdatedByUser=!0;i.scope=n;!i.isSecret||(i.value===null||i.value===undefined)&&(i.value=c.empty)}},t.prototype._updateScopePermissions=function(n){var t,i,r;if(n.scopePermissions){for(t=0,i=n.scopePermissions;t<i.length;t++)r=i[t],this._scopeKeyToPermissionsMap[r.scopeKey]=r.hasPermission;this._hasDefinitionEditPermission=n.hasDefinitionEditPermission;this._permissionWarningMessage=n.permissionWarningMessage;this._updateVariablesDisability();this._updateScopesDisability();this.emitChanged()}},t.prototype._updateVariablesDisability=function(){var n=this,t=this.getState().variablesArray;t.forEach(function(t){t.disableVariable=!1;t.disableVariable=n._scopeKeyToPermissionsMap[t.scope.key]===!1})},t.prototype._updateScopesDisability=function(){var n=this,t=this.getState().scopes;t.forEach(function(t){n._scopeKeyToPermissionsMap[t.key]===!1&&(t.isDisabled=!0)})},t.prototype._sort=function(n){this._sortProcessVariables(n);this.emitChanged()},t.prototype._createProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this._sortProcessVariables({columnKey:u.VariableColumnKeys.NameColumnKey,isSortedDescending:!1});this.getCurrentVariablesArray().forEach(function(t){t.disableVariable=!!n.disabledMode});this._variablesDisabledMode=!!n.disabledMode;this._hideAddVariables=!!n.hideAddVariables;this.emitChanged()},t.prototype._initializeOrUpdateProcessVariables=function(n){this._createOrUpdateProcessVariablesListener(n);this._sortProcessVariables(this._sortOptions);this.getCurrentVariablesArray().forEach(function(t){t.disableSecretVariableName=t.isSecret;t.disableVariable=!!n.disabledMode});this._variablesDisabledMode=!!n.disabledMode;this._hideAddVariables=!!n.hideAddVariables;this.emitChanged()},t.prototype._sortProcessVariables=function(n){if(n){var t=this.getCurrentVariablesArray().slice();switch(n.columnKey){case u.VariableColumnKeys.NameColumnKey:t.sort(function(t,i){return r.ProcessVariablesUtils.compareByName(t,i,n.isSortedDescending)});break;case u.VariableColumnKeys.ValueColumnKey:t.sort(function(t,i){return r.ProcessVariablesUtils.compareByValue(t,i,n.isSortedDescending)});break;case u.VariableColumnKeys.ScopeColumnKey:t.sort(function(t,i){return r.ProcessVariablesUtils.compareByScope(t,i,n.isSortedDescending)})}this._sortOptions=n;this.setCurrentVariablesArray(t)}},t.prototype.isValid=function(){return(this._invalidUniqueScopeKeys=f.ValidationHelper.getUniqueInvalidScopeKeys(this.getCurrentVariablesArray()),this._invalidUniqueScopeKeys&&this._invalidUniqueScopeKeys.length>0)?!1:!0},t.prototype.getInvalidUniqueScopeKeys=function(){return this._invalidUniqueScopeKeys},t.prototype.getVariableOverviewErrorMessage=function(){var n,t,i;return this.isValid()?null:(n=this.getInvalidUniqueScopeKeys(),n&&n.length>0?(t=this._getScopes(),n.length===1)?(i=c.empty,t&&t.length>0&&t.forEach(function(t){t.key===n[0]&&(i=t.value)}),c.localeFormat(o.VariablesNeedAttentionSingleScope,i)):c.localeFormat(o.VariablesNeedAttentionMultipleScopes):o.VariablesNeedAttention)},t.prototype.isDirty=function(){var n=this.getOriginalVariablesArray().slice(),t=this.getCurrentVariablesArray().slice();return n.sort(function(n,t){return r.ProcessVariablesUtils.compareDeep(n,t)}),t.sort(function(n,t){return r.ProcessVariablesUtils.compareDeep(n,t)}),!e.VariablesUtils.areEqual(t,n)},t.prototype.getDefaultScopes=function(t){var r=n.prototype._getScopes.call(this),i=[],f=h.first(r,function(n){return n.key===u.VariableConstants.DefaultScopeKey}),e=h.first(r,function(n){return n.key===t});return e&&f&&(i.push(f),i.push(e)),i},__decorate([s.autobind],t.prototype,"_updateVariableValue",null),__decorate([s.autobind],t.prototype,"_updateScopePermissions",null),__decorate([s.autobind],t.prototype,"_sort",null),__decorate([s.autobind],t.prototype,"_createProcessVariables",null),__decorate([s.autobind],t.prototype,"_initializeOrUpdateProcessVariables",null),t}(i.ProcessVariablesStore);t.ProcessVariablesV2Store=l});

define("PipelineWorkflow/Scripts/Common/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.FeatureArea="CD";n.ReleaseManagementServiceInstanceId="0000000d-0000-8888-8000-000000000000";n.SecurityNameSpaceIdForReleaseManagement="C788C23E-1B46-4162-8F5E-D7585343B5DE";n.SecurityNameSpaceIdForDashboards="8ADF73B7-389A-4276-B638-FE1653F7EFC7";n.SecurityNameSpaceIdForReleaseManagementUI="7c7d32f7-0e86-4cd6-892e-b35dbba870bd";n.ReleaseManagementUIPermissionToken="/ReleaseManagementUI";n.ReleaseDescriptionLengthLimit=4e3}(i=t.CommonConstants||(t.CommonConstants={})),function(n){n.EditDefinition="VSO.CD.EditDefinition";n.SaveDefinition="VSO.CD.SaveDefinition";n.CreateDefinition="VSO.CD.CreateDefinition";n.CloneDefinition="VSO.CD.CloneDefinition";n.ImportDefinition="VSO.CD.ImportDefinition";n.SaveRelease="VSO.CD.SaveRelease";n.DeploymentGroupGrid="VSO.CD.DeploymentGroupGrid";n.CreateReleaseDialog="VSO.CD.OpenCreateReleaseDialog";n.StartRelease="VSO.CD.StartRelease"}(r=t.PerfScenarios||(t.PerfScenarios={})),function(n){n.DeployHelpLink="https://go.microsoft.com/fwlink/?LinkId=619385"}(u=t.HelpConstants||(t.HelpConstants={})),function(n){n.StoreKey_CommonDialogStoreKey="STORE_KEY_COMMON_DIALOG_STORE";n.StoreKey_ProgressIndicatorStoreKey="STORE_KEY_PROGRESS_INDICATOR_STORE"}(f=t.CommonStoreKeys||(t.CommonStoreKeys={})),function(n){n.ActionsCreatorKey_CommonDialogActionsCreator="ACTIONS_CREATOR_KEY_COMMON_DIALOG_ACTIONS_CREATOR";n.ActionsCreatorKey_ProgressIndicatorActionsCreator="ACTIONS_CREATOR_KEY_PROGRESS_INDICATOR_ACTIONS_CREATOR"}(e=t.CommonActionsCreatorKeys||(t.CommonActionsCreatorKeys={})),function(n){n.ActionHubKey_CommonDialogActionHub="ACTION_HUB_KEY_COMMON_DIALOG_ACTION_HUB";n.ActionHubKey_ProgressIndicatorActionHub="ACTION_HUB_KEY_PROGRESS_INDICATOR_ACTION_HUB"}(o=t.CommonActionHubKeys||(t.CommonActionHubKeys={})),function(n){n.ReleaseManagementEditorHubId="ms.vss-releaseManagement-web.cd-workflow-hub";n.ReleaseManagementExplorerHubId="ms.vss-releaseManagement-web.hub-explorer";n.ReleaseProgressHubId="ms.vss-releaseManagement-web.cd-release-progress";n.ReleaseManagementExplorer2HubId="ms.vss-releaseManagement-web.hub-explorer-2";n.AgentsHubId="ms.vss-build.web.agent-queues-hub";n.YamlHub="ms.vss-releaseManagement-web.cd-release-yaml-editor"}(s=t.NavigationConstants||(t.NavigationConstants={})),function(n){n.HubExplorerReRouteId="ms.vss-releaseManagement-web.hub-explorer-reroute"}(h=t.HubRoutes||(t.HubRoutes={})),function(n){n.CreateReleasePanelContributionId="ms.vss-releaseManagement-web.cd-create-release";n.CreateReleaseVersionPickerContributionId="ms.vss-releaseManagement-web.create-release-version-picker";n.CreateReleaseArtifactPathVariablePickerMenuContributionId="ms.vss-releaseManagement-web.create-release-variables-value-artifact-path-picker-menu";n.CreateReleaseBuildVersionPickerMenuContributionId="ms.vss-releaseManagement-web.create-release-build-version-picker-menu";n.ReleaseDetailsSummaryTabContributionId="ms.vss-releaseManagement-web.release-details-summary-tab";n.ReleaseEnvironmentPivotContributionId="ms.vss-releaseManagement-web.release-environment-editor-tab";n.ReleaseEnvironmentDeploymentGroupLogsPivotContributionId="ms.vss-releaseManagement-web.release-environment-deployment-group-logs-tab";n.ReleasePivotContributionId="ms.vss-releaseManagement-web.release-editor-tab";n.ReleaseEnvironmentEditorToolbarMenuContributionId="ms.vss-releaseManagement-web.release-environment-editor-tool-bar-menu";n.ReleaseEditorToolbarMenuContributionId="ms.vss-releaseManagement-web.release-editor-tool-bar-menu";n.ReleaseDetailsViewContributionId="ms.vss-releaseManagement-web.release-details-view";n.ReleaseDeploymentPipelineNodeContributionId="ms.vss-releaseManagement-web.release-deployment-pipeline-node-extension";n.AllDefinitionsToolbarMenuContributionId="ms.vss-releaseManagement-web.release-definition-explorer-toolbar-menu";n.AllDefinitionsContextMenuContributionId="ms.vss-releaseManagement-web.release-definition-explorer-context-menu"}(c=t.ContributionIds||(t.ContributionIds={})),function(n){n.ReleaseSummaryTabContributionTypeId="ms.vss-releaseManagement-web.release-summary-tab"}(l=t.SupportedContributionTypes||(t.SupportedContributionTypes={})),function(n){n.ShowAllReleasesTreatmentFlight="RM-SHOWRELEASES-T"}(a=t.FlightNames||(t.FlightNames={}))});

define("PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActions",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Common/Constants","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._actionStarted=new u.Action;this._actionCompleted=new u.Action},t.getKey=function(){return r.CommonActionHubKeys.ActionHubKey_ProgressIndicatorActionHub},Object.defineProperty(t.prototype,"actionStarted",{get:function(){return this._actionStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCompleted",{get:function(){return this._actionCompleted},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.ProgressIndicatorActions=f});

define("PipelineWorkflow/Scripts/Common/Stores/ProgressIndicatorStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActions","PipelineWorkflow/Scripts/Common/Constants","VSS/Utils/Array"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleActionStarted=function(n){t._actionsCount++;t._inProgressActions.push(n);t.emitChanged()},t._handleActionCompleted=function(n){t._actionsCount>0?t._actionsCount--:t._actionsCount=0;e.remove(t._inProgressActions,n);t.emitChanged()},t._actionsCount=0,t}return __extends(t,n),t.getKey=function(){return f.CommonStoreKeys.StoreKey_ProgressIndicatorStoreKey},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._inProgressActions=[];this._actions=i.ActionsHubManager.GetActionsHub(u.ProgressIndicatorActions,t);this._actions.actionStarted.addListener(this._handleActionStarted);this._actions.actionCompleted.addListener(this._handleActionCompleted)},t.prototype.getState=function(){return this._actionsCount},t.prototype.hasAnyActionsInProgress=function(){return this._actionsCount>0},t.prototype.isActionInProgress=function(n){return e.contains(this._inProgressActions,n)},t.prototype.disposeInternal=function(){this._actions.actionStarted.removeListener(this._handleActionStarted);this._actions.actionCompleted.removeListener(this._handleActionCompleted)},t}(r.StoreBase);t.ProgressIndicatorStore=o});

define("DistributedTaskControls/Common/Stores/AggregatorStoreBase",["require","exports","DistributedTaskControls/Common/Stores/Base"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleChange=function(){t.emitChanged()},t}return __extends(t,n),t.prototype.disposeInternal=function(){var n=this;this.getStores().forEach(function(t){t.removeChangedListener(n._handleChange)});this.clearStores()},t.prototype.addToStoreList=function(n,t){this.getStores().push(n);t||n.addChangedListener(this._handleChange)},t.prototype.removeFromStoreList=function(n){var t=this.getStores().indexOf(n);t>=0&&(this.getStores().splice(t,1),n.removeChangedListener(this._handleChange))},t}(i.StoreBase);t.AggregatorStoreBase=r;u=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._viewStores=[],t._viewStores=[],t}return __extends(t,n),t.prototype.getViewStoreList=function(){return this._viewStores},t.prototype.getStores=function(){return this.getViewStoreList()},t.prototype.clearStores=function(){this._viewStores=[]},t}(r);t.AggregatorViewStoreBase=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dataStores=[],t}return __extends(t,n),t.prototype.getDataStoreList=function(){return this._dataStores||[]},t.prototype.isDirty=function(){var n=!1;return this.getDataStoreList().forEach(function(t){if(t.isDirty()){n=!0;return}}),n},t.prototype.isValid=function(){var n=!0;return this.getDataStoreList().forEach(function(t){if(!t.isValid()){n=!1;return}}),n},t.prototype.getStores=function(){return this.getDataStoreList()},t.prototype.clearStores=function(){this._dataStores=[]},t.prototype.initializeDataStores=function(n){this._dataStores=n},t}(r);t.AggregatorDataStoreBase=f});

define("DistributedTaskControls/Common/Stores/ListDataStoreBase",["require","exports","DistributedTaskControls/Common/Stores/AggregatorStoreBase","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var i,r;t===void 0&&(t=!1);i=__construct(this,n,[]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._isOrdered=t,i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._originalDataStores=[]},t.prototype.getDataStoreList=function(){return n.prototype.getDataStoreList.call(this)},t.prototype.isListDirty=function(){var t=this.getDataStoreList(),i,f,n,e,o;if(t.length!==this._originalDataStores.length)return!0;if(i=!0,this._isOrdered){for(f=t.length,n=0;n<f;n++)if(u.ignoreCaseComparer(t[n].getInstanceId(),this._originalDataStores[n].getInstanceId())!==0){i=!1;break}}else e=t.map(function(n){return n.getInstanceId()}),o=this._originalDataStores.map(function(n){return n.getInstanceId()}),i=r.arrayEquals(e,o,function(n,t){return u.ignoreCaseComparer(n,t)===0});return!i},t.prototype.isDirty=function(){return this.isListDirty()||n.prototype.isDirty.call(this)},t.prototype.initializeListDataStore=function(t){var f=this.getDataStoreList(),i,u,e;if(f.length>0)for(i=0,u=f;i<u.length;i++)e=u[i],e.removeChangedListener(this._handleChange);this._originalDataStores=r.clone(t||[]);n.prototype.initializeDataStores.call(this,r.clone(t||[]));this._initializeChangeListeners()},t.prototype.insertDataStore=function(t,i,r){i>=0&&(r||t.addChangedListener(this._handleChange),n.prototype.getDataStoreList.call(this).splice(i,0,t))},t.prototype.removeFromDataStoreList=function(t){var i=n.prototype.getDataStoreList.call(this).indexOf(t);i>=0&&(n.prototype.getDataStoreList.call(this).splice(i,1),t.removeChangedListener(this._handleChange))},t.prototype.reorderDataStoreList=function(t,i){var f=-1;f=r.findIndex(n.prototype.getDataStoreList.call(this),function(n){return n&&u.ignoreCaseComparer(n.getInstanceId(),t)===0});n.prototype.initializeDataStores.call(this,r.reorder(n.prototype.getDataStoreList.call(this),f,i,1))},t.prototype.handleUpdate=function(t,i){t&&(t.length!==n.prototype.getDataStoreList.call(this).length||i)?this.initializeListDataStore(t):(this._originalDataStores=[],this._originalDataStores=r.clone(n.prototype.getDataStoreList.call(this)))},t.prototype.getDataStoreAndIndex=function(n){for(var i=this.getDataStoreList(),r=null,u=-1,t=0,f=i.length;t<f;t++)if(i[t].getInstanceId()===n){r=i[t];u=t;break}return{dataStore:r,index:u}},t.prototype.getNextSelectableStoreAfterDelete=function(n){var t=this.getDataStoreList();return n<t.length?t[n]:n===t.length&&t.length!==0?t[n-1]:null},t.prototype.insertStoreAtTarget=function(n,t,i){var f=this.getDataStoreList(),r=-1;if(t){var u=this.getDataStoreAndIndex(t),o=u.dataStore,e=u.index;r=e;i||(r=r+1)}r<0&&(r=f.length);this.insertDataStore(n,r)},t.prototype.disposeInternal=function(){this._originalDataStores=[];n.prototype.disposeInternal.call(this)},t.prototype._initializeChangeListeners=function(){var t=this;n.prototype.getDataStoreList.call(this).forEach(function(n){n.addChangedListener(t._handleChange)})},t}(i.AggregatorDataStoreBase);t.ListDataStoreBase=f});

define("ReleaseManagement/Core/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.ApprovalMinimumTimeoutInMinutes=0;n.ApprovalMaximumTimeoutInMinutes=525600}(i=t.ApprovalOptions||(t.ApprovalOptions={})),function(n){n.IsMultiDefinitionType="IsMultiDefinitionType";n.ProjectId="project";n.ConnectionId="connection";n.ConnectionName="ConnectionName";n.DefinitionId="definition";n.MultipleDefinitionsId="definitions";n.DefaultVersionTypeId="defaultVersionType";n.DefaultVersionBranchId="defaultVersionBranch";n.DefaultVersionTagsId="defaultVersionTags";n.DefaultVersionSpecificId="defaultVersionSpecific";n.HasCustomStorageArtifactsId="hasCustomStorageArtifacts";n.LatestType="latestType";n.LatestFromBranchType="latestFromBranchType";n.LatestWithBranchAndTagsType="latestWithBranchAndTagsType";n.LatestWithBuildDefinitionBranchAndTagsType="latestWithBuildDefinitionBranchAndTagsType";n.SpecificVersionType="specificVersionType";n.SelectDuringReleaseCreationType="selectDuringReleaseCreationType";n.RepositoryId="repository";n.BranchId="branch";n.MappingsId="mappings";n.MappingTypeId="mappingType";n.ServerPathId="serverPath";n.LocalPathId="localPath";n.ArtifactId="artifacts";n.ItemPath="itemPath";n.Version="version";n.ArtifactSourceVersionUrl="artifactSourceVersionUrl";n.ArtifactSourceDefinitionUrl="artifactSourceDefinitionUrl";n.ArtifactItems="artifactItems";n.LabelSources="labelSources";n.LabelSourcesFormat="labelSourcesFormat";n.CheckoutSubmodules="checkoutSubmodules";n.CheckoutNestedSubmodules="checkoutNestedSubmodules";n.GitLfsSupport="gitLfsSupport";n.FetchDepth="fetchDepth";n.ReportBuildStatus="reportBuildStatus";n.ArtifactItemContent="artifactItemContent";n.BranchesId="branches";n.VisibleRule="visibleRule";n.DisableRule="disableRule";n.JenkinsJobTypeId="jenkinsJobType";n.Feed="feed";n.FeedView="view";n.PackageType="packageType";n.RegistryUrl="registryurl";n.IsTriggeringArtifact="IsTriggeringArtifact";n.ConnectedServiceId="connectedServiceId";n.IsSearchable="isSearchable";n.MultipleDefinitionIdsDelimiter=",";n.MultipleDefinitionsSourceIdDelimiter="$";n.IsXamlBuildArtifactType="IsXamlBuildArtifactType";n.WindowsPatternSuffix="/**";n.LinuxPatternSuffix="**"}(r=t.ArtifactDefinitionConstants||(t.ArtifactDefinitionConstants={})),function(n){n.All="All";n.Selective="Selective";n.Skip="Skip"}(u=t.ArtifactDownloadInputConstants||(t.ArtifactDownloadInputConstants={})),function(n){n.BuildArtifactType="Build";n.GitArtifactType="Git";n.GitHubArtifactType="GitHub";n.GitHubReleaseArtifactType="GitHubRelease";n.JenkinsArtifactType="Jenkins";n.TfvcArtifactType="TFVC";n.CircleCIArtifactType="CircleCI";n.NugetArtifactType="Nuget";n.TfsOnPremArtifactType="Team Build (external)";n.ExternalGitArtifactType="ExternalGit";n.ExternalTfsBuildArtifactType="ExternalTFSBuild";n.SvnArtifactType="Svn";n.ExternalTfsXamlBuildArtifactType="ExternalTfsXamlBuild";n.PackageManagementArtifactType="PackageManagement";n.DockerHubArtifactType="DockerHub";n.AzureContainerRepositoryArtifactType="AzureContainerRepository"}(f=t.ArtifactTypes||(t.ArtifactTypes={})),function(n){n.IsMultiDefinitionTypeKey="isMultiDefinitionType";n.DefinitionIdKey="definitionId";n.DefinitionNameKey="definitionName";n.SourceBranchKey="branch";n.SourceVersionKey="sourceVersion";n.RepositoryIdKey="repositoryId";n.RepositoryTypeKey="repositoryType";n.CommitMessageKey="commitMessage";n.PullRequestIdKey="pullRequestId";n.PullRequestIterationIdKey="pullRequestIterationId";n.PullRequestTargetBranchKey="pullRequestTargetBranch";n.PullRequestSourceBranchKey="pullRequestSourceBranch";n.PullRequestSourceBranchCommitIdKey="pullRequestSourceBranchCommitId";n.PullRequestMergedAtKey="pullRequestMergedAt"}(e=t.BuildVersionConstants||(t.BuildVersionConstants={})),function(n){n.AllTargetsInParallel="AllTargetsInParallel";n.HalfOfTargetsInParallel="HalfOfTargetsInParallel";n.QuarterOfTargetsInParallel="QuarterOfTargetsInParallel";n.OneTargetAtATime="OneTargetAtATime";n.Custom="Custom"}(o=t.DeploymentHealthOptionConstants||(t.DeploymentHealthOptionConstants={})),function(n){n.ReleaseDefinitionId="releaseDefinitionId";n.RestEndpointUrl="restEndpointUrl";n.WebEndpointUrl="webEndpointUrl"}(s=t.FavoriteItemKeys||(t.FavoriteItemKeys={})),function(n){n.ReleaseDefinitionItemName="Release.ReleaseDefinition"}(h=t.FavoriteItemNames||(t.FavoriteItemNames={})),function(n){n.ReleaseDefinitionTypeName="Microsoft.VisualStudio.Services.ReleaseManagement.WebApi.ReleaseDefinition"}(c=t.FavoriteItemTypes||(t.FavoriteItemTypes={})),function(n){n.ReleaseDefinitionScopeName="Release.ReleaseDefinition"}(l=t.FavoritesScopeNames||(t.FavoritesScopeNames={})),function(n){n.MinimumSamplingIntervalInMinutes=5;n.DefaultSamplingIntervalInMinutes=15;n.MaximumSamplingIntervalInMinutes=1440;n.MinimumStabilizationTimeInMinutes=0;n.DefaultStabilizationTimeInMinutes=5;n.MaximumStabilizationTimeInMinutes=2880;n.MinimumTimeoutInMinutes=6;n.DefaultJobTimeoutInMinutes=1440;n.MaximumTimeoutInMinutes=4320;n.DefaultMinimumSuccessDurationInMinutes=0;n.MinimumSuccessDurationMinAllowedValueInMinutes=0;n.MinimumSuccessDurationMaxAllowedValueInMinutes=2880}(a=t.GateConstants||(t.GateConstants={})),function(n){n.None="None";n.FailedTargets="FailedTargets"}(v=t.RedeploymentDeploymentGroupTargetFilter||(t.RedeploymentDeploymentGroupTargetFilter={})),function(n){n.LatestSuccessfulDeployment="LatestSuccessfulDeployment";n.SpecificRelease="SpecificRelease"}(y=t.RedeployTriggerAction||(t.RedeployTriggerAction={})),function(n){n.EnvironmentOwnerEmailNotificationValueAlways="Always";n.EnvironmentOwnerEmailNotificationValueTypeOnlyOnFailure="OnlyOnFailure";n.EnvironmentOwnerEmailNotificationValueNever="Never";n.EnvironmentOwnerEmailNotificationTypeDefaultValue="OnlyOnFailure";n.ReleaseCreator="release.creator";n.EnvironmentOwner="release.environment.owner"}(p=t.RunOptionsConstants||(t.RunOptionsConstants={})),function(n){n.Vsts="Vsts";n.AzureKeyVault="AzureKeyVault"}(w=t.VariableGroupType||(t.VariableGroupType={})),function(n){n.ReleaseArtifacts="release.artifacts.";n.ReleaseEnvironments="release.environments."}(b=t.WellKnownExtendedReleaseVariables||(t.WellKnownExtendedReleaseVariables={})),function(n){n.SuccessfulDeployments="SuccessfulDeployments";n.FailedDeployments="FailedDeployments";n.PartiallySuccessfulDeployments="PartiallySuccessfulDeployments"}(k=t.WellKnownMetrics||(t.WellKnownMetrics={})),function(n){n.PullRequestSystemType="pullRequestSystemType";n.PullRequestId="pullRequestId";n.PullRequestIterationId="pullRequestIterationId";n.PullRequestSourceBranchCommitId="pullRequestSourceBranchCommitId";n.PullRequestTargetBranch="pullRequestTargetBranch";n.PullRequestSourceBranch="pullRequestSourceBranch";n.PullRequestMergeCommitId="pullRequestMergeCommitId";n.PullRequestMergedAt="pullRequestMergedAt";n.PullRequestStatusPolicyName="pullRequestStatusPolicyName";n.TfsGitRepositoryId="pullRequestRepositoryId";n.TfsGitProjectId="pullRequestProjectId";n.GitHubRepositoryName="pullRequestRepositoryName";n.GitHubConnection="pullRequestSystemConnectionId"}(d=t.WellKnownPullRequestVariables||(t.WellKnownPullRequestVariables={})),function(n){n.AgentReleaseDirectory="agent.releaseDirectory";n.DeploymentGroupId="agent.deploymentGroupId";n.EnableAccessTokenVariableName="system.enableAccessToken";n.HostType="system.hosttype";n.ArtifactsDirectory="system.artifactsDirectory";n.CollectionId="system.collectionId";n.TeamProjectId="system.teamProjectId";n.TeamProject="system.teamProject";n.TotalJobsInPhase="system.totalJobsInPhase";n.JobPositionInPhase="system.jobPositionInPhase";n.ParallelExecutionType="system.parallelexecutiontype";n.ReleaseId="release.releaseId";n.SkipArtifactsDownload="release.skipartifactsDownload";n.ReleaseName="release.releaseName";n.ReleaseDescription="release.releaseDescription";n.ReleaseDisableRobocopy="release.disableRobocopy";n.ReleaseDefinitionName="release.definitionName";n.ReleaseDefinitionId="release.definitionId";n.ReleaseDefinitionEnvironmentId="release.definitionEnvironmentId";n.DeploymentId="release.deploymentId";n.ReleaseUri="release.releaseUri";n.ReleaseWebUrl="release.releaseWebUrl";n.ReleaseEnvironmentUri="release.environmentUri";n.ReleaseEnvironmentId="release.environmentId";n.ReleaseEnvironmentName="release.environmentName";n.ReleaseDeployPhaseId="release.deployPhaseId";n.RequestorId="release.requestedFor";n.ReleaseRequestedForId="release.requestedForId";n.ReleaseRequestedForEmail="release.requestedForEmail";n.AttemptNumber="release.attemptNumber";n.ReleaseReason="release.reason";n.ReleasePrimaryArtifactSourceAlias="release.primaryArtifactSourceAlias";n.ReleaseTriggeringArtifactAlias="release.triggeringartifact.alias";n.ReleaseDeploymentRequestedForId="release.deployment.requestedForId";n.ReleaseDeploymentRequestedForEmail="release.deployment.requestedForEmail";n.ReleaseDeploymentRequestedFor="release.deployment.requestedFor";n.ReleaseDeploymentStartTime="release.deployment.startTime";n.ReleaseEnvironmentRedeploymentWithDeploymentGroupTargetFilter="release.redeployment.deploymentGroupTargetFilter"}(g=t.WellKnownReleaseVariables||(t.WellKnownReleaseVariables={}))});

define("VSS/Common/Contracts/FormInput",["require","exports"],function(n,t){"use strict";var i,r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.None=0]="None";n[n.String=10]="String";n[n.Number=20]="Number";n[n.Boolean=30]="Boolean";n[n.Guid=40]="Guid";n[n.Uri=50]="Uri"}(i=t.InputDataType||(t.InputDataType={})),function(n){n[n.Equals=0]="Equals";n[n.NotEquals=1]="NotEquals"}(r=t.InputFilterOperator||(t.InputFilterOperator={})),function(n){n[n.None=0]="None";n[n.TextBox=10]="TextBox";n[n.PasswordBox=20]="PasswordBox";n[n.Combo=30]="Combo";n[n.RadioButtons=40]="RadioButtons";n[n.CheckBox=50]="CheckBox";n[n.TextArea=60]="TextArea"}(u=t.InputMode||(t.InputMode={}));t.TypeInfo={InputDataType:{enumValues:{none:0,string:10,number:20,boolean:30,guid:40,uri:50}},InputDescriptor:{},InputFilter:{},InputFilterCondition:{},InputFilterOperator:{enumValues:{equals:0,notEquals:1}},InputMode:{enumValues:{none:0,textBox:10,passwordBox:20,combo:30,radioButtons:40,checkBox:50,textArea:60}},InputValidation:{}};t.TypeInfo.InputDescriptor.fields={inputMode:{enumType:t.TypeInfo.InputMode},validation:{typeInfo:t.TypeInfo.InputValidation}};t.TypeInfo.InputFilter.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.InputFilterCondition}};t.TypeInfo.InputFilterCondition.fields={operator:{enumType:t.TypeInfo.InputFilterOperator}};t.TypeInfo.InputValidation.fields={dataType:{enumType:t.TypeInfo.InputDataType}}});

define("ReleaseManagement/Core/Contracts",["require","exports","VSS/Common/Contracts/FormInput"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.XamlBuild=0]="XamlBuild";n[n.Build=1]="Build";n[n.Jenkins=2]="Jenkins";n[n.FileShare=3]="FileShare";n[n.Nuget=4]="Nuget";n[n.TfsOnPrem=5]="TfsOnPrem";n[n.GitHub=6]="GitHub";n[n.TFGit=7]="TFGit";n[n.ExternalTfsBuild=8]="ExternalTfsBuild";n[n.Custom=9]="Custom";n[n.Tfvc=10]="Tfvc"}(r=t.AgentArtifactType||(t.AgentArtifactType={})),function(n){n[n.BeforeGates=1]="BeforeGates";n[n.AfterSuccessfulGates=2]="AfterSuccessfulGates";n[n.AfterGatesAlways=4]="AfterGatesAlways"}(u=t.ApprovalExecutionOrder||(t.ApprovalExecutionOrder={})),function(n){n[n.None=0]="None";n[n.ManualApprovals=1]="ManualApprovals";n[n.AutomatedApprovals=2]="AutomatedApprovals";n[n.ApprovalSnapshots=4]="ApprovalSnapshots";n[n.All=7]="All"}(f=t.ApprovalFilters||(t.ApprovalFilters={})),function(n){n[n.Undefined=0]="Undefined";n[n.Pending=1]="Pending";n[n.Approved=2]="Approved";n[n.Rejected=4]="Rejected";n[n.Reassigned=6]="Reassigned";n[n.Canceled=7]="Canceled";n[n.Skipped=8]="Skipped"}(e=t.ApprovalStatus||(t.ApprovalStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.PreDeploy=1]="PreDeploy";n[n.PostDeploy=2]="PostDeploy";n[n.All=3]="All"}(o=t.ApprovalType||(t.ApprovalType={})),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update";n[n.Delete=3]="Delete";n[n.Undelete=4]="Undelete"}(s=t.AuditAction||(t.AuditAction={})),function(n){n[n.RevalidateApproverIdentity=0]="RevalidateApproverIdentity";n[n.OnBehalfOf=1]="OnBehalfOf"}(h=t.AuthorizationHeaderFor||(t.AuthorizationHeaderFor={})),function(n){n[n.Undefined=0]="Undefined";n[n.Event=1]="Event";n[n.EnvironmentState=2]="EnvironmentState";n[n.Artifact=4]="Artifact"}(c=t.ConditionType||(t.ConditionType={})),function(n){n[n.Automatic=0]="Automatic";n[n.DeploymentSubmitter=1]="DeploymentSubmitter";n[n.FirstPreDeploymentApprover=2]="FirstPreDeploymentApprover"}(l=t.DeploymentAuthorizationOwner||(t.DeploymentAuthorizationOwner={})),function(n){n[n.All=0]="All";n[n.DeploymentOnly=1]="DeploymentOnly";n[n.Approvals=2]="Approvals";n[n.Artifacts=4]="Artifacts"}(a=t.DeploymentExpands||(t.DeploymentExpands={})),function(n){n[n.Undefined=0]="Undefined";n[n.Queued=1]="Queued";n[n.Scheduled=2]="Scheduled";n[n.Pending=4]="Pending";n[n.Approved=8]="Approved";n[n.Rejected=16]="Rejected";n[n.Deferred=32]="Deferred";n[n.QueuedForAgent=64]="QueuedForAgent";n[n.PhaseInProgress=128]="PhaseInProgress";n[n.PhaseSucceeded=256]="PhaseSucceeded";n[n.PhasePartiallySucceeded=512]="PhasePartiallySucceeded";n[n.PhaseFailed=1024]="PhaseFailed";n[n.Canceled=2048]="Canceled";n[n.PhaseCanceled=4096]="PhaseCanceled";n[n.ManualInterventionPending=8192]="ManualInterventionPending";n[n.QueuedForPipeline=16384]="QueuedForPipeline";n[n.Cancelling=32768]="Cancelling";n[n.EvaluatingGates=65536]="EvaluatingGates";n[n.GateFailed=131072]="GateFailed";n[n.All=258047]="All"}(v=t.DeploymentOperationStatus||(t.DeploymentOperationStatus={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.Automated=2]="Automated";n[n.Scheduled=4]="Scheduled";n[n.RedeployTrigger=8]="RedeployTrigger"}(y=t.DeploymentReason||(t.DeploymentReason={})),function(n){n[n.Regular=1]="Regular";n[n.FailingSince=2]="FailingSince"}(p=t.DeploymentsQueryType||(t.DeploymentsQueryType={})),function(n){n[n.Undefined=0]="Undefined";n[n.NotDeployed=1]="NotDeployed";n[n.InProgress=2]="InProgress";n[n.Succeeded=4]="Succeeded";n[n.PartiallySucceeded=8]="PartiallySucceeded";n[n.Failed=16]="Failed";n[n.All=31]="All"}(w=t.DeploymentStatus||(t.DeploymentStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.PartiallySucceeded=4]="PartiallySucceeded";n[n.Succeeded=8]="Succeeded";n[n.Failed=16]="Failed";n[n.Canceled=32]="Canceled";n[n.Skipped=64]="Skipped";n[n.Cancelling=128]="Cancelling"}(b=t.DeployPhaseStatus||(t.DeployPhaseStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.AgentBasedDeployment=1]="AgentBasedDeployment";n[n.RunOnServer=2]="RunOnServer";n[n.MachineGroupBasedDeployment=4]="MachineGroupBasedDeployment";n[n.DeploymentGates=8]="DeploymentGates"}(k=t.DeployPhaseTypes||(t.DeployPhaseTypes={})),function(n){n[n.Undefined=0]="Undefined";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Succeeded=4]="Succeeded";n[n.Canceled=8]="Canceled";n[n.Rejected=16]="Rejected";n[n.Queued=32]="Queued";n[n.Scheduled=64]="Scheduled";n[n.PartiallySucceeded=128]="PartiallySucceeded"}(d=t.EnvironmentStatus||(t.EnvironmentStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.DeploymentGroupRedeploy=1]="DeploymentGroupRedeploy";n[n.RollbackRedeploy=2]="RollbackRedeploy"}(g=t.EnvironmentTriggerType||(t.EnvironmentTriggerType={})),function(n){n[n.None=0]="None";n[n.Ascending=1]="Ascending";n[n.Descending=2]="Descending"}(nt=t.FolderPathQueryOrder||(t.FolderPathQueryOrder={})),function(n){n[n.None=0]="None";n[n.Pending=1]="Pending";n[n.InProgress=2]="InProgress";n[n.Succeeded=4]="Succeeded";n[n.Failed=8]="Failed";n[n.Canceled=16]="Canceled"}(tt=t.GateStatus||(t.GateStatus={})),function(n){n[n.None=0]="None";n[n.User=1]="User";n[n.System=2]="System"}(it=t.IssueSource||(t.IssueSource={})),function(n){n[n.Details=0]="Details";n[n.Environments=1]="Environments";n[n.Issues=2]="Issues";n[n.TestResults=3]="TestResults";n[n.WorkItems=4]="WorkItems";n[n.ReleaseInfo=5]="ReleaseInfo"}(rt=t.MailSectionType||(t.MailSectionType={})),function(n){n[n.Unknown=0]="Unknown";n[n.Pending=1]="Pending";n[n.Rejected=2]="Rejected";n[n.Approved=4]="Approved";n[n.Canceled=8]="Canceled"}(ut=t.ManualInterventionStatus||(t.ManualInterventionStatus={})),function(n){n[n.None=0]="None";n[n.MultiConfiguration=1]="MultiConfiguration";n[n.MultiMachine=2]="MultiMachine"}(ft=t.ParallelExecutionTypes||(t.ParallelExecutionTypes={})),function(n){n[n.Designer=1]="Designer";n[n.Yaml=2]="Yaml"}(et=t.PipelineProcessTypes||(t.PipelineProcessTypes={})),function(n){n[n.Inclusion=0]="Inclusion";n[n.Exclusion=1]="Exclusion"}(ot=t.PropertySelectorType||(t.PropertySelectorType={})),function(n){n[n.None=0]="None";n[n.TfsGit=1]="TfsGit";n[n.GitHub=2]="GitHub"}(st=t.PullRequestSystemType||(t.PullRequestSystemType={})),function(n){n[n.None=0]="None";n[n.Environments=2]="Environments";n[n.Artifacts=4]="Artifacts";n[n.Triggers=8]="Triggers";n[n.Variables=16]="Variables";n[n.Tags=32]="Tags";n[n.LastRelease=64]="LastRelease"}(ht=t.ReleaseDefinitionExpands||(t.ReleaseDefinitionExpands={})),function(n){n[n.IdAscending=0]="IdAscending";n[n.IdDescending=1]="IdDescending";n[n.NameAscending=2]="NameAscending";n[n.NameDescending=3]="NameDescending"}(ct=t.ReleaseDefinitionQueryOrder||(t.ReleaseDefinitionQueryOrder={})),function(n){n[n.Undefined=0]="Undefined";n[n.RestApi=1]="RestApi";n[n.UserInterface=2]="UserInterface";n[n.Ibiza=4]="Ibiza";n[n.PortalExtensionApi=8]="PortalExtensionApi"}(lt=t.ReleaseDefinitionSource||(t.ReleaseDefinitionSource={})),function(n){n[n.None=0]="None";n[n.Environments=2]="Environments";n[n.Artifacts=4]="Artifacts";n[n.Approvals=8]="Approvals";n[n.ManualInterventions=16]="ManualInterventions";n[n.Variables=32]="Variables";n[n.Tags=64]="Tags"}(at=t.ReleaseExpands||(t.ReleaseExpands={})),function(n){n[n.Descending=0]="Descending";n[n.Ascending=1]="Ascending"}(vt=t.ReleaseQueryOrder||(t.ReleaseQueryOrder={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.ContinuousIntegration=2]="ContinuousIntegration";n[n.Schedule=3]="Schedule";n[n.PullRequest=4]="PullRequest"}(yt=t.ReleaseReason||(t.ReleaseReason={})),function(n){n[n.Undefined=0]="Undefined";n[n.Draft=1]="Draft";n[n.Active=2]="Active";n[n.Abandoned=4]="Abandoned"}(pt=t.ReleaseStatus||(t.ReleaseStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.ArtifactSource=1]="ArtifactSource";n[n.Schedule=2]="Schedule";n[n.SourceRepo=3]="SourceRepo";n[n.ContainerImage=4]="ContainerImage";n[n.Package=5]="Package";n[n.PullRequest=6]="PullRequest"}(wt=t.ReleaseTriggerType||(t.ReleaseTriggerType={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(bt=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.ServiceAccount=1]="ServiceAccount";n[n.RequestingUser=2]="RequestingUser"}(kt=t.SenderType||(t.SenderType={})),function(n){n[n.None=0]="None";n[n.Tasks=1]="Tasks"}(dt=t.SingleReleaseExpands||(t.SingleReleaseExpands={})),function(n){n[n.Unknown=0]="Unknown";n[n.Pending=1]="Pending";n[n.InProgress=2]="InProgress";n[n.Success=3]="Success";n[n.Failure=4]="Failure";n[n.Canceled=5]="Canceled";n[n.Skipped=6]="Skipped";n[n.Succeeded=7]="Succeeded";n[n.Failed=8]="Failed";n[n.PartiallySucceeded=9]="PartiallySucceeded"}(gt=t.TaskStatus||(t.TaskStatus={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(ni=t.VariableGroupActionFilter||(t.VariableGroupActionFilter={})),function(n){n[n.None=0]="None";n[n.TFSGit=1]="TFSGit"}(ti=t.YamlFileSourceTypes||(t.YamlFileSourceTypes={}));t.TypeInfo={AgentArtifactDefinition:{},AgentArtifactType:{enumValues:{xamlBuild:0,build:1,jenkins:2,fileShare:3,nuget:4,tfsOnPrem:5,gitHub:6,tfGit:7,externalTfsBuild:8,custom:9,tfvc:10}},AgentBasedDeployPhase:{},AgentDeploymentInput:{},ApprovalExecutionOrder:{enumValues:{beforeGates:1,afterSuccessfulGates:2,afterGatesAlways:4}},ApprovalFilters:{enumValues:{none:0,manualApprovals:1,automatedApprovals:2,approvalSnapshots:4,all:7}},ApprovalOptions:{},ApprovalStatus:{enumValues:{undefined:0,pending:1,approved:2,rejected:4,reassigned:6,canceled:7,skipped:8}},ApprovalType:{enumValues:{undefined:0,preDeploy:1,postDeploy:2,all:3}},ArtifactContributionDefinition:{},ArtifactMetadata:{},ArtifactSourceTrigger:{},ArtifactTypeDefinition:{},ArtifactVersion:{},ArtifactVersionQueryResult:{},AuditAction:{enumValues:{add:1,update:2,"delete":3,undelete:4}},AuthorizationHeaderFor:{enumValues:{revalidateApproverIdentity:0,onBehalfOf:1}},AutoTriggerIssue:{},AzureKeyVaultVariableGroupProviderData:{},AzureKeyVaultVariableValue:{},BuildVersion:{},Change:{},CodeRepositoryReference:{},Condition:{},ConditionType:{enumValues:{undefined:0,event:1,environmentState:2,artifact:4}},ContainerImageTrigger:{},ContinuousDeploymentTriggerIssue:{},Deployment:{},DeploymentApprovalCompletedEvent:{},DeploymentApprovalPendingEvent:{},DeploymentAttempt:{},DeploymentAuthorizationInfo:{},DeploymentAuthorizationOwner:{enumValues:{automatic:0,deploymentSubmitter:1,firstPreDeploymentApprover:2}},DeploymentCompletedEvent:{},DeploymentExpands:{enumValues:{all:0,deploymentOnly:1,approvals:2,artifacts:4}},DeploymentJob:{},DeploymentManualInterventionPendingEvent:{},DeploymentOperationStatus:{enumValues:{undefined:0,queued:1,scheduled:2,pending:4,approved:8,rejected:16,deferred:32,queuedForAgent:64,phaseInProgress:128,phaseSucceeded:256,phasePartiallySucceeded:512,phaseFailed:1024,canceled:2048,phaseCanceled:4096,manualInterventionPending:8192,queuedForPipeline:16384,cancelling:32768,evaluatingGates:65536,gateFailed:131072,all:258047}},DeploymentQueryParameters:{},DeploymentReason:{enumValues:{none:0,manual:1,automated:2,scheduled:4,redeployTrigger:8}},DeploymentsQueryType:{enumValues:{regular:1,failingSince:2}},DeploymentStartedEvent:{},DeploymentStatus:{enumValues:{undefined:0,notDeployed:1,inProgress:2,succeeded:4,partiallySucceeded:8,failed:16,all:31}},DeployPhase:{},DeployPhaseStatus:{enumValues:{undefined:0,notStarted:1,inProgress:2,partiallySucceeded:4,succeeded:8,failed:16,canceled:32,skipped:64,cancelling:128}},DeployPhaseTypes:{enumValues:{undefined:0,agentBasedDeployment:1,runOnServer:2,machineGroupBasedDeployment:4,deploymentGates:8}},EnvironmentStatus:{enumValues:{undefined:0,notStarted:1,inProgress:2,succeeded:4,canceled:8,rejected:16,queued:32,scheduled:64,partiallySucceeded:128}},EnvironmentTrigger:{},EnvironmentTriggerType:{enumValues:{undefined:0,deploymentGroupRedeploy:1,rollbackRedeploy:2}},ExecutionInput:{},Folder:{},FolderPathQueryOrder:{enumValues:{none:0,ascending:1,descending:2}},GatesDeployPhase:{},GateStatus:{enumValues:{none:0,pending:1,inProgress:2,succeeded:4,failed:8,canceled:16}},IgnoredGate:{},IssueSource:{enumValues:{none:0,user:1,system:2}},MachineGroupBasedDeployPhase:{},MailMessage:{},MailSectionType:{enumValues:{details:0,environments:1,issues:2,testResults:3,workItems:4,releaseInfo:5}},ManualIntervention:{},ManualInterventionStatus:{enumValues:{unknown:0,pending:1,rejected:2,approved:4,canceled:8}},ManualInterventionUpdateMetadata:{},MultiConfigInput:{},MultiMachineInput:{},PackageTrigger:{},ParallelExecutionInputBase:{},ParallelExecutionTypes:{enumValues:{none:0,multiConfiguration:1,multiMachine:2}},PipelineProcess:{},PipelineProcessTypes:{enumValues:{designer:1,yaml:2}},PropertySelector:{},PropertySelectorType:{enumValues:{inclusion:0,exclusion:1}},PullRequestConfiguration:{},PullRequestSystemType:{enumValues:{none:0,tfsGit:1,gitHub:2}},PullRequestTrigger:{},Release:{},ReleaseAbandonedEvent:{},ReleaseApproval:{},ReleaseApprovalHistory:{},ReleaseApprovalPendingEvent:{},ReleaseCondition:{},ReleaseCreatedEvent:{},ReleaseDefinition:{},ReleaseDefinitionApprovals:{},ReleaseDefinitionEnvironment:{},ReleaseDefinitionEnvironmentTemplate:{},ReleaseDefinitionExpands:{enumValues:{none:0,environments:2,artifacts:4,triggers:8,variables:16,tags:32,lastRelease:64}},ReleaseDefinitionQueryOrder:{enumValues:{idAscending:0,idDescending:1,nameAscending:2,nameDescending:3}},ReleaseDefinitionRevision:{},ReleaseDefinitionSource:{enumValues:{undefined:0,restApi:1,userInterface:2,ibiza:4,portalExtensionApi:8}},ReleaseDefinitionSummary:{},ReleaseDeployPhase:{},ReleaseEnvironment:{},ReleaseEnvironmentCompletedEvent:{},ReleaseEnvironmentStatusUpdatedEvent:{},ReleaseEnvironmentUpdateMetadata:{},ReleaseExpands:{enumValues:{none:0,environments:2,artifacts:4,approvals:8,manualInterventions:16,variables:32,tags:64}},ReleaseGates:{},ReleaseGatesPhase:{},ReleaseNotCreatedEvent:{},ReleaseQueryOrder:{enumValues:{descending:0,ascending:1}},ReleaseReason:{enumValues:{none:0,manual:1,continuousIntegration:2,schedule:3,pullRequest:4}},ReleaseReference:{},ReleaseRevision:{},ReleaseSchedule:{},ReleaseStartMetadata:{},ReleaseStatus:{enumValues:{undefined:0,draft:1,active:2,abandoned:4}},ReleaseTask:{},ReleaseTaskAttachment:{},ReleaseTasksUpdatedEvent:{},ReleaseTriggerBase:{},ReleaseTriggerType:{enumValues:{undefined:0,artifactSource:1,schedule:2,sourceRepo:3,containerImage:4,"package":5,pullRequest:6}},ReleaseUpdatedEvent:{},ReleaseUpdateMetadata:{},RunOnServerDeployPhase:{},ScheduleDays:{enumValues:{none:0,monday:1,tuesday:2,wednesday:4,thursday:8,friday:16,saturday:32,sunday:64,all:127}},ScheduledReleaseTrigger:{},SenderType:{enumValues:{serviceAccount:1,requestingUser:2}},ServerDeploymentInput:{},SingleReleaseExpands:{enumValues:{none:0,tasks:1}},SourcePullRequestVersion:{},SourceRepoTrigger:{},SummaryMailSection:{},TaskStatus:{enumValues:{unknown:0,pending:1,inProgress:2,success:3,failure:4,canceled:5,skipped:6,succeeded:7,failed:8,partiallySucceeded:9}},VariableGroup:{},VariableGroupActionFilter:{enumValues:{none:0,manage:2,use:16}},YamlFileSource:{},YamlFileSourceTypes:{enumValues:{none:0,tfsGit:1}},YamlPipelineProcess:{}};t.TypeInfo.AgentArtifactDefinition.fields={artifactType:{enumType:t.TypeInfo.AgentArtifactType}};t.TypeInfo.AgentBasedDeployPhase.fields={deploymentInput:{typeInfo:t.TypeInfo.AgentDeploymentInput},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.AgentDeploymentInput.fields={parallelExecution:{typeInfo:t.TypeInfo.ExecutionInput}};t.TypeInfo.ApprovalOptions.fields={executionOrder:{enumType:t.TypeInfo.ApprovalExecutionOrder}};t.TypeInfo.ArtifactContributionDefinition.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.ArtifactMetadata.fields={instanceReference:{typeInfo:t.TypeInfo.BuildVersion}};t.TypeInfo.ArtifactSourceTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ArtifactTypeDefinition.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.ArtifactVersion.fields={defaultVersion:{typeInfo:t.TypeInfo.BuildVersion},versions:{isArray:!0,typeInfo:t.TypeInfo.BuildVersion}};t.TypeInfo.ArtifactVersionQueryResult.fields={artifactVersions:{isArray:!0,typeInfo:t.TypeInfo.ArtifactVersion}};t.TypeInfo.AutoTriggerIssue.fields={issueSource:{enumType:t.TypeInfo.IssueSource},releaseTriggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.AzureKeyVaultVariableGroupProviderData.fields={lastRefreshedOn:{isDate:!0}};t.TypeInfo.AzureKeyVaultVariableValue.fields={expires:{isDate:!0}};t.TypeInfo.BuildVersion.fields={sourcePullRequestVersion:{typeInfo:t.TypeInfo.SourcePullRequestVersion}};t.TypeInfo.Change.fields={timestamp:{isDate:!0}};t.TypeInfo.CodeRepositoryReference.fields={systemType:{enumType:t.TypeInfo.PullRequestSystemType}};t.TypeInfo.Condition.fields={conditionType:{enumType:t.TypeInfo.ConditionType}};t.TypeInfo.ContainerImageTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ContinuousDeploymentTriggerIssue.fields={issueSource:{enumType:t.TypeInfo.IssueSource},releaseTriggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.Deployment.fields={completedOn:{isDate:!0},conditions:{isArray:!0,typeInfo:t.TypeInfo.Condition},deploymentStatus:{enumType:t.TypeInfo.DeploymentStatus},lastModifiedOn:{isDate:!0},operationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},postDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},preDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},queuedOn:{isDate:!0},reason:{enumType:t.TypeInfo.DeploymentReason},release:{typeInfo:t.TypeInfo.ReleaseReference},scheduledDeploymentTime:{isDate:!0},startedOn:{isDate:!0}};t.TypeInfo.DeploymentApprovalCompletedEvent.fields={approval:{typeInfo:t.TypeInfo.ReleaseApproval},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeploymentApprovalPendingEvent.fields={approval:{typeInfo:t.TypeInfo.ReleaseApproval},approvalOptions:{typeInfo:t.TypeInfo.ApprovalOptions},completedApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},deployment:{typeInfo:t.TypeInfo.Deployment},pendingApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeploymentAttempt.fields={job:{typeInfo:t.TypeInfo.ReleaseTask},lastModifiedOn:{isDate:!0},operationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},postDeploymentGates:{typeInfo:t.TypeInfo.ReleaseGates},preDeploymentGates:{typeInfo:t.TypeInfo.ReleaseGates},queuedOn:{isDate:!0},reason:{enumType:t.TypeInfo.DeploymentReason},releaseDeployPhases:{isArray:!0,typeInfo:t.TypeInfo.ReleaseDeployPhase},status:{enumType:t.TypeInfo.DeploymentStatus},tasks:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTask}};t.TypeInfo.DeploymentAuthorizationInfo.fields={authorizationHeaderFor:{enumType:t.TypeInfo.AuthorizationHeaderFor}};t.TypeInfo.DeploymentCompletedEvent.fields={deployment:{typeInfo:t.TypeInfo.Deployment},environment:{typeInfo:t.TypeInfo.ReleaseEnvironment}};t.TypeInfo.DeploymentJob.fields={job:{typeInfo:t.TypeInfo.ReleaseTask},tasks:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTask}};t.TypeInfo.DeploymentManualInterventionPendingEvent.fields={deployment:{typeInfo:t.TypeInfo.Deployment},manualIntervention:{typeInfo:t.TypeInfo.ManualIntervention},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeploymentQueryParameters.fields={deploymentStatus:{enumType:t.TypeInfo.DeploymentStatus},expands:{enumType:t.TypeInfo.DeploymentExpands},maxModifiedTime:{isDate:!0},minModifiedTime:{isDate:!0},operationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},queryOrder:{enumType:t.TypeInfo.ReleaseQueryOrder},queryType:{enumType:t.TypeInfo.DeploymentsQueryType}};t.TypeInfo.DeploymentStartedEvent.fields={environment:{typeInfo:t.TypeInfo.ReleaseEnvironment},release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.DeployPhase.fields={phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.EnvironmentTrigger.fields={triggerType:{enumType:t.TypeInfo.EnvironmentTriggerType}};t.TypeInfo.ExecutionInput.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.Folder.fields={createdOn:{isDate:!0},lastChangedDate:{isDate:!0}};t.TypeInfo.GatesDeployPhase.fields={phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.IgnoredGate.fields={lastModifiedOn:{isDate:!0}};t.TypeInfo.MachineGroupBasedDeployPhase.fields={phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.MailMessage.fields={replyBy:{isDate:!0},sections:{isArray:!0,enumType:t.TypeInfo.MailSectionType},senderType:{enumType:t.TypeInfo.SenderType}};t.TypeInfo.ManualIntervention.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0},status:{enumType:t.TypeInfo.ManualInterventionStatus}};t.TypeInfo.ManualInterventionUpdateMetadata.fields={status:{enumType:t.TypeInfo.ManualInterventionStatus}};t.TypeInfo.MultiConfigInput.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.MultiMachineInput.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.PackageTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ParallelExecutionInputBase.fields={parallelExecutionType:{enumType:t.TypeInfo.ParallelExecutionTypes}};t.TypeInfo.PipelineProcess.fields={type:{enumType:t.TypeInfo.PipelineProcessTypes}};t.TypeInfo.PropertySelector.fields={selectorType:{enumType:t.TypeInfo.PropertySelectorType}};t.TypeInfo.PullRequestConfiguration.fields={codeRepositoryReference:{typeInfo:t.TypeInfo.CodeRepositoryReference}};t.TypeInfo.PullRequestTrigger.fields={pullRequestConfiguration:{typeInfo:t.TypeInfo.PullRequestConfiguration},triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.Release.fields={createdOn:{isDate:!0},environments:{isArray:!0,typeInfo:t.TypeInfo.ReleaseEnvironment},modifiedOn:{isDate:!0},reason:{enumType:t.TypeInfo.ReleaseReason},status:{enumType:t.TypeInfo.ReleaseStatus},variableGroups:{isArray:!0,typeInfo:t.TypeInfo.VariableGroup}};t.TypeInfo.ReleaseAbandonedEvent.fields={release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseApproval.fields={approvalType:{enumType:t.TypeInfo.ApprovalType},createdOn:{isDate:!0},history:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApprovalHistory},modifiedOn:{isDate:!0},status:{enumType:t.TypeInfo.ApprovalStatus}};t.TypeInfo.ReleaseApprovalHistory.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.ReleaseApprovalPendingEvent.fields={approval:{typeInfo:t.TypeInfo.ReleaseApproval},approvalOptions:{typeInfo:t.TypeInfo.ApprovalOptions},completedApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},deployment:{typeInfo:t.TypeInfo.Deployment},environments:{isArray:!0,typeInfo:t.TypeInfo.ReleaseEnvironment},pendingApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval}};t.TypeInfo.ReleaseCondition.fields={conditionType:{enumType:t.TypeInfo.ConditionType}};t.TypeInfo.ReleaseCreatedEvent.fields={release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseDefinition.fields={createdOn:{isDate:!0},environments:{isArray:!0,typeInfo:t.TypeInfo.ReleaseDefinitionEnvironment},lastRelease:{typeInfo:t.TypeInfo.ReleaseReference},modifiedOn:{isDate:!0},pipelineProcess:{typeInfo:t.TypeInfo.PipelineProcess},source:{enumType:t.TypeInfo.ReleaseDefinitionSource},triggers:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTriggerBase}};t.TypeInfo.ReleaseDefinitionApprovals.fields={approvalOptions:{typeInfo:t.TypeInfo.ApprovalOptions}};t.TypeInfo.ReleaseDefinitionEnvironment.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.Condition},deployPhases:{isArray:!0,typeInfo:t.TypeInfo.DeployPhase},environmentTriggers:{isArray:!0,typeInfo:t.TypeInfo.EnvironmentTrigger},postDeployApprovals:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},preDeployApprovals:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},schedules:{isArray:!0,typeInfo:t.TypeInfo.ReleaseSchedule}};t.TypeInfo.ReleaseDefinitionEnvironmentTemplate.fields={environment:{typeInfo:t.TypeInfo.ReleaseDefinitionEnvironment}};t.TypeInfo.ReleaseDefinitionRevision.fields={changedDate:{isDate:!0},changeType:{enumType:t.TypeInfo.AuditAction}};t.TypeInfo.ReleaseDefinitionSummary.fields={releases:{isArray:!0,typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseDeployPhase.fields={deploymentJobs:{isArray:!0,typeInfo:t.TypeInfo.DeploymentJob},manualInterventions:{isArray:!0,typeInfo:t.TypeInfo.ManualIntervention},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes},startedOn:{isDate:!0},status:{enumType:t.TypeInfo.DeployPhaseStatus}};t.TypeInfo.ReleaseEnvironment.fields={conditions:{isArray:!0,typeInfo:t.TypeInfo.ReleaseCondition},createdOn:{isDate:!0},deployPhasesSnapshot:{isArray:!0,typeInfo:t.TypeInfo.DeployPhase},deploySteps:{isArray:!0,typeInfo:t.TypeInfo.DeploymentAttempt},modifiedOn:{isDate:!0},nextScheduledUtcTime:{isDate:!0},postApprovalsSnapshot:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},postDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},preApprovalsSnapshot:{typeInfo:t.TypeInfo.ReleaseDefinitionApprovals},preDeployApprovals:{isArray:!0,typeInfo:t.TypeInfo.ReleaseApproval},scheduledDeploymentTime:{isDate:!0},schedules:{isArray:!0,typeInfo:t.TypeInfo.ReleaseSchedule},status:{enumType:t.TypeInfo.EnvironmentStatus},variableGroups:{isArray:!0,typeInfo:t.TypeInfo.VariableGroup}};t.TypeInfo.ReleaseEnvironmentCompletedEvent.fields={environment:{typeInfo:t.TypeInfo.ReleaseEnvironment},reason:{enumType:t.TypeInfo.DeploymentReason}};t.TypeInfo.ReleaseEnvironmentStatusUpdatedEvent.fields={environmentStatus:{enumType:t.TypeInfo.EnvironmentStatus},latestDeploymentOperationStatus:{enumType:t.TypeInfo.DeploymentOperationStatus},latestDeploymentStatus:{enumType:t.TypeInfo.DeploymentStatus}};t.TypeInfo.ReleaseEnvironmentUpdateMetadata.fields={scheduledDeploymentTime:{isDate:!0},status:{enumType:t.TypeInfo.EnvironmentStatus}};t.TypeInfo.ReleaseGates.fields={deploymentJobs:{isArray:!0,typeInfo:t.TypeInfo.DeploymentJob},ignoredGates:{isArray:!0,typeInfo:t.TypeInfo.IgnoredGate},lastModifiedOn:{isDate:!0},stabilizationCompletedOn:{isDate:!0},startedOn:{isDate:!0},status:{enumType:t.TypeInfo.GateStatus},succeedingSince:{isDate:!0}};t.TypeInfo.ReleaseGatesPhase.fields={deploymentJobs:{isArray:!0,typeInfo:t.TypeInfo.DeploymentJob},ignoredGates:{isArray:!0,typeInfo:t.TypeInfo.IgnoredGate},manualInterventions:{isArray:!0,typeInfo:t.TypeInfo.ManualIntervention},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes},stabilizationCompletedOn:{isDate:!0},startedOn:{isDate:!0},status:{enumType:t.TypeInfo.DeployPhaseStatus},succeedingSince:{isDate:!0}};t.TypeInfo.ReleaseNotCreatedEvent.fields={releaseReason:{enumType:t.TypeInfo.ReleaseReason}};t.TypeInfo.ReleaseReference.fields={createdOn:{isDate:!0},reason:{enumType:t.TypeInfo.ReleaseReason}};t.TypeInfo.ReleaseRevision.fields={changedDate:{isDate:!0}};t.TypeInfo.ReleaseSchedule.fields={daysToRelease:{enumType:t.TypeInfo.ScheduleDays}};t.TypeInfo.ReleaseStartMetadata.fields={artifacts:{isArray:!0,typeInfo:t.TypeInfo.ArtifactMetadata},reason:{enumType:t.TypeInfo.ReleaseReason}};t.TypeInfo.ReleaseTask.fields={dateEnded:{isDate:!0},dateStarted:{isDate:!0},finishTime:{isDate:!0},startTime:{isDate:!0},status:{enumType:t.TypeInfo.TaskStatus}};t.TypeInfo.ReleaseTaskAttachment.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.ReleaseTasksUpdatedEvent.fields={job:{typeInfo:t.TypeInfo.ReleaseTask},tasks:{isArray:!0,typeInfo:t.TypeInfo.ReleaseTask}};t.TypeInfo.ReleaseTriggerBase.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ReleaseUpdatedEvent.fields={release:{typeInfo:t.TypeInfo.Release}};t.TypeInfo.ReleaseUpdateMetadata.fields={status:{enumType:t.TypeInfo.ReleaseStatus}};t.TypeInfo.RunOnServerDeployPhase.fields={deploymentInput:{typeInfo:t.TypeInfo.ServerDeploymentInput},phaseType:{enumType:t.TypeInfo.DeployPhaseTypes}};t.TypeInfo.ScheduledReleaseTrigger.fields={schedule:{typeInfo:t.TypeInfo.ReleaseSchedule},triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.ServerDeploymentInput.fields={parallelExecution:{typeInfo:t.TypeInfo.ExecutionInput}};t.TypeInfo.SourcePullRequestVersion.fields={pullRequestMergedAt:{isDate:!0}};t.TypeInfo.SourceRepoTrigger.fields={triggerType:{enumType:t.TypeInfo.ReleaseTriggerType}};t.TypeInfo.SummaryMailSection.fields={sectionType:{enumType:t.TypeInfo.MailSectionType}};t.TypeInfo.VariableGroup.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.YamlFileSource.fields={type:{enumType:t.TypeInfo.YamlFileSourceTypes}};t.TypeInfo.YamlPipelineProcess.fields={fileSource:{typeInfo:t.TypeInfo.YamlFileSource},type:{enumType:t.TypeInfo.PipelineProcessTypes}}});

define("ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline",["require","exports"],function(require,exports){var e=exports;e.NewReleaseName="New release name";e.GatesLastSampling="Last updated time";e.Summary="Summary";e.LinkedArtifactsFolderName="Linked artifacts";e.AllTargetsInParallel="All targets in parallel";e.OpenText="Open";e.ExternalLink="External link";e.InvalidLinkedArtifactId="Invalid release/release stage ID. The correct format is releaseID:environmentID";e.VariableSingular="variable";e.UsePATWarning="Note: depending upon system policies, sensitive data passed to a command line may be saved in shell history and audit logs.";e.DeploymentGroupRegisterIconToolTip="Script to register target";e.TaskGroupReferenceDescription="Expand each category for task group references.";e.ChangeColumnHeaderAuthorToltip="Author";e.CreateReleaseDialogClosing="Are you sure you want to discard this release?";e.TaskAgentPoolAgentsTitleFormat="Agents for pool {0}";e.ReleaseActionAbandonTooltip="Abandon the release. No further actions are permitted on abandoned releases.";e.ReleaseSettingsHubRetentionSettingsText="Retention policy settings";e.ArtifactsGridColumnVersion="Version";e.CancelButtonText="Cancel";e.EnvironmentTriggerAutomatically="Automatically deploy whenever a deployment to the stage {0} is successful";e.SecurityToolBarMenu="Security...";e.NoReferencesFoundText="No references found.";e.BuildReplacedMessage="Replaced build with another build that has the same pipeline. {0} New build: \u0027{1}\u0027 {2} Previous build: \u0027{3}\u0027 {4} Build pipeline: \u0027{5}\u0027";e.DeploymentAnalyticsText="Deployment analytics";e.DeploymentTime="Deployment time";e.LogsViewFilterTasks="Tasks";e.DeploymentGroupDeploymentConfiguration="Deployment configuration";e.SharingDisabledForDGPoolForEnvironment="Pool sharing is disabled for the deployment pool configured via environment.\"";e.SummarRecentActivitySuccessfulRelease="Deployment to \u0027{0}\u0027 succeeded.";e.DeploymentStatusWidgetRepoLabel="Repository:";e.AgentAcquisitionLinuxCreateAgentMarkdownFormat="```bash\r\n~/$ mkdir myagent \u0026\u0026 cd myagent\r\n~/myagent$ tar zxvf ~/Downloads/{0}\r\n```";e.AgentPoolsNotFoundErrorMessage="A default agent pool is not specified in \u0027{0}\u0027 for the stages \u0027{1}\u0027 or you do not have access to organization agent pools. Contact your administrator to obtain permission.";e.DeploymentGroupActions="Deployment group actions";e.DeploymentStatusWidgetReleaseDefinitionNameToolTip="Release pipeline: {0}";e.ArtifactDefinitionCollapseSpliiterLabelSuffix="{0} artifacts";e.WidgetEmptyReleaseDefinitionPickerMessage="Please select a build pipeline above";e.ImportReleaseDefinitionText="Import release pipeline";e.DeploymentPreApprovalRejectedTooltipText="Pre-deployment approval rejected";e.SelectPoolLabel="Select a pool";e.MultiPreApprovalsPending="Pre-deployment approvals pending";e.BuildStatusSucceeded="Succeeded";e.GatesEvaluationEndTimeText="Timeout and fail gates at";e.AutomaticAgentUpdates="Automatic agent updates";e.GridRemoveVariableText="Remove variable";e.InActiveApproverWarningFormat="{0} is an invalid user. Override this approval or restart deployment after editing the approver list.";e.ApprovalsHubTabText="Approvals";e.ManualIntervention="Manual intervention";e.DeploymentGroupTeamProjectDescription="Share this deployment group with other projects.";e.SummaryEnvironmentStatusQueued=" Queued";e.DSWBranchPickerToolTip="Filter builds on the selected branch, or use the default build pipeline repository setting.";e.EnvironmentSettingsArtifactsChooseLaterText="Choose later";e.AdminViewNoAgents="No agents are registered or you do not have permission to view the agents.";e.PSMinVersionCheck="The minimum version of Windows PowerShell that is required by the script (3.0) does not match the currently running version of Windows PowerShell.";e.MoreOptionsText="More options";e.WorkItemAndChangesReleaseComparisonText="Comparing the current release with {0}.";e.EnvironmentSettingsManageQueueText="manage queues";e.ReleaseSummaryRecentActivityLogLink="Show more...";e.EnvironmentExecutionPolicyQueueDepthInfiniteTooltip="Select this option for all queued deployments to be started one after another in order.";e.CreateReleaseDefinitionConfirmationDialogTitle="Create a release pipeline";e.ApprovalsTextToolTip="When the approval is automatic, the deployment is automatically approved.\u003cbr\u003e Alternately, specific users (or groups) can be marked as approvers. By default, all of them must approve (in any order) for the deployment to proceed. If a group is added, one user in the group must approve the deployment.\u003cbr\u003e See more options to change the default behavior.";e.SelectHoursText="Select hours";e.FilterByNamePlaceHolder="Filter by name";e.ProjectReferencesTitle="Project references";e.EditArtifactSourceDialogTitle="Edit the artifact source";e.EnvironmentEditOptionsDefaultPool="Default pool";e.ReleaseLogStateNotStarted="Not started";e.ArtifactDefinitionRemove="Remove artifact definition";e.DeploymentTargetPassing=" Passing";e.DeploymentPoolsImportButtonText="Import";e.ErrorWhileSavingStages="An error has occurred while saving stages.";e.TargetsCount="Target count";e.SequentialApprovers="All users in sequential order";e.MyFavoritesNodeText="My favorites";e.AgentPoolLabelOnDGDetailsPage="Deployment pool";e.ReleaseActionResume="Resume";e.SummaryEnvironmentSection="Stages";e.DateFilterName="Date";e.TaskAgentPoolDisplayNameMultiFormat="{0} (referenced by pool {1} and {2} others)";e.SummaryGatesStatusStabilizingInfoText="Waiting on delay before gates evaluation. View logs for more details.";e.DeploymentQueueEnvironmentExecutionPolicyConcurrencyInfiniteTooltip="Select this option to allow all deployments to start in parallel.";e.WidgetReleaseDefinitionPickerMessage="Select release pipeline stage";e.ReleaseLogForDGStartedTimeHeader="Started time";e.ReleaseBannerApproveOrRejectText="Approve or reject";e.ReleaseSettingsHubUndoChangesText="Undo changes";e.AcceptanceCriteriaCountText="{0}/{1} acceptance criteria";e.ReleaseTriggeredBy="Release triggered by {0}";e.ApprovalReassignLink="(Reassign)";e.ReleaseActionStop="Stop";e.ArtifactsDisplayMessage="The artifacts published by each version will be available for deployment in release pipelines. The last successful version of \u003cb\u003e{0}\u003c/b\u003e ";e.SearchBoxLabelTextForAllDefinitions="Search all pipelines";e.RemoveMachine="Remove the machine";e.ImportText="Import";e.NewReleaseQueue="New pool...";e.DeploymentPoolTargetsSearchPlaceHolder="Search by name";e.EnvironmentDefaultNameText="Stage {0}";e.ConfirmReleaseDefinitionNavigateOut="You have unsaved changes to this release pipeline which will be lost.";e.ReleaseArtifactDateColumn="Date";e.LoadEnvironmentTemplatesDialogTitle="Deployment templates";e.SummaryEnvironmentStatusNotStarted="Not started";e.ChooseLaterOptionTooltipText="Link an artifact source later";e.ManageQueuesText="Manage";e.ChangeColumnHeaderDate="Date";e.EnvironmentStartedAtTooltip="Started at {0}";e.SavingStage="Saving stage...";e.AddEnvironmentPreApprovalDescription="Select the users who can approve or reject deployments to the new stage";e.ScheduleConflictWarning="You have specified both a schedule and a pre-deployment approver on this stage. The approver(s) must grant approval when the scheduled deployment triggers, and so the release will not deploy automatically at the scheduled time. It is also possible that an approver may not grant approval, in which case the deployment will be rejected. For scheduled deployments, consider setting pre-deployment approval to automatic.";e.DeploymentGroupTabTitleMachines="Machines";e.QueueForPipelineTooltipText="Queued for an available job";e.ReleaseConsoleRunningOnServer="Waiting for server task execution...";e.LogTypeColumnLabelText="Log type";e.StatusHeaderColumn="Status";e.AgentPoolNotConfigured="A default agent pool is not configured or you do not have the access to the agent pool. Contact your administrator to obtain permission.";e.EnvironmentAgentQueueText="Agent pool";e.FilePathNotPresent="The file path from where content should be retrieved is empty. Please provide a valid file path.";e.SpecificUsersLabel="Specific users";e.ThisWeekDeployments="This week";e.FailedCancelledText="failed (canceled by {0})";e.RunOnServerDesciptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will be executed. A server job allows running a set of tasks on the server and will not require any agent.";e.WidgetNotificationConfigure_ScreenReaderSupportText="{0} widget has not been configured. Contact your administrator for it to be configured.";e.ScheduleRemovedWarning="Removing the schedule will cancel all currently scheduled deployments to this stage.";e.DeploymentPoolNameLabel="Name";e.DeleteQueueMenuItemText="Delete";e.DeploymentQueueEnvironmentExecutionPoliciesOptionsDescription="Define behavior for deployments queued on this stage.";e.ArtifactDefinitionNamePlaceholder="Specify artifact name";e.ArtifactsGridColumnDescriptionTooltip="Artifact description";e.NotStartedAsBranchTagConditionNotMetFooterTooltip="The build from \u0027{0}\u0027 should match \u0027{1}\u0027. ";e.ClearFiltersText="Clear all filters";e.DefinitionImportInvalidJson="Either the exported JSON is not valid or it is not compatible with the current product version. Please retry exporting and importing.";e.DeploymentCompletedTime="Completed time";e.DeploymentGroupRollingPercentLable="Maximum number of targets in parallel";e.UpgradeMachinesConfirmationDescription="Are you sure you want to upgrade all targets in deployment group {0}? ";e.StatusColumnLabelText="Status";e.IssueWithReleaseProblem="There are issues with the release pipeline that may prevent deployment of a release";e.ReleaseDefinitionVariableNameTooltip="Variable name";e.SaveMetaTaskConfirmationCancelText="Cancel";e.RDPickerErrorMessage="Select a stage";e.HourFormat="{0}h";e.NowOnText="now on";e.NoMatchingTargets="No targets";e.ReleaseComparisonCurrentOnEnvironment="(currently on {0})";e.ReleaseBannerPendingPreApprovalText="A pre-deployment approval is pending for the \u0027{0}\u0027 stage. {1}";e.NoBuildDefinitionsFound="No build pipelines exist in this project.";e.SummaryDescriptionSubText="Triggered automatically by \u0027{0}\u0027 build ";e.FixReleaseNameFormatWarningMessage="Names of releases from this pipeline may not be unique. Please use pre-defined variables listed \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616085\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e in release name format.";e.EnvironmentOwnerCannotBeEmptyError="The stage owner cannot be empty. Please assign a valid owner to the stage.";e.SelectedApprovalText="Selective stages";e.ZeroLinkedArtifactWithoutLink="No artifact sources are linked to this release pipeline.";e.ReleaseQueueTitleText="Queue:";e.ReleaseSummaryTestRunsCompleted="Completed";e.Environment="Stage";e.AddTag="Add a tag";e.BuildsAndLinkedWorkItemsHeader="Build and linked work items";e.LoadingVariableGroups="Loading variable groups...";e.RDVariablesDescription="Define custom variables to use in this release pipeline. View list of \u003ca href=\"https://go.microsoft.com/fwlink?linkid=615899\" target=\"_blank\" rel=\"noopener noreferrer\"\u003epre-defined variables\u003c/a\u003e";e.Capabilities="Capabilities";e.ReleaseBannerApproveText="Approve";e.EditEnvironmentOption="Edit options...";e.ConfirmTaskGroupListRefresh="You have unsaved changes to this task group which will be lost. Are you sure you want to refresh this task group list?";e.ErrorExportingReleaseTemplate="We\u0027re sorry, but something went wrong while trying to export template: \u0027{0}\u0027.";e.DeploymentPoolTargetsOffline="Offline";e.ActionsToolBarMenu="Actions";e.AllDefinitionsCreatedByColumn="Created by";e.BranchFilterAriaLabel="Filter by branch";e.ReleaseSummaryTestRunsNotStarted="Not started";e.ReleaseLogSeeAdditionalManualInterventionDetails="Click on the manual intervention icon in the left pane for details.";e.GetAgentText="Download the agent";e.NewPoolLabel="Create a new pool";e.GetHelpButton="Help";e.StateInProgress="In progress";e.DeploymentStatus="Deployment status";e.QueueReleaseOnMultipleEnvironmentsDialogTitle="Deploy to multiple stages";e.EnvironmentEditOptionsDemandValue="Value";e.TemplateDescriptionPlaceHolder="Enter a description";e.ContinuousDeploymentTriggerDescription="Creates a release every time a new artifact version is available.";e.PATCheckBoxLabel="Use a personal access token in the script for authentication";e.SendMailNoSubjectConfirmationTitle="No subject";e.SaveDeploymentTarget="Save target";e.ScheduleForDeploymentForDeletedReleaseTooltipText="If the release is undeleted, the schedule will run at {0}";e.LatestFromBranchWithTags="Latest from branch: {0}; with tags: {1}";e.TriggerBranchLabel="for branch";e.LatestFromAllBranchesAndNoTagsFilter="Latest from any branch";e.PhaseConditionCustomConditionText="A custom condition using variable expressions";e.PhaseConditionCustomConditionHelp="Specifies an expression that controls when this job should run. [More information](https://go.microsoft.com/fwlink/?linkid=851344)";e.ReleaseActionRestart="Restart";e.MailCharactersCount="{0}/{1} characters";e.XamlBuildArtifactText="{0} (XAML)";e.TimeoutText="Deployment timeout";e.DeleteReleaseConfirmMessage="This will remove the selected release from the release list. Do you want to continue?";e.TemplateCategoryDeployment="Deployment";e.ErrorWhileAddingCriteria="We\u0027re sorry, but something went wrong while adding the acceptance criteria. Please try again.";e.VariableGroupDeletedMessage="This variable group no longer exists. Remove the entry from the pipeline.";e.ReleaseLogStateAbandoned="Abandoned";e.ArtifactDefinitionDescriptionPlaceholder="Add description";e.MachineCapabilities="Machine capabilities";e.DeployDialogWorkItemsRemovedTooltipText="Work items that will be removed from this stage as part of this release.";e.SaveEnvironmentTemplateDialogTitle="Save \u0027{0}\u0027 stage as a template";e.AzureKeyVaultVariablesSuffixText="from Azure Key Vault: {0}";e.RunOnMachineGroupDesciptionText="A deployment group job can be used to run a set of tasks on machines which are part of a deployment group.";e.QueuesNotFoundMessage="Could not find any queues.";e.SkipDownloadArtifactsText="Skip artifacts download";e.TaskDetailsLogTooltip="Download the log";e.ReleaseEnvironmentsSearchText="Filter stages...";e.ZeroLinkedArtifactsBanner="No artifact sources are linked to this release pipeline.  \u003ca tabindex=\u00270\u0027 id=\u0027popup\u0027 class=\u0027popupLink\u0027 \u003eLink to an artifact source\u003c/a\u003e";e.ArtifactsAddToolTipText="Click here to add artifacts";e.DisablePriorVersionsCheckboxMessage="Disable prior versions of this task group";e.ArtifactsDisplayMessageLatestWithBranchAndNoTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e ";e.ReleaseBannerReassignText="Reassign";e.TemplateCategoryCustom="Custom";e.StackholderAccessDetails="You can view releases and manage approvals with a Stakeholder access level. Basic access level is required in order to create or manage releases. \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=822604\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027\u003eLearn more\u003c/a\u003e.";e.DraftPublished="Draft published";e.DefaultAlertDialogBoxTitle="Message";e.RemoveTagText="Remove tag {0}";e.ReleaseLogStateQueued="Queued";e.ArtifactPathEmptyErrorMessage="Path cannot be empty.";e.DeploymentGroupTitleBarSecurity="Security";e.MillisecondFormat="{0}ms";e.PredeploymentApprovalReassigned="Pre-deployment approval reassigned";e.AssignApproverDialogBoxTitle="Assign approvers for the \u0027{0}\u0027 stage";e.TaskAgentPoolsTreeCollectionNodeFormat="{0}";e.MultipleManualInterventionsPendingText="Multiple manual interventions are pending for this release. Resume or reject from {0} or {1}.";e.TriggerTagLabel="with tags";e.EnvironmentDeploymentConditionsOnReleaseCreationlTooltip="Start deployment automatically when a new release is created";e.ReleaseReasonManual="Manual";e.ReleaseLogForDGDurationHeader="Duration";e.DateFilterToday="Today";e.DeleteWorkItemText="Remove";e.BuildStatusStopped="Stopped";e.TriggerContinuousIntegrationRequestedForText="Continuous deployment requested for";e.DeploymentRequestedBy="Requested by";e.ReleaseSummaryMailTitle="Email release summary";e.DeploymentGroupsSecurityDialogTitle="Manage default security roles for all deployment groups";e.ReleaseCreatorLabel="Release creator";e.ShowMoreDeploymentGroups="Show more";e.FilteredListNoItems="No items";e.OfflineStatus="Offline";e.ArtifactsGridColumnDescription="Description";e.BuildDefinitionLabel="Build pipelines";e.DeleteArtifactConfirmationDialogTitle="Unlink artifact";e.ApprovalPendingForDeletedReleaseTooltipText="Deployment approval is not allowed for a deleted release";e.NoEnvironmentsSelectedForPublishing="You must select at least one stage below";e.ReleaseLastModified="Last modified";e.AllArtifactsLabel="All artifacts";e.ArtifactsDisplayMessageLatest="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e ";e.ReleaseTemplate="Release template";e.UnsavedChangesConfirmationTitle="Pending changes";e.ReleaseNameDetailsTooltipText="Name: {0} and description: {1}";e.DeploymentGroupRoleAssignmentsPermissionDeniedMessage="You do not have permission to manage this deployment group’s roles.";e.AgentPoolNoMatchingAgentFoundMessage="Could not find any agents matching all demands.";e.AllOfSpecifiedUserInAnyOrder="All users in any order";e.DSWDefaultBranchText="\u003cdefault build pipeline branch\u003e";e.DeleteReleaseDefinitionTooltip="Delete release pipeline";e.ManageLimitsText="Manage limits.";e.PublishTaskGroupDialogLabel="Publish the task group";e.ApprovalAssignedToText="Approval assigned to {0}";e.RequiredFieldIndicator="*";e.DeleteReleaseNotAllowed="Deleting a release with stage(s) pending pre-deploy approval is not allowed. Please cancel \u0027{0}\u0027 stage(s) and try again.";e.DeploymentGroupOverview="Deployment group overview";e.SummaryEnvironmentsTaskSubsection="Tasks";e.PermissionsForText="Permissions for {0}";e.NoReleaseDefinitionsGuidanceLinkText="here";e.ARIALabelReleaseSettingsEditorMainView="Release settings editor";e.EnvironmentOwner="Stage owner";e.NewDeploymentPoolButtonText="New";e.ArtifactsDownloadLocationTooltip="Artifacts of a release are downloaded to a unique folder on the agent.";e.DeleteAttachmentFromAcceptanceCriteriaTooltip="Delete attachment";e.ModalDialogCancel="Cancel";e.DeploymentGroupsPageTitle="Deployment groups";e.DeploymentMachineTagPickerAriaLabel="Tags";e.ReleaseLogSeeAdditionalApprovalDetails="Click on the approval icon in the left pane for details.";e.Cancel="Cancel";e.ReleaseLogStateCanceled="Cancelled";e.ReleaseSummaryTestRunsWaiting="Waiting";e.ReleaseSettingsHubScanReleaseDefinitionText="Block release definition edits that contain plaintext credentials or other secrets.";e.EnvironmentTemplatesDialogOkButton="OK";e.ReleaseActionRetryTooltip="Restart the release for a failed stage";e.Create="Create";e.SendMailSendButton="Send";e.Custom="Custom";e.DurationColumnLabelText="Duration";e.BuildStatusNone="None";e.EnvironmentTemplateSelectionPageTitle="Select a template";e.FailedRejectedText="failed (post-deployment approval rejected)";e.GuidanceForRunShellScript="Run from an administrator command prompt";e.SummaryRecentActivityApprovalForText=" approval for ";e.NameLabel="Name";e.EnvironmentCompletedOnColumn="Completed";e.SourceAliasText="Source alias";e.ApprovalNotStatedText="Not started";e.DeleteTemplateConfirmation="This will permanently delete this template: \u0027{0}\u0027. Do you want to continue?";e.DeploymentTrigger="Trigger";e.DemandsNotMetForDeployPhase="There were issues with deploy job \u0027{0}\u0027. No agents could be found that match the following demands (pool: \u0027{1}\u0027): {2}";e.CancelDeploymentTitle="Cancel deployment";e.ReleaseDetailViewConfirmStopRetainingIndefinitely="Are you sure you want to make the release eligible for deletion by the retention policy?";e.EnvironmentDeploymentConditionsTriggeringEnvironmentsText="Stage(s)";e.BuildStatusCancelling="Canceling";e.CreateQueueDialogTitle="Create a pool";e.ArtifactsGridColumnNameTooltip="Artifact name";e.DeploymentPoolProjectDescription="Provision a corresponding deployment group for the selected projects:";e.PariallySucceededDeployments="Trigger for partially succeeded";e.FilteredListAriaDescribeSearchbox="Type to filter the list of items.";e.CreateReleaseDefinitionConfirmationDialogContent="There are no release pipelines associated with this build pipeline. Do you wish to create one?";e.ChangesGridHeaderText="Commits associated with this release since";e.ApproverMoreOptionsTitle="Specify the number and order of approvals required";e.EnvironmentApprovalCountOneText="{0} approval";e.LatestVersionText="Latest Version";e.WaitForFreePipelineWithRefreshMessage="No jobs are currently available to run this release. Refresh for updated status, or buy more from the \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eRetention and parallel jobs\u003c/a\u003e page.";e.BuyMorePipelinesLinkText="Retention and parallel jobs";e.ManualDeploymentTriggerText="Manual by {0}";e.AllArtifactDefinitionsLabel="All definitions";e.GatesStabilizationTimeLabel="Delay before evaluation";e.ManageDeploymentGroupsDescription="Manage deployment groups";e.EnvironmentDurationTooltip="Started at {0} and ended at {1}.";e.DemandsNotMetForEnvironment="Issues with stage \u0027{0}\u0027:";e.TriggerTabText="Triggers";e.DeleteMetaTaskConfirmationCancelText="Cancel";e.ViewBuildDefinitionSummaryText="View build pipeline summary";e.SummaryEnvironmentStatusPending=" Pending";e.ReleaseLogStateFailed="Failed";e.EnvironmentPostApprovalsCountText="Post-deployment approval ({0})";e.EnvironmentDeploymentConditionsOnReleaseCreationlText="After release creation";e.DescriptionLabel="Release description";e.SummaryWorkItemsRemovedTooltipText="Work items that will be removed in this release when compared to the previous release.";e.ReleasesWaitingForDeploymentText="Waiting for deployment";e.PublishAsPreview="Publish as a preview";e.ReleaseLogStateDone="Done";e.ReleaseDefinitionActionEdit="Edit pipeline...";e.MachineStatus="Machine status: {0}";e.ReleaseDefinitionActionOpen="Open this release pipeline";e.AutomatedDeploymentsSection="Automated deployments";e.SaveAllToolTip="Save all";e.ManualInterventionStatusRejected="Rejected";e.ReleaseSettingsHubSaveChangesText="Save changes";e.TasksHubTabText="Tasks";e.AssignApprovers="Assign approvers...";e.ShareViaEmailTooltip="Share the release summary in email";e.PinToDashboardMenuItemTooltip="Add to dashboard";e.MinuteFormat="{0}m";e.SectionWillNotBeIncludedInMail="(This section will not be included in the outgoing email)";e.FieldNameCannotBeEmptyErrorMessage="\u0027Name\u0027 cannot be empty.";e.ArtifactSourceAliasHelpText="This is an identifier (typically a short name) that uniquely identifies the artifact linked in a release pipeline. It cannot use any of the following characters: \\\\ / : * ? \u003c \u003e | and double quote";e.NoMetaTaskFound="No task groups are available for this project. Learn more about {0}.";e.MachineNeverDeployed="Never deployed";e.TagSelectionToolTipOnEnvironment="You may optionally specify tags. Deployment will be triggered only if the build is tagged with the specified keywords.";e.DefinitionImportInvalidJsonAlertTitle="JSON error";e.AllBuildsText="All";e.SkipPreDeployApproval="Automatically approve auto-triggered deployments to this stage for users who have approved deployment to the previous stage.";e.ArtifactLabel="Artifact:";e.ReleaseBannerPipeText="|";e.SendMailDialogTitle="Send release summary mail";e.ReleaseSettingsHubDaysToRetainText="Days to retain a release";e.WorkitemsNotFoundText="No associated work items were found.";e.IdColumnLabelText="ID";e.DeploymentGroupDeployOneAtATimeToolTip="Deploys to one target at a time. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to at least one or more targets else the overall status will be displayed as ‘Failed’";e.ReleaseLogForDGFinishedTimeHeader="Finished time";e.TypeOfParallelismText="Type of parallelism";e.NoReleaseDefinitionsGuidanceForNonAdvanceLicencedUser="You cannot create releases without a release pipeline.";e.ReleaseLogStateApproved="Approved";e.DeploymentTargetsOfflineOnline="{0} offline, {1} online";e.ReleaseStagesHeader="Stages";e.WidgetAdditionFailedMessage="The widget \u0027{0}\u0027 could not be added. {1}";e.ApprovalsSplitterText="Approvals";e.SaveAll="Save all";e.RedeployActionText="Redeploy";e.DeploymentGroupTabTitleRoles="Roles";e.ReleaseDefinitionVariableValueHeader="Value";e.FriendlySeconds="{0} seconds";e.AutomatedDeploymentOnReleaseCreationToolTipText="Automated deployment: after release creation";e.ReleaseSummaryTestResults="Test results";e.DeploymentTargetsOffline="{0} offline";e.ReleaseLogManualInterventionPendingInfo="The manual intervention {0} is pending.";e.ImportDefinitionText="Import";e.WorkItemColumnHeaderWorkItemTypeTooltip="Work Item Type";e.DeploymentGroupDescription="Description";e.EnvironmentPreApprovalsCountText="Pre-deployment approval ({0})";e.PendingApprovalTileByYouTitleText="{0} for the {1} {2} on you";e.DeleteText="Delete";e.PendingOnYouText="Pending on you";e.NotDeployedRejected="not deployed (pre-deployment approval rejected)";e.WidgetOverlayMetricsPickerMessage="Select a view";e.ConsoleLineSectionStart="******************************************************************************";e.ConfigurationSelectionReleaseVariables="Release variables";e.ChangeColumnHeaderMessageTooltip="Message";e.DeployDialogCommitsAddedMoreThanPageMaxTooltipText="More than {0} commits will be deployed to this stage as part of this release.";e.AutoselectButtonText="Auto-select";e.InitiateNewReleaseText="create a new Release";e.SkippedFor="Skipped for {0}";e.ScheduledOnDeploymentTriggerType="Scheduled: after successful deployment on \u0027{0}\u0027";e.DeploymentGroups="Deployment groups";e.ReleaseIssuesErrorText="Error";e.AllArtifactsText="All artifacts";e.SearchQueuesText="Search queues...";e.RejectAllButtonText="Reject all";e.FileUploadRemoved="Uploaded file has been removed.";e.DeleteMetaTaskMenuItem="Delete";e.DateFilterLast48Hours="Last 48 hours";e.ArtifactsAdd="Add artifacts";e.NoReleaseDefinitionsGuidanceForNonLicensedUserLinkText="Learn more";e.ReleaseSummaryEnvironmentTasksStatePending="Pending";e.ArtifactDefaultVersionIsInvalid="No version matching default criteria was found. Select an artifact version.";e.ReleaseLogManualInterventionCompletedInfo="The manual intervention {0} has been {1} by {2}.";e.NoPoolAssociatedText="No associated pool";e.ChooseMachineType="Type of target to register:";e.TeamBuildArtifactsText="Team Build";e.ReleaseComparisonWithNoPrimaryArtifactException="Cannot compare releases. Either the current release or the selected release does not have a primary artifact set. ";e.InputValueQueryError="The following error occurred while retreiving values for input \u0027{0}\u0027: {1}";e.DSWBuildPickerToolTip="The build pipeline for which the widget will show the deployment and test status.";e.WorkItemNameNotFound="We can\u0027t find any work items matching work item type {0}. Did you rename this work item type?";e.ReassignedBy="Reassigned by {0}";e.GuidanceForUnsavedDeploymentGroup="Save the deployment group prior to registering the machine";e.ArtifactsSetPrimaryTooltip="Set primary to choose trigger for release pipeline";e.DswNoBuildsMessage="There are no builds for this build pipeline.";e.ReleaseLogInitialMessage="Please wait...";e.ReleaseArtifactDownloadCountColumn="Download Count";e.ReleasePreviewBanner="Go \u003ca href=\u0027https://aka.ms/rmhelp\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e for help getting started with release pipelines.";e.DefinitionImportDialogOkText="Import";e.EnvironmentVariablesTabText="Variables";e.EnvironmentDeploymentConditionsAlwaysManualText="No automated deployment";e.DeploymentPoolsSecurityButtonText="Security";e.ReleaseWorkItemComparisionWithUnSupportedArtifactTypeException="The work item view is not supported for artifact type {0}.";e.SourceBranchFilterAll="All";e.ViewReleasesForRdTitle="View all releases for {0}";e.ReleaseLogStatePending="Pending";e.ArtifactDefaultVersionValueSelectDuringReleaseCreation="Select during release creation";e.EnvironmentDeploymentConditionsTimeFormatText="Time (24 hrs)";e.PendingPostDeploymentApproval="Pending post-deployment approval";e.DescriptionLabelText="Description";e.ReleaseLogStateDeferred="Deferred";e.ArtifactTypeFieldBranchDeletedErrorMessage="Field \u0027{0}\u0027 must have valid values. Select another branch as the default.";e.AddStageButtonText="Add";e.DeploymentGroupTitleBarAvailableSharedPools="Available pools";e.StateNotStarted="Not started";e.OpenStageToolTip="Open this stage";e.EnvironmentDeploymentConditionsAlwaysManualTooltip="Users must start all deployments manually";e.ExpandCriteriaText="Expand";e.WaitingForAvailableAgent="Waiting for an available agent";e.ErrorDeletingReleaseTemplate="We\u0027re sorry, but something went wrong while deleting template: \u0027{0}\u0027. Please try again.";e.ArtifactDefinitionTitle="Define artifacts";e.NoReleaseDefinitionAlertTitle="No associated release pipeline";e.TypeColumnHeader="Type";e.CreateReleaseLink="Create a release.";e.ReassignButtonText="Reassign";e.ViewReleaseSummaryText="View {0} summary";e.ReleaseDefinitionHistoryUndelete="Undelete";e.ReleaseHasBeenAbandoned="Release \u0027{0}\u0027 has been abandoned.";e.DeploymentStatusWidgetNA="N/A";e.InvalidCharactersInArtifactSearch="Invalid characters in name field";e.TaskVisibilityRelease="Release";e.ReleaseDefinitionHasBeenDeleted="Release pipeline \u0027{0}\u0027 and associated releases have been deleted.";e.PropertyValue="Value";e.WaitingForAvailableAgentWithPositionFormat="Waiting for an available agent. The current queue position is {0}.";e.DeploymentGroupSecurityDialogTitle="Manage security roles for deployment group: {0}";e.MachineDeploymentUnknown="Unknown";e.ReleasePipelinePlanGroupsQueueQueuedStatusHeaderText="Shows releases currently waiting for a job.";e.ConfirmReleaseDefinitionRefresh="You have unsaved changes to this release pipeline which will be lost. Are you sure you want to refresh this release pipeline?";e.TaskGroupHubTitleCaption="Task group:";e.TriggerManualRequestByTooltipText="{0} {1} on {2}";e.ArtifactsGridColumnPath2="Path";e.DeploymentGroupTabTitleDetails="Details";e.PhaseConditionAlwaysText="Even if a previous job has failed";e.ChildRemovedText="{0} {1} was removed.";e.Publish="Publish";e.NoTasks="0 tasks";e.ForceDeleteReleaseDefinition="Automatically cancel any in-progress release deployments";e.DeploymentStatusWidgetEnvironmentName="Stage name: {0}";e.VariablesSectionTitle="Variables";e.VariableGroupsDescriptionTextPart="Link variable groups to this release pipeline to include the variables they contain. Manage variable groups";e.UserCapabilitiesGuidance="Shows information about user-defined capabilities supported by this host";e.AgentNotAllocatedHeaderMessage="not allocated";e.VariableExpressionHelpText="Variable expression help";e.ConfirmDeleteReleaseDefinitionAndReleases="Are you sure you want to delete release pipeline \u0027{0}\u0027 and all its associated releases?";e.NoneText="None";e.EnvironmentApprovalCountText="{0} approvals";e.CreateRelease="Create release";e.HideDetails="Hide details";e.CreatedByColumnLabelText="Created by";e.DeployMultipleEnvironmentsErrorMessage="Error: failed to trigger deployments on one or more selected stages";e.ApprovalsIconTooltipText="Approvals";e.MaxMachineCountText="Number of agents";e.EnvironmentEditOptionsAddDemand="Add demand";e.SummaryRecentActivityStoppedRelease=" has been stopped.";e.ReleaseLastModifiedBy="Last modified by";e.CreateNewReleaseText="New release";e.SummaryGatesStatusInProgress="Evaluating gates";e.CreateNewReleaseLink="\u003ca class=\u0027deployLink\u0027 tabindex=\"0\"\u003eCreate a release...\u003c/a\u003e";e.CommentLabel="Comment";e.NoReleaseExistsForRDMessage="No release exists";e.ChangeColumnHeaderDateTooltip="Date";e.DeploymentGroupDeploymentConfigurationToolTip="Deploys to {0} of targets at once. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to at least {0} of the targets else the overall status will be displayed as ‘Failed’";e.ApproverIdentityFieldEmptyErrorMessage="Field \u0027{0}\u0027 cannot be empty";e.DeleteDeploymentPoolConfirmationTitle="Delete {0}?";e.ReleaseActionCancel="Cancel";e.EnvironmentEditOptionsDeemandsTitle="Demands";e.RmQsHubCreateRDText="Start by creating a new release pipeline.";e.DeploymentGroupTitleBarDownloadAgent="Get the latest agent";e.DeletedReleasesText="Deleted";e.FilteredListShowingCount="Showing {0} matched items. Use the up and down keys to navigate.";e.LinkNewArtifactDialogTitle="Create artifacts";e.DeploymentPoolsSearchPlaceHolder="Search deployment pools";e.ReleaseWaitingForPipelineOrAgentText="The r is waiting for a job or agent to be assigned. Refresh for updated status.";e.ArtifactGridColumnSourceAlias="Source alias";e.BuildExistsWarning="Selecting this build will replace another build with the same pipeline on this stage’s build list.";e.ArtifactsGridColumnSourceType="Type";e.ReleaseTemplateXmlSchemaValidationError="Cannot validate the XML for this release template. Line: {0}, position: {1}, message: {2}.";e.ArtifactsGridColumnSourceName="Source name";e.ContinuousDeploymentTriggerText="Continuous deployment";e.RetentionPolicyIntroductionTextRetentionTab="Define retention policy for releases deployed to each stage in this release pipeline. Learn more about \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003eretention policy\u003c/a\u003e.";e.ReleaseDetailsShortLabel="Details";e.ReleaseTriggerTitle="Release triggers";e.DeploymentStatusWidgetBranchLabel="Branch:";e.EnvironmentSettingsAgentQueueLabel="Select an agent pool | ";e.ChildAddedText="{0} {1} was added.";e.SummaryRecentActivityRejectedPostfix=" has been rejected by ";e.AddArtifactConditionButton="Add an artifact condition";e.BuildArtifactOptionTooltipText="Artifacts are published by a build pipeline";e.TypeOfParallelismToolTip="The manner in which running is parallelized. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eNone:\u003c/b\u003e Tasks will run on a single agent.\u003cbr/\u003e\u003cbr/\u003e \u003cb\u003eMulti-configuration:\u003c/b\u003e Run the same set of tasks on multiple configurations as specified in the multipliers. Configurations will run in parallel and each configuration will use a single agent. The total number of agents used by the job will depend on the number of configurations, and can be limited by specifying the maximum number of agents. \u003cbr/\u003e \u003cbr/\u003e \u003cb\u003eMulti-agent:\u003c/b\u003e Run the same set of tasks on multiple agents, using the specified number of agents. \u003cbr/\u003e\u003cbr/\u003e\u003ca href=\u0027https://go.microsoft.com/fwlink/?linkid=835763\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003eMore information.\u003c/a\u003e";e.ArtifactDefinitionSplitterCollapseLabel="Artifact definition";e.AddToDashboard_FailureMessage="{0} was not successfully added to the {1} dashboard.";e.ReleaseDefinitionsSearchText="Search release pipelines...";e.ApprovalTimeoutText="Timeout";e.DeploymentPoolProjectReferences="Project references of the deployment pool";e.RDWidgetEnvironmentTileTooltip="Stage: {0}\r\nStatus: {1}\r\nBuild: {2}\r\nBranch: {3}";e.ReleaseDefinition="Release pipeline";e.BuildDetailsSummaryNoRelease="No deployments were found for this build.";e.RejectedByYou="Rejected by you";e.DeploymentGatesSummaryHeader="{0} summary";e.AddVariableButtonText="Variable";e.EnvironmentOwnerNeverEmailNotificationLabel="Never";e.DeploySameArtifactMessage="The release you have selected to deploy has the same build version that is currently deployed to this stage.";e.AutomatedDeploymentsMessage="Stages to which deployments will be triggered automatically. You can choose to disable automated deployment to a stage.";e.NotDeployedOtherEnvironmentConditionEnvironmentLogText="Deployment to this stage will be triggered after successful deployment to \u0027{0}\u0027.";e.BranchSelectionToolTipOnEnvironment="Deployment will be triggered only for a build from the specified branch. For example, selecting master will trigger a deployment only if the build is from the master branch. To trigger a deployment for all builds, use the default value or \"*\".";e.SourceBranchNotMatchedException="Releases can\u0027t be compared as source mapping \u0027{0}\u0027 and \u0027{1}\u0027 are different between builds. Compare releases with same source branch mapping.";e.ViewSummaryTooltip="View the summary details for the selected release";e.ReleaseDefinitionActionOpenToolTip="Click to open this release pipeline";e.ReleaseSettingsHubDaysToKeepDeletedReleasesText="Days to keep releases after deletion";e.NoItemsInSharePoolPanel="No projects are available for sharing";e.WorkItemColumnHeaderId="ID";e.AcceptanceCriteriaFilterDeclined="Declined";e.ApprovedBuildsListHeader="Approved builds: ";e.RelativePathNotPresent="The file path relative to a linked artifact is not present. Please make sure the file path is present and valid.";e.StepText="Step";e.MinimumOneRunOnAgentPhaseError="This job cannot be deleted because at least one \u0027run on an agent\u0027 job is required.";e.AddDeploymentGroupText="Add a deployment group";e.ColumnOptionsInvalidWidth="Enter a value between 0 and 65536.";e.DeploymentGroupName="Deployment group name";e.DeploymentGroupText="Deployment group";e.VariableGroupsNotAvailable="No variable groups are available.";e.AutomatedCheckBoxLabel="Automatic";e.ReleaseStatusReleased="Released";e.ReleaseToolTipWithArtifactInfo="Release: {0}\r\nBuild: {1}\r\nBranch: {2}";e.AgentAcquisitionLinuxRunAgentMarkdown="```bash\r\n~/myagent$ ./run.sh\r\n```";e.NoReleasesAvailable="No releases yet |";e.ReleaseSummaryIssuesWarningHeader="Warnings ({0})";e.ViewQueueToolTipText="View the releases queued for deployment to this stage";e.ReleasePipelinePlanGroupsQueueRunningStatusHeaderText="Shows releases currently running using available jobs.";e.WaitingForPipelineToBeAssigned="The release is waiting for a job to be assigned.";e.AutomatedOnDeploymentTriggerType="Automated: after successful deployment on \u0027{0}\u0027";e.SummaryrecentActivityPostApprovedPrefixAutomated="Post-deployment approval for \u0027{0}\u0027 has been auto-approved.";e.WorkItemColumnHeaderStateTooltip="State";e.ReassignedByYou="Reassigned by you";e.ReleaseLogsDetailViewOff="Off";e.ConfigurationTab="Configuration";e.DeploymentGroupPhaseTaskDemandName="Name";e.SummaryRecentActivityDeploymentPrefix="Deployment to ";e.ReleaseLogsRetriesHeaderNewText="Previous attempts ({0})";e.EnvironmentExecutionPolicyQueueDepthLastReleaseTooltip="Select this option to start deployment for the latest release only. All other deployments will be removed from the queue.";e.SaveAsReleaseTemplate="Save as a template";e.ReleaseActionRetry="Restart";e.ApprovalStatusSkippedComment="This approval is skipped because it was approved by another user. As per approval settings on this stage, one approval is sufficient.";e.CreateReleaseDefinitionConfirmationDialogYesOption="Yes";e.DeploymentStatusWidgetLatestBuildLabel="Latest build:";e.ReleaseActionStart="Start";e.LinkArtifactSourceDialogTitle="Link an artifact source";e.DeploymentQueuedTime="Queued time";e.DeploymentTriggerManual="Manual";e.Select="Select";e.ReleaseDetailsTooltipText="Description: {0}";e.MetaTasksTreeRootText="Task groups";e.ApprovalStatusReassigned="Reassigned";e.EnvironmentDeploymentQueue="Deployment pool";e.DeploymentGroupPhaseAgentsNotMeetingDemands="Machines are missing demand";e.ArtifactDefinitionAddButtonText="Add artifact";e.EnableAccessTokenText="Allow scripts to access the OAuth token";e.ReleaseCreatorCanNotBeApprover="The user creating the release or deployment should not approve the deployment to this stage";e.DeployStatusWidgetLoadingMessage="Loading...";e.DefinitionWithInvalidTasksMessage="The following task(s) are removed from the pipeline because they cannot be retrieved. They might be deleted or removed from the project\r\n{0}\r\nSave to update the pipeline with these tasks removed, or reinstall the tasks and revisit this pipeline.\r\n";e.PoolNameInputPlaceholder="Enter pool name";e.BuildStatusPostponed="Postponed";e.AgentPoolNotSelected="Select a pool for the stage.";e.ReleaseArtifactRatingColumn="Rating";e.DSWClickToViewDeploymentTootlipMessage="Click or press enter to view details of this deployment";e.SelectColumnsText="Select columns";e.DeleteArtifactContextMenu="Remove";e.LearnMoreInfoAboutPAT="Learn more about personal access tokens";e.StartWorkItemText="Start";e.ReleaseDefinitionColumnLabelText="Release pipeline";e.BuildStatusNotStarted="Not started";e.SummaryGatesStatusStabilizing="Waiting for evaluation";e.ValidateDemandsConfirmationTitle="Demands not met";e.ScheduledEnvironmentLogBasicUserText=" {0}To deploy now, choose Deploy on the toolbar or a stage’s shortcut menu. {0}To cancel a schedule, choose Cancel on the toolbar or a stage’s shortcut menu.";e.ArtifactsGridColumnTrigger="Trigger";e.ContinuousDeploymentAddNewTrigger="Add new trigger";e.WaitingForAvailableAgentOnSelfHostedConcurrentJobsPrefix="Waiting for available self-hosted parallel jobs, ";e.ArtifactAliasCannotBeEmpty="VS402916: The artifact alias cannot be empty. Specify a valid artifact alias and try again.";e.DeploymentGroupDeploymentConfigHelpIndicationsInvalid=" (not applicable for {0} machine count)";e.DeploymentGroupHubTitle="Deployment groups";e.FriendlyMinutes="{0} minutes";e.SummaryHubText="Summary";e.SummaryEnvironmentStatusScheduled="Scheduled";e.ManageDeploymentPoolLabel="Manage";e.ArtifactSourceNotFoundText="Artifact source not found";e.ReleaseLinkText="release";e.ErrorWhileCreatingRelease="We\u0027re sorry, but something went wrong while creating the release. Please try again.";e.ReleaseIssuesLabel="Release issues";e.DeploymentGroupSecurityText="Deployment group security";e.ReleaseActionAbandon="Abandon";e.TaskGroupCyclicDependencyToParentError="A cyclic dependency to a parent is not allowed. Dependency path: {0}";e.ReleaseNotesNotFound="No associated notes";e.DetailsPaneOn="On";e.AdminNoQueuesDescription="No release queues have been created for this collection. To get started, click the \"New pool...\" button.";e.MoreInformation="More information";e.ReleaseDefinitionsNotFoundText="No release pipelines found";e.EnvironmentEditOptionsDemandType="Type";e.EnvironmentEditOptionsDemandName="Name";e.UndoDeleteMachineGroup="Undo delete";e.DeploymentGroupPageTitle="Deployment group";e.MetaTaskRunsOnMismatch="Task \u0027{0}\u0027 runsOn value \u0027{1}\u0027 does not match with other tasks in this task group. Please remove it and try again.";e.MultiplePostDeploymentApprovalsPendingText="Multiple post-deployment approvals are pending for this release. Approve or reject {0}, {1}";e.DeploymentWidgetTestsDurationToolTipDuration="Test duration: {0}";e.ApprovalStatusPending="Pending";e.BuildPipelinePlanGroupsQueueQueuedStatusHeaderText="Shows builds currently waiting for a job.";e.ReleaseManagementQuickStartGettingStarted="Getting started";e.ErrorWhileSavingCriteria="We\u0027re sorry, but something went wrong while saving the acceptance criteria. Please try again.";e.ArtifactsGridColumnPathTooltip2="The relative path of the artifact from the build path";e.AcceptanceCriteriaFilterAll="All";e.DeleteArtifactConfirmationDialogContent="Unlinking this artifact can cause some of the task configurations to become invalid. Are you sure that you want to unlink this artifact source from this release pipeline?";e.GuidanceForInsufficientPermissions="Insufficient permissions to register a target.";e.AgentPoolNoAgentPoolsFoundMessage="Could not find any organization agent pools.";e.StartedColumnLabelText="Started";e.EnvironmentOwnerEmailNotificationTooltip="Send an email notification to the stage owner when a deployment completes on this stage.";e.ConfigurationsTabText="Variables";e.DeploymentStatusWidgetTableHeader="Stages";e.SummaryRecentActivityRejectedPostApprovalPrefix="Post-deployment approval for \u0027{0}\u0027 was rejected by {1}.";e.ReleaseStatusRejected="Rejected";e.CollapseCriteriaText="Collapse";e.PreApprovalSpecificUsers="Specific users";e.NoAgentQueueFound="No agent pool with ID {0} was found.";e.AfterSuccessfulDeploymentTriggerText="After successful deployment to {0}";e.RemoveVariableText="Remove variable";e.ByFilterName="By";e.ReleaseSummaryTestRunName="{0}:{1}";e.ForceDeleteReleaseDefinitionTooltip="Selecting this option marks all in-progress, queued, or pending release deployments for cancelation and proceeds with the release pipeline deletion.";e.EnvironmentDeploymentConditionsChooseDeploymentStartText="Choose when the deployment should start";e.DefaultArtifactLatestText="Latest";e.SummaryEnvironmentStatusCancelling="Canceling";e.MachinesCountWithTags="We found {0} machines with the above-mentioned tags";e.GetSampleResult=" to get results for all samples.";e.ParallizeOptionMultiConfigurationText="Multi-configuration";e.ReleaseDefinitionOverviewArtifactCount="Artifacts ({0})";e.TemplateSecretVariablesNotSavedWarning="Any secret variable in the stage won\u0027t be saved as part of the template.";e.MoveToFolderText="Move to a folder";e.ReleaseStatusDraft="Draft";e.BuildDropLocationEmailText=" (Build location)";e.EnvironmentOwnerAlwaysEmailNotificationLabel="Always";e.PreAndPostDeploymentStepError="Pre-deployment and post-deployment data is not valid. Select an approver for each or make the steps automated";e.ShareViaEmailText="Email summary";e.EnvironmentSummaryRightPaneLabel="Stage summary right pane";e.AllDefinitionsHubText="All pipelines";e.PipelinesPlanGroupsQueueDialogTitle="Pipelines queue";e.DeploymentGroupSecurity="Security";e.EnvDepConditionsTriggeringEnvironmentsTextWithoutArtifactCondition="Triggering stage(s)";e.PendingAutomaticApproval="Pending automatic approval";e.DeploymentsText="Deployments";e.ReleaseSummaryTestRunsNeedsInvestigation="Needs investigation";e.RetentionPolicyDaysToKeepToolTip="Set the number of days to retain a release deployed to this stage. Any release can be retained for at least 1 day and a maximum of {0} days. More details about retention policy \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.ApprovalPendingOnAutoApproval="for auto-approval";e.ApprovalReassignLinkText="Reassign";e.ReleaseManagementAccessDenied="You do not have permissions to perform release actions. Contact your Release Administrator.";e.TriggerPullRequestDeploymentRequestedForText="Pull request deployment requested for";e.ConfirmRedeploy="Do you want to redeploy on \u0027{0}\u0027?";e.StagesGridColumnHeaderState="State";e.EditDeploymentConditions="Deployment conditions...";e.ReleaseStarted="Started";e.DeploymentPools="Deployment pools";e.ShowMoreLinkText="Show more \u003e";e.FilterByTags="Filter by tag(s)";e.StagesGridColumnHeaderTitle="Title";e.ReleaseActionRestartTooltip="Restart the release with approvals";e.ItemState="State";e.ReleaseLogManualPreApprovalPendingInfo="The pre-deployment approval is pending on {0}.";e.RetainIndefinitelyText="Retain indefinitely";e.ApprovalPopupReassignHistory="Reassign history";e.WorkItemColumnHeaderWorkItemType="Work item type";e.MetaTaskCannotAddToSelf="A task group cannot be added to itself. Please remove \u0027{0}\u0027 from the task list.";e.SaveAsTemplate="Save as a template...";e.DeployRollbackReleaseMessage="The release you have selected to deploy is older than the one that is currently deployed to this stage. Deployment of this release might remove some work items and commits from this stage.";e.ReleaseComparisonComparing="Comparing ";e.CannotEditTaskGroupFromExtension="Cannot modify this task group {0} as it was installed via an extension.";e.MultipleApproversList="{0} \u0026 {1} other(s)";e.ViewDeploymentSummary="View deployment summary";e.SaveAsReleaseTemplateTooltip="Save this release as a template for creating new releases";e.TitleName="Name";e.TitleText="Title";e.GatesStabilizingStatusLogsTabInfoText="The deployment is waiting for the gate samples to reach a stable state. Samples from individual gates are collected, but the overall gate status is evaluated and applied to deployment after the specified delay.";e.EnvironmentDeploymentConditionsTitle="Trigger";e.ChangeType="Change type";e.NewReleaseDefinitionTitle="New release pipeline name";e.PathText="Path";e.Comment="Comment";e.RetentionPolicyEnvironment="Stage :\u0026nbsp;";e.FilteredListRemoveFromFavorites="Remove from favorites";e.ReleaseTriggerDescription="A release trigger specifies when a new release will get created.";e.ReleaseDefinitions="Release pipelines";e.TimeoutHelpText="Specifies the maximum time in minutes that a deployment is allowed to execute on an agent before being canceled by the server. \u003cbr\u003eA zero value indicates a timeout of 48 hours.";e.DateHeaderColumn="Date";e.ParallizeOptionMultiMachineText="Multi-agent";e.ReleaseNotesHeader="Release notes";e.DeploymentGroupTitleBarAddMachine="Machine";e.DeleteMetaTaskConfirmationDialogText="Deleting the task group {0} would affect all build pipelines, release pipelines, and task groups consuming it. Are you sure you want to delete it?";e.ApprovedByYou="Approved by you";e.ReleaseDefinitionDoesNotExist="VS402936: Release pipeline with ID {0} does not exist. Specify a valid ID and try again.";e.ExplorerHubText="Explorer";e.UndeleteText="Undelete";e.SummaryRecentActivityInProgress="Deployment to \u0027{0}\u0027 has started.";e.AgentVersion="Agent version";e.DownloadHubText="Downloads";e.ArtifactsGridColumnSourceTooltip="Artifact source name";e.InitiateNewReleaseFromTemplateText="choose from templates.";e.EnvironmentEditOptionsDemandTypeEquals="equals";e.SaveReleaseSettingsDialogText="Changes to the settings will take effect only for the new release pipeline and stages created after saving.";e.ApprovalPopupReassignHistoryInfoTextWithPreviousOwner="to {0} by {1}";e.DeploymentPoolDetailsTab="Details";e.ReleasesHubTitleBarText="Release pipelines";e.HistoryTabText="History";e.DeploymentPoolTargetsOnline="Online";e.ChangeColumnHeaderAuthor="Author";e.EnvironmentEditOptionsDemandTypeExists="exists";e.AgentAcquisitionDarwinRunAgentMarkdown="```bash\r\n~/myagent$ ./run.sh\r\n```";e.Overview="Overview";e.BuildFetchingWaitMessage="Getting build details...";e.RejectedBy="Rejected by {0}";e.StartTime="Start time";e.AgentText="Agent";e.ReleaseComparisionWithNoArtifactException="There is no artifact version available. Releases cannot be compared.";e.DefinitionNameTitleText="Name";e.CreatedColumnLabelText="Created";e.PreDeploymentGates="Pre-deployment gates";e.ApprovalPendingOn="on {0}";e.ReleasePipelineView="Release (pipeline view)";e.ArtifactDefinitionPathPlaceholder="Specify relative path";e.ThreeDots="...";e.ReleaseDetailsLabel="Release Details";e.SummaryRecentActivitySuccessfulDeployment="Successfully released to ";e.ReassignedByYouOnBehalfOf="Reassigned by you on behalf of {0}";e.EnvironmentHeaderColumn="Stage";e.DeploymentConditionsTabText="Deployment conditions";e.WidgetBuildDefinitionPickerMessage="Select a build pipeline";e.DeploymentTargetOffline=" Offline";e.EditArtifactContextMenu="Edit";e.BuildStatusCompleted="Completed";e.AgentStatusOffline="Offline";e.ReleaseLogStateCancelling="Canceling";e.WidgetNotificationConfigure_ScreenReaderSupportText_Admin="{0} widget has not been configured. Click to configure.";e.CreateReleaseFromTemplate="New release from template";e.FailingStatus="Failing";e.GatesEvaluationTimeOutText="Evaluation duration";e.FilteredListAddToFavorites="Add to favorites";e.DeploymentGroupTabTitleTargets="Targets";e.RecentGatesSampling="Recent gate sampling";e.ManualInterventionStatus="{0} is {1}";e.SendMailTo="To";e.AllApprovalText="All";e.MachineDisabled="No";e.ManualDeploymentsMessage="Stages on which deployments must be manually triggered:";e.ApprovalAssignedToYouText="Approval assigned to you";e.ReleasenameFormatLinkPart="pre-defined variables.";e.SummaryRecentActivityAbandonedRelease="Deployment to \u0027{0}\u0027 was abandoned.";e.FilteredListTooManyMatches="Showing {0} of {1} matches. Click here to show all.";e.ApprovalOptions="Options";e.InProgressReleasesText="In progress";e.SharedBadgeText="SHARED";e.ReleasePoolTitleText="Pool:";e.ReleaseLogAutoPostApprovalInfo="The post-deployment approval has been auto-approved.";e.ConfirmReleaseStop="You are about to stop the release \u0027{0}\u0027. This action cannot be reversed.";e.TaskLogViewLimitExceededMessage="The log is too big to be displayed in the browser. You can download the log and view it offline.";e.GuidanceForRunPowerShellScript="Run from an administrator PowerShell command prompt";e.EnvironmentDeploymentConditionsScheduledDescription="Trigger a new deployment to this stage at a specified time.";e.RegisterMachine="Register machine";e.DeploymentPoolsSecurityDialogTitle="Manage default security roles for all deployment pools";e.DeploymentConditionsDescription="Define the trigger that will start deployment to this stage.";e.SendMailTitle="Send mail";e.UpdateAgents="Update agents";e.DefaultHostedImage="Default hosted image";e.ApprovalDialogCommentTitle="Type comments here...";e.CommitsHubTabText="Commits";e.CloneDefinitionText="Clone";e.ConfirmDeleteEnvironmentTemplate="Delete template {0}?";e.AreYouSureToProceedMessage="Are you sure you want to proceed?";e.TaskProgressLabelFormat="{0}/{1}";e.StateFilterName="State";e.ApprovedBy="Approved by {0}";e.ReferencesTabText="References";e.DefaultVersionTooltip="Default version";e.PreviouslyDeployedReleasesText="Recently deployed";e.NoSuchArtifact="There is no such artifact \u0027{0}\u0027 linked to this release pipeline.";e.LogsViewFilterApprovals="Approvals";e.ArtifactSearchResultEmpty="There are no artifacts to show. Specify the search criteria and click on Search to view artifacts";e.AllDefinitionsLastDeployedColumn="Last deployed";e.VariableExpressionLabel="Variable expression";e.DefaultConfirmDialogBoxTitle="Verify action";e.DeletedDateColumnLabelText="Date deleted";e.CannotReleaseFromFailedBuildTitle="Cannot create a release";e.UnPendingApprovalTileTitle="{0} for {1} was {2} by {3}";e.ReleaseHasBeenQueued="Release {0} has been created.";e.NewDefinition="New pipeline";e.DeploymentNeverStartedTooltip="Deployment never started on the stage for this release";e.CreateReleaseDefinition="New release pipeline";e.MultipleEnvironmentsText="Multiple stages";e.DownloadInstaller="Download the installer";e.MultipleApprovalsPendingText="Multiple approvals are pending for this release. Approve or reject from {0} or {1}.";e.RetentionPolicyReleasesToKeep="Minimum releases to keep :\u0026nbsp;";e.PhaseConditionOnSucceededText="Only when all previous jobs have succeeded";e.TaskAgentActivityFormat="Running {0} {1}";e.ReleaseDefinitionActionEditTooltip="Click to edit the release pipeline";e.StatusAriaLabel="Status";e.ColumnOptionsToolTip="Column options";e.ModalDialogCancelButton="Cancel";e.DeploymentTargetPageTitle="Deployment target";e.SelectedVariableGroupsCountText="{0} variable group(s) selected";e.InvalidIdForBuildArtifactErrorMessage="The version provided for the source \u0027{0}\u0027 is invalid. Provide a valid build ID. \u003ca href=\"{1}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eLearn more\u003c/a\u003e";e.NoAgentPoolFound="No agent pool with ID {0} was found.";e.ErrorWhileStartingWorkItem="We\u0027re sorry, but something went wrong while starting the work item. Please try again.";e.TagFilterDropdownTooltip="Show more...";e.ArtifactsGridColumnSource="Source";e.BranchName="Branch: {0}";e.DeploymentStatusWidgetLatestBuildTooltip="View build \u0027{0}\u0027";e.MarkAsPrimaryArtifactConfirmationDialogContent="Releases are reported against the primary artifact. Marking an artifact source as primary also implies the artifact variables will be available with global artifact variables that begin with {0}.{1}Are you sure you want to mark {2} as the primary artifact?";e.DeploymentTriggerColumnHeaderInRelease="Deployment trigger";e.DefinitionOverviewText="Overview";e.AddVariable="Add variable";e.MachinesCount="Machine count";e.LinkedWorkItemsNotFound="No linked work items";e.AddToTeamFavoritesText="Add to team favorites";e.TasksNotFoundAlertTitle="Tasks not found";e.MachineOverview="Machine overview";e.LabelWithManageServiceDisplayFormat="{0} ({1})";e.ShowMoreDeploymentTargetsTooltip="Load more deployment targets";e.GridAddCapabilityText="Add capability";e.PendingApprovalText="pending approval ";e.ApprovalStatusAbandoned="Abandoned";e.ApprovalsText="Select the users who can approve or reject deployments to this stage.";e.EnvironmentColumnsFilterIconLabel="Filter stage columns";e.EnvironmentExecutionPolicyChangedWarningText="Changes made to queue settings will be effective immediately. All currently queued deployments to this stage will be processed based on new settings.";e.ReleaseLogStateRejected="Rejected";e.AllDefinitionsArtifactsColumn="Artifacts";e.FilteredListWatermark="Filter items...";e.AfterSuccessfulDeploymentToText="after successful deployment to {0}";e.GuidanceForUnsavedDeploymentPool="Save the deployment pool prior to registering the machine.";e.PropertyName="Property";e.NoReleaseDescriptionText="No description";e.DeleteMachineGroupConfirmationTitle="Delete {0}?";e.SelectTimeZoneText="Select Time zone";e.SkipDownloadArtifactHelpText="Skip downloading artifacts to the agent before starting the deployment. The artifact directory will not be cleaned if this is checked.";e.DefinitionImportDialogTitle="Import release pipeline";e.ArtifactTypeFieldDeletedErrorMessage="Field \u0027{0}\u0027 should have valid values. If the source (build pipeline) doesn’t exist anymore, delete this artifact from the release pipeline";e.EnvironmentVariablesDescription="Define custom variables to use in this stage. You can also use \u003ca href=\"https://go.microsoft.com/fwlink?linkid=615899\" target=\"_blank\" rel=\"noopener noreferrer\"\u003epre-defined variables.\u003c/a\u003e";e.ReleaseSummaryEnvironmentTasksStateCompleted="Completed";e.EnvironmentSettingsArtifactsDescriptionText="Choose a source that publishes the artifact to be deployed";e.ManageTemplatesTitle="Manage templates";e.MultipliersText="Multipliers";e.DeploymentPoolPageTitle="Deployment pool";e.PhaseConditionOnFailureText="Only when a previous job has failed";e.ReleaseSummaryIssuesErrorsHeader="Errors ({0})";e.SharedProjectListDescription="Shared with";e.SummaryWorkItemsAddedTooltipText="Work items that will be deployed as part of this release when compared to the previous release.";e.ReleasesPipelinesDisplayHubName="Releases";e.AddAcceptanceCriteriaText="Add criteria";e.ArtifactAliasHasInvalidCharacters="VS403174: Artifact alias \u0027{0}\u0027 is invalid. It cannot contain characters: \\ / : * ? \" \u003c \u003e and |. Specify a different name and try again.";e.ConfirmDeleteAgent="Delete this agent?";e.ViewQueue="View queue";e.ApprovalPopupClose="Close";e.SecurityButtonText="Security";e.PhaseSummary="Job summary";e.MineHubText="Mine";e.ExportMetaTaskMenuItem="Export";e.DeleteDGsFromPoolConfirmationTitle="Delete deployment groups?";e.AbandonReleaseTitle="Abandon release";e.ConfirmDeleteQueue="Delete pool {0}?";e.ReleaseSummaryNoIssuesText="No issues reported in this release.";e.UnsupportedArtifactsInTriggersGuidanceLinkText="Manage artifacts";e.DownloadAllLogs="Download all logs";e.AgentPlatformRedhat="Red Hat";e.UndeleteReleaseTitle="Undelete a release";e.ReleaseStatusUndefined="Undefined";e.ArtifactsAlreadyAddedText="{0} artifacts are already part of this release pipeline";e.ArtifactsHubText="Artifacts";e.GatesEvaluatingStatusLogsTabInfoText="All gates are concurrently being queried for samples. This is repeated at the specified sampling interval. Deployment will proceed when all gates are successful in the same sampling interval.";e.ReleaseIssuesWarningText="Warning";e.SummaryEnvironmentStatusRejected=" Rejected";e.VariableGroups="Variable groups";e.SummaryEnvironmentText="Stage:";e.AddBuildText="Add";e.ReleaseEditorRightPaneLabel="Release editor right pane";e.EditDescriptionDialogtLabel="Edit the release description";e.ReleaseActionOpenReleaseInNewTab="Open in a new tab";e.ArtifactTypeFieldVersionDeletedErrorMessage="Field \u0027{0}\u0027 must have valid values. Select another version as the default.";e.BranchPickerErrorMessage="Select a branch";e.QueuesNotFoundErrorMessage="A default pool is not specified in \u0027{0}\u0027 for the stages \u0027{1}\u0027 or you do not have access to the pool. Contact your administrator to obtain permission.";e.LinkVariableGroupsButtonText="Variable group";e.DownloadLocationTooltip="An artifact is downloaded to {0} under the working directory on the agent.";e.TaskGroupParentCannotBeAddedToDraft="A parent task group cannot be added to its draft version. Please remove \u0027{0}\u0027 from the task list.";e.DateFilterLast7Days="Last 7 days";e.NewReleaseDefinitionEditorBannerHeader="\u003cspan class={0}\u003eNew release pipeline editor\u003c/span\u003e";e.DeploymentTargetFailing=" Failing";e.SystemCapabilitiesGuidance="Shows information about the capabilities provided by this host";e.RequiredTitleText="Title*";e.ExportDefinitionText="Export";e.DeploymentGroupDeploymentOptionsText="Deploy to";e.SecurityLockText="Change the variable type to secret";e.StopRetainingIndefinitelyToolTip="Stop retaining indefinitely";e.QueuedEnvironmentLogText="This release has been queued for deployment to this stage.{0}Other releases are in the queue or being processed for the same stage.";e.ReleaseActionStartTooltip="Start release";e.AddMachine="Add a machine";e.MarkAsPrimaryContextMenu="Mark as primary";e.ExportTemplate="Export template";e.DeploymentQueueEnvironmentExecutionPolicyUserConcurrency="Specify the maximum limit";e.CloseButtonText="Close";e.LastWeekDeployments="Last week";e.ApprovedBuildsList="Builds approved: \u0027{0}\u0027.";e.ContinueOnErrorText="Continue on error";e.DeleteWorkItemToolTip="Remove the selected release";e.ReleaseComparisonTooltipFormat="Comparing {0} with {1} (currently on {2})";e.ReleaseSettingsHubPermanentlyDestroyReleasesText="Permanently destroy releases";e.EnvironmentDeploymentConditionsScheduledText="Scheduled";e.RequiredPlaceHolder="\u003cRequired\u003e";e.ReleaseTitleRequired="The release title cannot be empty";e.DescriptionEditIconHelpText="Click on description to modify it";e.ContinuousDeploymentForBuildCompleteLabelText="Continuous deployment (create a release and deploy whenever a build completes)";e.EnvironmentDefinitionOptions="Stage definition options";e.ApprovalsAssignedFilterName="Assigned";e.ResultsHeaderColumn="Results";e.NewReleaseDefinitionDialogTitle="Create a release pipeline";e.DefaultValueForApproverComboBox="Select an identity";e.ReleaseBannerRejectText="Reject";e.WaitForFreePipelineWithRefreshTooltipMessage="No jobs are currently available to run this release. Refresh for updated status, or buy more from the Retention and parallel jobs page.";e.ReleaseCommitsComparisionWithUnSupportedArtifactTypeException="The commits view is not supported for artifact type {0}.";e.AgentPlatformUbuntu="Ubuntu";e.VariablesIconTooltipText="Variables";e.EnvironmentDeploymentConditionsAfterSuccessfulDeploymentTooltip="Start deployment automatically after successful deployment to another stage";e.DeploymentPartiallySucceededTooltipText="Partially succeeded";e.BackToHistory="Back to history.";e.NoVersionSelectedForOneOrMoreSourcesErrorMessage="No artifact version has been selected for one or more sources.";e.ColumnOptions="Column options";e.SelectReleaseDefinition="Release pipeline";e.ArtifactsDisplayMessageSelectDuringReleaseCreation="The artifacts published by each version will be available for deployment in release pipelines. Select the version when you create a release. For automatically triggered releases, the latest version will be chosen.";e.SequentialApprovalsToolTip="Select this option if approvals must follow the order in which the users are specified.";e.ErrorExtractingTemplate="We\u0027re sorry, but something went wrong while creating the template. Please try again.";e.DeploymentGroupsSearchPlaceHolder="Search deployment groups";e.AutomatedDeploymentsMissingMessage="No deployment will be triggered automatically after release creation. Set the required condition on each stage.";e.SaveReleaseSettingsConfirmationCancelText="Cancel";e.RemoveTriggerTooltip="Remove the trigger";e.NotStartedReleasesText="Not started";e.ReleasesEnvironmentListLabel="Stages list";e.QueueReleaseOnEnvironmentDialogCancelButton="Cancel";e.FailedToFetchFlattenedMetaTask="Failed to retrieve the flattened task group {0}";e.MetaTaskImportDialogTitle="Import a task group";e.NoReleaseDefinitionsGuidance="You cannot create releases without a release pipeline. Click {0} to get started.";e.StateCompleted="Completed";e.CannotDeleteTaskGroupFromExtention="Cannot delete this task group {0} as it was installed via an extension.";e.PredecessorStageUpdatedReleaseWithApprovedBuilds="Updated release with builds approved by stage {0}.";e.TemplateTitleInvalid="This template title isn\u0027t valid because it might contain special characters: \\ / : * ? \" \u003c \u003e |";e.EditDescriptionText="Description";e.DeferredDateShouldBeInFutureText="You have specified a date to defer the deployment, but it is in the past. The date should be in the future.";e.SecondFormat="{0}s";e.LogsHubText="Logs";e.ApprovedByOnBehlafOf="Approved by {0} on behalf of {1}";e.MachineNameAndStatus="Machine name: {0} Status: {1} ";e.NotStartedAsPreviousEnvironmentNotExecuted="Deployment to \u0027{0}\u0027 will start after successful deployment to \u0027{1}\u0027.";e.ShareDeploymentGroupSharingButton="Sharing";e.FieldLabelFormatWithRequiredDecorator="{0}{1}";e.NoVersionHasBeenSelectedToolTip="No version has been selected for this artifact source.";e.DateFilterLast24Hours="Last 24 hours";e.AdminHostsUndoChanges="Undo changes";e.PublishDraftTaskGroupConfirmationMessage="Changes made to the draft version will overwrite the parent task group version and the draft task group will be deleted. Are you sure you want to proceed?";e.ReleaseWaitingForPipelineText="The release is waiting for a job to be assigned.";e.WidgetLoadFailedInvalidSettings="The release pipeline summary widget could not be loaded because its settings are invalid.";e.DescriptionDialogPlaceholderText="Enter description...";e.TagFilterShowAllButtonText="All";e.NotDeployedPartiallySucceededOtherEnvironmentConditionEnvironmentLogText="Deployment to this stage will be triggered after successful or partially successful deployment to \u0027{0}\u0027.";e.DSWMetricsPickerToolTip="The numerical values metric to show as part of the status, such as the test pass rate.";e.ReleaseHubTitleCaption="Release:";e.ReleaseComparisionWithIncompatibleBuildDefinitionException="Not able to compare releases of two different build pipelines {0} and {1}.";e.DeploymentTriggerAutomated="Automated";e.RetainIndefinitelyColumnLabelText="Retain indefinitely";e.ConfigurationEnvironmentSelctionLabel="Stages";e.StateFilterAriaLabel="Filter by state";e.ArtifactSourceAlreadyLinkedErrorMessage="The source alias \u0027{0}\u0027 is already linked to the release pipeline. Provide a different alias name.";e.UpdateTargets="Update targets";e.RmQsHubMainContent="Release Management helps you automate the deployment and testing of your software in multiple stages. You can either fully automate the delivery of your software all the way to production, or set up semi-automated pipelines with approvals and on-demand deployments.";e.DeploymentGroupTitleBarHelp="Help";e.ReleaseDefinitionSnapshotUpdateSummary="Change details of the release update performed on \u003cb\u003e{0}\u003c/b\u003e by \u003cb\u003e{1}\u003c/b\u003e.";e.ArtifactsGridColumnPrimary="Primary";e.PinToDashboardMenuItemText="Add to dashboard";e.LinkButtonText="Link";e.TemplateAlreadyExistsMessage="\u0027{0}\u0027 already exists. Do you want to replace it?";e.Enabled="Enabled";e.DeployDialogCommitsRemovedMoreThanPageMaxTooltipText="More than {0} commits will be removed from this stage as part of this release.";e.SummaryEnvironmentStatusStopped=" Stopped";e.AcceptanceCriteriaFilterLabel="Show";e.ManualInterventionInstructionsLabel="Instructions";e.Ok="OK";e.Or="or";e.EnvironmentDeploymentConditionsDaysRepetitionText="Repeat on days";e.AnalyticsText="Analytics*";e.ReleaseLogManualPostApprovalCompletedInfo="The post-deployment approval has been {0}.";e.ApproveAllButtonText="Approve all";e.EnableAccessTokenHelpText="Enables scripts and other processes launched during the deployments from this release stage to access the OAuth token via the System.AccessToken variable.";e.DeleteMetaTaskConfirmationDialogNewText="Task group {0} might be in use. Please see {1} of the task group and remove them to delete the task group safely. Are you sure you want to delete it?";e.PreDeploymentApproval="Pre-deployment approval";e.PreDeploymentApprover="Pre-deployment approver";e.DeploymentGroupsDeploymentStatusColumnName="Deployment status";e.TeamFavoritesNodeText="Team favorites";e.SystemPreRequisitesLinkText="System prerequisites";e.ArtifactsTitleTextWithArtifactsCount="Artifacts ({0})";e.SummaryEnvironmentStatusPartiallySucceeded="Succeeded (partial)";e.ReleaseHasBeenUnDeleted="has been undeleted and moved to \u0027Releases\u0027.";e.NoDefinitionAvailableMessage="There are no source pipelines with the given name that can be accessed in the project. Please create a source pipeline if there is none.";e.FilteredListNoMatches="No items contain the filter text";e.RefreshQueuesDescription="Refresh agent pools";e.DeleteReleaseTitle="Delete a release";e.TriggerReleaseWithArtifact="Trigger a release when a build completes";e.ErrorWhileFetchingArtifactVersions="There was an error while fetching artifact versions. Error: \u0027{0}\u0027";e.ReleaseDefinitionEditorRightPaneLabel="Release pipeline editor right pane";e.LearnMoreAboutMachineGroupsText="Learn more about deployment groups";e.AddTasksLabel="Add tasks";e.DeploymentDuration="Duration";e.CreateReleaseFromTemplateToolTip="Create a new release from a template";e.CannotReleaseFromFailedBuild="Releases can be created only from successful builds. The status of the build you have chosen is: {0}. Choose a successful build to create a release.";e.MetaTaskDirtyWarning="You have unsaved changes to this task group which will be lost.";e.DSWRDPickerLabel="Linked release pipelines";e.StartWorkItemToolTip="Start the selected release";e.EnvironmentNameToolTipText="Stage name: {0}";e.TaskGroupDetailsText="Task group details";e.ReleaseExplorerRightPaneLabel="Release explorer right pane";e.EnableDisableButtonLabel="Deployment to this target";e.ReleaseLogStateReassigned="Reassigned";e.NoLogsAvailable="(no logs available)";e.ArtifactsDisplayMessageLatestWithAllBranchAndAllTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e ";e.DeploymentApprovalsEmailNotificationEnabledCheckBoxLabel="Send an email notification to the approver on whom the approval is pending";e.CreateReleaseSelectArtifactVersionHelpText="Choose the artifact version to include as part of this release. If the version is not available in the drop-down, type in the version number.";e.CloneEnvironment="Clone stage";e.NewReleaseDefinitionNameMultiWordText="New {0} {1}";e.ManageReleaseApproversPermissionDenied="You don\u0027t have necessary permissions to manage approvers on this stage.";e.QueueReleaseOnEnvironmentStepsInTheDeploymentHeader="Steps in this deployment";e.ArtifactSourceColumnFormat="{0} ({1})";e.ArtifactGridColumnDefaultVersion="Default version";e.EditEnvironmentPermissionDenied="You don\u0027t have necessary permissions to edit this stage.";e.WorkItemRetrievalException="Unable to retrieve work item details. Try again later.";e.SummaryGatesStatusEvaluatingInfoText="Evaluating gates. View logs for more details.";e.ReleaseNotFound="No release found with name \u0027{0}\u0027.";e.CopyScriptToClipboard="Copy script to the clipboard";e.ScheduledTriggerTime="24h time:";e.ScheduledTriggerText="Scheduled";e.BuildStatusFailed="Failed";e.NoReleasesForAnalyticsText="No releases deployed yet";e.SaveDeploymentGroup="Save deployment group";e.CommentPlaceHolder="Enter a comment";e.EnterValidMailId="Select an organization identity that is a valid user of the organization or project.";e.ReleaseArtifactTitleColumn="Title";e.StartButtonText="Start";e.StateFilterAll="All";e.MachineTagsDescription="The tags defined above can be used in the release pipeline to target a subset of machines in the group.";e.PivotTabNavigationAriaLabel="Tabs";e.ApproversHeadingLabel="Approvers";e.ArtifactsToBePublishedMessage="published the following artifacts: \u003cb\u003e\u003cem\u003e{0}\u003c/em\u003e\u003c/b\u003e.";e.CreateNewArtifact="Create new...";e.PendingPreDeploymentApproval="Pending pre-deployment approval";e.ArtifactsTitleText="Artifacts";e.PublishAsPreviewHelpMessage="Publish a new preview version of the task group. This is recommended if the changes are not backward-compatible.";e.RDSummaryWidgetDefaultName="Release pipeline summary";e.GateResultToolTip="in delay before evaluation";e.NoBuildsFoundMatchingTheFilterCriteria="No builds match your filter criteria.";e.ReleaseDefinitionActionCreateReleaseToolTip="Trigger a release from release pipeline";e.ReleaseLogStateUndefined="Undefined";e.GatesRecentSamplingInfoText="Showing the latest {0} of {1} samples.";e.OneTargetAtATime="One target at a time";e.ArtifactsSourceNameWithTypeFormat="{0} ({1})";e.ArtifactsDisplayMessageLatestWithBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e with tags \u003cb\u003e{2}\u003c/b\u003e ";e.ArtifactPickerFileShareMessage="The artifact location cannot be browsed here. You can browse the following location manually to obtain the path of the file and use it as a parameter for the task.";e.ReassignedByOnBehalfOf="Reassigned by {0} on behalf of {1}";e.StateBlocked="Blocked";e.ChooseEnvironmentsLabel="Choose stages to queue deployments";e.PreApprovalAutomaticApproval="Automatically approve";e.DefinitionCloneSuffix="- Copy";e.AvailableSharedPoolsText="Available shared deployment pools can be used to create the new deployment groups";e.SummaryEnvironmentStatusInprogress=" In progress ";e.WorkItemColumnHeaderIdTooltip="ID";e.QueueForDeploymentTooltipText="Queued for deployment";e.DeleteMetaTaskConfirmationOkText="Delete";e.BranchFilterLabel="Branch";e.AddNewEnvironmentDialogText="Add a new stage";e.And="and";e.PendingApprovalOnText="Pending approval on {0}";e.DeleteTemplate="Delete template";e.WorkItemColumnHeaderAssignedTo="Assigned to";e.MatchingTargetsResolvedAtRuntime="Matching targets to be resolved at run time for \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003edeployment group\u003c/a\u003e";e.FilteredListShowingMultipleCounts="Showing {0} matched items. Use the tab key to select the first matched item, then use the up and down keys to navigate.";e.DeleteReleaseDefinitionConfirmTitle="Delete the release pipeline";e.QueueReleaseOnEnvironmentReleaseTitle="{0}";e.RetentionPolicyRetainBuildToolTip="Retain build for all releases deployed to this stage. More details \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.SaveMetaTaskConfirmationOkText="Save";e.Count="Count";e.DefinitionImportDialogInstruction="Select the release pipeline JSON file to import";e.SummaryEnvironmentStatusNotDeployed="Not deployed";e.ChangedDate="Changed date";e.DeploymentTargetNeverDeployed=" Never deployed";e.CreateNewDeploymentLink="\u003ca class=\u0027deployLink\u0027 tabindex=\"0\" \u003eDeploy \u003c/a\u003e";e.AllDefinitions="All release pipelines";e.Tasks="Tasks";e.ApprovalCommentWaterMarkText="Add your comments here...";e.SummaryrecentActivityPostApprovedPrefix="Post-deployment approval for \u0027{0}\u0027 was granted by {1}.";e.Pools="Pools";e.SummaryrecentActivityPreApprovedPrefix="Pre-deployment approval for \u0027{0}\u0027 was granted by {1}.";e.EnvironmentExecutionPoliciesOptionsDescriptionTooltip="Deployment on a stage can be in parallel where multiple releases can be deployed at the same time, or in order where releases get deployed one after another.";e.CreateReleaseButtonText="Create a release";e.UnsupportedTypeMessageInArtifactsPicker="Artifacts of type {0} are not supported. Please enter the path manually.";e.FilteredListAriaDescribeFavorites="List items can be favorited via right arrow and Enter.";e.AddEnvironmentsLabel="Add a stage";e.AutoProvisonedDeploymentGroupDescription="A deployment group was created from pool {0}";e.DeploymentQueueEnvironmentExecutionPolicyConcurrencyDescription="The maximum number of deployments that can proceed at one time";e.UndoDetete="Undo delete";e.AutomatedOnReleaseTriggerType="Automated: after release creation";e.AutomaticallyApproved="Automatically approved";e.ReleaseBannerResumeOrRejectText="Resume or reject";e.LinkArtifactServiceErrorMessage="The service or its artifact sources could not be accessed. The artifact source has not been verified. Please enter the fields manually. An incorrect source input may lead to deployment failures.";e.SummaryRecentActivityCanceledRelease="Deployment to \u0027{0}\u0027 was canceled.";e.ReleaseSummaryEnvironmentStatusCompleted="Completed";e.LatestDeployment="Latest deployment";e.StateRejected="Rejected";e.WorkItemsHubTabText="Work items";e.ArtifactSourcesText="Artifact sources";e.ScheduledTriggerDescription="Create a new release at a specified time.";e.TemplateCategoryLoading="Loading...";e.SummaryrecentActivityPreApprovedPrefixAutomated="Pre-deployment approval for \u0027{0}\u0027 has been auto-approved.";e.LogsViewFilterAll="All";e.ArtifactSourceLabel="{0}\\{1}";e.NoTriggerReleaseWithArtifact="No trigger";e.ConfirmToDiscardEditedEmail="Leaving this page will discard the email. Are you sure you want to discard these changes?";e.ReleaseDetailViewConfirmStopRetainingIndefinitelyTitle="Stop retaining indefinitely";e.CancelReassignText="Cancel";e.ViewBuildResultText="View build results";e.QueueReleaseOnEnvironmentDialogOkButton="Deploy";e.QueueReleaseOnEnvironmentDialogTitle="Deploy {0} to {1}";e.TagAddButtonText="Add...";e.HalfOfTargetsInParallel="1/2 of the targets in parallel";e.WidgetNotificationConfigureTitle="Configure widget";e.PhaseRename="Rename";e.LoadMoreDefinitionsText="Load more pipelines...";e.DeploymentPoolRoleAssignmentsPermissionDeniedMessage="You do not have permission to manage this deployment pool’s roles.";e.DeploymentGroupDeployCustomToolTip="Specify a percentage number of targets that can be deployed to at once. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to specified percentage of targets else the overall status will be displayed as ‘Failed’";e.ArtifactsGridColumnTriggerTooltip="Triggers a release with a new artifact";e.AddTags="Add tags";e.GateSampleTime="Sample time";e.DiscardChangesConfirmationTitle="Discard changes";e.NotStartedAsConditionManual="Deployment to \u0027{0}\u0027 will start when it is manually triggered using the deploy action.";e.ReleaseArtifactDownloadActivityColumn="Download Activity";e.Machines="Machines";e.FailedToAddStage="We\u0027re sorry, but we can\u0027t add a stage to this release. Please try again.";e.TestResultsDetailedReport="Detailed report \u003e";e.CopyExistingReleaseToolTip="Create a copy of the selected release";e.TargetName="Target name";e.DeployActionText="Deploy";e.DeploymentStatusWidgetReleaseToolTip="Release: {0}";e.EnvironmentVariablesDescriptionForRelease="A list of custom variables defined on the stages in this release. Changes will be reflected in future deployments of this release.";e.RejectedByOnBehalfOf="Rejected by {0} on behalf of {1}";e.ReleaseLogsRetriesAttemptHeader="Attempt #{0}";e.WaitForFreePipelineTooltipMessage="No jobs are currently available to run this release. Wait until a pipeline becomes available, or buy more from the Retention and parallel jobs page.";e.TasksEnabledText=" tasks enabled";e.ViewLatestReleaseText="view latest release";e.AddEnvironmentFromTemplateMenuItemText="Create new stage";e.ReleaseSummaryTestRunsUnspecified="Unspecified";e.ShareDeploymentGroup="Share";e.RefreshText="Refresh";e.TypeText="Type";e.ConfirmReleaseRefresh="You have unsaved changes to this release which will be lost. Are you sure you want to refresh this release?";e.ReleaseDefinitionVariableScopeHeader="Scope";e.PostdeploymentApprovalreassigned="Post-deployment approval reassigned";e.ReleaseDefinitionEditText="Edit";e.CopyExistingReleaseText="Copy";e.AllReleasesText="All";e.StagesGridColumnHeaderAssignedTo="Assigned to";e.DeleteDGsFromPoolConfirmationDescription="Are you sure you want to delete the following deployment groups? {0}";e.SecurityTitleFormat="Permissions for {0}";e.ReleaseDefinitionVariableNameHeader="Name";e.LatestText="latest";e.NotDeployedCancelledText="not deployed (canceled by {0})";e.ArtifactConfirmationDialogYesOption="Yes";e.DeploymentStatusWidgetDeploymentStatusToolTip="Deployment status: {0}";e.DeferredDeploymentTime="Deferred deployment time";e.DeferredDeploymentText="Defer this deployment to";e.DeferredDeploymentDate="Deferred deployment date";e.DeploymentInProgressTooltipText="Deployment in progress";e.MachineName="Machine name";e.MachineTags="Machine tags";e.CommitsTabRollbackMessage="Deployment of {0} to a stage after {1} has been deployed to it might remove the below commits. This could happen if {0} is linked to an older build version as compared to the one linked to {1}.";e.VariableGroupDeleted="[Variable group deleted]";e.ApprovalCompletedByYouText="Completed by you";e.VariablePlural="variables";e.Disabled="Disabled";e.TargetSettingsAriaLabel="Target settings";e.InvalidApprover="Select the correct approver for the stage.";e.EnvironmentEditOptionsConfigureQueue="Configure the pool";e.FavoriteReleaseDefinitionsNotFoundText="No favorite release pipelines found";e.NoVariableGroupViewPermissions="You do not have permissions to view this variable group.";e.ApprovalStatusCanceled="Cancelled";e.ArtifactsReadyToAddText="{0} artifacts are selected to be added to this pipeline";e.DeploymentGroupTagsLabel="Machine tags";e.ScheduledOnReleaseTriggerType="Scheduled: after release creation";e.SourceColumnHeader="Source Alias";e.DSWRDPickerToolTip="Release pipelines linked to the selected build pipeline for which stage status will be shown. Create release pipelines in the Releases tab.";e.ViewDeploymentPoolTooltip="View deployment pool: {0}";e.DeploySameReleaseMessage="The release you have selected to deploy is the same release that is currently deployed to this stage.";e.Comments="Comments";e.DeployRoolbackHeader="Rolling back changes";e.EnvironmentQueuesTabText="Queue";e.DeploymentGroupDeployAllTargetsInParallelToolTip="Attempts to deploy to as many targets as possible at once. The status of the overall deployment will be displayed as ‘succeeded or partially succeeded’, if the deployment was successful to one or more targets. If deployment fails on all targets then the overall status will be displayed as ‘Failed’";e.ReleaseSummarySectionShowAllArtifactsLink="Show all artifacts";e.TagSelectionToolTip="You may optionally specify tags. A release will get triggered only if a new build, tagged with the keywords specified here, becomes available.";e.NewDeploymentPoolPanelName="New deployment pool";e.ChangeColumnHeaderMessage="Message";e.ViewDeploymentGroupToolTip="View deployment group: {0}";e.AgentQueueText="pool";e.StartTimeColumnLabelText="Start time";e.ImportTemplate="Import template";e.InvalidTaskMessageFormat="Task \u0027{0}\u0027 in stage \u0027{1}\u0027";e.DeployToEnvironmentTooltip="Deploy to a stage";e.TasksMissingInTaskGroupMessage="One of the tasks in the task group could not be found. Please remove the missing task and try again. Missing task: {0}";e.AgentStatus="Agent status";e.ArtifactsGridColumnPathTooltip="The relative path of the artifact";e.TeamProjectSearchPlaceholder="Search projects";e.ViewSummaryText="View summary";e.ScheduleChangedWarning="The new deployment schedule will apply to all currently scheduled deployments to this stage.";e.ShowMoreDeploymentTargets="Show more";e.PostDeploymentApprovalStepError="Post-deployment data is not valid, please select an approver or mark the step as automated";e.EnvironmentDeploymentConditionsImmediatelyStartDeploymentText="Immediately after deployment succeeds on the above selected stages";e.DetailsPane="Details pane ";e.DeploymentTargetOnline=" Online";e.EnvironmentConfigurationDialogTitle="Configure - \u0027{0}\u0027 stage";e.NameColumnHeader="Name";e.MetaTaskCyclicDependencyError="Cyclic dependency not allowed. Dependency path: {0}";e.DeleteMachineGroup="Delete deployment group";e.SaveMetaTaskConfirmationTitleText="Save the task group";e.ArtifactNameInvalidErrorMessage="Artifact name can contain only letters, numbers, hyphens, periods, and underscores.";e.AddToMyFavoritesText="Add to my favorites";e.RegistrationScript="Registration script";e.AnyOneOfTheSpecificUser="Any one user";e.AutomatedDeploymentAfterSuccessfulDeploymentToolTipText="Automated deployment: after successful deployment to";e.LatestFromBranch="Latest from branch: {0}";e.NoReleaseDefinitionsGuidanceForNonLicensedUserLink="https://go.microsoft.com/fwlink/?LinkId=613201";e.ReleaseVariablesDescription="A list of custom variables defined in this release. Changes will be reflected in future deployments of this release.";e.SelectBuildTitle="Select build";e.VariableGroupsSearchPlaceholder="Search variable groups";e.DeploymentGroupDemandsWarningTooltip="Some machines do not meet all task demands";e.MultipliersToolTip="A list of comma-separated configuration variables to use. These are defined on the \u003cem\u003eVariables\u003c/em\u003e tab.\u003cbr/\u003e\u003cbr/\u003eFor example, \u003ccode\u003eOperatingSystem, Browser\u003c/code\u003e will run the tasks for both variables.";e.NoApprovedBuilds="Approved builds from stage would be listed here";e.ManageServicesTitle="Manage connected services";e.ReleaseDefinitionHubTitleCaptionUnsaved="Pipeline*:";e.StagesReorderMessage="Stages were reordered";e.ArtifactsNotExpandedDisplayMessage="The artifacts published out of \u003cb\u003e{0}\u003c/b\u003e have not yet been retreived. Expand the source to retrieve the artifacts";e.SignedOffBy="Signed Off By";e.ManualDeploymentToolTipText="Manual deployment";e.EnvironmentAddSettingsHeader="Some settings for the stage can be set here. Other settings can be modified from configure stage.";e.EnvironmentDeploymentConditionsSuccessfulDeploymentDescription="Trigger a new deployment on this stage after successful deployment on the selected stage.";e.VariableGroupsNotFound="No variable groups were found.";e.PhaseConditionHelpText="Specifies when this job should run. Choose \"Custom conditions\" to specify more advanced conditions.";e.DeleteMachineConfirmationTitle="Delete target {0}?";e.ClonedEnvironmentNameText="Copy of {0}";e.WaitingForAgentRequest="Waiting for an agent to be requested";e.DeleteBuildConfirmation="This will remove the selected builds from this stage. Do you want to continue?";e.DeleteMachineGroupText="Delete";e.QuarterOfTargetsInParallel="1/4 of the targets in parallel";e.DeploymentStatusWidgetBuildToolTip="Build: {0}";e.EnvironmentsTitleText="Stages";e.ReleaseLogManualPostApprovalPendingInfo="The post-deployment approval is pending on {0}.";e.SummaryRecentActivityPendingPreDeploymentApproval="\u0027{0}\u0027 has pending pre-deployment approval.";e.NoPastDeploymentsAvailable="No release was previously deployed to this stage";e.NoEditPermission="You do not have edit permission. Contact your release manager.";e.ApprovalPopupReassignHistoryInfoTextUponOverride="to {0} by {1} on behalf of {2}";e.StateRemoved="Removed";e.LogsDetailsPanel="Details pane";e.QueueNotSelected="Select a pool for the stage.";e.TaskAgentJobNameFormat="{0} - {1}";e.SummaryRecentActivityRejectedPreApprovalPrefix="Pre-deployment approval for \u0027{0}\u0027 was rejected by {1}.";e.PreDeploymentApprovers="Pre-deployment approver(s)";e.ReleaseLogClickForMoreDetails="Click on individual steps to view their details.";e.GatesRecentSamplesInfoText="Results of the last 4 samples collected from each of the configured gates are shown below. More samples may have been collected. Download all logs to get the results for all samples.";e.TargetTagsDescription="The tags defined here can be used in the release pipeline to target a subset of machines in the group.";e.PoolDoesntExistPlaceHolder="\u003cInsufficient permissions to view the pool or it doesn\u0027t exist\u003e";e.AgentPlatformRedhat7="Red Hat Enterprise Linux 7.2+";e.ReleaseSummaryEnvironmentStatusScheduled="Scheduled";e.SummaryEnvironmentStatusCancelledBy="Canceled by {0}";e.AutoLinkWorkItemsLabel="Report deployment status to Work";e.DeleteMetaTaskConfirmationTitleText="Delete task group";e.MetaTasksListWatermarkText="No task groups are available.";e.EnvironmentTriggersTitle="Stage triggers";e.ApprovalTackledby="by {0}";e.AgentOfflineOrDisabled="There were issues with deploy job \u0027{0}\u0027. There are agents that are capable of running the release, but they are offline or disabled. If the agent is configured to run as a service, ensure that the \u0027VSTS Agent (\u003cagent name\u003e)\u0027 service is running.";e.ReleaseLogStateInProgress="In progress";e.GuidanceForInsufficientPermissionsForDeploymentPool="You do not have permissions to register targets. Contact your release manager to grant permissions.";e.ReleaseActionResumeTooltip="Resume a stopped release";e.ReleaseSummaryTestRunsPassed="{0} of {1} passed";e.PublishedPreview="Published preview";e.ArtifactsDisplayMessageSpecificVersion="The artifacts published by each version will be available for deployment in release pipelines. \u003cb\u003e{0}\u003c/b\u003e version \u003cb\u003e{1}\u003c/b\u003e ";e.PostDeploymentApprover="Post-deployment approver";e.PostDeploymentApproval="Post-deployment approval";e.SecurityPageTitle="Release Security Administration";e.ErrorWhileCopyingRelease="We\u0027re sorry, but something went wrong while copying this release. Please try again.";e.SaveAsDraft="Save as a draft";e.RemoveTag="Remove tag";e.BuildDefinitionErrorMessage="Select a build pipeline";e.NoVariableGroupsLinkedMessage="No variable groups are linked.";e.DefaultVersionTypeTooltip="The default version will be deployed when new releases are created. The version can be changed for manually created releases at the time of release creation.";e.ReleaseSettingsHubComplianceSettingsText="Compliance policy settings";e.SkipStageLabel="Skip stage";e.ColumnOptionsTitle="Column options";e.EnvironmentSettingsArtifactsText="Artifacts";e.WorkItemGridHeaderText="Work items associated with this release since";e.ReleaseStatusActive="Active";e.HealthyStatus="Healthy";e.Artifacts="Artifacts";e.TestRunHeaderColumn="Test run";e.GetEnvironmentSummaryDataFromExtensionError="Error while getting stage summary data from extension {0} : {1}";e.DateTimeFormatNotSupportedText="You have specified a date to defer the deployment, but it is not valid. The date must be in the format: {0}.";e.ReleaseLogManualPreApprovalCompletedInfo="The pre-deployment approval has been {0}.";e.ArtifactsDisplayMessageLatestWithNoBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e with tags \u003cb\u003e{1}\u003c/b\u003e ";e.DeleteCriteriaConfirmationText="This will remove the acceptance criteria from this stage. Do you want to continue?";e.ChangedBy="Changed by";e.GatesStartTimeLabel="Start time";e.EnvironmentEditOptionsDialogOkButton="OK";e.WaitForFreePipelineMessage="No jobs are currently available to run this release. Wait until a job becomes available, or buy more from the \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eRetention and parallel jobs\u003c/a\u003e page.";e.ArtifactsRemovePrimaryTooltip="Deselect to disable trigger for release pipeline";e.PariallySucceededDeploymentsWithoutArtifactCondition="Also trigger for partially succeeded deployments";e.BranchSelectionToolTip="A release will be triggered only for a build from the specified branch. For example, selecting master will trigger a release for every build from the master branch. To trigger a release for any build under features/, enter “features/*” . To trigger a release for all builds, use the default value or enter “*”.";e.StopRetainingIndefinitelyText="Stop retaining indefinitely";e.RDWidgetViewSummaryLinkText="View all releases for the {0} release pipeline";e.ReleaseSettingsHubRetainBuildText="Retain build";e.ShareReleaseSummarySubject="Summary for release: {0}";e.MaxAgentCountText="Maximum number of agents";e.ArtifactHelperMessage="Artifacts of the linked sources are available for deployment in releases. Learn more about \u003ca class=\u0027artifact-help-link\u0027 href=\u0027https://go.microsoft.com/fwlink/?LinkId=616086\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003eartifacts\u003c/a\u003e.";e.AddArtifactDefinitionText="Artifact";e.GateLogs="Logs";e.CreateNewReleaseForDefinition="Create a new release for {0}";e.DeployDialogWorkItemsAddedTooltipText="Work items that will be deployed to this stage as part of this release. ";e.ChangeDetails="Change details";e.ConsoleLineSectionEnd="******************************************************************************";e.LinkedReleaseEnvironmentNotFound="Linked release stage not found. The release may be deleted";e.Percentage="%";e.DeploymentQueueEnvironmentExecutionPolicyQueueDepthLastRelease="Deploy only the latest request and cancel older ones";e.Automated="Automated";e.EnvironmentSettingsQueueText="Queue";e.EnvironmentConfigureQueueDescription="Select a pool for this stage.";e.ArtifactPickerDialogTitle="Select a file or folder";e.DownloadAllLogsCommandText="Download all logs as a zip";e.ReleaseLogStatePartiallySucceeded="Partially succeeded";e.ApprovalStatusSkipped="Skipped";e.DeploymentQueueEnvironmentExecutionPolicyConcurrencyInfinite="No limit";e.AcceptanceCriteriaFilterInProgress="InProgress";e.DayFormat="{0}d";e.BuildAddedMessage="Added build: \u0027{0}\u0027.";e.BuildRemovedMessage="Removed build: \u0027{0}\u0027.";e.DeploymentGroupLabel="Deployment group";e.NoCurrentDeploymentAvailable="No deployments yet |";e.AddDeploymentGroupDescription="Define a logical group of target machines for parallel deployment.";e.NotDeployedManualConditionEnvironmentLogText="Deployment has not been triggered to this stage.";e.ReleaseWorkitemsLabel="Work items associated with the release";e.NoEnvironmentVariableDefined="No custom variables have been defined on the stages in this release pipeline.";e.ReleaseActionCancelTooltip="Cancel the release";e.ScheduledDeploymentAfterSuccessfulDeploymentToolTipText="Scheduled deployment: after successful deployment to";e.SummaryrecentActivityRejectedRelease="Deployment to \u0027{0}\u0027 was not approved.";e.DeploymentGroupDeploymentConfigHelpIndications=" ({0} out of {1} machine(s))";e.UserCapabilities="User capabilities";e.CancelDeploymentToolTip="Cancel deployment of {0} to this stage";e.PullRequestTriggerText="Pull request deployment";e.DSWReleaseDefinitionsError="Error in getting release pipelines";e.ReleaseLogsAutoTriggerRetriesAttemptHeader="Attempt #{0} (auto-redeploy trigger)";e.EnvironmentOwnerEmailNotificationLabel="Send email notifications";e.DefinitionsHubText="Pipelines";e.BuildLabelText="Build";e.ReleasesTab="Releases";e.DeleteEnvironment="Delete";e.Security="Security";e.AddToDashboard_SuccessMessage="{0} has been successfully added to the {1} dashboard.";e.RetentionTabText="Retention";e.AgentStatusOnline="Online";e.DeployNodeText="Deploy";e.ReleaseArtifactSizeColumn="Size";e.BuildDefinition="Build pipeline";e.SummaryEnvironmentStatusAbandoned=" Abandoned";e.ManualTriggerType="Manual";e.DeploymentGroupsTargetStatusColumnName="Target status";e.DocumentDiffLabel="Diff";e.ConfigurationSelctionLabel="View";e.DeploymentGroupPhaseTaskDemandsDisplayTitle="Demands";e.ResumeButtonText="Resume";e.ArtifactGridColumnArtifactName="Artifacts";e.QueueNoMatchingAgentFound="Could not find any queues matching all demands.";e.BuildStatusPartiallySucceeded="Partially succeeded";e.RegistrationScriptCloseText="Close registration script popup";e.SummaryEnvironmentStatusDeferred="Deferred";e.DeleteStageConfirmationText="This will remove the stage from this release. Do you want to continue?";e.ArtifactsSourceTreeText="{0} ({1})";e.DeploymentGroupReferencesDescription="Projects with dependent deployment groups";e.AssignApproverDialogCancelButton="Cancel";e.SummaryGatesStatusFailed="Gates failed";e.HideMachineText="Hide details pane";e.SummaryRecentActivityPendingPostDeploymentApproval="\u0027{0}\u0027 has a pending post-deployment approval.";e.ReleaseLogStateSkipped="Skipped";e.ApprovalTimeoutHelpText="Specifies the maximum time, in minutes, that an approval is allowed to be pending being rejected by the server.  A maximum 365 days timeout is allowed.\u003cbr\u003e A zero value indicates a timeout of 30 days.";e.DeploymentGroupsTitle="Deployment groups navigation";e.ReleaseLogAutoPreApprovalInfo="The pre-deployment approval has been auto-approved.";e.DeleteBuildToolTip="Remove the selected builds from the stage’s build list";e.ArtifactsAddTooltip="Create new or add existing artifacts";e.CreateReleaseDefinitionText="Create a release pipeline";e.PreDeploymentApprovalStatus="Pre-deployment approval {0}";e.ArtifactPickerLocationLabel="Location";e.AgentAcquisitionDarwinCreateAgentMarkdownFormat="```bash\r\n~/$ mkdir myagent \u0026\u0026 cd myagent\r\n~/myagent$ tar zxvf ~/Downloads/{0}\r\n```";e.AvailableSharedPoolsColoumnTitleForPoolsTargetStatus="Target status";e.ImportButtonText="Import";e.EnvironmentVariablesDescriptionForRD="View and modify custom variables defined on the stages in this release pipeline.";e.ApprovalCompletedByText="Completed by {0}";e.ReleaseBannerPendingManualInterventionText="A manual intervention {0} is pending for the {1} stage. {2}";e.NameText="Name";e.CurrentlyDeployedReleaseText="Current status";e.DeployDialogCommitsRemovedTooltipText="Commits that will be removed from this stage as part of this release.";e.CreateReleaseDefinitionConfirmationDialogNoOption="No";e.ReleaseHasBeenDeleted="Release \u0027{0}\u0027 has been deleted and moved to \u0027Deleted\u0027.";e.EnterNameWaterMark="\u003cEnter name\u003e";e.ReleaseSummaryEnvironmentStatusWaitingForApproval="Waiting";e.DeleteStageToolTip="Remove the stage from this release";e.SummaryEnvironmentStatusInprogressNew=" In progress ";e.PublishCommitStatusLabel="Report deployment status to Code";e.TriggeredBy="Triggered by";e.RemoveScheduleTooltip="Remove the schedule";e.BuildsPipelinesDisplayHubName="Builds";e.AbandonReleaseNotAllowed="Abandoning is not allowed when deployments are in-progress in any stage(s). Please cancel \u0027{0}\u0027 stage(s) and try again.";e.ViewBuildSummary="View {0} summary";e.LatestWithTags="Latest with tags: {0}";e.ManualDeploymentsSection="Manual deployments";e.SummaryRecentActivityApprovedBy=" has been approved by ";e.ArtifactDefinitionSearchWatermark="Search artifacts";e.DeploymentDescription="deployed with";e.BranchLabelText="Branch";e.UpgradeMachinesConfirmationTitle="Upgrade targets?";e.JenkinsArtifactOptionTooltipText="Artifacts are published by a Jenkins job (https://jenkins-ci.org/)";e.WaitingForAvailableAgentOnMicrosoftHostedConcurrentJobsPrefix="Waiting for available Microsoft-hosted parallel jobs, ";e.ConjunctionForArtifactsDisplayMessage="and";e.DeploymentSummary="Deployment summary";e.RefreshQueueMenuItemText="Update all agents";e.DeploymentPostApprovalRejectedTooltipText="Post-deployment approval rejected";e.ReleaseSnapshotChangeViewDetails="View details";e.RefreshReleaseToolTip="Refresh";e.ReleaseStagesNotFound="No associated stages";e.ChangeColumnHeaderIdTooltip="Change ID";e.RetentionPolicyReleasesToKeepToolTip="Set the minimum number of releases to keep for this stage. This number cannot exceed {0} releases. More details \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616087\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.ArtifactSearchAny="Any";e.PublishTaskGroupConfirmationTitleText="Publish the task group";e.GetAgentTitle="Download the agent as a zip";e.MarkAsPrimaryArtifactConfirmationDialogTitle="Mark as the primary artifact source";e.EnvironmentApprovalsAutomatedText="Automated";e.ReleaseDefinitionHistoryAdd="Add";e.EditText="Edit";e.EditName="Edit name";e.BuildResultCancelled="Canceled";e.TodayDeployments="Today";e.SpecifyMachineGroupName="Specify the deployment group name";e.LogsViewFilterName="View";e.ResourceLimitsText="Resource limits";e.SecurityUnlockText="Change variable type to plain text";e.CreateDeploymentGroup="Create a deployment group";e.Releases="Releases";e.ActionText="Action";e.ScheduledOnParitallySuccessfulDeploymentTriggerType="Scheduled: after successful or partially successful deployment on \u0027{0}\u0027";e.ReleasesLogsPaneLabel="Release logs";e.NoFutureDeploymentsAvailable="No releases queued for deployment";e.NoApprovalsAvailable="There are no approvals matching this filter or search criteria.";e.DeployDialogCommitsAddedTooltipText="Commits that will be deployed to this stage as part of this release. ";e.RenameIndicator="*";e.ArtifactAlreadyExistErrorMessage="Artifact \u0027{0}\u0027 already exists in the list.";e.ReleaseLogsCanceledMessage="Deployment on this stage was canceled.";e.RecentDeployments="Recent deployments";e.DeleteMachineGroupConfirmationDescription="Are you sure? This will permanently delete the deployment group with all its settings and data.";e.ArtifactsGridColumnName="Name";e.ArtifactsGridColumnPath="Relative path";e.DeploymentTargetMetricsSeparator=", ";e.ArtifactSourceAliasEditWarningMessage="Changing an artifact source alias can break task inputs and scripts where it is used as a variable.";e.ReleaseSummaryRecentActivityHeader="Recent activity";e.PendingApprovalTileTitle="{0} for {1} is {2} on {3}";e.DeletedByColumnLabelText="Deleted by";e.SummaryEnvironmentStatusCancelled=" Canceled";e.FileUploadStarted="File upload has started.";e.DisableText="Disable";e.DeleteBuildText="Delete";e.NoArtifactsAssociatedWithRelease="No artifacts are associated with this release.";e.ReleaseConsoleWaitingForAgent="Waiting for console output from an agent...";e.ShareDeploymentGroupText="Share deployment group";e.ReleaseNameFormatSettingTooltip="Set the format for default name of releases from this release pipeline. See the list of available pre-defined variables \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=616085\u0027 target=\u0027_blank\u0027 rel=\u0027noopener noreferrer\u0027 \u003ehere\u003c/a\u003e.";e.EnvironmentDeploymentConditionsAfterSuccessfulDeploymentText="After successful deployment to another stage";e.DeleteEnvironmentConfirmation="You are about to delete the \u0027{0}\u0027 stage and all its settings. This action cannot be reversed.";e.AvailableSharedPoolsColoumnTitleForPools="Deployment pool";e.DeferredDeploymentStatusToolTipFormat="Deployment deferred to {0}.";e.CriteriaAddNotesWatermarkText="Add your notes here";e.ArtifactExtensionNotAvailable="Not available (check if the extension that contained artifact type: {0} has been disabled or uninstalled)";e.EditConfigureVariables="Configure variables...";e.SystemCapabilities="System capabilities";e.ApprovalStatusRejected="Rejected";e.ReleasenameFormatTextPart="Define the naming scheme for releases of this release pipeline. View the list of available ";e.NewDeploymentPoolCreateButtonText="Create";e.EnvironmentEditOptionsConfigurePool="Configure pool";e.ReleaseSummaryDetailsLabel="Release details";e.EnableText="Enable";e.VariableGroupsDescriptionLinkPart="here";e.TaskGroupHubTitleCaptionUnsaved="Task group*:";e.ColumnOptionsText="Column options";e.MoreActions="More actions";e.ReleaseDefinitionHistoryUpdate="Update";e.NewMachineGroup="New deployment group";e.ReleaseLogStateSucceeded="Succeeded";e.SaveDialogLabel="Save";e.DocumentDiffBackLabel="Back";e.DraftCreatedMessage="Draft created";e.DeploymentTargetHealthy=" Healthy";e.ScheduledDeploymentOnReleaseCreationToolTipText="Scheduled deployment: after release creation";e.UnPendingApprovalTileByYouTitle="{0} for the {1} {2} by you";e.TaskAgentActivityIdle="Idle";e.RunCommandInAdministratorPowerShellPrompt="Run command in an administrator PowerShell prompt";e.ReleaseEnvironment="Release stage";e.TriggerManualRequestByText="Manually created by";e.AddCommentText="Add comment";e.DeploymentStatusWidgetBuildStatusToolTip="Build status: {0}";e.ApproverIdentityErrorMessage="The identity value \u0027{0}\u0027 for field \u0027{1}\u0027 is an unknown identity";e.QueuedOnAgentText="Queued on the {0} pool";e.ReleaseTemplateAlreadyExistsException="Release template \u0027{0}\u0027 already exists.";e.ImportMetaTaskText="Import a task group";e.AgentConfigScriptUnsavedNameText="Enter a valid deployment group name and save it to view the agent registration script";e.BuildDetailsSummaryAutoTriggerIssuesNoReleaseCreated="/ no release created";e.WaitingForPipelineToBeAssignedRefreshToUpdate="The release is waiting for a job to be assigned. Refresh for updated status.";e.GreaterThan50="\u003e 50";e.RegistrationScriptText="Register";e.RegisterMachineDialogTitle="Register machines";e.IncludeVariableGroup="Include a variable group";e.AgentAcquisitionWindowsConfigureAgentMarkdownFormat="```powershell\r\nPS C:\\agent\u003e .\\config.cmd --deploymentgroup\r\n```";e.WidgetAdditionRequestSentMessage="Adding widget \u0027{0}\u0027. A request has been sent.";e.EnvironmentUnselectedAgentPool="\u003cSelect agent pool\u003e";e.ViewAllReleasesText="View all releases";e.RefreshArtifactDefinitionText="Refresh artifact definitions";e.RejectButtonText="Reject";e.DeploymentQueueEnvironmentExecutionPolicyUserConcurrencyDescription="For subsequent deployment requests that get queued";e.AcceptanceCriteriaText="Acceptance criteria";e.StartReleasePopupDialogTitle="Start release {0}";e.ModalDialogOkButton="OK";e.DeploymentGroupTagsHeader="Run tasks on machines with the following tags";e.DeleteMachineConfirmationDescription="Are you sure? This will delete all settings and data for the agent and unconfigure the agent from the target.";e.ExportText="Export";e.ViewDeploymentTarget="View details of target: {0}";e.ArtifactConfirmationDialogNoOption="No";e.ReleaseSummaryTestRunsAborted="Aborted";e.LinkedWorkItemsListHeader="Linked work items:";e.EnvironmentDefinitionNameTitle="New";e.DeploymentQueueEnvironmentExecutionPolicyQueueDepthInfinite="Deploy all of them in order of request";e.AdminHostsSaveChanges="Save changes";e.AddTagToFilter="Add tags to filter";e.SkipPreDeployApprovalTooltip="Set this option to prevent a user from needing to repeatedly approve deployments after that user approves the initial deployment, and the subsequent stages have deployment condition triggers that automatically start the deployment. Does not apply when a deployment to a stage is manually triggered. See \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=832658\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eApprovals and approvers\u003c/a\u003e and \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=832659\" target=\"_blank\"\u003eDeployment triggers.\u003c/a\u003e";e.EnvironmentDeploymentConditionsArtifactsText="Select artifact condition(s) to trigger a new deployment";e.ModalDialogOk="OK";e.PathColumnHeader="Path";e.ApprovalOverrideLink="(override)";e.ArtifactsAddExisting="Add existing";e.ActionColumnLabelText="Action";e.CreateButtonText="Create";e.ByFilterMe="Me";e.CreateNewRelease="Create a new release";e.EnvironmentApprovalsTabText="Approvals";e.Release="Release";e.AcceptanceCriteriaNotFound="No associated acceptance criteria";e.ReleaseEnvironmentsLabel="Release stages";e.ReleaseStatusCanceled="Canceled";e.FilteredListShowingZeroCount="No matching item found.";e.ArtifactsPickerFootNote="Note: {0}";e.GridRemoveVariableGroupText="Remove variable group";e.GuidanceForInsufficientPermissionsForDeploymentGroup="You do not have permissions to register targets. Contact your release manager to grant permissions.";e.DeferredEnvironmentLogText="Deployment to this stage has been deferred to {0}.";e.DSWViewLabel="View";e.AutoLinkWorkItemsHelpText="When the stage completes, create links to all work items linked to associated changes.";e.ScheduledDeploymentAfterPartialSuccessfulDeploymentToolTipText="Scheduled deployment: after successful or partially successful deployment to";e.ConfirmReleaseUndeleteWithDeletedBuilds="You are about to undelete the release \u0027{0}\u0027. The associated build(s) {1} are no longer available. Do you still want to undelete the release?";e.CreateNewReleaseToolTip="Create a new release";e.EnvironmentEditOptionsRemoveDemand="Remove demand";e.OtherOptionsText="Additional options";e.AdminAgentPoolQueueNodeFormat="{0} ({1})";e.MoreArtifacts="{0} more";e.OverviewTab="Overview";e.UnknownErrorMessage="Unknown error.";e.DeploymentGroupHubRolesTitle="Roles for {0}";e.FilteredListSelectedItem="Selected item {0}";e.RevalidateIdentityUnexpected="Revalidating the identity of the approver before completing the approval setting on stage(s) \u0027{0}\u0027 is not expected in bulk approval. Approve individually or remove the setting and try again.";e.AutomatedOnParitallySuccessfulDeploymentTriggerType="Automated: after successful or partially successful deployment on \u0027{0}\u0027";e.CommaSeparator=", ";e.ViewReleases="View {0} releases";e.SelectReleaseDefinitionComboboxPlaceHolder="Select release pipeline";e.ReleaseLogsDetailViewOn="On";e.ScheduledTriggerAddNewTimeText="Add new time";e.DSWBuildLabel="Build pipeline";e.StatusTitle="Status";e.ErrorWhileDeletingWorkItem="We\u0027re sorry, but something went wrong while removing the work item. Please try again.";e.UndeleteReleaseToolTip="Undelete release";e.MultiplePreDeploymentApprovalsPendingText="Multiple pre-deployment approvals are pending for this release. Approve or reject {0}, {1}";e.NewDeploymentPoolCreatingButton="Creating";e.ConfirmReleaseUndeleteWithGetBuildsFailed="You are about to undelete the release \u0027{0}\u0027. It can\u0027t be determined whether builds associated with this release are still available. Do you still want to undelete the release?";e.ArtifactsAddButtonText="Add";e.TagPickerNoTagsHeader="No tags";e.SaveReleaseSettingsConfirmationOkText="Save";e.OpenDeploymentGroupText="Open";e.ReleaseDefinitionActionCreateRelease="Create a release";e.EnvironmentActionsToolTip="Stage actions";e.ReleaseActionStopTooltip="Stop release";e.AgentAcquisitionLinuxConfigureAgentMarkdownFormat="```bash\r\n~/myagent$ ./config.sh --deploymentgroup\r\n```";e.RefreshReleaseText="Refresh";e.PostDeploymentApprovalStatus="Post-deployment approval {0}";e.DeploymentWidgetTestsToolTip="Tests: {0} of {1} passed";e.DeploymentPoolSecurityDialogTitle="Manage security roles for deployment pool: {0}";e.DeletedReleasesGridLabel="Deleted releases";e.MachineTag="Machine tag";e.ByFilterAnyone="Anyone";e.DeploymentPoolsPageTitle="Deployment pools";e.ChildModifiedText="{0} {1} was modified.";e.EnvironmentEditOptionsDialogBoxTitle="Edit options for the \u0027{0}\u0027 stage ";e.SummaryEnvironmentStatusSucceeded=" Succeeded";e.PendingOnText="Pending on {0}";e.NoTestResultsForStakeHolder="You cannot view test results because you don’t have the \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=733475\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003ecorrect license\u003c/a\u003e.";e.DeploymentToTarget="Deployment to this target";e.AfterReleaseCreationText="after release creation";e.SetTriggerOnArtifactSourceLabel="Set a trigger on an artifact source";e.UnsupportedArtifactsInTriggersGuidance="Linked artifact sources do not support triggers. {0}";e.ProjectSearchPlaceholder="Search for projects";e.AddBuildToolTip="Add builds to this stage for promotion";e.CompareText="Compare";e.ConfirmCancelDeployment="Do you want to cancel deployment on \u0027{0}\u0027?";e.ReleaseLogStateScheduled="Scheduled";e.GatesNextSampling="Next update time";e.VersionColumnHeader="Version";e.NoDeploymentsYet="No deployments yet";e.MetaTaskSearchText="Search task groups...";e.Properties="Properties";e.DeploymentRequestedFor="Requested for";e.ArtifactTypeInvalidFieldsErrorMessage="Field \u0027{0}\u0027 should have valid values.";e.DeploymentGroupRollingPercentToolTip="Provide a % of deployment machines that can be deployed in parallel against the total deployment machines that matches provided tags in this deployment group.";e.ManualInterventionStatusCanceled="Cancelled";e.SourceText="Source";e.WaitForBuildCompletionToCreateRelease="Releases can be created only from successful builds. The build you have chosen is still in-progress. Wait for the build to complete and try again.";e.ReleaseConsoleNotStartedText="The release has been queued and is waiting to start...";e.ApprovedBuildsNotFound="No approved builds";e.NoReleaseArtifactsDisplayMessage="There are no artifacts linked to this release.";e.WorkItemColumnHeaderTitle="Title";e.WorkItemColumnHeaderState="State";e.AssignApproverDialogOkButton="OK";e.ReleaseLogStateStopped="Stopped";e.ManageQueuesDescription="Manage agent pools";e.AgentPlatformLinux="Linux";e.SummaryEnvironmentStatusRejectedBy="Rejected by {0}";e.CreateDraftReleaseText="Create a draft release";e.EnvironmentGeneralTabText="General";e.ErrorWhileRetrievingData="We\u0027re sorry, but something went wrong while trying to retrieve data. Please try again.";e.RegistrationScriptPowerShell="Registration script (PowerShell)";e.ApprovedByYouOnBehlafOf="Approved by you on behalf of {0}";e.MachineDeployments="Machine deployments";e.ApprovalTackledByOnBehalfOf="by {0} on behalf of {1}";e.AutomatedDeploymentAfterPartialSuccessfulDeploymentToolTipText="Automated deployment: after successful or partially successful deployment to";e.AddEnvironmentUsingCloneMenuItemText="Clone the selected stage";e.RemoveFromMyFavoritesText="Remove from my favorites";e.TagFilterLabel="Tags";e.DeleteEnvironmentConfirmationTitle="Delete the stage";e.CompletedReleasesText="Completed";e.DraftRelease="Draft";e.DeploymentQueueEnvironmentExecutionPolicyUserConcurrencyTooltip="Select this option to allow a subset of deployments to start in parallel.";e.ReleaseNameFormatFieldTitle="Release name format";e.ReleaseBannerPendingPostApprovalText="A post-deployment approval is pending for the \u0027{0}\u0027 stage. {1}";e.OldDeployments="Older";e.AddTargetScriptLabel="Add target script ";e.TriggerHeaderColumn="Trigger";e.NewReleaseDefinitionNameText="New {0} pipeline {1}";e.MachineTagsToolTip="Machines matching the specified tags will be targeted for deployment. Example – Web,DB";e.ConfirmReleaseAbandon="You are about to abandon the release \u0027{0}\u0027. This action cannot be reversed.";e.FilteredListAriaDescribeTabs="Multiple tabs exist with different lists of items.";e.ReleaseSettingsHubMinimumReleasesToKeepText="Minimum releases to keep";e.DeploymentPoolsDescription="A deployment pool is a logical set of target machines backing a deployment group for a set of projects.";e.PinToDashboard="Pin to a dashboard";e.NoArtifactsDisplayMessage="No version is available out of \u003cb\u003e{0}\u003c/b\u003e or the latest version has no artifacts to publish. Please check the source pipeline.";e.MetaTaskImportDialogOkText="Import";e.ConfirmReleaseCancellation="You are about to cancel the release \u0027{0}\u0027. This action cannot be reversed.";e.ParallelizeOptionsText="Run on multiple agents in parallel";e.AgentAcquisitionWindowsRunAgentMarkdown="```powershell\r\nPS C:\\agent\u003e .\\run.cmd\r\n```";e.TaskAgentPoolDisplayNameFormat="{0} (referenced by pool {1})";e.RemoveMachineDescription="Once you delete this machine, you will lose all its settings and data. This action can not be reversed.";e.ArtifactsGridColumnPrimaryTooltip="Set artifact as primary to select trigger for release on this release pipeline";e.RDSummaryWidgetReleaseNameTooltipFormat="{0}\r\n{1}";e.ItemAssignedTo="Assigned to";e.WidgetNotificationDialogClose="Close";e.QueuePositionQualifierText="position\u003cbr /\u003ein queue";e.AcceptanceCriteriaFilterCompleted="Complete";e.TemplateCategoryEmpty="Empty";e.NewReleaseArtifactTitle="Add new release artifact";e.DateFilterAny="Any";e.WaitingForEnabledAgent="Waiting for an enabled agent. All possible agents are disabled.";e.DeploymentGroupShowFilterIconToolTip="Show filter panel";e.NewReleaseDefiniitonEditorBannerContent="The old release pipeline editor is going away. Please turn on the \u003cspan class={0}\u003enew release pipeline editor\u003c/span\u003e from \u003cspan class={0}\u003ePreview features\u003c/span\u003e under your profile menu. \u003ca target=\u0027_blank\u0027 href={1}\u003eLearn more\u003c/a\u003e";e.DeploymentStatusWidgetBuildDefinitionLabel="Build pipeline:";e.DeploymentGroupTitleBarAddDeploymentGroup="New";e.TemplateCategoryOther="Other";e.DeploymentTriggerScheduled="Scheduled";e.QueueReleaseOnEnvironmentWorkItemsCountHeader="Work items";e.EnvironmentStartedOnColumn="Started";e.AvailableSharedPoolPlusIconHelpText="Create deployment group";e.DeploymentGroupZeroMachinesWithSelectedTagsDisplayText="We found \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eno machine(s)\u003c/a\u003e with the above-mentioned tags";e.AgentAcquisitionWindowsCreateAgentMarkdownFormat="```powershell\r\nPS C:\\\u003e mkdir agent ; cd agent\r\nPS C:\\agent\u003e Add-Type -AssemblyName System.IO.Compression.FileSystem ; [System.IO.Compression.ZipFile]::ExtractToDirectory(\"$HOME\\Downloads\\{0}\", \"$PWD\")\r\n```";e.PipelinesPlanGroupsQueueLinkText="Pipelines queue...";e.QueueReleaseOnEnvironmentDifferencesHeaderPrefix="Differences from ";e.ArtifactsGridColumnVersionTooltip="The version of the artifact";e.AddAttachmentToAcceptanceCriteriaTooltip="Add an attachment to this acceptance criteria";e.CreateReleaseDialogClosingConfirmationTitle="Discard the release";e.DeploymentSubStatus="Sub status";e.ManageDeploymentPoolAriaLabel="Manage deployment pool";e.ReleaseDefinitionHubTitleCaption="Pipeline:";e.ScheduledEnvironmentLogText="Deployment to this stage has been scheduled.";e.ReleaseActionOpenRelease="Open";e.FilterCriteria="Filter criteria";e.AllDefinitionsFolderColumn="Folder / name";e.QueueNotConfigure="A default pool is not configured or you do not have access to the pool. Contact your administrator to obtain permission.";e.TagPickerSuggestedTagsHeader="Suggested tags";e.QueueForAgentTooltipText="Queued for agent";e.AddNewReleaseDefinitionButtonText="New";e.DeploymentGroupTabTitleGroups="Groups";e.DeploymentGroupNumberOfMachinesWithSelectedTagsDisplayText="We found \u003ca href=\"{0}\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003e{1} machine(s)\u003c/a\u003e with the above-mentioned tags";e.ScheduledConflictWarningTitle="Pre-deployment approval will become pending on this stage at the scheduled time.";e.AgentPlatformWindows="Windows";e.QueueReleaseOnEnvironmentDifferencesHeaderSuffix="current release in {0} ({1})";e.EnvironmentAdditionalLogForBasicUserText="{0}To deploy now, choose Deploy on the toolbar or a stage’s shortcut menu.";e.BuildPipelinePlanGroupsQueueRunningStatusHeaderText="Shows builds currently running using available jobs.";e.DeploymentGroupHideFilterIconToolTip="Hide filter panel";e.NotStartedAsBranchTagConditionNotMetHeaderTooltip="Deployment to \u0027{0}\u0027 will not start automatically since the following deployment conditions are not met.";e.SelectReleaseProject="Project";e.ConfirmReleaseDeletion="You are about to delete the release \u0027{0}\u0027.";e.ViewDeploymentDetailsText="View deployment details";e.DeploymentNeverStarted="Never started";e.NewDeploymentPoolPrimaryButtonText="New deployment pool";e.DeploymentStatusColumn="Deployment status";e.EnvironmentFilterIconLabel="Filter stages";e.AddStageToolTip="Add a new stage to this release";e.SourceBranchesLabel="Branches";e.UnableToFetchReleaseDefinitionDetails="An error occurred while retrieving the release pipeline: {0}. Try again later.";e.ReleaseSettingsHubDefaultRetentionSettingsText="Default retention policy";e.ReleaseTemplatesTitle="Release templates";e.SummaryRecentActivityAutoApprovedSuffix=" has been auto-approved.";e.ReleaseComparisonWith=" with ";e.MetaTaskImportDialogInstruction="Select the task group JSON file to import";e.ReleaseReasonNone="None";e.PostDeploymentGates="Post-deployment gates";e.SummaryEnvironmentStatusFailed=" Failed";e.BuildApprovedColumn="Build approved in";e.ReleaseLogStatePendingForDG="Not deployed";e.ArtifactPickerLocationToolTip="Location on the agent where the artifact is downloaded";e.SendMailSubjectFormat="{0} / {1} summary";e.BuildStatusInProgress="In progress";e.NoTestResultsAvailable="No test results are available for this release.";e.DeleteReleaseArtifact="Delete";e.ArtifactTypeDescription="This is the source that publishes the artifact to be deployed";e.ReleaseSummaryTestRunsAllPassed="All {0} tests passed";e.ConfirmArtifactDefinitionRefresh="You have unsaved changes to this artifact which will be lost. Are you sure you want to continue?";e.GeneralSettingsTabText="General";e.ReleasesHubText="Releases";e.WorkItemColumnHeaderAssignedToTooltip="Assigned to";e.ParallizeOptionNoneText="None";e.ReleaseSummaryIssuesHeader="Issues";e.DateFilterLast14Days="Last 14 days";e.EnvironmentCloneSettingsHeader="Tasks, parameters, and configuration settings from the stage {0} will be copied to the new stage. Values for encrypted variables will not be copied.";e.MoreReleases="more releases...";e.QueueReleaseOnEnvironmentApprovalsCountHeader="Approvals";e.EditReleaseDefinition="Edit {0}";e.MultiPostApprovalsPending="Post-deployment approvals pending";e.ApprovalTackledAutomatically="automatically";e.ReasonColumnLabelText="Trigger";e.DeleteEnvironmentPermissionDenied="You don\u0027t have necessary permissions to delete this stage.";e.ChangesNotFoundText="No associated changes found.";e.SettingsText="Settings";e.DeploymentStatusWidgetEnvironmentNameToolTip="Stage: {0}";e.ChangeColumnHeaderId="Change ID";e.DateFilterLast28Days="Last 28 days";e.NoAcceptanceCriteriaText="No acceptance criteria";e.ShareDGPopuptCloseText="Close share deployment group popup";e.AdminNoQueuesTitle="No queues exist";e.OpenMachinesText="Show details pane";e.MachineEnabled="Yes";e.SearchArtifactResultInfoText="Select artifacts to add to this release pipeline";e.MetaTasksHelpLinktext="task groups";e.ReleaseNotesViewMore="View more";e.SavingRelease="Saving release...";e.PublishCommitStatusHelpText="Displays a badge on the Code tab to indicate the status of releases deployed to each stage in this release pipeline.";e.Duration="Duration";e.PhaseConditionLabel="Run this job";e.GetEnvironmentSummaryDataFromExtensionsError="Error while getting stage summary data from extensions : {0}";e.DeleteReleaseToolTip="Delete release";e.PostDeploymentApprovers="Post-deployment approver(s)";e.RefreshApprovalsText="Refresh approvals";e.SaveMetaTaskWithRunsOnChangeConfirmationDialogText="This task group {0} which can run on \u0027{1}\u0027, will now run on \u0027{2}\u0027. Changes might affect all build pipelines, release pipelines, and other task groups using this task group.{3}Are you sure you want to proceed?";e.ManageServices="Manage";e.WaitingForAvailableAgentWithConcurrentJobsSuffix=" available parallel jobs running.";e.PendingApprovalOnYouText="Pending approval on you";e.ShowMoreDeploymentGroupsTooltip="Load more deployment groups";e.ReleaseStatusStopped="Stopped";e.AnyOneApproverInParallelApprovalsToolTip="Select this option if it is sufficient that any one of the specified users approves a deployment.";e.ReleaseStatusInProgress="In progress";e.ScheduleForDeploymentTooltipText="Scheduled to deploy at {0}";e.SaveDraft="Save this draft";e.TemplateNamePlaceHolder="Enter a name";e.MaxNumberOfAgentToolTip="Limit the number of agents to be used. If more configurations are specified than the maximum number of agents, some configurations will wait until an agent completes running a previously assigned configuration.";e.History="History";e.LinkVariableGroupInfoText="Variable groups for which you have ‘user role’ access will be shown here. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=832652\" target=\"_blank\" rel=\u0027noopener noreferrer\u0027 \u003eLearn more\u003c/a\u003e";e.EnvironmentControlAriaLabelFormat="Stage {0} ; Status is {1} in release {2}";e.QueueCannotBeFound="The pool associated with deploy job \u0027{0}\u0027 could not be found. The pool might have been removed or modified. Edit the deploy job’s associated pool before queueing the release.";e.HasBeenQueued="has been created.";e.TaskGroupsLabel="Task groups";e.EnvironmentColumnHeaderInRelease="Stage";e.DeploymentPoolTargetsTab="Targets";e.SaveMetaTaskConfirmationDialogText="Changes might affect all build pipelines, release pipelines, and other task groups using this task group {0}.{1}Are you sure you want to proceed?";e.DeleteDeploymentPoolConfirmationDescription="Are you sure? This will permanently delete the deployment pool with all its settings and data.";e.ApproveButtonText="Approve";e.RemoveFromTeamFavoritesText="Remove from team favorites";e.SendMailSubject="Subject";e.LatestReleaseToEnvText="to this stage";e.ReleaseSettingsHubMaxRetentionSettingsText="Maximum retention policy";e.RetentionPolicyDaysToKeep="Days to retain a release :\u0026nbsp;";e.TagsDeleteButton_AriaLabel="Delete {0} tag";e.PrimaryText="Primary";e.MoreApprovalOptions="More options";e.ManualInterventionStatusResumed="Resumed";e.NoReleaseDefinitionAlertContent="There are no release pipelines associated with this build pipeline.";e.RejectedByYouOnBehalfOf="Rejected by you on behalf of {0}";e.DisablePriorVersionsWarningMessage="Once task groups are disabled you cannot use them in any build, release pipelines, or other task groups. This action cannot be reversed.";e.DefaultArtifactSpecifyAtReleaseCreation="Specify at the time of release creation";e.ApprovalStatusApproved="Approved";e.ArtifactSourceVersionIsEmpty="Versions could not be loaded for all artifact sources. This could be due to an inaccessible artifact source, an artifact source has been deleted, or no versions are available.";e.DeploymentGroupPhaseTaskDemandValue="Value";e.ReleaseSummaryTestRunsInProgress="In progress";e.QueueReleaseOnEnvironmentCommitsCountHeader="Commits";e.TaskAgentActivityDisabled="Disabled";e.FewerApprovalOptions="Fewer options";e.DescriptionForWellKnownArtifact="All artifacts";e.DraftPublishedAsPreview="Draft published as preview";e.ReleaseHubTitleCaptionUnsaved="Release*:";e.ConfigurationSelectionEnvironmentAllEnvironments="All";e.ConfirmReleaseNavigation="You have unsaved changes to this release which will be lost.";e.UpgradeMachinesConfirmationDescriptionForPool="Are you sure you want to upgrade all targets in deployment pool {0}?";e.EditArtifactDialogTitle="Edit artifact";e.QueueHubFeatureName="WebAccess.ReleaseManagement.QueueHub";e.BranchLabel="Branch:";e.QueuedTime="Queued time";e.GatesStabilizationEndTimeText="Wait time remaining";e.ArtifactsGridColumnSourceNameTooltip="Artifact source name";e.DSWBuildDefinitionsError="Error in getting build pipelines";e.ReleaseLogsFailedMessage="Deployment on this stage failed.";e.FilteredListShowingOneCount="Showing 1 matched item. Use the tab key to select the matched item.";e.DisabledAgentsTitle="Disabled agents";e.DeploymentGroupDeployToToolTip="A deployment configuration determines the number of targets that can be deployed to in parallel. The selection accounts for the percentage of targets that must remain available at any time excluding the targets that are being deployed to.  It is also used to determine the success and failure conditions during deployment.";e.ArtifactsAddExistingTooltip="Add existing artifacts";e.EnvironmentHeadingLabel="Stage owner";e.CancelRequestSubmittedMessage="The cancel request for stage \u0027{0}\u0027 has been submitted.";e.LinkVariableGroupsTitle="Link variable groups";e.DirtyArtifactName="{0}*";e.PendingManualIntervention="Pending manual intervention";e.AutomatedApprovalLogStatus="Automated";e.EnforceIdentityRevalidation="Revalidate the identity of the approver before completing the approval";e.GatesEvaluationToGo="to go";e.WidgetAddedSuccessfullyMessage="Adding widget \u0027{0}\u0027. The widget has been added successfully";e.ContinueWithReleasePrompt="Do you want to queue the release anyway?";e.RefreshDeploymentGroupsDescription="Refresh deployment groups";e.EnvironmentExecutionPoliciesOptions="Options";e.InvalidReleaseId="This work item isn\u0027t a valid release: {0}";e.RemoveCriteriaButtonText="Remove";e.EnvironmentOwnerOnlyOnFailureEmailNotificationLabel="Only on failure";e.WorkItemColumnHeaderTitleTooltip="Title";e.DeploymentTargetsOnline="{0} online";e.ConfirmReleaseUndelete="You are about to undelete the release \u0027{0}\u0027.";e.ArtifactListEmptyErrorMessage="Add at least one artifact.";e.RetainIndefinitelyToolTip="Retain indefinitely";e.ActionsHeaderColumn="Actions";e.ReleaseLogForDGStatusHeader="Status";e.AgentPlatformUbuntu16="Ubuntu 16.04+";e.AgentPlatformUbuntu14="Ubuntu 14.04";e.SelectMinutesText="Select minutes";e.ReleaseDefinitionHistoryDelete="Delete";e.SectionWillBeIncludedInMail="(This section will be included in the outgoing email)";e.TagFilterShowAllButtonTooltip="Remove all tag filters";e.RemoveText="Remove";e.EnvironmentTriggersDescription="Stage triggers specify when and how a deployment will be triggered on a stage.";e.RunOnAgentDesciptionText="A job is a logical grouping of tasks that defines the runtime target on which the tasks will be executed. An agent job allows running a set of tasks on an agent in an agent pool.";e.FilterTargetText="Filter list of target";e.FilteredListSearchResults="{0}, {1} of {2}";e.ReleaseComparisionWithIncompatibleArtifactTypeException="VS402875: Not able to compare releases of artifact types {0} and {1}.";e.Copy="Copy";e.Note="Note";e.Name="Name";e.Tags="Tags";e.Save="Save";e.CancelActionText="Cancel";e.MetaTaskImportInvalidJson="Either the exported JSON is not valid or it is not compatible with the current product version. Please retry exporting and importing.";e.DSWBranchesError="Error in getting branches";e.NotDeployedManualConditionEnvironmentLogBasicUserText="{0}Choose Deploy on the toolbar or a stage’s shortcut menu to manually deploy to this stage.";e.EditAgentQueue="Agent pool...";e.TriggerScheduledRequestText="Created by";e.RetentionPolicyRetainBuild="Retain build :\u0026nbsp;";e.ArtifactDetailsMessageForUnsupportedType="The artifact source {0} seems to be for a generic connection and could not be accessed. The artifacts published by each source pipeline will be available in release pipelines.";e.ConfigurationSelectionEnvironmentVariables="Stage variables";e.DownloadLocation="Download location";e.InvalidReleaseTemplateXml="The XML isn\u0027t valid for this release template. Error: {0}";e.EnvironmentTriggeredOnColumn="Triggered";e.SummaryArtifactsSection="Artifacts ({0})";e.AgentAcquisitionDarwinConfigureAgentMarkdownFormat="```bash\r\n~/myagent$ ./config.sh --deploymentgroup\r\n```";e.WorkItemsTabRollbackMessage="Deployment of {0} to a stage after {1} has been deployed to it might remove the below work items. This could happen if {0} is linked to an older build version as compared to the one linked to {1}.";e.ErrorWhileFetchingBuilds="We\u0027re sorry, but something went wrong while getting the build details. Please try again.";e.ReleaseDefinitionsNodeText="Release pipelines";e.ReleaseLogManualInterventionCanceledInfo="The manual intervention {0} has been {1}.";e.DetailsPaneOff="Off";e.ReleaseStatusAbandoned="Abandoned";e.FileUploadEnd="File upload completed successfully.";e.NoReleaseText="No release here, ";e.QueueReleaseOnEnvironmentTaskCountHeader="Tasks";e.EnvironmentTemplatesDialogCloseButton="Close";e.ReleaseDefinitionLabel="Release pipelines";e.NoSuccessfulVersionMessageInPicker="There is no successful version for {0} ({1}). Only when artifacts are published will they be available for release pipelines.";e.ReleaseQueueHeadingText="Release queue";e.ReleaseLogsAutoRedeployTriggerHeader="Auto-redeploy trigger";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Types",["require","exports","VSS/VSS","VSS/Utils/String","ReleaseManagement/Core/Contracts","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline"],function(n,t,i,r,u,f,e){var di,gi,h,c,l,a,v,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,vr,ei,oi,si,hi,ci,li,ai,vi,yi,pi,s,wi,bi,yr,pr,wr,br,kr,dr,gr,nu,tu,o,ki,iu;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.File=0]="File";n[n.Folder=1]="Folder";n[n.BuildArtifactNode=2]="BuildArtifactNode";n[n.SourceNode=3]="SourceNode";n[n.JenkinsArifactNode=4]="JenkinsArifactNode";n[n.LinkedArtifactsNode=5]="LinkedArtifactsNode";n[n.CustomArtifactNode=6]="CustomArtifactNode"}(di=t.ArtifactNodeType||(t.ArtifactNodeType={})),function(n){n[n.TfsGit=0]="TfsGit";n[n.TfsVersionControl=1]="TfsVersionControl"}(gi=t.RepoTypes||(t.RepoTypes={}));h=function(){function n(){}return n.File="File",n.Folder="Folder",n}();t.ArtifactItemType=h;c=function(){function n(){}return n}();t.AutomatedEnvironmentDropDownValues=c;l=function(){function n(){}return n.FilePath="FilePath",n.VersionControl="VersionControl",n.Container="Container",n}();t.BuildWellKnownArtifactResourceTypes=l;a=function(){function n(n){this.Actions=n}return n}();t.SupportedActions=a;t.TypeInfo={IReleaseManagementDefaultServiceData:{fields:null}};t.TypeInfo.IReleaseManagementDefaultServiceData.fields={releaseDefinitions:{isArray:!0,typeInfo:u.TypeInfo.ReleaseDefinition},releases:{isArray:!0,typeInfo:u.TypeInfo.Release},artifactTypes:{isArray:!0,typeInfo:u.TypeInfo.ArtifactTypeDefinition},releaseSummary:{typeInfo:u.TypeInfo.Release}};v=function(){function n(n,t,i,r){this.fieldId=n;this.name=t;this.text=i;this.width=r;this.available=!0}return n}();t.DisplayColumn=v,function(n){n[n.Undefined=0]="Undefined";n[n.NotStarted=1]="NotStarted";n[n.Pending=2]="Pending";n[n.Succeeded=3]="Succeeded";n[n.Rejected=4]="Rejected";n[n.InProgress=5]="InProgress";n[n.Canceled=6]="Canceled";n[n.Queued=7]="Queued";n[n.Deferred=8]="Deferred";n[n.QueuedForAgent=9]="QueuedForAgent";n[n.PreApprovalPending=10]="PreApprovalPending";n[n.Failed=11]="Failed";n[n.PreApprovalRejected=12]="PreApprovalRejected";n[n.Scheduled=13]="Scheduled";n[n.PartiallySucceeded=14]="PartiallySucceeded";n[n.QueuedForPipeline=15]="QueuedForPipeline";n[n.Cancelling=16]="Cancelling";n[n.GatesInProgress=17]="GatesInProgress";n[n.GatesFailed=18]="GatesFailed";n[n.GatesStabilizing=19]="GatesStabilizing"}(nr=t.ComputedReleaseEnvironmentStatus||(t.ComputedReleaseEnvironmentStatus={})),function(n){n[n.Undefined=0]="Undefined";n[n.Draft=1]="Draft";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Abandoned=4]="Abandoned"}(tr=t.ComputedReleaseStatus||(t.ComputedReleaseStatus={})),function(n){n[n.PreApproval=1]="PreApproval";n[n.PostApproval=2]="PostApproval";n[n.PreGates=3]="PreGates";n[n.PostGates=4]="PostGates"}(ir=t.ApprovalType||(t.ApprovalType={})),function(n){n[n.ApproveOrReject=1]="ApproveOrReject";n[n.PendingApproval=2]="PendingApproval";n[n.ViewApproval=3]="ViewApproval";n[n.FaddedApproval=4]="FaddedApproval";n[n.DeferredApproval=5]="DeferredApproval";n[n.QueuedIcon=6]="QueuedIcon"}(rr=t.ApprovalIconType||(t.ApprovalIconType={})),function(n){n[n.Pending=0]="Pending";n[n.InProgress=1]="InProgress";n[n.Done=2]="Done";n[n.Succeeded=3]="Succeeded";n[n.Stopped=4]="Stopped";n[n.Rejected=5]="Rejected";n[n.Failed=6]="Failed";n[n.Canceled=7]="Canceled";n[n.Reassigned=8]="Reassigned";n[n.Abandoned=9]="Abandoned";n[n.NotStarted=10]="NotStarted";n[n.Approved=11]="Approved";n[n.Undefined=12]="Undefined";n[n.AutomatedApproval=13]="AutomatedApproval";n[n.Skipped=14]="Skipped";n[n.Queued=15]="Queued";n[n.Deferred=16]="Deferred";n[n.QueuedForAgent=17]="QueuedForAgent";n[n.Scheduled=18]="Scheduled";n[n.PartiallySucceeded=19]="PartiallySucceeded";n[n.QueuedForPipeline=20]="QueuedForPipeline";n[n.Cancelling=21]="Cancelling"}(ur=t.ReleaseLogStates||(t.ReleaseLogStates={})),function(n){n[n.Approval=0]="Approval";n[n.Environment=1]="Environment";n[n.Task=2]="Task";n[n.RetryHeading=3]="RetryHeading";n[n.RetryAttemptHeading=4]="RetryAttemptHeading";n[n.Job=5]="Job";n[n.DeployPhase=6]="DeployPhase";n[n.ManualIntervention=7]="ManualIntervention";n[n.Gates=8]="Gates";n[n.GateTask=9]="GateTask"}(fr=t.ReleaseLogTypes||(t.ReleaseLogTypes={})),function(n){n[n.Any=-1]="Any";n[n.Last24Hours=1]="Last24Hours";n[n.Last48Hours=2]="Last48Hours";n[n.Last7Days=7]="Last7Days";n[n.Last14Days=14]="Last14Days";n[n.Last28Days=28]="Last28Days"}(er=t.ReleasesDateFilter||(t.ReleasesDateFilter={})),function(n){n[n.Start=0]="Start";n[n.Stop=1]="Stop";n[n.Abandon=2]="Abandon";n[n.Retry=3]="Retry";n[n.Restart=4]="Restart";n[n.Resume=5]="Resume";n[n.Cancel=6]="Cancel";n[n.OpenRelease=7]="OpenRelease";n[n.Create=8]="Create";n[n.CreateDraft=9]="CreateDraft";n[n.Delete=10]="Delete";n[n.OpenInNewTab=11]="OpenInNewTab";n[n.RetainIndefinately=12]="RetainIndefinately";n[n.StopRetainingIndefinately=13]="StopRetainingIndefinately";n[n.Undelete=14]="Undelete"}(or=t.ReleaseAction||(t.ReleaseAction={})),function(n){n[n.Edit=0]="Edit";n[n.CreateRelease=1]="CreateRelease";n[n.CreateDraftRelease=2]="CreateDraftRelease";n[n.DeleteReleaseDefinition=3]="DeleteReleaseDefinition";n[n.CloneReleaseDefinition=4]="CloneReleaseDefinition";n[n.ExportReleaseDefinition=5]="ExportReleaseDefinition";n[n.EditPreviewInCDWorkflow=6]="EditPreviewInCDWorkflow"}(sr=t.ReleaseDefinitionAction||(t.ReleaseDefinitionAction={})),function(n){n[n.AddArtifact=0]="AddArtifact"}(hr=t.ArtifactSourceAction||(t.ArtifactSourceAction={})),function(n){n[n.Full=0]="Full";n[n.Partial=1]="Partial";n[n.ReadOnly=2]="ReadOnly"}(cr=t.EditPermissions||(t.EditPermissions={})),function(n){n[n.None=0]="None";n[n.ViewReleaseDefinition=1]="ViewReleaseDefinition";n[n.EditReleaseDefinition=2]="EditReleaseDefinition";n[n.DeleteReleaseDefinition=4]="DeleteReleaseDefinition";n[n.ManageReleaseApprovers=8]="ManageReleaseApprovers";n[n.ManageReleases=16]="ManageReleases";n[n.ViewReleases=32]="ViewReleases";n[n.QueueReleases=64]="QueueReleases";n[n.EditReleaseEnvironment=128]="EditReleaseEnvironment";n[n.DeleteReleaseEnvironment=256]="DeleteReleaseEnvironment";n[n.AdministerReleasePermissions=512]="AdministerReleasePermissions";n[n.DeleteReleases=1024]="DeleteReleases";n[n.ManageDeployments=2048]="ManageDeployments"}(lr=t.ReleaseManagementSecurityPermissions||(t.ReleaseManagementSecurityPermissions={})),function(n){n[n.None=0]="None";n[n.ViewReleaseTaskEditor=1]="ViewReleaseTaskEditor";n[n.ViewCDWorkflowEditor=2]="ViewCDWorkflowEditor";n[n.ExportReleaseDefinition=4]="ExportReleaseDefinition";n[n.ViewLegacyUI=8]="ViewLegacyUI";n[n.DeploymentSummaryAcrossProjects=16]="DeploymentSummaryAcrossProjects"}(ar=t.ReleaseManagementUISecurityPermissions||(t.ReleaseManagementUISecurityPermissions={}));y=function(){function n(){}return n.SequentialApprovals="Sequential",n.ParallelApprovals="Parallel",n.AnyOneApproverInParallelApprovals="AnyOneOfParallel",n}();t.ApprovalOrderOptions=y;p=function(){function n(){}return n.IsAutomated="IsAutomated",n.SpecificUsers="SpecificUsers",n}();t.ApprovalRadioButtonTypes=p;w=function(){function n(){}return n.Error="Error",n.Warning="Warning",n}();t.TaskIssueType=w;b=function(){function n(){}return n.Area="Release",n}();t.WebApiConstants=b;k=function(){function n(){}return n.RefreshReleaseDefinitions="RefreshReleaseDefinitions",n}();t.TelemetryConstants=k;d=function(){function n(){}return n.NoReleaseDefinitionsGuidanceLink='<a href="{0}" target="_top">{1}<\/a>',n.ShowEnvironmentTemplatesDialogBoxLink='<a class="show-template-dialog-for-no-definition">{0}<\/a>',n.TextSeparator="/",n.TextPipe="|",n}();t.ConstantResources=d;g=function(){function n(){}return n.RefreshEnvironments="refreshenvironments",n.EnvironmentsError="environmentserror",n.ResizeColumnToFitContent="resizecolumntofitcontent",n}();t.ReleasesViewEvents=g;nt=function(){function n(){}return n.Reason="reason",n.RetainIndefinitely="keepForever",n.Name="name",n.DefinitionName="definitionName",n.Environments="environments",n.CreatedOn="createdOn",n.CreatedBy="createdBy",n.Artifacts="artifacts",n.Branch="branch",n.DeletedOn="modifiedOn",n.DeletedBy="modifiedBy",n}();t.ReleasesViewColumnIndex=nt;tt=function(){function n(){}return n.RefreshLogsView="refreshlogsview",n.ApprovalsError="approvalserror",n}();t.ReleaseLogsViewEvents=tt;it=function(){function n(){}return n.HubTitleChanged="releaseExplorerViewHubtitleChanged",n.ReleaseOpened="releaseExplorerViewReleaseOpened",n.ReleaseOpenedInNewTab="releaseExplorerViewReleaseOpenedInNewTab",n.ReleaseDefinitionsChanged="releaseExplorerViewReleaseDefinitionsChanged",n.UpdateCreateReleaseToolbarOptionStatus="releaseExplorerViewUpdateCreateReleaseStatus",n.NavigateReleaseExplorer="releaseExplorerNavigateView",n.RefreshReleaseDefinitionsExplorer="releaseExplorerRefreshReleaseDefinitionsExplorer",n.UpdateReleaseDefinitionInExplorer="updateReleaseDefinitionInExplorer",n.CreateDraftRelease="releaseExplorerCreateDraftRelease",n.DefinitionExplorerViewCreationDone="definitionExplorerViewCreationDone",n}();t.ReleaseExplorerViewEvents=it;rt=function(){function n(){}return n.QueueReleaseOnEnvironment="queueReleaseOnEnvironment",n.ViewEnvironmentSummary="viewEnvironmentSummary",n}();t.ReleaseSummaryViewEvents=rt;ut=function(){function n(){}return n.OpenDetailsOfWorkItem="workItemsViewDetailsOpenedInNewTab",n}();t.WorkItemsViewEvents=ut;ft=function(){function n(){}return n.CreateNewArtifact="createNewArtifact",n.OpenEnvironmentConfiguration="releaseDefinitionOpenEnvironmentConfiguration",n.AddExistingArtifacts="addExistingArtifacts",n.AddArtifacts="addArtifacts",n.UpdateArtifactsEditorTitle="updateArtifactsEditorTitle",n.DirtyUpdated="ReleaseDefinitionIsDirty",n}();t.ReleaseDefinitionDesignerEvents=ft;et=function(){function n(){}return n.ondeleteEnvironment="on-delete-envrionment",n.onSaveAsTemplate="on-save-as-template",n.onCloneEnvironment="on-clone-environment",n}();t.EnvironmentViewEvents=et;ot=function(){function n(){}return n.ArtifactDialogCloseEvent="artifactDialogClose",n.ArtifactDefinitionChange="artifactDefinitionChange",n.RefreshArtifactDefinition="refreshArtifactDefinition",n.AddArtifact="addArtifact",n}();t.ArtifactsViewEvents=ot;st=function(){function n(){}return n.ApprovalTileChange="approvalTileChange",n.GetApprovalRelease="getApprovalRelease",n}();t.ApprovalsViewEvents=st;ht=function(){function n(){}return n.RELEASES="releases",n.DEFINITION_OVERVIEW="definitionoverview",n.DELETED_RELEASES="deletedreleases",n}();t.ReleasesViewActions=ht;ct=function(){function n(){}return n.PROPERTIES="properties",n.TASKS="tasks",n.HISTORY="history",n.REFERENCE="reference",n}();t.MetaTaskViewActions=ct;lt=function(){function n(){}return n.NewReleaseNavigationAction="logs",n}();t.CreateReleaseActions=lt;at=function(){function n(){}return n.environmentsEditorAction="environments-editor",n.viewReleasesAction="releases",n.artifactsEditorAction="artifacts-editor",n.variablesEditorAction="variables-editor",n.configurationsEditorAction="configurations-editor",n.triggersEditorAction="triggers-editor",n.generalSettingsEditorAction="general-settings-editor",n.retentionPolicyEditorAction="retention-policy-editor",n.definitionHistoryAction="definition-history",n.environmentsEditorPreviewAction="environments-editor-preview",n.createReleaseDefinitionInNewEditorAction="action-create-definition",n.importReleaseDefinitionInNewEditorAction="action-import-definition",n.cloneReleaseDefinitionInNewEditorAction="action-clone-definition",n}();t.DefinitionDesignerActions=at;vt=function(){function n(){}return n}();t.FeatureStateData=vt;yt=function(){function n(){}return n.mineTabAction="mine",n.allTabAction="all",n}();t.ReleasesHubCreateDefinitionActions=yt;pt=function(){function n(){}return n.environmentsEditorAction="release-environments-editor",n.artifactsEditorAction="release-artifacts-editor",n.variablesEditorAction="release-variables-editor",n.configurationsEditorAction="release-configurations-editor",n.summaryAction="release-summary",n.logsAction="release-logs",n.commitsAction="release-commits",n.workItemsAction="release-workitems",n.generalSettingsEditorAction="release-general-settings-editor",n.contributionTabActionPrefix="release-contribution-tab",n.definitionOverview="definitionoverview",n.releaseHistoryAction="release-history",n}();t.ReleaseEditorAction=pt;wt=function(){function n(){}return n.environmentSummaryAction="environment-summary",n}();t.EnvironmentSummaryAction=wt;bt=function(){function n(){}return n.APIS="apis",n}();t.ReleasePipelineAreas=bt;kt=function(){function n(){}return n.Exists="exists",n.Equals="equals",n}();t.DemandType=kt;dt=function(){function n(){}return n.overview="overview",n}();t.ArtifactsExplorerViewActions=dt;gt=function(){function n(){}return n.Build=f.ArtifactTypes.BuildArtifactType,n.JenkinsId=f.ArtifactTypes.JenkinsArtifactType,n.NugetId=f.ArtifactTypes.NugetArtifactType,n.TeamBuildExternalId=f.ArtifactTypes.TfsOnPremArtifactType,n.ExternalTfsBuildId=f.ArtifactTypes.ExternalTfsBuildArtifactType,n.GitHubId=f.ArtifactTypes.GitHubArtifactType,n.GitId=f.ArtifactTypes.GitArtifactType,n.TfvcId=f.ArtifactTypes.TfvcArtifactType,n.PackageManagement=f.ArtifactTypes.PackageManagementArtifactType,n.TfsOnPremArtifactId=f.ArtifactTypes.TfsOnPremArtifactType,n.DockerHubId=f.ArtifactTypes.DockerHubArtifactType,n.AzureContainerRepositoryId=f.ArtifactTypes.AzureContainerRepositoryArtifactType,n.CircleCIId=f.ArtifactTypes.CircleCIArtifactType,n.GitHubReleaseId=f.ArtifactTypes.GitHubReleaseArtifactType,n}();t.ArtifactTypes=gt;ni=function(){function n(){}return n.DefaultVersionType=f.ArtifactDefinitionConstants.DefaultVersionTypeId,n.DefaultVersionBranch=f.ArtifactDefinitionConstants.DefaultVersionBranchId,n.DefaultVersionTags=f.ArtifactDefinitionConstants.DefaultVersionTagsId,n.DefaultVersionSpecific=f.ArtifactDefinitionConstants.DefaultVersionSpecificId,n.Latest=f.ArtifactDefinitionConstants.LatestType,n.LatestFromBranch=f.ArtifactDefinitionConstants.LatestFromBranchType,n.LatestWithBranchAndTags=f.ArtifactDefinitionConstants.LatestWithBranchAndTagsType,n.SpecificVersion=f.ArtifactDefinitionConstants.SpecificVersionType,n.SelectDuringReleaseCreation=f.ArtifactDefinitionConstants.SelectDuringReleaseCreationType,n.LatestWithBuildDefinitionBranchAndTags=f.ArtifactDefinitionConstants.LatestWithBuildDefinitionBranchAndTagsType,n}();t.ArtifactDefaultVersionConstants=ni;ti=function(){function n(){}return n.Unspecified="Unspecified",n.NotStarted="NotStarted",n.InProgress="InProgress",n.Completed="Completed",n.Aborted="Aborted",n.Waiting="Waiting",n.NeedsInvestigation="NeedsInvestigation",n}();t.TestRunStatus=ti;ii=function(){function n(){}return n.ENVIRONMENTS="Environments",n.DESCRIPTION="Description",n.ARTIFACTS="Artifacts",n}();t.ReleaseSummarySections=ii;ri=function(){function n(){}return n.MaxArtifactCount=4,n.KeepForever="keepForever",n}();t.ReleaseSummaryConstants=ri;ui=function(){function n(){}return n.EnvironmentVariablesGridColumnsInitialNum=100,n}();t.ConfigurationsConstants=ui;fi=function(){function n(){}return n.MaxDaysToKeepRelease=365,n.MaxReleasesToKeep=25,n.DefaultDaysToKeep=30,n.DefaultReleasesToKeep=3,n.DefaultRetainBuild=!0,n.DefaultDaysToKeepDeletedReleases=14,n}();t.ReleaseDefinitionConstants=fi,function(n){n[n.Init=0]="Init";n[n.Completed=1]="Completed"}(vr=t.EnvironmentTileTaskBarState||(t.EnvironmentTileTaskBarState={}));ei=function(){function n(){}return n.ConcurrencyInfinite="0",n.ConcurrencyOnlyOne="1",n.QueueDepthInfinite="0",n.QueueDepthLastReleaseOnly="1",n}();t.EnvironmentExecutionPoliciesConstants=ei;oi=function(){function n(){}return n.ReleaseStarted="ReleaseStarted",n.AlwaysManual="AlwaysManual",n.AfterSuccessfulDeployment="AfterSuccessfulDeployment",n}();t.EnvironmentDeploymentConditionsTriggerTypeConstants=oi;si=function(){function n(){}return n.TrueValue="True",n.FalseValue="False",n}();t.ReleaseManagementApiConstants=si;hi=function(){function n(){}return n.TfvcRootId="$/",n}();t.StringConstants=hi;ci=function(){function n(){}return n.ArtifactTypeNameRegEx="^[a-zA-Z0-9_.-/*]+$",n.ArtifactNameSearchRegEx="^[%a-zA-Z0-9_.-]+$",n.VariableParameterRegex=new RegExp("\\$\\(.*?\\)"),n}();t.RegExConstants=ci;li=function(){function n(){}return n.Area="ReleaseManagement",n.LandingOnReleaseHubScenario="VSO.RM.LandingOnReleaseHub",n.ReleasesOverviewScenario="VSO.RM.ReleasesOverview",n.ListReleasesScenario="VSO.RM.ListReleases",n.LoadReleasesPageSkeletonScenario="VSO.RM.LoadReleasesPageSkeleton",n.LandingOnReleaseHubOveriewScenario="VSO.RM.LandingOnReleaseHubOverview",n.LandingOnReleaseHubRDEditorScenario="VSO.RM.LandingOnReleaseHubRDEditor",n.LandingOnReleaseHubReleaseEditorScenario="VSO.RM.LandingOnReleaseHubReleaseEditor",n.LandingOnReleaseHubGettingStartedScenario="VSO.RM.LandingOnReleaseHubGettingStarted",n.LandingOnReleaseHubEnvSummaryScenario="VSO.RM.LandingOnReleaseHubEnvSummaryScenario",n.OpenReleaseSummaryScenario="VSO.RM.OpenReleaseSummary",n.ValidateAgentsScenario="VSO.RM.ValidateAgents",n.StartReleaseScenario="VSO.RM.StartRelease",n.StartDeploymentOnEnvironmentScenario="VSO.RM.DeployToEnvironment",n.CancelDeploymentOnEnvironmentScenario="VSO.RM.CancelDeployment",n.RedeployToEnvironmentScenario="VSO.RM.RedeployToEnvironment",n.DeployToMultipleEnvironmentsScenario="VSO.RM.DeployToMultipleEnvironments",n.CreateDraftReleaseScenario="VSO.RM.CreateDraftRelease",n.SaveReleaseScenario="VSO.RM.SaveRelease",n.UpdateReleaseStatusScenario="VSO.RM.UpdateReleaseStatusScenario",n.LoadWorkItemsScenario="VSO.RM.LoadWorkItems",n.LoadCommitsScenario="VSO.RM.LoadCommits",n.UpdateApprovalsScenario="VSO.RM.UpdateApprovals",n.UpdateManualInterventionsScenario="VSO.RM.UpdateManualInterventions",n.OpenCreateReleaseDialogScenario="VSO.RM.OpenCreateReleaseDialog",n.OpenCreateReleaseDialogFromBuildScenario="VSO.RM.OpenCreateReleaseDialogFromBuild",n.EditReleaseDefinitionScenario="VSO.RM.EditReleaseDefinition",n.SaveReleaseDefinitionScenario="VSO.RM.SaveReleaseDefinition",n.DeleteReleaseDefinitionScenario="VSO.RM.DeleteReleaseDefinition",n.UpdateReleaseRetentionScenario="VSO.RM.UpdateReleaseRetention",n.GetReleaseComplete="VSO.RM.GetReleaseComplete",n.TestResultsFetchBegin="VSO.RM.TestResultsFetch",n.DSWConfigurationViewLoadTime="VSO.RM.DSW.ConfigurationLoad",n.DSWWidgetViewLoadTime="VSO.RM.DSW.ViewLoad",n.AllDefinitionsSearchScenario="AllDefinitions.Search",n.LandingOnReleases2Hub="LandingOnReleases2Hub",n.LandingOnMachineGroupHubScenario="VSO.RM.LandingOnMachineGroupHub",n.ListMachinesScenario="VSO.RM.ListMachines",n.ViewMachineDeployemntsScenario="VSO.RM.ViewMachineDeployments",n.ViewMachineConfigurationsScenario="VSO.RM.ViewMachinesConfiguration",n.GetAddedTargetScenario="VSO.RM.GetAddedTargetScenario",n.CreateOrUpdateMachineGroupScenario="VSO.RM.CreateOrUpdateMachineGroup",n.DeleteMachineGroupScenario="VSO.RM.DeleteMachineGroup",n.ViewDeploymentMachineScenario="VSO.RM.ViewDeploymentMachine",n.DeleteMachineScenario="VSO.RM.DeleteMachine",n.UpdateMachineScenario="VSO.RM.UpdateMachine",n.UpdateTargetScenario="VSO.RM.UpdateTarget",n.UpgradeMachinesScenario="VSO.RM.UpgradeMachines",n.CreateAccessTokenScenario="VSO.RM.CreateAccessToken",n.LandingOnDeploymentPoolTargetsPageScenario="VSO.RM.ViewDeploymentPoolTargets",n.LandingOnDeploymentPoolHubScenario="VSO.RM.LandingDeploymentPoolHub",n.DeleteDeploymentPoolScenario="VSO.RM.DeleteDeploymentPool",n.UpgradeTargetsScenario="VSO.RM.UpgradeTargets",n.LoadTargetScenario="VSO.RM.LoadTarget",n.DeleteTargetScenario="VSO.RM.DeleteTarget",n.UpdateDeploymentTargetScenario="VSO.RM.UpdateDeploymentTarget",n}();t.PerfScenariosConstants=li;ai=function(){function n(){}return n.AutoFromBuild="AutoFromBuild",n.AutoFromGithub="AutoFromGithub",n.AutoFromDockerHub="AutoFromDockerHub",n.Scheduled="Scheduled",n.PR="PR",n.BuildSummary="BuildSummary",n.ReleaseHub="ReleaseHub",n.Other="Other",n}();t.ReleaseCreationSource=ai;t.AllReleaseDefinitionId=0;t.AllReleaseDefinitionRevision=0;t.NewRDId=0;t.LogPerfMeasurementInConsole=!1;t.TasksVisibilityFilter="Release";vi=function(){function n(){}return n.HostedImage="WebAccess.ReleaseManagement.HostedImageSelection",n.ReleaseRetentionSettingsEditEnabled="VisualStudio.ReleaseManagement.ReleaseRetentionSettingsEditEnabled",n.ReleaseComplianceSettingsEnabled="VisualStudio.ReleaseManagement.EnableSecretScanToBlockSave",n.BuildArtifactTasks="VisualStudio.ReleaseManagement.BuildArtifactsTasks",n.NewReleaseProgressView="WebAccess.ReleaseManagement.NewReleaseProgressView",n.NewCDReleaseViewOptInToggle="WebAccess.ReleaseManagement.NewCDReleaseViewOptInToggle",n.NewCDReleaseViewOptInDefault="WebAccess.ReleaseManagement.NewCDReleaseViewOptInDefault",n.PipelineWorkflowFastHubSwitchDisabled="WebAccess.ReleaseManagement.DisableFastHubSwitch",n.CDReleaseProgressViewDisableFastHubSwitch="WebAccess.ReleaseManagement.CDReleaseProgressViewDisableFastHubSwitch",n.CompleteAadOAuthCallbackByAuthCode="WebAccess.ReleaseManagement.CompleteAadOauthCallbackByAuthCode",n.NewCreateReleaseWorkflowExtensionIntegration="WebAccess.ReleaseManagement.NewCreateReleaseWorkflowExtensionIntegration",n.DonotSanitizeInputForMDFile="WebAccess.ReleaseManagement.DonotSanitizeInputForMDFile",n.EnableDeploymentPoolRename="WebAccess.ReleaseManagement.DeploymentPoolRename",n.EnableNewRouteForLogApis="WebAccess.ReleaseManagement.EnableNewRouteForLogApis",n.DisabledDeploymentTarget="WebAccess.ReleaseManagement.DisabledDeploymentTarget",n.CreateReleaseDataProvider="WebAccess.ReleaseManagement.CreateReleaseDataProvider",n.DelayedReleaseTasksSignalRUpdate="AzureDevOps.ReleaseManagement.DelayedReleaseTasksSignalRUpdate",n}();t.ReleasePipelineFeatureFlags=vi;yi=function(){function n(){}return n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4",n}();t.ReleasePipelineLicenseFeatureIds=yi;pi=function(){function n(){}return n.Default="ms.vss-releaseManagement-web.hub-explorer-data-provider",n.NewCDReleaseProgressFeatureState="ms.vss-releaseManagement-web.new-release-viewer-feature-state-data-provider",n.SignalRDataProvider="ms.vss-releaseManagement-web.rm-signalr-data-provider",n.ReleaseProgressDataProvider="ms.vss-releaseManagement-web.releaseview.webpage.data-provider",n}();t.ReleaseManagementDataProviderKeys=pi;s=function(){function n(){}return n.ReleaseExplorer="ms.vss-releaseManagement-web.hub-explorer",n.ReleaseExplorer2="ms.vss-releaseManagement-web.hub-explorer-2",n.MachineGroupExplorer="ms.vss-releaseManagement-web.hub-machinegroup",n.LibraryHub="ms.vss-distributed-task.hub-library",n.ReleaseCDExplorer="ms.vss-releaseManagement-web.cd-workflow-hub",n.TestResults="ms.vss-test-web.test-result-in-release-management",n.DeploymentPoolsExplorer="ms.vss-releaseManagement-web.hub-deploymentpools",n.ReleaseCDProgress="ms.vss-releaseManagement-web.cd-release-progress",n.ReleaseReport="ms.vss-releaseManagement-web.cd-release-report",n.TestExtensionIdPrefix="ms.vss-test-web.",n}();t.ExtensionArea=s;wi=function(){function n(){}return n.NewReleaseView="ms.vss-releaseManagement-web.new-release-view-feature",n}();t.ContributedFeatureIds=wi;bi=function(){function n(){}return n.getRouteForExtensionArea=function(t){return n._extensionAreaToHubRouteMap||n._createExtensionAreaToHubRouteMap(),n._extensionAreaToHubRouteMap.hasOwnProperty(t)?n._extensionAreaToHubRouteMap[t]:null},n._createExtensionAreaToHubRouteMap=function(){n._extensionAreaToHubRouteMap={};n._extensionAreaToHubRouteMap[s.ReleaseExplorer]=n.ReleaseExplorerHubRoute;n._extensionAreaToHubRouteMap[s.MachineGroupExplorer]=n.MachineGroupHubRoute;n._extensionAreaToHubRouteMap[s.LibraryHub]=n.LibraryHubRoute;n._extensionAreaToHubRouteMap[s.DeploymentPoolsExplorer]=n.DeploymentPoolsRoute;n._extensionAreaToHubRouteMap[s.ReleaseCDProgress]=n.ReleasePipelineProgressHubRoute},n.ReleaseExplorerHubRoute="_release",n.MachineGroupHubRoute="_machinegroup",n.LibraryHubRoute="_library",n.DeploymentPoolsRoute="_deploymentpools",n.ReleasePipelineProgressHubRoute="_releaseProgress",n._extensionAreaToHubRouteMap=null,n}();t.HubRoutes=bi,function(n){n[n.ProjectHome=0]="ProjectHome";n[n.Code=1]="Code";n[n.BuildSummary=2]="BuildSummary";n[n.ReleaseNew=3]="ReleaseNew";n[n.ReleaseImport=4]="ReleaseImport";n[n.ReleaseClone=5]="ReleaseClone";n[n.Other=6]="Other"}(yr=t.ReleaseDefinitionCreationSource||(t.ReleaseDefinitionCreationSource={})),function(n){n[n.NoMessage=0]="NoMessage";n[n.UnsupportedArtifacts=1]="UnsupportedArtifacts";n[n.NoArtifacts=2]="NoArtifacts"}(pr=t.TriggersTabArtifactsMessageType||(t.TriggersTabArtifactsMessageType={})),function(n){n[n.Environment=0]="Environment";n[n.Release=1]="Release";n[n.ReleaseDefinition=2]="ReleaseDefinition"}(wr=t.VariablesListContext||(t.VariablesListContext={})),function(n){n[n.Build=0]="Build";n[n.Release=1]="Release"}(br=t.ViewContext||(t.ViewContext={})),function(n){n[n.Summary=5]="Summary";n[n.Environments=10]="Environments";n[n.Artifacts=20]="Artifacts";n[n.Configurations=30]="Configurations";n[n.GeneralSettings=50]="GeneralSettings";n[n.Commits=70]="Commits";n[n.WorkItems=80]="WorkItems";n[n.Logs=90]="Logs"}(kr=t.WellKnownReleaseTabsOrder||(t.WellKnownReleaseTabsOrder={})),function(n){n[n.CreateReleaseDefinition=1]="CreateReleaseDefinition";n[n.AddEnvironment=2]="AddEnvironment";n[n.CloneEnvironment=3]="CloneEnvironment"}(dr=t.EnvironmentDefinitionAddOperationType||(t.EnvironmentDefinitionAddOperationType={})),function(n){n[n.Undefined=0]="Undefined";n[n.NoReleases=1]="NoReleases";n[n.NoDeployments=2]="NoDeployments";n[n.DeploymentsAvailable=3]="DeploymentsAvailable"}(gr=t.ActiveDeploymentStatus||(t.ActiveDeploymentStatus={})),function(n){n[n.None=0]="None";n[n.SameRelease=1]="SameRelease";n[n.SameArtifact=2]="SameArtifact";n[n.Rollback=3]="Rollback"}(nu=t.ArtifactDeployment||(t.ArtifactDeployment={})),function(n){n[n.NotInProgress=1]="NotInProgress";n[n.Stabilizing=2]="Stabilizing";n[n.Evaluating=3]="Evaluating"}(tu=t.GatesInProgressSubStatus||(t.GatesInProgressSubStatus={}));t.WellKNownReleaseEnvironmentSummaryColumnEnvironment="environment";t.WellKNownReleaseEnvironmentSummaryColumnActions="actions";t.WellKNownReleaseEnvironmentSummaryColumnDeploymentStatus="deployment-status";t.WellKNownReleaseEnvironmentSummaryColumnStartedOn="started";t.WellKNownReleaseEnvironmentSummaryColumnDuration="duration";t.WellKnownReleaseEnvironmentSummaryColumnTypes=[{title:e.EnvironmentHeaderColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnEnvironment,canBeFiltered:!1},{title:e.ActionsHeaderColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnActions,canBeFiltered:!1},{title:e.DeploymentStatusColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnDeploymentStatus,canBeFiltered:!1},{title:e.EnvironmentTriggeredOnColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnStartedOn,canBeFiltered:!0},{title:e.EnvironmentCompletedOnColumn,id:t.WellKNownReleaseEnvironmentSummaryColumnDuration,canBeFiltered:!0}];o=function(){function n(){}return n.definitionId=f.ArtifactDefinitionConstants.DefinitionId,n.multiDefinitionId=f.ArtifactDefinitionConstants.MultipleDefinitionsId,n.isMultiDefinitionType=f.ArtifactDefinitionConstants.IsMultiDefinitionType,n.projectId=f.ArtifactDefinitionConstants.ProjectId,n.sourceName="sourceName",n.sourceType="sourceType",n.sourceTypeName="sourceTypeName",n.servicesId=f.ArtifactDefinitionConstants.ConnectionId,n.alias="alias",n.itemType=f.ArtifactDefinitionConstants.ItemPath,n}();t.ArtifactItemDataKeys=o;ki=function(){function n(){}return n.create=function(t){var i=new n;return i.data=t,i},n.prototype.getSourceName=function(){return this._getValue(o.sourceName)},n.prototype.setSourceName=function(n){this._setValue(o.sourceName,n)},n.prototype.getDefinitionId=function(){return this._getValue(o.definitionId)},n.prototype.setDefinitionId=function(n){this._setValue(o.definitionId,n)},n.prototype.getMultiDefinitionId=function(){return this._getValue(o.multiDefinitionId)},n.prototype.isMultiDefinitionType=function(){return this._getValue(o.isMultiDefinitionType)},n.prototype.getSourceType=function(){return this._getValue(o.sourceType)},n.prototype.getProjectId=function(){return this._getValue(o.projectId)},n.prototype.setProjectId=function(n){this._setValue(o.projectId,n)},n.prototype.setSourceType=function(n){this._setValue(o.sourceType,n)},n.prototype.getSourceTypeName=function(){return this._getValue(o.sourceTypeName)},n.prototype.setSourceTypeName=function(n){this._setValue(o.sourceTypeName,n)},n.prototype.getServicesId=function(){return this._getValue(o.servicesId)},n.prototype.setServicesId=function(n){this._setValue(o.servicesId,n)},n.prototype.getAlias=function(){return this._getValue(o.alias)},n.prototype.setAlias=function(n){this._setValue(o.alias,n)},n.prototype.getItemType=function(){return this._getValue(o.itemType)},n.prototype.setItemType=function(n){this._setValue(o.itemType,n)},n.prototype._getValue=function(n){return this.data&&this.data.hasOwnProperty(n)&&this.data[n]?this.data[n]:r.empty},n.prototype._setValue=function(n,t){this.data&&(this.data[n]=t)},n}();t.ArtifactItemData=ki,function(n){n.ReleaseManagementUIPermissionToken="/ReleaseManagementUI";n.ReleaseManagementSecurityNamespaceId="C788C23E-1B46-4162-8F5E-D7585343B5DE";n.ReleaseManagementUISecurityNamespaceId="7c7d32f7-0e86-4cd6-892e-b35dbba870bd";n.ReleaseManagementServiceInstanceId="0000000d-0000-8888-8000-000000000000"}(iu=t.CommonSecurityConstants||(t.CommonSecurityConstants={}));t.ReleasesHub="Release";t.BuildsHub="Build";i.tfsModuleLoaded("TFS.ReleaseManagement.Types",t)});

define("PipelineWorkflow/Scripts/Common/Types",["require","exports","ReleaseManagement/Core/Constants","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types"],function(n,t,i,r,u){var o,f,e,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.PipelineDefinitionRequestCreationSource_Type=u.ReleaseDefinitionCreationSource;t.PipelineDefinitionSource=r.ReleaseDefinitionSource;t.PipelineTriggerType=r.ReleaseTriggerType;t.PipelineEnvironmentTriggerConditionType=r.ConditionType;t.PipelineEnvironmentTriggerTypeConstants=u.EnvironmentDeploymentConditionsTriggerTypeConstants;t.PipelineEnvironmentTriggerConditionEnvironmentStatus=r.EnvironmentStatus;t.PipelineConstants=u.ReleaseDefinitionConstants;t.PipelineArtifactConstants=u.ArtifactDefaultVersionConstants;t.PipelineArtifactTypes=u.ArtifactTypes;t.PipelineArtifactDefinitionConstants=i.ArtifactDefinitionConstants;t.PipelineStringConstants=u.StringConstants;t.PipelineRunOptionsConstants=i.RunOptionsConstants;t.PipelineReleaseEditorActions=u.ReleaseEditorAction;t.PipelineDefinitionDesignerActions=u.DefinitionDesignerActions;t.EnvironmentSummaryAction=u.EnvironmentSummaryAction;t.PipelineExtensionAreas=u.ExtensionArea;t.PipelineArtifactDownloadInputConstants=i.ArtifactDownloadInputConstants;t.PipelineDeployPhaseTypes=r.DeployPhaseTypes;t.ReleaseDefinitionQueryOrder=r.ReleaseDefinitionQueryOrder;t.ReleaseDefinitionExpands=r.ReleaseDefinitionExpands;t.PipelineDefinitionContractMetadata=r.TypeInfo.ReleaseDefinition;t.PipelineAuthorizationHeaderType=r.AuthorizationHeaderFor;t.ReleaseDeploymentStatus=r.DeploymentStatus;t.ReleaseOperationStatus=r.DeploymentOperationStatus;t.ReleaseStatus=r.ReleaseStatus;t.ReleaseQueryOrder=r.ReleaseQueryOrder;t.PipelineReleaseCreationSourceConstants=u.ReleaseCreationSource,function(n){n.CanceledBeforeExecution="CanceledBeforeExecution";n.CanceledDuringExecution="CanceledDuringExecution";n.Cancelling="Cancelling";n.Deferred="Deferred";n.Failed="Failed";n.InProgress="InProgress";n.ManualInterventionPending="ManualInterventionPending";n.NotDeployed="NotDeployed";n.PartiallySucceeded="PartiallySucceeded";n.PostApprovalPending="PostApprovalPending";n.PostApprovalRejected="PostApprovalRejected";n.PreApprovalPending="PreApprovalPending";n.PreApprovalRejected="PreApprovalRejected";n.Queued="Queued";n.QueuedForAgentBeforeDeploy="QueuedForAgentBeforeDeploy";n.QueuedForPipelineBeforeDeploy="QueuedForPipelineBeforeDeploy";n.QueuedForAgentDuringDeploy="QueuedForAgentDuringDeploy";n.QueuedForPipelineDuringDeploy="QueuedForPipelineDuringDeploy";n.Scheduled="Scheduled";n.Succeeded="Succeeded";n.TaskFailedOrManualInterventionRejected="TaskFailedOrManualInterventionRejected";n.EvaluatingPreDeploymentGates="EvaluatingPreDeploymentGates";n.PreDeploymentGatesFailed="PreDeploymentGatesFailed";n.EvaluatingPostDeploymentGates="EvaluatingPostDeploymentGates";n.PostDeploymentGatesFailed="PostDeploymentGatesFailed";n.EvaluatingGatesPhase="EvaluatingGatesPhase";n.Undefined="Undefined"}(o=t.ComputedDeploymentStatus||(t.ComputedDeploymentStatus={}));f=function(){function n(){}return n.automaticApprovalTypeKey="automatic-approval",n.manualApprovalTypeKey="manual-approval",n}();t.ApprovalTypeKeys=f;e=function(){function n(){}return n.anyOrderKey="any-order",n.sequentialOrderKey="sequential-order",n.anyOneUserKey="any-one-user",n}();t.ApprovalOrderKeys=e,function(n){n.PreDeploy="PreDeploy";n.PostDeploy="PostDeploy";n.Deploy="Deploy"}(s=t.GatesType||(t.GatesType={})),function(n){n[n.Include=1]="Include";n[n.Exclude=2]="Exclude"}(h=t.FilterOption||(t.FilterOption={}))});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListModel",["require","exports","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Common/Types","ReleaseManagement/Core/Contracts","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(){this._environmentList=[];this._idToInstanceIdMap={}}return n.prototype.getEnvironmentList=function(){var n=[];return i.JQueryWrapper.extendDeep(n,this._environmentList),n},n.prototype.getEnvironmentInstanceId=function(n){return this._idToInstanceIdMap[n]},n.prototype.addEnvironment=function(n,t){this._environmentList.push(n);this._idToInstanceIdMap[n.id]=t},n.prototype.deleteEnvironment=function(n){for(var i=-1,r=this._environmentList.length,t=0;t<r;t++)if(this._environmentList[t].id===n){i=t;break}i>-1&&(this._environmentList.splice(i,1),delete this._idToInstanceIdMap[n])},n.prototype.replaceId=function(n,t,i){var r=this._idToInstanceIdMap[t];if(r!==n)throw new Error("Instance id does not match for id: "+t);else delete this._idToInstanceIdMap[t],this._idToInstanceIdMap[i]=n},n.prototype.getEnvironmentIdFromInstanceId=function(n){var r,i=this._environmentList,u,t,f;if(i)for(u=i.length,t=0;t<u;t++)if(f=i[t].id,this._idToInstanceIdMap[f]===n){r=i[t].id;break}return r},n.prototype.updateEnvironmentList=function(n){var t,i,r;if(n.length===this._environmentList.length){for(t=0,i=n;t<i.length;t++)if(r=i[t],!this._idToInstanceIdMap[r.id])throw new Error("Environment with id "+r.id+" cannot be found");this._environmentList=n}else throw new Error("Number of environments to update should match");},n.prototype.getEnvironmentIdNameMap=function(){var n={};return this._environmentList&&this._environmentList.length>0&&this._environmentList.forEach(function(t){n[t.id]=t.name}),n},n.prototype.getEnvironmentNameIdMap=function(){var n={};return this._environmentList&&this._environmentList.length>0&&this._environmentList.forEach(function(t){t&&(n[t.name.toLocaleLowerCase()]=t.id)}),n},n.prototype.getEnvironmentConnections=function(n){return n===void 0&&(n=!1),this.getEnvironmentConnectionsFromEnvironments(this._environmentList,n)},n.prototype.getEnvironmentConnectionsFromEnvironments=function(n,t){var u=this,i;return(t===void 0&&(t=!1),i={},!n||n.length===0)?i:(n.forEach(function(n){var c=u.getEnvironmentInstanceId(n.id),o,e,s,h;if(u._getDependentEnvironmentIds(n,t).forEach(function(n){var t=u.getEnvironmentInstanceId(n);i[t]||(i[t]={});i[t][c]=!0}),n.conditions){for(o=!1,e=0,s=n.conditions;e<s.length;e++)if(h=s[e],h.conditionType===r.PipelineEnvironmentTriggerConditionType.Event&&h.name===r.PipelineEnvironmentTriggerTypeConstants.ReleaseStarted){o=!0;break}o&&(i[f.empty]||(i[f.empty]={}),i[f.empty][c]=!0)}}),i)},n.prototype.getEnvironmentsData=function(){var t=this,n=[];return this._environmentList.forEach(function(i){n.push({environment:i,instanceId:t._idToInstanceIdMap[i.id]})}),n},n.prototype._getDependentEnvironmentIds=function(n,t){var r,h,f,e,i,o,s;if(t===void 0&&(t=!1),r=[],h=this.getEnvironmentNameIdMap(),n.conditions)for(f=0,e=n.conditions;f<e.length;f++)if(i=e[f],i.conditionType===u.ConditionType.EnvironmentState)if(o=i,t)if(s=h[i.name.toLocaleLowerCase()],s)r.push(s);else throw Error("There is no environment with name in the environment list: "+i.name);else if(o.environmentId)r.push(o.environmentId);else throw Error("Environment trigger condition should contain the environment id (converted to string)");return r},n}();t.EnvironmentListModel=e});

define("PipelineWorkflow/Scripts/Shared/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.PipelineConstant_phaseinput_artifactdownloadinput="phaseinput_artifactdownloadinput";n.PipelineConstant_phaseinput_outputVariable="phaseinput_outputVariablesInput"}(i=t.SharedConstants||(t.SharedConstants={})),function(n){n.EnvironmentList="SharedStore_EnvironmentList";n.Environment="SharedStore_Environment";n.EnvironmentsCanvasViewStore="SharedStore_EnvironmentsCanvasViewStore";n.ProcessStore="SharedStore_ProcessStore";n.DeployPipelineEnvironmentApprovalPoliciesStoreKey="STORE_KEY_DEPLOY_PIPELINE_ENVIRONMENT_APPROVAL_POLICIES_STORE"}(r=t.SharedStoreKeys||(t.SharedStoreKeys={})),function(n){n.EnvironmentList="SharedActions_EnvironmentList";n.Environment="SharedActions_Environment";n.EnvironmentPostApprovalConditionsActionHub="ACTION_HUB_KEY_ENVIRONMENT_POST_APPROVAL_CONDITIONS_ACTION_HUB";n.EnvironmentPreApprovalConditionsActionHub="ACTION_HUB_KEY_ENVIRONMENT_PRE_APPROVAL_CONDITIONS_ACTION_HUB";n.EnvironmentApprovalPoliciesActionHub="ACTION_HUB_KEY_ENVIRONMENT_APPROVAL_POLICIES_ACTION_HUB";n.TaskTabActionHub="ACTION_HUB_KEY_DEPLOYMENT_TASK_TAB_ACTION_HUB"}(u=t.SharedActionKeys||(t.SharedActionKeys={})),function(n){n.EnvironmentList="SharedActionCreator_EnvironmentList";n.Environment="SharedActionCreator_Environment";n.EnvironmentPostApprovalConditionsActionCreator="ACTION_CREATOR_KEY_ENVIRONMENT_POST_APPROVAL_CONDITIONS_ACTION_CREATOR";n.EnvironmentPreApprovalConditionsActionCreator="ACTION_CREATOR_KEY_ENVIRONMENT_PRE_APPROVAL_CONDITIONS_ACTION_CREATOR";n.EnvironmentApprovalPoliciesActionCreator="ACTION_CREATOR_KEY_ENVIRONMENT_APPROVAL_POLICIES_ACTION_CREATOR";n.TaskTabActionCreator="ACTION_CREATOR_KEY_TASK_TAB_ACTION_CREATOR"}(f=t.SharedActionCreatorKeys||(t.SharedActionCreatorKeys={})),function(n){n.EnvironmentTriggerView="ENV_TRIGGER_VIEW";n.EnvironmentPreDeploymentGatesView="ENV_PRE_DEPLOYMENT_GATES_VIEW";n.EnvironmentPreApprovalView="ENV_PRE_APR_COMP";n.QueueSettingsView="QUE_SETTINGS"}(e=t.PreDeploymentConditionsViewComponents||(t.PreDeploymentConditionsViewComponents={})),function(n){n.EnvironmentPostDeploymentGatesView="ENV_POST_DEPLOYMENT_GATES_VIEW";n.EnvironmentPostApprovalView="ENV_POST_APR_COMP";n.EnvironmentAutoRedeployTriggerView="ENV_AUTO_RDP_TRG_VIEW"}(o=t.PostDeploymentConditionsViewComponents||(t.PostDeploymentConditionsViewComponents={}))});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Shared/Constants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.SharedActionKeys.EnvironmentList},t.prototype.initialize=function(){this._initializeEnvironmentList=new i.Action;this._updateExistingEnvironmentList=new i.Action;this._refreshEnvironmentList=new i.Action},Object.defineProperty(t.prototype,"initializeEnvironmentList",{get:function(){return this._initializeEnvironmentList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateExistingEnvironmentList",{get:function(){return this._updateExistingEnvironmentList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshEnvironmentList",{get:function(){return this._refreshEnvironmentList},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.EnvironmentListActionsHub=u});

define("PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Shared/Constants"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.SharedActionKeys.Environment},t.prototype.initialize=function(){this._initializeEnvironment=new i.Action;this._updateExistingEnvironment=new i.Action},Object.defineProperty(t.prototype,"initializeEnvironment",{get:function(){return this._initializeEnvironment},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateExistingEnvironment",{get:function(){return this._updateExistingEnvironment},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.EnvironmentActionsHub=u});

define("PipelineWorkflow/Scripts/Shared/Environment/EnvironmentStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/AggregatorStoreBase","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionsHub"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleInitializeEnvironment=function(n){t._environment=n.environment},t._handleUpdateExistingEnvironment=function(n){if(!t._environment&&n.environment)throw new Error("Environment has not been initialized");if(n.environment&&t._environment.id!==n.environment.id)throw new Error("Environment should be updated with an environment of same id");t._environment=n.environment;t.emitChanged()},t}return __extends(t,n),t.getKey=function(){return u.SharedStoreKeys.Environment},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this.getActionsHub().initializeEnvironment.addListener(this._handleInitializeEnvironment);this.getActionsHub().updateExistingEnvironment.addListener(this._handleUpdateExistingEnvironment)},t.prototype.disposeInternal=function(){this.getActionsHub().initializeEnvironment.removeListener(this._handleInitializeEnvironment);this.getActionsHub().updateExistingEnvironment.removeListener(this._handleUpdateExistingEnvironment);n.prototype.disposeInternal.call(this)},t.prototype.getActionsHub=function(){return i.ActionsHubManager.GetActionsHub(f.EnvironmentActionsHub,this.getInstanceId())},t.prototype.updateVisitor=function(){},t.prototype.getEnvironment=function(){return this._environment},t.prototype.getEnvironmentId=function(){return this._environment?this._environment.id:0},t.prototype.updateEnvironment=function(n){this._environment=n},t}(r.AggregatorDataStoreBase);t.EnvironmentStore=e});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListStore",["require","exports","VSS/Diag","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/ListDataStoreBase","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/StoreManager","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListModel","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionsHub","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentStore"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._handleInitializeEnvironmentList=function(r){var e,u,s,f;if(t._environments=r.environmentList,i.logVerbose("EnvironmentListStore environmentList payload recvd instanceID "+t.getInstanceId()),t._environments){for(t._environmentListModel=new o.EnvironmentListModel,e=[],u=0,s=t._environments;u<s.length;u++)f=s[u],e.push(t.getEnvironmentStore(f.id.toString())),t._environmentListModel.addEnvironment(f,f.id.toString());n.prototype.initializeListDataStore.call(t,e)}},t._handleRefreshEnvironmentList=function(n){t._handleInitializeEnvironmentList(n);t.emitChanged()},t._handleUpdateExistingEnvironmentList=function(n){t._environments=n.environmentList;t._environments&&t._environmentListModel.updateEnvironmentList(t._environments)},t}return __extends(t,n),t.getKey=function(){return s.SharedStoreKeys.EnvironmentList},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._environmentListActions=r.ActionsHubManager.GetActionsHub(h.EnvironmentListActionsHub,t);this._environmentListActions.initializeEnvironmentList.addListener(this._handleInitializeEnvironmentList);this._environmentListActions.updateExistingEnvironmentList.addListener(this._handleUpdateExistingEnvironmentList);this._environmentListActions.refreshEnvironmentList.addListener(this._handleRefreshEnvironmentList)},t.prototype.disposeInternal=function(){this._environmentListActions.initializeEnvironmentList.removeListener(this._handleInitializeEnvironmentList);this._environmentListActions.updateExistingEnvironmentList.removeListener(this._handleUpdateExistingEnvironmentList);this._environmentListActions.refreshEnvironmentList.removeListener(this._handleRefreshEnvironmentList);n.prototype.disposeInternal.call(this)},t.prototype.updateVisitor=function(n){this.getDataStoreList().forEach(function(t){var i=f.JQueryWrapper.extendDeep({},null);t.updateVisitor(i);n.push(i)})},t.prototype.getEnvironmentConnections=function(){return(i.logVerbose("EnvironmentListStore someone asking for connections instanceID "+this.getInstanceId()),!this._environmentListModel)?(i.logVerbose("EnvironmentListStore but returned empty instanceID "+this.getInstanceId()),{}):this._environmentListModel.getEnvironmentConnections(!0)},t.prototype.getEnvironmentsData=function(){return this._environmentListModel?this._environmentListModel.getEnvironmentsData():[]},t.prototype.getEnvironmentStore=function(n){return e.StoreManager.GetStore(c.EnvironmentStore,n)},t}(u.ListDataStoreBase);t.EnvironmentListStore=l});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.StoreKey_CreateReleaseStoreKey="STORE_KEY_CREATE_RELEASE_STORE";n.ActionsCreatorKey_CreateReleaseActionsCreator="ACTIONS_CREATOR_KEY_CREATE_RELEASE_ACTIONS_CREATOR";n.ActionHubKey_CreateReleaseActionHub="ACTION_HUB_KEY_CREATE_RELEASE_ACTION_HUB"}(i=t.CreateReleaseKeys||(t.CreateReleaseKeys={})),function(n){n.StoreKey_BuildVersionPickerStoreKey="STORE_KEY_BUILD_VERSION_PICKER_STORE";n.ActionsCreatorKey_BuildVersionPickerActionsCreator="ACTIONS_CREATOR_KEY_BUILD_VERSION_PICKER_ACTIONS_CREATOR";n.ActionHubKey_BuildVersionPickerActionHub="ACTION_HUB_KEY_BUILD_VERSION_PICKER_ACTION_HUB"}(r=t.CreateReleaseVersionPickerKeys||(t.CreateReleaseVersionPickerKeys={})),function(n){n.CreateReleasePanelInstanceId="CanvasSelector_CreateReleasePanel";n.CreateReleaseEnvironmentCanvasItemSelectionInstanceId="CreateRelease_EnvironmentCanvas_ItemSelection"}(u=t.CreateReleasePanelInstances||(t.CreateReleasePanelInstances={})),function(n){n.compactEnvironmentNodeHeight=30;n.compactEnvironmentNodeWidth=108;n.gridCellWidth=5;n.gridCellHeight=5;n.createReleaseEnvironmentCanvasVerticalMargin=35;n.createReleaseEnvironmentCanvasVerticalMarginSmall=20;n.createReleaseEnvironmentCanvasHorizontalMargin=60;n.createReleaseEnvironmentCanvasHorizontalMarginSmall=30;n.createReleaseEnvironmentCanvasLeftMargin=60}(f=t.CreateReleaseEnvironmentNodeConstants||(t.CreateReleaseEnvironmentNodeConstants={})),function(n){n.createReleaseAction="createRelease";n.authorizeDeploymentAction="authorizeDeployment";n.updateReleaseAction="updateRelease";n.initializeDefinitionAction="initializeDefinition";n.initializeArtifactVersionsAction="initializeArtifactVersions";n.initializeEnvironmentPhaseWarningAction="initializeEnvironmentPhaseWarning";n.initializeEnvironmentEndpointsAction="initializeEnvironmentEndpoints";n.initializeOverridableVariablesAction="initializeOverridableVariables";n.initializeVersionPickerContributionsAction="initializeVersionPickerContributions"}(e=t.CreateReleaseProgressIndicatorAction||(t.CreateReleaseProgressIndicatorAction={})),function(n){n.branchNamePrefix="refs/heads/";n.repoTypeTfsGit="TfsGit"}(o=t.CreateReleaseArtifactConstants||(t.CreateReleaseArtifactConstants={}))});

define("DistributedTaskControls/Common/Telemetry",["require","exports","DistributedTaskControls/Common/Factory","VSS/Telemetry/Services"],function(n,t,i,r){var f,e,o,u,c,s,h;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.DefaultArea="Dtc-Default-Temeletry-Area"}(f=t.TelemetryConstants||(t.TelemetryConstants={}));e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.setArea=function(n){this._area=n},t.prototype.publishEvent=function(n,t,i,e,o,s){e===void 0&&(e=!1);this._area=this._area||f.DefaultArea;t=t||{};i&&(t[u.Source]=i);r.publishEvent(new r.TelemetryEventData(this._area,n,t,o,s),e)},t}(i.Singleton);t.Telemetry=e;o=function(){function n(){}return n.CreateProcessParameter="CreateProcessParameter",n.LinkToProcessParameter="LinkToProcessParameter",n.LinkPicklistAsProcessParameter="LinkPicklistAsProcessParameter",n.UnlinkProcessParameterFromDialog="UnlinkProcessParameterFromDialog",n.UnlinkToProcessParameter="unlinkToProcessParameter",n.UnlinkAllProcessParameters="UnlinkAllProcessParameters",n.CommandBar="commandBar",n.AddTask="addTask",n.MarketplaceExtensionInstallButtonClicked="marketplaceExtensionInstallButtonClicked",n.MarketplaceExtensionLearnMoreButtonClicked="marketplaceExtensionLearnMoreButtonClicked",n.MarketplaceExtensionLoad="marketplaceExtensionLoad",n.TasksLoad="tasksLoad",n.TasksFailed="tasksFailed",n.MarketplaceExtensionFailed="marketplaceExtensionFailed",n.EMSExtensionFailed="emsExtensionFailed",n.MarketplaceExtensionInSearch="marketplaceExtensionInSearch",n.RefreshTask="refreshTask",n.TaskTab="TaskTab",n.RemoveTask="removeTask",n.CloneTask="cloneTask",n.ViewAsYaml="viewAsYaml",n.CopyYaml="copyYaml",n.EnableTask="enableTask",n.DisableTask="disableTask",n.CreateTaskGroup="createTaskGroup",n.ManageTaskGroup="manageTaskGroup",n.ScreenProperties="screenProperties",n.AddPhase="addPhase",n.AddServiceConnection="addServiceConnection",n.AddServiceConnectionSuccess="addServiceConnectionSuccess",n.TaskGroupCreationBlockedDueToProcessParam="TaskGroupCreationBlockedDueToProcessParam",n.FolderBreadcrumb="folderBreadcrumb",n.VariableGroups="variableGroups",n.MoveTask="moveTask",n.MovePhase="movePhase",n.Variables="variables",n.VariablesViewChange="variablesViewChange",n.VariablesDefaultFilterChange="variablesDefaultFilterChange",n.VariablesTabClick="variablesTabClick",n.VariablesItemClick="variablesItemClick",n.TemplatesInSearch="templatesInSearch",n.ViewIssuesInPanel="viewIssuesInPanel",n.TaskNotInstalled="taskNotInstalled",n.NotInstalledTaskInCall="notInstalledTaskFoundInCall",n.EmptyProcessTemplate="emptyProcessTemplate",n.DeleteBuildTemplate="deleteBuildTemplate",n.SelectBuildTemplate="selectBuildTemplate",n.SaveBuildDefinition="saveBuildDefinition",n.SaveBuildDefinitionWithDirtyProcessParameters="saveBuildDefinitionWithDirtyProcessParameters",n.CloneBuildDefinition="cloneBuildDefinition",n.PublishDraftBuildDefinition="publishDraftBuildDefinition",n.SaveAsDraftBuildDefinition="saveAsDraftBuildDefinition",n.NewBuildDefinitionCreation="newBuildDefinitionCreation",n.QueueBuild="queueBuild",n.AdvancedSettings="advancedSettings",n.EditBuildDefinition="editBuildDefinition",n.SaveReleaseDefinition="saveReleaseDefinition",n.EditReleaseDefinition="editReleaseDefinition",n.ImportReleaseDefinition="importReleaseDefinition",n.CloneReleaseDefinition="cloneReleaseDefinition",n.RevertReleaseDefinition="revertReleaseDefinition",n.NewReleaseDefinitionCreation="newReleaseDefinitionCreation",n.NewReleaseDefinitionTemplateSelection="newReleaseDefinitionTemplateSelection",n.NewEnvironmentTemplateSelection="newEnvironmentTemplateSelection",n.AddNewEnvironment="addNewEnvironment",n.CloneEnvironment="cloneEnvironment",n.DeleteEnvironment="deleteEnvironment",n.QueueRelease="queueRelease",n.CreateReleasePanelQueueRelease="createReleasePanelQueueRelease",n.EnvironmentTriggerCondition="environmentTriggerCondition",n.EnvironmentTriggerConditionsUpdate="environmentTriggerConditionsUpdate",n.EnvironmentScheduleTriggerToggle="environmentScheduleTriggerToggle",n.EnvironmentNameUpdate="environmentNameUpdate",n.EnvironmentOwnerUpdate="environmentOwnerUpdate",n.ContinuosDeploymentTriggerToggle="continuosDeploymentTriggerToggle",n.ReleaseScheduleTriggerToggle="releaseScheduleTriggerToggle",n.EnvironmentNavigationFromCanvas="environmentNavigationFromCanvas",n.EnvironmentNavigationFromPivot="environmentNavigationFromPivot",n.PreDeploymentApprovalType="preDeploymentApprovalType",n.PostDeploymentApprovalType="postDeploymentApprovalType",n.AddNewArtifact="addNewArtifact",n.RemoveArtifact="removeArtifact",n.OpenEnvironmentSecurityDialog="openEnvironmentSecurityDialog",n.SaveEnvironmentAsTemplate="saveEnvironmentAsTemplate",n.ArtifactInputModified="artifactInputModified",n.EnvironmentRankUpdated="environmentRankUpdated",n.ReleaseProgressBreadcrumb="releaseProgressBreadcrumb",n.ReleaseProgressView="releaseProgressView",n.ReleaseProgressViewUserRefresh="releaseProgressViewUserRefresh",n.ManualIntervention="manualIntervention",n.DeploymentGroupPhaseView="deploymentGroupPhaseView",n.CanvasKeyboardAccess="canvasKeyboardAccess",n.ReleaseSummaryView="releaseSummaryView",n.ReleasePreApprovalsPanel="releasePreApproval",n.ReleasePostApprovalsPanel="releasePostApproval",n.CommitsWorkItemsInsights="commitsWorkItemsInsights",n.ReleaseProgressVariablesEdit="releaseProgressVariablesEdit",n.EnvironmentAction="environmentAction",n.EnvironmentCancel="environmentCancel",n.EnvironmentDeploy="environmentDeploy",n.MultipleEnvironmentsDeploy_OpenPanel="multipleEnvironmentsDeployOpenPanel",n.MultipleEnvironmentsDeploy_Action="multipleEnvironmentsDeployAction",n.MultipleEnvironmentsApprove_OpenPanel="multipleEnvironmentsApproveOpenPanel",n.MultipleEnvironmentsApprove_Action="multipleEnvironmentsApproveAction",n.ReleaseAbandon="releaseAbandon",n.InnerFocusZoneAccess="innerFocusZoneAccess",n.DeleteEnvironmentTemplate="deleteEnvironmentTemplate",n.PermissionIndicator="permissionIndicator",n.PermissionDeniedError="permissionDeniedError",n.CanvasDimensions="canvasDimensions",n.InterspersedManualEnvironments="interspersedManualEnvironments",n.MoveEnvironments="moveEnvironments",n.EnvironmentDetailsPanel="environmentDetailsPanel",n.SettableAtReleaseTime="settableAtReleaseTime",n.Contributions="contributions",n.ExtensionInvokedForContribution="extensionInvokedForContribution",n.SaveReleaseAction="saveReleaseAction",n.EditReleaseAction="editReleaseAction",n.DiscardReleaseAction="discardReleaseAction",n.OldReleaseView="navigateOldReleaseView",n.ReleaseProgressHelpDialog="releaseProgressHelpDialog",n.SignalR="signalR",n.SearchableDropDown="searchableDropDown",n.ArtifactVersionInputMethod="ArtifactVersionInputMethod",n}();t.Feature=o;u=function(){function n(){}return n.Source="source",n.InputName="inputName",n.InputType="inputType",n.IsExistingProcessParameter="isExistingProcessParameter",n.Length="length",n.TemplateId="templateId",n.TemplateName="templateName",n.TemplateCategory="templateCategory",n.GroupId="groupId",n.ActionName="actionName",n.DraftDefinition="draftDefinition",n.TasksCount="tasksCount",n.BuildDefinitionId="buildDefinitionId",n.ProcessParameterCount="processParameterCount",n.VariablesCount="variablesCount",n.SourceVersionType="sourceVersionType",n.CustomDemandsCount="customDemandsCount",n.RetentionRulesCount="retentionRulesCount",n.TriggersInfo="triggersInfo",n.TaskCategory="taskCategory",n.TaskName="taskName",n.ExtensionName="extensionName",n.PositionInSet="positionInSet",n.SizeOfSet="sizeOfSet",n.TaskId="taskId",n.TaskDefinitionType="taskDefinitionType",n.TaskRefName="taskRefName",n.TaskVersionSpec="taskVersionSpec",n.SelectedCategoryTab="selectedCategoryTab",n.SelectedTasksLength="selectedTasksLength",n.ViewYamlArtifact="viewYamlArtifact",n.VariableParameters="variableParameters",n.FilterText="filterText",n.SourceDataChangedForDraft="sourceDataChangedForDraft",n.WindowOuterHeight="windowOuterHeight",n.WindowOuterWidth="windowOuterWidth",n.ScreenHeight="screenHeight",n.ScreenWidth="screenWidth",n.ScreenAvailHeight="screenAvailHeight",n.ScreenAvailWidth="screenAvailWidth",n.PixelDepth="pixelDepth",n.ColorDepth="colorDepth",n.BrowserZoomLevel="browserZoomLevel",n.PhaseType="phaseType",n.EnvironmentCount="environmentCount",n.ArtifactSourceTypes="artifactSourceTypes",n.ReleaseVariablesCount="releaseVariablesCount",n.EnvironmentVariablesCount="environmentVariablesCount",n.VariableGroupCount="variableGroupCount",n.ReleaseDefinitionId="releaseDefinitionId",n.PhasesCount="phasesCount",n.EnvironmentSelected="environmentSelected",n.CanQueueRelease="canQueueRelease",n.TriggerTab="triggerTab",n.TriggerConditionsCount="triggerConditionsCount",n.ToggleState="toggleState",n.ApprovalType="approvalType",n.ServiceEndpointType="serviceEndpointType",n.ServiceEndpointAuthScheme="serviceEndpointAuthScheme",n.SourcesCleanOption="cleanOption",n.FolderPath="folderPath",n.ReadOnlyDemandsCount="readOnlyDemandsCount",n.ArtifactType="artifactType",n.DefinitionDescriptionSet="descriptionSet",n.ReportStatusEnabled="reportStatusEnabled",n.IntegrateJiraWorkItemsEnabled="integrateJiraWorkItemsEnabled",n.AutoLinkWorkItemsEnabled="autoLinkWorkItemsEnabled",n.RetentionPoliciesChanged="retentionPoliciesChanged",n.ArtifactInputId="artifactInputId",n.KeyCode="keyCode",n.OpenLinkVariableGroupPanel="openLinkVariableGroupPanel",n.LinkVariableGroup="LinkVariableGroup",n.UnlinkVariableGroup="UnlinkVariableGroup",n.TaskAccepted="TaskAccepted",n.permissionIndicatorType="permissionIndicatorType",n.permissionToken="permissionToken",n.permissionIndicatorSource="permissionIndicatorSource",n.permissionIndictorOnVariablesCount="permissionIndicatorOnVariablesCount",n.permissionDeniedErrorMessage="permissionDeniedErrorMessage",n.selectedPivotView="selectedPivotView",n.selectedTab="selectedTab",n.extensionStatus="extensionStatus",n.filterByKeyword="filterByKeyword",n.filterByScope="filterByScope",n.editVariableInListView="editVariableInListView",n.editVariableInGridView="editVariableInGridView",n.emptyVariableRows="emptyVariableRows",n.variablesItemType="variablesItemType",n.isEditMode="isEditMode",n.progressView="progressView",n.EnvironmentsInProgress="environmentsInProgress",n.isADataProviderCall="isADataProviderCall",n.promiseStatus="promiseStatus",n.prefetchedTaskGuids="prefetchedTaskGuids",n.ReleaseToCompareId="releaseToCompareId",n.ExcecutionTime="executionTime",n.canvasRowCount="canvasRows",n.canvasColumnCount="canvasColumns",n.DefinitionCreationSource="DefinitionCreationSource",n.ReleaseCreationSource="ReleaseCreationSource",n.interspersedManualEnvironmentCount="interspersedManualEnvironmentCount",n.sizeOfEachInterspersedManualEnvironment="sizeOfEachInterspersedManualEnvironment",n.autoSaveDescriptionCount="autoSaveDescriptionCount",n.addTagCount="addTagCount",n.deleteTagCount="deleteTagCount",n.ToggledEnvironmentsCount="toggledEnvironmentsCount",n.EnvironmentToggledByCanvas="environmentToggledByCanvas",n.EnvironmentToggledByPicklist="environmentToggledByPicklist",n.DescriptionAdded="descriptionAdded",n.OverridableReleaseVariables="totalOverridableReleaseVariables",n.OverridableEnvironmentVariables="totalOverridableEnvironmentVariables",n.OverridenReleaseVariables="overriddenReleaseVariables",n.OverridenEnvironmentVariables="overriddenEnvironmentVariables",n.Action="action",n.ReleaseId="releaseId",n.ReleaseName="releaseName",n.EnvironmentId="environmentId",n.EnvironmentName="environmentName",n.EnvironmentDefinitionId="environmentDefinitionId",n.EnvironmentStatus="environmentStatus",n.IsRollback="isRollback",n.IsCommentPresent="isCommentPresent",n.IsRedeploy="isRedeploy",n.IsCommandbarAction="isCommandbarAction",n.ApplicableEnvironmentsCount="ApplicableEnvironmentsCount",n.DeployedEnvironmentsCount="DeployedEnvironmentsCount",n.ApprovalEnvironmentsCount="ApprovalEnvironmentsCount",n.actionClickTarget="actionClickTarget",n.moveDirection="moveDirection",n.sourceEnvironmentCount="sourceEnvironmentCount",n.targetEnvironmentCount="targetEnvironmentCount",n.environmentPropertiesSelectedTab="environmentPropertiesSelectedTab",n.rollbackScenario="rollbackScenario",n.commitsOrWorkItems="commitsOrWorkItems",n.specialCaseMessage="specialCaseMessage",n.artifactType="artifactType",n.contributionId="contributionId",n.extensionCountOnContribution="extensionCountOnContribution",n.extensionIdsOnContribution="extensionIdsOnContribution",n.extensionInvokedId="extensionInvokedId",n.approveRejectIndicator="approveRejectIndicator",n.approvalOverridden="approvalOverridden",n.approvalReassigned="approvalReassigned",n.approvalReassignedWithComment="approvalReassignedWithComment",n.deploymentDeferred="deploymentDeferred",n.containsOBOEnabledAuthorization="containsOBOEnabledAuthorization",n.approvalSource="approvalSource",n.phaseIssuesErrorCount="phaseIssuesErrorCount",n.phaseIssuesWarningCount="phaseIssuesWarningCount",n.breadcumbItem="breadcumbItem",n.view="view",n.helpDismissedTarget="helpDismissedTarget",n.selectedTabWhenDismissed="selectedTabWhenDismissed",n.viewLogsNavigation="viewLogsNavigation",n.manualInterventionResumeRejectSource="manualInterventionResumeRejectSource",n.manualInterventionPanelSourceLogs="manualInterventionPanelSourceLogs",n.manualInterventionStatus="manualInterventionStatus",n.isUserHavingPermissions="isUserHavingPermissions",n.forceUpdateTriggered="forceUpdateTriggered",n.Jobstate="jobstate",n.MachineCount="machineCount",n.MachineState="machineState",n.IsVersionManuallyEntered="IsVersionManuallyEntered",n.AreVersionsAvailable="AreVersionsAvailable",n}();t.Properties=u,function(n){n.pipelineTab="pipelineTab";n.tasksTab="tasksTab";n.retentionTab="retentionTab";n.releaseDefinition="releaseDefinition";n.variablesTab="variablesTab"}(c=t.PermissionIndicatorSource||(t.PermissionIndicatorSource={}));s=function(){function n(){}return n.ContextMenu="contextMenu",n.CommandButton="commandButton",n.DragAndDrop="dragAndDrop",n.Keyboard="keyboard",n.Hover="hover",n.MenuItem="menuItem",n}();t.Source=s;h=function(){function n(){}return n.Approved="approved",n.Rejected="rejected",n}();t.ApproveRejectIndicator=h});

define("DistributedTaskControls/Variables/Common/Actions/VariablesActionCreatorBase",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Telemetry"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.updateVariableKey=function(n){this.getActionsHub().updateVariableKey.invoke(n)},t.prototype.updateVariableValue=function(n){this.getActionsHub().updateVariableValue.invoke(n);this._publishTelemetry()},t.prototype.deleteVariable=function(n){this.getActionsHub().deleteVariable.invoke(n)},t.prototype.addVariable=function(n){this.getActionsHub().addVariable.invoke(n)},t.prototype._publishTelemetry=function(){var n={};n[r.Properties.editVariableInListView]=!0;r.Telemetry.instance().publishEvent(r.Feature.Variables,n)},t}(i.ActionCreatorBase);t.VariablesActionCreatorBase=u});

define("DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesViewActions",["require","exports","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/Actions/ActionsBase","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._createProcessVariables=new u.Action;this._updateProcessVariables=new u.Action;this._sort=new u.Action;this._addScopedProcessVariables=new u.Action;this._cloneScopedProcessVariables=new u.Action;this._updateScope=new u.Action;this._deleteScope=new u.Action;this._resetViewIndexToDataIndexMap=new u.Action;this._setAutoFocusInFlatViewTable=new u.Action;this._getMenuItemContributions=new u.Action},t.getKey=function(){return i.VariableActionHubKeys.VariablesSection_ViewActionsHub},Object.defineProperty(t.prototype,"createProcessVariables",{get:function(){return this._createProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateProcessVariables",{get:function(){return this._updateProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addScopedProcessVariables",{get:function(){return this._addScopedProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneScopedProcessVariables",{get:function(){return this._cloneScopedProcessVariables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateScope",{get:function(){return this._updateScope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteScope",{get:function(){return this._deleteScope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetViewIndexToDataIndexMap",{get:function(){return this._resetViewIndexToDataIndexMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setAutoFocusInFlatViewTable",{get:function(){return this._setAutoFocusInFlatViewTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getMenuItemContributions",{get:function(){return this._getMenuItemContributions},enumerable:!0,configurable:!0}),t}(r.ActionsBase);t.ProcessVariablesViewActions=f});

define("DistributedTaskControls/Common/Sources/SourceBase",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.getKey=function(){throw new Error("This method needs to be implemented in derived classes");},n.prototype.__dispose=function(){this.disposeInternal()},n.prototype.disposeInternal=function(){},n}();t.SourceBase=i});

define("DistributedTaskControls/Common/Sources/SourceManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getSource=function(i){return n.getInstance.call(this,t).getObject(i,null)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t.prototype.onObjectCreated=function(){},t}(i.BaseManager);t.SourceManager=r});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("DistributedTaskControls/Sources/ContributionSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Service"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._extensionService=o.getService(e.ExtensionService),t}return __extends(t,n),t.getKey=function(){return"ContributionSource"},t.prototype.getContributions=function(n,t){return this._extensionService.getContributionsForTarget(n,t)},t.instance=function(){return r.SourceManager.getSource(t)},t.prototype.getAllEditorExtensions=function(n){if(!this._getAllEditorExtensionsPromise||!!n){var t=o.getService(e.ExtensionService).getContributionsForTarget("ms.vss-distributed-task.task-input-editors");this._getAllEditorExtensionsPromise=t.then(function(n){return n})}return this._getAllEditorExtensionsPromise},t.prototype.getContributionResult=function(n,t){if(n.id){var r=n.properties.registeredObjectId||n.id,i=__assign({},u.getDefaultWebContext());return i.options=t?__assign({},t):{},f.getBackgroundInstance(n,r,i)}},t.prototype.resolveTemplateString=function(n,t){return e.ExtensionHelper.resolveTemplateString(n,t)},t}(i.SourceBase);t.ContributionSource=s});

define("DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesActionCreator",["require","exports","DistributedTaskControls/Variables/Common/Actions/VariablesActionCreatorBase","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Variables/ProcessVariables/Actions/Actions","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesViewActions","DistributedTaskControls/Sources/ContributionSource"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._menuItemsPromiseMap={},t}return __extends(t,n),t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(u.ProcessVariablesActions,n);this._viewActions=r.ActionsHubManager.GetActionsHub(e.ProcessVariablesViewActions,n)},t.getKey=function(){return f.VariableActionCreatorKeys.VariablesSection_ActionCreator},t.prototype.getActionsHub=function(){return this._actions},t.prototype.getViewActionsHub=function(){return this._viewActions},t.prototype.createProcessVariables=function(n){this.getViewActionsHub().createProcessVariables.invoke(n);this.getActionsHub().createProcessVariables.invoke(n)},t.prototype.updateProcessVariables=function(n){this.getViewActionsHub().resetViewIndexToDataIndexMap.invoke({});this.getActionsHub().updateProcessVariables.invoke(n);this.getViewActionsHub().updateProcessVariables.invoke(n)},t.prototype.updateScopePermissions=function(n){this.getActionsHub().updateScopePermissions.invoke(n)},t.prototype.toggleEditMode=function(n){this.getActionsHub().toggleEditMode.invoke(n)},t.prototype.sort=function(n){this.getActionsHub().sort.invoke(n)},t.prototype.deleteVariable=function(n){this.getViewActionsHub().deleteVariable.invoke(n);this.getActionsHub().deleteVariable.invoke(n)},t.prototype.addVariable=function(n){this.getViewActionsHub().addVariable.invoke(n);this.getActionsHub().addVariable.invoke(n)},t.prototype.addScopedProcessVariables=function(n){this.getViewActionsHub().addScopedProcessVariables.invoke(n);this.getActionsHub().addScopedProcessVariables.invoke(n)},t.prototype.cloneScopedProcessVariables=function(n){this.getViewActionsHub().cloneScopedProcessVariables.invoke(n);this.getActionsHub().cloneScopedProcessVariables.invoke(n)},t.prototype.updateScope=function(n){this.getActionsHub().updateScope.invoke(n)},t.prototype.deleteScope=function(n){this.getViewActionsHub().deleteScope.invoke(n);this.getActionsHub().deleteScope.invoke(n)},t.prototype.getContributedMenuItems=function(n){var i=this,t=o.ContributionSource.instance();this._menuItemsPromiseMap[n]||(this._menuItemsPromiseMap[n]=t.getContributions(n));this._menuItemsPromiseMap[n].then(function(n){var r=n.map(function(n){return{key:n.id,name:n.properties.name||n.properties.text,href:n.properties.href,iconProps:n.properties.iconProps,onClick:function(i,r){r&&r.data&&t.getContributionResult(n).then(function(n){return n.execute(r.data.menuContext)})}}});i._viewActions.getMenuItemContributions.invoke(r)})},t}(i.VariablesActionCreatorBase);t.ProcessVariablesActionCreator=s});

define("PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow",["require","exports"],function(require,exports){var e=exports;e.DeploymentStatusViewRequestedForTitle="Requested for";e.RepositoryMismatchMessage="The current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e are from different repositories. This difference cannot be calculated.";e.NoRetentionText="There are no stages found for this release pipeline. Add a stage from the pipeline view before setting its retention policy.";e.CurrentlyDeployed="Currently deployed";e.OverallApprovalsNotDeployed="Deployment not started";e.SaveReleaseMessage="Do you want to save all changes to this release? Note that your changes apply only to this release, not the original release pipeline.";e.CompletedPhasesHeader="Jobs 1-{0}";e.ReassigningInProgress="Reassigning...";e.RenameFolderContextualMenuText="Rename folder";e.CommitsArtifactLatestArtifactComparisonHeaderInfoText="This list shows the difference in commits between this artifact and the previously-deployed artifact for this stage. If the current artifact pre-dates this release’s artifact, then the difference denotes the list of commits (negative) that will be rolled back when this artifact is deployed to this stage.";e.ReleaseDescriptionText="Release description";e.DSWFailingSince="Failing since";e.ReleaseCanvasRightPane="Release progress - right pane";e.GeneralText="General";e.DeploymentType="Deployment type";e.ARIALabelSaveAsTemplate="Save stage as template";e.ApprovalPolicyInfo_TimeoutWithinHours="{0} hours";e.ReleaseNameFormatInfo="Format mask that has been used to generate the release name.​ [More Information](https://go.microsoft.com/fwlink/?linkid=852585 )";e.DeploymentStatusWidgetReleaseDefinitionNameToolTip="Release pipeline: {0}";e.EnvironmentStatusReason_CanceledDuringExecutionFormat="Canceled by";e.ReleaseHelpApprovalsTabLabel="Pre- and post-deployment approvals and gates";e.PullRequestDeploymentNoTriggerWarning="This release definition is currently not configured to trigger pull request based releases. To configure, toggle on a pull request trigger in at least one of the added artifacts.";e.DSWTooltipBuildStatus="Build Status";e.TimelineStatus_QueuedForPipelineDescription="Waiting for running jobs to finish {0}";e.PreEnvironmentTriggerConditionHelpText="After all the selected stages are successfully deployed to, deployment to this stage will start. To deploy after selected stages are partially successful also, enable the trigger for \"partially successful\".";e.ArtifactFilters="Artifact filters";e.DeployEnvironment="Deploy stage";e.PublishDeploymentNoEnvironmentsSelected="You must select at least one stage";e.AutoRedeployTriggerNewTargetWithTags="New target with required tags is available";e.SelectedArtifactsDescription="{0} artifact\u0027s default version is {1} and {2}";e.FolderRenamed="Folder \u0027{0}\u0027 has been renamed to \u0027{1}\u0027.";e.DeployText="Deploy";e.SelectDefinitionText="Select a pipeline to view details";e.OptionsTabItemTitle="Options";e.AccessDeniedTooltip="You don\u0027t have permission to perform operation \u0027{0}\u0027";e.EnvironmentRankWarning="The stage order in releases will display the same order as shown in this pipeline. This order might be different from previous releases.";e.EnvironmentDeleted="Stage deleted";e.CancelDeploymentHeading="Cancel the deployment";e.GatesFailedTooltipFormat="{0} gates failed";e.GatesPendingText="Not started";e.AttemptNumberText="Attempt {0}";e.Timeline_NowAtNode_LoadingFailText="Failed to fetch current deployment details.";e.ArtifactsDisplayMessage="The artifacts published by each version will be available for deployment in release pipelines. The last successful version of \u003cb\u003e{0} \u003c/b\u003e";e.DeploymentGroupsIndicatorSucceededText="SUCCEEDED";e.EnvironmentDefaultNameText="Stage {0}";e.MoveUpText="Move up";e.NoLinkedArtifactsMessage="No artifact sources are linked to this release pipeline. Link artifacts from the pipeline tab.";e.AssociatedChangesText="Associated changes";e.ContinuousIntegrationTriggerHeaderText="Continuous deployment";e.RejectingButton="Rejecting...";e.EditApprovalsPermissionMessage="You do not have permissions to manage approvers for this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.CommitsCount="({0} commits)";e.NextText="Next";e.ApprovalOrderTypeAllUserSequentialOrderTitle="In sequence";e.TriggerForPartiallySucceededHelpText="Enable this option to start deployment even if the selected stages are partially successful.";e.ArtifactTriggerDisabledMessageForGitHub="Enabling the trigger will create a new release every time a Git push occurs to the selected repository.";e.WaitingOnManualInterventionCreatedOnText="Waiting on manual intervention {0}";e.EnvironmentTriggerChoiceGroupHelpText="Set the trigger that will start the deployment to this stage automatically. Select \"Release\" to deploy to the stage every time a new release is created. Use the \"Stage\" option to deploy after deployments to selected stages are successful. To allow only manual deployments, select \"Manual\".\u003cbr\u003e[Learn more](https://go.microsoft.com/fwlink/?linkid=852929)";e.PreDeploymentGatesFailed="Pre-deployment gates failed";e.EnvironmentErrorsAndWarnings="{0}, {1}";e.DefinitionScheduleTriggerDescription="Define schedules to trigger releases";e.EnvironmentStatusReason_WaitingForAgent="Waiting for an agent";e.ArtifactTriggerDescriptionForGitHub="GitHub: {0}";e.CannotModifyVariableGroupScope="You do not have edit permissions on this stage to modify the scope of the variable group.";e.MinimumSuccessDurationHelp="All gates must continuously be successful for this duration. 0 means deployment will proceed when all gates succeed in the same evaluation cycle.";e.ArtifactTriggerDisabledMessageForBuild="Enabling the trigger will create a new release every time a new build is available.";e.WaitingToStartEvaluation="Waiting to start evaluation";e.AbandonReleaseDialogContentText="Abandoning a release would render it unusable. No deployment can be made using this release again. Do you want to proceed?";e.ArtifactSourceTypeShowLess="Show less";e.ArtifactSourceTypeShowMore="{0} more artifact types";e.ZoomInEnvironments="Zoom in stages";e.DefinitionImportInvalidJson="Either exported JSON is not valid or it is not compatible with current product. Please export again and try importing again.";e.RollbackDeployMessage="Rolling back changes - You are deploying an older release. This might remove some work items and commits";e.BranchFilterAnyBranchText="Any branch";e.ReleaseNameFormatHelpText="Set the format for the default name of releases from this release pipeline. Use pre-defined variables to generate unique release names. [More information](https://go.microsoft.com/fwlink/?linkid=852585 )";e.GatesSuccessfulConditionText="All gates must be successful for one evaluation before the timeout of {0}";e.ActiveTabNoFavoritesText="No favorites yet";e.RetentionReleaseCountText="{0} good releases";e.ConfirmDiscardTitle="Confirm discard";e.TimelineDescriptionGatesFailedTimeoutPrefix="{0} gates failed";e.DSWDeploymentSuccess="Success";e.Searching="Searching...";e.EditVariablesPermissionMessage="You do not have permissions to modify variables for this stage. Changes will not be saved. ";e.ArtifactTriggerToggleHelpTextForBuild="Creates a release every time a new build is available.";e.EnvironmentStatusReason_TaskFailedReasonFormat="{0} task failed";e.FeaturedCategory="Featured";e.Environment="Stage";e.DSWLastDeployed="Latest deployed";e.EnvironmentsLabelInfoText="Select the stages";e.UnsupportedRepositoryMessage="The releases cannot be compared. Only releases of repository types TfsGit, TFVC and GitHub can be compared.";e.TagFilterHelpTextForAzureContainerRegistry="A release will be triggered only if the Azure Container Registry push tag matches the regular expression specified in the Tag input.\r\nIf no tag filter is specified, release will always be triggered.\u003cbr\u003e\r\nExamples:\u003cbr\u003e\r\n^latest$ - will trigger the release only if the tag is \u0026quot;latest\u0026quot;\r\nv1\u0026#92;.[0-9] - will trigger the release for tags like \u0026quot;v1.23\u0026quot;, \u0026quot;beta-v1.3-test\u0026quot; etc.\r\n[More information](https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference)";e.BuildInfoAriaLabel="The build number is {0}";e.EnvironmentStatusRejected="Rejected";e.AddEnvironmentDescription="Add a stage";e.SucceededText="Succeeded";e.TriggerChoiceGroupLabel="Select trigger";e.ReleaseHelpApproversTabDescription="Approvers and gates process can be monitored from the pipeline. Approvers and gates details are available with a single click on the environment\u0027s approval and gates icon.";e.WaitingManualInterventionDuration="Waiting";e.AriaLabelGatesStabilizationTimeUnit="The time unit for specifying a delay before evaluation";e.ApprovalTypeCalloutText="Choose automatic if you do not need any users to approve the deployment. Alternately, select specific users or groups to approve deployments to this stage.";e.WorkitemsCount="({0} work items)";e.NoReleasesFoundSecondaryText="You can create a new release manually or {0} to create it automatically";e.LatestFromBranchWithTags="Latest from branch: {0}; with tags: {1}";e.LatestFromAllBranchesAndNoTagsFilter="Latest from any branch";e.LastReleaseColumnData="{0} at {1}";e.VersionBranchCombinationText="Version";e.ReleaseHelpDeploymentLogs="deployments and logs";e.TestResultsAriaLabel="The test pass percentage is {0}";e.ApprovalCompletedText="Approved";e.CreateReleaseEnvironmentCanvasAriaLabel="Create a release stage canvas";e.TimeoutText="Timeout in {0}";e.DeploymentAriaLabel="Deployment status for build {0} and stage {1} is {2}. ";e.ReleaseHelpLogsTabDescription="The pipeline shows live updates for in-progress deployments, highlighting completed tasks for agent phases and - in the case of deployment group - target deployments. Single click access to a simplified view of the logs, with the focus on current action and failures.";e.ReleaseReportingInvalidReport="Invalid report";e.BranchFilterRequired="Specify branch filter";e.AbandonDialogEnvironmentsInProgress="Abandoning is not allowed when deployments are in-progress in any stage. Cancel stage(s) {0} and try again.";e.NoCommitsMessage="There is no difference in commits between the current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e.";e.AriaLabelGatesTimeoutUnit="The time unit for specifying the timeout after which gates fail";e.TargetNameLabel="Target:";e.ReassignedStatusFallbackText="Reassigned";e.ReleaseDefinitionFolderDeleted="Folder {0} and associated subfolders and pipelines have been deleted.";e.SkippedText="Skipped";e.CreateFolderContextualMenuOptionText="New folder";e.NoOfParallelDeployementLabel="Number of parallel deployments";e.TimelineDescriptionRejectedPrefix="Rejected";e.ArtifactsDisplayMessageLatestWithBranchAndNoTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e";e.DeleteFolderConfirmationMessage="Are you sure you want to delete folder {0} and all its associated pipelines?";e.ReleaseIdInvalidError="Release ID should be greater than 0.";e.EnvironmentStatusReason_CanceledBeforeExecutionFormat="Canceled by";e.CopyToClipboardText="Copy to the clipboard";e.ApprovalPolicyInfo_InAnyOrder="in \u003cstrong\u003eany order\u003c/strong\u003e";e.ViewBuildTooltip="View build";e.PrevText="Prev";e.PullRequestTriggerEnvironmentCallout="These are the stages where pull request based releases will be deployed. You can enable/disable a stage for pull request based deployments in the pre-deployment conditions of that stage.";e.CurrentlyDeployedToggleOnAriaLabel="Show only the releases that are currently deployed or queued for deployment to stages in this pipeline.";e.ArtifactTriggerBranchFiltersHelpTextForGit="A release will be triggered only if the Git push contains a commit on the specified branch. For example, selecting \"master\" will trigger a release for a Git push which contains one or more commits to the master branch. To trigger a release for any commit to branches under features/, enter \"features/\\*\". To trigger a release for commits to all branches, enter \"\\*\". Note that all specified filters will be OR\u0027ed. For example, an artifact matching at least one filter condition would be sufficient to trigger a release.";e.UndeleteReleaseDialogTitleText="Undelete a release";e.ApprovalTimeoutToolTipText="Specify the maximum time that an approval is allowed to be pending before it is automatically rejected. A maximum timeout of 365 days is allowed.";e.ReleaseApprovalDatePickerAriaLabel="Date picker";e.DeploymentCanceledByText="Deployment was canceled by {0} {1}";e.SetupTriggersLinkText="setup triggers ";e.DeploymentStatusText="Deployment status";e.WaitingForServerLogsText="Waiting for console output from the server...";e.SecondsSuffix="{0}s";e.DefinitionMismatchMessage="\u003cdiv\u003eThe current release is getting deployed from \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e while \u003ca href=\"{2}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{3}\u003c/a\u003e is from \u003ca href=\"{4}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{5}\u003c/a\u003e . This difference cannot be calculated.\u003c/div\u003e";e.DeleteEnvironmentPermissionDialogSubtext="You do not have permissions to delete this stage. Contact your administrator to grant permissions.";e.ReleaseHelpWorkitems="and workitems";e.DSWTooltipBuild="Build";e.BuildDefinitionLabel="Build pipeline:";e.DeploymentOptionTypeAllPhaseWithFailedTargetsTitle="All jobs and deployment group targets that are either in failed, cancelled or skipped state";e.SelectEnvironmentDescription="Select the stages to which to deploy";e.ArtifactsDisplayMessageLatest="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0} \u003c/b\u003e";e.EnvironmentAdded="Stage added";e.JobStateGatesFailed="Gates failed";e.PhaseWarningsLabel="Click here to view warnings";e.TasksTabItemTitle="Tasks";e.NavigationCommandHubLabel="Navigation and commands";e.Branch="Build branch";e.TasksText="tasks";e.EnvironmentOwner="Stage owner";e.TimelineContent_Queue_NLatestText="Deployment queue settings for this stage are configured to deploy {0} releases in parallel. For subsequently queued deployments, the latest will be deployed and all the others will be canceled.";e.EnvironmentListMenuText="Stage list menu";e.ByText="by";e.EnvironmentsText="Stages";e.EnvironmentStatusReason_TaskCanceledReasonFormat="{0} task was canceled";e.WorkItemsForFirstReleaseMessage="The list of work items that will be deployed as a part of this release.";e.DeleteEnvironmentPermissionDialogTitle="Cannot delete this stage";e.ForPrepositionForTimestamp="for {0}";e.AbandonedText="Abandoned";e.DeploymentGroupsSkippedOfflineSingularText="{0} target skipped";e.ReleaseGateLogSampleNameFormat="Sample at {0} - {1}";e.GateNextSample="Next sample";e.ARIALabelLogsLeftPane="Pipeline logs view left pane";e.EnvironmentStatusReason_PreApprovalRejectedFormat="Pre-deployment approval rejected by ";e.NewFolderCreated="Folder \u0027{0}\u0027 has been created.";e.Change="Change";e.AvailableArtifactsDisplayMessage="{0} {1}";e.TimelineHeaderApprovalRejected="{0} approval rejected";e.TimelineHeaderApprovalPending="{0} approval pending";e.ReportBadgeHelpText="Enables showing deployment status badges for selected stages in external repositories";e.JiraSoftwareCloudAccountText="Jira software cloud account";e.ReleaseHelpPipeline="Pipeline, artifacts,";e.NoPermissionForEditReleaseApprovals="You don’t have permission to manage the approvers for this stage";e.TimelineContent_ArtifactCondition_ArtifactNameFormat="{0} {1}";e.EvaluatingGatesTooltip="Evaluating gates";e.DemandsNotMetForDeployPhase="There is a problem with deploy job \u0027{0}\u0027. No agents could be found that match the following demands (pool: \u0027{1}\u0027): {2}.";e.ARIALabelConditionType="Pick Include or Exclude ConditionType";e.QueueReleasePermissionMessage="You do not have permissions to create release for this pipeline. Contact your administrator to grant permissions.";e.Seconds="{0} seconds";e.ReleaseTriggerNotScheduled="Schedule not set";e.DeploymentGroupLogsFilterChangedText="Filter has changed, filtered list has {0} items.";e.Workitems="Work Items";e.OverallApprovalsRejected="Rejected on {0}";e.ReleasePropertiesNodeLabel="Release";e.UnmaterializedIdentitiesErrorMessage="Failed to add {0} as a local user.";e.GatesStabilizationTimeLabel="The delay before evaluation";e.IdText="ID";e.CreateReleasePanelArtifactAccordionLabel="Artifacts";e.DeleteTagFilter="Delete tag filter";e.AutoSaveFailedText="This setting could not be saved.";e.Timeline_NowAtNode_LoadingText="Loading current deployment details";e.ScheduledTriggerHeaderText="Scheduled trigger";e.SpecifySemiColonSeparateListOfArtifact="Specify a semicolon-separated list of artifacts.";e.ViewStatusText="View status";e.ArtifactTriggerCreateReleaseOnBuildTaggingCheckboxLabel="Create a release when tags are added to an existing build";e.TimelineHeaderManualTriggerPending="Manual trigger pending";e.HelpDialogDescriptionFormat="{0} tab item. {1} of {2}. {3}";e.JoinNames=", ";e.DeployRelease="Deploy release";e.DefinitionImportInvalidJsonAlertTitle="Json error";e.ResumeRejectText="Resume / Reject";e.DaysSuffix="{0}d";e.TimelineStatus_QueuedForPipeline="Queued for pipeline";e.RetentionDaysEmptyValueErrorMessage="This setting is required. You must specify a number between 1 and {0}.";e.ApprovalOnBehalfOf="{0} on behalf of {1}";e.ResolveDuplicateEnvironmentNameFormat="{0} ({1})";e.DownloadAllLogsText="Download all logs";e.OkText="Ok";e.VariablesTabItemTitle="Variables";e.AutoApprovalCheckboxMoreInfo="This policy applies if the same approver is set for this stage and the previous one. It enables the approver to skip approval for this stage if they have approved the previous one. Approval becomes pending for the other approvers set on this stage.\u003cbr\u003eThis setting does not apply when a deployment to this stage is manually triggered.";e.ByColumnText="By";e.ArtifactsText="Artifacts";e.RequiredInputErrorMessage="This setting is required.";e.ProjectsTitle="Projects";e.CreateReleasePanelVariablesAccordionDescription="Edit value for the variables to be overridden during release creation.";e.DuplicateEnvironmentNameInfoMessage="The stage was automatically renamed because \u0027{0}\u0027 already exists";e.TimelineContent_Deployment_Agent_FractionTaskSucceededText="{0} task(s) succeeded";e.Artifact="Artifact";e.TimelineContent_Deployment_DG_InProgressPendingText="{0} target(s) in progress, {1} pending";e.TimelineHeaderDeploymentSucceeded="Deployment succeeded";e.TimelineHeaderDeploymentCanceled="Deployment canceled";e.TimelineDescriptionAutomaticTrigger="Deployment will start after the successful deployment to {0}";e.AutoSaveFailedRetryButtonAriaLabel="Retry save";e.DSWTooltipRelease="Release";e.TimelineHeaderManualTrigger="Manual trigger";e.DeletePullRequestBranchFilterAriaDescription="Delete the pull request filter.";e.FromYouText="you";e.ReleaseSummaryPanelTriggerHeader="Trigger";e.TimelineHeaderDeploymentInProgress="Deployment in progress";e.NoEnvironmentsText="There are no stages found for this release pipeline. Add a stage from the pipeline view before adding tasks to it.";e.BadgeLabelText="Enable the deployment status badge";e.PostDeploymentApprovalPoliciesInfoMessage="Changes to policies are applicable for pre-deployment approvals also.";e.HourSuffix="{0}h";e.TimelineContent_ArtifactCondition_BranchOrTagsConditionFormat="{0} {1}";e.TimelineDescriptionGatesFailedPrefix="{0} gates failed";e.PreDeploymentApprovalPoliciesInfoMessage="Changes to policies are applicable for post-deployment approvals also.";e.ConfirmDiscardReleaseText="All unsaved changes to this release will be lost. Are you sure you want to discard your changes to this release?";e.ArtifactConditionsNotMetText="Artifact conditions not met";e.EnvironmentPropertiesSubHeader="Name and owners of the stage";e.AllReleaseDefinitions="Release pipelines";e.EnvironmentBadgeText="badge";e.EnvironmentsLabelText="Stages";e.ReleaseHelpLearnNewTabLabel="Learn what\u0027s new";e.TimelineContent_ArtifactCondition_SubText="cannot be deployed as the stage trigger condition(s) are set to";e.DraftText="Draft";e.DswNoBuildsMessage="You do not have any builds for this build pipeline.";e.DeleteReleaseDialogTitleText="Delete {0}";e.AddTagFilter="Add tag filter";e.ReleaseDefinitionHasBeenUpdated="Release pipeline \u0027{0}\u0027 has been updated.";e.ReleaseOldView="Release (old view)";e.ApprovalPoliciesHeading="Approval policies";e.LinkedReleaseDefinitions="Linked release pipelines";e.DSWViewSelectorLabel="Deployment status and associated color:";e.ViewApproval="View approval";e.DefinitionsPathColumnHeader="Path";e.ArtifactTypeFieldBranchDeletedErrorMessage="Field \u0027{0}\u0027 must have valid values. Select another branch as the default.";e.ARIALabelReleaseHelpRightPane="Release view help dialog right pane";e.EnvironmentStatus_PreApprovalPendingOn="Pre-deployment approval pending on ";e.ReleaseHelpEnvironments="and stages";e.PendingYourApprovalSubtext="Pending your approval";e.ReportingAnalyzeFor15Days="15 days";e.ReportingAnalyzeFilterDefaultText="Select days";e.ReleaseDefinitionName="Release pipeline name";e.TimelineHeaderGatesPending="{0} gates pending";e.ApprovalTimeoutErrorMessage="You must specify an integer from {0} to {1} for the timeout in {2}.";e.AutoRedeployTriggerLastSuccessfulDeployAction="Redeploy the last successful deployment";e.NewSampleSingular="1 new sample";e.Timeline_PRTrigger_EnableOnCurrentAndPreviousEnvironmentsText="Trigger must be enabled on this and all preceding stages to let pull request based releases to get deployed";e.ApprovalPolicyInfo_TimeoutBy="and will timeout by \u003cstrong\u003e{0}\u003c/strong\u003e";e.ToBeDeployed="To be deployed";e.JiraConnectionPlaceholderText="Select JIRA service connection";e.NotNowText="Not Now";e.EnvironmentStatusManualInterventionPending="manual intervention";e.IdentityRevalidationCheckboxMoreInfo="This policy lets you enforce multi-factor authentication in the release approval flow. If this policy is checked it will prompt approvers to re-signin before approving. This feature is only available in Azure DevOps Services for AAD backed accounts only. If your organization\u0027s active directory enforces multi-factor authentication, then this experience will also take you through it.";e.ReleaseDefinitionHasBeenDeleted="Release pipeline \u0027{0}\u0027 and associated releases have been deleted.";e.SelectAllEnvironments="Select all stages";e.ArtifactDownloadOptions="Artifact download";e.ReleaseSummaryContinuousIntegrationNodeText="Continuous deployment requested for";e.SinglePhaseSingleIssueLabel="There is 1 issue in job {0}";e.ARIALabelEnvironmentApproversSelection="Select approvers";e.ReportingEnvironmentMedian="minutes / Median";e.WaitingOnTaskNameTooltipFormat="Waiting on {0}";e.DeploymentOptionTypeAllPhaseTitle="All jobs and all deployment group targets";e.NoEnvironmentsToDeploy="There are no stages to deploy";e.ArtifactTypeDeletedOrUnauthoriedMessage="Field \u0027{0}\u0027 should have valid values. Artifact inputs have either been deleted or you do not have permissions to view them.";e.EditReleaseDisabledMessage="You cannot edit an abandoned release";e.PostDeploymentGatesFailed="Post-deployment gates failed";e.DeploymentFailedMultipleEnvironments="Deployment failed on the following stages";e.ArtifactSourceIsNotAccessibleText="source is not accessible";e.ReleaseSummaryNodeNoArtifactsText="No artifacts";e.ForceDeleteReleaseDefinition="Automatically cancel any in-progress release deployments";e.DeploymentStatusWidgetEnvironmentName="Stage name: {0}";e.ActiveReleasesFilterTitle="Filter Releases";e.NoneText="None";e.TimelineContent_Queue_NInSequenceText="Deployment queue settings for this stage are configured to deploy {0} releases in parallel. Subsequently queued deployments will be  started in order.";e.MultiArtifactTypeDisplayNameFormat="Multi {0}";e.ReportingAnalyzeFor30Days="30 days";e.DSWRuleGreaterThanFirstRuleError="This rule value should be less than the first rule value.";e.CreateNewReleaseText="Create new release";e.ApprovalDeferDeploymentTitle="Defer deployment for later";e.CreateReleasePanelDeploymentTriggerDescription="Click on a stage to change its trigger from automated to manual.";e.NoMachineFound="No machine found in given deployment group.";e.DswBDPickerToolTip="The build pipeline for which the widget will show the deployment and test status.";e.PreviousReleases="Previous releases";e.TimelineDescriptionDeploymentCanceledPrefix="Deployment canceled";e.GettingStartedWithRelease="Getting started with release pipelines";e.ActiveReleasesNameAbandonedStatusText="(abandoned)";e.CurrentDeployedReleaseText="Currently deployed";e.TagFilterForDockerHub="Tag Filter";e.AriaLabelEnvironmentApprovalTimeoutValue="Timeout in {0}";e.DeploymentGatesAndSamples="Deployment gates \\ samples";e.DeleteEmptyBranchFilter="Delete the empty branch filter";e.JobStateGatesSucceeded="Gates succeeded";e.ReleaseCreatedOn="Created On";e.ReleaseCreatedBy="Created by";e.EnvironmentStatusReason_QueuedForDeployment="Waiting in the deployment queue";e.ReleaseSummaryContinuousIntegrationText="Triggered by";e.ImportRdMenuItemText="Import a pipeline";e.OverallApprovalsCancelled="Canceled on {0}";e.AddToDashboard_FailureMessage="{0} was not successfully added to the {1} dashboard.";e.ApproversAccordionDescriptionText="Select the users who can approve or reject deployments to this stage";e.TimelineQueueInfoButtonAriaLabel="More information about deployment queue settings";e.EnvironmentDescriptionLinkTitle="Click here to view stage logs";e.FailedGatesMessage="gates failed";e.CanceledTimestampFormat="Canceled at {0}";e.DeleteButtonText="Delete";e.DSWTestRangeCoverageError="The complete test percent range is not covered. Keep one of the following percent values the same as this rule.";e.CloneEnvironmentNameFormat="Copy of {0}";e.StatusFilterText="Status";e.SamplingIntervalHelp="The duration after which the gates are re-evaluated. This must be greater than the longest typical response time of the configured gates to allow all responses to be received in each evaluation.";e.TimelineDescriptionDeploymentDeferred="Deployment deferred to {0}";e.SettableAtReleaseTime="Settable at release time";e.TimelineStatus_QueuedForAgentDescription="Queued on \u003cb\u003e{0}\u003c/b\u003e  {1}";e.SelectedAllArtifactsText="Selected all artifacts";e.ScheduledTriggerAfterReleaseText="Scheduled after release creation";e.DSWTooltipTestsPassed="Tests Passed";e.Resume="Resume";e.ActiveReleasesMenuItemButtonAriaLabel="Release menu items";e.EnvironmentStatusReason_QueuedForDeploymentWithLink="Waiting in the deployment queue. \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eView queue\u003c/a\u003e";e.DeploymentNotStartedText="Not yet started";e.CancelCommentPlacehodler="Enter a comment";e.PrimaryArtifact="Primary artifact";e.SecondsSingular="1 second";e.EnvironmentStatusPartiallySucceeded="Partially succeeded";e.SkippedAllArtifactsText="{0} artifact\u0027s default version is {1} and selected zero artifacts";e.DeploymentGroupsProgressTargetText="Target";e.ApprovalPolicyInfo_TimeoutWithinDays="{0} days";e.TimelineHeaderDeploymentPendingIntervention="Deployment pending intervention";e.DSWTooltipEnvironment="Stage";e.ReleaseCanvasLeftPane="Release progress - left pane";e.ReferenceNameText="Reference name";e.ReleaseApprovalReassignButtonText="Reassign";e.ReportingMTTR="Mean time to recover (MTTR)";e.DeploymentNotCompletedText="Not yet completed";e.ARIALabelEditorToolbar="Release pipeline editor toolbar";e.RetentionReleaseCountTitle="Minimum releases to keep";e.SelectProjectText="Select a Project";e.DSWClickToViewDeploymentTootlipMessage="Click or press enter to view details of this deployment";e.ReleaseSummaryContinuousIntegrationForWord="for";e.LatestReleaseColumnHeader="Last released by";e.DeploymentStatusStartedTitle="Started";e.TimelineHeaderScheduledTrigger="Scheduled trigger";e.DefinitionScheduleToggleHelpText="Create a new release at the specified times";e.DoneText="Done";e.RenameDefinitionContextualMenuText="Rename pipeline";e.WorkitemCount="({0} work item)";e.SelectedArtifactsTotalCountText="Selected {0}/{1} artifact(s)";e.BranchFiltersGit="Branch filters";e.MultiPhaseSingleIssueLabel="There is 1 issue from job {0} to job {1}";e.ActiveReleaseDescriptionHeaderText="Description";e.ReleaseHelpContributionsTabDescription="View rich test results in context of each environment, including the results from other extensions that contribute to the process.";e.ActiveDefinitionsTabTitle="Active";e.PullRequestDeploymentEnabledAriaLabel="Pull request deployment is enabled.";e.ReleaseSummaryTagsLabel="Tags";e.GatesPhaseAddString="Add a gates job";e.PullRequestTriggerLabel="Pull request trigger";e.SaveButtonText="Save";e.SingleErrorText="{0} error";e.ReleaseApprovalMinutesSelectorAriaLabel="Select minutes";e.UnlimitedParallelDeploymentLabel="Unlimited";e.EnvironmentNodeDescriptionWithMoreThanOnePhasesAndOneOrZeroTask="{0} jobs, {1} task";e.EnvironmentPropertiesSummary="Owned by {0}";e.QueueSettingsAccordionHeading="Deployment queue settings";e.MaterializationInProgressMessage="Adding the Active Directory identity as a local user is in progress...";e.LoadingFetchWorkItems="Fetching work items...";e.InProgressTaskDetailInfo="Running job \u003cb\u003e{0}\u003c/b\u003e : \u003cb\u003e{1}\u003c/b\u003e  {2}";e.EnvironmentAutoRedeployTriggerDescription="Configure the events that trigger automated redeployment.";e.DeploymentGroupsIndicatorPassedText="{0}% PASSED";e.CommitsForFirstReleaseMessage="List of commits that will be deployed as a part of this release.";e.FailedGatesText="Failed gates";e.GatesPhaseTitle="Gates job";e.MoreGateActionsEllipsesButtonAriaLabel="More gate operations";e.TimelineDescriptionApprovalPendingOnMultipleSinceFormat="On {0} {1} (+{2}) since {3}";e.ArtifactIconTooltip="The artifact that triggered this release";e.ArtifactTriggerDescriptionForBuild="Build: {0}";e.ApprovalApproved="Approved on {0}";e.ErrorsInPhase="{0} errors in job";e.DeploymentWidgetTestsDurationToolTipDuration="Test duration: {0}";e.DeploymentStatusViewQueuedTitle="Queued";e.ArtifactTriggerDescriptionForPackageManagement="Package: {0}";e.GatesNextSampleTimeText="Next sample in {0}";e.AriaLabelMinimumSuccessDurationValue="The minimum duration for steady results after a successful gates evaluation is {0}";e.ReleaseHistoryChangeTypeUpdate="Update";e.RenameRdContextualMenuText="Rename";e.PreDeploymentApproversHeading="Pre-deployment approvals";e.AutoApprovalCheckboxLabel="Skip approval if the same approver approved the previous stage";e.SaveAsTemplateDialogHeading="Save stage as a template";e.RetentionDaysToRetainInfoText="Set the number of days to retain a release deployed to this stage. Any release can be retained for at least 1 day and a maximum of {0} days.\r\n[Learn more]({1})";e.EnvironmentPostDeploymentApprovalsHeading="Post-deployment approvals";e.ReleaseReportingPanelMessage="Analyze various performance indicators that give insight into agility, stability, and quality of the selected release pipeline.";e.NoAgentQueueFound="There is a problem with deploy job \u0027{0}\u0027. No agent pool was found with ID {1}.";e.FolderDoesNotExist="The specified folder does not exist";e.CommitsComparedToMessageText="\u003cdiv\u003eCommits are compared to \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment \u003c/div\u003e";e.InValidIdentityErrorMessage="Enter a valid identity.";e.FolderNameContainsInvalidCharacterError="Folder name cannot contain the following characters: /\\\u003c\u003e\u0026*?\"|:";e.PreviousDeploymentText="(Previous deployment)";e.TimelineDescriptionDeploymentStartedPrefix="Deployment started";e.ForceDeleteReleaseDefinitionTooltip="Selecting this option marks all in-progress, queued, or pending release deployments for cancelation and proceeds with the release pipeline deletion.";e.DefaultArtifactLatestText="Latest";e.WaitingSinceText="Waiting since";e.PullRequestDeployment="Pull request deployment";e.FetchingQueueInfo="Retrieving queue information...";e.EnvironmentPoliciesAccordionText="Policies";e.JobRejectedStatus="Rejected";e.EnvironmentInProgressMessage="Cannot edit as the deployment process is currently in-progress";e.AriaLabelGatesTimeoutValue="The timeout after which gates fail is {0}";e.OpenReleaseInNewTabMenuItemText="Open in new tab";e.NoPermissionForEditReleaseEnvironment="You don’t have permission to edit this release stage";e.ScheduledTriggerAfterEnvironmentsText="Scheduled after {0} stages";e.RetentionTabARIALabel="Release pipeline retention";e.NewEnvironmentDefinitionText="New stage definition";e.ReleaseHelpPipelineTabLabel="Pipeline, artifacts, and stages";e.ReportingEnvironmentSuccessfulDeployment="Successful";e.NewEnvironmentLabel="New stage";e.RdSecurityTabTitle="Security";e.DelayTimeSamplesText="Delay time samples";e.DSWTestRuleEmptyError="This can\u0027t be empty.";e.SavingReleaseText="Saving...";e.MessageBarOverflowButtonAriaLabel="See more";e.DeleteBranchFilterForArtifactFilter="Delete branch filter";e.DeploymentAuthorizationRequiredFor="You would be asked to sign in to Azure subscription(s) {0} before the deployment starts.";e.ReassignApproverComponentTitle="Reassign approver";e.DisabledText="Disabled";e.DSWErrorMessageForBDFetchFailure="We couldn\u0027t find any build pipelines. Try refreshing.";e.MultiPhaseMultipleErrorsLabel="There are {0} from job {1} to job {2}";e.EditEnvironmentGatesPermissionMessage="You do not have permissions to manage gates for this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.CancelText="Cancel";e.GatesMinimumSuccessDurationErrorMessage="Value must be less than the timeout.";e.ArtifactNodeAriaLabel="{0} artifact";e.GatesCollapsibleDescriptionText="Define gates to evaluate before or after the deployment.";e.MinutesSingular="1 minute";e.SingularErrorInPhase="1 error in job";e.RedeployAction="Redeploy";e.ParallelDeploymentCountLabel="Maximum number of parallel deployments";e.GatesTimeoutTime="Timeout in {0}";e.GatesTimeoutHelp="The maximum evaluation period for gates. The deployment will be rejected if the timeout is reached before gates succeed.";e.IgnoreGateHeading="Ignore gate";e.SaveAsTemplate="Save as template";e.DSWViewPickerInfoProp="Select Deployment Status to see deployment status states and associated tile colors. Or, select Test Pass Rate to add rules to change the color of the status tile based on the test pass percentage. Rules are applied in the order shown. In case of conflicting rules, those lower in the list are used.";e.ApprovalPolicyInfo_TimeoutWithin="within \u003cstrong\u003e{0}\u003c/strong\u003e";e.DemandsWarning="There are no agents that satisfy the job’s demands";e.TagFilterRequired="Specify a tag filter.";e.Commits="Commits";e.Comment="Comment";e.ManualTriggerTabName="Manual only";e.NoWorkItemsMessage="There is no difference in work items between the current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e.";e.ActiveDefinitionsFilterBarItemPlaceholderText="Search";e.LogsTabItemTitle="Logs";e.RejectionCompletedText="Rejected";e.ArtifactComparisonHeaderText="Difference in {0}";e.PendingApprovalMultipleEnvironments="Pending approval on {0}, {1} and {2} more stage(s).";e.EnvironmentStatusGates="Processing gates";e.ResumingButton="Resuming...";e.JobApprovalPendingStatus="Approval pending";e.MultipleErrorsText="{0} errors";e.ManualInterventionRejectedOnTimeout="\u003cstrong\u003e{0}\u003c/strong\u003e timed out";e.RetentionDaysCountText="Keep for {0} days,";e.EnvironmentStatusReason_ApprovalPendingFormat="On";e.EnvironmentStatusReason_ManualInterventionPendingReasonFormat="from";e.ActiveDefinitionsRightPaneARIALabel="Active pipelines right pane";e.SearchBoxAriaLabelText="searchBoxLabel";e.JiraDeploymentTypeProduction="Production";e.EnvironmentDescriptionLinkTooltip="View stage tasks";e.BuildSelectiveArtifactsMessage="Following are the artifacts published in the latest version of the build.";e.GatesPhaseHelpMarkdown="Link to the documentation";e.Overview="Overview";e.ReleasesText="Releases";e.NoArtifacts="No artifacts added.";e.EditTasksText="Edit tasks";e.ReleaseConditionsNavigationLabel="Conditions";e.DeleteDefinitionDialogTitle="Delete release pipeline";e.RejectionInProgressText="Rejecting";e.DeploymentGroupsIndicatorFailedText="FAILED";e.AriaLabelMinimumSuccessDurationUnit="The time unit for specifying a minimum duration for steady results after a successful gates evaluation";e.DSWTooltipTestRunDuration="Test Run Duration";e.ARIALabelCreateTemplate="Create the template";e.PullRequestDeploymentDisabledEnvironmentsWarningMessage="Pull request based releases can never reach this stage. Enable pull request deployment in {0} stages to complete the flow.";e.RetentionRetainArtifactDescription="Retain the build for all releases deployed to this stage";e.ReleaseGateLogSampleFullFormat="{0} {1}";e.EnvironmentStatusCanceled="Canceled";e.AllDefinitionsText="All pipelines";e.WorkItemsArtifactLatestArtifactComparisonHeaderInfoText="This list shows the difference in work items between this artifact and the previously-deployed artifact for this stage. If the current artifacts pre-date this release’s artifacts, then the difference denotes the list of work items (negative) that will be rolled back when this artifact is deployed to this stage.";e.AbandonReleaseConfirmationMessageFormat="Release \u0027{0}\u0027 has been abandoned";e.AddNewTimeDescription="Add a new time";e.GatesFailedCountText="{0} gates failed in the latest sample {1}";e.ReleaseSummaryManualTriggeredText="Manually triggered by";e.FailedText="Failed";e.ReassignmentCompletedText="Reassigned";e.WorkItemsLatestArtifactComparisonComparedToMessageText="\u003cdiv\u003eWork items are compared to the \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment (currently on this stage).\u003c/div\u003e";e.TimelineContent_Deployment_Agent_TaskSucceededSkippedText="{0} task(s) succeeded, {1} task(s) skipped";e.ApprovalsDeferredAndApproved="Approved and deployment deferred to {0}";e.DeleteEnvironmentWarningMessage="You are about to delete the \u0027{0}\u0027 stage and all its settings. This action cannot be reversed.";e.ActiveReleasesNameDraftStatusText="(draft)";e.ViewAttemptsAriaLabel="View attempts";e.DSWTestRatePickerInfoProp="Add rules to change the color of the status tile based on the test pass percentage. Rules are applied in the order shown. In case of conflicting rules, those lower in the list are used.";e.DSWErrorMessageForEnvironmentFetchFailure="We couldn\u0027t find any release pipelines associated with build pipeline {0}. Try refreshing.";e.BuildArtifactsNotAccessibleMessage="There is no build available or the source is not accessible. You can select all artifacts or specify the list of artifacts to be downloaded below.";e.SecurityDialogPermissionText="Permissions for {0}";e.ArtifactVersionSelectErrorMessageDefault="No version has been selected for this artifact source.";e.JobReassignedStatus="Reassigned";e.TargetBranchFilters="Target Branch Filters";e.ReportingEnvironmentTotalDeployment="Total deployments";e.AriaLabelEnvironmentApprovalTimeoutUnit="The time unit for specifying a timeout";e.CheckButtonLabel="Select the row";e.MultipleIssuesFormat="{0} issues";e.DeploymentFailedMultipleEnvironmentsFormat="{0} - {1}";e.ReleaseWorkItemComparisonWithUnSupportedArtifactTypeException="The work item view is not supported for artifact type {0}.";e.EmptyDefinitionNameError="The pipeline name cannot be empty";e.EnvironmentStatusReason_PostApprovalRejectedFormat="Post-deployment approval rejected by";e.DefinitionDeployPhasesCannotBeEmptyErrorText="The stage \u0027{0}\u0027 should have at least one job.";e.NewArtifactFilter="New artifact filter";e.ReleasePickerDialogTitle="Select a release";e.TimelineDescriptionManualTrigger="Waiting for manual trigger to start deployment";e.GatesTimeoutLabel="The timeout after which gates fail";e.TimelineContent_Queue_OneInSequenceText="Deployment queue settings for this stage are configured to deploy one release at a time.";e.AutoRedeployTriggerActionLabel="Select action";e.ManualInterventionPendingFormat="{0} pending.";e.ApprovalRejected="Rejected on {0}";e.AlreadyApproved="Already approved";e.ManualApprovalTypeText="Specific users";e.InvalidIdForBuildArtifactErrorMessage="The version provided for the build artifact source \u0027{0}\u0027 is invalid. In case the version provided is not in the list of available versions, provide a valid build ID instead of a build number.";e.CreateReleaseToggledManualEnvironmentNodeDescription="The trigger changed to manual";e.BranchText="Branch";e.CreateReleaseAutomatedEnvironmentNodeDescription="Automated trigger";e.CanvasReleaseApprovalButtonTitleText="Approve or reject the deployment";e.RetentionSettingsFooterText="View or manage \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eretention policy defaults.\u003c/a\u003e ";e.VersionPickerTooltip="Advanced selector";e.PendingApprovalText="Approval pending";e.NoArtifactsMessageForBuild="No version is available for \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e or the latest version has no artifacts to publish. This might fail deployment. Please check the source pipeline.";e.DeleteFolderContextualMenuText="Delete folder";e.EnvironmentStatusApprovalPending="Pending approval";e.EnvironmentExecutionPolicyChangedWarningText="Changes made to queue settings will be effective immediately. All currently queued deployments to this stage will be processed based on new settings.";e.ViewReleaseMenuItemText="View release";e.PreEnvironmentNameLabel="Stages";e.GatesNotStartedNoGatesSubtext="Deployment will proceed after a delay of {0}";e.SelectedArtifactAliasSummary="{0} - {1}";e.CommaSeperatorForJoin=", ";e.DefinitionImportDialogTitle="Import release pipeline";e.ApprovalPolicyInfo_TimeoutWithinMinutes="{0} minutes";e.ArtifactTypeFieldDeletedErrorMessage="Field \u0027{0}\u0027 should have valid values. If the source build pipeline doesn\u0027t exist anymore, delete this artifact from the release pipeline";e.DefaultBranchFilter="Default branch in build pipeline";e.Timeline_PRTrigger_Enabled="Pull request deployment trigger enabled";e.EnvironmentStatusNotDeployed="Not deployed";e.PullRequestDeploymentsDependentEnvironmentsWarning="Not enabling pull request deployment for this stage may prevent pull request based releases from reaching subsequent stages: {0}";e.ReleaseRetainedMessageFormat="Release \u0027{0}\u0027 is set to be retained indefinitely";e.TimelineDescriptionGatesSucceededPrefix="All gates succeeded";e.ApprovalOverrideHeader="Override approver";e.EnvironmentStatusReason_WaitingOnQueueFormat="Waiting in {0} queue";e.ApprovalTypeLabel="Approval type";e.EnvironmentStatusUndefined="Undefined";e.ArtifactAliasHasInvalidCharacters="Artifact alias \u0027{0}\u0027 is invalid. It cannot contain these characters: \\ / : * ? \" \u003c \u003e and |. Specify a different name and try again.";e.TimelineContent_ArtifactCondition_HeaderBranchFormat="{0} from {1}";e.MinutesSuffix="{0}m";e.DeployAction="Deploy";e.ViewQueue="View queue";e.FolderDialogNameLabel="Name";e.ViewTasks="View Tasks";e.NoEnvironmentsToApprove="There are no stages to approve";e.IgnoreGateDescription="Ignored gates are not considered for the current deployment. Are you sure you want to ignore the gate \u0027{0}\u0027?";e.WorkItemId="Id";e.TryAgainText="Try again";e.TimelineHeaderDeploymentFailed="Deployment failed";e.ExportRdContextualMenuText="Export";e.EnvironmentNodeAriaLabel="{0} stage";e.AgentLogStepFinishingMarker="Finishing: ";e.GatesEvaluationSubtext="Waiting for all gates to succeed within the same sample interval";e.TargetLinkDescription="Link to get more details about target";e.InvalidRetentionSettings="Invalid retention settings.";e.EditDefinitionPermissionMessage="You do not have permissions to modify this release pipeline. Changes made will not be saved. Contact your release manager to grant permissions.";e.NotStartedText="Not started";e.ArtifactTriggerToggleHelpTextForGitHub="Creates a release every time a Git push occurs to the selected repository.";e.SortBySlowestFirst="Slowest first";e.TimelineDescriptionDeploymentScheduledPrefix="The deployment is scheduled to start";e.DSWTestPassRateLabel="Specify a test pass rate and associated color:";e.WaitingOnText="Waiting on";e.DefaultArtifactLatestFromBranch="Latest from the default branch";e.PostEnvironmentDeploymentSelectionErrorMessage="No stage was selected.";e.DSWLastColumnTooltip="\u003cspan\u003eDetermines the type of data displayed in the last column of the widget.\u003c/span\u003e\u003cbr/\u003e\r\n      \u003cspan\u003eLatest deployed: Shows the deployment corresponding to the latest build that was deployed on the stage.\u003c/span\u003e\u003cbr/\u003e\r\n      \u003cspan\u003eFailing since: Shows the deployment corresponding to the first build that caused deployments to fail on the stage.\u003c/span\u003e\u003cbr/\u003e";e.ViewRdCommandBarItemText="View pipeline";e.ActiveDefinitionsRecentSectionHeader="Recent";e.SelectTemplate="Select a template";e.EmptyFolderPathError="The folder selection cannot be empty";e.ReleaseHistoryChangeTypeDeploy="Deploy";e.ReleaseHistoryChangeTypeDelete="Delete";e.EnvironmentStatusCanceling="Canceling...";e.NewSamplePlural="{0} new samples";e.EnvironmentNodeDescriptionWithOneOrZeroPhaseAndOneOrZeroTask="{0} job, {1} task";e.HistoryTabItemTitle="History";e.ActiveDefinitionsExpandButtonTooltip="Hide release pipelines";e.FilteredDefinitionsAnnounceMessage="{0} pipelines found";e.DeployOptionRadioLabel="Redeploy to";e.ReleaseHistoryChangeTypeCreate="Create";e.ReportEnvironmentDeploymentStatusHelpText="Displays a badge in the source repository to indicate whether the deployment to these stages succeeded or failed.";e.ConcurrentDeploymentCountError="You must specify an integer from 1 to 1,000,000,000.";e.ApprovalGatesSectionHeading="Deployment gates";e.ActiveReleasesContextualMenuAriaLabel="Contextual menu for current release";e.ReleaseHelpCalloutIncompletePrimaryText="No problem. If you change your mind…";e.ArtifactSourceText="Source";e.Discard="Discard";e.ApproveRejectText="Approve/Reject";e.AutoTriggerAfterEnvironmentText="Automated after {0} stage";e.IdentityRevalidationRequiredLabel="Revalidate identity of approver before completing the approval.";e.EnterRepositoryOrSearch="Enter repository full name i.e. \u0027organization/repository\u0027 OR click \u0027...\u0027 to search";e.JobStateCanceling="Canceling";e.ArtifactsDisplayMessageSelectDuringReleaseCreation="The artifacts published by each version will be available for deployment in release pipelines. Select the version when you create a release. For automatically triggered releases, the latest version will be chosen.";e.ReleaseStartedTextSuffix=" has been been started";e.PipelineEditorRightPane="Pipeline editor - right pane";e.XOutOfY="{0}/{1}";e.AutoRedeployTriggerEventsLabel="Select events";e.DSWLastColumnSelectorLabel="Last column";e.ApprovalOrderLabel="Approval order";e.DeferredDateShouldBeInFutureText="The specified date for deferring the deployment is in the past. The date should be in the future.";e.DeployOnLatestText="Deploy latest and cancel the others";e.RetainReleaseMenuItemText="Retain indefinitely";e.ColorGreen="Green";e.EditEnvironmentAutoRedeployTriggerPermissionMessage="You do not have permissions to manage gates for this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.PostDeployApprovalSubText="Post-deployment approval pending";e.CommitsRollbackMessageFormatString="({0} {1} rolled back commits)";e.CancelDeploymentDescription="Are you sure you want to cancel the deployment to \u0027{0}\u0027?";e.ReleaseHelpWhatsNewTitle="We’ve made big improvements to the release summary page!";e.ArtifactVersionDisplayFormat="{0} ({1})";e.GatesStabilizationRemainingTimeNoGates="{0} remaining";e.ApproveMultiple="Approve multiple";e.ScheduleHelpText="Trigger a new deployment to this stage at a specified time";e.DSWDeploymentView="Deployment Status";e.ARIALabelCloseSaveTemplateDialog="Cancel template creation";e.ApprovalOrderTypeAllUserAnyOrderTitle="Any order";e.EnvironmentDeploymentDeferredToText="Deployment will start on {0}";e.TimelineDescriptionApprovedPrefix="Approved";e.PullRequestTriggerEnabledText="The pull request trigger is enabled.";e.DSWSelectBuildDefinition="Select a build pipeline.";e.ReleasePickerDialogDescription="Select a release that was previously deployed to this stage";e.NoApproversErrorMessage="Enter at least one approver.";e.EnvironmentPreDeploymentApprovalsHeading="Pre-deployment approvals";e.ReleaseNameFormatInvalidErrorMessage="Names of releases from this pipeline will not be unique.  Use pre-defined variables to generate unique release names.";e.AddArtifact="Add an artifact";e.TagsChangedReleaseStatus="Updated tags";e.DSWNoLastDeployment="No build has been deployed on this release pipeline stage yet.";e.DeleteReleaseMenuItemText="Delete";e.TimeIndicator="at {0}";e.DeploymentStatusWidgetTestsToolTip="{0} of {1}";e.DeploymentGatesText="Deployment gates";e.TimelineDescriptionAutomaticTriggerEnvironmentFormatMany="{0} (+{1})";e.No="No";e.CreateReleasePanelHeaderLabel="Create a new release";e.JenkinsArtifactsNotAccessibleMessage="There is no job available or the source is not accessible. You can select all artifacts or specify the list of artifacts to be downloaded below.";e.NewHubZeroDaySecondaryText="Automate your release process in a few easy steps with a new pipeline";e.SelectApproversHelpText="By default, all users must approve the deployment (in any order). If a group is added, one user in the group must approve the deployment.";e.DSWDeploymentStatusPickerInfoProp="Following are the deployment status states and associated tile colors.";e.PreDeploymentApproval="Pre-deployment approval";e.ApprovalPolicyInfo_InSequence="in \u003cstrong\u003e sequence \u003c/strong\u003e";e.ReassignHistoryTitleText="Reassign history";e.GatesLogsDelayBeforeEvaluation="Delay before evaluation: {0}";e.GatesDetailedInfoFormat="{0}. {1}";e.DeploymentStatusViewStatusTitle="Status";e.StartReleaseMenuItemText="Start";e.GatesNoSamplesYet="No samples have yet arrived";e.ARIALabelEditorTabs="Editor tabs options";e.TimelineDescriptionRanForFormat="Ran for {0}";e.CreateDefinitionContextualMenuOptionText="New pipeline";e.CancelAction="Cancel";e.RejectAction="Reject";e.TimelineDescriptionOnFormat="{0} on {1}";e.CommitsArtifactHeaderInfoText="Lists the commit difference between the artifacts of this release and the previously deployed release for this stage. If the current release deployed an older artifact, then the difference lists negative commits i.e., the changes that were rolled back from this stage.";e.TimelineContent_Queue_InfoText="Deployments to a stage can be in parallel wherein multiple releases can be deployed at the same time or in order where releases get deployed one after another. This can be configured as part of the deployment queue settings for a stage.";e.ArtifactTriggerToggleHelpTextForAzureContainerRepository="Creates a release every time an image is pushed to the selected repository.";e.ArtifactsDisplayMessageLatestWithAllBranchAndAllTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0} \u003c/b\u003e";e.ViewApprovalsTooltipFormat="View {0} approvals";e.ARIALabelEnvironmentApprovalOrderSection="Select approval order";e.SamplingIntervalLabel="The time between re-evaluation of gates";e.GatesTimeErrorText="The value must be less than the timeout.";e.ApprovalSkipped="Skipped on {0}";e.NoMachineFoundWithGivenTags="No machine found in given deployment group with tags {0}.";e.ReassignedStatusText="Reassigned on {0}";e.DeleteReleaseDialogContentText="You are about to delete a release. Do you want to proceed?";e.EnvironmentSelected="This stage is selected.";e.ArtifactTriggerToggleHelpTextForDockerHub="Creates a release every time a Docker push occurs to the selected repository.";e.SecurityText="Security";e.SelectApproversPlaceHolderText="Search users and groups for approvers";e.ArtifactPropertiesAriaLabel="Artifact properties";e.CustomSelectiveArtifactsMessage="Selective artifacts are not supported for the {0} artifact type. You can select all artifacts or none.";e.ApprovalCancelled="Canceled on {0}";e.EditReleaseWarning="\u003cdiv\u003e \u003cb\u003eYou can edit approvals, tasks, and variables of this release. \u003c/b\u003e Edits will be saved only to this release. To make changes to the pipeline, \u003ca href=\"{0}\" class=\"{1}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eedit\u003c/a\u003e the release pipeline \u003c/div\u003e";e.CreateDefinitionCommandBarMenuOptionText="Release pipeline";e.ArtifactsToBePublishedMessage="published the following artifacts: \u003cb\u003e\u003cem\u003e{0}\u003c/em\u003e\u003c/b\u003e.";e.OnPrepositionForTimestamp="on {0}";e.CloneText="Clone";e.CreateReleasePanelArtifactAccordionDescription="Select the version for the artifact sources for this release";e.MultipleEnvironments="Multiple stages";e.EnvironmentNameLengthValidationError="The stage name cannot exceed 256 characters. Specify a shorter name and try again.";e.ReleaseApprovalHoursSelectorAriaLabel="Select hours";e.ApprovalPending="Pending {0}";e.GatesLabel="Gates";e.ReleaseCreatorCannotBeApproverCheckboxLabel="The user requesting a release or deployment should not approve it";e.ArtifactsDisplayMessageLatestWithBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e from branch \u003cb\u003e{1}\u003c/b\u003e with tags \u003cb\u003e{2}\u003c/b\u003e";e.DefinitionCloneSuffix="{0} - Copy";e.TimelineDescription_AssociatedChanges="View {0} and {1}";e.DeploymentAuthorizationRequired="You would be asked to sign in to the Azure subscription(s) before the deployment starts.";e.NoAssociatedCommitsMessage="No associated changes found.";e.OldDeploymentStatus="{0} on {1}";e.SimpleYouText="you";e.AutomaticApprovalTypeText="Automatic";e.UndeleteReleaseDialogContentText="You are about to undelete the release \u0027{0}\u0027";e.Add="Add";e.Yes="Yes";e.GatesCollapsibleHeadingText="Gates";e.EnvironmentStatusReason_InProgressReason="running tasks...";e.ToBeApproved="Next pending on";e.NoEnvironmentsPipelineTabText="You cannot save a release pipeline that contains zero stages.";e.TimelineDescriptionDeploymentTriggeredPrefix="Deployment triggered";e.ReportingTestPassRate="Test pass rate";e.SpecificParallelDeploymentLabel="Specific";e.DeleteRdCommandBarMenuOptionText="Delete pipeline";e.NoArtifactFiltersText="No filters added.";e.ReleaseDefinitionsTitle="Release pipelines";e.Hours="{0} hours";e.CannotCreateRDNoPermissionsMessage="You do not have sufficient permissions on this project to create a release pipeline. Contact your release administrator for permissions.";e.EditReleaseVariablesPermissionMessage="You do not have permissions to edit this stage or this stage is in-progress";e.ARIALabelReleaseDefinitionEditorMainView="Release pipeline editor";e.DeploymentGroupsProgressSuccessfulText="Successful";e.ApprovalPolicyInfoText_InSequence="Approval must be done {0} {1}.";e.ReleaseHistoryChangeTypeUndelete="Undo delete";e.GatesCanceled="Gates canceled";e.ViewLogsTooltip="View logs";e.ReleaseGateLogSampleNameFailedFormat="{0}/{1} gates Failed";e.EnvironmentPoliciesAccordionDescription="Deployment policies for this stage";e.DeploymentTriggerOptionAriaLabelText="Deployment trigger options for stage {0}";e.PendingApprovalOneEnvironment="Pending approval on {0} stage.";e.MinePanelTitle="Mine";e.EnvironmentStatusDeferred="Deferred";e.NoSupportedArtifacts="No filters available for the linked artifacts";e.ArtifactSourceAlias="Source alias";e.LoadingFetchingCommits="Fetching commits...";e.ToggleBetweenOverviewAndDetails="Toggle focus from and to details panel";e.TriggersHeading="Triggers";e.CommitCount="({0} commit)";e.ArtifactTagPickerInputAriaLabel="Artifact tag picker input";e.EnvironmentPostDeploymentConditionsHeading="Post-deployment conditions";e.DeleteDefinitionConfirmationMessage="Are you sure you want to delete release pipeline \u0027{0}\u0027 and all its associated releases?";e.ApprovalPolicyInfoText="After the deployment starts, all approvers must approve {0} within a timeout of {1}";e.DeploymentStatusWidgetReleaseToolTip="Release: {0}";e.NoItemsMatchYourFilterText="No items match your filter";e.PhaseHeaderDisplayText="Job {0}/{1}";e.ParallelDeploymentTypeCalloutText="Deployment on a stage can be in parallel wherein multiple releases can be deployed at the same time or in order where releases get deployed one after another. Specify \u00271\u0027 for deployments to go one after another (sequential).";e.RefreshText="Refresh";e.GatesStabilizationRemainingTime="Gates evaluation will begin in {0}";e.GatesPhaseTypeDescription="A job is a logical grouping of tasks that defines the runtime target on which the tasks will execute. A gates job executes all the gates in parallel.";e.ScheduleOnlyWithChangesLabel="Only schedule releases if the source or pipeline has changed";e.CreateDraftReleaseMenuOptionText="Create a draft release";e.GatesSucceededNoGatesText="Delay before evaluation completed at {0}";e.CreateFolderText="New folder";e.EnvironmentPickListPlaceholderText="Select Stage";e.ReassignIdentityPickerNotValid="You cannot reassign to the original approver";e.DeleteArtifactConfirmationMessage="Are you sure that you want to unlink the artifact \u0027{0}\u0027 from this release pipeline? Unlinking this artifact can cause some task configurations to become invalid.";e.ReleaseHelpWithApprovals="approvals and gates";e.AutoTriggerAfterEnvironmentsText="Automated after {0} stages";e.ArtifactComparisonCollapsedHeaderDescription="Showing changes compared to ";e.DeploymentStatusWidgetDeploymentStatusToolTip="Deployment status: {0}";e.WindowTitleFormat="{0} - {1}";e.CreateReleasePanelArtifactErrorIconAriaLabel="Artifact error message.";e.ArtifactTriggerBranchFiltersHelpTextForGitHub="A release will be triggered only if the GitHub push contains a commit to the specified branch. For example, selecting \"master\" will trigger a release for a GitHub push which contains one or more commits to the master branch. To trigger a release for any commit to all the branches under features/, enter \"features/\\*\". To trigger a release for commits to all branches, enter \"\\*\". Note that all filters specified will be OR\u0027ed. For example, an artifact matching at least one filter condition would be sufficient to trigger a release.";e.EnvironmentsDeploymentTriggerListAriaLabel="List of stages and their deployment trigger";e.ColorRed="Red";e.IgnoreGateViewButtonName="Ignore gate";e.EnvironmentPropertiesAriaLabel="Stage properties";e.DefinitionFilterBarItemPlaceholderText="Filter by pipeline";e.ResumeManualInterventionTooltip="Resume or reject manual intervention";e.CurrentlyDeployedStatus="Currently deployed status";e.CurrentlyApproving="Approving as self/group";e.PendingApprovalTwoEnvironments="Pending approval on {0} and {1} stages.";e.DeploymentRejectedByText="Deployment rejected by {0} {1}";e.PostDeploymentGatesCollapsibleDescriptionText="Define gates to evaluate after the deployment.";e.EnvironmentNodeDescriptionWithOneOrZeroPhaseAndMoreThanOneTasks="{0} job, {1} tasks";e.ErrorFetchignApprovalData="There was an error in retrieving approvals data";e.ApprovalBeforeGates="Before gates, ask for approvals";e.PostDeploymentText="Post-deployment";e.ActiveDefinitionsCollapseButtonTooltip="Show release pipelines";e.SelectedAttemptNumberText="{0} of {1}";e.ActiveReleasesSearchPlaceholderText="Search for release";e.CreateReleaseEnvironmentDropdownHelpText="For this release, select the stages for which you want to change the trigger from automated to manual. A manual deployment will be required for these stages.";e.DeploymentStatusCompletedTitle="Completed";e.NoSamplesYet="No samples yet";e.EnvironmentName="Stage name";e.ReassignSelectApproverText="Select approver";e.ReleaseDefinitionHasBeenMoved="Release pipeline \u0027{0}\u0027 has been moved to folder \u0027{1}\u0027.";e.ReportingAnalyzeFor7Days="7 days";e.DSWBuildStatusCompleted="Completed";e.CustomBranchFilter="Custom";e.ReleaseReportingDeploymentFrequency="Deployment frequency";e.SingleWarningText="{0} warning";e.CreateReleaseManualEnvironmentNodeDescription="Manual trigger";e.GatesFailedDescription="Gates did not meet the criteria of succeeding at once before the timeout of {0}.";e.UndeleteReleaseConfirmationMessageFormat="Release \u0027{0}\u0027 has been undeleted";e.TimelineContent_Deployment_TaskRunningText="Running task {0}";e.CommitRollbackMessageFormatString="({0} {1} rolled back commit)";e.ColorBlue="Blue";e.ColorGrey="Grey";e.EditRdContextualMenuText="Edit";e.ActiveReleasesAnalyticsTitle="View analytics";e.LatestFromBranch="Latest from branch: {0}";e.CurrentlyDeployedStatusInfo="Currently deployed status information";e.SummaryTabTitle="Summary";e.Exclude="Exclude";e.EnvironmentStatusReason_InProgressReasonFormat="running task {0}";e.ReleaseHelpCommitsTabDescription="Click on environment to see the commits and workitems that get deployed to the environment with each new release.";e.MoreInformationPullRequestDeploymentAriaLabel="More information about pull request based deployments.";e.RetentionDaysToRetainDescription="Set the number of days to retain a release deployed to this stage.";e.ApproveNowAction="Approve";e.ReleaseHelpLogsTabLabel="In-progress deployments and logs";e.SelectArtifacts="Select artifacts";e.ArtifactTriggerDisabledMessageForGit="Enabling the trigger will create a new release every time a Git push happens to the selected repository.";e.AllReleases="All releases";e.Timeline_PRTrigger_EnableOnCurrentEnvironmentText="Trigger must be enabled on this stage to let pull request based releases to get deployed.";e.DswBranchPickerToolTip="\u003cspan\u003eChoose \u0027Default branch in build pipeline\u0027 option to see builds corresponding to the default branch associated with the build pipeline.\u003c/span\u003e\u003cbr/\u003e\r\n\u003cspan\u003eChoose \u0027Custom\u0027 option to see builds corresponding to a particular branch of your choice.\u003c/span\u003e";e.LoadingReleases="Loading releases...";e.CurrentlyDeployedToggleOffAriaLabel="Show all releases for this pipeline";e.InProgressPhaseProgressBarLinkTitlePlural="{0}/{1} tasks have completed for {2} of {3}.";e.PullRequestDeploymentHelpText="Enabling this will allow pull request based releases to be deployed to this stage. Keep it disabled if this is a critical or production stage.";e.GatesLatestText="(latest)";e.EnvironmentTemplateSelectorTitle="Select a template";e.EnabledText="Enabled";e.GatesStabilizationTimeHelp="The time before the added gates are evaluated for the first time. If no gates are added, then the deployment will wait for the duration before proceeding.";e.ContinuousDeliveryAcronym="CD";e.TimelineContent_ArtifactCondition_TagsListFormat="{0} {1}";e.BranchFilter="Branch filter";e.BranchFiltersGitHub="Branch Filters";e.ReleaseHistoryChangeTypeApprove="Approve";e.ReleaseHistoryChangeTypeStart="Start";e.CloneSelectedEnvironment="Clone stage";e.CloseText="Close";e.DeploymentStatusWidgetBuildToolTip="Build: {0}";e.TimelineDescriptionAutomaticTriggerEnvironmentFormat1="{0}";e.ImportRdCommandBarMenuItemText="Import a pipeline";e.OverallApprovalsPending="Approval pending {0}";e.ARIALabelCopyBadgeURL="Copy badge URL";e.PendingIntervention="Pending intervention";e.RetentionLeftPaneARIALabel="Retention policies left pane";e.CancelButtonTooltip="Cancel the deployment";e.TagFilterHelpTextForDockerHub="A release will be triggered only if the Docker Hub push tag matches the regular expression specified in the Tag input.\r\nIf no tag filter is specified, release will always be triggered.\u003cbr\u003e\r\nExamples:\u003cbr\u003e\r\n^latest$ - will trigger the release only if the tag is \u0026quot;latest\u0026quot;\r\nv1\u0026#92;.[0-9] - will trigger the release for tags like \u0026quot;v1.23\u0026quot;, \u0026quot;beta-v1.3-test\u0026quot; etc.\r\n[More information](https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference)";e.EnvironmentNodeDescriptionWithMoreThanOnePhasesAndMoreThanOneTasks="{0} jobs, {1} tasks";e.ArtifactVersionsOptionAriaLabelText="Artifact versions for source {0}";e.AgentOfflineOrDisabled="There is a problem with deploy job \u0027{0}\u0027. There are agents that are capable of running the release, but they are offline or disabled. If the agent is configured to run as a service, ensure that the \u0027Azure Pipelines Agent (\u003cagent name\u003e)\u0027 service is running.";e.AbandonReleaseDialogTitleText="Abandon {0}";e.NextSampleTimeSubtextAriaLabel="{0} to next sample";e.Timeline_AllDeploymentsText="all deployments";e.ArtifactsDisplayMessageSpecificVersion="The artifacts published by each version will be available for deployment in release pipelines. \u003cb\u003e{0}\u003c/b\u003e version \u003cb\u003e{1}\u003c/b\u003e";e.PostDeploymentApproval="Post-deployment approval";e.ReleaseGateLogSampleNameSucceededFormat="{0}/{0} gates Succeeded";e.GatesDelayInProgress="Delay before evaluation is in progress";e.ToPrepositionForTimestamp="to {0}";e.ReleaseSummaryScheduleTriggeredText="Scheduled release";e.RollbackWarning="Rolling back changes - You are deploying an older release. This might remove some work items and commits";e.AgentLogStepStartingMarker="Starting: ";e.WaitingForAgentLogsText="Waiting for console output from an agent...";e.DescriptionText="Description";e.Artifacts="Artifacts";e.ARIALabelEnvironmentAutoApproveCheckbox="Automatically approve auto triggered deployment checkbox";e.InvalidEnvironmentErrorMessage="Stage with ID {0} does not exist. Specify a valid ID and try again.";e.ArtifactsDisplayMessageLatestWithNoBranchAndTags="The artifacts published by each version will be available for deployment in release pipelines. The latest successful build of \u003cb\u003e{0}\u003c/b\u003e with tags \u003cb\u003e{1}\u003c/b\u003e";e.EnvironmentStatusReason_RejectedFormat="Rejected by";e.MarkAsPrimary="Mark as primary";e.RenameFolderDialogTitle="Rename folder";e.ReleaseHelpWhatsNew="What\u0027s new...";e.DeleteReleaseConfirmationMessageFormat="Release \u0027{0}\u0027 has been deleted";e.RetentionReleaseCountInfoText="Set the minimum number of releases to keep for this stage. This number cannot exceed {0} releases.\r\n[Learn more]({1})";e.ApprovalGatesSectionHelpText="Add gates that evaluate health parameters. They are periodically re-evaluated in parallel. When all gates succeed for the success criteria duration, the deployment will proceed. If this does not occur before the timeout period, the deployment is rejected.";e.TimelineHeaderAutomaticTriggerPending="Automatic trigger pending";e.EnvironmentPreDeploymentApproversHeading="Pre-deployment approvers";e.DeleteFolderDialogTitle="Delete folder";e.ARIALabelCloseTheDialog="Close the dialog";e.YouText="you";e.FolderPickerLabel="Folder";e.PullRequestTriggerFollowingEnvironmentsEnabledMessage="The following stages are enabled: {0}";e.FirstTimeDeployment="(Deploying for the first time)";e.TimelineContent_ArtifactCondition_BranchAndTagsConditionFormat="{0} {1} and {2}";e.SortByStartTime="Start time";e.DeploymentGroupsIndicatorPendingText="PENDING";e.PullRequestTriggerDisabledText="The pull Request trigger is disabled.";e.UserActionTextFormat="You can {0}";e.ApprovalOrderTypeAnyUserTitle="Any one user";e.SelectedArtifactTypeSummary="{0}";e.DeploymentGroupLabel="Deployment group:";e.ReleaseDefinitionDescriptionHelpText="Describe the purpose of this release pipeline";e.PullRequestTriggerEnabledEnvironmentsMessage="stages are enabled for pull request deployments. You can enable a stage for pull request based deployments in the pre-deployment conditions of that stage.";e.LogsDeploymentIssuesFormat="Issues ({0})";e.ViewMachineLogs="View machine logs";e.TimelineContent_ArtifactCondition_BranchNameFormat="{0} {1}";e.TriggersAccordionDescriptionText="Define the trigger that will start deployment to this stage";e.ReleaseNameFormat="Release name format";e.WorkItemsArtifactHeaderInfoText="Lists the work item difference between this release and the previously deployed release for this stage. If the current release deployed an older artifact, then the difference lists negative work items i.e., the changes that were rolled back from this stage.";e.IdentityPickerFilterBarItemAriaLabel="Fiter active releases by created-by";e.CreateReleasePanelStartReleaseLabel="Start release";e.DeploymentGroupsSkippedOfflinePluralText="{0} targets skipped";e.TimeRemaining="Evaluation to start in {0}";e.DeleteRdContextualMenuText="Delete";e.TriggerForPartiallySucceeded="Trigger even when the selected stages partially succeed";e.GatesTimeErrorMessage="You must specify an integer from {0} to {1} in {2}.";e.ArtifactTriggerDescriptionForDockerHub="Docker Hub: {0}";e.RequiredInputWithOption="This setting is required. You may select an option from dropdown or type and search.";e.ReleaseTags="Tags";e.ReleaseText="Release";e.TimelineContent_Deployment_TaskFailedText="{0} failed";e.InProgressText="In progress";e.ViewGatesTooltipFormat="View {0} gates";e.NoPrimaryArtifactToCompareFoundMessage="Cannot find the primary artifact in release {0}.";e.AutoTriggerAfterReleaseText="Automated after release creation";e.AddToDashboard_SuccessMessage="{0} has been successfully added to the {1} dashboard.";e.BuildDefinition="Build pipeline";e.DefinitionAnalysisHeader="Analysis";e.ManualTriggerText="Manual";e.ErrorText="Error";e.GatesIgnoredText="Ignored";e.DeploymentStatusViewTriggerTitle="Trigger";e.DeploymentGroupsProgressRunningText="Running";e.PreDeploymentGatesCollapsibleDescriptionText="Define gates to evaluate before the deployment.";e.FolderNameAlreadyExistsError="A folder with this name already exists in the specified folder";e.TimelineDescriptionAutomaticTriggerConditionsNotMet="Deployment will not start automatically as the following artifact condition(s) are not met";e.RetentionAssocitedArtifactsCheckboxLabel="Retain associated artifacts";e.ReleaseTriggerScheduled="Schedule set";e.GatesOrderForExecutionOfApprovalHelp="Manual approvals can be asked for before or after the evaluation of gates.";e.RetentionDoNotKeepArtifactsText="and do not keep artifacts.";e.EnvironmentPostApprovalGatesHeading="Post-deployment gates";e.AutoSaveInProgressText="Saving";e.TimelineHeaderDeploymentCanceling="Deployment canceling";e.CurrentlyDeployedToggleOnText="Show";e.RetentionRetainArtifactInfoText="Retain the build for all releases deployed to this stage.\r\n[Learn more]({0})";e.DemandsWarningHeaderInfo="Demands warning information";e.NoRecentDefinitions="There are no additional release pipelines in this section";e.CreateReleaseDefinitionText="New release pipeline";e.DeploymentStatusViewRequestedByTitle="Requested by";e.ReleaseSummaryPullRequestTriggeredText="Triggered by";e.ReleaseApprovalOverrideButtonText="Override";e.GatesPhaseTimeError="The value should be between {0} and {1} minutes.";e.CommitsArtifactHeaderWithNoRollbackInfoText="This list shows the difference in commits between this release and the previously-deployed release for this stage.";e.NoReleasesMatchYourFilterText="No releases match your filter";e.ReportingDeploymentDuration="Deployment duration";e.NameText="Name";e.ReleaseToCompareAgainstText="Last deployed";e.MoveRdContextualMenuText="Move pipeline";e.TimelineDescriptionWithSuffixFormat="{0}, {1}";e.Minutes="{0} minutes";e.EnvironmentSummary="Stage summary";e.DSWEnvironmentsHeader="Stages\\Builds";e.ViewApprovalsAndGatesTooltipFormat="View {0} approvals and gates";e.ArtifactTriggerDisabledMessageForDockerHub="Enabling the trigger will create a new release every time a Docker push occurs in the selected repository.";e.LatestWithTags="Latest with tags: {0}";e.RetainIndefinitelyIconTooltip="Retained indefinitely";e.DescriptionChangedReleaseStatus="Updated description";e.ReleaseProgressBreadcrumbs="Release progress breadcrumbs";e.RetentionReleaseCountInvalidValueErrorMessage="The specified value is invalid. You must specify a number between 1 and {0}.";e.ArtifactTagInputAriaLabel="Artifact trigger condition tag input.";e.SelectApproveEnvironmentDescription="Select the stages you want to approve";e.IntegrateJiraWorkItemsPlaceHolder="Select Jira account to integrate with";e.ReleaseHelpWhatsNewSummary="We’ve made it much easier to see exactly what’s happening with all of your releases. Now you have a detailed summary of the release pipeline, plus one-click drill-down access to more details such as artifacts, stages, approvals, tests, and logs. Quickly see the work items, commits, test results, and much more.";e.EnvironmentStatusSucceeded="Succeeded";e.ReleaseCommitsComparisonWithUnSupportedArtifactTypeException="The commits view is not supported for artifact type {0}.";e.WorkItemsComparedToMessageText="\u003cdiv\u003eWorks items are compared to \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment \u003c/div\u003e";e.ViewReleasesText="View releases";e.ConjunctionForArtifactsDisplayMessage="and";e.ApprovalInProgressText="Approving";e.JobApprovedStatus="Approved";e.FolderWillBeCreatedMessage="Folder does not exist. Folder with the given path will be created on save";e.SaveAsTemplateDialogVariableInfoText="Any secret variable in the stage won\u0027t be saved as part of the template.";e.DeploymentCanceledBy="Deployment was canceled by {0}";e.ArtifactTriggerDisabledMessageForAzureContainerRepository="Enabling the trigger will create a new release every time an image is pushed to the selected repository.";e.SelectedArtifactsCountText="Selected {0} artifact(s)";e.NoWorkItemsFound="No associated work items were found.";e.DeploymentDurationText="Deployment duration:";e.DSWSelectReleaseDefinitionEnv="Select at least one stage.";e.ARIALabelEnvironmentSecurity="Open stage security dialog";e.PartiallySucceededText="Partially succeeded";e.JiraDeploymentTypeStaging="Staging";e.TimelineDescriptionByOnFormat="{0} by {1} {2} on {3}";e.ReleaseHelpContributions="\u0026 other extensions";e.AllCapsOkText="OK";e.EditInOldEditorText="Edit (old editor)";e.ReassignmentInProgressText="Reassigning";e.ArtifactTriggerDescriptionForGit="Git: {0}";e.EnvironmentTriggerCircularDependencyError="There is circular dependency with the specified stage trigger condition.";e.ActiveReleaseCreatedHeaderText="Created";e.DaysSingular="1 day";e.EnvironmentStatusReason_WaitingOnQueueFormatWithLink="Waiting in the {0} queue. \u003ca href=\"{1}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eView queue\u003c/a\u003e";e.ReleaseHelpTests="Test results";e.ReleaseDefinitionImportedMessage="The following properties in the release pipeline are not imported: agent pools, deployment groups, deployment group tags, approvals, variable groups, and values of secret variables.";e.ReleaseHistoryChangeTypeAbandon="Abandon";e.DeploymentOptionSectionDescription="Define deployment overrides";e.TimelineDescription_NowAtNode="View {0}";e.ReleaseHelpLearn="Learn";e.SucceededGatesMessage="gates succeeded";e.MoveEnvironmentDescription="Move stage up or down";e.ReleaseHelpGates="Pre and post-deployment";e.CDTrigger="Continuous deployment trigger";e.QueueSettingsAccordionDescription="Define behavior when multiple releases are queued for deployment";e.EditReleaseInfoBar="\u003cdiv\u003e \u003cb\u003eYou can edit approvals, tasks, and variables by clicking on Edit release. \u003c/b\u003e Edits will be saved only to this release. \u003c/div\u003e";e.OverallApprovalsApproved="Approved on {0}";e.PhaseHeaderText="Job {0}";e.SourceBranchMismatchMessage="The current release is deploying from the {0} branch while \u003ca href=\"{1}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{2}\u003c/a\u003e is from the {3} branch. This difference cannot be calculated.";e.EnvironmentStatusReason_PartiallySucceededReasonFormat="{0} {1} failed";e.ReleaseHelpCalloutCompletePrimaryText="All set. Get started now…";e.ApprovalIdentityRevalidationInfoMessage="An approval policy for this environment requires you to sign in and revalidate your identity when you approve deployment.";e.ReleaseSummaryPanelNoArtifactsText="No artifact is associated with this release.";e.RetryButton="Retry";e.GateSuccessCriteriaText="{0} gates succeeding since {1}";e.EnvironmentStatusFailed="Failed";e.BuildVersionLabel="Build version:";e.DeploymentPropertiesLabel="Deployment process";e.ReleaseHelpInprogress="In progress";e.DeploymentStatusWidgetBuildStatusToolTip="Build status: {0}";e.GatesSucceededText="All gates succeeded at {0}";e.MaterializeIdentitiesExceptionMessage="Failed to add the identity as a local user due to exception: {0}";e.TagFilterAriaLabel="Regular expression tag filter";e.ReportingEnvironmentFailedDeployment="Failed";e.AriaLabelGatesSamplingIntervalTimeUnit="The time unit for specifying the time between re-evaluation of gates";e.DeploymentGroupsIndicatorInProgressText="IN-PROGRESS";e.TimelineHeaderApprovalSucceeded="{0} approval succeeded";e.PipelineEditorLeftPane="Pipeline editor - left pane";e.EmptyFolderNameError="Folder name cannot be empty";e.OthersCategory="Others";e.FirstRunGuideForReleaseProgressHelpText="First run guide for release progress help";e.AllDefinitionsFolderColumnHeader="Folder / Release pipelines";e.ReleaseCreatedTextSuffix=" has been created";e.DeleteBranchFilter="Delete branch filter {0}";e.EnvironmentPreApprovalGatesHeading="Pre-deployment gates";e.StopRetainingReleaseMenuItemText="Stop retaining indefinitely";e.DemandsWarningHeader="Demands warning";e.RetentionKeepArtifactsText="and keep artifacts.";e.ARIADescriptionCopyBadgeURL="Copy the badge URL to the clipboard";e.RedeployManuallyActionText="redeploy manually";e.EnvironmentStatus_PostApprovalPendingOn="Post-deployment approval pending on";e.ManualTriggerHeaderText="Manually triggered";e.ReleaseCreatedTextPrefix="Release ";e.TimelineContent_Queue_OneLatestText="Deployment queue settings for this stage are configured to deploy one release at a time. When multiple releases are queued, the latest will be deployed and all the others will be canceled.";e.GatesSamplingIntervalTimeErrorMessage="The value must be less than the timeout.";e.SourceAliasCannotBeEmpty="The source alias cannot be empty.";e.ApprovalsAfterSuccessfulGates="On successful gates, ask for approvals";e.TimelineHeaderAutomaticTrigger="Automatic trigger";e.Resumed="Resumed";e.EnvironmentDescriptionAriaLabel="Stage has {0}. Click the button to view stage jobs and tasks.";e.EnvironmentColumnHeaderLabel="Stage";e.TimelineHeaderScheduledTriggerPending="Scheduled trigger pending";e.EditRdCommandBarMenuText="Edit pipeline";e.EnvironmentNameValidationError="Stage name can\u0027t be empty.";e.Instructions="Instructions";e.ListOfChangesGoingText="List of {0} going between";e.DSWDeploymentPartialSuccess="Partial Success";e.ManualInterventionNoPermissionsMessageText="You do not have permissions to resume. Contact release administrator to manage deployments.";e.DSWSelectBranch="Select a branch.";e.DiscardingReleaseText="Discarding...";e.ActiveReleaseEnvironmentsHeaderText="Stages";e.SortOrder="Sort order";e.DSWEnvironmentsSelectionOverflow="Current widget size only supports {0} stages.";e.PullRequestToggleHelpText="Creates a release every time a new version of the selected artifact is available as part of a pull request workflow";e.CommitsLatestArtifactComparisonComparedToMessageText="\u003cdiv\u003eCommits are compared to the \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e deployment (currently on this stage).\u003c/div\u003e";e.TimeAndDateFormat="{0}, {1}";e.GatesOrderForExecutionOfApprovalLabel="Gates and approvals";e.AutoLinkWorkItemsHelpText="When the stage completes, create links to all work items linked to associated changes.";e.ActiveDefinitionsCollapsedLeftPaneLabel="Mine and recent pipelines";e.JiraDeploymentTypeUnmapped="Unmapped";e.Loading="Loading...";e.RetentionTabItemTitle="Retention";e.TimelineDescriptionByMultipleOnFormat="{0} by {1} {2} (+{3}) on {4}";e.GatesSucceededTooltipFormat="{0} gates succeeded";e.DSWTooltipDeploymentDuration="Deployment Duration";e.MoreArtifacts="{0} more";e.ImportDefinitionError="Something went wrong. Try importing again.";e.NewHubZeroDayPrimaryText="No release pipelines found";e.MoveDownText="Move down";e.CanceledText="Canceled";e.RevalidateIdentityUnexpected="Revalidating the identity of the approver before completing the approval setting on stage(s) {0} is not expected in bulk approval. Approve individually or remove the setting and try again.";e.DeployOptionsLabel="Subsequent releases";e.ReleaseComparisonWithIncompatibleArtifactType="The current release has artifact {0} of type \"{1}\" while \u003ca href=\"{2}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{3}\u003c/a\u003e has artifact {4} of type \"{5}\". This difference cannot be calculated.";e.TimelineHeaderGatesProcessing="{0} gates processing";e.CommaSeparator=",";e.RejectedDate="Rejected at {0}";e.TriggerColumnHeaderLabel="Trigger";e.ResumedDate="Resumed at {0}";e.TimelineQueueContentText="\u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eView\u003c/a\u003e currently queued deployments.";e.ScheduledTriggerAfterEnvironmentText="Scheduled after {0} stage";e.ReleaseHelpCommits="Commits";e.ReleaseStatus="Release status";e.DeployInSequenceText="Deploy all in sequence";e.EnvironmentStatusReason_ManualInterventionRejectedFormat="Rejected by";e.PendingApprovalTooltip="Pending approval";e.ReleaseHelpPipelineTabDescription="Quickly visualize details of your release such as triggers, requestor, artifacts, tags and more. Environments are modeled to show their status, including detailed progress and final outcome. Logs are just one click away.";e.GateDefinitionsMenuDropdown="Gate definitions list menu";e.DeploymentGroupLogsHeader="Logs for deployment group";e.DeploymentsTriggerPivotLabelText="Deployment trigger";e.ConditionsSucceededTooltipFormat="{0} conditions succeeded";e.RetentionOneDayCountText="Keep for {0} day,";e.PostEnvironmentDeploymentTriggerTabName="After stage";e.DeployManuallyActionText="deploy manually";e.TimelineHeaderApprovalCanceled="{0} approval canceled";e.WorkItemState="State";e.NextGateSampleIn="Next in {0}";e.WorkItemTitle="Title";e.DeploymentWidgetTestsToolTip="Tests: {0} of {1} passed";e.RetentionReleaseCountEmptyValueErrorMessage="This setting is required. You must specify a number between 1 and {0}.";e.ReleaseSummaryPullRequestTriggerNodeText="Pull request deployment requested for";e.SummaryTabCommandsMenuBarAriaLabel="Summary menu";e.GatesCanceledTooltipFormat="{0} gates canceled";e.DSWTestPassRate="Test Pass Rate";e.AllDefinitionsTabTitle="All pipelines";e.ArtifactTriggerDisabledMessageForPackageManagement="Enabling the trigger will create a new release every time a new version of the selected package is published.";e.ApproversLabel="Approvers";e.GateTimeoutOf="Timeout of {0}";e.CreateReleasePanelVariablesSectionInfoText="Shows a list of pipeline variables that are marked as \u0027Settable at release time\u0027 in the release pipeline. Note that variables are not shown if scoped to stages for which you do not have edit permissions.";e.GateResultAriaLabel="{0} {1} at {2}";e.RetentionDaysInvalidValueErrorMessage="The specified value is invalid. You must specify a number between 1 and {0}.";e.DefinitionScheduleTriggerHeading="Scheduled release trigger";e.CompareText="Compare";e.NoCurrentlyDeployedSubText="No deployments have been made for this pipeline. Toggle \u0027Currenly deployed\u0027 to view all releases, or create a new release.";e.RetentionRightPaneARIALabel="Retention policies right pane";e.ApprovalButtonTooltip="View approval";e.TargetBranch="Target Branch";e.NoDeploymentText="No deployments yet";e.ArtifactTriggerAdditionalOptionsHeader="Additional options";e.AbandonReleaseMenuItemText="Abandon";e.ApprovalPendingDescription_byAnyOne="Waiting for \u003cstrong\u003eany one\u003c/strong\u003e of the approvers to approve.";e.SameSourceVersionMessage="There is no difference in commits between the current release and \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e{1}\u003c/a\u003e. Both releases have the same artifact version.";e.Properties="Properties";e.ViewRdContextualMenuText="View";e.CurrentlyDeployedOnEnvironment="Currently deployed";e.ArtifactTypeInvalidFieldsErrorMessage="Field \u0027{0}\u0027 should have valid values.";e.ReassignApproverCloseButtonAriaText="Close reassign approver dialog box";e.PostReleaseTriggerTabName="After release";e.SourceType="Source type";e.DefaultVersionDescription="The default version will be deployed when new releases are created. The version can be changed for manually created releases at the time of release creation.";e.BadgeUrlInfoMessageText="Badge URLs for stage(s) {0} will be available only after you save the release pipeline";e.DswEnvironmentPickerToolTip="Release pipelines linked to the selected build pipeline, for which stage status will be shown. Create release pipelines in the Releases tab.";e.PhaseRefNameDescription="Any changes to the reference name will require updates to downstream tasks that uses this reference name, a valid reference name can only contain \u0027a-z\u0027, \u0027A-Z\u0027, \u00270-9\u0027 and \u0027_\u0027 and must not start with a number.";e.WorkItemsRollbackMessageFormatString="({0} {1} rolled back work items)";e.LogsTabJobNameFormat="{0} ({1}) ";e.FilterByKeywordsText="Filter by keywords";e.DiscardButtonText="Discard";e.EditEnvironmentPermissionMessage="You do not have permissions to modify this stage. Changes made will not be saved. Contact your release manager to grant permissions.";e.CreateFolderDialogTitle="New folder";e.ReleaseHelpCalloutSecondaryText="You can relaunch the {0} dialog by clicking the Help button.";e.EvaluationOptionsLabelText="Evaluation options";e.PreDeployApprovalSubText="Pre-deployment approval pending";e.AttemptPropertiesLabel="Deployment attempt #{0}";e.TriggersBuildDefDeletedError="Artifact source (build pipeline) might be invalid. It might have been deleted or you do not have permissions to view it.";e.ArtifactTriggerBranchFiltersHelpTextForBuild="\u003cli\u003eA release will be triggered only for a build that is from one of the branches selected here. For example, selecting \"master\" will trigger a release for every build from the master branch. To trigger a release for any build under features/, enter \"features/*\". To trigger a release for all builds, just enter \"*\". Note that all the filters specified here will be OR\u0027ed, i.e., artifact matching at least one filter condition would be sufficient to trigger a release. TFVC Build Artifacts do not support branch based triggers, you can use tags to use triggers for TFVC Build Artifacts.\u003c/li\u003e\r\n\u003cli\u003eInstead of selecting a branch, you can also enter a variable which contains the branch name. For example, if variable $(currentReleaseBranch) contains the value \"releases/M23\" then you can enter this variable in the branch field. A release will be triggered if the build is from \"releases/M23\". Variables from variable groups can be used across multiple release pipelines.\u003c/li\u003e\r\n\u003cli\u003eYou may also optionally specify tags here. A release will be triggered only if a new build, tagged with the keywords specified here, is available. If you include multiple tags in the same line, they are AND-ed while evaluating the trigger condition, whereas if you include tags in separate lines, they are OR-ed. Excluding tags is not supported.\u003c/li\u003e\r\n\u003cli\u003eYou can also add filter that takes the value from build pipeline\u0027s default branch. This is the branch that is configured in the build pipeline of the linked artifact.\u003c/li\u003e.";e.RetentionSingleReleaseCountText="{0} good release";e.AddGateDescription="Add gate";e.NewReleaseDefinitionNameText="New release pipeline";e.BranchVersionPickerText="Branch version picker";e.DeferredInfo="Deferred information";e.MoreInformationTriggerAriaLabel="More information about selecting triggers in pre-deployment stage conditions";e.NoArtifactsDisplayMessage="No version is available for \u003cb\u003e{0}\u003c/b\u003e or the latest version has no artifacts to publish. Please check the source pipeline.";e.ApprovingButton="Approving...";e.ReportEnvironmentDeploymentStatus="Report deployment status to the repository host";e.EnvironmentStatusReason_WaitingForPipeline="Waiting for a job";e.MoveText="Move";e.ByYouText="you";e.GatesFailedText="Gates evaluation failed at {0}";e.ToolbarOverflowAriaLabel="More actions";e.GatePreviousSample="Previous sample";e.ApprovalPendingInfo="Approval pending ";e.ClosePanelText="Close panel";e.ApprovalRejectedTooltipFormat="{0} approval was rejected";e.BuildDefinitionBranch="The build pipeline\u0027s default branch";e.OpenReleaseMenuItemText="Open";e.RetentionDaysCountTitle="Days to retain a release";e.DeploymentStatusAttemptNumberTitle="Attempt #";e.ManualInterventionTimeoutPolicyForReject="The deployment will be rejected on timeout.";e.ManualInterventionTimeoutPolicyForResume="The deployment will be resumed on timeout.";e.EnvironmentAutoRedeployTriggerHeading="Auto-redeploy trigger";e.TimelineDescriptionApprovalPendingOnSinceFormat="On {0} {1} since {2}";e.FolderDialogNamePlaceholder="Enter a name";e.EvaluationTimeSamplesText="Evaluation time samples";e.DefinitionNameAlreadyExistsError="A pipeline with this name already exists";e.ReportingDeploymentFrequency="Deployment frequency";e.Include="Include";e.ViewLogsButtonText="View logs";e.ApprovalsAfterGates="Ignore gates outcome and ask for approvals";e.ARIALabelLogsRightPane="Pipeline logs view right pane";e.JobStateGatesPartiallySucceeded="Gates partially succeeded";e.AddBranchFilter="Add branch filter";e.ReleaseHelpContributionsTabLabel="Test results \u0026 other extensions";e.Timeline_NowAtNode_NoPreviousDeploymentText="No previous deployment";e.PendingApprovalSubtext="Pending approval";e.TimelineHeaderDeploymentPartiallySucceeded="Deployment partially succeeded";e.AutoRedeployTriggerAttemptText="Post-deployment auto redeploy condition";e.ApprovalPolicyInfo_ByAnyone="After the deployment starts, \u003cstrong\u003e any one \u003c/strong\u003e of the approvers must approve within a timeout of {0}";e.MinimumSuccessDurationLabel="Minimum duration for steady results after a successful gates evaluation";e.ApprovalOverrideCancelButtonAriaText="Cancel override";e.CreateReleasePanelVariablesAccordionLabel="Variables";e.PhaseErrorsLabel="Click here to view errors";e.ArtifactTriggerToggleHelpTextForGit="Creates a release every time a Git push occurs in the selected repository.";e.DSWTooltipAbortedRuns="Aborted Runs";e.CreateReleaseMenuOptionText="Create release";e.OutputVariablesGroupLabel="Output Variables";e.DeleteArtifact="Delete artifact";e.BuildDefinitionBranchPlaceholderFormat="{0}";e.ActiveDefinitionsLeftPaneARIALabel="Active pipelines left pane";e.DSWTooltipNotApplicable="N/A";e.Timeline_PRTrigger_Disabled="Pull request deployment trigger disabled";e.EnvironmentApprovalTimeoutLabel="Timeout";e.LogsTabNotDeployedEnvironmentText="Deployment of {0} to {1} has not yet started.";e.ArtifactTriggerDescriptionForAzureContainerRepository="Azure Container Repository: {0}";e.MoreInformationFiltersAriaLabel="More information about artifact filters";e.CanvasErrorsAndWarningsFormat="\u003cstrong\u003e{0}, {1}\u003c/strong\u003e";e.DeleteEnvironmentText="Delete stage";e.IntegrateJiraWorkItems="Report deployment status to Jira";e.TagsLabel="Tags";e.AddArtifactSourceTrigger="Add an artifact source trigger";e.InvalidDefinitionIdError="The pipeline ID {0} is not valid";e.PullRequestTriggerDescription="Enabling this will create a release every time a selected artifact is available as part of a pull request workflow";e.RetentionReleasesToKeepDescription="Set the minimum number of releases to keep for this stage.";e.ArtifactVersionSeperator="/";e.IntegrationsText="Integrations";e.DeploymentSubStatusViewStatusTitle="Sub-status";e.NoReleasesFoundPrimaryText="No releases found";e.StageDeploymentFailed="Deployment to this stage fails";e.DSWDeploymentInProgress="In Progress";e.DuplicateAlias="The source alias \u0027{0}\u0027 is already linked to the release pipeline, please provide another alias.";e.MultipleWarningsText="{0} warnings";e.PullRequestAddBranchFilterAriaDescription="Add pull request target branch filters.";e.SelectAllArtifactsLabel="Select all artifacts";e.MoreInformationScheduleAriaLabel="More information about schedule based conditions";e.DeploymentStatusWidgetEnvironmentNameToolTip="Stage: {0}";e.TimelineHeader_NowAtNode="Now at {0}";e.EnvironmentStatusInProgress="In progress";e.PreDeploymentText="Pre-deployment";e.SingleIssueFormat="{0} issue";e.DSWDeploymentNotDeployed="Not Deployed";e.SelectEnvironment="Select stage";e.ReleaseProgressHelpDialogTitle="Release view help dialog";e.TimelineStatus_QueuedForAgent="Queued for agent";e.JenkinsSelectiveArtifactsMessage="Following are the artifacts published in the latest version of the job.";e.CopiedToClipboard="Copied to the clipboard";e.KeyboardShortcutSaveReleaseDefinitionDescription="Save the release pipeline";e.TagFilterForAzureContainerRegistry="Tag Filter";e.AddArtifactFilterAriaLabel="Add artifact filter";e.SettingsRequired="This setting is required.";e.PullRequestTriggerTargetBranchCallout="\u003cli\u003eTarget branch is the branch for which a pull request is raised. A release will be triggered only if the build is generated from a pull request raised for these branches. To specify multiple target branches, use wildcard character “*” (E.g. \"features/*\"). You may also optionally specify tags.  Once triggered, the status of the release will be posted back to the corresponding code repository.\u003c/li\u003e";e.SortByFastestFirst="Fastest first";e.GateIgnoredAt="Gate ignored at {0}";e.AddToDashboardContextualMenuText="Add to dashboard";e.AriaLabelGatesStabilizationTimeValue="The delay before evaluation is {0}";e.ReleaseNotRetainedMessageFormat="Release \u0027{0}\u0027 is no longer set to be retained indefinitely";e.InvalidReportContributionIdFormat="Selected contribution id for report \"{0}\" is not a valid release report contribution id";e.NoDefinitionsMatchYourFilterText="No pipelines match your search";e.Deploying="Deploying";e.ActiveReleasesMenuItemButtonAriaDescription="Menu items for this release";e.SinglePhaseMutlipleErrorsLable="There are {0} in job {1}";e.ApprovalPendingDescription="Waiting for all approvers to approve {0}.";e.ArtifactAliasChangedWarningMessage="Changing an artifact source alias can break task inputs and scripts where it is used as a variable.";e.ReleaseHelpCommitsTabLabel="Commits and workitems";e.ZoomOutEnvironments="Zoom out stages";e.EnvironmentStatus_Canceled="Deployment was canceled by";e.ArtifactFiltersHelpText="Select artifact condition(s) to trigger a new deployment. A release will be deployed to this stage only if all artifact conditions match.";e.ManualInterventionnoPermissionMessage="You need the right permissions to approve this manual intervention. \u003ca href=\"{0}\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eLearn more\u003c/a\u003e";e.WhatsNew="What\u0027s New";e.DeploymentGroupsProgressFailedText="Failed";e.AbandonText="Abandon";e.JiraDeploymentTypeDevelopment="Development";e.DeploymentProcessText="Deployment process";e.ActiveReleaseHiddenEnvironmentCount="{0}";e.DefaultArtifactSpecifyAtReleaseCreation="Specify at the time of release creation";e.HoursSingular="1 hour";e.ReassignApproverButtonText="Reassign";e.InvalidParmetersMessage="Invalid parameters";e.MoveDefinitionFolderDialogTitle="Move pipeline";e.ARIALabelReleaseHelpLeftPane="Release view help dialog left pane";e.WaitingForMIText="Waiting for manual intervention {0}";e.PullRequestDeploymentDisabledAriaLabel="Pull request deployment is disabled.";e.BranchFiltersBuild="Build branch filters";e.DSWViewSelectorHeaderLabel="View";e.JobApprovedAutomaticallyStatus="Approved automatically";e.DemandsWarningFullText="{0}: {1} ";e.WorkItemRollbackMessageFormatString="({0} {1} rolled back work item)";e.BranchLabel="Branch:";e.TimelineStatus_QueuedForDeployment="Queued for deployment";e.PullRequestTriggerHeaderText="Pull request deployment";e.CurrentlyDeployedToggleOffText="Hide";e.NextSampleTimeSubtext="to next sample";e.ForText="for";e.ArtifactTriggerToggleHelpTextForPackageManagement="Creates a release every time a new version of the selected package is published.";e.CreateReleasePanelDeploymentTriggerLabel="Pipeline";e.DeployMultiple="Deploy multiple";e.IntegrateJiraWorkItemsHelpText="Include Jira issues in work items and create links to all issues on stage completion";e.NewHubZeroDayCreateDefinitionButtonText="New pipeline";e.WorkItemType="Type";e.EnvironmentStatusQueued="Queued";e.PreDeploymentConditions="Pre-deployment conditions";e.EditReleaseText="Edit release";e.InProgressPhaseProgressBarLinkTitleSingular="{0}/{1} tasks have completed for {2} of {3}.";e.EnvironmentStatusScheduled="Scheduled";e.NewReleaseDefinitionTabTitle="New";e.ScheduleLable="Schedule";e.DSWTooltipDeploymentStatus="Deployment Status";e.PendingManualIntervention="Pending manual intervention";e.ArtifactTriggerAdditionalOptionsHelpText="Create a release when tags are added to an existing build. Upon enabling this option, a release is created when tags are added to an existing build that has not been released. This could lead to deployment of an older build to the stages.";e.ReleaseApprovalOverrideButtonDescriptionText="Click here to override the approval";e.SelectArtifactsFormat="Select artifacts for {0}";e.BranchOrTagFilterRequired="Specify branch or tag filters.";e.WidgetAddedSuccessfullyMessage="The widget \u0027{0}\u0027 has been added successfully";e.EnvironmentPreDeploymentConditionHeading="Pre-deployment conditions";e.RetentionPolicyHeaderText="Settings for {0}";e.ArtifactAliasLengthValidationError="The artifact alias cannot exceed 256 characters. Specify a shorter name.";e.Multiplier="Multiplier: ";e.ApprovedTooltipFormat="{0} is approved";e.Waiting="Waiting";e.UndeleteReleaseMenuItemText="Undelete";e.AriaLabelGatesSamplingIntervalTimeValue="The time between re-evaluation of gates is {0}";e.AutoLinkWorkItems="Report deployment status to Work";e.PostDeploymentApproversHeading="Post-deployment approvals";e.ColorOrange="Orange";e.CanvasTabTitle="Pipeline";e.DSWDeploymentFailed="Failed";e.SourceAliasDescription="This is an identifier (typically a short name) that uniquely identifies an artifact linked to a release pipeline. It cannot contain the characters: \\\\ / : * \" ? \u003c \u003e or | ";e.Days="{0} days";e.Help="Help";e.Type="Type";e.Task="task";e.Tags="Build tags";e.XOfY="{0} of {1}";e.EnvironmentInfoAriaLabel="The release pipeline is {0}. The stage is {1}. ";e.PoliciesNotEnabledNote="Policies are applicable when a manual approver is set.";e.DeleteReleaseDialogEnvironmentsInProgress="Deleting is not allowed when deployments are in-progress in any stage. Cancel stage(s) {0} and try again.";e.EmptySearchResultMessage="No matching release pipelines found ";e.CreateReleaseEnvironmentDropdownLabel="Stages for a trigger change from automated to manual.";e.DeploymentGroupsProgressTargetsText="Targets";e.CommitsArtifactLatestArtifactComparisonWithNoRollbackHeaderInfoText="This list shows the difference in commits between this artifact and the previously-deployed artifact for this stage.";e.ReleaseReportingDeploymentDuration="Deployment duration";e.NotValidReleaseApprover="As per the approval settings on this stage, you cannot approve or reject deployment to stage \u0027{0}\u0027 because you created this release or deployment. Please reassign this approval.";e.NoReleaseText="No release triggered";e.JiraDeploymentTypeTesting="Testing";e.DeploymentOptionSectionHeading="Deployment Option";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("PipelineWorkflow/Scripts/Editor/Common/Constants",["require","exports"],function(n,t){var r,u,i,f,e,o,s,h,c,l,a,v,y,p;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.ACTION_CREATE_DEFINITION="action-create-definition";n.ACTION_CLONE_DEFINITION="action-clone-definition";n.ACTION_IMPORT_DEFINITION="action-import-definition";n.ACTION_EDIT_DEFINITION="environments-editor-preview";n.ACTION_PIPELINE_TAB="definition-pipeline";n.ACTION_TASKS_TAB="definition-tasks";n.ACTION_HISTORY_TAB="definition-history";n.ACTION_VARIABLES_TAB="definition-variables";n.ACTION_RETENTIONS_TAB="definition-retentions";n.ACTION_OPTIONS_TAB="definition-options"}(r=t.EditorActions||(t.EditorActions={})),function(n){n.ACTION_ENVIRONMENTS_EDITOR="environments-editor";n.ACTION_ARTIFACTS_EDITOR="artifacts-editor";n.ACTION_VARIABLES_EDITOR="variables-editor";n.ACTION_CONFIGURATIONS_EDITOR="configurations-editor";n.ACTION_TRIGGERS_EDITOR="triggers-editor";n.ACTION_GENERAL_SETTINGS_EDITOR="general-settings-editor";n.ACTION_RETENTION_POLICY_EDITOR="retention-policy-editor"}(u=t.OldReleaseDefinitionNavigateStateActions||(t.OldReleaseDefinitionNavigateStateActions={}));i=function(){function n(){}return n.GuidMinLengthValidationPattern="^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",n.GuidValidationPattern="^{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}$",n.HttpUrlValidationPattern="^https?://.+$",n.NumberMinValue=-2147483647,n.NumberMaxValue=2147483647,n.PossbileTagsKey="possibleTags",n.BuildRepository="repository",n.LatestWithBranchAndTagsTypeValue="latestWithBranchAndTagsType",n.BuildDefinitionFolderPath="folderPath",n.TagSeparator="; ",n.ArtifactAlias="alias",n.TagSplittingSeparator=/[,;]/,n.ArtifactAliasRegx=new RegExp('^.*[\\\\/:*?"<>|]+.*$'),n.MaxNumberOfArtifactsToDisplay=3,n.DefaultArtifactType="Build",n.ArtifactAliasMaxLength=256,n.ConnectedServicePrefix="connectedservice:",n.BuildArtifactSourceType="buildArtifactSourceType",n.IsSearchable="isSearchable",n.SearchText="name",n.IsArtifactEditOperation="isArtifactEditOperation",n.EndpointFilterRule="EndpointFilterRule",n}();t.ArtifactsConstants=i,function(n){n.MainParentKey="Main"}(f=t.ErrorMessageParentKeyConstants||(t.ErrorMessageParentKeyConstants={})),function(n){n.CanvasSelectorInstance="cd-canvas-selector-instance"}(e=t.CanvasSelectorConstants||(t.CanvasSelectorConstants={})),function(n){n.RetentionTabInstanceId="cd-retention-tab-instance"}(o=t.RetentionTabConstants||(t.RetentionTabConstants={})),function(n){n.EnvironmentNameMaxLength=256}(s=t.EnvironmentPropertiesConstants||(t.EnvironmentPropertiesConstants={})),function(n){n.EmptyTemplateGuid="00000000-0000-0000-0000-000000000000"}(h=t.TemplateConstants||(t.TemplateConstants={})),function(n){n.ReleaseDefinitionHubId="ms.vss-releaseManagement-web.cd-workflow-hub"}(c=t.HubIds||(t.HubIds={})),function(n){n.TfsVersionControl="TfsVersionControl";n.TfsGit="TfsGit";n.Git="Git";n.GitHub="GitHub";n.GitHubEnterprise="GitHubEnterprise";n.Bitbucket="Bitbucket";n.Svn="Svn"}(l=t.WellKnownRepositoryTypes||(t.WellKnownRepositoryTypes={})),function(n){n.EnvironmentSelector="ReleaseEnvironmentSelector"}(a=t.EditorFeatures||(t.EditorFeatures={})),function(n){n[n.Add=0]="Add";n[n.Edit=1]="Edit"}(v=t.ArtifactMode||(t.ArtifactMode={})),function(n){n[n.Uninitialized=0]="Uninitialized";n[n.Initializing=1]="Initializing";n[n.FetchingDependencies=2]="FetchingDependencies";n[n.Initialized=3]="Initialized"}(y=t.ArtifactInputState||(t.ArtifactInputState={})),function(n){n[n.TfGitBranchFilter=0]="TfGitBranchFilter";n[n.Combo=1]="Combo";n[n.Text=2]="Text";n[n.None=3]="None"}(p=t.BranchInputType||(t.BranchInputType={}))});

define("DistributedTaskControls/Common/Common",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et;Object.defineProperty(t,"__esModule",{value:!0});t.FeatureFlag_CDProcessParameters="WebAccess.ReleaseManagement.ProcessParameters";t.FeatureFlag_MarketplaceExtensionSupport="WebAccess.Build.CIWorkflow.MarketplaceExtensionSupport";t.FeatureFlag_EnableIdentityNavigation="VisualStudio.Services.Framework.EnableIdentityNavigation";t.FeatureFlag_TaskShowOutputVariables="DistributedTask.TaskOutputVariables";t.FeatureFlag_TaskValidateOutputVariables="DistributedTask.TaskValidateOutputVariables";t.FeatureFlag_EnableOldTaskGroupHub="WebAccess.DistributedTask.EnableOldTaskGroupHub";t.FeatureFlag_PickListSearchEnabled="DistributedTask.PickListSearchEnabled";t.FeatureFlag_ShareVariableGroups="WebAccess.DistributedTask.ShareVariableGroups";t.FeatureFlag_ResourceAuthForVGEndpoint="WebAccess.DistributedTask.ResourceAuthorization.VGEndpoint";t.FeatureFlag_CanvasGraphPerformanceImprovement="WebAccess.DistributedTask.CanvasGraphPerformanceImprovement";t.FeatureFlag_EnableMlWorkspaceAsScope="ServiceEndpoints.EnableMlWorkspaceAsScope";t.FeatureFlag_DoNotAuthorizeAllPipelinesByDefault="Pipelines.Policy.DoNotAuthorizeAllPipelinesByDefault",function(n){n.AgentsActions="Common.AgentsActions";n.AgentPoolActions="Common.AgentPoolActions";n.ConnectedServiceEndpointActions="Common.ConnectedServiceEndpointActions";n.ContainerTabActions="Common.ContainerTabActions";n.ContributionActions="Common.ContributionActions";n.DemandActions="Common.DemandActions";n.DependenciesActions="Common.DependenciesActions";n.DeploymentGroupsActions="Common.DeploymentGroupsActions";n.ExtensionItemListActions="Common.ExtensionItemListActions";n.MachinesActions="Common.MachinesActions";n.DeployPhaseActions="Common.DeployPhaseActions";n.PhaseInputsActions="Common.PhaseInputsActions";n.DeployPhaseListActions="Common.DeployPhaseListActions";n.HistoryActions="Common.HistoryActions";n.ItemSelectorActions="Common.ItemSelectorActions";n.LinkUnlinkProcParamsDialogViewActions="Common.LinkUnlinkProcParamsDialogViewActions";n.MessageHandlerActions="Common.MessageHandlerActions";n.OverlayPanelActions="Common.OverlayPanelActions";n.ProcessParameterActions="Common.ProcessParameterActions";n.SaveStatusActions="Common.SaveStatusActions";n.SecureFileActions="Common.SecureFileActions";n.TaskAgentPoolActions="Common.TaskAgentPoolActions";n.TaskItemListActions="Common.TaskItemListActions";n.TaskGroupDialogActions="Common.TaskGroupDialogActions";n.TaskGroupPropertiesActions="Common.TaskGroupPropertiesActions";n.TaskGroupParametersActions="Common.TaskGroupParametersActions";n.TaskListActions="Common.TaskListActions";n.TemplateActions="Common.TemplateActions";n.VariableGroupActions="Common.VariableGroupActions";n.ValidatorActions="Common.ValidatorActions";n.ConnectedServiceValidatorActions="Common.ConnectedServiceValidatorActions";n.ConnectedServiceInputActions="Common.ConnectedServiceInputActions";n.LiveLogsActions="Common.LiveLogsActions";n.LogsExpandedViewActions="Common.LogsExpandedViewActions";n.LoadableComponentActions="Common.LoadableComponentActions";n.ProcessManagementActions="Common.ProcessManagementActions"}(i=t.ActionsKeys||(t.ActionsKeys={})),function(n){n.AgentsActionsCreator="Common.AgentsActionsCreator";n.AgentPoolActionsCreator="Common.AgentPoolActionsCreator";n.ARMInputActionsCreator="Common.ARMInputActionsCreator";n.ConnectedServiceEndpoint_ActionCreator="Common.ConnectedServiceEndpointActionsCreator";n.ConnectedServiceInputActionsCreator="Common.ConnectedServiceInputActionsCreator";n.ContributionActionsCreator="Common.ContributionActionsCreator";n.DemandActionsCreator="Common.DemandActionsCreator";n.DependenciesActionsCreator="Common.DependenciesActionsCreator";n.DeploymentGroupsActionsCreator="Common.DeploymentGroupsActionsCreator";n.MachinesActionsCreator="Common.MachinesActionsCreator";n.DeployPhaseActionsCreator="Common.DeployPhaseActionsCreator";n.ExtensionActionsCreator="Common.ExtensionActionsCreator";n.PhaseInputsActionsCreator="Common.PhaseInputsActionsCreator";n.DeployPhaseListActionsCreator="Common.DeployPhaseLitActionsCreator";n.HistoryActionsCreator="Common.HistoryActionsCreator";n.LinkUnlinkProcParamsDialogViewActionCreator="Common.LinkUnlinkProcParamsDialogViewActionsCreator";n.MessageHandlerActionsCreator="Common.MessageHandlerActionsCreator";n.OverlayPanelActionsCreator="Common.OverlayPanelActionsCreator";n.PickListInputActionsCreator="Common.PickListInputActionsCreator";n.ProcessParameterActionsCreator="Common.ProcessParameterActionsCreator";n.SaveStatusActionsCreator="Common.SaveStatusActionsCreator";n.SecureFileActionsCreator="Common.SecureFileActionsCreator";n.TaskActionsCreator="Common.TaskActionsCreator";n.TaskAgentPoolActionsCreator="Common.TaskAgentPoolActionsCreator";n.TaskDetailsActionsCreator="Common.TaskDetailsActionsCreator";n.TaskGroupDialogActionsCreator="Common.TaskGroupDialogActionsCreator";n.TaskGroupPropertiesActionCreator="Common.TaskGroupPropertiesActionCreator";n.TaskGroupParametersActionCreator="Common.TaskGroupParametersActionCreator";n.TaskListActionsCreator="Common.TaskListActionsActionsCreator";n.TemplateActionsCreator="Common.TemplatesActionsCreator";n.VariableGroupActionsCreator="Common.VariableGroupActionsCreator";n.ValidatorActionsCreator="Common.ValidatorActionsCreator";n.LogsExpandedViewActionsCreator="Common.LogsExpandedViewActionsCreator";n.LiveLogsActionsCreator="Common.LiveLogsActionsCreator";n.LoadableComponentActionsCreator="Common.LoadableComponentActionsCreator"}(r=t.ActionCreatorKeys||(t.ActionCreatorKeys={})),function(n){n.AgentsStore="Common.AgentsStore";n.ARMInputStore="Common.ARMInputStore";n.ConnectedServiceEndpointStore="Common.ConnectedServiceEndpointStore";n.ContainerTabStore="Common.ContainerTabStore";n.ContributionsStore="Common.ContributionsStore";n.DemandsStore="Common.DemandsStore";n.DependenciesStore="Common.DependenciesStore";n.DeploymentGroupDemandsStore="Common.DeploymentGroupDemandsStore";n.DeploymentGroupsStore="Common.DeploymentGroupsStore";n.MachinesStore="Common.MachinesStore";n.DeployPhaseListStore="Common.DeployPhaseListStore";n.ExecutionPlanStore="Common.ExecutionPlanStore";n.ExtensionItemListStore="Common.ExtensionItemListStore";n.HistoryStore="Common.HistoryStore";n.LinkUnlinkProcParamsDialogViewStore="Common.LinkUnlinkProcParamsDialogViewStore";n.MessageHandlerStore="Common.MessageHandlerStore";n.OverlayPanelStore="Common.OverlayPanelStore";n.PhaseStoreBase="Common.PhaseStoreBase";n.PhaseInputsStore="Common.PhaseInputsStore";n.MachineGroupInputsStore="Common.MachineGroupInputsStore";n.DefaultPhaseStore="Common.DefaultPhaseStore";n.RunOnAgentPhaseStore="Common.RunOnAgentPhaseStore";n.RunOnMachineGroupPhaseStore="Common.RunOnMachineGroupPhaseStore";n.RunOnServerPhaseStore="Common.RunOnServerPhaseStore";n.SaveStatusStore="Common.SaveStatusStore";n.SecureFilesStore="Common.SecureFilesStore";n.TaskAgentPoolStore="Common.TaskAgentPoolStore";n.TaskItemListStore="Common.TaskItemListStore";n.TaskDetailsStore="Common.TaskDetailsStore";n.TaskGroupDialogStore="Common.TaskGroupDialogStore";n.TaskGroupPropertiesStore="Common.TaskGroupPropertiesStore";n.TaskGroupParametersStore="Common.TaskGroupParametersStore";n.TaskListStore="Common.TaskListStore";n.TemplatesStore="Common.TemplatesStore";n.VariableGroupDataStore="Common.VariableGroupDataStore";n.VariableGroupViewStore="Common.VariableGroupViewStore";n.ProcessParameterViewStore="Common.ProcessParameterViewStore";n.LinkVariableGroupPanelDataStore="Common.LinkVariableGroupPanelDataStore";n.LinkVariableGroupPanelViewStore="Common.LinkVariableGroupPanelViewStore";n.VariablesListStore="Common.VariablesListStore";n.ConnectedServiceInputStore="Common.ConnectedServiceInputStore";n.LiveLogsStore="Common.LiveLogsStore";n.LoadableComponentStore="Common.LoadableComponentStore";n.ScopePickerStore="Common.ScopePickerStore";n.LogsExpandedViewStore="Common.LogsExpandedViewStore";n.EditVariableGroupPanelStore="Common.EditVariableGroupPanelStore";n.ProcessManagementStore="Common.ProcessManagementStore"}(u=t.StoreKeys||(t.StoreKeys={})),function(n){n.MainParentKey="Main"}(f=t.MessageParentKeyConstants||(t.MessageParentKeyConstants={})),function(n){n.GitHub="github"}(e=t.ConnectedServiceIds||(t.ConnectedServiceIds={})),function(n){n.BitbucketServerUrl="https://bitbucket.org";n.GitHubServerUrl="https://github.com"}(o=t.ServiceEndpointConstants||(t.ServiceEndpointConstants={})),function(n){n.UsernamePassword="UsernamePassword";n.Certificate="Certificate";n.ServicePrincipal="ServicePrincipal";n.PersonalAccessToken="PersonalAccessToken";n.OAuth="OAuth";n.OAuth2="OAuth2"}(s=t.EndpointAuthorizationSchemes||(t.EndpointAuthorizationSchemes={})),function(n){n.ExternalGit="git";n.GitHub="github";n.Bitbucket="bitbucket";n.Subversion="subversion";n.GitHubBoards="githubboards"}(h=t.ServiceEndpointType||(t.ServiceEndpointType={})),function(n){n.OldProcessParameterPrefix="ProcParam";n.OldProcessParameterBoundInputValueFormat="$("+n.OldProcessParameterPrefix+".{0})";n.OldProcessParameterVariableNameFormat=n.OldProcessParameterPrefix+".{0}";n.NewProcessParameterPrefix="Parameters";n.NewProcessParameterBoundInputValueFormat="$("+n.NewProcessParameterPrefix+".{0})";n.NewProcessParameterVariableNameFormat=n.NewProcessParameterPrefix+".{0}"}(c=t.ProcessParameterConstants||(t.ProcessParameterConstants={})),function(n){n.Exists="exists";n.Equals="equals"}(l=t.DemandCondition||(t.DemandCondition={})),function(n){n.nameColumnKey="name";n.conditionColumnKey="condition";n.valueColumnKey="value";n.machinesMissingDemandColumnKey="machinesMissingDemand";n.iconColumnKey="icon";n.deleteColumnKey="delete";n.maxTargetToShow=10}(a=t.DemandConstants||(t.DemandConstants={})),function(n){n.InvalidDeploymentGroupId="-1"}(v=t.DeploymentGroupConstants||(t.DeploymentGroupConstants={})),function(n){n.iconColumnKey="icon";n.nameColumnKey="name";n.valueColumnKey="value";n.deleteColumnKey="delete"}(y=t.EnvironmentVariableConstants||(t.EnvironmentVariableConstants={})),function(n){n[n.Valid=0]="Valid";n[n.Invalid_NonPositiveNumber=1]="Invalid_NonPositiveNumber";n[n.Invalid_InputRequired=2]="Invalid_InputRequired";n[n.Invalid_VariableOrNonPositiveNumber=4]="Invalid_VariableOrNonPositiveNumber";n[n.Invalid=5]="Invalid";n[n.Invalid_SelectedOptionNotPresent=6]="Invalid_SelectedOptionNotPresent"}(p=t.InputState||(t.InputState={}));t.TASK_DEFINITION_DATA_KEY="task-definition-data-key";t.AGENTS_STORE_INSTANCE_ID="ci-agents-instance";t.TASK_ITEM_PREFIX="common-taskitem-";t.DEPLOY_PHASE_ITEM_PREFIX="common-phaseitem";t.BRANCH_FILTER_PREFIX="common-branch-filter-";t.MetaTaskHubContributionId="ms.vss-releaseManagement-web.hub-metatask";t.TaskCIHubContributionId="ms.vss-ciworkflow.build-ci-hub";t.TaskListStoreInstanceId="default-task-list-store-instance-id",function(n){n.ControlOptionsInputName_Enabled="ControlOptionEnabled";n.ControlOptionsInputName_ContinueOnError="ControlOptionContinueOnError";n.ControlOptionsInputName_AlwaysRun="ControlOptionAlwaysRun";n.ControlOptionsInputName_TimeOut="ControlOptionTimeOut";n.ControlOptionsInputName_ConditionSelector="ControlOptionConditionSelector";n.ControlOptionsInputName_ConditionEditor="ControlOptionConditionEditor"}(w=t.TaskControlOptionsConstants||(t.TaskControlOptionsConstants={})),function(n){n.TimeoutInMinutes="timeoutInMinutes"}(b=t.TaskControlOptionsOverridInputConstants||(t.TaskControlOptionsOverridInputConstants={})),function(n){n.Succeeded="succeeded()";n.SucceededOrFailed="succeededOrFailed()";n.Failed="failed()";n.Always="always()";n.Custom=""}(k=t.TaskConditions||(t.TaskConditions={})),function(n){n.TasksSelectionUpdatedEvent="TASKLIST_STORE_EVENT_TASKS_SELECTION_UPDATED"}(d=t.TaskListStoreChangedEvents||(t.TaskListStoreChangedEvents={})),function(n){n.AgentSpecificationsChangedEvent="AGENTS_STORE_AGENT_SPECIFICATION_UPDATED"}(g=t.AgentsStoreChangedEvents||(t.AgentsStoreChangedEvents={})),function(n){n.DefaultPhaseRefNameFormat="Phase_{0}"}(nt=t.PhaseConstants||(t.PhaseConstants={})),function(n){n.DefaultMarketplaceLink="https://go.microsoft.com/fwlink/?LinkId=797831";n.BuildReleaseHelpLink="https://go.microsoft.com/fwlink/?LinkId=619385"}(tt=t.HelpLinks||(t.HelpLinks={})),function(n){n.IsSearchable="IsSearchable";n.SearchDataSourceName="SearchDataSourceName"}(it=t.Properties||(t.Properties={})),function(n){n[n.Build=0]="Build";n[n.Release=1]="Release"}(rt=t.Workflow||(t.Workflow={}));t.CNTRL_KEY="ctrl-key";t.SHIFT_KEY="shift-key";t.KEY_ENABLE_TASKS="enable-tasks";t.KEY_DISABLE_TASKS="disable-tasks";t.KEY_REMOVE_TASKS="remove-tasks";t.KEY_CLONE_TASKS="clone-tasks";t.KEY_EXPORT_TASKS="export-tasks";t.KEY_CREATE_TASK_GROUP="create-task-group";t.KEY_MANAGE_TASK_GROUP="manage-task-group";t.KEY_VIEW_AS_YAML="view-as-yaml";t.KEY_COPY_AS_YAML="copy-as-yaml";t.MaxPositiveNumber=1e9;t.CommaSeparator=",";t.CommaSeparatorWithSpace=", ";t.SemiColon=";";t.SemiColonWithSpace="; ";t.DotSeparator=".";t.INPUT_TYPE_FILE_PATH="filepath";t.INPUT_TYPE_ARTIFACT_PATH="artifactpath";t.INPUT_TYPE_BOOLEAN="boolean";t.INPUT_TYPE_AZURE_CONNECTION="azureconnection";t.INPUT_TYPE_CONNECTED_SERVICE="connectedservice";t.INPUT_TYPE_RADIO="radio";t.INPUT_TYPE_PICK_LIST="picklist";t.INPUT_TYPE_MULTI_LINE="multiline";t.INPUT_TYPE_STRING_LIST="stringlist";t.INPUT_TYPE_STRING="string";t.INPUT_TYPE_EXPRESSION_EDITOR="expressioneditor";t.INPUT_TYPE_IDENTITIES="identities";t.INPUT_TYPE_BRANCHFILTER="branchfilter";t.CONTROL_OPTIONS_GROUP="ControlOptions";t.BOOLEAN_TRUE="true";t.BOOLEAN_FALSE="false";t.STRING_SPACE=" ";t.STRING_BACKSLASH="\\";t.INPUT_TYPE_PROPERTY_MULTI_SELECT="MultiSelect";t.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST="MultiSelectFlatList";t.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS="EditableOptions";t.INPUT_TYPE_PROPERTY_DISABLED="Disabled";t.INPUT_TYPE_PROPERTY_ENABLE_MANAGE="EnableManage";t.INPUT_TYPE_PROPERTY_MANAGE_LINK="ManageLink";t.INPUT_TYPE_PROPERTY_MANAGE_BUTTON_NAME="ManageButtonName";t.INPUT_TYPE_PROPERTY_MANAGE_ICON="ManageIcon";t.PICKLIST_MULTI_SELECT_TREE_TYPE="treeList";t.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE="flatList";t.DefaultBreadcrumbDisplayedItems=2,function(n){n.TabIndex="tabindex";n.TabIndexMinusOne="-1";n.TabIndexZero="0";n.DataIsFocusableAttrib="data-is-focusable";n.ReadOnlyAttrib="readonly";n.DisabledAttrib="disabled";n.FirstFocusAttrib="data-first-focus-element"}(ut=t.DomAttributeConstants||(t.DomAttributeConstants={})),function(n){n.F6=117}(ft=t.FunctionKeyCodes||(t.FunctionKeyCodes={})),function(n){n[n.None=0]="None";n[n.Enter=1]="Enter";n[n.EnterActive=2]="EnterActive";n[n.Leave=3]="Leave";n[n.LeaveActive=4]="LeaveActive"}(et=t.ReactCSSTransitionStates||(t.ReactCSSTransitionStates={}))});

define("PipelineWorkflow/Scripts/Common/ArtifactUtility",["require","exports","ReleaseManagement/Core/Constants","PipelineWorkflow/Scripts/Editor/Common/Constants","PipelineWorkflow/Scripts/Editor/Common/Constants","PipelineWorkflow/Scripts/Common/Types","DistributedTaskControls/Common/Common","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(){}return n.getArtifactInputFieldsInUniqueSourceIdentifier=function(n){if(!n)return[];var i=new RegExp("{{(.*?)}}","g"),r=new RegExp("{|}","g"),t=[];return n.match(i).map(function(n){t.push(n.replace(r,s.empty))}),t},n.getArtifactBowtieIcon=function(n){var t;switch(n){case i.ArtifactTypes.BuildArtifactType:t="bowtie-build";break;case i.ArtifactTypes.ExternalTfsBuildArtifactType:t="bowtie-external-build";break;case i.ArtifactTypes.ExternalTfsXamlBuildArtifactType:t="bowtie-external-xaml";break;case i.ArtifactTypes.GitArtifactType:t="bowtie-brand-git";break;case i.ArtifactTypes.GitHubArtifactType:t="bowtie-brand-github";break;case i.ArtifactTypes.JenkinsArtifactType:t="bowtie-brand-jenkins";break;case i.ArtifactTypes.NugetArtifactType:t="bowtie-brand-nuget";break;case i.ArtifactTypes.PackageManagementArtifactType:t="bowtie-package";break;case i.ArtifactTypes.TfsOnPremArtifactType:t="bowtie-brand-vsts";break;case i.ArtifactTypes.TfvcArtifactType:t="bowtie-brand-tfvc";break;default:t="bowtie-build"}return t},n.isDefinitionInput=function(n){return s.equals(n,f.PipelineArtifactDefinitionConstants.DefinitionId,!0)||s.equals(n,f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId,!0)},n.isMultiDefinitionType=function(n){return n&&n.hasOwnProperty(f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType)&&s.equals(n[f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType].id,"true",!0)?!0:!1},n.getDefinitionIds=function(n){if(n.hasOwnProperty(f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType)&&s.equals(n[f.PipelineArtifactDefinitionConstants.IsMultiDefinitionType],"true",!0)&&n.hasOwnProperty(f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId)){var t=n[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId];if(t)return t.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(n){return parseInt(n)})}return[parseInt(n[f.PipelineArtifactDefinitionConstants.DefinitionId])]},n.getDefinitionIdOfArtifact=function(t){if(n.isMultiDefinitionType(t.definitionReference)&&t.definitionReference.hasOwnProperty(f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId)&&t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId]){var i=t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].id;if(i)return i.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(n){return n})[0]}return t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].id},n.getDefinitionIdsFromArtifact=function(t){if(n.isMultiDefinitionType(t.definitionReference)&&t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId]){var i=t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].id;if(i)return i.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(n){return parseInt(n)})}return[parseInt(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].id)]},n.normalizeDefinitionInput=function(t){if(t&&t.definitionReference&&t.type===f.PipelineArtifactTypes.Build&&(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId]&&t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].name&&(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].name=n.removeFolderPathAndGetBuildDefinitionName(t.definitionReference[f.PipelineArtifactDefinitionConstants.DefinitionId].name)),t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId]&&t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].name)){var i=t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].name,r=i.split(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter).map(function(t){return n.removeFolderPathAndGetBuildDefinitionName(t)}).join(f.PipelineArtifactDefinitionConstants.MultipleDefinitionIdsDelimiter);t.definitionReference[f.PipelineArtifactDefinitionConstants.MultipleDefinitionsId].name=r}},n.removeFolderPathAndGetBuildDefinitionName=function(n){var t=n?n.split(e.STRING_BACKSLASH):null;return t&&t.length>0?t[t.length-1]:n},n.isBranchSupportedForNonTfsGitBasedBuildDefinition=function(t){return t&&n.isBranchSupportedForNonTfsGitBasedBuildSource(t.repositoryType)},n.isBranchSupportedForNonTfsGitBasedBuildSource=function(n){return s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.GitHub)===0||s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.Bitbucket)===0||s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.GitHubEnterprise)===0||s.ignoreCaseComparer(n,r.WellKnownRepositoryTypes.Git)===0},n.getBuildBranchInputType=function(t){return s.ignoreCaseComparer(t,r.WellKnownRepositoryTypes.TfsGit)===0?r.BranchInputType.TfGitBranchFilter:s.ignoreCaseComparer(t,r.WellKnownRepositoryTypes.Git)===0?r.BranchInputType.Text:n.isBranchSupportedForNonTfsGitBasedBuildSource(t)?r.BranchInputType.Combo:r.BranchInputType.None},n.getArtifactVersionById=function(n,t){return!t||!n||n.length<1?null:o.first(n,function(n){return s.localeIgnoreCaseComparer(n.id,t)===0})},n.getArtifactVersionIdByName=function(n,t,i){var u=this,r;return!t||!n||n.length<1?null:(r=undefined,r=i?n.find(function(n){return s.localeIgnoreCaseComparer(u.getArtifactVersionDisplayValue(n),t)===0}):n.find(function(n){return s.localeIgnoreCaseComparer(n.name,t)===0}),r===undefined?undefined:r.id)},n.getArtifactVersionDisplayValue=function(n){return n?n.isMultiDefinitionType&&n.definitionName?s.localeFormat("{0} ({1})",n.name,n.definitionName):n.commitMessage?s.localeFormat("{0} ({1})",n.name,n.commitMessage):n.name:s.empty},n.getArtifactInputDisplayValue=function(n){return n?n.Data!=null&&n.Data.hasOwnProperty(i.BuildVersionConstants.CommitMessageKey)&&n.Data[i.BuildVersionConstants.CommitMessageKey]?s.format("{0} ({1})",n.Value,n.Data[i.BuildVersionConstants.CommitMessageKey]):n.Value:s.empty},n.getArtifactInputDisplayName=function(n){var t=!!n.data&&n.data[u.ArtifactsConstants.BuildDefinitionFolderPath]?n.data[u.ArtifactsConstants.BuildDefinitionFolderPath].substr(1):s.empty;return s.localeIgnoreCaseComparer(t,s.empty)===0||s.localeIgnoreCaseComparer(t,s.empty)!==0&&s.startsWith(n.displayValue,t,s.localeIgnoreCaseComparer)?n.displayValue:s.localeFormat("{0}{1}{2}",t,e.STRING_BACKSLASH,n.displayValue)},n}();t.ArtifactUtility=h});

define("PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActions","PipelineWorkflow/Scripts/Common/Constants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return f.CommonActionsCreatorKeys.ActionsCreatorKey_ProgressIndicatorActionsCreator},t.prototype.initialize=function(n){this._actions=i.ActionsHubManager.GetActionsHub(u.ProgressIndicatorActions,n)},t.prototype.actionStarted=function(n){this._actions.actionStarted.invoke(n)},t.prototype.actionCompleted=function(n){this._actions.actionCompleted.invoke(n)},t}(r.ActionCreatorBase);t.ProgressIndicatorActionsCreator=e});

define("PipelineWorkflow/Scripts/Common/Actions/DialogActions",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Common/Constants","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._showDialog=new u.Action;this._closeDialog=new u.Action},t.getKey=function(){return r.CommonActionHubKeys.ActionHubKey_CommonDialogActionHub},Object.defineProperty(t.prototype,"showDialog",{get:function(){return this._showDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeDialog",{get:function(){return this._closeDialog},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.DialogActions=f});

define("VSS/FeatureManagement/Services",["require","exports","VSS/Contributions/LocalPageData","VSS/Diag","VSS/Service"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.isFeatureEnabled=function(n){var t=i.getSharedData("_features");return t&&t[n]!==undefined?t[n]:(r.logWarning("Requested feature '"+n+"' could not be found in local data island. Ensure that the feature is added using IClientFeatureProviderService.AddFeatureState."),!1)},t}(u.VssService);t.FeatureManagementService=f});

define("PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils",["require","exports","VSS/Context","VSS/Contributions/Services","VSS/Service","VSS/FeatureAvailability/Services","VSS/FeatureManagement/Services","VSS/Navigation/HubsService","PipelineWorkflow/Scripts/Common/Constants"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(){}return n.DeploymentAuthorization="ReleaseManagement.DeploymentAuthorization",n.AzureADSupportForIdentityPicker="WebAccess.ReleaseManagement.AzureADSupportForIdentityPicker",n.VariablesGridView="WebAccess.ReleaseManagement.VariablesGridView",n.NewCreateReleaseWorkflow="WebAccess.ReleaseManagement.NewCreateReleaseWorkflow",n.MarketplaceExtensionSupport="WebAccess.ReleaseManagement.MarketplaceExtensionSupport",n.ReleaseProgressFirstRunHelpLink="WebAccess.ReleaseManagement.ReleaseProgressFirstRunHelpLink",n.JiraWorkItemsIntegration="WebAccess.ReleaseManagement.JiraWorkItemsIntegration",n.ShowEditInOldEditor="WebAccess.ReleaseManagement.ShowEditInOldEditor",n.BuildArtifactTasks="VisualStudio.ReleaseManagement.BuildArtifactsTasks",n.NewCDReleaseViewOptInToggle="WebAccess.ReleaseManagement.NewCDReleaseViewOptInToggle",n.ReportingAbortedRuns="TestManagement.Server.ReportingAbortedRuns",n.DevOpsReporting="WebAccess.ReleaseManagement.DevOpsReporting",n.LoadAllDefinitionsUsingLwp="WebAccess.ReleaseManagement.LWP.AllDefinitions",n.AllowRedeployAndCancelForQueueReleasesPermission="WebAccess.ReleaseManagement.ReleasesHub.AllowRedeployAndCancelForQueueReleasesPermission",n.ShowViewInOldReleaseView="WebAccess.ReleaseManagement.ShowViewInOldReleaseView",n.DisableFastHubSwitch="WebAccess.ReleaseManagement.DisableFastHubSwitch",n.EnableNewRouteForLogsApi="WebAccess.ReleaseManagement.EnableNewRouteForLogApis",n.PullRequestTriggers="WebAccess.ReleaseManagement.PullRequestTriggers",n.CDReleaseProgressViewDisableFastHubSwitch="WebAccess.ReleaseManagement.CDReleaseProgressViewDisableFastHubSwitch",n.GatesPhase="WebAccess.ReleaseManagement.GatesPhase",n.HidePermissionWarning="WebAccess.ReleaseManagement.HidePermissionWarning",n.ShowReleaseProgressCanvasZoomOptions="WebAccess.ReleaseManagement.ShowReleaseProgressCanvasZoomOptions",n.DonotSanitizeInputForMDFile="WebAccess.ReleaseManagement.DonotSanitizeInputForMDFile",n.YamlHub="WebAccess.ReleaseManagement.YamlHub",n.EnableFetchingFlightAssignments="WebAccess.ReleaseManagement.FlightAssignments",n.SearchBuildDefinitionsOnServer="WebAccess.ReleaseManagement.SearchBuildDefinitionsOnServer",n.DefaultToLatestArtifactVersion="VisualStudio.ReleaseManagement.DefaultToLatestArtifactVersion",n.EnableArtifactMultiDefinitionTypes="WebAccess.ReleaseManagement.EnableArtifactMultiDefinitionTypes",n.PhaseOutputVariablesGroup="WebAccess.ReleaseManagement.EnablePhaseOutputVariablesGroup",n.EnableGitHubDataSourcesForGitHubArtifact="AzureDevOps.ReleaseManagement.EnableGitHubDataSourcesForGitHubArtifact",n.CreateReleaseDataProvider="WebAccess.ReleaseManagement.CreateReleaseDataProvider",n.HideCreateDraftRelease="WebAccess.ReleaseManagement.HideCreateDraftRelease",n.EnableArtifactVersionPicker="AzureDevOps.ReleaseManagement.EnableArtifactVersionPicker",n.DelayPhaseListStoreInit="WebAccess.ReleaseManagement.DelayPhaseListStoreInit",n.EnableGitHubRepositoryPicker="WebAccess.ReleaseManagement.EnableGitHubRepositoryPicker",n}(),c=function(){function n(){}return n.NewReleaseView="ms.vss-releaseManagement-web.new-release-view-feature",n.SelectiveArtifactsDownloadView="ms.vss-releaseManagement-web.selective-artifacts-download-feature",n}(),l=function(){function n(){}return n.NewReleaseViewFeatureDataProvider="ms.vss-releaseManagement-web.new-release-viewer-feature-state-data-provider",n}(),a=function(){function n(){}return n.isAllowRedeployAndCancelForQueueReleasesPermissionEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.AllowRedeployAndCancelForQueueReleasesPermission,!1)},n.isOldReleasesHubEnabled=function(){var n=u.getLocalService(o.HubsService).getHubById(s.NavigationConstants.ReleaseManagementExplorerHubId);return n?!0:!1},n.isNewReleasesHubEnabled=function(){var n=u.getLocalService(o.HubsService).getHubById(s.NavigationConstants.ReleaseManagementExplorer2HubId);return n?!0:!1},n.isAzureADSupportForIdentityPickerFeatureEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.AzureADSupportForIdentityPicker,!1)},n.isDeploymentAuthorizationEnabled=function(){return n.isHostedAADAccount()&&f.FeatureAvailabilityService.isFeatureEnabled(h.DeploymentAuthorization,!1)},n.isDistributedTaskRevalidateIdentityFeatureEnabled=function(){return n.isHostedAADAccount()},n.isFastHubSwitchDisabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DisableFastHubSwitch,!1)},n.isNewCreateReleaseWorkflowEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.NewCreateReleaseWorkflow,!1)},n.isMarketplaceExtensionSupportEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.MarketplaceExtensionSupport,!1)},n.isReleaseProgressFirstRunHelpLinkEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ReleaseProgressFirstRunHelpLink,!1)},n.isJiraWorkItemsIntegrationEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.JiraWorkItemsIntegration,!1)},n.isDevOpsReportingEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DevOpsReporting,!1)},n.isHostedAADAccount=function(){return i.getDefaultWebContext().host&&i.getDefaultWebContext().host.isAADAccount&&i.getPageContext().webAccessConfiguration.isHosted},n.isShowEditInOldEditorEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ShowEditInOldEditor,!1)},n.isNewReleaseViewEnabled=function(){var n=u.getService(r.WebPageDataService).getPageData(l.NewReleaseViewFeatureDataProvider);return!!n&&n.value},n.isAbortedRunsFeatureFlagEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ReportingAbortedRuns,!1)},n.loadAllDefinitionsUsingLwp=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.LoadAllDefinitionsUsingLwp,!1)},n.isBuildArtifactTasksEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.BuildArtifactTasks,!1)},n.isSelectiveArtifactsEnabled=function(){return n.isBuildArtifactTasksEnabled()?!0:u.getService(e.FeatureManagementService).isFeatureEnabled(c.SelectiveArtifactsDownloadView)},n.isShowViewInOldReleaseViewEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ShowViewInOldReleaseView,!1)},n.enableNewRouteForLogApis=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableNewRouteForLogsApi,!1)},n.isPullRequestTriggersEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.PullRequestTriggers,!1)},n.isNewReleaseProgressFastHubSwitchDisabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.CDReleaseProgressViewDisableFastHubSwitch,!1)},n.isGatesPhaseEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.GatesPhase,!1)},n.isOverrideSecurityPermissionEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.HidePermissionWarning,!1)},n.isVerticalNavigationOn=function(){return!0},n.isShowReleaseProgressCanvasZoomOptionsEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.ShowReleaseProgressCanvasZoomOptions,!1)},n.isDonotSanitizeInputForMDFileEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DonotSanitizeInputForMDFile,!1)},n.isFlightAssignmentsFetchingEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableFetchingFlightAssignments,!1)},n.isYamlHubEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.YamlHub,!1)},n.isSearchBuildDefinitionsOnServerEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.SearchBuildDefinitionsOnServer,!1)},n.isGithubDataSourcesEnabledForGitHubArtifact=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableGitHubDataSourcesForGitHubArtifact,!1)},n.isDefaultToLatestArtifactVersionEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DefaultToLatestArtifactVersion,!1)},n.areArtifactMultiDefinitionTypesEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableArtifactMultiDefinitionTypes,!1)},n.isPhaseOutputVariableGroupEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.PhaseOutputVariablesGroup,!1)},n.isCreateReleaseDataProviderEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.CreateReleaseDataProvider,!1)},n.isHideCreateDraftReleaseEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.HideCreateDraftRelease,!1)},n.isArtifactVersionPickerEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableArtifactVersionPicker,!1)},n.isDelayPhaseListStoreInitEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.DelayPhaseListStoreInit,!1)},n.isGitHubRepositorypickerEnabled=function(){return f.FeatureAvailabilityService.isFeatureEnabled(h.EnableGitHubRepositoryPicker,!1)},n}();t.FeatureFlagUtils=a});

define("PipelineWorkflow/Scripts/Common/TelemetryHelper",["require","exports","VSS/Context","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Variables/Common/Constants","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Common/Constants"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(){}return n.publishEditDefinitionTelemetry=function(n){var l=this,t={},h,c;if(n){if(n.environments){t[r.Properties.EnvironmentCount]=n.environments.length;var i=0,u=0,e=0,o=0,s=0;t[r.Properties.OverridableEnvironmentVariables]=0;t[r.Properties.OverridableReleaseVariables]=0;n.environments.forEach(function(n){n.processParameters&&n.processParameters.inputs&&(e+=n.processParameters.inputs.length);n.variables&&(u+=Object.keys(n.variables).length,t[r.Properties.OverridableEnvironmentVariables]+=l._getOverridableVariablesCount(n.variables));n.deployPhases&&(i+=n.deployPhases.length,n.deployPhases.forEach(function(n){if(n.workflowTasks&&(o+=n.workflowTasks.length),n.phaseType===f.PipelineDeployPhaseTypes.AgentBasedDeployment){var t=n;s+=t.deploymentInput.demands?t.deploymentInput.demands.length:0}}))});t[r.Properties.ProcessParameterCount]=e;t[r.Properties.EnvironmentVariablesCount]=u;t[r.Properties.PhasesCount]=i;t[r.Properties.TasksCount]=o;t[r.Properties.CustomDemandsCount]=s}n.artifacts&&(h=this._processArtifactsSource(n.artifacts),t[r.Properties.ArtifactSourceTypes]=h);n.triggers&&(c=this._processTriggers(n.triggers),t[r.Properties.TriggersInfo]=c);n.variables&&(t[r.Properties.ReleaseVariablesCount]=Object.keys(n.variables).length,t[r.Properties.OverridableReleaseVariables]=this._getOverridableVariablesCount(n.variables));n.variableGroups&&(t[r.Properties.VariableGroupCount]=n.variableGroups.length);t[r.Properties.ReleaseDefinitionId]=n.id}r.Telemetry.instance().publishEvent(r.Feature.EditReleaseDefinition,t)},n.publishReleaseTimeVariablesTelemetry=function(n,t){var f=this,i={};i[r.Properties.ReleaseDefinitionId]=n.id;i[r.Properties.OverridableReleaseVariables]=this._getOverridableVariablesCount(n.variables);i[r.Properties.OverridableEnvironmentVariables]=0;i[r.Properties.OverridenReleaseVariables]=0;i[r.Properties.OverridenEnvironmentVariables]=0;n.environments.forEach(function(n){i[r.Properties.OverridableEnvironmentVariables]+=f._getOverridableVariablesCount(n.variables)});(t||[]).forEach(function(t){f._isVariableValueModified(n,t)&&(t.variable.scope.key===u.VariableConstants.DefaultScopeKey?i[r.Properties.OverridenReleaseVariables]++:i[r.Properties.OverridenEnvironmentVariables]++)});r.Telemetry.instance().publishEvent(r.Feature.SettableAtReleaseTime,i)},n.getServiceInstanceIdForTelemetry=function(){var n=i.getPageContext().webAccessConfiguration.isHosted;return n?e.CommonConstants.ReleaseManagementServiceInstanceId:undefined},n._isVariableValueModified=function(n,t){var i=this._getVariablesOfAScope(n,t.variable.scope.key);return i&&i[t.name]&&i[t.name].value!==t.variable.value?!0:!1},n._getVariablesOfAScope=function(n,t){if(t===u.VariableConstants.DefaultScopeKey)return n.variables;var i=n.environments.find(function(n){return n.id===t});return!i?null:i.variables},n._getOverridableVariablesCount=function(n){var t=0;return n?(Object.keys(n).forEach(function(i){n[i].allowOverride&&t++}),t):t},n._processArtifactsSource=function(n){var t={};return n.forEach(function(n){var i=n.type;t[i]?t[i]+=1:t[i]=1}),JSON.stringify(t)},n._processTriggers=function(n){var t={};return n.forEach(function(n){var i=n.triggerType.toString();t[i]?t[i]+=1:t[i]=1}),JSON.stringify(t)},n}();t.TelemetryHelper=o});

define("TFS/DistributedTask/Contracts",["require","exports","VSS/Common/Contracts/FormInput"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.NoOption=0]="NoOption";n[n.Login=1]="Login";n[n.SelectAccount=2]="SelectAccount";n[n.FreshLogin=3]="FreshLogin";n[n.FreshLoginWithMfa=4]="FreshLoginWithMfa"}(r=t.AadLoginPromptOption||(t.AadLoginPromptOption={})),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update";n[n.Delete=3]="Delete";n[n.Undelete=4]="Undelete"}(u=t.AuditAction||(t.AuditAction={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(f=t.DeploymentGroupActionFilter||(t.DeploymentGroupActionFilter={})),function(n){n[n.None=0]="None";n[n.Machines=2]="Machines";n[n.Tags=4]="Tags"}(e=t.DeploymentGroupExpands||(t.DeploymentGroupExpands={})),function(n){n[n.None=0]="None";n[n.Capabilities=2]="Capabilities";n[n.AssignedRequest=4]="AssignedRequest"}(o=t.DeploymentMachineExpands||(t.DeploymentMachineExpands={})),function(n){n[n.None=0]="None";n[n.DeploymentGroups=2]="DeploymentGroups";n[n.Resource=4]="Resource"}(s=t.DeploymentPoolSummaryExpands||(t.DeploymentPoolSummaryExpands={})),function(n){n[n.None=0]="None";n[n.Capabilities=2]="Capabilities";n[n.AssignedRequest=4]="AssignedRequest";n[n.LastCompletedRequest=8]="LastCompletedRequest"}(h=t.DeploymentTargetExpands||(t.DeploymentTargetExpands={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(c=t.EnvironmentActionFilter||(t.EnvironmentActionFilter={})),function(n){n[n.None=0]="None";n[n.ResourceReferences=1]="ResourceReferences"}(l=t.EnvironmentExpands||(t.EnvironmentExpands={})),function(n){n[n.Undefined=0]="Undefined";n[n.Generic=1]="Generic";n[n.VirtualMachine=2]="VirtualMachine";n[n.Kubernetes=4]="Kubernetes"}(a=t.EnvironmentResourceType||(t.EnvironmentResourceType={})),function(n){n[n.Error=1]="Error";n[n.Warning=2]="Warning"}(v=t.IssueType||(t.IssueType={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(y=t.MachineGroupActionFilter||(t.MachineGroupActionFilter={})),function(n){n[n.Variable=1]="Variable";n[n.Regex=2]="Regex"}(p=t.MaskType||(t.MaskType={})),function(n){n[n.Running=1]="Running";n[n.Queued=2]="Queued";n[n.All=3]="All"}(w=t.PlanGroupStatus||(t.PlanGroupStatus={})),function(n){n[n.Running=1]="Running";n[n.Queued=2]="Queued";n[n.All=3]="All"}(b=t.PlanGroupStatusFilter||(t.PlanGroupStatusFilter={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(k=t.SecureFileActionFilter||(t.SecureFileActionFilter={})),function(n){n[n.Failed=1]="Failed";n[n.Passed=2]="Passed";n[n.NeverDeployed=4]="NeverDeployed";n[n.All=7]="All"}(d=t.TaskAgentJobResultFilter||(t.TaskAgentJobResultFilter={})),function(n){n[n.Task=1]="Task";n[n.Action=2]="Action"}(g=t.TaskAgentJobStepType||(t.TaskAgentJobStepType={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(nt=t.TaskAgentPoolActionFilter||(t.TaskAgentPoolActionFilter={})),function(n){n[n.Succeeded=1]="Succeeded";n[n.Failed=2]="Failed";n[n.Canceled=4]="Canceled"}(tt=t.TaskAgentPoolMaintenanceJobResult||(t.TaskAgentPoolMaintenanceJobResult={})),function(n){n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Cancelling=4]="Cancelling";n[n.Queued=8]="Queued"}(it=t.TaskAgentPoolMaintenanceJobStatus||(t.TaskAgentPoolMaintenanceJobStatus={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(rt=t.TaskAgentPoolMaintenanceScheduleDays||(t.TaskAgentPoolMaintenanceScheduleDays={})),function(n){n[n.Automation=1]="Automation";n[n.Deployment=2]="Deployment"}(ut=t.TaskAgentPoolType||(t.TaskAgentPoolType={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(ft=t.TaskAgentQueueActionFilter||(t.TaskAgentQueueActionFilter={})),function(n){n[n.Offline=1]="Offline";n[n.Online=2]="Online"}(et=t.TaskAgentStatus||(t.TaskAgentStatus={})),function(n){n[n.Offline=1]="Offline";n[n.Online=2]="Online";n[n.All=3]="All"}(ot=t.TaskAgentStatusFilter||(t.TaskAgentStatusFilter={})),function(n){n[n.Manual=1]="Manual";n[n.MinAgentVersionRequired=2]="MinAgentVersionRequired"}(st=t.TaskAgentUpdateReasonType||(t.TaskAgentUpdateReasonType={})),function(n){n[n.Preinstalled=1]="Preinstalled";n[n.ReceivedInstallOrUpdate=2]="ReceivedInstallOrUpdate";n[n.Installed=3]="Installed";n[n.ReceivedUninstall=4]="ReceivedUninstall";n[n.Uninstalled=5]="Uninstalled";n[n.RequestedUpdate=6]="RequestedUpdate";n[n.Updated=7]="Updated";n[n.AlreadyUpToDate=8]="AlreadyUpToDate";n[n.InlineUpdateReceived=9]="InlineUpdateReceived"}(ht=t.TaskDefinitionStatus||(t.TaskDefinitionStatus={})),function(n){n[n.None=0]="None";n[n.Tasks=2]="Tasks"}(ct=t.TaskGroupExpands||(t.TaskGroupExpands={})),function(n){n[n.CreatedOnAscending=0]="CreatedOnAscending";n[n.CreatedOnDescending=1]="CreatedOnDescending"}(lt=t.TaskGroupQueryOrder||(t.TaskGroupQueryOrder={})),function(n){n[n.Container=0]="Container";n[n.Job=1]="Job"}(at=t.TaskOrchestrationItemType||(t.TaskOrchestrationItemType={})),function(n){n[n.InProgress=1]="InProgress";n[n.Queued=2]="Queued";n[n.Completed=4]="Completed";n[n.Throttled=8]="Throttled"}(vt=t.TaskOrchestrationPlanState||(t.TaskOrchestrationPlanState={})),function(n){n[n.Succeeded=0]="Succeeded";n[n.SucceededWithIssues=1]="SucceededWithIssues";n[n.Failed=2]="Failed";n[n.Canceled=3]="Canceled";n[n.Skipped=4]="Skipped";n[n.Abandoned=5]="Abandoned"}(yt=t.TaskResult||(t.TaskResult={})),function(n){n[n.Pending=0]="Pending";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed"}(pt=t.TimelineRecordState||(t.TimelineRecordState={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(wt=t.VariableGroupActionFilter||(t.VariableGroupActionFilter={})),function(n){n[n.IdAscending=0]="IdAscending";n[n.IdDescending=1]="IdDescending"}(bt=t.VariableGroupQueryOrder||(t.VariableGroupQueryOrder={}));t.TypeInfo={AadLoginPromptOption:{enumValues:{noOption:0,login:1,selectAccount:2,freshLogin:3,freshLoginWithMfa:4}},AgentChangeEvent:{},AgentJobRequestMessage:{},AgentPoolEvent:{},AgentQueueEvent:{},AgentQueuesEvent:{},AuditAction:{enumValues:{add:1,update:2,"delete":3,undelete:4}},AzureKeyVaultVariableGroupProviderData:{},AzureKeyVaultVariableValue:{},DeploymentGroup:{},DeploymentGroupActionFilter:{enumValues:{none:0,manage:2,use:16}},DeploymentGroupExpands:{enumValues:{none:0,machines:2,tags:4}},DeploymentGroupMetrics:{},DeploymentGroupReference:{},DeploymentMachine:{},DeploymentMachineChangedData:{},DeploymentMachineExpands:{enumValues:{none:0,capabilities:2,assignedRequest:4}},DeploymentMachineGroup:{},DeploymentMachineGroupReference:{},DeploymentMachinesChangeEvent:{},DeploymentPoolSummary:{},DeploymentPoolSummaryExpands:{enumValues:{none:0,deploymentGroups:2,resource:4}},DeploymentTargetExpands:{enumValues:{none:0,capabilities:2,assignedRequest:4,lastCompletedRequest:8}},EnvironmentActionFilter:{enumValues:{none:0,manage:2,use:16}},EnvironmentDeploymentExecutionRecord:{},EnvironmentExpands:{enumValues:{none:0,resourceReferences:1}},EnvironmentInstance:{},EnvironmentResource:{},EnvironmentResourceReference:{},EnvironmentResourceType:{enumValues:{undefined:0,generic:1,virtualMachine:2,kubernetes:4}},Issue:{},IssueType:{enumValues:{error:1,warning:2}},JobAssignedEvent:{},JobCompletedEvent:{},JobEnvironment:{},JobRequestMessage:{},KubernetesResource:{},MachineGroupActionFilter:{enumValues:{none:0,manage:2,use:16}},MaskHint:{},MaskType:{enumValues:{variable:1,regex:2}},PackageMetadata:{},PlanEnvironment:{},PlanGroupStatus:{enumValues:{running:1,queued:2,all:3}},PlanGroupStatusFilter:{enumValues:{running:1,queued:2,all:3}},ResourceUsage:{},SecureFile:{},SecureFileActionFilter:{enumValues:{none:0,manage:2,use:16}},SecureFileEvent:{},ServerTaskRequestMessage:{},ServiceEndpointAuthenticationScheme:{},ServiceEndpointExecutionData:{},ServiceEndpointExecutionRecord:{},ServiceEndpointExecutionRecordsInput:{},ServiceEndpointRequestResult:{},ServiceEndpointType:{},TaskAgent:{},TaskAgentCloudRequest:{},TaskAgentCloudType:{},TaskAgentDelaySource:{},TaskAgentJob:{},TaskAgentJobRequest:{},TaskAgentJobResultFilter:{enumValues:{failed:1,passed:2,neverDeployed:4,all:7}},TaskAgentJobStep:{},TaskAgentJobStepType:{enumValues:{task:1,action:2}},TaskAgentManualUpdate:{},TaskAgentMinAgentVersionRequiredUpdate:{},TaskAgentPool:{},TaskAgentPoolActionFilter:{enumValues:{none:0,manage:2,use:16}},TaskAgentPoolMaintenanceDefinition:{},TaskAgentPoolMaintenanceJob:{},TaskAgentPoolMaintenanceJobResult:{enumValues:{succeeded:1,failed:2,canceled:4}},TaskAgentPoolMaintenanceJobStatus:{enumValues:{inProgress:1,completed:2,cancelling:4,queued:8}},TaskAgentPoolMaintenanceJobTargetAgent:{},TaskAgentPoolMaintenanceSchedule:{},TaskAgentPoolMaintenanceScheduleDays:{enumValues:{none:0,monday:1,tuesday:2,wednesday:4,thursday:8,friday:16,saturday:32,sunday:64,all:127}},TaskAgentPoolReference:{},TaskAgentPoolStatus:{},TaskAgentPoolSummary:{},TaskAgentPoolType:{enumValues:{automation:1,deployment:2}},TaskAgentQueue:{},TaskAgentQueueActionFilter:{enumValues:{none:0,manage:2,use:16}},TaskAgentReference:{},TaskAgentSession:{},TaskAgentStatus:{enumValues:{offline:1,online:2}},TaskAgentStatusFilter:{enumValues:{offline:1,online:2,all:3}},TaskAgentUpdate:{},TaskAgentUpdateReason:{},TaskAgentUpdateReasonType:{enumValues:{manual:1,minAgentVersionRequired:2}},TaskAttachment:{},TaskCompletedEvent:{},TaskDefinitionStatus:{enumValues:{preinstalled:1,receivedInstallOrUpdate:2,installed:3,receivedUninstall:4,uninstalled:5,requestedUpdate:6,updated:7,alreadyUpToDate:8,inlineUpdateReceived:9}},TaskGroup:{},TaskGroupExpands:{enumValues:{none:0,tasks:2}},TaskGroupQueryOrder:{enumValues:{createdOnAscending:0,createdOnDescending:1}},TaskGroupRevision:{},TaskLog:{},TaskOrchestrationContainer:{},TaskOrchestrationItem:{},TaskOrchestrationItemType:{enumValues:{container:0,job:1}},TaskOrchestrationJob:{},TaskOrchestrationPlan:{},TaskOrchestrationPlanGroup:{},TaskOrchestrationPlanGroupsQueueMetrics:{},TaskOrchestrationPlanState:{enumValues:{inProgress:1,queued:2,completed:4,throttled:8}},TaskOrchestrationQueuedPlan:{},TaskOrchestrationQueuedPlanGroup:{},TaskResult:{enumValues:{succeeded:0,succeededWithIssues:1,failed:2,canceled:3,skipped:4,abandoned:5}},Timeline:{},TimelineRecord:{},TimelineRecordState:{enumValues:{pending:0,inProgress:1,completed:2}},VariableGroup:{},VariableGroupActionFilter:{enumValues:{none:0,manage:2,use:16}},VariableGroupQueryOrder:{enumValues:{idAscending:0,idDescending:1}},VirtualMachine:{},VirtualMachineGroup:{}};t.TypeInfo.AgentChangeEvent.fields={agent:{typeInfo:t.TypeInfo.TaskAgent},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference},timeStamp:{isDate:!0}};t.TypeInfo.AgentJobRequestMessage.fields={environment:{typeInfo:t.TypeInfo.JobEnvironment},lockedUntil:{isDate:!0}};t.TypeInfo.AgentPoolEvent.fields={pool:{typeInfo:t.TypeInfo.TaskAgentPool}};t.TypeInfo.AgentQueueEvent.fields={queue:{typeInfo:t.TypeInfo.TaskAgentQueue}};t.TypeInfo.AgentQueuesEvent.fields={queues:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentQueue}};t.TypeInfo.AzureKeyVaultVariableGroupProviderData.fields={lastRefreshedOn:{isDate:!0}};t.TypeInfo.AzureKeyVaultVariableValue.fields={expires:{isDate:!0}};t.TypeInfo.DeploymentGroup.fields={machines:{isArray:!0,typeInfo:t.TypeInfo.DeploymentMachine},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference}};t.TypeInfo.DeploymentGroupMetrics.fields={deploymentGroup:{typeInfo:t.TypeInfo.DeploymentGroupReference}};t.TypeInfo.DeploymentGroupReference.fields={pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference}};t.TypeInfo.DeploymentMachine.fields={agent:{typeInfo:t.TypeInfo.TaskAgent}};t.TypeInfo.DeploymentMachineChangedData.fields={agent:{typeInfo:t.TypeInfo.TaskAgent}};t.TypeInfo.DeploymentMachineGroup.fields={machines:{isArray:!0,typeInfo:t.TypeInfo.DeploymentMachine},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference}};t.TypeInfo.DeploymentMachineGroupReference.fields={pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference}};t.TypeInfo.DeploymentMachinesChangeEvent.fields={machineGroupReference:{typeInfo:t.TypeInfo.DeploymentGroupReference},machines:{isArray:!0,typeInfo:t.TypeInfo.DeploymentMachineChangedData}};t.TypeInfo.DeploymentPoolSummary.fields={deploymentGroups:{isArray:!0,typeInfo:t.TypeInfo.DeploymentGroupReference},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference},resource:{typeInfo:t.TypeInfo.EnvironmentResourceReference}};t.TypeInfo.EnvironmentDeploymentExecutionRecord.fields={finishTime:{isDate:!0},queueTime:{isDate:!0},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0}};t.TypeInfo.EnvironmentInstance.fields={createdOn:{isDate:!0},lastModifiedOn:{isDate:!0},resources:{isArray:!0,typeInfo:t.TypeInfo.EnvironmentResourceReference}};t.TypeInfo.EnvironmentResource.fields={createdOn:{isDate:!0},lastModifiedOn:{isDate:!0},type:{enumType:t.TypeInfo.EnvironmentResourceType}};t.TypeInfo.EnvironmentResourceReference.fields={type:{enumType:t.TypeInfo.EnvironmentResourceType}};t.TypeInfo.Issue.fields={type:{enumType:t.TypeInfo.IssueType}};t.TypeInfo.JobAssignedEvent.fields={request:{typeInfo:t.TypeInfo.TaskAgentJobRequest}};t.TypeInfo.JobCompletedEvent.fields={result:{enumType:t.TypeInfo.TaskResult}};t.TypeInfo.JobEnvironment.fields={mask:{isArray:!0,typeInfo:t.TypeInfo.MaskHint},secureFiles:{isArray:!0,typeInfo:t.TypeInfo.SecureFile}};t.TypeInfo.JobRequestMessage.fields={environment:{typeInfo:t.TypeInfo.JobEnvironment}};t.TypeInfo.KubernetesResource.fields={createdOn:{isDate:!0},lastModifiedOn:{isDate:!0},type:{enumType:t.TypeInfo.EnvironmentResourceType}};t.TypeInfo.MaskHint.fields={type:{enumType:t.TypeInfo.MaskType}};t.TypeInfo.PackageMetadata.fields={createdOn:{isDate:!0}};t.TypeInfo.PlanEnvironment.fields={mask:{isArray:!0,typeInfo:t.TypeInfo.MaskHint}};t.TypeInfo.ResourceUsage.fields={runningRequests:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentJobRequest}};t.TypeInfo.SecureFile.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.SecureFileEvent.fields={secureFiles:{isArray:!0,typeInfo:t.TypeInfo.SecureFile}};t.TypeInfo.ServerTaskRequestMessage.fields={environment:{typeInfo:t.TypeInfo.JobEnvironment}};t.TypeInfo.ServiceEndpointAuthenticationScheme.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.ServiceEndpointExecutionData.fields={finishTime:{isDate:!0},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0}};t.TypeInfo.ServiceEndpointExecutionRecord.fields={data:{typeInfo:t.TypeInfo.ServiceEndpointExecutionData}};t.TypeInfo.ServiceEndpointExecutionRecordsInput.fields={data:{typeInfo:t.TypeInfo.ServiceEndpointExecutionData}};t.TypeInfo.ServiceEndpointRequestResult.fields={};t.TypeInfo.ServiceEndpointType.fields={authenticationSchemes:{isArray:!0,typeInfo:t.TypeInfo.ServiceEndpointAuthenticationScheme},inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.TaskAgent.fields={assignedAgentCloudRequest:{typeInfo:t.TypeInfo.TaskAgentCloudRequest},assignedRequest:{typeInfo:t.TypeInfo.TaskAgentJobRequest},createdOn:{isDate:!0},lastCompletedRequest:{typeInfo:t.TypeInfo.TaskAgentJobRequest},pendingUpdate:{typeInfo:t.TypeInfo.TaskAgentUpdate},status:{enumType:t.TypeInfo.TaskAgentStatus},statusChangedOn:{isDate:!0}};t.TypeInfo.TaskAgentCloudRequest.fields={agent:{typeInfo:t.TypeInfo.TaskAgentReference},agentConnectedTime:{isDate:!0},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference},provisionedTime:{isDate:!0},provisionRequestTime:{isDate:!0},releaseRequestTime:{isDate:!0}};t.TypeInfo.TaskAgentCloudType.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.TaskAgentDelaySource.fields={taskAgent:{typeInfo:t.TypeInfo.TaskAgentReference}};t.TypeInfo.TaskAgentJob.fields={steps:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentJobStep}};t.TypeInfo.TaskAgentJobRequest.fields={agentDelays:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentDelaySource},assignTime:{isDate:!0},finishTime:{isDate:!0},lockedUntil:{isDate:!0},matchedAgents:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentReference},queueTime:{isDate:!0},receiveTime:{isDate:!0},reservedAgent:{typeInfo:t.TypeInfo.TaskAgentReference},result:{enumType:t.TypeInfo.TaskResult}};t.TypeInfo.TaskAgentJobStep.fields={type:{enumType:t.TypeInfo.TaskAgentJobStepType}};t.TypeInfo.TaskAgentManualUpdate.fields={code:{enumType:t.TypeInfo.TaskAgentUpdateReasonType}};t.TypeInfo.TaskAgentMinAgentVersionRequiredUpdate.fields={code:{enumType:t.TypeInfo.TaskAgentUpdateReasonType}};t.TypeInfo.TaskAgentPool.fields={createdOn:{isDate:!0},poolType:{enumType:t.TypeInfo.TaskAgentPoolType}};t.TypeInfo.TaskAgentPoolMaintenanceDefinition.fields={pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference},scheduleSetting:{typeInfo:t.TypeInfo.TaskAgentPoolMaintenanceSchedule}};t.TypeInfo.TaskAgentPoolMaintenanceJob.fields={finishTime:{isDate:!0},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference},queueTime:{isDate:!0},result:{enumType:t.TypeInfo.TaskAgentPoolMaintenanceJobResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.TaskAgentPoolMaintenanceJobStatus},targetAgents:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentPoolMaintenanceJobTargetAgent}};t.TypeInfo.TaskAgentPoolMaintenanceJobTargetAgent.fields={agent:{typeInfo:t.TypeInfo.TaskAgentReference},result:{enumType:t.TypeInfo.TaskAgentPoolMaintenanceJobResult},status:{enumType:t.TypeInfo.TaskAgentPoolMaintenanceJobStatus}};t.TypeInfo.TaskAgentPoolMaintenanceSchedule.fields={daysToBuild:{enumType:t.TypeInfo.TaskAgentPoolMaintenanceScheduleDays}};t.TypeInfo.TaskAgentPoolReference.fields={poolType:{enumType:t.TypeInfo.TaskAgentPoolType}};t.TypeInfo.TaskAgentPoolStatus.fields={poolType:{enumType:t.TypeInfo.TaskAgentPoolType}};t.TypeInfo.TaskAgentPoolSummary.fields={deploymentGroups:{isArray:!0,typeInfo:t.TypeInfo.DeploymentGroupReference},pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference},queues:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentQueue}};t.TypeInfo.TaskAgentQueue.fields={pool:{typeInfo:t.TypeInfo.TaskAgentPoolReference}};t.TypeInfo.TaskAgentReference.fields={status:{enumType:t.TypeInfo.TaskAgentStatus}};t.TypeInfo.TaskAgentSession.fields={agent:{typeInfo:t.TypeInfo.TaskAgentReference}};t.TypeInfo.TaskAgentUpdate.fields={reason:{typeInfo:t.TypeInfo.TaskAgentUpdateReason},requestTime:{isDate:!0}};t.TypeInfo.TaskAgentUpdateReason.fields={code:{enumType:t.TypeInfo.TaskAgentUpdateReasonType}};t.TypeInfo.TaskAttachment.fields={createdOn:{isDate:!0},lastChangedOn:{isDate:!0}};t.TypeInfo.TaskCompletedEvent.fields={result:{enumType:t.TypeInfo.TaskResult}};t.TypeInfo.TaskGroup.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.TaskGroupRevision.fields={changedDate:{isDate:!0},changeType:{enumType:t.TypeInfo.AuditAction}};t.TypeInfo.TaskLog.fields={createdOn:{isDate:!0},lastChangedOn:{isDate:!0}};t.TypeInfo.TaskOrchestrationContainer.fields={children:{isArray:!0,typeInfo:t.TypeInfo.TaskOrchestrationItem},itemType:{enumType:t.TypeInfo.TaskOrchestrationItemType},rollback:{typeInfo:t.TypeInfo.TaskOrchestrationContainer}};t.TypeInfo.TaskOrchestrationItem.fields={itemType:{enumType:t.TypeInfo.TaskOrchestrationItemType}};t.TypeInfo.TaskOrchestrationJob.fields={itemType:{enumType:t.TypeInfo.TaskOrchestrationItemType}};t.TypeInfo.TaskOrchestrationPlan.fields={environment:{typeInfo:t.TypeInfo.PlanEnvironment},finishTime:{isDate:!0},implementation:{typeInfo:t.TypeInfo.TaskOrchestrationContainer},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0},state:{enumType:t.TypeInfo.TaskOrchestrationPlanState}};t.TypeInfo.TaskOrchestrationPlanGroup.fields={runningRequests:{isArray:!0,typeInfo:t.TypeInfo.TaskAgentJobRequest}};t.TypeInfo.TaskOrchestrationPlanGroupsQueueMetrics.fields={status:{enumType:t.TypeInfo.PlanGroupStatus}};t.TypeInfo.TaskOrchestrationQueuedPlan.fields={assignTime:{isDate:!0},queueTime:{isDate:!0}};t.TypeInfo.TaskOrchestrationQueuedPlanGroup.fields={plans:{isArray:!0,typeInfo:t.TypeInfo.TaskOrchestrationQueuedPlan}};t.TypeInfo.Timeline.fields={lastChangedOn:{isDate:!0},records:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.TimelineRecord.fields={finishTime:{isDate:!0},issues:{isArray:!0,typeInfo:t.TypeInfo.Issue},lastModified:{isDate:!0},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0},state:{enumType:t.TypeInfo.TimelineRecordState}};t.TypeInfo.VariableGroup.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.VirtualMachine.fields={agent:{typeInfo:t.TypeInfo.TaskAgent}};t.TypeInfo.VirtualMachineGroup.fields={createdOn:{isDate:!0},lastModifiedOn:{isDate:!0},type:{enumType:t.TypeInfo.EnvironmentResourceType}}});

define("TFS/DistributedTask/TaskAgentRestClient",["require","exports","TFS/DistributedTask/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function ft(n){return window.VSS&&window.VSS.VssSDKRestVersion&&rt[window.VSS.VssSDKRestVersion]?r.getClient(rt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(e,undefined,undefined,undefined,n)}var o,f,s,h,c,l,a,v,e,y,p,w,b,k,d,g,nt,tt,it,ut,rt;Object.defineProperty(t,"__esModule",{value:!0});o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateAgentUserCapabilities=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"30ba3ada-fedf-4da8-bbb5-dacf2f82e176",resource:"usercapabilities",routeTemplate:"_apis/{area}/pools/{poolId}/agents/{agentId}/{resource}",responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t,agentId:r},apiVersion:this.usercapabilitiesApiVersion,data:n})},t.prototype.deleteAgentSession=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"134e239e-2df3-4794-a6f6-24f1f19ec8dc",resource:"sessions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{sessionId}",routeValues:{poolId:n,sessionId:t},apiVersion:this.sessionsApiVersion})},t.prototype.createAgentSession=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"134e239e-2df3-4794-a6f6-24f1f19ec8dc",resource:"sessions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{sessionId}",requestType:i.TypeInfo.TaskAgentSession,responseType:i.TypeInfo.TaskAgentSession,routeValues:{poolId:t},apiVersion:this.sessionsApiVersion,data:n})},t.prototype.getAgentQueuesByNames=function(n,t,r){var u={queueNames:n&&n.join(","),actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",responseType:i.TypeInfo.TaskAgentQueue,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.queuesApiVersion})},t.prototype.getAgentQueuesByIds=function(n,t,r){var u={queueIds:n&&n.join(","),actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",responseType:i.TypeInfo.TaskAgentQueue,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.queuesApiVersion})},t.prototype.getAgentQueues=function(n,t,r){var u={queueName:t,actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",responseType:i.TypeInfo.TaskAgentQueue,responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.queuesApiVersion})},t.prototype.getAgentQueue=function(n,t,r){var u={actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",responseType:i.TypeInfo.TaskAgentQueue,routeValues:{project:t,queueId:n},queryParams:u,apiVersion:this.queuesApiVersion})},t.prototype.deleteAgentQueue=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",routeValues:{project:t,queueId:n},apiVersion:this.queuesApiVersion})},t.prototype.createTeamProject=function(n){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",routeValues:{project:n},apiVersion:this.queuesApiVersion})},t.prototype.addAgentQueue=function(n,t,r){var u={authorizePipelines:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"900fa995-c559-4923-aae7-f8424fe4fbea",resource:"queues",routeTemplate:"{project}/_apis/{area}/{resource}/{queueId}",requestType:i.TypeInfo.TaskAgentQueue,responseType:i.TypeInfo.TaskAgentQueue,routeValues:{project:t},queryParams:u,apiVersion:this.queuesApiVersion,data:n})},t.prototype.updateAgentPool=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"a8c47e17-4d56-4a56-92bb-de7ea7dc65be",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolId}",requestType:i.TypeInfo.TaskAgentPool,responseType:i.TypeInfo.TaskAgentPool,routeValues:{poolId:t},apiVersion:this.poolsApiVersion,data:n})},t.prototype.getAgentPoolsByIds=function(n,t){var r={poolIds:n&&n.join(","),actionFilter:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"a8c47e17-4d56-4a56-92bb-de7ea7dc65be",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolId}",responseType:i.TypeInfo.TaskAgentPool,responseIsCollection:!0,queryParams:r,apiVersion:this.poolsApiVersion})},t.prototype.getAgentPools=function(n,t,r,u){var f={poolName:n,properties:t&&t.join(","),poolType:r,actionFilter:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"a8c47e17-4d56-4a56-92bb-de7ea7dc65be",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolId}",responseType:i.TypeInfo.TaskAgentPool,responseIsCollection:!0,queryParams:f,apiVersion:this.poolsApiVersion})},t.prototype.getAgentPool=function(n,t,r){var u={properties:t&&t.join(","),actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"a8c47e17-4d56-4a56-92bb-de7ea7dc65be",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolId}",responseType:i.TypeInfo.TaskAgentPool,routeValues:{poolId:n},queryParams:u,apiVersion:this.poolsApiVersion})},t.prototype.deleteAgentPool=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"a8c47e17-4d56-4a56-92bb-de7ea7dc65be",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolId}",routeValues:{poolId:n},apiVersion:this.poolsApiVersion})},t.prototype.addAgentPool=function(n){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"a8c47e17-4d56-4a56-92bb-de7ea7dc65be",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolId}",requestType:i.TypeInfo.TaskAgentPool,responseType:i.TypeInfo.TaskAgentPool,apiVersion:this.poolsApiVersion,data:n})},t.prototype.sendMessage=function(n,t,i){var r={requestId:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"distributedtask",locationId:"c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7",resource:"messages",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{messageId}",routeValues:{poolId:t},queryParams:r,apiVersion:this.messagesApiVersion,data:n})},t.prototype.refreshAgents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"distributedtask",locationId:"c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7",resource:"messages",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{messageId}",routeValues:{poolId:n},apiVersion:this.messagesApiVersion})},t.prototype.refreshAgent=function(n,t){var i={agentId:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"distributedtask",locationId:"c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7",resource:"messages",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{messageId}",routeValues:{poolId:n},queryParams:i,apiVersion:this.messagesApiVersion})},t.prototype.getMessage=function(n,t,i){var r={sessionId:t,lastMessageId:i};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7",resource:"messages",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{messageId}",routeValues:{poolId:n},queryParams:r,apiVersion:this.messagesApiVersion})},t.prototype.deleteMessage=function(n,t,i){var r={sessionId:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7",resource:"messages",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{messageId}",routeValues:{poolId:n,messageId:t},queryParams:r,apiVersion:this.messagesApiVersion})},t.prototype.updateAgentRequest=function(n,t,r,u){var f={lockToken:u};return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",requestType:i.TypeInfo.TaskAgentJobRequest,responseType:i.TypeInfo.TaskAgentJobRequest,routeValues:{poolId:t,requestId:r},queryParams:f,apiVersion:this.jobrequestsApiVersion,data:n})},t.prototype.queueAgentRequestByPool=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",requestType:i.TypeInfo.TaskAgentJobRequest,responseType:i.TypeInfo.TaskAgentJobRequest,routeValues:{poolId:t},apiVersion:this.jobrequestsApiVersion,data:n})},t.prototype.getAgentRequestsForPlan=function(n,t,r){var u={planId:t,jobId:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{poolId:n},queryParams:u,apiVersion:this.jobrequestsApiVersion})},t.prototype.getAgentRequestsForAgents=function(n,t,r){var u={agentIds:t&&t.join(","),completedRequestCount:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{poolId:n},queryParams:u,apiVersion:this.jobrequestsApiVersion})},t.prototype.getAgentRequestsForAgent=function(n,t,r){var u={agentId:t,completedRequestCount:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{poolId:n},queryParams:u,apiVersion:this.jobrequestsApiVersion})},t.prototype.getAgentRequests=function(n,t,r){var u={$top:t,continuationToken:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{poolId:n},queryParams:u,apiVersion:this.jobrequestsApiVersion})},t.prototype.getAgentRequest=function(n,t,r){var u={includeStatus:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,routeValues:{poolId:n,requestId:t},queryParams:u,apiVersion:this.jobrequestsApiVersion})},t.prototype.deleteAgentRequest=function(n,t,i,r){var u={lockToken:i,result:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"fc825784-c92a-4299-9221-998a02d1b54f",resource:"jobrequests",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{requestId}",routeValues:{poolId:n,requestId:t},queryParams:u,apiVersion:this.jobrequestsApiVersion})},t.prototype.queryEndpoint=function(n){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f223b809-8c33-4b7d-b53f-07232569b5d6",resource:"endpoint",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.endpointApiVersion,data:n})},t.prototype.getAzureSubscriptions=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"bcd6189c-0303-471f-a8e1-acb22b74d700",resource:"azurermsubscriptions",routeTemplate:"_apis/{area}/serviceendpointproxy/{resource}",apiVersion:this.azurermsubscriptionsApiVersion})},t.prototype.getAzureManagementGroups=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"39fe3bf2-7ee0-4198-a469-4a29929afa9c",resource:"azurermmanagementgroups",routeTemplate:"_apis/{area}/serviceendpointproxy/{resource}",apiVersion:this.azurermmanagementgroupsApiVersion})},t.prototype.updateAgent=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t,agentId:r},apiVersion:this.agentsApiVersion,data:n})},t.prototype.replaceAgent=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t,agentId:r},apiVersion:this.agentsApiVersion,data:n})},t.prototype.getAgents=function(n,t,r,u,f,e,o){var s={agentName:t,includeCapabilities:r,includeAssignedRequest:u,includeLastCompletedRequest:f,propertyFilters:e&&e.join(","),demands:o&&o.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",responseType:i.TypeInfo.TaskAgent,responseIsCollection:!0,routeValues:{poolId:n},queryParams:s,apiVersion:this.agentsApiVersion})},t.prototype.getAgent=function(n,t,r,u,f,e){var o={includeCapabilities:r,includeAssignedRequest:u,includeLastCompletedRequest:f,propertyFilters:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:n,agentId:t},queryParams:o,apiVersion:this.agentsApiVersion})},t.prototype.getAgentCloudTypes=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"5932e193-f376-469d-9c3e-e5588ce12cb5",resource:"agentcloudtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.TaskAgentCloudType,responseIsCollection:!0,apiVersion:this.agentcloudtypesApiVersion})},t}(u.VssHttpClient);t.CommonMethods2To5_1=o;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTaskDefinitions=function(n,t,i){var r={visibility:t,scopeLocal:i};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd",resource:"tasks",routeTemplate:"_apis/{area}/{resource}/{taskId}/{versionString}",responseIsCollection:!0,routeValues:{taskId:n},queryParams:r,apiVersion:this.tasksApiVersion})},t.prototype.getTaskDefinition=function(n,t,i,r){var u={visibility:i,scopeLocal:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd",resource:"tasks",routeTemplate:"_apis/{area}/{resource}/{taskId}/{versionString}",routeValues:{taskId:n,versionString:t},queryParams:u,apiVersion:this.tasksApiVersion})},t.prototype.getTaskContentZip=function(n,t,i,r){var u={visibility:i,scopeLocal:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"distributedtask",locationId:"60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd",resource:"tasks",routeTemplate:"_apis/{area}/{resource}/{taskId}/{versionString}",routeValues:{taskId:n,versionString:t},queryParams:u,apiVersion:this.tasksApiVersion})},t.prototype.deleteTaskDefinition=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd",resource:"tasks",routeTemplate:"_apis/{area}/{resource}/{taskId}/{versionString}",routeValues:{taskId:n},apiVersion:this.tasksApiVersion})},t}(o);t.CommonMethods2_1To5_1=f;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTaskGroups=function(n,t,r,u,f,e,o,s){var h={expanded:r,taskIdFilter:u,deleted:f,$top:e,continuationToken:o,queryOrder:s};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,responseIsCollection:!0,routeValues:{project:n,taskGroupId:t},queryParams:h,apiVersion:this.taskgroupsApiVersion})},t.prototype.deleteTaskGroup=function(n,t,i){var r={comment:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",routeValues:{project:n,taskGroupId:t},queryParams:r,apiVersion:this.taskgroupsApiVersion})},t.prototype.addTaskGroup=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:t},apiVersion:this.taskgroupsApiVersion,data:n})},t.prototype.getPackages=function(n,t,r){var u={$top:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",responseType:i.TypeInfo.PackageMetadata,responseIsCollection:!0,routeValues:{packageType:n,platform:t},queryParams:u,apiVersion:this.packagesApiVersion})},t.prototype.getPackage=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",responseType:i.TypeInfo.PackageMetadata,routeValues:{packageType:n,platform:t,version:r},apiVersion:this.packagesApiVersion})},t.prototype.updateTaskHubLicenseDetails=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"f9f0f436-b8a1-4475-9041-1ccdbf8f0128",resource:"hublicense",routeTemplate:"_apis/{area}/{resource}/{hubName}",routeValues:{hubName:t},apiVersion:this.hublicenseApiVersion,data:n})},t.prototype.getTaskHubLicenseDetails=function(n,t,i){var r={includeEnterpriseUsersCount:t,includeHostedAgentMinutesCount:i};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"f9f0f436-b8a1-4475-9041-1ccdbf8f0128",resource:"hublicense",routeTemplate:"_apis/{area}/{resource}/{hubName}",routeValues:{hubName:n},queryParams:r,apiVersion:this.hublicenseApiVersion})},t}(f);t.CommonMethods3To5_1=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getVstsAadTenantId=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"9c63205e-3a0f-42a0-ad88-095200f13607",resource:"vstsaadoauth",routeTemplate:"_apis/{area}/serviceendpointproxy/{resource}",apiVersion:this.vstsaadoauthApiVersion})},t.prototype.createAadOAuthRequest=function(n,t,i,r,u){var f={tenantId:n,redirectUri:t,promptOption:i,completeCallbackPayload:r,completeCallbackByAuthCode:u};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"9c63205e-3a0f-42a0-ad88-095200f13607",resource:"vstsaadoauth",routeTemplate:"_apis/{area}/serviceendpointproxy/{resource}",queryParams:f,apiVersion:this.vstsaadoauthApiVersion})},t.prototype.acquireAccessToken=function(n){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"9c63205e-3a0f-42a0-ad88-095200f13607",resource:"vstsaadoauth",routeTemplate:"_apis/{area}/serviceendpointproxy/{resource}",apiVersion:this.vstsaadoauthApiVersion,data:n})},t.prototype.updateVariableGroup=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"f5b09dd5-9d54-45a1-8b5a-1c8287d634cc",resource:"variablegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.VariableGroup,routeValues:{project:t,groupId:r},apiVersion:this.variablegroupsApiVersion,data:n})},t.prototype.getVariableGroupsById=function(n,t){var r={groupIds:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"f5b09dd5-9d54-45a1-8b5a-1c8287d634cc",resource:"variablegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.VariableGroup,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.variablegroupsApiVersion})},t.prototype.getVariableGroups=function(n,t,r,u,f,e){var o={groupName:t,actionFilter:r,$top:u,continuationToken:f,queryOrder:e};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"f5b09dd5-9d54-45a1-8b5a-1c8287d634cc",resource:"variablegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.VariableGroup,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.variablegroupsApiVersion})},t.prototype.getVariableGroup=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"f5b09dd5-9d54-45a1-8b5a-1c8287d634cc",resource:"variablegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.VariableGroup,routeValues:{project:n,groupId:t},apiVersion:this.variablegroupsApiVersion})},t.prototype.deleteVariableGroup=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"f5b09dd5-9d54-45a1-8b5a-1c8287d634cc",resource:"variablegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",routeValues:{project:n,groupId:t},apiVersion:this.variablegroupsApiVersion})},t.prototype.addVariableGroup=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f5b09dd5-9d54-45a1-8b5a-1c8287d634cc",resource:"variablegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{groupId}",responseType:i.TypeInfo.VariableGroup,routeValues:{project:t},apiVersion:this.variablegroupsApiVersion,data:n})},t.prototype.getTaskGroupRevision=function(n,t,i){var r={revision:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",routeValues:{project:n,taskGroupId:t},queryParams:r,apiVersion:this.taskgroupsApiVersion})},t.prototype.getTaskGroupHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"100cc92a-b255-47fa-9ab3-e44a2985a3ac",resource:"revisions",routeTemplate:"{project}/_apis/{area}/taskgroups/{taskGroupId}/{resource}",responseType:i.TypeInfo.TaskGroupRevision,responseIsCollection:!0,routeValues:{project:n,taskGroupId:t},apiVersion:this.revisionsApiVersion})},t.prototype.updateDeploymentMachineGroupMachines=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"966c3874-c347-4b18-a90c-d509116717fd",resource:"machines",routeTemplate:"{project}/_apis/{area}/machinegroups/{machineGroupId}/{resource}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:t,machineGroupId:r},apiVersion:this.machinesApiVersion,data:n})},t.prototype.getDeploymentMachineGroupMachines=function(n,t,r){var u={tagFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"966c3874-c347-4b18-a90c-d509116717fd",resource:"machines",routeTemplate:"{project}/_apis/{area}/machinegroups/{machineGroupId}/{resource}",responseType:i.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:n,machineGroupId:t},queryParams:u,apiVersion:this.machinesApiVersion})},t.prototype.updateDeploymentMachineGroup=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"d4adf50f-80c6-4ac8-9ca1-6e4e544286e9",resource:"machinegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{machineGroupId}",requestType:i.TypeInfo.DeploymentMachineGroup,responseType:i.TypeInfo.DeploymentMachineGroup,routeValues:{project:t,machineGroupId:r},apiVersion:this.machinegroupsApiVersion,data:n})},t.prototype.getDeploymentMachineGroups=function(n,t,r){var u={machineGroupName:t,actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"d4adf50f-80c6-4ac8-9ca1-6e4e544286e9",resource:"machinegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{machineGroupId}",responseType:i.TypeInfo.DeploymentMachineGroup,responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.machinegroupsApiVersion})},t.prototype.getDeploymentMachineGroup=function(n,t,r){var u={actionFilter:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"d4adf50f-80c6-4ac8-9ca1-6e4e544286e9",resource:"machinegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{machineGroupId}",responseType:i.TypeInfo.DeploymentMachineGroup,routeValues:{project:n,machineGroupId:t},queryParams:u,apiVersion:this.machinegroupsApiVersion})},t.prototype.deleteDeploymentMachineGroup=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"d4adf50f-80c6-4ac8-9ca1-6e4e544286e9",resource:"machinegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{machineGroupId}",routeValues:{project:n,machineGroupId:t},apiVersion:this.machinegroupsApiVersion})},t.prototype.addDeploymentMachineGroup=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"d4adf50f-80c6-4ac8-9ca1-6e4e544286e9",resource:"machinegroups",routeTemplate:"{project}/_apis/{area}/{resource}/{machineGroupId}",requestType:i.TypeInfo.DeploymentMachineGroup,responseType:i.TypeInfo.DeploymentMachineGroup,routeValues:{project:t},apiVersion:this.machinegroupsApiVersion,data:n})},t.prototype.generateDeploymentMachineGroupAccessToken=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f8c7c0de-ac0d-469b-9cb1-c21f72d67693",resource:"machinegroupaccesstoken",routeTemplate:"{project}/_apis/{area}/{resource}/{machineGroupId}",routeValues:{project:n,machineGroupId:t},apiVersion:this.machinegroupaccesstokenApiVersion})},t}(s);t.CommonMethods3_1To5_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateAgentUpdateState=function(n,t,r){var u={currentState:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"8cc1b02b-ae49-4516-b5ad-4f9b29967c30",resource:"updates",routeTemplate:"_apis/{area}/pools/{poolId}/agents/{agentId}/{resource}",responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:n,agentId:t},queryParams:u,apiVersion:this.updatesApiVersion})},t.prototype.uploadSecureFile=function(n,t,r,u){var f={name:r,authorizePipelines:u};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",responseType:i.TypeInfo.SecureFile,routeValues:{project:t},customHeaders:{"Content-Type":"application/octet-stream"},queryParams:f,apiVersion:this.securefilesApiVersion,data:n,isRawData:!0})},t.prototype.updateSecureFiles=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",requestType:i.TypeInfo.SecureFile,responseType:i.TypeInfo.SecureFile,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.securefilesApiVersion,data:n})},t.prototype.updateSecureFile=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",requestType:i.TypeInfo.SecureFile,responseType:i.TypeInfo.SecureFile,routeValues:{project:t,secureFileId:r},apiVersion:this.securefilesApiVersion,data:n})},t.prototype.querySecureFilesByProperties=function(n,t,r){var u={namePattern:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",responseType:i.TypeInfo.SecureFile,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.securefilesApiVersion,data:n})},t.prototype.getSecureFilesByNames=function(n,t,r,u){var f={secureFileNames:t&&t.join(","),includeDownloadTickets:r,actionFilter:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",responseType:i.TypeInfo.SecureFile,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.securefilesApiVersion})},t.prototype.getSecureFilesByIds=function(n,t,r,u){var f={secureFileIds:t&&t.join(","),includeDownloadTickets:r,actionFilter:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",responseType:i.TypeInfo.SecureFile,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.securefilesApiVersion})},t.prototype.getSecureFiles=function(n,t,r,u){var f={namePattern:t,includeDownloadTickets:r,actionFilter:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",responseType:i.TypeInfo.SecureFile,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.securefilesApiVersion})},t.prototype.getSecureFile=function(n,t,r,u){var f={includeDownloadTicket:r,actionFilter:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",responseType:i.TypeInfo.SecureFile,routeValues:{project:n,secureFileId:t},queryParams:f,apiVersion:this.securefilesApiVersion})},t.prototype.downloadSecureFile=function(n,t,i,r){var u={ticket:i,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",routeValues:{project:n,secureFileId:t},queryParams:u,apiVersion:this.securefilesApiVersion})},t.prototype.deleteSecureFile=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"adcfd8bc-b184-43ba-bd84-7c8c6a2ff421",resource:"securefiles",routeTemplate:"{project}/_apis/{area}/{resource}/{secureFileId}",routeValues:{project:n,secureFileId:t},apiVersion:this.securefilesApiVersion})},t.prototype.updateAgentPoolMaintenanceJob=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"15e7ab6e-abce-4601-a6d8-e111fe148f46",resource:"maintenancejobs",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{jobId}",requestType:i.TypeInfo.TaskAgentPoolMaintenanceJob,responseType:i.TypeInfo.TaskAgentPoolMaintenanceJob,routeValues:{poolId:t,jobId:r},apiVersion:this.maintenancejobsApiVersion,data:n})},t.prototype.queueAgentPoolMaintenanceJob=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"15e7ab6e-abce-4601-a6d8-e111fe148f46",resource:"maintenancejobs",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{jobId}",requestType:i.TypeInfo.TaskAgentPoolMaintenanceJob,responseType:i.TypeInfo.TaskAgentPoolMaintenanceJob,routeValues:{poolId:t},apiVersion:this.maintenancejobsApiVersion,data:n})},t.prototype.getAgentPoolMaintenanceJobs=function(n,t){var r={definitionId:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"15e7ab6e-abce-4601-a6d8-e111fe148f46",resource:"maintenancejobs",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{jobId}",responseType:i.TypeInfo.TaskAgentPoolMaintenanceJob,responseIsCollection:!0,routeValues:{poolId:n},queryParams:r,apiVersion:this.maintenancejobsApiVersion})},t.prototype.getAgentPoolMaintenanceJobLogs=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"distributedtask",locationId:"15e7ab6e-abce-4601-a6d8-e111fe148f46",resource:"maintenancejobs",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{jobId}",routeValues:{poolId:n,jobId:t},apiVersion:this.maintenancejobsApiVersion})},t.prototype.getAgentPoolMaintenanceJob=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"15e7ab6e-abce-4601-a6d8-e111fe148f46",resource:"maintenancejobs",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{jobId}",responseType:i.TypeInfo.TaskAgentPoolMaintenanceJob,routeValues:{poolId:n,jobId:t},apiVersion:this.maintenancejobsApiVersion})},t.prototype.deleteAgentPoolMaintenanceJob=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"15e7ab6e-abce-4601-a6d8-e111fe148f46",resource:"maintenancejobs",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{jobId}",routeValues:{poolId:n,jobId:t},apiVersion:this.maintenancejobsApiVersion})},t.prototype.updateAgentPoolMaintenanceDefinition=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"80572e16-58f0-4419-ac07-d19fde32195c",resource:"maintenancedefinitions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{definitionId}",requestType:i.TypeInfo.TaskAgentPoolMaintenanceDefinition,responseType:i.TypeInfo.TaskAgentPoolMaintenanceDefinition,routeValues:{poolId:t,definitionId:r},apiVersion:this.maintenancedefinitionsApiVersion,data:n})},t.prototype.getAgentPoolMaintenanceDefinitions=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"80572e16-58f0-4419-ac07-d19fde32195c",resource:"maintenancedefinitions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{definitionId}",responseType:i.TypeInfo.TaskAgentPoolMaintenanceDefinition,responseIsCollection:!0,routeValues:{poolId:n},apiVersion:this.maintenancedefinitionsApiVersion})},t.prototype.getAgentPoolMaintenanceDefinition=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"80572e16-58f0-4419-ac07-d19fde32195c",resource:"maintenancedefinitions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{definitionId}",responseType:i.TypeInfo.TaskAgentPoolMaintenanceDefinition,routeValues:{poolId:n,definitionId:t},apiVersion:this.maintenancedefinitionsApiVersion})},t.prototype.deleteAgentPoolMaintenanceDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"80572e16-58f0-4419-ac07-d19fde32195c",resource:"maintenancedefinitions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{definitionId}",routeValues:{poolId:n,definitionId:t},apiVersion:this.maintenancedefinitionsApiVersion})},t.prototype.createAgentPoolMaintenanceDefinition=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"80572e16-58f0-4419-ac07-d19fde32195c",resource:"maintenancedefinitions",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{definitionId}",requestType:i.TypeInfo.TaskAgentPoolMaintenanceDefinition,responseType:i.TypeInfo.TaskAgentPoolMaintenanceDefinition,routeValues:{poolId:t},apiVersion:this.maintenancedefinitionsApiVersion,data:n})},t.prototype.updateDeploymentMachines=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:t,deploymentGroupId:r},apiVersion:this.machinesApiVersion_6f6d406f,data:n})},t.prototype.updateDeploymentMachine=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:t,deploymentGroupId:r,machineId:u},apiVersion:this.machinesApiVersion_6f6d406f,data:n})},t.prototype.replaceDeploymentMachine=function(n,t,r,u){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:t,deploymentGroupId:r,machineId:u},apiVersion:this.machinesApiVersion_6f6d406f,data:n})},t.prototype.getDeploymentMachines=function(n,t,r,u,f){var e={tags:r&&r.join(","),name:u,$expand:f};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",responseType:i.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t},queryParams:e,apiVersion:this.machinesApiVersion_6f6d406f})},t.prototype.getDeploymentMachine=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:n,deploymentGroupId:t,machineId:r},queryParams:f,apiVersion:this.machinesApiVersion_6f6d406f})},t.prototype.deleteDeploymentMachine=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",routeValues:{project:n,deploymentGroupId:t,machineId:i},apiVersion:this.machinesApiVersion_6f6d406f})},t.prototype.addDeploymentMachine=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"6f6d406f-cfe6-409c-9327-7009928077e7",resource:"machines",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{machineId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:t,deploymentGroupId:r},apiVersion:this.machinesApiVersion_6f6d406f,data:n})},t.prototype.validateInputs=function(n){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"58475b1e-adaf-4155-9bc1-e04bf1fff4c2",resource:"inputvalidation",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.inputvalidationApiVersion,data:n})},t.prototype.refreshDeploymentMachines=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"distributedtask",locationId:"91006ac4-0f68-4d82-a2bc-540676bd73ce",resource:"deploymentmachinemessages",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}",routeValues:{project:n,deploymentGroupId:t},apiVersion:this.deploymentmachinemessagesApiVersion})},t.prototype.getAgentRequestsForDeploymentMachines=function(n,t,r,u){var f={machineIds:r&&r.join(","),completedRequestCount:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"a3540e5b-f0dc-4668-963b-b752459be545",resource:"deploymentmachinejobrequests",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t},queryParams:f,apiVersion:this.deploymentmachinejobrequestsApiVersion})},t.prototype.getAgentRequestsForDeploymentMachine=function(n,t,r,u){var f={machineId:r,completedRequestCount:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"a3540e5b-f0dc-4668-963b-b752459be545",resource:"deploymentmachinejobrequests",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t},queryParams:f,apiVersion:this.deploymentmachinejobrequestsApiVersion})},t.prototype.updateDeploymentGroup=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",responseType:i.TypeInfo.DeploymentGroup,routeValues:{project:t,deploymentGroupId:r},apiVersion:this.deploymentgroupsApiVersion,data:n})},t.prototype.getDeploymentGroups=function(n,t,r,u,f,e,o){var s={name:t,actionFilter:r,$expand:u,continuationToken:f,$top:e,ids:o&&o.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",responseType:i.TypeInfo.DeploymentGroup,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:this.deploymentgroupsApiVersion})},t.prototype.getDeploymentGroup=function(n,t,r,u){var f={actionFilter:r,$expand:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",responseType:i.TypeInfo.DeploymentGroup,routeValues:{project:n,deploymentGroupId:t},queryParams:f,apiVersion:this.deploymentgroupsApiVersion})},t.prototype.deleteDeploymentGroup=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",routeValues:{project:n,deploymentGroupId:t},apiVersion:this.deploymentgroupsApiVersion})},t.prototype.addDeploymentGroup=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",responseType:i.TypeInfo.DeploymentGroup,routeValues:{project:t},apiVersion:this.deploymentgroupsApiVersion,data:n})},t.prototype.generateDeploymentGroupAccessToken=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"3d197ba2-c3e9-4253-882f-0ee2440f8174",resource:"deploymentgroupaccesstoken",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",routeValues:{project:n,deploymentGroupId:t},apiVersion:this.deploymentgroupaccesstokenApiVersion})},t}(h);t.CommonMethods3_2To5_1=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.undeleteTaskGroup=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",requestType:i.TypeInfo.TaskGroup,responseType:i.TypeInfo.TaskGroup,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.taskgroupsApiVersion,data:n})},t.prototype.publishTaskGroup=function(n,t,r){var u={parentTaskGroupId:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.taskgroupsApiVersion,data:n})},t.prototype.publishPreviewTaskGroup=function(n,t,r,u){var f={disablePriorVersions:u};return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",requestType:i.TypeInfo.TaskGroup,responseType:i.TypeInfo.TaskGroup,responseIsCollection:!0,routeValues:{project:t,taskGroupId:r},queryParams:f,apiVersion:this.taskgroupsApiVersion,data:n})},t.prototype.getDeploymentGroupsMetrics=function(n,t,r,u){var f={deploymentGroupName:t,continuationToken:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"281c6308-427a-49e1-b83a-dac0f4862189",resource:"deploymentgroupsmetrics",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{resource}",responseType:i.TypeInfo.DeploymentGroupMetrics,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.deploymentgroupsmetricsApiVersion})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:this.agentsApiVersion})},t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:this.agentsApiVersion,data:n})},t}(c);t.CommonMethods4To5_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTaskGroup=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:t,taskGroupId:r},apiVersion:this.taskgroupsApiVersion,data:n})},t.prototype.getTaskGroup=function(n,t,r,u){var f={versionSpec:r,$expand:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:n,taskGroupId:t},queryParams:f,apiVersion:this.taskgroupsApiVersion})},t.prototype.updateDeploymentTargets=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",responseType:i.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:t,deploymentGroupId:r},apiVersion:this.targetsApiVersion,data:n})},t.prototype.updateDeploymentTarget=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:t,deploymentGroupId:r,targetId:u},apiVersion:this.targetsApiVersion,data:n})},t.prototype.replaceDeploymentTarget=function(n,t,r,u){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:t,deploymentGroupId:r,targetId:u},apiVersion:this.targetsApiVersion,data:n})},t.prototype.getDeploymentTargets=function(n,t,r,u,f,e,o,s,h,c,l,a){var v={tags:r&&r.join(","),name:u,partialNameMatch:f,$expand:e,agentStatus:o,agentJobResult:s,continuationToken:h,$top:c,enabled:l,propertyFilters:a&&a.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",responseType:i.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t},queryParams:v,apiVersion:this.targetsApiVersion})},t.prototype.getDeploymentTarget=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:n,deploymentGroupId:t,targetId:r},queryParams:f,apiVersion:this.targetsApiVersion})},t.prototype.deleteDeploymentTarget=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",routeValues:{project:n,deploymentGroupId:t,targetId:i},apiVersion:this.targetsApiVersion})},t.prototype.addDeploymentTarget=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}/{targetId}",requestType:i.TypeInfo.DeploymentMachine,responseType:i.TypeInfo.DeploymentMachine,routeValues:{project:t,deploymentGroupId:r},apiVersion:this.targetsApiVersion,data:n})},t.prototype.getResourceUsage=function(n,t,r){var u={parallelismTag:n,poolIsHosted:t,includeRunningRequests:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"eae1d376-a8b1-4475-9041-1dfdbe8f0143",resource:"resourceusage",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ResourceUsage,queryParams:u,apiVersion:this.resourceusageApiVersion})},t.prototype.getAgentPoolMetadata=function(n){return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"distributedtask",locationId:"0d62f887-9f53-48b9-9161-4c35d5735b0f",resource:"poolmetadata",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}",routeValues:{poolId:n},apiVersion:this.poolmetadataApiVersion})},t.prototype.refreshDeploymentTargets=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"distributedtask",locationId:"1c1a817f-f23d-41c6-bf8d-14b638f64152",resource:"deploymentTargetMessages",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}",routeValues:{project:n,deploymentGroupId:t},apiVersion:this.deploymentTargetMessagesApiVersion})},t.prototype.getAgentRequestsForDeploymentTargets=function(n,t,r,u,f,e){var o={targetIds:r&&r.join(","),ownerId:u,completedOn:f,completedRequestCount:e};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"2fac0be3-8c8f-4473-ab93-c1389b08a2c9",resource:"deploymentTargetJobRequests",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t},queryParams:o,apiVersion:this.deploymentTargetJobRequestsApiVersion})},t.prototype.getAgentRequestsForDeploymentTarget=function(n,t,r,u){var f={targetId:r,completedRequestCount:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"2fac0be3-8c8f-4473-ab93-c1389b08a2c9",resource:"deploymentTargetJobRequests",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t},queryParams:f,apiVersion:this.deploymentTargetJobRequestsApiVersion})},t.prototype.getDeploymentPoolsSummary=function(n,t,r){var u={poolName:n,expands:t,poolIds:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"6525d6c6-258f-40e0-a1a9-8a24a3957625",resource:"deploymentPoolsSummary",routeTemplate:"_apis/{area}/deploymentPools/{resource}",responseType:i.TypeInfo.DeploymentPoolSummary,responseIsCollection:!0,queryParams:u,apiVersion:this.deploymentPoolsSummaryApiVersion})},t.prototype.generateDeploymentPoolAccessToken=function(n){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e077ee4a-399b-420b-841f-c43fbc058e0b",resource:"deploymentpoolaccesstoken",routeTemplate:"_apis/{area}/{resource}/{poolId}",routeValues:{poolId:n},apiVersion:this.deploymentpoolaccesstokenApiVersion})},t.prototype.queueAgentRequest=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f5f81ffb-f396-498d-85b1-5ada145e648a",resource:"agentrequests",routeTemplate:"_apis/{area}/queues/{queueId}/{resource}/{requestId}",requestType:i.TypeInfo.TaskAgentJobRequest,responseType:i.TypeInfo.TaskAgentJobRequest,routeValues:{queueId:t},apiVersion:this.agentrequestsApiVersion,data:n})},t.prototype.getAgentRequestsForQueue=function(n,t,r){var u={$top:t,continuationToken:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"f5f81ffb-f396-498d-85b1-5ada145e648a",resource:"agentrequests",routeTemplate:"_apis/{area}/queues/{queueId}/{resource}/{requestId}",responseType:i.TypeInfo.TaskAgentJobRequest,responseIsCollection:!0,routeValues:{queueId:n},queryParams:u,apiVersion:this.agentrequestsApiVersion})},t}(l);t.CommonMethods4_1To5_1=a;v=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getYamlSchema=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"1f9990b9-1dba-441f-9c2e-6485888c42b6",resource:"yamlschema",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.yamlschemaApiVersion})},t.prototype.updateVirtualMachines=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"48700676-2ba5-4282-8ec8-083280d169c7",resource:"virtualmachines",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/virtualmachinegroups/{resourceId}/{resource}",requestType:i.TypeInfo.VirtualMachine,responseType:i.TypeInfo.VirtualMachine,responseIsCollection:!0,routeValues:{project:t,environmentId:r,resourceId:u},apiVersion:this.virtualmachinesApiVersion,data:n})},t.prototype.getVirtualMachines=function(n,t,r,u,f,e,o,s){var h={continuationToken:u,name:f,partialNameMatch:e,tags:o&&o.join(","),$top:s};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"48700676-2ba5-4282-8ec8-083280d169c7",resource:"virtualmachines",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/virtualmachinegroups/{resourceId}/{resource}",responseType:i.TypeInfo.VirtualMachine,responseIsCollection:!0,routeValues:{project:n,environmentId:t,resourceId:r},queryParams:h,apiVersion:this.virtualmachinesApiVersion})},t.prototype.updateVirtualMachineGroup=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"9e597901-4af7-4cc3-8d92-47d54db8ebfb",resource:"virtualmachinegroups",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",requestType:i.TypeInfo.VirtualMachineGroup,responseType:i.TypeInfo.VirtualMachineGroup,routeValues:{project:t,environmentId:r},apiVersion:this.virtualmachinegroupsApiVersion,data:n})},t.prototype.getVirtualMachineGroup=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"9e597901-4af7-4cc3-8d92-47d54db8ebfb",resource:"virtualmachinegroups",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",responseType:i.TypeInfo.VirtualMachineGroup,routeValues:{project:n,environmentId:t,resourceId:r},apiVersion:this.virtualmachinegroupsApiVersion})},t.prototype.deleteVirtualMachineGroup=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"9e597901-4af7-4cc3-8d92-47d54db8ebfb",resource:"virtualmachinegroups",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",routeValues:{project:n,environmentId:t,resourceId:i},apiVersion:this.virtualmachinegroupsApiVersion})},t.prototype.addVirtualMachineGroup=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"9e597901-4af7-4cc3-8d92-47d54db8ebfb",resource:"virtualmachinegroups",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",responseType:i.TypeInfo.VirtualMachineGroup,routeValues:{project:t,environmentId:r},apiVersion:this.virtualmachinegroupsApiVersion,data:n})},t.prototype.shareVariableGroupWithProject=function(n,t,i){var r={fromProject:t,withProject:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"distributedtask",locationId:"74455598-def7-499a-b7a3-a41d1c8225f8",resource:"variablegroupshare",routeTemplate:"_apis/{area}/{resource}/{groupId}",routeValues:{groupId:n},queryParams:r,apiVersion:this.variablegroupshareApiVersion})},t.prototype.querySharedProjectsForVariableGroup=function(n,t){var i={project:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"74455598-def7-499a-b7a3-a41d1c8225f8",resource:"variablegroupshare",routeTemplate:"_apis/{area}/{resource}/{groupId}",responseIsCollection:!0,routeValues:{groupId:n},queryParams:i,apiVersion:this.variablegroupshareApiVersion})},t.prototype.getResourceLimits=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"1f1f0557-c445-42a6-b4a0-0df605a3a0f8",resource:"resourcelimits",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.resourcelimitsApiVersion})},t.prototype.getAgentCloudRequests=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"20189bd7-5134-49c2-b8e9-f9e856eea2b2",resource:"requests",routeTemplate:"_apis/{area}/agentclouds/{agentCloudId}/{resource}/{agentCloudRequestId}",responseType:i.TypeInfo.TaskAgentCloudRequest,responseIsCollection:!0,routeValues:{agentCloudId:n},apiVersion:this.requestsApiVersion})},t.prototype.getKubernetesResource=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"73fba52f-15ab-42b3-a538-ce67a9223a04",resource:"kubernetes",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",responseType:i.TypeInfo.KubernetesResource,routeValues:{project:n,environmentId:t,resourceId:r},apiVersion:this.kubernetesApiVersion})},t.prototype.deleteKubernetesResource=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"73fba52f-15ab-42b3-a538-ce67a9223a04",resource:"kubernetes",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",routeValues:{project:n,environmentId:t,resourceId:i},apiVersion:this.kubernetesApiVersion})},t.prototype.addKubernetesResource=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"73fba52f-15ab-42b3-a538-ce67a9223a04",resource:"kubernetes",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/providers/{resource}/{resourceId}",responseType:i.TypeInfo.KubernetesResource,routeValues:{project:t,environmentId:r},apiVersion:this.kubernetesApiVersion,data:n})},t.prototype.updateEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"distributedtask",locationId:"8572b1fc-2482-47fa-8f74-7e3ed53ee54b",resource:"environments",routeTemplate:"{project}/_apis/{area}/{resource}/{environmentId}",responseType:i.TypeInfo.EnvironmentInstance,routeValues:{project:t,environmentId:r},apiVersion:this.environmentsApiVersion,data:n})},t.prototype.getEnvironments=function(n,t,r,u){var f={name:t,continuationToken:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8572b1fc-2482-47fa-8f74-7e3ed53ee54b",resource:"environments",routeTemplate:"{project}/_apis/{area}/{resource}/{environmentId}",responseType:i.TypeInfo.EnvironmentInstance,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.environmentsApiVersion})},t.prototype.getEnvironmentById=function(n,t,r){var u={expands:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8572b1fc-2482-47fa-8f74-7e3ed53ee54b",resource:"environments",routeTemplate:"{project}/_apis/{area}/{resource}/{environmentId}",responseType:i.TypeInfo.EnvironmentInstance,routeValues:{project:n,environmentId:t},queryParams:u,apiVersion:this.environmentsApiVersion})},t.prototype.deleteEnvironment=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"8572b1fc-2482-47fa-8f74-7e3ed53ee54b",resource:"environments",routeTemplate:"{project}/_apis/{area}/{resource}/{environmentId}",routeValues:{project:n,environmentId:t},apiVersion:this.environmentsApiVersion})},t.prototype.addEnvironment=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"8572b1fc-2482-47fa-8f74-7e3ed53ee54b",resource:"environments",routeTemplate:"{project}/_apis/{area}/{resource}/{environmentId}",responseType:i.TypeInfo.EnvironmentInstance,routeValues:{project:t},apiVersion:this.environmentsApiVersion,data:n})},t.prototype.getEnvironmentDeploymentExecutionRecords=function(n,t,r,u){var f={continuationToken:r,top:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"51bb5d21-4305-4ea6-9dbb-b7488af73334",resource:"environmentdeploymentRecords",routeTemplate:"{project}/_apis/{area}/environments/{environmentId}/{resource}",responseType:i.TypeInfo.EnvironmentDeploymentExecutionRecord,responseIsCollection:!0,routeValues:{project:n,environmentId:t},queryParams:f,apiVersion:this.environmentdeploymentRecordsApiVersion})},t.prototype.getAgentClouds=function(){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"bfa72b3d-0fc6-43fb-932b-a7f6559f93b9",resource:"agentclouds",routeTemplate:"_apis/{area}/{resource}/{agentCloudId}",responseIsCollection:!0,apiVersion:this.agentcloudsApiVersion})},t.prototype.getAgentCloud=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"bfa72b3d-0fc6-43fb-932b-a7f6559f93b9",resource:"agentclouds",routeTemplate:"_apis/{area}/{resource}/{agentCloudId}",routeValues:{agentCloudId:n},apiVersion:this.agentcloudsApiVersion})},t.prototype.deleteAgentCloud=function(n){return this._beginRequest({httpMethod:"DELETE",area:"distributedtask",locationId:"bfa72b3d-0fc6-43fb-932b-a7f6559f93b9",resource:"agentclouds",routeTemplate:"_apis/{area}/{resource}/{agentCloudId}",routeValues:{agentCloudId:n},apiVersion:this.agentcloudsApiVersion})},t.prototype.addAgentCloud=function(n){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"bfa72b3d-0fc6-43fb-932b-a7f6559f93b9",resource:"agentclouds",routeTemplate:"_apis/{area}/{resource}/{agentCloudId}",apiVersion:this.agentcloudsApiVersion,data:n})},t}(a);t.CommonMethods5To5_1=v;e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion=r.yamlschemaApiVersion="5.1",r.agentcloudsApiVersion=r.agentcloudtypesApiVersion=r.agentrequestsApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.deploymentgroupaccesstokenApiVersion=r.deploymentgroupsApiVersion=r.deploymentgroupsmetricsApiVersion=r.deploymentmachinejobrequestsApiVersion=r.deploymentmachinemessagesApiVersion=r.deploymentpoolaccesstokenApiVersion=r.deploymentPoolsSummaryApiVersion=r.deploymentTargetJobRequestsApiVersion=r.deploymentTargetMessagesApiVersion=r.environmentdeploymentRecordsApiVersion=r.environmentsApiVersion=r.inputvalidationApiVersion=r.kubernetesApiVersion=r.machinegroupaccesstokenApiVersion=r.machinegroupsApiVersion=r.machinesApiVersion=r.machinesApiVersion_6f6d406f=r.maintenancedefinitionsApiVersion=r.maintenancejobsApiVersion=r.poolmetadataApiVersion=r.queuesApiVersion=r.requestsApiVersion=r.resourcelimitsApiVersion=r.revisionsApiVersion=r.securefilesApiVersion=r.targetsApiVersion=r.taskgroupsApiVersion=r.updatesApiVersion=r.variablegroupsApiVersion=r.variablegroupshareApiVersion=r.virtualmachinegroupsApiVersion=r.virtualmachinesApiVersion=r.vstsaadoauthApiVersion="5.1-preview.1",r.resourceusageApiVersion="5.1-preview.2",r.hublicenseApiVersion="5.1-preview.3",r}return __extends(t,n),t}(v);t.TaskAgentHttpClient5_1=e;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion=r.yamlschemaApiVersion="5.0",r.agentcloudsApiVersion=r.agentcloudtypesApiVersion=r.agentrequestsApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.deploymentgroupaccesstokenApiVersion=r.deploymentgroupsApiVersion=r.deploymentgroupsmetricsApiVersion=r.deploymentmachinejobrequestsApiVersion=r.deploymentmachinemessagesApiVersion=r.deploymentpoolaccesstokenApiVersion=r.deploymentPoolsSummaryApiVersion=r.deploymentTargetJobRequestsApiVersion=r.deploymentTargetMessagesApiVersion=r.environmentdeploymentRecordsApiVersion=r.environmentsApiVersion=r.inputvalidationApiVersion=r.kubernetesApiVersion=r.machinegroupaccesstokenApiVersion=r.machinegroupsApiVersion=r.machinesApiVersion=r.machinesApiVersion_6f6d406f=r.maintenancedefinitionsApiVersion=r.maintenancejobsApiVersion=r.poolmetadataApiVersion=r.queuesApiVersion=r.requestsApiVersion=r.resourcelimitsApiVersion=r.revisionsApiVersion=r.securefilesApiVersion=r.targetsApiVersion=r.taskgroupsApiVersion=r.updatesApiVersion=r.variablegroupsApiVersion=r.variablegroupshareApiVersion=r.virtualmachinegroupsApiVersion=r.virtualmachinesApiVersion=r.vstsaadoauthApiVersion="5.0-preview.1",r.resourceusageApiVersion="5.0-preview.2",r.hublicenseApiVersion="5.0-preview.3",r}return __extends(t,n),t.prototype.getServiceEndpointExecutionRecords=function(n,t,r){var u={top:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"3ad71e20-7586-45f9-a6c8-0342e00835ac",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{endpointId}/{resource}",responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:n,endpointId:t},queryParams:u,apiVersion:"5.0-preview.1"})},t.prototype.addServiceEndpointExecutionRecords=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"11a45c69-2cce-4ade-a361-c9f5a37239ee",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{resource}",requestType:i.TypeInfo.ServiceEndpointExecutionRecordsInput,responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:t},apiVersion:"5.0-preview.1",data:n})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:"5.0-preview.2",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"5.0-preview.2",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:"5.0-preview.2",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"5.0-preview.2"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"5.0-preview.2"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.2"})},t.prototype.getServiceEndpointsByNames=function(n,t,i,r,u){var f={endpointNames:t&&t.join(","),type:i,authSchemes:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"5.0-preview.2"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:"5.0-preview.2",data:n})},t.prototype.updateServiceEndpoints=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"5.0-preview.2",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"5.0-preview.1"})},t}(v);t.TaskAgentHttpClient5=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="4.1",r.agentcloudtypesApiVersion=r.agentrequestsApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.deploymentgroupaccesstokenApiVersion=r.deploymentgroupsApiVersion=r.deploymentgroupsmetricsApiVersion=r.deploymentmachinejobrequestsApiVersion=r.deploymentmachinemessagesApiVersion=r.deploymentpoolaccesstokenApiVersion=r.deploymentPoolsSummaryApiVersion=r.deploymentTargetJobRequestsApiVersion=r.deploymentTargetMessagesApiVersion=r.inputvalidationApiVersion=r.machinegroupaccesstokenApiVersion=r.machinegroupsApiVersion=r.machinesApiVersion=r.machinesApiVersion_6f6d406f=r.maintenancedefinitionsApiVersion=r.maintenancejobsApiVersion=r.poolmetadataApiVersion=r.queuesApiVersion=r.resourceusageApiVersion=r.revisionsApiVersion=r.securefilesApiVersion=r.targetsApiVersion=r.taskgroupsApiVersion=r.updatesApiVersion=r.variablegroupsApiVersion=r.vstsaadoauthApiVersion="4.1-preview.1",r.hublicenseApiVersion="4.1-preview.2",r}return __extends(t,n),t.prototype.getServiceEndpointExecutionRecords=function(n,t,r){var u={top:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"3ad71e20-7586-45f9-a6c8-0342e00835ac",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{endpointId}/{resource}",responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:n,endpointId:t},queryParams:u,apiVersion:"4.1-preview.1"})},t.prototype.addServiceEndpointExecutionRecords=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"11a45c69-2cce-4ade-a361-c9f5a37239ee",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{resource}",requestType:i.TypeInfo.ServiceEndpointExecutionRecordsInput,responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:t},apiVersion:"4.1-preview.1",data:n})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:"4.1-preview.2",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"4.1-preview.2",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:"4.1-preview.2",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"4.1-preview.2"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"4.1-preview.2"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.2"})},t.prototype.getServiceEndpointsByNames=function(n,t,i,r,u){var f={endpointNames:t&&t.join(","),type:i,authSchemes:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.2"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:"4.1-preview.2",data:n})},t.prototype.updateServiceEndpoints=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"4.1-preview.2",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"4.1-preview.1"})},t}(a);t.TaskAgentHttpClient4_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="4.0",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.deploymentgroupaccesstokenApiVersion=r.deploymentgroupsApiVersion=r.deploymentgroupsmetricsApiVersion=r.deploymentmachinejobrequestsApiVersion=r.deploymentmachinemessagesApiVersion=r.inputvalidationApiVersion=r.machinegroupaccesstokenApiVersion=r.machinegroupsApiVersion=r.machinesApiVersion=r.machinesApiVersion_6f6d406f=r.maintenancedefinitionsApiVersion=r.maintenancejobsApiVersion=r.queuesApiVersion=r.revisionsApiVersion=r.securefilesApiVersion=r.taskgroupsApiVersion=r.updatesApiVersion=r.variablegroupsApiVersion=r.vstsaadoauthApiVersion="4.0-preview.1",r.hublicenseApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getServiceEndpointExecutionRecords=function(n,t,r){var u={top:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"3ad71e20-7586-45f9-a6c8-0342e00835ac",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{endpointId}/{resource}",responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:n,endpointId:t},queryParams:u,apiVersion:"4.0-preview.1"})},t.prototype.addServiceEndpointExecutionRecords=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"11a45c69-2cce-4ade-a361-c9f5a37239ee",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{resource}",requestType:i.TypeInfo.ServiceEndpointExecutionRecordsInput,responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:t},apiVersion:"4.0-preview.1",data:n})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:"4.0-preview.2",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"4.0-preview.2",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:"4.0-preview.2",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"4.0-preview.2"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"4.0-preview.2"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"4.0-preview.2"})},t.prototype.getServiceEndpointsByNames=function(n,t,i,r,u){var f={endpointNames:t&&t.join(","),type:i,authSchemes:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"4.0-preview.2"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:"4.0-preview.2",data:n})},t.prototype.updateServiceEndpoints=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"4.0-preview.2",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"4.0-preview.1"})},t.prototype.updateTaskGroup=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:t},apiVersion:"4.0-preview.1",data:n})},t}(l);t.TaskAgentHttpClient4=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="3.2",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.deploymentgroupaccesstokenApiVersion=r.deploymentgroupsApiVersion=r.deploymentmachinejobrequestsApiVersion=r.deploymentmachinemessagesApiVersion=r.inputvalidationApiVersion=r.machinegroupaccesstokenApiVersion=r.machinegroupsApiVersion=r.machinesApiVersion=r.machinesApiVersion_6f6d406f=r.maintenancedefinitionsApiVersion=r.maintenancejobsApiVersion=r.queuesApiVersion=r.revisionsApiVersion=r.securefilesApiVersion=r.taskgroupsApiVersion=r.updatesApiVersion=r.variablegroupsApiVersion=r.vstsaadoauthApiVersion="3.2-preview.1",r.hublicenseApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"3.2",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"3.2"})},t.prototype.getServiceEndpointExecutionRecords=function(n,t,r){var u={top:r};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"3ad71e20-7586-45f9-a6c8-0342e00835ac",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{endpointId}/{resource}",responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:n,endpointId:t},queryParams:u,apiVersion:"3.2-preview.1"})},t.prototype.addServiceEndpointExecutionRecords=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"11a45c69-2cce-4ade-a361-c9f5a37239ee",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/serviceendpoints/{resource}",requestType:i.TypeInfo.ServiceEndpointExecutionRecordsInput,responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.2-preview.1",data:n})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:"3.2-preview.2",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.2-preview.2",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:"3.2-preview.2",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"3.2-preview.2"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"3.2-preview.2"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"3.2-preview.2"})},t.prototype.getServiceEndpointsByNames=function(n,t,i,r,u){var f={endpointNames:t&&t.join(","),type:i,authSchemes:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"3.2-preview.2"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:"3.2-preview.2",data:n})},t.prototype.updateServiceEndpoints=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.2-preview.2",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"3.2-preview.1"})},t.prototype.updateTaskGroup=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:t},apiVersion:"3.2-preview.1",data:n})},t}(c);t.TaskAgentHttpClient3_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="3.1",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.machinegroupaccesstokenApiVersion=r.machinegroupsApiVersion=r.machinesApiVersion=r.queuesApiVersion=r.revisionsApiVersion=r.taskgroupsApiVersion=r.variablegroupsApiVersion=r.vstsaadoauthApiVersion="3.1-preview.1",r.hublicenseApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"3.1",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"3.1"})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:"3.1-preview.2",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.1-preview.2",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:"3.1-preview.2",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"3.1-preview.2"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"3.1-preview.2"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"3.1-preview.2"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:"3.1-preview.2",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"3.1-preview.1"})},t.prototype.updateTaskGroup=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:t},apiVersion:"3.1-preview.1",data:n})},t}(h);t.TaskAgentHttpClient3_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.packagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="3.0",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.queuesApiVersion=r.taskgroupsApiVersion="3.0-preview.1",r.hublicenseApiVersion="3.0-preview.2",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"3.0",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"3.0"})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:"3.0-preview.2",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"f956a7de-d766-43af-81b1-e9e349245634",resource:"serviceendpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.0-preview.2",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:"3.0-preview.2",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"3.0-preview.2"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:"3.0-preview.2"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"3.0-preview.2"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"dca61d2f-3444-410a-b5ec-db2fc4efb4c5",resource:"serviceendpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:"3.0-preview.2",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"3.0-preview.1"})},t.prototype.updateTaskGroup=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7",resource:"taskgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{taskGroupId}",responseType:i.TypeInfo.TaskGroup,routeValues:{project:t},apiVersion:"3.0-preview.1",data:n})},t}(s);t.TaskAgentHttpClient3=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="2.3",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.queuesApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"2.3",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"2.3"})},t.prototype.getPackage=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.3"})},t.prototype.getPackageZip=function(n){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.3"})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{scopeIdentifier:t},queryParams:u,apiVersion:"2.3-preview.1",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{scopeIdentifier:t},apiVersion:"2.3-preview.1",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t},apiVersion:"2.3-preview.1",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.3-preview.1"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.3-preview.1"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{scopeIdentifier:n},queryParams:f,apiVersion:"2.3-preview.1"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t,endpointId:i},queryParams:u,apiVersion:"2.3-preview.1",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"2.3-preview.1"})},t}(f);t.TaskAgentHttpClient2_3=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="2.2",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.queuesApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"2.2",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"2.2"})},t.prototype.getPackage=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.2"})},t.prototype.getPackageZip=function(n){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.2"})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{scopeIdentifier:t},queryParams:u,apiVersion:"2.2-preview.1",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{scopeIdentifier:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t},apiVersion:"2.2-preview.1",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.2-preview.1"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.2-preview.1"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{scopeIdentifier:n},queryParams:f,apiVersion:"2.2-preview.1"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t,endpointId:i},queryParams:u,apiVersion:"2.2-preview.1",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"2.2-preview.1"})},t}(f);t.TaskAgentHttpClient2_2=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.tasksApiVersion=r.usercapabilitiesApiVersion="2.1",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.queuesApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"2.1",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"2.1"})},t.prototype.getPackage=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.1"})},t.prototype.getPackageZip=function(n){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.1"})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{scopeIdentifier:t},queryParams:u,apiVersion:"2.1-preview.1",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{scopeIdentifier:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t},apiVersion:"2.1-preview.1",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.1-preview.1"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.1-preview.1"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{scopeIdentifier:n},queryParams:f,apiVersion:"2.1-preview.1"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t,endpointId:i},queryParams:u,apiVersion:"2.1-preview.1",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"2.1-preview.1"})},t}(f);t.TaskAgentHttpClient2_1=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentsApiVersion=r.endpointApiVersion=r.jobrequestsApiVersion=r.messagesApiVersion=r.poolsApiVersion=r.sessionsApiVersion=r.usercapabilitiesApiVersion="2.0",r.agentcloudtypesApiVersion=r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.queuesApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.addAgent=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",requestType:i.TypeInfo.TaskAgent,responseType:i.TypeInfo.TaskAgent,routeValues:{poolId:t},apiVersion:"2.0",data:n})},t.prototype.deleteAgent=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"e298ef32-5878-4cab-993c-043836571f42",resource:"agents",routeTemplate:"_apis/{area}/pools/{poolId}/{resource}/{agentId}",routeValues:{poolId:n,agentId:t},apiVersion:"2.0"})},t.prototype.getPackage=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.0"})},t.prototype.getPackageZip=function(n){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",resource:"packages",routeTemplate:"_apis/{area}/{resource}/{packageType}/{platform}/{version}",routeValues:{packageType:n},apiVersion:"2.0"})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{scopeIdentifier:t},queryParams:u,apiVersion:"2.0-preview.1",data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"e3a44534-7b94-4add-a053-8af449589c62",resource:"serviceendpointproxy",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{scopeIdentifier:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t},apiVersion:"2.0-preview.1",data:n})},t.prototype.deleteServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.0-preview.1"})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:n,endpointId:t},apiVersion:"2.0-preview.1"})},t.prototype.getServiceEndpoints=function(n,t,i,r,u){var f={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),includeFailed:u};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{scopeIdentifier:n},queryParams:f,apiVersion:"2.0-preview.1"})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"distributedtask",locationId:"ca373c13-fec3-4b30-9525-35a117731384",resource:"serviceendpoints",routeTemplate:"{scopeIdentifier}/_apis/{area}/{resource}/{endpointId}",routeValues:{scopeIdentifier:t,endpointId:i},queryParams:u,apiVersion:"2.0-preview.1",data:n})},t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"7c74af83-8605-45c1-a30b-7a05d5d7f8c1",resource:"serviceendpointtypes",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:"2.0-preview.1"})},t}(o);t.TaskAgentHttpClient2=it;ut=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(e);t.TaskAgentHttpClient=ut;rt={"5.1":e,"5.0":y,"4.1":p,"4.0":w,"3.2":b,"3.1":k,"3.0":d,"2.3":g,"2.2":nt,"2.1":tt,"2.0":it};t.getClient=ft});

define("DistributedTaskControls/Sources/VariableGroupSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/DistributedTask/TaskAgentRestClient","VSS/Context","VSS/Service"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dtAgentClient=e.getCollectionClient(u.TaskAgentHttpClient),t}return __extends(t,n),t.getKey=function(){return"VariableGroupSource"},t.prototype.beginGetVariableGroups=function(n,t){var i=f.getDefaultWebContext().project.id;return this._dtAgentClient.getVariableGroups(i,n,t)},t.prototype.beginGetVariableGroupsByIds=function(n){var t=f.getDefaultWebContext().project.id;return this._dtAgentClient.getVariableGroupsById(t,n)},t.instance=function(){return r.SourceManager.getSource(t)},t}(i.SourceBase);t.VariableGroupSource=o});

define("PipelineWorkflow/Scripts/Shared/Utils/VariablesUtils",["require","exports","DistributedTaskControls/Variables/Common/Constants","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.getProcessVariables=function(t,i){var u=[],r=t.variables||{};return Object.keys(r).forEach(function(t){var f={name:t,variable:{value:r[t].value,isSecret:r[t].isSecret,allowOverride:r[t].allowOverride,scope:n._getDefaultScope(),hasSecretValueBeenReset:!!r[t].isSecret&&!!i}};u.push(f)}),(t.environments||[]).forEach(function(n){var t=n.variables||{};Object.keys(t).forEach(function(r){var f={name:r,variable:{value:t[r].value,isSecret:t[r].isSecret,allowOverride:t[r].allowOverride,scope:{key:n.scopeKey,value:n.name},hasSecretValueBeenReset:!!t[r].isSecret&&!!i}};u.push(f)})}),u},n.getVariablesInScope=function(n,t){var i={};return(n||[]).forEach(function(n){n.variable.scope.key===t&&(!n.name||(i[n.name]=n.variable))}),i},n.getVariableGroupReferences=function(t){var r=this,i=[];return(t.variableGroups||[]).forEach(function(t){var u=r._getVariableGroupId(t),f={groupId:u,scope:n._getDefaultScope()};i.push(f)}),(t.environments||[]).forEach(function(n){(n.variableGroups||[]).forEach(function(t){var u=r._getVariableGroupId(t),f={groupId:u,scope:{key:n.id,value:n.name}};i.push(f)})}),i},n.getScopes=function(t){var i=[],r;return i.push(n._getDefaultScope()),t&&t.length>0&&(r=t.map(function(n){return{key:n.scopeKey,value:n.name}}),i=i.concat(r)),i},n._getVariableGroupId=function(n){if(n!==undefined&&n!==null)return typeof n=="number"?n:n.id},n._getDefaultScope=function(){return{key:i.VariableConstants.DefaultScopeKey,value:r.ReleaseText,isDefault:!0}},n}();t.VariablesUtils=u});

define("PipelineWorkflow/Scripts/SharedComponents/Security/PermissionService",["require","exports","q","DistributedTaskControls/Common/Factory","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/VSS"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.hasPermission=function(n,t){var r=this;return u.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?i.resolve(!0):this._ensurePermissionManager().then(function(){return r._permissionManager.hasPermission(n,t)})},t.prototype.listPermissions=function(n,t){var f=this,r;return u.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?(r=(n||[]).map(function(){return!0}),i.resolve(r||[])):this._ensurePermissionManager().then(function(){return f._permissionManager.listPermissions(n,t)})},t.prototype.getPermissionsBatch=function(n){var f=this,t,r;return u.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?(t=!!n&&!!n.evaluations?n.evaluations:[],r=t.map(function(n){return __assign({},n,{value:!0})}),i.resolve(r)):this._ensurePermissionManager().then(function(){return f._permissionManager.getPermissionsBatch(n)})},t.prototype._ensurePermissionManager=function(){var t=this,n=i.defer();return f.using(["ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager"],function(i){t._permissionManager||(t._permissionManager=new i.PermissionsManager);n.resolve(null)},function(t){return n.reject(t)}),n.promise},t.instance=function(){return n.getInstance.call(this,t)},t}(r.Singleton);t.PermissionService=e});

define("PipelineWorkflow/Scripts/Definitions/Constants",["require","exports"],function(n,t){var r,u,f,e,o,s,h,c,l,a,v,y,p,i,w,b,k,d;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.MinePivotItemKey="mine";n.AllDefinitionsPivotItemKey="all";n.AllDefinitionsSearchKey="search-all-definitions"}(r=t.DefinitionsHubKeys||(t.DefinitionsHubKeys={})),function(n){n.ActionCreatorKey_DefinitionsActionsCreator="ACTION_CREATOR_KEY_DEFINITIONS_ACTION_CREATOR";n.ActionCreatorKey_ActiveDefinitionsActionsCreator="ACTION_CREATOR_KEY_ACTIVE_DEFINITIONS_ACTION_CREATOR";n.ActionCreatorKey_FolderDialogActionsCreator="ACTION_CREATOR_KEY_FOLDER_DIALOG_ACTION_CREATOR";n.ActionCreatorKey_FolderPickerActionsCreator="ACTION_CREATOR_KEY_FOLDER_PICKER_ACTION_CREATOR";n.ActionCreatorKey_FavoritesActionsCreator="ACTION_CREATOR_KEY_FAVORITES_ACTION_CREATOR";n.ActionCreatorKey_ActiveReleasesActionCreator="ACTION_CREATOR_KEY_ACTIVE_RELEASES_ACTION_CREATOR";n.ActionCreatorKey_DashboardsActionCreator="ACTION_CREATOR_KEY_DASHBOARDS_ACTION_CREATOR"}(u=t.DefinitionsActionsCreatorKeys||(t.DefinitionsActionsCreatorKeys={})),function(n){n.ActionHubKey_DefinitionsActionHub="ACTION_HUB_KEY_DEFINITIONS_ACTION_HUB";n.ActionHubKey_FolderDialogActionHub="ACTION_HUB_KEY_FOLDER_DIALOG_ACTION_HUB";n.ActionHubKey_FolderPickerActionHub="ACTION_HUB_KEY_FOLDER_PICKER_ACTION_HUB";n.ActionHubKey_FavoritesActionHub="ACTION_HUB_KEY_FAVORITES_ACTION_HUB";n.ActionHubKey_ActiveDefinitionsActionHub="ACTION_HUB_KEY_ACTIVE_DEFINITIONS_ACTION_HUB";n.ActionHubKey_CommonDefinitionsActionHub="ACTION_HUB_KEY_COMMON_DEFINITIONS_ACTION_HUB";n.ActionHubKey_ActiveReleasesActionsHub="ACTION_HUB_KEY_ACTIVE_RELEASES_ACTIONS_HUB";n.ActionHubKey_DashboardsActionsHub="ACTION_HUB_KEY_DASHBOARDS_ACTIONS_HUB"}(f=t.DefinitionsActionHubKeys||(t.DefinitionsActionHubKeys={})),function(n){n.StoreKey_DefinitionsStoreKey="STORE_KEY_DEFINITIONS_STORE";n.StoreKey_FoldersStoreKey="STORE_KEY_FOLDERS_STORE";n.StoreKey_DefinitionsHubStoreKey="STORE_KEY_DEFINITIONS_HUB_STORE";n.StoreKey_DefinitionsViewStoreKey="STORE_KEY_DEFINITIONS_VIEW_STORE";n.StoreKey_ActiveDefinitionsStoreKey="STORE_KEY_ACTIVE_DEFINITIONS_STORE";n.StoreKey_FolderDialogStoreKey="STORE_KEY_FOLDER_DIALOG_STORE";n.StoreKey_FolderPickerStoreKey="STORE_KEY_FOLDER_PICKER_STORE";n.StoreKey_FavoriteDefinitionsStoreKey="STORE_KEY_FAVORITE_DEFINITIONS_STORE";n.StoreKey_CommonDefinitionsStoreKey="STORE_KEY_COMMON_DEFINITIONS_STORE";n.StoreKey_ActiveReleasesStoreKey="STORE_KEY_ACTIVE_RELEASES_STORE";n.StoreKey_DashboardsStoreKey="STORE_KEY_DASHBOARDS_STORE";n.StoreKey_ActiveReleasesFilterStoreKey="STORE_KEY_ACTIVE_RELEASES_FILTER_STORE";n.StoreKey_ActiveReleasesBranchFilterStoreKey="STORE_KEY_ACTIVE_RELEASES_BRANCH_FILTER_STORE";n.StoreKey_ActiveReleaseApprovalsStoreKey="STORE_KEY_ACTIVE_RELEASE_APPROVAL_STORE"}(e=t.DefinitionsStoreKeys||(t.DefinitionsStoreKeys={})),function(n){n.RELEASES_CD_WORKFLOW_HUB_ID="ms.vss-releaseManagement-web.cd-workflow-hub"}(o=t.ReleasesHubContributionIds||(t.ReleasesHubContributionIds={})),function(n){n.RELEASES_HUB_DATA_PROVIDER_ID="ms.vss-releaseManagement-web.hub-explorer-2-data-provider";n.ACTIVE_DEFINITIONS_DATA_PROVIDER="ms.vss-releaseManagement-web.active-definitions-data-provider";n.ACTIVE_RELEASES_DATA_PROVIDER="ms.vss-releaseManagement-web.active-releases-data-provider"}(s=t.ReleasesHubDataProviderKeys||(t.ReleasesHubDataProviderKeys={})),function(n){n.ImportReleaseDefinitionStorageSessionKey="microsoft.vsts.releasemanagement.importedDefinition"}(h=t.SessionStorageKeys||(t.SessionStorageKeys={})),function(n){n.DefinitionsLatestReleaseColumnHeaderKey="lastRelease";n.DefinitionsPathColumnHeaderKey="path";n.DefinitionsFavoritesColumnHeaderKey="favorites";n.DefinitionsAnalysisColumnHeaderKey="analysis";n.CreateReleaseMenuOptionKey="createRelease";n.DraftReleaseMenuOptionKey="draftRelease";n.EditMenuOptionKey="edit";n.RenameMenuOptionKey="rename";n.DeleteRdMenuOptionKey="deleteRd";n.CloneMenuOptionKey="clone";n.ExportMenuOptionKey="export";n.AddToDashboardMenuOptionKey="addToDashboard";n.MoveMenuOptionKey="moveToFolder";n.SecurityMenuOptionKey="security";n.MenuDividerKey_1="divider_1";n.MenuDividerKey_2="divider_2";n.MenuDividerKey_3="divider_3";n.PathSeparator="\\";n.SecurityTokenSeparator="/";n.PinToDashboardSubMenuKey="dashboardEntry";n.RenameDefinitionMenuOptionKey="renameDefinition";n.CreateDefinitionMenuOptionKey="createdefinition";n.CreateFolderMenuOptionKey="createFolder";n.RenameFolderMenuOptionKey="renameFolder";n.DeleteFolderMenuOptionKey="deleteFolder";n.DefinitionsActionsInstanceId="definitions-actions-instance-id"}(c=t.AllDefinitionsContentKeys||(t.AllDefinitionsContentKeys={})),function(n){n.OpenMenuItemKey="open-release-menu-item";n.OpenInNewTabMenuItemKey="open-newtab-release-menu-item";n.StartMenuItemKey="start-release-menu-item";n.RetainReleaseMenuItemKey="retain-release-menu-item";n.AbandonReleaseMenuItemKey="abandon-release-menu-item";n.DeleteReleaseMenuItemKey="delete-release-menu-item";n.UndeleteReleaseMenuItemKey="undelete-release-menu-item"}(l=t.ActiveReleasesMenuItemKeys||(t.ActiveReleasesMenuItemKeys={})),function(n){n.ActiveDefinitionsSearchKey="search-all-definitions-for-mine-page";n.ActiveReleasesFilterKey="active-releases-filter-view-action";n.ActiveReleasesSearchKey="search-active-releases";n.ActiveReleasesAllReleasesActionKey="active-releases-all-rel-viewaction"}(a=t.ActiveDefinitionsContentKeys||(t.ActiveDefinitionsContentKeys={})),function(n){n.ActiveReleaseNameKey="active-release-name-column";n.ActiveReleaseEnvironmentsKey="active-release-environments-column";n.ActiveReleaseCreatedKey="active-release-created-column";n.ActiveReleaseDescriptionKey="active-release-description-column"}(v=t.ActiveReleaseColumnKeys||(t.ActiveReleaseColumnKeys={})),function(n){n.ActiveDefinitionDetailsInstanceId="active-definitions-details"}(y=t.ActiveDefinitionsConstants||(t.ActiveDefinitionsConstants={})),function(n){n.DefinitionsHubSuccessMessageBarKey="definitions-hub-success-messagebar-key";n.DefinitionsHubErrorMessageBarKey="definitions-hub-error-messagebar-key";n.ActiveReleasesWarningMessageBarKey="active-releases-warning-messagebar-key"}(p=t.MessageBarParentKeyConstants||(t.MessageBarParentKeyConstants={}));i=function(){function n(){}return n.FavoriteType="Microsoft.TeamFoundation.ReleaseManagement.DefinitionEntry",n.FavoriteArtifactScope="Project",n}();t.AllDefinitionsFavoriteConstants=i,function(n){n.GettingStartedLink="https://aka.ms/rmhelp";n.SetupTriggersLink="https://docs.microsoft.com/en-us/vsts/pipelines/release/triggers?view=vsts"}(w=t.Links||(t.Links={})),function(n){n.Branch="branch";n.State="state"}(b=t.ActiveDefinitionsUrlParameterKeys||(t.ActiveDefinitionsUrlParameterKeys={})),function(n){n.EnvironmentNodeHeight=24;n.EnvironmentNodeWidthLarge=108;n.EnvironmentNodeWidthSmall=30}(k=t.ReleasesViewCanvasConstants||(t.ReleasesViewCanvasConstants={})),function(n){n.AllReleases="all-releases-view-option-key";n.CurrentlyDeployed="currently-deployed-view-option-key"}(d=t.DefinitionsHubViewOptionKeys||(t.DefinitionsHubViewOptionKeys={}))});

define("PipelineWorkflow/Scripts/Definitions/Utils/FolderUtils",["require","exports","PipelineWorkflow/Scripts/Definitions/Constants","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f){function o(n,t){t===void 0&&(t=300);var i,r;return function(u,f){i&&(clearTimeout(i),r&&r.resolve({isCanceled:!0}));r=f;i=setTimeout(function(){i=null;r=null;n(u,f)},t)}}Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(){}return n.getFolderNameWithPath=function(n,t){var r=n?n:f.empty;return r+(f.localeIgnoreCaseComparer(n,i.AllDefinitionsContentKeys.PathSeparator)===0?t:i.AllDefinitionsContentKeys.PathSeparator+t)},n.getFolderName=function(n){if(!!n){var t=n.split(i.AllDefinitionsContentKeys.PathSeparator);return t[t.length-1]}return f.empty},n.getFolderDisplayName=function(t){return n.isRootPath(t)?r.AllDefinitionsText:t},n.isRootPath=function(n){return n?f.equals(n,i.AllDefinitionsContentKeys.PathSeparator,!0)?!0:!1:!0},n.isExistingFolderPath=function(t,i){return!!t&&(n.isRootPath(t)||u.findIndex(i,function(n){return f.equals(t,n.path,!0)})>=0)},n.createNewChildPathForUpdatedParentFolderPath=function(n,t,r){var e=n.split(i.AllDefinitionsContentKeys.PathSeparator),o=r.split(i.AllDefinitionsContentKeys.PathSeparator),h=o.slice(0,e.length),s,u;return f.ignoreCaseComparer(JSON.stringify(h),JSON.stringify(e))===0?t?(s=o.slice(e.length,o.length),u=t,s.length>0&&(u=u+i.AllDefinitionsContentKeys.PathSeparator+s.join(i.AllDefinitionsContentKeys.PathSeparator)),u):n:f.empty},n}();t.FolderUtils=e;t.ensureSingleDelayedCall=o});

define("PipelineWorkflow/Scripts/Editor/Common/SecurityUtils",["require","exports","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Definitions/Constants","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Definitions/Utils/FolderUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Context","VSS/SDK/Shim","VSS/Utils/String","VSS/VSS","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function n(){}return n.openFolderSecurityDialog=function(t){var i=n.createFolderPathSecurityToken(t),r={resourceName:f.FolderUtils.getFolderDisplayName(t),token:i,projectId:l.getDefaultWebContext().project.id,permissionSet:u.CommonConstants.SecurityNameSpaceIdForReleaseManagement};c.using(["ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog"],function(n){return n.SecurityHelper.showSecurityDialog(r)})},n.openDefinitionSecurityDialog=function(t,i,r){var f=n.createDefinitionSecurityToken(r,t),e={resourceName:i,token:f,projectId:l.getDefaultWebContext().project.id,permissionSet:u.CommonConstants.SecurityNameSpaceIdForReleaseManagement};c.using(["ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog"],function(n){return n.SecurityHelper.showSecurityDialog(e)})},n.showSecurityDialog=function(t,i,r,u){var f=o.getDefaultWebContext(),s=f?f.project.id:null,c=n.createEnvironmentSecurityToken(t,i,r),l,a;s&&(l=s+(c?n._separator+c:h.empty),a={useApiUrl:!0,permissionSet:n._permissionSet,token:l,tokenDisplayValue:u},n._showExternalSecurityDialog({params:a,title:h.localeFormat(e.SecurityDialogPermissionText,u)}))},n.getCompleteSecurityToken=function(n){var t=l.getDefaultWebContext();return n?h.format(this._completeSecurityTokenFormat,t.project.id,n):t.project.id},n.getCompleteSecurityTokenForDefinition=function(t,i){return n.getCompleteSecurityToken(n.createDefinitionSecurityToken(t,i))},n.createCompleteDefinitionSecurityToken=function(t,i,r){return h.format(this._completeSecurityTokenFormat,t,n.createDefinitionSecurityToken(i,r))},n.createCompleteEnvironmentSecurityToken=function(t,i,r,u){return h.format(this._completeSecurityTokenFormat,t,n.createEnvironmentSecurityToken(i,r,u))},n.createFolderPathSecurityToken=function(t){if(f.FolderUtils.isRootPath(t))return h.empty;var i=h.startsWith(t,r.AllDefinitionsContentKeys.PathSeparator,h.ignoreCaseComparer)?t.substring(1):t;return i.split(r.AllDefinitionsContentKeys.PathSeparator).join(n._separator)},n.createDefinitionSecurityToken=function(t,i){return f.FolderUtils.isRootPath(t)?i.toString():n.createFolderPathSecurityToken(t)+n._separator+i},n.createEnvironmentSecurityToken=function(t,i,r){return h.format(n._environmentSecurityTokenFormat,n.createDefinitionSecurityToken(t,i),r)},n._showExternalSecurityDialog=function(t){s.VSS.getService(n._dialogServiceId).then(function(r){var u={width:800,height:650,title:t.title,resizable:!0,modal:!0,cssClass:"admin-dialog external-admin-dialog external-dialog",cancelText:e.CancelText},f=i.JQueryWrapper.extend({style:"minControl"},t.params);r.openDialog(n._securityControlContributionId,u,f)})},n._permissionSet="c788c23e-1b46-4162-8f5e-d7585343b5de",n._separator="/",n._environmentSecurityTokenFormat="{0}/Environment/{1}",n._completeSecurityTokenFormat="{0}/{1}",n._dialogServiceId="ms.vss-web.dialog-service",n._securityControlContributionId="ms.vss-admin-web.security-control",n}();t.SecurityUtils=a});

define("VSS/Security/Services",["require","exports","VSS/Contributions/LocalPageData","VSS/Diag","VSS/Service"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f="_permissions",e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.hasPermission=function(n,t,r){var o=i.getSharedData(f),u,e;return o?(u=o[n],!u)?this.handleMissingState("Security namespace with id '"+n+"' not found"):(e=u[t],e===undefined)?this.handleMissingState("No permissions found for security namespace '"+n+"' and token '"+t+"'"):(r&e)>0:this.handleMissingState("No shared permissions found")},t.prototype.checkPermission=function(n,t,i){if(!this.hasPermission(n,t,i))throw new Error("Access denied: Permission "+i+" is needed for the resource "+t+".");},t.prototype.isPermissionIncluded=function(n,t){var u=i.getSharedData(f),r;return u?(r=u[n],r&&r[t]!==undefined):!1},t.prototype.handleMissingState=function(n){return!1},t}(u.VssService);t.SecurityService=e});

define("PipelineWorkflow/Scripts/SharedComponents/Security/PermissionHelper",["require","exports","q","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionService","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Editor/Common/SecurityUtils","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/Context","VSS/Contributions/LocalPageData","VSS/Service","VSS/Security/Services","VSS/User/Services","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function n(){}return n.createEditReleaseDefinitionSecurityProps=function(n,t){return t>0?{securityToken:e.SecurityUtils.createDefinitionSecurityToken(n,t),permission:u.ReleaseManagementSecurityPermissions.EditReleaseDefinition}:null},n.createEditEnvironmentSecurityProps=function(n,t,i){return t>0&&i>0?{securityToken:e.SecurityUtils.createEnvironmentSecurityToken(n,t,i),permission:u.ReleaseManagementSecurityPermissions.EditReleaseEnvironment}:null},n.createEditEnvironmentOverrideSecurityProps=function(n,t){var i=this.createEditReleaseDefinitionSecurityProps(n,t);return i?[i]:[]},n.createEditEnvironmentOverrideSecurityPropsForReleaseView=function(n,t){var i=this.createManageReleaseSecurityProps(n,t);return i?[i]:[]},n.createManageReleaseSecurityProps=function(n,t){return t>0?{securityToken:e.SecurityUtils.createDefinitionSecurityToken(n,t),permission:u.ReleaseManagementSecurityPermissions.ManageReleases}:null},n.createEditApprovalsSecurityProps=function(n,t,i){return t>0&&i>0?{securityToken:e.SecurityUtils.createEnvironmentSecurityToken(n,t,i),permission:u.ReleaseManagementSecurityPermissions.ManageReleaseApprovers}:null},n.createEditApprovalsOverrideSecurityProps=function(n,t,i,r){var u=[],e=r?this.createManageReleaseSecurityProps(n,t):this.createEditReleaseDefinitionSecurityProps(n,t),f;return e&&u.push(e),f=this.createEditEnvironmentSecurityProps(n,t,i),f&&u.push(f),u},n.hasDeleteEnvironmentPermission=function(n,t,i){return this._hasEnvironmentPermission(u.ReleaseManagementSecurityPermissions.DeleteReleaseEnvironment|u.ReleaseManagementSecurityPermissions.EditReleaseDefinition,n,t,i,!0)},n.hasEditDefinitionPermission=function(n,t){return this._hasReleaseDefinitionPermission(u.ReleaseManagementSecurityPermissions.EditReleaseDefinition,n,t,!0)},n.hasViewDefinitionPermission=function(n,t){return this._hasReleaseDefinitionPermission(u.ReleaseManagementSecurityPermissions.ViewReleaseDefinition,n,t,!0)},n.hasManageReleasePermission=function(n,t,i){var r=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),o=e.SecurityUtils.createCompleteDefinitionSecurityToken(i,n,t);return this._getPermissionsFromDataProvider(r,o,u.ReleaseManagementSecurityPermissions.ManageReleases)},n.hasAdministerReleasePermission=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.AdministerReleasePermissions)},n.hasQueueReleasePermissions=function(n,t,i){var r=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),o=e.SecurityUtils.createCompleteDefinitionSecurityToken(i,n,t);return this._getPermissionsFromDataProvider(r,o,u.ReleaseManagementSecurityPermissions.QueueReleases)},n.hasManageDeploymentsPermissions=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.ManageDeployments)},n.hasEditReleaseEnvironmentPermissions=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.EditReleaseEnvironment)},n.hasManageReleaseApproversPermissions=function(n,t,i,r){var o=f.CommonConstants.SecurityNameSpaceIdForReleaseManagement.toLowerCase(),s=e.SecurityUtils.createCompleteEnvironmentSecurityToken(i,n,t,r);return this._getPermissionsFromDataProvider(o,s,u.ReleaseManagementSecurityPermissions.ManageReleaseApprovers)},n.hasViewReleaseTaskEditorPermission=function(){var n=c.getLocalService(l.SecurityService);return n.isPermissionIncluded(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken)?n.hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken,u.ReleaseManagementUISecurityPermissions.ViewReleaseTaskEditor):!0},n.IsPublicOrAnonymousUser=function(){var n=c.getLocalService(l.SecurityService);return n.isPermissionIncluded(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken)?!n.hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagementUI,f.CommonConstants.ReleaseManagementUIPermissionToken,u.ReleaseManagementUISecurityPermissions.ViewCDWorkflowEditor):!1},n.hasViewReleaseHistoryPermission=function(){return this.hasViewReleaseTaskEditorPermission()},n.hasManageDeploymentsPermission=function(n,t,i){return this._hasEnvironmentPermission(u.ReleaseManagementSecurityPermissions.ManageDeployments,n,t,i,!1)},n.getPermissionCollectionKey=function(n,t){return v.format(this._permissionCollectionKeyFormat,n.toLowerCase(),t.toLowerCase())},n.fetchPermissions=function(n){var u=this,t,f;return!n||!n.evaluations||n.evaluations.length===0?i.resolve({}):(t={},f={alwaysAllowAdministrators:!1,evaluations:[]},this._segregateUncachedPermissions(n,t,f),r.PermissionService.instance().getPermissionsBatch(f).then(function(n){return u._updatePermissions(n,t),u._updatePermissions(n,u._permissionsCache),i.resolve(t)},function(){i.resolve({})}))},n.createDashBoardToken=function(n){var t=s.getDefaultWebContext();return v.format("$/{0}/{1}/{2}",t.project.id,n.ownerId,n.id)},n.canNavigateToOldReleaseUI=function(){return this._userHasClaim(a.UserClaims.Member)},n.canQueryWorkItemsAcrossProjects=function(){return this._userHasClaim(a.UserClaims.Member)},n.canShowFirstRunExperience=function(){return this._userHasClaim(a.UserClaims.Member)},n.canViewAnalytics=function(){return this._userHasClaim(a.UserClaims.Member)},n.canAddDefinitionToDashboard=function(){return this._userHasClaim(a.UserClaims.Member)},n._userHasClaim=function(n){var t=a.getService();return t.hasClaim(n)},n._segregateUncachedPermissions=function(n,t,i){var r=this;n.evaluations.forEach(function(n){var f=n.token,e=n.permissions,u;r.isPermissionCached(n.securityNamespaceId,f,e)?(u=r.getPermissionCollectionKey(n.securityNamespaceId,f),t[u]||(t[u]={}),t[u][e]=r._hasPermission(n.securityNamespaceId,f,e)):i.evaluations.push(n)})},n.isPermissionCached=function(n,t,i){return this._getPermissions(n,t,i)!==undefined},n._hasPermission=function(n,t,i){var r=this._getPermissions(n,t,i);return r===undefined?!0:r},n._updatePermissions=function(n,t){var i=this;n&&n.length!==0&&n.forEach(function(n){var r=i.getPermissionCollectionKey(n.securityNamespaceId,n.token),u=t[r];u===undefined&&(t[r]={});t[r][n.permissions]=n.value?!0:!1})},n._hasReleaseDefinitionPermission=function(n,t,u,o){var s=this,c,h;return this._isValidDefinitionId(u)?(c=e.SecurityUtils.createDefinitionSecurityToken(t,u),h=e.SecurityUtils.getCompleteSecurityToken(c),this.isPermissionCached(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,h,n))?i.resolve(this._hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,h,n)):r.PermissionService.instance().hasPermission(c,n).then(function(t){var i=s.getPermissionCollectionKey(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,h);return s._permissionsCache[i]||(s._permissionsCache[i]={}),s._permissionsCache[i][n]=t,t}):i.resolve(o)},n._hasEnvironmentPermission=function(n,t,u,o,s){var h=this,l,c;return this._isValidDefinitionId(u)&&this._isValidDefinitionId(o)?(l=e.SecurityUtils.createEnvironmentSecurityToken(t,u,o),c=e.SecurityUtils.getCompleteSecurityToken(l),this.isPermissionCached(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,c,n))?i.resolve(this._hasPermission(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,c,n)):r.PermissionService.instance().hasPermission(l,n).then(function(t){var i=h.getPermissionCollectionKey(f.CommonConstants.SecurityNameSpaceIdForReleaseManagement,c);return h._permissionsCache[i]||(h._permissionsCache[i]={}),h._permissionsCache[i][n]=t,t}):i.resolve(s)},n._isValidDefinitionId=function(n){return n>0},n._getPermissions=function(n,t,i){var f=this.getPermissionCollectionKey(n,t),r=this._permissionsCache[f],u;return r!==undefined&&r[i]?r[i]:(u=this._getPermissionsFromSharedData(n,t),u!==undefined)?(u&i)>0:undefined},n._getPermissionsFromDataProvider=function(n,t,i){var r=this._getPermissionsFromSharedData(n,t);return(r&i)!=0},n._getPermissionsFromSharedData=function(n,t){var r=h.getSharedData(this._permissionsSharedDataKey),i;return!r||!n?undefined:o.FeatureFlagUtils.isOverrideSecurityPermissionEnabled()?this._overrideSecurityPermissionToken:(n=n.toLowerCase(),i=r[n],!i)?undefined:i[t]},n._permissionsCache={},n._permissionCollectionKeyFormat="{0}:{1}",n._overrideSecurityPermissionToken=4294967295,n._permissionsSharedDataKey="_permissions",n}();t.PermissionHelper=y});

define("PipelineWorkflow/Scripts/Editor/Common/DefinitionVariablesUtils",["require","exports","q","DistributedTaskControls/Sources/VariableGroupSource","PipelineWorkflow/Scripts/Shared/Utils/VariablesUtils","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionHelper","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionService","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.mapDefinitionToVariablesData=function(n,t){t===void 0&&(t=!1);return{definitionId:n.id,definitionPath:n.path,variables:!t?n.variables:this._getOverridableVariables(n.variables),environments:this.getEnvironmentVariablesData(n.environments,t)}},t.beginGetVariableGroups=function(n){var i=u.VariablesUtils.getVariableGroupReferences(n),t=i.map(function(n){return n.groupId}),f=t.filter(function(n,i){return t.indexOf(n)===i});return r.VariableGroupSource.instance().beginGetVariableGroupsByIds(f)},t.getEnvironmentVariablesData=function(n,t){var i=this;return t===void 0&&(t=!1),(n||[]).map(function(n){return{name:n.name,scopeKey:n.id,definitionId:n.id,variables:!t?n.variables:i._getOverridableVariables(n.variables)}})},t.getScopedProcessVariables=function(n){var i=[],t=n.variables||{},r;return Object.keys(t).forEach(function(r){var u={name:r,variable:{value:t[r].value,isSecret:t[r].isSecret,allowOverride:t[r].allowOverride,scope:{key:n.id,value:n.name}}};i.push(u)}),r={key:n.id,value:n.name},{variableList:i,scope:r}},t.getVariableGroupReferencesInScope=function(n,t){var i=n||[];return i.reduce(function(n,i){return!i.scope||i.scope.key!==t||n.push(i.groupId),n},[])},t.getScopePermissions=function(n,t,r,u){var l=[],s,h,c;for(u=u||e.PermissionService.instance(),s=0,h=r;s<h.length;s++)if(c=h[s],c>0)l.push(f.PermissionHelper.createEditEnvironmentSecurityProps(n,t,c).securityToken);else throw new Error("Environment id should be > 0 to evaluate its permission");return u.listPermissions(l,o.ReleaseManagementSecurityPermissions.EditReleaseEnvironment).then(function(n){if(r.length===n.length){var t=n.map(function(n,t){return{scopeKey:r[t],hasPermission:n}});return i(t)}return i([])},function(){return i([])})},t._getOverridableVariables=function(n){if(!n)return{};var t={};return Object.keys(n).forEach(function(i){!n[i].allowOverride||(t[i]=n[i])}),t},t}(u.VariablesUtils);t.DefinitionVariablesUtils=s});

define("DistributedTaskControls/Common/Service/ServiceClientManager",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.GetServiceClient=function(i,r){return n.getInstance.call(this,t).getObject(i,r)},t.CreateServiceClient=function(i,r,u){return n.getInstance.call(this,t).createObject(i,r,u)},t.DeleteServiceClient=function(i,r){n.getInstance.call(this,t).removeObject(i,r)},t.dispose=function(){return n.getInstance.call(this,t).dispose()},t}(i.Manager);t.ServiceClientManager=r});

// Knockout JavaScript library v2.2.1
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function() {function j(w){throw w;}var m=!0,p=null,r=!1;function u(w){return function(){return w}};var x=window,y=document,ga=navigator,F=window.jQuery,I=void 0;
function L(w){function ha(a,d,c,e,f){var g=[];a=b.j(function(){var a=d(c,f)||[];0<g.length&&(b.a.Ya(M(g),a),e&&b.r.K(e,p,[c,a,f]));g.splice(0,g.length);b.a.P(g,a)},p,{W:a,Ka:function(){return 0==g.length||!b.a.X(g[0])}});return{M:g,j:a.pa()?a:I}}function M(a){for(;a.length&&!b.a.X(a[0]);)a.splice(0,1);if(1<a.length){for(var d=a[0],c=a[a.length-1],e=[d];d!==c;){d=d.nextSibling;if(!d)return;e.push(d)}Array.prototype.splice.apply(a,[0,a.length].concat(e))}return a}function S(a,b,c,e,f){var g=Math.min,
h=Math.max,k=[],l,n=a.length,q,s=b.length,v=s-n||1,G=n+s+1,J,A,z;for(l=0;l<=n;l++){A=J;k.push(J=[]);z=g(s,l+v);for(q=h(0,l-1);q<=z;q++)J[q]=q?l?a[l-1]===b[q-1]?A[q-1]:g(A[q]||G,J[q-1]||G)+1:q+1:l+1}g=[];h=[];v=[];l=n;for(q=s;l||q;)s=k[l][q]-1,q&&s===k[l][q-1]?h.push(g[g.length]={status:c,value:b[--q],index:q}):l&&s===k[l-1][q]?v.push(g[g.length]={status:e,value:a[--l],index:l}):(g.push({status:"retained",value:b[--q]}),--l);if(h.length&&v.length){a=10*n;var t;for(b=c=0;(f||b<a)&&(t=h[c]);c++){for(e=
0;k=v[e];e++)if(t.value===k.value){t.moved=k.index;k.moved=t.index;v.splice(e,1);b=e=0;break}b+=e}}return g.reverse()}function T(a,d,c,e,f){f=f||{};var g=a&&N(a),g=g&&g.ownerDocument,h=f.templateEngine||O;b.za.vb(c,h,g);c=h.renderTemplate(c,e,f,g);("number"!=typeof c.length||0<c.length&&"number"!=typeof c[0].nodeType)&&j(Error("Template engine must return an array of DOM nodes"));g=r;switch(d){case "replaceChildren":b.e.N(a,c);g=m;break;case "replaceNode":b.a.Ya(a,c);g=m;break;case "ignoreTargetNode":break;
default:j(Error("Unknown renderMode: "+d))}g&&(U(c,e),f.afterRender&&b.r.K(f.afterRender,p,[c,e.$data]));return c}function N(a){return a.nodeType?a:0<a.length?a[0]:p}function U(a,d){if(a.length){var c=a[0],e=a[a.length-1];V(c,e,function(a){b.Da(d,a)});V(c,e,function(a){b.s.ib(a,[d])})}}function V(a,d,c){var e;for(d=b.e.nextSibling(d);a&&(e=a)!==d;)a=b.e.nextSibling(e),(1===e.nodeType||8===e.nodeType)&&c(e)}function W(a,d,c){a=b.g.aa(a);for(var e=b.g.Q,f=0;f<a.length;f++){var g=a[f].key;if(e.hasOwnProperty(g)){var h=
e[g];"function"===typeof h?(g=h(a[f].value))&&j(Error(g)):h||j(Error("This template engine does not support the '"+g+"' binding within its templates"))}}a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+b.g.ba(a)+" } })()})";return c.createJavaScriptEvaluatorBlock(a)+d}function X(a,d,c,e){function f(a){return function(){return k[a]}}function g(){return k}var h=0,k,l;b.j(function(){var n=c&&c instanceof b.z?c:new b.z(b.a.d(c)),q=n.$data;e&&b.eb(a,n);if(k=("function"==typeof d?
d(n,a):d)||b.J.instance.getBindings(a,n)){if(0===h){h=1;for(var s in k){var v=b.c[s];v&&8===a.nodeType&&!b.e.I[s]&&j(Error("The binding '"+s+"' cannot be used with virtual elements"));if(v&&"function"==typeof v.init&&(v=(0,v.init)(a,f(s),g,q,n))&&v.controlsDescendantBindings)l!==I&&j(Error("Multiple bindings ("+l+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),l=s}h=2}if(2===h)for(s in k)(v=b.c[s])&&"function"==
typeof v.update&&(0,v.update)(a,f(s),g,q,n)}},p,{W:a});return{Nb:l===I}}function Y(a,d,c){var e=m,f=1===d.nodeType;f&&b.e.Ta(d);if(f&&c||b.J.instance.nodeHasBindings(d))e=X(d,p,a,c).Nb;e&&Z(a,d,!f)}function Z(a,d,c){for(var e=b.e.firstChild(d);d=e;)e=b.e.nextSibling(d),Y(a,d,c)}function $(a,b){var c=aa(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:p}function aa(a,b){for(var c=a,e=1,f=[];c=c.nextSibling;){if(H(c)&&(e--,0===e))return f;f.push(c);B(c)&&e++}b||j(Error("Cannot find closing comment tag to match: "+
a.nodeValue));return p}function H(a){return 8==a.nodeType&&(K?a.text:a.nodeValue).match(ia)}function B(a){return 8==a.nodeType&&(K?a.text:a.nodeValue).match(ja)}function P(a,b){for(var c=p;a!=c;)c=a,a=a.replace(ka,function(a,c){return b[c]});return a}function la(){var a=[],d=[];this.save=function(c,e){var f=b.a.i(a,c);0<=f?d[f]=e:(a.push(c),d.push(e))};this.get=function(c){c=b.a.i(a,c);return 0<=c?d[c]:I}}function ba(a,b,c){function e(e){var g=b(a[e]);switch(typeof g){case "boolean":case "number":case "string":case "function":f[e]=
g;break;case "object":case "undefined":var h=c.get(g);f[e]=h!==I?h:ba(g,b,c)}}c=c||new la;a=b(a);if(!("object"==typeof a&&a!==p&&a!==I&&!(a instanceof Date)))return a;var f=a instanceof Array?[]:{};c.save(a,f);var g=a;if(g instanceof Array){for(var h=0;h<g.length;h++)e(h);"function"==typeof g.toJSON&&e("toJSON")}else for(h in g)e(h);return f}function ca(a,d){if(a)if(8==a.nodeType){var c=b.s.Ua(a.nodeValue);c!=p&&d.push({sb:a,Fb:c})}else if(1==a.nodeType)for(var c=0,e=a.childNodes,f=e.length;c<f;c++)ca(e[c],
d)}function Q(a,d,c,e){b.c[a]={init:function(a){b.a.f.set(a,da,{});return{controlsDescendantBindings:m}},update:function(a,g,h,k,l){h=b.a.f.get(a,da);g=b.a.d(g());k=!c!==!g;var n=!h.Za;if(n||d||k!==h.qb)n&&(h.Za=b.a.Ia(b.e.childNodes(a),m)),k?(n||b.e.N(a,b.a.Ia(h.Za)),b.Ea(e?e(l,g):l,a)):b.e.Y(a),h.qb=k}};b.g.Q[a]=r;b.e.I[a]=m}function ea(a,d,c){c&&d!==b.k.q(a)&&b.k.T(a,d);d!==b.k.q(a)&&b.r.K(b.a.Ba,p,[a,"change"])}var b="undefined"!==typeof w?w:{};b.b=function(a,d){for(var c=a.split("."),e=b,f=0;f<
c.length-1;f++)e=e[c[f]];e[c[c.length-1]]=d};b.p=function(a,b,c){a[b]=c};b.version="2.2.1";b.b("version",b.version);b.a=new function(){function a(a,d){if("input"!==b.a.u(a)||!a.type||"click"!=d.toLowerCase())return r;var c=a.type;return"checkbox"==c||"radio"==c}var d=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,c={},e={};c[/Firefox\/2/i.test(ga.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
for(var f in c){var g=c[f];if(g.length)for(var h=0,k=g.length;h<k;h++)e[g[h]]=f}var l={propertychange:m},n,c=3;f=y.createElement("div");for(g=f.getElementsByTagName("i");f.innerHTML="\x3c!--[if gt IE "+ ++c+"]><i></i><![endif]--\x3e",g[0];);n=4<c?c:I;return{Na:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var d=0,c=a.length;d<c;d++)b(a[d])},i:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var d=0,c=a.length;d<
c;d++)if(a[d]===b)return d;return-1},lb:function(a,b,d){for(var c=0,e=a.length;c<e;c++)if(b.call(d,a[c]))return a[c];return p},ga:function(a,d){var c=b.a.i(a,d);0<=c&&a.splice(c,1)},Ga:function(a){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)0>b.a.i(d,a[c])&&d.push(a[c]);return d},V:function(a,b){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)d.push(b(a[c]));return d},fa:function(a,b){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)b(a[c])&&d.push(a[c]);return d},P:function(a,b){if(b instanceof Array)a.push.apply(a,
b);else for(var d=0,c=b.length;d<c;d++)a.push(b[d]);return a},extend:function(a,b){if(b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},ka:function(a){for(;a.firstChild;)b.removeNode(a.firstChild)},Hb:function(a){a=b.a.L(a);for(var d=y.createElement("div"),c=0,e=a.length;c<e;c++)d.appendChild(b.A(a[c]));return d},Ia:function(a,d){for(var c=0,e=a.length,g=[];c<e;c++){var f=a[c].cloneNode(m);g.push(d?b.A(f):f)}return g},N:function(a,d){b.a.ka(a);if(d)for(var c=0,e=d.length;c<e;c++)a.appendChild(d[c])},
Ya:function(a,d){var c=a.nodeType?[a]:a;if(0<c.length){for(var e=c[0],g=e.parentNode,f=0,h=d.length;f<h;f++)g.insertBefore(d[f],e);f=0;for(h=c.length;f<h;f++)b.removeNode(c[f])}},bb:function(a,b){7>n?a.setAttribute("selected",b):a.selected=b},D:function(a){return(a||"").replace(d,"")},Rb:function(a,d){for(var c=[],e=(a||"").split(d),f=0,g=e.length;f<g;f++){var h=b.a.D(e[f]);""!==h&&c.push(h)}return c},Ob:function(a,b){a=a||"";return b.length>a.length?r:a.substring(0,b.length)===b},tb:function(a,b){if(b.compareDocumentPosition)return 16==
(b.compareDocumentPosition(a)&16);for(;a!=p;){if(a==b)return m;a=a.parentNode}return r},X:function(a){return b.a.tb(a,a.ownerDocument)},u:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(b,d,c){var e=n&&l[d];if(!e&&"undefined"!=typeof F){if(a(b,d)){var f=c;c=function(a,b){var d=this.checked;b&&(this.checked=b.nb!==m);f.call(this,a);this.checked=d}}F(b).bind(d,c)}else!e&&"function"==typeof b.addEventListener?b.addEventListener(d,c,r):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+
d,function(a){c.call(b,a)}):j(Error("Browser doesn't support addEventListener or attachEvent"))},Ba:function(b,d){(!b||!b.nodeType)&&j(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof F){var c=[];a(b,d)&&c.push({nb:b.checked});F(b).trigger(d,c)}else"function"==typeof y.createEvent?"function"==typeof b.dispatchEvent?(c=y.createEvent(e[d]||"HTMLEvents"),c.initEvent(d,m,m,x,0,0,0,0,0,r,r,r,r,0,b),b.dispatchEvent(c)):j(Error("The supplied element doesn't support dispatchEvent")):
"undefined"!=typeof b.fireEvent?(a(b,d)&&(b.checked=b.checked!==m),b.fireEvent("on"+d)):j(Error("Browser doesn't support triggering events"))},d:function(a){return b.$(a)?a():a},ua:function(a){return b.$(a)?a.t():a},da:function(a,d,c){if(d){var e=/[\w-]+/g,f=a.className.match(e)||[];b.a.o(d.match(e),function(a){var d=b.a.i(f,a);0<=d?c||f.splice(d,1):c&&f.push(a)});a.className=f.join(" ")}},cb:function(a,d){var c=b.a.d(d);if(c===p||c===I)c="";if(3===a.nodeType)a.data=c;else{var e=b.e.firstChild(a);
!e||3!=e.nodeType||b.e.nextSibling(e)?b.e.N(a,[y.createTextNode(c)]):e.data=c;b.a.wb(a)}},ab:function(a,b){a.name=b;if(7>=n)try{a.mergeAttributes(y.createElement("<input name='"+a.name+"'/>"),r)}catch(d){}},wb:function(a){9<=n&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ub:function(a){if(9<=n){var b=a.style.width;a.style.width=0;a.style.width=b}},Lb:function(a,d){a=b.a.d(a);d=b.a.d(d);for(var c=[],e=a;e<=d;e++)c.push(e);return c},L:function(a){for(var b=[],d=0,c=a.length;d<
c;d++)b.push(a[d]);return b},Pb:6===n,Qb:7===n,Z:n,Oa:function(a,d){for(var c=b.a.L(a.getElementsByTagName("input")).concat(b.a.L(a.getElementsByTagName("textarea"))),e="string"==typeof d?function(a){return a.name===d}:function(a){return d.test(a.name)},f=[],g=c.length-1;0<=g;g--)e(c[g])&&f.push(c[g]);return f},Ib:function(a){return"string"==typeof a&&(a=b.a.D(a))?x.JSON&&x.JSON.parse?x.JSON.parse(a):(new Function("return "+a))():p},xa:function(a,d,c){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&
j(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(b.a.d(a),d,c)},Jb:function(a,d,c){c=c||{};var e=c.params||{},f=c.includeFields||this.Na,g=a;if("object"==typeof a&&"form"===b.a.u(a))for(var g=a.action,h=f.length-1;0<=h;h--)for(var k=b.a.Oa(a,f[h]),l=k.length-1;0<=l;l--)e[k[l].name]=k[l].value;d=b.a.d(d);var n=y.createElement("form");
n.style.display="none";n.action=g;n.method="post";for(var w in d)a=y.createElement("input"),a.name=w,a.value=b.a.xa(b.a.d(d[w])),n.appendChild(a);for(w in e)a=y.createElement("input"),a.name=w,a.value=e[w],n.appendChild(a);y.body.appendChild(n);c.submitter?c.submitter(n):n.submit();setTimeout(function(){n.parentNode.removeChild(n)},0)}}};b.b("utils",b.a);b.b("utils.arrayForEach",b.a.o);b.b("utils.arrayFirst",b.a.lb);b.b("utils.arrayFilter",b.a.fa);b.b("utils.arrayGetDistinctValues",b.a.Ga);b.b("utils.arrayIndexOf",
b.a.i);b.b("utils.arrayMap",b.a.V);b.b("utils.arrayPushAll",b.a.P);b.b("utils.arrayRemoveItem",b.a.ga);b.b("utils.extend",b.a.extend);b.b("utils.fieldsIncludedWithJsonPost",b.a.Na);b.b("utils.getFormFields",b.a.Oa);b.b("utils.peekObservable",b.a.ua);b.b("utils.postJson",b.a.Jb);b.b("utils.parseJson",b.a.Ib);b.b("utils.registerEventHandler",b.a.n);b.b("utils.stringifyJson",b.a.xa);b.b("utils.range",b.a.Lb);b.b("utils.toggleDomNodeCssClass",b.a.da);b.b("utils.triggerEvent",b.a.Ba);b.b("utils.unwrapObservable",
b.a.d);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});b.a.f=new function(){var a=0,d="__ko__"+(new Date).getTime(),c={};return{get:function(a,d){var c=b.a.f.la(a,r);return c===I?I:c[d]},set:function(a,d,c){c===I&&b.a.f.la(a,r)===I||(b.a.f.la(a,m)[d]=c)},la:function(b,f){var g=b[d];if(!g||!("null"!==g&&c[g])){if(!f)return I;g=b[d]="ko"+
a++;c[g]={}}return c[g]},clear:function(a){var b=a[d];return b?(delete c[b],a[d]=p,m):r}}};b.b("utils.domData",b.a.f);b.b("utils.domData.clear",b.a.f.clear);b.a.F=new function(){function a(a,d){var e=b.a.f.get(a,c);e===I&&d&&(e=[],b.a.f.set(a,c,e));return e}function d(c){var e=a(c,r);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);b.a.f.clear(c);"function"==typeof F&&"function"==typeof F.cleanData&&F.cleanData([c]);if(f[c.nodeType])for(e=c.firstChild;c=e;)e=c.nextSibling,8===c.nodeType&&d(c)}
var c="__ko_domNodeDisposal__"+(new Date).getTime(),e={1:m,8:m,9:m},f={1:m,9:m};return{Ca:function(b,d){"function"!=typeof d&&j(Error("Callback must be a function"));a(b,m).push(d)},Xa:function(d,e){var f=a(d,r);f&&(b.a.ga(f,e),0==f.length&&b.a.f.set(d,c,I))},A:function(a){if(e[a.nodeType]&&(d(a),f[a.nodeType])){var c=[];b.a.P(c,a.getElementsByTagName("*"));for(var k=0,l=c.length;k<l;k++)d(c[k])}return a},removeNode:function(a){b.A(a);a.parentNode&&a.parentNode.removeChild(a)}}};b.A=b.a.F.A;b.removeNode=
b.a.F.removeNode;b.b("cleanNode",b.A);b.b("removeNode",b.removeNode);b.b("utils.domNodeDisposal",b.a.F);b.b("utils.domNodeDisposal.addDisposeCallback",b.a.F.Ca);b.b("utils.domNodeDisposal.removeDisposeCallback",b.a.F.Xa);b.a.ta=function(a){var d;if("undefined"!=typeof F)if(F.parseHTML)d=F.parseHTML(a);else{if((d=F.clean([a]))&&d[0]){for(a=d[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{var c=b.a.D(a).toLowerCase();d=y.createElement("div");
c=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];a="ignored<div>"+c[1]+a+c[2]+"</div>";for("function"==typeof x.innerShiv?d.appendChild(x.innerShiv(a)):d.innerHTML=a;c[0]--;)d=d.lastChild;d=b.a.L(d.lastChild.childNodes)}return d};b.a.ca=function(a,d){b.a.ka(a);d=b.a.d(d);if(d!==p&&d!==I)if("string"!=typeof d&&(d=d.toString()),
"undefined"!=typeof F)F(a).html(d);else for(var c=b.a.ta(d),e=0;e<c.length;e++)a.appendChild(c[e])};b.b("utils.parseHtmlFragment",b.a.ta);b.b("utils.setHtml",b.a.ca);var R={};b.s={ra:function(a){"function"!=typeof a&&j(Error("You can only pass a function to ko.memoization.memoize()"));var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);R[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},hb:function(a,b){var c=R[a];c===I&&j(Error("Couldn't find any memo with ID "+
a+". Perhaps it's already been unmemoized."));try{return c.apply(p,b||[]),m}finally{delete R[a]}},ib:function(a,d){var c=[];ca(a,c);for(var e=0,f=c.length;e<f;e++){var g=c[e].sb,h=[g];d&&b.a.P(h,d);b.s.hb(c[e].Fb,h);g.nodeValue="";g.parentNode&&g.parentNode.removeChild(g)}},Ua:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:p}};b.b("memoization",b.s);b.b("memoization.memoize",b.s.ra);b.b("memoization.unmemoize",b.s.hb);b.b("memoization.parseMemoText",b.s.Ua);b.b("memoization.unmemoizeDomNodeAndDescendants",
b.s.ib);b.Ma={throttle:function(a,d){a.throttleEvaluation=d;var c=p;return b.j({read:a,write:function(b){clearTimeout(c);c=setTimeout(function(){a(b)},d)}})},notify:function(a,d){a.equalityComparer="always"==d?u(r):b.m.fn.equalityComparer;return a}};b.b("extenders",b.Ma);b.fb=function(a,d,c){this.target=a;this.ha=d;this.rb=c;b.p(this,"dispose",this.B)};b.fb.prototype.B=function(){this.Cb=m;this.rb()};b.S=function(){this.w={};b.a.extend(this,b.S.fn);b.p(this,"subscribe",this.ya);b.p(this,"extend",
this.extend);b.p(this,"getSubscriptionsCount",this.yb)};b.S.fn={ya:function(a,d,c){c=c||"change";var e=new b.fb(this,d?a.bind(d):a,function(){b.a.ga(this.w[c],e)}.bind(this));this.w[c]||(this.w[c]=[]);this.w[c].push(e);return e},notifySubscribers:function(a,d){d=d||"change";this.w[d]&&b.r.K(function(){b.a.o(this.w[d].slice(0),function(b){b&&b.Cb!==m&&b.ha(a)})},this)},yb:function(){var a=0,b;for(b in this.w)this.w.hasOwnProperty(b)&&(a+=this.w[b].length);return a},extend:function(a){var d=this;if(a)for(var c in a){var e=
b.Ma[c];"function"==typeof e&&(d=e(d,a[c]))}return d}};b.Qa=function(a){return"function"==typeof a.ya&&"function"==typeof a.notifySubscribers};b.b("subscribable",b.S);b.b("isSubscribable",b.Qa);var C=[];b.r={mb:function(a){C.push({ha:a,La:[]})},end:function(){C.pop()},Wa:function(a){b.Qa(a)||j(Error("Only subscribable things can act as dependencies"));if(0<C.length){var d=C[C.length-1];d&&!(0<=b.a.i(d.La,a))&&(d.La.push(a),d.ha(a))}},K:function(a,b,c){try{return C.push(p),a.apply(b,c||[])}finally{C.pop()}}};
var ma={undefined:m,"boolean":m,number:m,string:m};b.m=function(a){function d(){if(0<arguments.length){if(!d.equalityComparer||!d.equalityComparer(c,arguments[0]))d.H(),c=arguments[0],d.G();return this}b.r.Wa(d);return c}var c=a;b.S.call(d);d.t=function(){return c};d.G=function(){d.notifySubscribers(c)};d.H=function(){d.notifySubscribers(c,"beforeChange")};b.a.extend(d,b.m.fn);b.p(d,"peek",d.t);b.p(d,"valueHasMutated",d.G);b.p(d,"valueWillMutate",d.H);return d};b.m.fn={equalityComparer:function(a,
b){return a===p||typeof a in ma?a===b:r}};var E=b.m.Kb="__ko_proto__";b.m.fn[E]=b.m;b.ma=function(a,d){return a===p||a===I||a[E]===I?r:a[E]===d?m:b.ma(a[E],d)};b.$=function(a){return b.ma(a,b.m)};b.Ra=function(a){return"function"==typeof a&&a[E]===b.m||"function"==typeof a&&a[E]===b.j&&a.zb?m:r};b.b("observable",b.m);b.b("isObservable",b.$);b.b("isWriteableObservable",b.Ra);b.R=function(a){0==arguments.length&&(a=[]);a!==p&&(a!==I&&!("length"in a))&&j(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));
var d=b.m(a);b.a.extend(d,b.R.fn);return d};b.R.fn={remove:function(a){for(var b=this.t(),c=[],e="function"==typeof a?a:function(b){return b===a},f=0;f<b.length;f++){var g=b[f];e(g)&&(0===c.length&&this.H(),c.push(g),b.splice(f,1),f--)}c.length&&this.G();return c},removeAll:function(a){if(a===I){var d=this.t(),c=d.slice(0);this.H();d.splice(0,d.length);this.G();return c}return!a?[]:this.remove(function(d){return 0<=b.a.i(a,d)})},destroy:function(a){var b=this.t(),c="function"==typeof a?a:function(b){return b===
a};this.H();for(var e=b.length-1;0<=e;e--)c(b[e])&&(b[e]._destroy=m);this.G()},destroyAll:function(a){return a===I?this.destroy(u(m)):!a?[]:this.destroy(function(d){return 0<=b.a.i(a,d)})},indexOf:function(a){var d=this();return b.a.i(d,a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.H(),this.t()[c]=b,this.G())}};b.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){b.R.fn[a]=function(){var b=this.t();this.H();b=b[a].apply(b,arguments);this.G();return b}});b.a.o(["slice"],
function(a){b.R.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.b("observableArray",b.R);b.j=function(a,d,c){function e(){b.a.o(z,function(a){a.B()});z=[]}function f(){var a=h.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(g,a)):g()}function g(){if(!q)if(n&&w())A();else{q=m;try{var a=b.a.V(z,function(a){return a.target});b.r.mb(function(c){var d;0<=(d=b.a.i(a,c))?a[d]=I:z.push(c.ya(f))});for(var c=s.call(d),e=a.length-1;0<=e;e--)a[e]&&z.splice(e,1)[0].B();n=m;h.notifySubscribers(l,
"beforeChange");l=c}finally{b.r.end()}h.notifySubscribers(l);q=r;z.length||A()}}function h(){if(0<arguments.length)return"function"===typeof v?v.apply(d,arguments):j(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this;n||g();b.r.Wa(h);return l}function k(){return!n||0<z.length}var l,n=r,q=r,s=a;s&&"object"==typeof s?(c=s,s=c.read):(c=c||{},s||(s=c.read));"function"!=typeof s&&j(Error("Pass a function that returns the value of the ko.computed"));
var v=c.write,G=c.disposeWhenNodeIsRemoved||c.W||p,w=c.disposeWhen||c.Ka||u(r),A=e,z=[],t=p;d||(d=c.owner);h.t=function(){n||g();return l};h.xb=function(){return z.length};h.zb="function"===typeof c.write;h.B=function(){A()};h.pa=k;b.S.call(h);b.a.extend(h,b.j.fn);b.p(h,"peek",h.t);b.p(h,"dispose",h.B);b.p(h,"isActive",h.pa);b.p(h,"getDependenciesCount",h.xb);c.deferEvaluation!==m&&g();if(G&&k()){A=function(){b.a.F.Xa(G,arguments.callee);e()};b.a.F.Ca(G,A);var D=w,w=function(){return!b.a.X(G)||D()}}return h};
b.Bb=function(a){return b.ma(a,b.j)};w=b.m.Kb;b.j[w]=b.m;b.j.fn={};b.j.fn[w]=b.j;b.b("dependentObservable",b.j);b.b("computed",b.j);b.b("isComputed",b.Bb);b.gb=function(a){0==arguments.length&&j(Error("When calling ko.toJS, pass the object you want to convert."));return ba(a,function(a){for(var c=0;b.$(a)&&10>c;c++)a=a();return a})};b.toJSON=function(a,d,c){a=b.gb(a);return b.a.xa(a,d,c)};b.b("toJS",b.gb);b.b("toJSON",b.toJSON);b.k={q:function(a){switch(b.a.u(a)){case "option":return a.__ko__hasDomDataOptionValue__===
m?b.a.f.get(a,b.c.options.sa):7>=b.a.Z?a.getAttributeNode("value").specified?a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?b.k.q(a.options[a.selectedIndex]):I;default:return a.value}},T:function(a,d){switch(b.a.u(a)){case "option":switch(typeof d){case "string":b.a.f.set(a,b.c.options.sa,I);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=d;break;default:b.a.f.set(a,b.c.options.sa,d),a.__ko__hasDomDataOptionValue__=m,a.value="number"===typeof d?
d:""}break;case "select":for(var c=a.options.length-1;0<=c;c--)if(b.k.q(a.options[c])==d){a.selectedIndex=c;break}break;default:if(d===p||d===I)d="";a.value=d}}};b.b("selectExtensions",b.k);b.b("selectExtensions.readValue",b.k.q);b.b("selectExtensions.writeValue",b.k.T);var ka=/\@ko_token_(\d+)\@/g,na=["true","false"],oa=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;b.g={Q:[],aa:function(a){var d=b.a.D(a);if(3>d.length)return[];"{"===d.charAt(0)&&(d=d.substring(1,d.length-1));a=[];for(var c=
p,e,f=0;f<d.length;f++){var g=d.charAt(f);if(c===p)switch(g){case '"':case "'":case "/":c=f,e=g}else if(g==e&&"\\"!==d.charAt(f-1)){g=d.substring(c,f+1);a.push(g);var h="@ko_token_"+(a.length-1)+"@",d=d.substring(0,c)+h+d.substring(f+1),f=f-(g.length-h.length),c=p}}e=c=p;for(var k=0,l=p,f=0;f<d.length;f++){g=d.charAt(f);if(c===p)switch(g){case "{":c=f;l=g;e="}";break;case "(":c=f;l=g;e=")";break;case "[":c=f,l=g,e="]"}g===l?k++:g===e&&(k--,0===k&&(g=d.substring(c,f+1),a.push(g),h="@ko_token_"+(a.length-
1)+"@",d=d.substring(0,c)+h+d.substring(f+1),f-=g.length-h.length,c=p))}e=[];d=d.split(",");c=0;for(f=d.length;c<f;c++)k=d[c],l=k.indexOf(":"),0<l&&l<k.length-1?(g=k.substring(l+1),e.push({key:P(k.substring(0,l),a),value:P(g,a)})):e.push({unknown:P(k,a)});return e},ba:function(a){var d="string"===typeof a?b.g.aa(a):a,c=[];a=[];for(var e,f=0;e=d[f];f++)if(0<c.length&&c.push(","),e.key){var g;a:{g=e.key;var h=b.a.D(g);switch(h.length&&h.charAt(0)){case "'":case '"':break a;default:g="'"+h+"'"}}e=e.value;
c.push(g);c.push(":");c.push(e);e=b.a.D(e);0<=b.a.i(na,b.a.D(e).toLowerCase())?e=r:(h=e.match(oa),e=h===p?r:h[1]?"Object("+h[1]+")"+h[2]:e);e&&(0<a.length&&a.push(", "),a.push(g+" : function(__ko_value) { "+e+" = __ko_value; }"))}else e.unknown&&c.push(e.unknown);d=c.join("");0<a.length&&(d=d+", '_ko_property_writers' : { "+a.join("")+" } ");return d},Eb:function(a,d){for(var c=0;c<a.length;c++)if(b.a.D(a[c].key)==d)return m;return r},ea:function(a,d,c,e,f){if(!a||!b.Ra(a)){if((a=d()._ko_property_writers)&&
a[c])a[c](e)}else(!f||a.t()!==e)&&a(e)}};b.b("expressionRewriting",b.g);b.b("expressionRewriting.bindingRewriteValidators",b.g.Q);b.b("expressionRewriting.parseObjectLiteral",b.g.aa);b.b("expressionRewriting.preProcessBindings",b.g.ba);b.b("jsonExpressionRewriting",b.g);b.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.g.ba);var K="\x3c!--test--\x3e"===y.createComment("test").text,ja=K?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,ia=K?/^\x3c!--\s*\/ko\s*--\x3e$/:
/^\s*\/ko\s*$/,pa={ul:m,ol:m};b.e={I:{},childNodes:function(a){return B(a)?aa(a):a.childNodes},Y:function(a){if(B(a)){a=b.e.childNodes(a);for(var d=0,c=a.length;d<c;d++)b.removeNode(a[d])}else b.a.ka(a)},N:function(a,d){if(B(a)){b.e.Y(a);for(var c=a.nextSibling,e=0,f=d.length;e<f;e++)c.parentNode.insertBefore(d[e],c)}else b.a.N(a,d)},Va:function(a,b){B(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},Pa:function(a,d,c){c?B(a)?a.parentNode.insertBefore(d,
c.nextSibling):c.nextSibling?a.insertBefore(d,c.nextSibling):a.appendChild(d):b.e.Va(a,d)},firstChild:function(a){return!B(a)?a.firstChild:!a.nextSibling||H(a.nextSibling)?p:a.nextSibling},nextSibling:function(a){B(a)&&(a=$(a));return a.nextSibling&&H(a.nextSibling)?p:a.nextSibling},jb:function(a){return(a=B(a))?a[1]:p},Ta:function(a){if(pa[b.a.u(a)]){var d=a.firstChild;if(d){do if(1===d.nodeType){var c;c=d.firstChild;var e=p;if(c){do if(e)e.push(c);else if(B(c)){var f=$(c,m);f?c=f:e=[c]}else H(c)&&
(e=[c]);while(c=c.nextSibling)}if(c=e){e=d.nextSibling;for(f=0;f<c.length;f++)e?a.insertBefore(c[f],e):a.appendChild(c[f])}}while(d=d.nextSibling)}}}};b.b("virtualElements",b.e);b.b("virtualElements.allowedBindings",b.e.I);b.b("virtualElements.emptyNode",b.e.Y);b.b("virtualElements.insertAfter",b.e.Pa);b.b("virtualElements.prepend",b.e.Va);b.b("virtualElements.setDomNodeChildren",b.e.N);b.J=function(){this.Ha={}};b.a.extend(b.J.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind")!=
p;case 8:return b.e.jb(a)!=p;default:return r}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):p},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return b.e.jb(a);default:return p}},parseBindingsString:function(a,d,c){try{var e;if(!(e=this.Ha[a])){var f=this.Ha,g,h="with($context){with($data||{}){return{"+b.g.ba(a)+"}}}";g=new Function("$context","$element",h);e=f[a]=g}return e(d,c)}catch(k){j(Error("Unable to parse bindings.\nMessage: "+
k+";\nBindings value: "+a))}}});b.J.instance=new b.J;b.b("bindingProvider",b.J);b.c={};b.z=function(a,d,c){d?(b.a.extend(this,d),this.$parentContext=d,this.$parent=d.$data,this.$parents=(d.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a,this.ko=b);this.$data=a;c&&(this[c]=a)};b.z.prototype.createChildContext=function(a,d){return new b.z(a,this,d)};b.z.prototype.extend=function(a){var d=b.a.extend(new b.z,this);return b.a.extend(d,a)};b.eb=function(a,d){if(2==
arguments.length)b.a.f.set(a,"__ko_bindingContext__",d);else return b.a.f.get(a,"__ko_bindingContext__")};b.Fa=function(a,d,c){1===a.nodeType&&b.e.Ta(a);return X(a,d,c,m)};b.Ea=function(a,b){(1===b.nodeType||8===b.nodeType)&&Z(a,b,m)};b.Da=function(a,b){b&&(1!==b.nodeType&&8!==b.nodeType)&&j(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));b=b||x.document.body;Y(a,b,m)};b.ja=function(a){switch(a.nodeType){case 1:case 8:var d=b.eb(a);if(d)return d;
if(a.parentNode)return b.ja(a.parentNode)}return I};b.pb=function(a){return(a=b.ja(a))?a.$data:I};b.b("bindingHandlers",b.c);b.b("applyBindings",b.Da);b.b("applyBindingsToDescendants",b.Ea);b.b("applyBindingsToNode",b.Fa);b.b("contextFor",b.ja);b.b("dataFor",b.pb);var fa={"class":"className","for":"htmlFor"};b.c.attr={update:function(a,d){var c=b.a.d(d())||{},e;for(e in c)if("string"==typeof e){var f=b.a.d(c[e]),g=f===r||f===p||f===I;g&&a.removeAttribute(e);8>=b.a.Z&&e in fa?(e=fa[e],g?a.removeAttribute(e):
a[e]=f):g||a.setAttribute(e,f.toString());"name"===e&&b.a.ab(a,g?"":f.toString())}}};b.c.checked={init:function(a,d,c){b.a.n(a,"click",function(){var e;if("checkbox"==a.type)e=a.checked;else if("radio"==a.type&&a.checked)e=a.value;else return;var f=d(),g=b.a.d(f);"checkbox"==a.type&&g instanceof Array?(e=b.a.i(g,a.value),a.checked&&0>e?f.push(a.value):!a.checked&&0<=e&&f.splice(e,1)):b.g.ea(f,c,"checked",e,m)});"radio"==a.type&&!a.name&&b.c.uniqueName.init(a,u(m))},update:function(a,d){var c=b.a.d(d());
"checkbox"==a.type?a.checked=c instanceof Array?0<=b.a.i(c,a.value):c:"radio"==a.type&&(a.checked=a.value==c)}};b.c.css={update:function(a,d){var c=b.a.d(d());if("object"==typeof c)for(var e in c){var f=b.a.d(c[e]);b.a.da(a,e,f)}else c=String(c||""),b.a.da(a,a.__ko__cssValue,r),a.__ko__cssValue=c,b.a.da(a,c,m)}};b.c.enable={update:function(a,d){var c=b.a.d(d());c&&a.disabled?a.removeAttribute("disabled"):!c&&!a.disabled&&(a.disabled=m)}};b.c.disable={update:function(a,d){b.c.enable.update(a,function(){return!b.a.d(d())})}};
b.c.event={init:function(a,d,c,e){var f=d()||{},g;for(g in f)(function(){var f=g;"string"==typeof f&&b.a.n(a,f,function(a){var g,n=d()[f];if(n){var q=c();try{var s=b.a.L(arguments);s.unshift(e);g=n.apply(e,s)}finally{g!==m&&(a.preventDefault?a.preventDefault():a.returnValue=r)}q[f+"Bubble"]===r&&(a.cancelBubble=m,a.stopPropagation&&a.stopPropagation())}})})()}};b.c.foreach={Sa:function(a){return function(){var d=a(),c=b.a.ua(d);if(!c||"number"==typeof c.length)return{foreach:d,templateEngine:b.C.oa};
b.a.d(d);return{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:b.C.oa}}},init:function(a,d){return b.c.template.init(a,b.c.foreach.Sa(d))},update:function(a,d,c,e,f){return b.c.template.update(a,b.c.foreach.Sa(d),c,e,f)}};b.g.Q.foreach=r;b.e.I.foreach=m;b.c.hasfocus={init:function(a,d,c){function e(e){a.__ko_hasfocusUpdating=m;var f=a.ownerDocument;"activeElement"in
f&&(e=f.activeElement===a);f=d();b.g.ea(f,c,"hasfocus",e,m);a.__ko_hasfocusUpdating=r}var f=e.bind(p,m),g=e.bind(p,r);b.a.n(a,"focus",f);b.a.n(a,"focusin",f);b.a.n(a,"blur",g);b.a.n(a,"focusout",g)},update:function(a,d){var c=b.a.d(d());a.__ko_hasfocusUpdating||(c?a.focus():a.blur(),b.r.K(b.a.Ba,p,[a,c?"focusin":"focusout"]))}};b.c.html={init:function(){return{controlsDescendantBindings:m}},update:function(a,d){b.a.ca(a,d())}};var da="__ko_withIfBindingData";Q("if");Q("ifnot",r,m);Q("with",m,r,function(a,
b){return a.createChildContext(b)});b.c.options={update:function(a,d,c){"select"!==b.a.u(a)&&j(Error("options binding applies only to SELECT elements"));for(var e=0==a.length,f=b.a.V(b.a.fa(a.childNodes,function(a){return a.tagName&&"option"===b.a.u(a)&&a.selected}),function(a){return b.k.q(a)||a.innerText||a.textContent}),g=a.scrollTop,h=b.a.d(d());0<a.length;)b.A(a.options[0]),a.remove(0);if(h){c=c();var k=c.optionsIncludeDestroyed;"number"!=typeof h.length&&(h=[h]);if(c.optionsCaption){var l=y.createElement("option");
b.a.ca(l,c.optionsCaption);b.k.T(l,I);a.appendChild(l)}d=0;for(var n=h.length;d<n;d++){var q=h[d];if(!q||!q._destroy||k){var l=y.createElement("option"),s=function(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c},v=s(q,c.optionsValue,q);b.k.T(l,b.a.d(v));q=s(q,c.optionsText,v);b.a.cb(l,q);a.appendChild(l)}}h=a.getElementsByTagName("option");d=k=0;for(n=h.length;d<n;d++)0<=b.a.i(f,b.k.q(h[d]))&&(b.a.bb(h[d],m),k++);a.scrollTop=g;e&&"value"in c&&ea(a,b.a.ua(c.value),m);b.a.ub(a)}}};
b.c.options.sa="__ko.optionValueDomData__";b.c.selectedOptions={init:function(a,d,c){b.a.n(a,"change",function(){var e=d(),f=[];b.a.o(a.getElementsByTagName("option"),function(a){a.selected&&f.push(b.k.q(a))});b.g.ea(e,c,"value",f)})},update:function(a,d){"select"!=b.a.u(a)&&j(Error("values binding applies only to SELECT elements"));var c=b.a.d(d());c&&"number"==typeof c.length&&b.a.o(a.getElementsByTagName("option"),function(a){var d=0<=b.a.i(c,b.k.q(a));b.a.bb(a,d)})}};b.c.style={update:function(a,
d){var c=b.a.d(d()||{}),e;for(e in c)if("string"==typeof e){var f=b.a.d(c[e]);a.style[e]=f||""}}};b.c.submit={init:function(a,d,c,e){"function"!=typeof d()&&j(Error("The value for a submit binding must be a function"));b.a.n(a,"submit",function(b){var c,h=d();try{c=h.call(e,a)}finally{c!==m&&(b.preventDefault?b.preventDefault():b.returnValue=r)}})}};b.c.text={update:function(a,d){b.a.cb(a,d())}};b.e.I.text=m;b.c.uniqueName={init:function(a,d){if(d()){var c="ko_unique_"+ ++b.c.uniqueName.ob;b.a.ab(a,
c)}}};b.c.uniqueName.ob=0;b.c.value={init:function(a,d,c){function e(){h=r;var e=d(),f=b.k.q(a);b.g.ea(e,c,"value",f)}var f=["change"],g=c().valueUpdate,h=r;g&&("string"==typeof g&&(g=[g]),b.a.P(f,g),f=b.a.Ga(f));if(b.a.Z&&("input"==a.tagName.toLowerCase()&&"text"==a.type&&"off"!=a.autocomplete&&(!a.form||"off"!=a.form.autocomplete))&&-1==b.a.i(f,"propertychange"))b.a.n(a,"propertychange",function(){h=m}),b.a.n(a,"blur",function(){h&&e()});b.a.o(f,function(c){var d=e;b.a.Ob(c,"after")&&(d=function(){setTimeout(e,
0)},c=c.substring(5));b.a.n(a,c,d)})},update:function(a,d){var c="select"===b.a.u(a),e=b.a.d(d()),f=b.k.q(a),g=e!=f;0===e&&(0!==f&&"0"!==f)&&(g=m);g&&(f=function(){b.k.T(a,e)},f(),c&&setTimeout(f,0));c&&0<a.length&&ea(a,e,r)}};b.c.visible={update:function(a,d){var c=b.a.d(d()),e="none"!=a.style.display;c&&!e?a.style.display="":!c&&e&&(a.style.display="none")}};b.c.click={init:function(a,d,c,e){return b.c.event.init.call(this,a,function(){var a={};a.click=d();return a},c,e)}};b.v=function(){};b.v.prototype.renderTemplateSource=
function(){j(Error("Override renderTemplateSource"))};b.v.prototype.createJavaScriptEvaluatorBlock=function(){j(Error("Override createJavaScriptEvaluatorBlock"))};b.v.prototype.makeTemplateSource=function(a,d){if("string"==typeof a){d=d||y;var c=d.getElementById(a);c||j(Error("Cannot find template with ID "+a));return new b.l.h(c)}if(1==a.nodeType||8==a.nodeType)return new b.l.O(a);j(Error("Unknown template type: "+a))};b.v.prototype.renderTemplate=function(a,b,c,e){a=this.makeTemplateSource(a,e);
return this.renderTemplateSource(a,b,c)};b.v.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===r?m:this.makeTemplateSource(a,b).data("isRewritten")};b.v.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",m)};b.b("templateEngine",b.v);var qa=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,ra=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;b.za={vb:function(a,
d,c){d.isTemplateRewritten(a,c)||d.rewriteTemplate(a,function(a){return b.za.Gb(a,d)},c)},Gb:function(a,b){return a.replace(qa,function(a,e,f,g,h,k,l){return W(l,e,b)}).replace(ra,function(a,e){return W(e,"\x3c!-- ko --\x3e",b)})},kb:function(a){return b.s.ra(function(d,c){d.nextSibling&&b.Fa(d.nextSibling,a,c)})}};b.b("__tr_ambtns",b.za.kb);b.l={};b.l.h=function(a){this.h=a};b.l.h.prototype.text=function(){var a=b.a.u(this.h),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.h[a];
var d=arguments[0];"innerHTML"===a?b.a.ca(this.h,d):this.h[a]=d};b.l.h.prototype.data=function(a){if(1===arguments.length)return b.a.f.get(this.h,"templateSourceData_"+a);b.a.f.set(this.h,"templateSourceData_"+a,arguments[1])};b.l.O=function(a){this.h=a};b.l.O.prototype=new b.l.h;b.l.O.prototype.text=function(){if(0==arguments.length){var a=b.a.f.get(this.h,"__ko_anon_template__")||{};a.Aa===I&&a.ia&&(a.Aa=a.ia.innerHTML);return a.Aa}b.a.f.set(this.h,"__ko_anon_template__",{Aa:arguments[0]})};b.l.h.prototype.nodes=
function(){if(0==arguments.length)return(b.a.f.get(this.h,"__ko_anon_template__")||{}).ia;b.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]})};b.b("templateSources",b.l);b.b("templateSources.domElement",b.l.h);b.b("templateSources.anonymousTemplate",b.l.O);var O;b.wa=function(a){a!=I&&!(a instanceof b.v)&&j(Error("templateEngine must inherit from ko.templateEngine"));O=a};b.va=function(a,d,c,e,f){c=c||{};(c.templateEngine||O)==I&&j(Error("Set a template engine before calling renderTemplate"));
f=f||"replaceChildren";if(e){var g=N(e);return b.j(function(){var h=d&&d instanceof b.z?d:new b.z(b.a.d(d)),k="function"==typeof a?a(h.$data,h):a,h=T(e,f,k,h,c);"replaceNode"==f&&(e=h,g=N(e))},p,{Ka:function(){return!g||!b.a.X(g)},W:g&&"replaceNode"==f?g.parentNode:g})}return b.s.ra(function(e){b.va(a,d,c,e,"replaceNode")})};b.Mb=function(a,d,c,e,f){function g(a,b){U(b,k);c.afterRender&&c.afterRender(b,a)}function h(d,e){k=f.createChildContext(b.a.d(d),c.as);k.$index=e;var g="function"==typeof a?
a(d,k):a;return T(p,"ignoreTargetNode",g,k,c)}var k;return b.j(function(){var a=b.a.d(d)||[];"undefined"==typeof a.length&&(a=[a]);a=b.a.fa(a,function(a){return c.includeDestroyed||a===I||a===p||!b.a.d(a._destroy)});b.r.K(b.a.$a,p,[e,a,h,c,g])},p,{W:e})};b.c.template={init:function(a,d){var c=b.a.d(d());if("string"!=typeof c&&!c.name&&(1==a.nodeType||8==a.nodeType))c=1==a.nodeType?a.childNodes:b.e.childNodes(a),c=b.a.Hb(c),(new b.l.O(a)).nodes(c);return{controlsDescendantBindings:m}},update:function(a,
d,c,e,f){d=b.a.d(d());c={};e=m;var g,h=p;"string"!=typeof d&&(c=d,d=c.name,"if"in c&&(e=b.a.d(c["if"])),e&&"ifnot"in c&&(e=!b.a.d(c.ifnot)),g=b.a.d(c.data));"foreach"in c?h=b.Mb(d||a,e&&c.foreach||[],c,a,f):e?(f="data"in c?f.createChildContext(g,c.as):f,h=b.va(d||a,f,c,a)):b.e.Y(a);f=h;(g=b.a.f.get(a,"__ko__templateComputedDomDataKey__"))&&"function"==typeof g.B&&g.B();b.a.f.set(a,"__ko__templateComputedDomDataKey__",f&&f.pa()?f:I)}};b.g.Q.template=function(a){a=b.g.aa(a);return 1==a.length&&a[0].unknown||
b.g.Eb(a,"name")?p:"This template engine does not support anonymous templates nested within its templates"};b.e.I.template=m;b.b("setTemplateEngine",b.wa);b.b("renderTemplate",b.va);b.a.Ja=function(a,b,c){a=a||[];b=b||[];return a.length<=b.length?S(a,b,"added","deleted",c):S(b,a,"deleted","added",c)};b.b("utils.compareArrays",b.a.Ja);b.a.$a=function(a,d,c,e,f){function g(a,b){t=l[b];w!==b&&(z[a]=t);t.na(w++);M(t.M);s.push(t);A.push(t)}function h(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.a.o(c[d].M,
function(b){a(b,d,c[d].U)})}d=d||[];e=e||{};var k=b.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===I,l=b.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],n=b.a.V(l,function(a){return a.U}),q=b.a.Ja(n,d),s=[],v=0,w=0,B=[],A=[];d=[];for(var z=[],n=[],t,D=0,C,E;C=q[D];D++)switch(E=C.moved,C.status){case "deleted":E===I&&(t=l[v],t.j&&t.j.B(),B.push.apply(B,M(t.M)),e.beforeRemove&&(d[D]=t,A.push(t)));v++;break;case "retained":g(D,v++);break;case "added":E!==I?
g(D,E):(t={U:C.value,na:b.m(w++)},s.push(t),A.push(t),k||(n[D]=t))}h(e.beforeMove,z);b.a.o(B,e.beforeRemove?b.A:b.removeNode);for(var D=0,k=b.e.firstChild(a),H;t=A[D];D++){t.M||b.a.extend(t,ha(a,c,t.U,f,t.na));for(v=0;q=t.M[v];k=q.nextSibling,H=q,v++)q!==k&&b.e.Pa(a,q,H);!t.Ab&&f&&(f(t.U,t.M,t.na),t.Ab=m)}h(e.beforeRemove,d);h(e.afterMove,z);h(e.afterAdd,n);b.a.f.set(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult",s)};b.b("utils.setDomNodeChildrenFromArrayMapping",b.a.$a);b.C=function(){this.allowTemplateRewriting=
r};b.C.prototype=new b.v;b.C.prototype.renderTemplateSource=function(a){var d=!(9>b.a.Z)&&a.nodes?a.nodes():p;if(d)return b.a.L(d.cloneNode(m).childNodes);a=a.text();return b.a.ta(a)};b.C.oa=new b.C;b.wa(b.C.oa);b.b("nativeTemplateEngine",b.C);b.qa=function(){var a=this.Db=function(){if("undefined"==typeof F||!F.tmpl)return 0;try{if(0<=F.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,c,e){e=e||{};2>a&&j(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));
var f=b.data("precompiled");f||(f=b.text()||"",f=F.template(p,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),b.data("precompiled",f));b=[c.$data];c=F.extend({koBindingContext:c},e.templateOptions);c=F.tmpl(f,b,c);c.appendTo(y.createElement("div"));F.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){y.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(F.tmpl.tag.ko_code=
{open:"__.push($1 || '');"},F.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};b.qa.prototype=new b.v;w=new b.qa;0<w.Db&&b.wa(w);b.b("jqueryTmplTemplateEngine",b.qa)}"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?L(module.exports||exports):"function"===typeof define&&define.amd?define("knockout",["exports"],L):L(x.ko={});m;
})();

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownit=e()}}(function(){return function o(i,a,c){function l(t,e){if(!a[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[t]={exports:{}};i[t][0].call(s.exports,function(e){var r=i[t][1][e];return l(r||e)},s,s.exports,o,i,a,c)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,r,t){"use strict";r.exports=e("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(e,r,t){"use strict";r.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(e,r,t){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",s="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+n+"|"+s+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),i=new RegExp("^(?:"+n+"|"+s+")");r.exports.HTML_TAG_RE=o,r.exports.HTML_OPEN_CLOSE_TAG_RE=i},{}],4:[function(e,r,t){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,r){return n.call(e,r)}function a(e){return!(55296<=e&&e<=57343)&&(!(64976<=e&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(0<=e&&e<=8)&&(11!==e&&(!(14<=e&&e<=31)&&(!(127<=e&&e<=159)&&!(1114111<e)))))))}function c(e){if(65535<e){var r=55296+((e-=65536)>>10),t=56320+(1023&e);return String.fromCharCode(r,t)}return String.fromCharCode(e)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,o=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=e("./entities");var p=/[&<>"]/,h=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var _=e("uc.micro/categories/P/regex");t.lib={},t.lib.mdurl=e("mdurl"),t.lib.ucmicro=e("uc.micro"),t.assign=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if("object"!=typeof r)throw new TypeError(r+"must be object");Object.keys(r).forEach(function(e){t[e]=r[e]})}}),t},t.isString=function(e){return"[object String]"===(r=e,Object.prototype.toString.call(r));var r},t.has=i,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(o,function(e,r,t){return r||(n=e,o=0,i(u,s=t)?u[s]:35===s.charCodeAt(0)&&l.test(s)&&a(o="x"===s[1].toLowerCase()?parseInt(s.slice(2),16):parseInt(s.slice(1),10))?c(o):n);var n,s,o})},t.isValidEntityCode=a,t.fromCodePoint=c,t.escapeHtml=function(e){return p.test(e)?e.replace(h,d):e},t.arrayReplaceAt=function(e,r,t){return[].concat(e.slice(0,r),t,e.slice(r+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(8192<=e&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return _.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(e,r,t){"use strict";t.parseLinkLabel=e("./parse_link_label"),t.parseLinkDestination=e("./parse_link_destination"),t.parseLinkTitle=e("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(e,r,t){"use strict";var a=e("../common/utils").isSpace,c=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var n,s,o=r,i={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<t;){if(10===(n=e.charCodeAt(r))||a(n))return i;if(62===n)return i.pos=r+1,i.str=c(e.slice(o+1,r)),i.ok=!0,i;92===n&&r+1<t?r+=2:r++}return i}for(s=0;r<t&&32!==(n=e.charCodeAt(r))&&!(n<32||127===n);)if(92===n&&r+1<t)r+=2;else{if(40===n&&s++,41===n){if(0===s)break;s--}r++}return o===r||0!==s||(i.str=c(e.slice(o,r)),i.lines=0,i.pos=r,i.ok=!0),i}},{"../common/utils":4}],7:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a=-1,c=e.posMax,l=e.pos;for(e.pos=r+1,n=1;e.pos<c;){if(93===(o=e.src.charCodeAt(e.pos))&&0===--n){s=!0;break}if(i=e.pos,e.md.inline.skipToken(e),91===o)if(i===e.pos-1)n++;else if(t)return e.pos=l,-1}return s&&(a=e.pos),e.pos=l,a}},{}],8:[function(e,r,t){"use strict";var c=e("../common/utils").unescapeAll;r.exports=function(e,r,t){var n,s,o=0,i=r,a={ok:!1,pos:0,lines:0,str:""};if(t<=r)return a;if(34!==(s=e.charCodeAt(r))&&39!==s&&40!==s)return a;for(r++,40===s&&(s=41);r<t;){if((n=e.charCodeAt(r))===s)return a.pos=r+1,a.lines=o,a.str=c(e.slice(i+1,r)),a.ok=!0,a;10===n?o++:92===n&&r+1<t&&(r++,10===e.charCodeAt(r)&&o++),r++}return a}},{"../common/utils":4}],9:[function(e,r,t){"use strict";var n=e("./common/utils"),s=e("./helpers"),o=e("./renderer"),i=e("./parser_core"),a=e("./parser_block"),c=e("./parser_inline"),l=e("linkify-it"),u=e("mdurl"),p=e("punycode"),h={default:e("./presets/default"),zero:e("./presets/zero"),commonmark:e("./presets/commonmark")},f=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var r=e.trim().toLowerCase();return!f.test(r)||!!d.test(r)}var _=["http:","https:","mailto:"];function g(e){var r=u.parse(e,!0);if(r.hostname&&(!r.protocol||0<=_.indexOf(r.protocol)))try{r.hostname=p.toASCII(r.hostname)}catch(e){}return u.encode(u.format(r))}function b(e){var r=u.parse(e,!0);if(r.hostname&&(!r.protocol||0<=_.indexOf(r.protocol)))try{r.hostname=p.toUnicode(r.hostname)}catch(e){}return u.decode(u.format(r))}function k(e,r){if(!(this instanceof k))return new k(e,r);r||n.isString(e)||(r=e||{},e="default"),this.inline=new c,this.block=new a,this.core=new i,this.renderer=new o,this.linkify=new l,this.validateLink=m,this.normalizeLink=g,this.normalizeLinkText=b,this.utils=n,this.helpers=n.assign({},s),this.options={},this.configure(e),r&&this.set(r)}k.prototype.set=function(e){return n.assign(this.options,e),this},k.prototype.configure=function(r){var e,t=this;if(n.isString(r)&&!(r=h[e=r]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&t.set(r.options),r.components&&Object.keys(r.components).forEach(function(e){r.components[e].rules&&t[e].ruler.enableOnly(r.components[e].rules),r.components[e].rules2&&t[e].ruler2.enableOnly(r.components[e].rules2)}),this},k.prototype.enable=function(r,e){var t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(e){t=t.concat(this[e].ruler.enable(r,!0))},this),t=t.concat(this.inline.ruler2.enable(r,!0));var n=r.filter(function(e){return t.indexOf(e)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},k.prototype.disable=function(r,e){var t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(e){t=t.concat(this[e].ruler.disable(r,!0))},this),t=t.concat(this.inline.ruler2.disable(r,!0));var n=r.filter(function(e){return t.indexOf(e)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},k.prototype.use=function(e){var r=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,r),this},k.prototype.parse=function(e,r){if("string"!=typeof e)throw new Error("Input data should be a String");var t=new this.core.State(e,this,r);return this.core.process(t),t.tokens},k.prototype.render=function(e,r){return r=r||{},this.renderer.render(this.parse(e,r),this.options,r)},k.prototype.parseInline=function(e,r){var t=new this.core.State(e,this,r);return t.inlineMode=!0,this.core.process(t),t.tokens},k.prototype.renderInline=function(e,r){return r=r||{},this.renderer.render(this.parseInline(e,r),this.options,r)},r.exports=k},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(e,r,t){"use strict";var n=e("./ruler"),s=[["table",e("./rules_block/table"),["paragraph","reference"]],["code",e("./rules_block/code")],["fence",e("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",e("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",e("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",e("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",e("./rules_block/reference")],["heading",e("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",e("./rules_block/lheading")],["html_block",e("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",e("./rules_block/paragraph")]];function o(){this.ruler=new n;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1],{alt:(s[e][2]||[]).slice()})}o.prototype.tokenize=function(e,r,t){for(var n,s=this.ruler.getRules(""),o=s.length,i=r,a=!1,c=e.md.options.maxNesting;i<t&&(e.line=i=e.skipEmptyLines(i),!(t<=i))&&!(e.sCount[i]<e.blkIndent);){if(e.level>=c){e.line=t;break}for(n=0;n<o&&!s[n](e,i,t,!1);n++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(i=e.line)<t&&e.isEmpty(i)&&(a=!0,i++,e.line=i)}},o.prototype.parse=function(e,r,t,n){var s;e&&(s=new this.State(e,r,t,n),this.tokenize(s,s.line,s.lineMax))},o.prototype.State=e("./rules_block/state_block"),r.exports=o},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(e,r,t){"use strict";var n=e("./ruler"),s=[["normalize",e("./rules_core/normalize")],["block",e("./rules_core/block")],["inline",e("./rules_core/inline")],["linkify",e("./rules_core/linkify")],["replacements",e("./rules_core/replacements")],["smartquotes",e("./rules_core/smartquotes")]];function o(){this.ruler=new n;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1])}o.prototype.process=function(e){var r,t,n;for(r=0,t=(n=this.ruler.getRules("")).length;r<t;r++)n[r](e)},o.prototype.State=e("./rules_core/state_core"),r.exports=o},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(e,r,t){"use strict";var n=e("./ruler"),s=[["text",e("./rules_inline/text")],["newline",e("./rules_inline/newline")],["escape",e("./rules_inline/escape")],["backticks",e("./rules_inline/backticks")],["strikethrough",e("./rules_inline/strikethrough").tokenize],["emphasis",e("./rules_inline/emphasis").tokenize],["link",e("./rules_inline/link")],["image",e("./rules_inline/image")],["autolink",e("./rules_inline/autolink")],["html_inline",e("./rules_inline/html_inline")],["entity",e("./rules_inline/entity")]],o=[["balance_pairs",e("./rules_inline/balance_pairs")],["strikethrough",e("./rules_inline/strikethrough").postProcess],["emphasis",e("./rules_inline/emphasis").postProcess],["text_collapse",e("./rules_inline/text_collapse")]];function i(){var e;for(this.ruler=new n,e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1]);for(this.ruler2=new n,e=0;e<o.length;e++)this.ruler2.push(o[e][0],o[e][1])}i.prototype.skipToken=function(e){var r,t,n=e.pos,s=this.ruler.getRules(""),o=s.length,i=e.md.options.maxNesting,a=e.cache;if(void 0===a[n]){if(e.level<i)for(t=0;t<o&&(e.level++,r=s[t](e,!0),e.level--,!r);t++);else e.pos=e.posMax;r||e.pos++,a[n]=e.pos}else e.pos=a[n]},i.prototype.tokenize=function(e){for(var r,t,n=this.ruler.getRules(""),s=n.length,o=e.posMax,i=e.md.options.maxNesting;e.pos<o;){if(e.level<i)for(t=0;t<s&&!(r=n[t](e,!1));t++);if(r){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},i.prototype.parse=function(e,r,t,n){var s,o,i,a=new this.State(e,r,t,n);for(this.tokenize(a),i=(o=this.ruler2.getRules("")).length,s=0;s<i;s++)o[s](a)},i.prototype.State=e("./rules_inline/state_inline"),r.exports=i},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(e,r,t){"use strict";r.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(e,r,t){"use strict";r.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(e,r,t){"use strict";var n=e("./common/utils").assign,h=e("./common/utils").unescapeAll,f=e("./common/utils").escapeHtml,s={};function o(){this.rules=n({},s)}s.code_inline=function(e,r,t,n,s){var o=e[r];return"<code"+s.renderAttrs(o)+">"+f(e[r].content)+"</code>"},s.code_block=function(e,r,t,n,s){var o=e[r];return"<pre"+s.renderAttrs(o)+"><code>"+f(e[r].content)+"</code></pre>\n"},s.fence=function(e,r,t,n,s){var o,i,a,c,l=e[r],u=l.info?h(l.info).trim():"",p="";return u&&(p=u.split(/\s+/g)[0]),0===(o=t.highlight&&t.highlight(l.content,p)||f(l.content)).indexOf("<pre")?o+"\n":u?(i=l.attrIndex("class"),a=l.attrs?l.attrs.slice():[],i<0?a.push(["class",t.langPrefix+p]):a[i][1]+=" "+t.langPrefix+p,c={attrs:a},"<pre><code"+s.renderAttrs(c)+">"+o+"</code></pre>\n"):"<pre><code"+s.renderAttrs(l)+">"+o+"</code></pre>\n"},s.image=function(e,r,t,n,s){var o=e[r];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,t,n),s.renderToken(e,r,t)},s.hardbreak=function(e,r,t){return t.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,r,t){return t.breaks?t.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,r){return f(e[r].content)},s.html_block=function(e,r){return e[r].content},s.html_inline=function(e,r){return e[r].content},o.prototype.renderAttrs=function(e){var r,t,n;if(!e.attrs)return"";for(n="",r=0,t=e.attrs.length;r<t;r++)n+=" "+f(e.attrs[r][0])+'="'+f(e.attrs[r][1])+'"';return n},o.prototype.renderToken=function(e,r,t){var n,s="",o=!1,i=e[r];return i.hidden?"":(i.block&&-1!==i.nesting&&r&&e[r-1].hidden&&(s+="\n"),s+=(-1===i.nesting?"</":"<")+i.tag,s+=this.renderAttrs(i),0===i.nesting&&t.xhtmlOut&&(s+=" /"),i.block&&(o=!0,1===i.nesting&&r+1<e.length&&("inline"===(n=e[r+1]).type||n.hidden?o=!1:-1===n.nesting&&n.tag===i.tag&&(o=!1))),s+=o?">\n":">")},o.prototype.renderInline=function(e,r,t){for(var n,s="",o=this.rules,i=0,a=e.length;i<a;i++)void 0!==o[n=e[i].type]?s+=o[n](e,i,r,t,this):s+=this.renderToken(e,i,r);return s},o.prototype.renderInlineAsText=function(e,r,t){for(var n="",s=0,o=e.length;s<o;s++)"text"===e[s].type?n+=e[s].content:"image"===e[s].type&&(n+=this.renderInlineAsText(e[s].children,r,t));return n},o.prototype.render=function(e,r,t){var n,s,o,i="",a=this.rules;for(n=0,s=e.length;n<s;n++)"inline"===(o=e[n].type)?i+=this.renderInline(e[n].children,r,t):void 0!==a[o]?i+=a[e[n].type](e,n,r,t,this):i+=this.renderToken(e,n,r,t);return i},r.exports=o},{"./common/utils":4}],17:[function(e,r,t){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===e)return r;return-1},n.prototype.__compile__=function(){var t=this,r=[""];t.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){r.indexOf(e)<0&&r.push(e)})}),t.__cache__={},r.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(e){e.enabled&&(r&&e.alt.indexOf(r)<0||t.__cache__[r].push(e.fn))})})},n.prototype.at=function(e,r,t){var n=this.__find__(e),s=t||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=r,this.__rules__[n].alt=s.alt||[],this.__cache__=null},n.prototype.before=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(e,r,t,n){var s=this.__find__(e),o=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:r,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(e,r,t){var n=t||{};this.__rules__.push({name:e,enabled:!0,fn:r,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},n.prototype.enableOnly=function(e,r){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,r)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},r.exports=n},{}],18:[function(e,r,t){"use strict";var E=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,x,y,C,A=e.lineMax,w=e.bMarks[r]+e.tShift[r],D=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(62!==e.src.charCodeAt(w++))return!1;if(n)return!0;for(a=h=e.sCount[r]+w-(e.bMarks[r]+e.tShift[r]),32===e.src.charCodeAt(w)?(w++,a++,h++,k=!(s=!1)):9===e.src.charCodeAt(w)?(k=!0,(e.bsCount[r]+h)%4==3?(w++,a++,h++,s=!1):s=!0):k=!1,f=[e.bMarks[r]],e.bMarks[r]=w;w<D&&(o=e.src.charCodeAt(w),E(o));)9===o?h+=4-(h+e.bsCount[r]+(s?1:0))%4:h++,w++;for(d=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(k?1:0),l=D<=w,g=[e.sCount[r]],e.sCount[r]=h-a,b=[e.tShift[r]],e.tShift[r]=w-e.bMarks[r],x=e.md.block.ruler.getRules("blockquote"),_=e.parentType,C=!(e.parentType="blockquote"),p=r+1;p<t&&(e.sCount[p]<e.blkIndent&&(C=!0),w=e.bMarks[p]+e.tShift[p],!((D=e.eMarks[p])<=w));p++)if(62!==e.src.charCodeAt(w++)||C){if(l)break;for(v=!1,i=0,c=x.length;i<c;i++)if(x[i](e,p,t,!0)){v=!0;break}if(v){e.lineMax=p,0!==e.blkIndent&&(f.push(e.bMarks[p]),d.push(e.bsCount[p]),b.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}f.push(e.bMarks[p]),d.push(e.bsCount[p]),b.push(e.tShift[p]),g.push(e.sCount[p]),e.sCount[p]=-1}else{for(a=h=e.sCount[p]+w-(e.bMarks[p]+e.tShift[p]),32===e.src.charCodeAt(w)?(w++,a++,h++,k=!(s=!1)):9===e.src.charCodeAt(w)?(k=!0,(e.bsCount[p]+h)%4==3?(w++,a++,h++,s=!1):s=!0):k=!1,f.push(e.bMarks[p]),e.bMarks[p]=w;w<D&&(o=e.src.charCodeAt(w),E(o));)9===o?h+=4-(h+e.bsCount[p]+(s?1:0))%4:h++,w++;l=D<=w,d.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(k?1:0),g.push(e.sCount[p]),e.sCount[p]=h-a,b.push(e.tShift[p]),e.tShift[p]=w-e.bMarks[p]}for(m=e.blkIndent,e.blkIndent=0,(y=e.push("blockquote_open","blockquote",1)).markup=">",y.map=u=[r,0],e.md.block.tokenize(e,r,p),(y=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=A,e.parentType=_,u[1]=e.line,i=0;i<b.length;i++)e.bMarks[i+r]=f[i],e.tShift[i+r]=b[i],e.sCount[i+r]=g[i],e.bsCount[i+r]=d[i];return e.blkIndent=m,!0}},{"../common/utils":4}],19:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o;if(e.sCount[r]-e.blkIndent<4)return!1;for(s=n=r+1;n<t;)if(e.isEmpty(n))n++;else{if(!(4<=e.sCount[n]-e.blkIndent))break;s=++n}return e.line=s,(o=e.push("code_block","code",0)).content=e.getLines(r,s,4+e.blkIndent,!0),o.map=[r,e.line],!0}},{}],20:[function(e,r,t){"use strict";r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p=!1,h=e.bMarks[r]+e.tShift[r],f=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(f<h+3)return!1;if(126!==(s=e.src.charCodeAt(h))&&96!==s)return!1;if(c=h,(o=(h=e.skipChars(h,s))-c)<3)return!1;if(u=e.src.slice(c,h),0<=(i=e.src.slice(h,f)).indexOf(String.fromCharCode(s)))return!1;if(n)return!0;for(a=r;!(t<=++a)&&!((h=c=e.bMarks[a]+e.tShift[a])<(f=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(h)===s&&!(4<=e.sCount[a]-e.blkIndent||(h=e.skipChars(h,s))-c<o||(h=e.skipSpaces(h))<f)){p=!0;break}return o=e.sCount[r],e.line=a+(p?1:0),(l=e.push("fence","code",0)).info=i,l.content=e.getLines(r+1,a,o,!0),l.markup=u,l.map=[r,e.line],!0}},{}],21:[function(e,r,t){"use strict";var u=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(35!==(s=e.src.charCodeAt(c))||l<=c)return!1;for(o=1,s=e.src.charCodeAt(++c);35===s&&c<l&&o<=6;)o++,s=e.src.charCodeAt(++c);return!(6<o||c<l&&!u(s))&&(n||(l=e.skipSpacesBack(l,c),c<(i=e.skipCharsBack(l,35,c))&&u(e.src.charCodeAt(i-1))&&(l=i),e.line=r+1,(a=e.push("heading_open","h"+String(o),1)).markup="########".slice(0,o),a.map=[r,e.line],(a=e.push("inline","",0)).content=e.src.slice(c,l).trim(),a.map=[r,e.line],a.children=[],(a=e.push("heading_close","h"+String(o),-1)).markup="########".slice(0,o)),!0)}},{"../common/utils":4}],22:[function(e,r,t){"use strict";var u=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(42!==(s=e.src.charCodeAt(c++))&&45!==s&&95!==s)return!1;for(o=1;c<l;){if((i=e.src.charCodeAt(c++))!==s&&!u(i))return!1;i===s&&o++}return!(o<3)&&(n||(e.line=r+1,(a=e.push("hr","hr",0)).map=[r,e.line],a.markup=Array(o+1).join(String.fromCharCode(s))),!0)}},{"../common/utils":4}],23:[function(e,r,t){"use strict";var n=e("../common/html_blocks"),s=e("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,u=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s.source+"\\s*$"),/^$/,!1]];r.exports=function(e,r,t,n){var s,o,i,a,c=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(4<=e.sCount[r]-e.blkIndent)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(a=e.src.slice(c,l),s=0;s<u.length&&!u[s][0].test(a);s++);if(s===u.length)return!1;if(n)return u[s][2];if(o=r+1,!u[s][1].test(a))for(;o<t&&!(e.sCount[o]<e.blkIndent);o++)if(c=e.bMarks[o]+e.tShift[o],l=e.eMarks[o],a=e.src.slice(c,l),u[s][1].test(a)){0!==a.length&&o++;break}return e.line=o,(i=e.push("html_block","",0)).map=[r,o],i.content=e.getLines(r,o,e.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(e,r,t){"use strict";r.exports=function(e,r,t){var n,s,o,i,a,c,l,u,p,h,f=r+1,d=e.md.block.ruler.getRules("paragraph");if(4<=e.sCount[r]-e.blkIndent)return!1;for(h=e.parentType,e.parentType="paragraph";f<t&&!e.isEmpty(f);f++)if(!(3<e.sCount[f]-e.blkIndent)){if(e.sCount[f]>=e.blkIndent&&(c=e.bMarks[f]+e.tShift[f])<(l=e.eMarks[f])&&(45===(p=e.src.charCodeAt(c))||61===p)&&(c=e.skipChars(c,p),l<=(c=e.skipSpaces(c)))){u=61===p?1:2;break}if(!(e.sCount[f]<0)){for(s=!1,o=0,i=d.length;o<i;o++)if(d[o](e,f,t,!0)){s=!0;break}if(s)break}}return!!u&&(n=e.getLines(r,f,e.blkIndent,!1).trim(),e.line=f+1,(a=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(p),a.map=[r,e.line],(a=e.push("inline","",0)).content=n,a.map=[r,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(p),e.parentType=h,!0)}},{}],25:[function(e,r,t){"use strict";var i=e("../common/utils").isSpace;function I(e,r){var t,n,s,o;return n=e.bMarks[r]+e.tShift[r],s=e.eMarks[r],42!==(t=e.src.charCodeAt(n++))&&45!==t&&43!==t?-1:n<s&&(o=e.src.charCodeAt(n),!i(o))?-1:n}function R(e,r){var t,n=e.bMarks[r]+e.tShift[r],s=n,o=e.eMarks[r];if(o<=s+1)return-1;if((t=e.src.charCodeAt(s++))<48||57<t)return-1;for(;;){if(o<=s)return-1;if(!(48<=(t=e.src.charCodeAt(s++))&&t<=57)){if(41===t||46===t)break;return-1}if(10<=s-n)return-1}return s<o&&(t=e.src.charCodeAt(s),!i(t))?-1:s}r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,x,y,C,A,w,D,E,q,S,F,L,z=!1,T=!0;if(4<=e.sCount[r]-e.blkIndent)return!1;if(n&&"paragraph"===e.parentType&&e.tShift[r]>=e.blkIndent&&(z=!0),0<=(D=R(e,r))){if(u=!0,q=e.bMarks[r]+e.tShift[r],_=Number(e.src.substr(q,D-q-1)),z&&1!==_)return!1}else{if(!(0<=(D=I(e,r))))return!1;u=!1}if(z&&e.skipSpaces(D)>=e.eMarks[r])return!1;if(m=e.src.charCodeAt(D-1),n)return!0;for(d=e.tokens.length,u?(L=e.push("ordered_list_open","ol",1),1!==_&&(L.attrs=[["start",_]])):L=e.push("bullet_list_open","ul",1),L.map=f=[r,0],L.markup=String.fromCharCode(m),b=r,E=!1,F=e.md.block.ruler.getRules("list"),y=e.parentType,e.parentType="list";b<t;){for(w=D,g=e.eMarks[b],l=k=e.sCount[b]+D-(e.bMarks[r]+e.tShift[r]);w<g;){if(9===(s=e.src.charCodeAt(w)))k+=4-(k+e.bsCount[b])%4;else{if(32!==s)break;k++}w++}if(4<(c=g<=(o=w)?1:k-l)&&(c=1),a=l+c,(L=e.push("list_item_open","li",1)).markup=String.fromCharCode(m),L.map=p=[r,0],v=e.blkIndent,A=e.tight,C=e.tShift[r],x=e.sCount[r],e.blkIndent=a,e.tight=!0,e.tShift[r]=o-e.bMarks[r],e.sCount[r]=k,g<=o&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,t):e.md.block.tokenize(e,r,t,!0),e.tight&&!E||(T=!1),E=1<e.line-r&&e.isEmpty(e.line-1),e.blkIndent=v,e.tShift[r]=C,e.sCount[r]=x,e.tight=A,(L=e.push("list_item_close","li",-1)).markup=String.fromCharCode(m),b=r=e.line,p[1]=b,o=e.bMarks[r],t<=b)break;if(e.sCount[b]<e.blkIndent)break;for(S=!1,i=0,h=F.length;i<h;i++)if(F[i](e,b,t,!0)){S=!0;break}if(S)break;if(u){if((D=R(e,b))<0)break}else if((D=I(e,b))<0)break;if(m!==e.src.charCodeAt(D-1))break}return(L=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),f[1]=b,e.line=b,e.parentType=y,T&&function(e,r){var t,n,s=e.level+2;for(t=r+2,n=e.tokens.length-2;t<n;t++)e.tokens[t].level===s&&"paragraph_open"===e.tokens[t].type&&(e.tokens[t+2].hidden=!0,e.tokens[t].hidden=!0,t+=2)}(e,d),!0}},{"../common/utils":4}],26:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=r+1,l=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<u&&!e.isEmpty(c);c++)if(!(3<e.sCount[c]-e.blkIndent||e.sCount[c]<0)){for(n=!1,s=0,o=l.length;s<o;s++)if(l[s](e,c,u,!0)){n=!0;break}if(n)break}return t=e.getLines(r,c,e.blkIndent,!1).trim(),e.line=c,(i=e.push("paragraph_open","p",1)).map=[r,e.line],(i=e.push("inline","",0)).content=t,i.map=[r,e.line],i.children=[],i=e.push("paragraph_close","p",-1),e.parentType=a,!0}},{}],27:[function(e,r,t){"use strict";var A=e("../common/utils").normalizeReference,w=e("../common/utils").isSpace;r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v=0,x=e.bMarks[r]+e.tShift[r],y=e.eMarks[r],C=r+1;if(4<=e.sCount[r]-e.blkIndent)return!1;if(91!==e.src.charCodeAt(x))return!1;for(;++x<y;)if(93===e.src.charCodeAt(x)&&92!==e.src.charCodeAt(x-1)){if(x+1===y)return!1;if(58!==e.src.charCodeAt(x+1))return!1;break}for(a=e.lineMax,b=e.md.block.ruler.getRules("reference"),f=e.parentType,e.parentType="reference";C<a&&!e.isEmpty(C);C++)if(!(3<e.sCount[C]-e.blkIndent||e.sCount[C]<0)){for(g=!1,l=0,u=b.length;l<u;l++)if(b[l](e,C,a,!0)){g=!0;break}if(g)break}for(y=(_=e.getLines(r,C,e.blkIndent,!1).trim()).length,x=1;x<y;x++){if(91===(s=_.charCodeAt(x)))return!1;if(93===s){h=x;break}10===s?v++:92===s&&++x<y&&10===_.charCodeAt(x)&&v++}if(h<0||58!==_.charCodeAt(h+1))return!1;for(x=h+2;x<y;x++)if(10===(s=_.charCodeAt(x)))v++;else if(!w(s))break;if(!(d=e.md.helpers.parseLinkDestination(_,x,y)).ok)return!1;if(c=e.md.normalizeLink(d.str),!e.md.validateLink(c))return!1;for(x=d.pos,i=v+=d.lines,m=o=x;x<y;x++)if(10===(s=_.charCodeAt(x)))v++;else if(!w(s))break;for(d=e.md.helpers.parseLinkTitle(_,x,y),x<y&&m!==x&&d.ok?(k=d.str,x=d.pos,v+=d.lines):(k="",x=o,v=i);x<y&&(s=_.charCodeAt(x),w(s));)x++;if(x<y&&10!==_.charCodeAt(x)&&k)for(k="",x=o,v=i;x<y&&(s=_.charCodeAt(x),w(s));)x++;return!(x<y&&10!==_.charCodeAt(x))&&(!!(p=A(_.slice(1,h)))&&(n||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:k,href:c}),e.parentType=f,e.line=r+v+1),!0))}},{"../common/utils":4}],28:[function(e,r,t){"use strict";var s=e("../token"),h=e("../common/utils").isSpace;function n(e,r,t,n){var s,o,i,a,c,l,u,p;for(this.src=e,this.md=r,this.env=t,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,i=a=l=u=0,c=(o=this.src).length;a<c;a++){if(s=o.charCodeAt(a),!p){if(h(s)){l++,9===s?u+=4-u%4:u++;continue}p=!0}10!==s&&a!==c-1||(10!==s&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),p=!1,u=l=0,i=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}n.prototype.push=function(e,r,t){var n=new s(e,r,t);return n.block=!0,t<0&&this.level--,n.level=this.level,0<t&&this.level++,this.tokens.push(n),n},n.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},n.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},n.prototype.skipSpaces=function(e){for(var r,t=this.src.length;e<t&&(r=this.src.charCodeAt(e),h(r));e++);return e},n.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;r<e;)if(!h(this.src.charCodeAt(--e)))return e+1;return e},n.prototype.skipChars=function(e,r){for(var t=this.src.length;e<t&&this.src.charCodeAt(e)===r;e++);return e},n.prototype.skipCharsBack=function(e,r,t){if(e<=t)return e;for(;t<e;)if(r!==this.src.charCodeAt(--e))return e+1;return e},n.prototype.getLines=function(e,r,t,n){var s,o,i,a,c,l,u,p=e;if(r<=e)return"";for(l=new Array(r-e),s=0;p<r;p++,s++){for(o=0,u=a=this.bMarks[p],c=p+1<r||n?this.eMarks[p]+1:this.eMarks[p];a<c&&o<t;){if(i=this.src.charCodeAt(a),h(i))9===i?o+=4-(o+this.bsCount[p])%4:o++;else{if(!(a-u<this.tShift[p]))break;o++}a++}l[s]=t<o?new Array(o-t+1).join(" ")+this.src.slice(a,c):this.src.slice(a,c)}return l.join("")},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],29:[function(e,r,t){"use strict";var _=e("../common/utils").isSpace;function g(e,r){var t=e.bMarks[r]+e.blkIndent,n=e.eMarks[r];return e.src.substr(t,n-t)}function b(e){var r,t=[],n=0,s=e.length,o=0,i=0,a=!1,c=0;for(r=e.charCodeAt(n);n<s;)96===r?a?(a=!1,c=n):o%2==0&&(a=!0,c=n):124!==r||o%2!=0||a||(t.push(e.substring(i,n)),i=n+1),92===r?o++:o=0,++n===s&&a&&(a=!1,n=c+1),r=e.charCodeAt(n);return t.push(e.substring(i)),t}r.exports=function(e,r,t,n){var s,o,i,a,c,l,u,p,h,f,d,m;if(t<r+2)return!1;if(c=r+1,e.sCount[c]<e.blkIndent)return!1;if(4<=e.sCount[c]-e.blkIndent)return!1;if((i=e.bMarks[c]+e.tShift[c])>=e.eMarks[c])return!1;if(124!==(s=e.src.charCodeAt(i++))&&45!==s&&58!==s)return!1;for(;i<e.eMarks[c];){if(124!==(s=e.src.charCodeAt(i))&&45!==s&&58!==s&&!_(s))return!1;i++}for(l=(o=g(e,r+1)).split("|"),h=[],a=0;a<l.length;a++){if(!(f=l[a].trim())){if(0===a||a===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(f))return!1;58===f.charCodeAt(f.length-1)?h.push(58===f.charCodeAt(0)?"center":"right"):58===f.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(o=g(e,r).trim()).indexOf("|"))return!1;if(4<=e.sCount[r]-e.blkIndent)return!1;if((u=(l=b(o.replace(/^\||\|$/g,""))).length)>h.length)return!1;if(n)return!0;for((p=e.push("table_open","table",1)).map=d=[r,0],(p=e.push("thead_open","thead",1)).map=[r,r+1],(p=e.push("tr_open","tr",1)).map=[r,r+1],a=0;a<l.length;a++)(p=e.push("th_open","th",1)).map=[r,r+1],h[a]&&(p.attrs=[["style","text-align:"+h[a]]]),(p=e.push("inline","",0)).content=l[a].trim(),p.map=[r,r+1],p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),(p=e.push("tbody_open","tbody",1)).map=m=[r+2,0],c=r+2;c<t&&!(e.sCount[c]<e.blkIndent)&&-1!==(o=g(e,c).trim()).indexOf("|")&&!(4<=e.sCount[c]-e.blkIndent);c++){for(l=b(o.replace(/^\||\|$/g,"")),p=e.push("tr_open","tr",1),a=0;a<u;a++)p=e.push("td_open","td",1),h[a]&&(p.attrs=[["style","text-align:"+h[a]]]),(p=e.push("inline","",0)).content=l[a]?l[a].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return p=e.push("tbody_close","tbody",-1),p=e.push("table_close","table",-1),d[1]=m[1]=c,e.line=c,!0}},{"../common/utils":4}],30:[function(e,r,t){"use strict";r.exports=function(e){var r;e.inlineMode?((r=new e.Token("inline","",0)).content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},{}],31:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s=e.tokens;for(t=0,n=s.length;t<n;t++)"inline"===(r=s[t]).type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}},{}],32:[function(e,r,t){"use strict";var x=e("../common/utils").arrayReplaceAt;r.exports=function(e){var r,t,n,s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v=e.tokens;if(e.md.options.linkify)for(t=0,n=v.length;t<n;t++)if("inline"===v[t].type&&e.md.linkify.pretest(v[t].content))for(f=0,r=(s=v[t].children).length-1;0<=r;r--)if("link_close"!==(i=s[r]).type){if("html_inline"===i.type&&(k=i.content,/^<a[>\s]/i.test(k)&&0<f&&f--,b=i.content,/^<\/a\s*>/i.test(b)&&f++),!(0<f)&&"text"===i.type&&e.md.linkify.test(i.content)){for(l=i.content,g=e.md.linkify.match(l),a=[],h=i.level,c=p=0;c<g.length;c++)d=g[c].url,m=e.md.normalizeLink(d),e.md.validateLink(m)&&(_=g[c].text,_=g[c].schema?"mailto:"!==g[c].schema||/^mailto:/i.test(_)?e.md.normalizeLinkText(_):e.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,""),p<(u=g[c].index)&&((o=new e.Token("text","",0)).content=l.slice(p,u),o.level=h,a.push(o)),(o=new e.Token("link_open","a",1)).attrs=[["href",m]],o.level=h++,o.markup="linkify",o.info="auto",a.push(o),(o=new e.Token("text","",0)).content=_,o.level=h,a.push(o),(o=new e.Token("link_close","a",-1)).level=--h,o.markup="linkify",o.info="auto",a.push(o),p=g[c].lastIndex);p<l.length&&((o=new e.Token("text","",0)).content=l.slice(p),o.level=h,a.push(o)),v[t].children=s=x(s,r,a)}}else for(r--;s[r].level!==i.level&&"link_open"!==s[r].type;)r--}},{"../common/utils":4}],33:[function(e,r,t){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,s=/\u0000/g;r.exports=function(e){var r;r=(r=e.src.replace(n,"\n")).replace(s,"\ufffd"),e.src=r}},{}],34:[function(e,r,t){"use strict";var s=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,n=/\((c|tm|r|p)\)/i,o=/\((c|tm|r|p)\)/gi,i={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function a(e,r){return i[r.toLowerCase()]}function c(e){var r,t,n=0;for(r=e.length-1;0<=r;r--)"text"!==(t=e[r]).type||n||(t.content=t.content.replace(o,a)),"link_open"===t.type&&"auto"===t.info&&n--,"link_close"===t.type&&"auto"===t.info&&n++}function l(e){var r,t,n=0;for(r=e.length-1;0<=r;r--)"text"!==(t=e[r]).type||n||s.test(t.content)&&(t.content=t.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===t.type&&"auto"===t.info&&n--,"link_close"===t.type&&"auto"===t.info&&n++}r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;0<=r;r--)"inline"===e.tokens[r].type&&(n.test(e.tokens[r].content)&&c(e.tokens[r].children),s.test(e.tokens[r].content)&&l(e.tokens[r].children))}},{}],35:[function(e,r,t){"use strict";var C=e("../common/utils").isWhiteSpace,A=e("../common/utils").isPunctChar,w=e("../common/utils").isMdAsciiPunct,n=/['"]/,D=/['"]/g,E="\u2019";function q(e,r,t){return e.substr(0,r)+t+e.substr(r+1)}function s(e,r){var t,n,s,o,i,a,c,l,u,p,h,f,d,m,_,g,b,k,v,x,y;for(v=[],t=0;t<e.length;t++){for(n=e[t],c=e[t].level,b=v.length-1;0<=b&&!(v[b].level<=c);b--);if(v.length=b+1,"text"===n.type){i=0,a=(s=n.content).length;e:for(;i<a&&(D.lastIndex=i,o=D.exec(s));){if(_=g=!0,i=o.index+1,k="'"===o[0],u=32,0<=o.index-1)u=s.charCodeAt(o.index-1);else for(b=t-1;0<=b&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b--)if("text"===e[b].type){u=e[b].content.charCodeAt(e[b].content.length-1);break}if(p=32,i<a)p=s.charCodeAt(i);else for(b=t+1;b<e.length&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b++)if("text"===e[b].type){p=e[b].content.charCodeAt(0);break}if(h=w(u)||A(String.fromCharCode(u)),f=w(p)||A(String.fromCharCode(p)),d=C(u),(m=C(p))?_=!1:f&&(d||h||(_=!1)),d?g=!1:h&&(m||f||(g=!1)),34===p&&'"'===o[0]&&48<=u&&u<=57&&(g=_=!1),_&&g&&(_=!1,g=f),_||g){if(g)for(b=v.length-1;0<=b&&(l=v[b],!(v[b].level<c));b--)if(l.single===k&&v[b].level===c){l=v[b],k?(x=r.md.options.quotes[2],y=r.md.options.quotes[3]):(x=r.md.options.quotes[0],y=r.md.options.quotes[1]),n.content=q(n.content,o.index,y),e[l.token].content=q(e[l.token].content,l.pos,x),i+=y.length-1,l.token===t&&(i+=x.length-1),a=(s=n.content).length,v.length=b;continue e}_?v.push({token:t,pos:o.index,single:k,level:c}):g&&k&&(n.content=q(n.content,o.index,E))}else k&&(n.content=q(n.content,o.index,E))}}}}r.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;0<=r;r--)"inline"===e.tokens[r].type&&n.test(e.tokens[r].content)&&s(e.tokens[r].children,e)}},{"../common/utils":4}],36:[function(e,r,t){"use strict";var n=e("../token");function s(e,r,t){this.src=e,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=r}s.prototype.Token=n,r.exports=s},{"../token":51}],37:[function(e,r,t){"use strict";var l=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,u=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;r.exports=function(e,r){var t,n,s,o,i,a,c=e.pos;return 60===e.src.charCodeAt(c)&&(!((t=e.src.slice(c)).indexOf(">")<0)&&(u.test(t)?(o=(n=t.match(u))[0].slice(1,-1),i=e.md.normalizeLink(o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n[0].length,!0)):!!l.test(t)&&(o=(s=t.match(l))[0].slice(1,-1),i=e.md.normalizeLink("mailto:"+o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=s[0].length,!0))))}},{}],38:[function(e,r,t){"use strict";r.exports=function(e,r){var t,n,s,o,i,a,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(t=c,c++,n=e.posMax;c<n&&96===e.src.charCodeAt(c);)c++;for(s=e.src.slice(t,c),o=i=c;-1!==(o=e.src.indexOf("`",i));){for(i=o+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-o===s.length)return r||((a=e.push("code_inline","code",0)).markup=s,a.content=e.src.slice(c,o).replace(/[ \n]+/g," ").trim()),e.pos=i,!0}return r||(e.pending+=s),e.pos+=s.length,!0}},{}],39:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n,s,o=e.delimiters,i=e.delimiters.length;for(r=0;r<i;r++)if((n=o[r]).close)for(t=r-n.jump-1;0<=t;){if((s=o[t]).open&&s.marker===n.marker&&s.end<0&&s.level===n.level)if(!((s.close||n.open)&&void 0!==s.length&&void 0!==n.length&&(s.length+n.length)%3==0)){n.jump=r-t,n.open=!1,s.end=r,s.jump=0;break}t-=s.jump+1}}},{}],40:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s=e.pos,o=e.src.charCodeAt(s);if(r)return!1;if(95!==o&&42!==o)return!1;for(n=e.scanDelims(e.pos,42===o),t=0;t<n.length;t++)e.push("text","",0).content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i,a=e.delimiters;for(r=e.delimiters.length-1;0<=r;r--)95!==(t=a[r]).marker&&42!==t.marker||-1!==t.end&&(n=a[t.end],i=0<r&&a[r-1].end===t.end+1&&a[r-1].token===t.token-1&&a[t.end+1].token===n.token+1&&a[r-1].marker===t.marker,o=String.fromCharCode(t.marker),(s=e.tokens[t.token]).type=i?"strong_open":"em_open",s.tag=i?"strong":"em",s.nesting=1,s.markup=i?o+o:o,s.content="",(s=e.tokens[n.token]).type=i?"strong_close":"em_close",s.tag=i?"strong":"em",s.nesting=-1,s.markup=i?o+o:o,s.content="",i&&(e.tokens[a[r-1].token].content="",e.tokens[a[t.end+1].token].content="",r--))}},{}],41:[function(e,r,t){"use strict";var i=e("../common/entities"),a=e("../common/utils").has,c=e("../common/utils").isValidEntityCode,l=e("../common/utils").fromCodePoint,u=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,p=/^&([a-z][a-z0-9]{1,31});/i;r.exports=function(e,r){var t,n,s=e.pos,o=e.posMax;if(38!==e.src.charCodeAt(s))return!1;if(s+1<o)if(35===e.src.charCodeAt(s+1)){if(n=e.src.slice(s).match(u))return r||(t="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),e.pending+=c(t)?l(t):l(65533)),e.pos+=n[0].length,!0}else if((n=e.src.slice(s).match(p))&&a(i,n[1]))return r||(e.pending+=i[n[1]]),e.pos+=n[0].length,!0;return r||(e.pending+="&"),e.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(e,r,t){"use strict";for(var o=e("../common/utils").isSpace,i=[],n=0;n<256;n++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){i[e.charCodeAt(0)]=1}),r.exports=function(e,r){var t,n=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(++n<s){if((t=e.src.charCodeAt(n))<256&&0!==i[t])return r||(e.pending+=e.src[n]),e.pos+=2,!0;if(10===t){for(r||e.push("hardbreak","br",0),n++;n<s&&(t=e.src.charCodeAt(n),o(t));)n++;return e.pos=n,!0}}return r||(e.pending+="\\"),e.pos++,!0}},{"../common/utils":4}],43:[function(e,r,t){"use strict";var a=e("../common/html_re").HTML_TAG_RE;r.exports=function(e,r){var t,n,s,o,i=e.pos;return!!e.md.options.html&&(s=e.posMax,!(60!==e.src.charCodeAt(i)||s<=i+2)&&((33===(t=e.src.charCodeAt(i+1))||63===t||47===t||97<=(o=32|t)&&o<=122)&&(!!(n=e.src.slice(i).match(a))&&(r||(e.push("html_inline","",0).content=e.src.slice(i,i+n[0].length)),e.pos+=n[0].length,!0))))}},{"../common/html_re":3}],44:[function(e,r,t){"use strict";var b=e("../common/utils").normalizeReference,k=e("../common/utils").isSpace;r.exports=function(e,r){var t,n,s,o,i,a,c,l,u,p,h,f,d,m="",_=e.pos,g=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(a=e.pos+2,(i=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((c=i+1)<g&&40===e.src.charCodeAt(c)){for(c++;c<g&&(n=e.src.charCodeAt(c),k(n)||10===n);c++);if(g<=c)return!1;for(d=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok&&(m=e.md.normalizeLink(u.str),e.md.validateLink(m)?c=u.pos:m=""),d=c;c<g&&(n=e.src.charCodeAt(c),k(n)||10===n);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<g&&d!==c&&u.ok)for(p=u.str,c=u.pos;c<g&&(n=e.src.charCodeAt(c),k(n)||10===n);c++);else p="";if(g<=c||41!==e.src.charCodeAt(c))return e.pos=_,!1;c++}else{if(void 0===e.env.references)return!1;if(c<g&&91===e.src.charCodeAt(c)?(d=c+1,0<=(c=e.md.helpers.parseLinkLabel(e,c))?o=e.src.slice(d,c++):c=i+1):c=i+1,o||(o=e.src.slice(a,i)),!(l=e.env.references[b(o)]))return e.pos=_,!1;m=l.href,p=l.title}return r||(s=e.src.slice(a,i),e.md.inline.parse(s,e.md,e.env,f=[]),(h=e.push("image","img",0)).attrs=t=[["src",m],["alt",""]],h.children=f,h.content=s,p&&t.push(["title",p])),e.pos=c,e.posMax=g,!0}},{"../common/utils":4}],45:[function(e,r,t){"use strict";var _=e("../common/utils").normalizeReference,g=e("../common/utils").isSpace;r.exports=function(e,r){var t,n,s,o,i,a,c,l,u,p="",h=e.pos,f=e.posMax,d=e.pos,m=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(i=e.pos+1,(o=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((a=o+1)<f&&40===e.src.charCodeAt(a)){for(m=!1,a++;a<f&&(n=e.src.charCodeAt(a),g(n)||10===n);a++);if(f<=a)return!1;for(d=a,(c=e.md.helpers.parseLinkDestination(e.src,a,e.posMax)).ok&&(p=e.md.normalizeLink(c.str),e.md.validateLink(p)?a=c.pos:p=""),d=a;a<f&&(n=e.src.charCodeAt(a),g(n)||10===n);a++);if(c=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<f&&d!==a&&c.ok)for(u=c.str,a=c.pos;a<f&&(n=e.src.charCodeAt(a),g(n)||10===n);a++);else u="";(f<=a||41!==e.src.charCodeAt(a))&&(m=!0),a++}if(m){if(void 0===e.env.references)return!1;if(a<f&&91===e.src.charCodeAt(a)?(d=a+1,0<=(a=e.md.helpers.parseLinkLabel(e,a))?s=e.src.slice(d,a++):a=o+1):a=o+1,s||(s=e.src.slice(i,o)),!(l=e.env.references[_(s)]))return e.pos=h,!1;p=l.href,u=l.title}return r||(e.pos=i,e.posMax=o,e.push("link_open","a",1).attrs=t=[["href",p]],u&&t.push(["title",u]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=a,e.posMax=f,!0}},{"../common/utils":4}],46:[function(e,r,t){"use strict";var o=e("../common/utils").isSpace;r.exports=function(e,r){var t,n,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;for(t=e.pending.length-1,n=e.posMax,r||(0<=t&&32===e.pending.charCodeAt(t)?1<=t&&32===e.pending.charCodeAt(t-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),s++;s<n&&o(e.src.charCodeAt(s));)s++;return e.pos=s,!0}},{"../common/utils":4}],47:[function(e,r,t){"use strict";var s=e("../token"),_=e("../common/utils").isWhiteSpace,g=e("../common/utils").isPunctChar,b=e("../common/utils").isMdAsciiPunct;function n(e,r,t,n){this.src=e,this.env=t,this.md=r,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}n.prototype.pushPending=function(){var e=new s("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},n.prototype.push=function(e,r,t){this.pending&&this.pushPending();var n=new s(e,r,t);return t<0&&this.level--,n.level=this.level,0<t&&this.level++,this.pendingLevel=this.level,this.tokens.push(n),n},n.prototype.scanDelims=function(e,r){var t,n,s,o,i,a,c,l,u,p=e,h=!0,f=!0,d=this.posMax,m=this.src.charCodeAt(e);for(t=0<e?this.src.charCodeAt(e-1):32;p<d&&this.src.charCodeAt(p)===m;)p++;return s=p-e,n=p<d?this.src.charCodeAt(p):32,c=b(t)||g(String.fromCharCode(t)),u=b(n)||g(String.fromCharCode(n)),a=_(t),(l=_(n))?h=!1:u&&(a||c||(h=!1)),a?f=!1:c&&(l||u||(f=!1)),r?(o=h,i=f):(o=h&&(!f||c),i=f&&(!h||u)),{can_open:o,can_close:i,length:s}},n.prototype.Token=s,r.exports=n},{"../common/utils":4,"../token":51}],48:[function(e,r,t){"use strict";r.exports.tokenize=function(e,r){var t,n,s,o,i=e.pos,a=e.src.charCodeAt(i);if(r)return!1;if(126!==a)return!1;if(s=(n=e.scanDelims(e.pos,!0)).length,o=String.fromCharCode(a),s<2)return!1;for(s%2&&(e.push("text","",0).content=o,s--),t=0;t<s;t+=2)e.push("text","",0).content=o+o,e.delimiters.push({marker:a,jump:t,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},r.exports.postProcess=function(e){var r,t,n,s,o,i=[],a=e.delimiters,c=e.delimiters.length;for(r=0;r<c;r++)126===(n=a[r]).marker&&-1!==n.end&&(s=a[n.end],(o=e.tokens[n.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=e.tokens[s.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&i.push(s.token-1));for(;i.length;){for(t=(r=i.pop())+1;t<e.tokens.length&&"s_close"===e.tokens[t].type;)t++;r!==--t&&(o=e.tokens[t],e.tokens[t]=e.tokens[r],e.tokens[r]=o)}}},{}],49:[function(e,r,t){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}r.exports=function(e,r){for(var t=e.pos;t<e.posMax&&!n(e.src.charCodeAt(t));)t++;return t!==e.pos&&(r||(e.pending+=e.src.slice(e.pos,t)),e.pos=t,!0)}},{}],50:[function(e,r,t){"use strict";r.exports=function(e){var r,t,n=0,s=e.tokens,o=e.tokens.length;for(r=t=0;r<o;r++)n+=s[r].nesting,s[r].level=n,"text"===s[r].type&&r+1<o&&"text"===s[r+1].type?s[r+1].content=s[r].content+s[r+1].content:(r!==t&&(s[t]=s[r]),t++);r!==t&&(s.length=t)}},{}],51:[function(e,r,t){"use strict";function n(e,r,t){this.type=e,this.tag=r,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var r,t,n;if(!this.attrs)return-1;for(t=0,n=(r=this.attrs).length;t<n;t++)if(r[t][0]===e)return t;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,r){var t=this.attrIndex(e),n=[e,r];t<0?this.attrPush(n):this.attrs[t]=n},n.prototype.attrGet=function(e){var r=this.attrIndex(e),t=null;return 0<=r&&(t=this.attrs[r][1]),t},n.prototype.attrJoin=function(e,r){var t=this.attrIndex(e);t<0?this.attrPush([e,r]):this.attrs[t][1]=this.attrs[t][1]+" "+r},r.exports=n},{}],52:[function(e,r,t){r.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],53:[function(c,e,r){"use strict";function n(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(e){t[e]=r[e]})}),t}function l(e){return Object.prototype.toString.call(e)}function u(e){return"[object Function]"===l(e)}function p(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var o={"http:":{validate:function(e,r,t){var n=e.slice(r);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(n)?n.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,r,t){var n=e.slice(r);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(n)?3<=r&&":"===e[r-3]?0:3<=r&&"/"===e[r-3]?0:n.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(e,r,t){var n=e.slice(r);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(n)?n.match(t.re.mailto)[0].length:0}}},h="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",i="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function a(s){var r=s.re=c("./lib/re")(s.__opts__),e=s.__tlds__.slice();function t(e){return e.replace("%TLDS%",r.src_tlds)}s.onCompile(),s.__tlds_replaced__||e.push(h),e.push(r.src_xn),r.src_tlds=e.join("|"),r.email_fuzzy=RegExp(t(r.tpl_email_fuzzy),"i"),r.link_fuzzy=RegExp(t(r.tpl_link_fuzzy),"i"),r.link_no_ip_fuzzy=RegExp(t(r.tpl_link_no_ip_fuzzy),"i"),r.host_fuzzy_test=RegExp(t(r.tpl_host_fuzzy_test),"i");var o=[];function i(e,r){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+r)}s.__compiled__={},Object.keys(s.__schemas__).forEach(function(e){var r=s.__schemas__[e];if(null!==r){var n,t={validate:null,link:null};if(s.__compiled__[e]=t,"[object Object]"===l(r))return"[object RegExp]"===l(r.validate)?t.validate=(n=r.validate,function(e,r){var t=e.slice(r);return n.test(t)?t.match(n)[0].length:0}):u(r.validate)?t.validate=r.validate:i(e,r),void(u(r.normalize)?t.normalize=r.normalize:r.normalize?i(e,r):t.normalize=function(e,r){r.normalize(e)});if("[object String]"!==l(r))i(e,r);else o.push(e)}}),o.forEach(function(e){s.__compiled__[s.__schemas__[e]]&&(s.__compiled__[e].validate=s.__compiled__[s.__schemas__[e]].validate,s.__compiled__[e].normalize=s.__compiled__[s.__schemas__[e]].normalize)}),s.__compiled__[""]={validate:null,normalize:function(e,r){r.normalize(e)}};var n,a=Object.keys(s.__compiled__).filter(function(e){return 0<e.length&&s.__compiled__[e]}).map(p).join("|");s.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+r.src_ZPCc+"))("+a+")","i"),s.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+r.src_ZPCc+"))("+a+")","ig"),s.re.pretest=RegExp("("+s.re.schema_test.source+")|("+s.re.host_fuzzy_test.source+")|@","i"),(n=s).__index__=-1,n.__text_cache__=""}function f(e,r){var t=new function(e,r){var t=e.__index__,n=e.__last_index__,s=e.__text_cache__.slice(t,n);this.schema=e.__schema__.toLowerCase(),this.index=t+r,this.lastIndex=n+r,this.raw=s,this.text=s,this.url=s}(e,r);return e.__compiled__[t.schema].normalize(t,e),t}function d(e,r){if(!(this instanceof d))return new d(e,r);var t;r||(t=e,Object.keys(t||{}).reduce(function(e,r){return e||s.hasOwnProperty(r)},!1)&&(r=e,e={})),this.__opts__=n({},s,r),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},o,e),this.__compiled__={},this.__tlds__=i,this.__tlds_replaced__=!1,this.re={},a(this)}d.prototype.add=function(e,r){return this.__schemas__[e]=r,a(this),this},d.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},d.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,t,n,s,o,i,a,c;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(r=a.exec(e));)if(s=this.testSchemaAt(e,r[2],a.lastIndex)){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(c=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||c<this.__index__)&&null!==(t=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=t.index+t[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=t.index+t[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(n=e.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i)),0<=this.__index__},d.prototype.pretest=function(e){return this.re.pretest.test(e)},d.prototype.testSchemaAt=function(e,r,t){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,t,this):0},d.prototype.match=function(e){var r=0,t=[];0<=this.__index__&&this.__text_cache__===e&&(t.push(f(this,r)),r=this.__last_index__);for(var n=r?e.slice(r):e;this.test(n);)t.push(f(this,r)),n=n.slice(this.__last_index__),r+=this.__last_index__;return t.length?t:null},d.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,r,t){return e!==t[r-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),a(this),this},d.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},d.prototype.onCompile=function(){},e.exports=d},{"./lib/re":54}],54:[function(n,e,r){"use strict";e.exports=function(e){var r={};r.src_Any=n("uc.micro/properties/Any/regex").source,r.src_Cc=n("uc.micro/categories/Cc/regex").source,r.src_Z=n("uc.micro/categories/Z/regex").source,r.src_P=n("uc.micro/categories/P/regex").source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|");var t="[><\uff5c]";return r.src_pseudo_letter="(?:(?![><\uff5c]|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|[><\uff5c]|"+r.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|"+t+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+r.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+r.src_ZCc+").|\\!(?!"+r.src_ZCc+"|[!]).|\\?(?!"+r.src_ZCc+"|[?]).)+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-(?!-)|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|[><\uff5c]|\\(|"+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+r.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+r.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(e,r,t){"use strict";var s={};function n(e,r){var l;return"string"!=typeof r&&(r=n.defaultChars),l=function(e){var r,t,n=s[e];if(n)return n;for(n=s[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),n.push(t);for(r=0;r<e.length;r++)n[t=e.charCodeAt(r)]="%"+("0"+t.toString(16).toUpperCase()).slice(-2);return n}(r),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var r,t,n,s,o,i,a,c="";for(r=0,t=e.length;r<t;r+=3)(n=parseInt(e.slice(r+1,r+3),16))<128?c+=l[n]:192==(224&n)&&r+3<t&&128==(192&(s=parseInt(e.slice(r+4,r+6),16)))?(c+=(a=n<<6&1984|63&s)<128?"\ufffd\ufffd":String.fromCharCode(a),r+=3):224==(240&n)&&r+6<t&&(s=parseInt(e.slice(r+4,r+6),16),o=parseInt(e.slice(r+7,r+9),16),128==(192&s)&&128==(192&o))?(c+=(a=n<<12&61440|s<<6&4032|63&o)<2048||55296<=a&&a<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(a),r+=6):240==(248&n)&&r+9<t&&(s=parseInt(e.slice(r+4,r+6),16),o=parseInt(e.slice(r+7,r+9),16),i=parseInt(e.slice(r+10,r+12),16),128==(192&s)&&128==(192&o)&&128==(192&i))?((a=n<<18&1835008|s<<12&258048|o<<6&4032|63&i)<65536||1114111<a?c+="\ufffd\ufffd\ufffd\ufffd":(a-=65536,c+=String.fromCharCode(55296+(a>>10),56320+(1023&a))),r+=9):c+="\ufffd";return c})}n.defaultChars=";/?:@&=+$,#",n.componentChars="",r.exports=n},{}],56:[function(e,r,t){"use strict";var l={};function u(e,r,t){var n,s,o,i,a,c="";for("string"!=typeof r&&(t=r,r=u.defaultChars),void 0===t&&(t=!0),a=function(e){var r,t,n=l[e];if(n)return n;for(n=l[e]=[],r=0;r<128;r++)t=String.fromCharCode(r),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2));for(r=0;r<e.length;r++)n[e.charCodeAt(r)]=e[r];return n}(r),n=0,s=e.length;n<s;n++)if(o=e.charCodeAt(n),t&&37===o&&n+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3)))c+=e.slice(n,n+3),n+=2;else if(o<128)c+=a[o];else if(55296<=o&&o<=57343){if(55296<=o&&o<=56319&&n+1<s&&56320<=(i=e.charCodeAt(n+1))&&i<=57343){c+=encodeURIComponent(e[n]+e[n+1]),n++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[n]);return c}u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()",r.exports=u},{}],57:[function(e,r,t){"use strict";r.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?r+="["+e.hostname+"]":r+=e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||""}},{}],58:[function(e,r,t){"use strict";r.exports.encode=e("./encode"),r.exports.decode=e("./decode"),r.exports.format=e("./format"),r.exports.parse=e("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(e,r,t){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var w=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),i=["'"].concat(o),E=["%","/","?",";","#"].concat(i),q=["/","?","#"],S=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,r){var t,n,s,o,i,a=e;if(a=a.trim(),!r&&1===e.split("#").length){var c=D.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=w.exec(a);if(l&&(s=(l=l[0]).toLowerCase(),this.protocol=l,a=a.substr(l.length)),(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(i="//"===a.substr(0,2))||l&&L[l]||(a=a.substr(2),this.slashes=!0)),!L[l]&&(i||l&&!z[l])){var u,p,h=-1;for(t=0;t<q.length;t++)-1!==(o=a.indexOf(q[t]))&&(-1===h||o<h)&&(h=o);for(-1!==(p=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(u=a.slice(0,p),a=a.slice(p+1),this.auth=u),h=-1,t=0;t<E.length;t++)-1!==(o=a.indexOf(E[t]))&&(-1===h||o<h)&&(h=o);-1===h&&(h=a.length),":"===a[h-1]&&h--;var f=a.slice(0,h);a=a.slice(h),this.parseHost(f),this.hostname=this.hostname||"";var d="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!d){var m=this.hostname.split(/\./);for(t=0,n=m.length;t<n;t++){var _=m[t];if(_&&!_.match(S)){for(var g="",b=0,k=_.length;b<k;b++)127<_.charCodeAt(b)?g+="x":g+=_[b];if(!g.match(S)){var v=m.slice(0,t),x=m.slice(t+1),y=_.match(F);y&&(v.push(y[1]),x.unshift(y[2])),x.length&&(a=x.join(".")+a),this.hostname=v.join(".");break}}}}255<this.hostname.length&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var C=a.indexOf("#");-1!==C&&(this.hash=a.substr(C),a=a.slice(0,C));var A=a.indexOf("?");return-1!==A&&(this.search=a.substr(A),a=a.slice(0,A)),a&&(this.pathname=a),z[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var r=s.exec(e);r&&(":"!==(r=r[0])&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)},r.exports=function(e,r){if(e&&e instanceof n)return e;var t=new n;return t.parse(e,r),t}},{}],60:[function(e,z,T){(function(L){!function(e){var r="object"==typeof T&&T&&!T.nodeType&&T,t="object"==typeof z&&z&&!z.nodeType&&z,n="object"==typeof L&&L;n.global!==n&&n.window!==n&&n.self!==n||(e=n);var s,o,g=2147483647,b=36,k=1,v=26,i=38,a=700,x=72,y=128,C="-",c=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=b-k,A=Math.floor,w=String.fromCharCode;function D(e){throw new RangeError(p[e])}function f(e,r){for(var t=e.length,n=[];t--;)n[t]=r(e[t]);return n}function d(e,r){var t=e.split("@"),n="";return 1<t.length&&(n=t[0]+"@",e=t[1]),n+f((e=e.replace(u,".")).split("."),r).join(".")}function E(e){for(var r,t,n=[],s=0,o=e.length;s<o;)55296<=(r=e.charCodeAt(s++))&&r<=56319&&s<o?56320==(64512&(t=e.charCodeAt(s++)))?n.push(((1023&r)<<10)+(1023&t)+65536):(n.push(r),s--):n.push(r);return n}function q(e){return f(e,function(e){var r="";return 65535<e&&(r+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=w(e)}).join("")}function S(e,r){return e+22+75*(e<26)-((0!=r)<<5)}function F(e,r,t){var n=0;for(e=t?A(e/a):e>>1,e+=A(e/r);h*v>>1<e;n+=b)e=A(e/h);return A(n+(h+1)*e/(e+i))}function m(e){var r,t,n,s,o,i,a,c,l,u,p,h=[],f=e.length,d=0,m=y,_=x;for((t=e.lastIndexOf(C))<0&&(t=0),n=0;n<t;++n)128<=e.charCodeAt(n)&&D("not-basic"),h.push(e.charCodeAt(n));for(s=0<t?t+1:0;s<f;){for(o=d,i=1,a=b;f<=s&&D("invalid-input"),p=e.charCodeAt(s++),(b<=(c=p-48<10?p-22:p-65<26?p-65:p-97<26?p-97:b)||c>A((g-d)/i))&&D("overflow"),d+=c*i,!(c<(l=a<=_?k:_+v<=a?v:a-_));a+=b)i>A(g/(u=b-l))&&D("overflow"),i*=u;_=F(d-o,r=h.length+1,0==o),A(d/r)>g-m&&D("overflow"),m+=A(d/r),d%=r,h.splice(d++,0,m)}return q(h)}function _(e){var r,t,n,s,o,i,a,c,l,u,p,h,f,d,m,_=[];for(h=(e=E(e)).length,r=y,o=x,i=t=0;i<h;++i)(p=e[i])<128&&_.push(w(p));for(n=s=_.length,s&&_.push(C);n<h;){for(a=g,i=0;i<h;++i)r<=(p=e[i])&&p<a&&(a=p);for(a-r>A((g-t)/(f=n+1))&&D("overflow"),t+=(a-r)*f,r=a,i=0;i<h;++i)if((p=e[i])<r&&++t>g&&D("overflow"),p==r){for(c=t,l=b;!(c<(u=l<=o?k:o+v<=l?v:l-o));l+=b)m=c-u,d=b-u,_.push(w(S(u+m%d,0))),c=A(m/d);_.push(w(S(c,0))),o=F(t,f,n==s),t=0,++n}++t,++r}return _.join("")}if(s={version:"1.4.1",ucs2:{decode:E,encode:q},decode:m,encode:_,toASCII:function(e){return d(e,function(e){return l.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return d(e,function(e){return c.test(e)?m(e.slice(4).toLowerCase()):e})}},r&&t)if(z.exports==r)t.exports=s;else for(o in s)s.hasOwnProperty(o)&&(r[o]=s[o]);else e.punycode=s}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(e,r,t){r.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(e,r,t){r.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(e,r,t){r.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(e,r,t){r.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(e,r,t){"use strict";t.Any=e("./properties/Any/regex"),t.Cc=e("./categories/Cc/regex"),t.Cf=e("./categories/Cf/regex"),t.P=e("./categories/P/regex"),t.Z=e("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(e,r,t){r.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(e,r,t){"use strict";r.exports=e("./lib/")},{"./lib/":9}]},{},[67])(67)});

/*! markdown-it-emoji 1.3.0 https://github.com//markdown-it/markdown-it-emoji @license MIT */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-emoji",[],a);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.markdownitEmoji=a()}}(function(){return function a(e,n,o){function i(_,t){if(!n[_]){if(!e[_]){var s="function"==typeof require&&require;if(!t&&s)return s(_,!0);if(r)return r(_,!0);var l=new Error("Cannot find module '"+_+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[_]={exports:{}};e[_][0].call(c.exports,function(a){var n=e[_][1][a];return i(n?n:a)},c,c.exports,a,e,n,o)}return n[_].exports}for(var r="function"==typeof require&&require,_=0;_<o.length;_++)i(o[_]);return i}({1:[function(a,e,n){e.exports={100:"\ud83d\udcaf",1234:"\ud83d\udd22",grinning:"\ud83d\ude00",grimacing:"\ud83d\ude2c",grin:"\ud83d\ude01",joy:"\ud83d\ude02",smiley:"\ud83d\ude03",smile:"\ud83d\ude04",sweat_smile:"\ud83d\ude05",laughing:"\ud83d\ude06",satisfied:"\ud83d\ude06",innocent:"\ud83d\ude07",wink:"\ud83d\ude09",blush:"\ud83d\ude0a",slightly_smiling_face:"\ud83d\ude42",upside_down_face:"\ud83d\ude43",relaxed:"\u263a\ufe0f",yum:"\ud83d\ude0b",relieved:"\ud83d\ude0c",heart_eyes:"\ud83d\ude0d",kissing_heart:"\ud83d\ude18",kissing:"\ud83d\ude17",kissing_smiling_eyes:"\ud83d\ude19",kissing_closed_eyes:"\ud83d\ude1a",stuck_out_tongue_winking_eye:"\ud83d\ude1c",stuck_out_tongue_closed_eyes:"\ud83d\ude1d",stuck_out_tongue:"\ud83d\ude1b",money_mouth_face:"\ud83e\udd11",nerd_face:"\ud83e\udd13",sunglasses:"\ud83d\ude0e",hugs:"\ud83e\udd17",smirk:"\ud83d\ude0f",no_mouth:"\ud83d\ude36",neutral_face:"\ud83d\ude10",expressionless:"\ud83d\ude11",unamused:"\ud83d\ude12",roll_eyes:"\ud83d\ude44",thinking:"\ud83e\udd14",flushed:"\ud83d\ude33",disappointed:"\ud83d\ude1e",worried:"\ud83d\ude1f",angry:"\ud83d\ude20",rage:"\ud83d\ude21",pout:"\ud83d\ude21",pensive:"\ud83d\ude14",confused:"\ud83d\ude15",slightly_frowning_face:"\ud83d\ude41",frowning_face:"\u2639\ufe0f",persevere:"\ud83d\ude23",confounded:"\ud83d\ude16",tired_face:"\ud83d\ude2b",weary:"\ud83d\ude29",triumph:"\ud83d\ude24",open_mouth:"\ud83d\ude2e",scream:"\ud83d\ude31",fearful:"\ud83d\ude28",cold_sweat:"\ud83d\ude30",hushed:"\ud83d\ude2f",frowning:"\ud83d\ude26",anguished:"\ud83d\ude27",cry:"\ud83d\ude22",disappointed_relieved:"\ud83d\ude25",sleepy:"\ud83d\ude2a",sweat:"\ud83d\ude13",sob:"\ud83d\ude2d",dizzy_face:"\ud83d\ude35",astonished:"\ud83d\ude32",zipper_mouth_face:"\ud83e\udd10",mask:"\ud83d\ude37",face_with_thermometer:"\ud83e\udd12",face_with_head_bandage:"\ud83e\udd15",sleeping:"\ud83d\ude34",zzz:"\ud83d\udca4",hankey:"\ud83d\udca9",poop:"\ud83d\udca9",shit:"\ud83d\udca9",smiling_imp:"\ud83d\ude08",imp:"\ud83d\udc7f",japanese_ogre:"\ud83d\udc79",japanese_goblin:"\ud83d\udc7a",ghost:"\ud83d\udc7b",skull:"\ud83d\udc80",skull_and_crossbones:"\u2620\ufe0f",alien:"\ud83d\udc7d",space_invader:"\ud83d\udc7e",robot:"\ud83e\udd16",smiley_cat:"\ud83d\ude3a",smile_cat:"\ud83d\ude38",joy_cat:"\ud83d\ude39",heart_eyes_cat:"\ud83d\ude3b",smirk_cat:"\ud83d\ude3c",kissing_cat:"\ud83d\ude3d",scream_cat:"\ud83d\ude40",crying_cat_face:"\ud83d\ude3f",pouting_cat:"\ud83d\ude3e",raised_hands:"\ud83d\ude4c",clap:"\ud83d\udc4f","+1":"\ud83d\udc4d",thumbsup:"\ud83d\udc4d","-1":"\ud83d\udc4e",thumbsdown:"\ud83d\udc4e",facepunch:"\ud83d\udc4a",punch:"\ud83d\udc4a",fist:"\u270a",wave:"\ud83d\udc4b",point_left:"\ud83d\udc48",point_right:"\ud83d\udc49",point_up_2:"\ud83d\udc46",point_down:"\ud83d\udc47",ok_hand:"\ud83d\udc4c",point_up:"\u261d\ufe0f",v:"\u270c\ufe0f",hand:"\u270b",raised_hand:"\u270b",raised_hand_with_fingers_splayed:"\ud83d\udd90",open_hands:"\ud83d\udc50",muscle:"\ud83d\udcaa",pray:"\ud83d\ude4f",vulcan_salute:"\ud83d\udd96",metal:"\ud83e\udd18",middle_finger:"\ud83d\udd95",fu:"\ud83d\udd95",writing_hand:"\u270d\ufe0f",nail_care:"\ud83d\udc85",lips:"\ud83d\udc44",tongue:"\ud83d\udc45",ear:"\ud83d\udc42",nose:"\ud83d\udc43",eye:"\ud83d\udc41",eyes:"\ud83d\udc40",speaking_head:"\ud83d\udde3",bust_in_silhouette:"\ud83d\udc64",busts_in_silhouette:"\ud83d\udc65",baby:"\ud83d\udc76",boy:"\ud83d\udc66",girl:"\ud83d\udc67",man:"\ud83d\udc68",woman:"\ud83d\udc69",blonde_woman:"\ud83d\udc71\u200d\u2640\ufe0f",blonde_man:"\ud83d\udc71",person_with_blond_hair:"\ud83d\udc71",older_man:"\ud83d\udc74",older_woman:"\ud83d\udc75",man_with_gua_pi_mao:"\ud83d\udc72",woman_with_turban:"\ud83d\udc73\u200d\u2640\ufe0f",man_with_turban:"\ud83d\udc73",policewoman:"\ud83d\udc6e\u200d\u2640\ufe0f",policeman:"\ud83d\udc6e",cop:"\ud83d\udc6e",construction_worker_woman:"\ud83d\udc77\u200d\u2640\ufe0f",construction_worker_man:"\ud83d\udc77",construction_worker:"\ud83d\udc77",guardswoman:"\ud83d\udc82\u200d\u2640\ufe0f",guardsman:"\ud83d\udc82",female_detective:"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f",male_detective:"\ud83d\udd75\ufe0f",detective:"\ud83d\udd75\ufe0f",santa:"\ud83c\udf85",princess:"\ud83d\udc78",bride_with_veil:"\ud83d\udc70",angel:"\ud83d\udc7c",bowing_woman:"\ud83d\ude47\u200d\u2640\ufe0f",bowing_man:"\ud83d\ude47",bow:"\ud83d\ude47",tipping_hand_woman:"\ud83d\udc81",information_desk_person:"\ud83d\udc81",tipping_hand_man:"\ud83d\udc81\u200d\u2642\ufe0f",no_good_woman:"\ud83d\ude45",no_good:"\ud83d\ude45",ng_woman:"\ud83d\ude45",no_good_man:"\ud83d\ude45\u200d\u2642\ufe0f",ng_man:"\ud83d\ude45\u200d\u2642\ufe0f",ok_woman:"\ud83d\ude46",ok_man:"\ud83d\ude46\u200d\u2642\ufe0f",raising_hand_woman:"\ud83d\ude4b",raising_hand:"\ud83d\ude4b",raising_hand_man:"\ud83d\ude4b\u200d\u2642\ufe0f",pouting_woman:"\ud83d\ude4e",person_with_pouting_face:"\ud83d\ude4e",pouting_man:"\ud83d\ude4e\u200d\u2642\ufe0f",frowning_woman:"\ud83d\ude4d",person_frowning:"\ud83d\ude4d",frowning_man:"\ud83d\ude4d\u200d\u2642\ufe0f",haircut_woman:"\ud83d\udc87",haircut:"\ud83d\udc87",haircut_man:"\ud83d\udc87\u200d\u2642\ufe0f",massage_woman:"\ud83d\udc86",massage:"\ud83d\udc86",massage_man:"\ud83d\udc86\u200d\u2642\ufe0f",dancer:"\ud83d\udc83",dancing_women:"\ud83d\udc6f",dancers:"\ud83d\udc6f",dancing_men:"\ud83d\udc6f\u200d\u2642\ufe0f",walking_woman:"\ud83d\udeb6\u200d\u2640\ufe0f",walking_man:"\ud83d\udeb6",walking:"\ud83d\udeb6",running_woman:"\ud83c\udfc3\u200d\u2640\ufe0f",running_man:"\ud83c\udfc3",runner:"\ud83c\udfc3",running:"\ud83c\udfc3",couple:"\ud83d\udc6b",two_women_holding_hands:"\ud83d\udc6d",two_men_holding_hands:"\ud83d\udc6c",couple_with_heart_woman_man:"\ud83d\udc91",couple_with_heart:"\ud83d\udc91",couple_with_heart_woman_woman:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69",couple_with_heart_man_man:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68",couplekiss_man_woman:"\ud83d\udc8f",couplekiss_woman_woman:"\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69",couplekiss_man_man:"\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68",family_man_woman_boy:"\ud83d\udc6a",family:"\ud83d\udc6a",family_man_woman_girl:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67",family_man_woman_girl_boy:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_woman_boy_boy:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_woman_girl_girl:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_woman_woman_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66",family_woman_woman_girl:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67",family_woman_woman_girl_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_woman_woman_boy_boy:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_woman_woman_girl_girl:"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_man_man_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66",family_man_man_girl:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67",family_man_man_girl_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_man_boy_boy:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_man_girl_girl:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",family_woman_boy:"\ud83d\udc69\u200d\ud83d\udc66",family_woman_girl:"\ud83d\udc69\u200d\ud83d\udc67",family_woman_girl_boy:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66",family_woman_boy_boy:"\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66",family_woman_girl_girl:"\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67",family_man_boy:"\ud83d\udc68\u200d\ud83d\udc66",family_man_girl:"\ud83d\udc68\u200d\ud83d\udc67",family_man_girl_boy:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66",family_man_boy_boy:"\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66",family_man_girl_girl:"\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67",womans_clothes:"\ud83d\udc5a",shirt:"\ud83d\udc55",tshirt:"\ud83d\udc55",jeans:"\ud83d\udc56",necktie:"\ud83d\udc54",dress:"\ud83d\udc57",bikini:"\ud83d\udc59",kimono:"\ud83d\udc58",lipstick:"\ud83d\udc84",kiss:"\ud83d\udc8b",footprints:"\ud83d\udc63",high_heel:"\ud83d\udc60",sandal:"\ud83d\udc61",boot:"\ud83d\udc62",mans_shoe:"\ud83d\udc5e",shoe:"\ud83d\udc5e",athletic_shoe:"\ud83d\udc5f",womans_hat:"\ud83d\udc52",tophat:"\ud83c\udfa9",mortar_board:"\ud83c\udf93",crown:"\ud83d\udc51",rescue_worker_helmet:"\u26d1",school_satchel:"\ud83c\udf92",pouch:"\ud83d\udc5d",purse:"\ud83d\udc5b",handbag:"\ud83d\udc5c",briefcase:"\ud83d\udcbc",eyeglasses:"\ud83d\udc53",dark_sunglasses:"\ud83d\udd76",ring:"\ud83d\udc8d",closed_umbrella:"\ud83c\udf02",dog:"\ud83d\udc36",cat:"\ud83d\udc31",mouse:"\ud83d\udc2d",hamster:"\ud83d\udc39",rabbit:"\ud83d\udc30",bear:"\ud83d\udc3b",panda_face:"\ud83d\udc3c",koala:"\ud83d\udc28",tiger:"\ud83d\udc2f",lion:"\ud83e\udd81",cow:"\ud83d\udc2e",pig:"\ud83d\udc37",pig_nose:"\ud83d\udc3d",frog:"\ud83d\udc38",octopus:"\ud83d\udc19",monkey_face:"\ud83d\udc35",see_no_evil:"\ud83d\ude48",hear_no_evil:"\ud83d\ude49",speak_no_evil:"\ud83d\ude4a",monkey:"\ud83d\udc12",chicken:"\ud83d\udc14",penguin:"\ud83d\udc27",bird:"\ud83d\udc26",baby_chick:"\ud83d\udc24",hatching_chick:"\ud83d\udc23",hatched_chick:"\ud83d\udc25",wolf:"\ud83d\udc3a",boar:"\ud83d\udc17",horse:"\ud83d\udc34",unicorn:"\ud83e\udd84",bee:"\ud83d\udc1d",honeybee:"\ud83d\udc1d",bug:"\ud83d\udc1b",snail:"\ud83d\udc0c",beetle:"\ud83d\udc1e",ant:"\ud83d\udc1c",spider:"\ud83d\udd77",scorpion:"\ud83e\udd82",crab:"\ud83e\udd80",snake:"\ud83d\udc0d",turtle:"\ud83d\udc22",tropical_fish:"\ud83d\udc20",fish:"\ud83d\udc1f",blowfish:"\ud83d\udc21",dolphin:"\ud83d\udc2c",flipper:"\ud83d\udc2c",whale:"\ud83d\udc33",whale2:"\ud83d\udc0b",crocodile:"\ud83d\udc0a",leopard:"\ud83d\udc06",tiger2:"\ud83d\udc05",water_buffalo:"\ud83d\udc03",ox:"\ud83d\udc02",cow2:"\ud83d\udc04",dromedary_camel:"\ud83d\udc2a",camel:"\ud83d\udc2b",elephant:"\ud83d\udc18",goat:"\ud83d\udc10",ram:"\ud83d\udc0f",sheep:"\ud83d\udc11",racehorse:"\ud83d\udc0e",pig2:"\ud83d\udc16",rat:"\ud83d\udc00",mouse2:"\ud83d\udc01",rooster:"\ud83d\udc13",turkey:"\ud83e\udd83",dove:"\ud83d\udd4a",dog2:"\ud83d\udc15",poodle:"\ud83d\udc29",cat2:"\ud83d\udc08",rabbit2:"\ud83d\udc07",chipmunk:"\ud83d\udc3f",feet:"\ud83d\udc3e",paw_prints:"\ud83d\udc3e",dragon:"\ud83d\udc09",dragon_face:"\ud83d\udc32",cactus:"\ud83c\udf35",christmas_tree:"\ud83c\udf84",evergreen_tree:"\ud83c\udf32",deciduous_tree:"\ud83c\udf33",palm_tree:"\ud83c\udf34",seedling:"\ud83c\udf31",herb:"\ud83c\udf3f",shamrock:"\u2618",four_leaf_clover:"\ud83c\udf40",bamboo:"\ud83c\udf8d",tanabata_tree:"\ud83c\udf8b",leaves:"\ud83c\udf43",fallen_leaf:"\ud83c\udf42",maple_leaf:"\ud83c\udf41",ear_of_rice:"\ud83c\udf3e",hibiscus:"\ud83c\udf3a",sunflower:"\ud83c\udf3b",rose:"\ud83c\udf39",tulip:"\ud83c\udf37",blossom:"\ud83c\udf3c",cherry_blossom:"\ud83c\udf38",bouquet:"\ud83d\udc90",mushroom:"\ud83c\udf44",chestnut:"\ud83c\udf30",jack_o_lantern:"\ud83c\udf83",shell:"\ud83d\udc1a",spider_web:"\ud83d\udd78",earth_americas:"\ud83c\udf0e",earth_africa:"\ud83c\udf0d",earth_asia:"\ud83c\udf0f",full_moon:"\ud83c\udf15",waning_gibbous_moon:"\ud83c\udf16",last_quarter_moon:"\ud83c\udf17",waning_crescent_moon:"\ud83c\udf18",new_moon:"\ud83c\udf11",waxing_crescent_moon:"\ud83c\udf12",first_quarter_moon:"\ud83c\udf13",moon:"\ud83c\udf14",waxing_gibbous_moon:"\ud83c\udf14",new_moon_with_face:"\ud83c\udf1a",full_moon_with_face:"\ud83c\udf1d",first_quarter_moon_with_face:"\ud83c\udf1b",last_quarter_moon_with_face:"\ud83c\udf1c",sun_with_face:"\ud83c\udf1e",crescent_moon:"\ud83c\udf19",star:"\u2b50\ufe0f",star2:"\ud83c\udf1f",dizzy:"\ud83d\udcab",sparkles:"\u2728",comet:"\u2604\ufe0f",sunny:"\u2600\ufe0f",sun_behind_small_cloud:"\ud83c\udf24",partly_sunny:"\u26c5\ufe0f",sun_behind_large_cloud:"\ud83c\udf25",sun_behind_rain_cloud:"\ud83c\udf26",cloud:"\u2601\ufe0f",cloud_with_rain:"\ud83c\udf27",cloud_with_lightning_and_rain:"\u26c8",cloud_with_lightning:"\ud83c\udf29",zap:"\u26a1\ufe0f",fire:"\ud83d\udd25",boom:"\ud83d\udca5",collision:"\ud83d\udca5",snowflake:"\u2744\ufe0f",cloud_with_snow:"\ud83c\udf28",snowman_with_snow:"\u2603\ufe0f",snowman:"\u26c4\ufe0f",wind_face:"\ud83c\udf2c",dash:"\ud83d\udca8",tornado:"\ud83c\udf2a",fog:"\ud83c\udf2b",open_umbrella:"\u2602\ufe0f",umbrella:"\u2614\ufe0f",droplet:"\ud83d\udca7",sweat_drops:"\ud83d\udca6",ocean:"\ud83c\udf0a",green_apple:"\ud83c\udf4f",apple:"\ud83c\udf4e",pear:"\ud83c\udf50",tangerine:"\ud83c\udf4a",orange:"\ud83c\udf4a",mandarin:"\ud83c\udf4a",lemon:"\ud83c\udf4b",banana:"\ud83c\udf4c",watermelon:"\ud83c\udf49",grapes:"\ud83c\udf47",strawberry:"\ud83c\udf53",melon:"\ud83c\udf48",cherries:"\ud83c\udf52",peach:"\ud83c\udf51",pineapple:"\ud83c\udf4d",tomato:"\ud83c\udf45",eggplant:"\ud83c\udf46",hot_pepper:"\ud83c\udf36",corn:"\ud83c\udf3d",sweet_potato:"\ud83c\udf60",honey_pot:"\ud83c\udf6f",bread:"\ud83c\udf5e",cheese:"\ud83e\uddc0",poultry_leg:"\ud83c\udf57",meat_on_bone:"\ud83c\udf56",fried_shrimp:"\ud83c\udf64",egg:"\ud83c\udf73",hamburger:"\ud83c\udf54",fries:"\ud83c\udf5f",hotdog:"\ud83c\udf2d",pizza:"\ud83c\udf55",spaghetti:"\ud83c\udf5d",taco:"\ud83c\udf2e",burrito:"\ud83c\udf2f",ramen:"\ud83c\udf5c",stew:"\ud83c\udf72",fish_cake:"\ud83c\udf65",sushi:"\ud83c\udf63",bento:"\ud83c\udf71",curry:"\ud83c\udf5b",rice_ball:"\ud83c\udf59",rice:"\ud83c\udf5a",rice_cracker:"\ud83c\udf58",oden:"\ud83c\udf62",dango:"\ud83c\udf61",shaved_ice:"\ud83c\udf67",ice_cream:"\ud83c\udf68",icecream:"\ud83c\udf66",cake:"\ud83c\udf70",birthday:"\ud83c\udf82",custard:"\ud83c\udf6e",candy:"\ud83c\udf6c",lollipop:"\ud83c\udf6d",chocolate_bar:"\ud83c\udf6b",popcorn:"\ud83c\udf7f",doughnut:"\ud83c\udf69",cookie:"\ud83c\udf6a",beer:"\ud83c\udf7a",beers:"\ud83c\udf7b",wine_glass:"\ud83c\udf77",cocktail:"\ud83c\udf78",tropical_drink:"\ud83c\udf79",champagne:"\ud83c\udf7e",sake:"\ud83c\udf76",tea:"\ud83c\udf75",coffee:"\u2615\ufe0f",baby_bottle:"\ud83c\udf7c",fork_and_knife:"\ud83c\udf74",plate_with_cutlery:"\ud83c\udf7d",soccer:"\u26bd\ufe0f",basketball:"\ud83c\udfc0",football:"\ud83c\udfc8",baseball:"\u26be\ufe0f",tennis:"\ud83c\udfbe",volleyball:"\ud83c\udfd0",rugby_football:"\ud83c\udfc9","8ball":"\ud83c\udfb1",ping_pong:"\ud83c\udfd3",badminton:"\ud83c\udff8",ice_hockey:"\ud83c\udfd2",field_hockey:"\ud83c\udfd1",cricket:"\ud83c\udfcf",bow_and_arrow:"\ud83c\udff9",golf:"\u26f3\ufe0f",fishing_pole_and_fish:"\ud83c\udfa3",ice_skate:"\u26f8",ski:"\ud83c\udfbf",skier:"\u26f7",snowboarder:"\ud83c\udfc2",weight_lifting_woman:"\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f",weight_lifting_man:"\ud83c\udfcb\ufe0f",basketball_woman:"\u26f9\ufe0f\u200d\u2640\ufe0f",basketball_man:"\u26f9\ufe0f",golfing_woman:"\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f",golfing_man:"\ud83c\udfcc\ufe0f",surfing_woman:"\ud83c\udfc4\u200d\u2640\ufe0f",surfing_man:"\ud83c\udfc4",surfer:"\ud83c\udfc4",swimming_woman:"\ud83c\udfca\u200d\u2640\ufe0f",swimming_man:"\ud83c\udfca",swimmer:"\ud83c\udfca",rowing_woman:"\ud83d\udea3\u200d\u2640\ufe0f",rowing_man:"\ud83d\udea3",rowboat:"\ud83d\udea3",horse_racing:"\ud83c\udfc7",biking_woman:"\ud83d\udeb4\u200d\u2640\ufe0f",biking_man:"\ud83d\udeb4",bicyclist:"\ud83d\udeb4",mountain_biking_woman:"\ud83d\udeb5\u200d\u2640\ufe0f",mountain_biking_man:"\ud83d\udeb5",mountain_bicyclist:"\ud83d\udeb5",bath:"\ud83d\udec0",business_suit_levitating:"\ud83d\udd74",reminder_ribbon:"\ud83c\udf97",running_shirt_with_sash:"\ud83c\udfbd",medal_sports:"\ud83c\udfc5",medal_military:"\ud83c\udf96",trophy:"\ud83c\udfc6",rosette:"\ud83c\udff5",dart:"\ud83c\udfaf",ticket:"\ud83c\udfab",tickets:"\ud83c\udf9f",performing_arts:"\ud83c\udfad",art:"\ud83c\udfa8",circus_tent:"\ud83c\udfaa",clapper:"\ud83c\udfac",microphone:"\ud83c\udfa4",headphones:"\ud83c\udfa7",musical_score:"\ud83c\udfbc",musical_keyboard:"\ud83c\udfb9",saxophone:"\ud83c\udfb7",trumpet:"\ud83c\udfba",guitar:"\ud83c\udfb8",violin:"\ud83c\udfbb",video_game:"\ud83c\udfae",slot_machine:"\ud83c\udfb0",game_die:"\ud83c\udfb2",bowling:"\ud83c\udfb3",car:"\ud83d\ude97",red_car:"\ud83d\ude97",taxi:"\ud83d\ude95",blue_car:"\ud83d\ude99",bus:"\ud83d\ude8c",trolleybus:"\ud83d\ude8e",racing_car:"\ud83c\udfce",police_car:"\ud83d\ude93",ambulance:"\ud83d\ude91",fire_engine:"\ud83d\ude92",minibus:"\ud83d\ude90",truck:"\ud83d\ude9a",articulated_lorry:"\ud83d\ude9b",tractor:"\ud83d\ude9c",motorcycle:"\ud83c\udfcd",bike:"\ud83d\udeb2",rotating_light:"\ud83d\udea8",oncoming_police_car:"\ud83d\ude94",oncoming_bus:"\ud83d\ude8d",oncoming_automobile:"\ud83d\ude98",oncoming_taxi:"\ud83d\ude96",aerial_tramway:"\ud83d\udea1",mountain_cableway:"\ud83d\udea0",suspension_railway:"\ud83d\ude9f",railway_car:"\ud83d\ude83",train:"\ud83d\ude8b",monorail:"\ud83d\ude9d",bullettrain_side:"\ud83d\ude84",bullettrain_front:"\ud83d\ude85",light_rail:"\ud83d\ude88",mountain_railway:"\ud83d\ude9e",steam_locomotive:"\ud83d\ude82",train2:"\ud83d\ude86",metro:"\ud83d\ude87",tram:"\ud83d\ude8a",station:"\ud83d\ude89",helicopter:"\ud83d\ude81",small_airplane:"\ud83d\udee9",airplane:"\u2708\ufe0f",flight_departure:"\ud83d\udeeb",flight_arrival:"\ud83d\udeec",boat:"\u26f5\ufe0f",sailboat:"\u26f5\ufe0f",motor_boat:"\ud83d\udee5",speedboat:"\ud83d\udea4",ferry:"\u26f4",passenger_ship:"\ud83d\udef3",rocket:"\ud83d\ude80",artificial_satellite:"\ud83d\udef0",seat:"\ud83d\udcba",anchor:"\u2693\ufe0f",construction:"\ud83d\udea7",fuelpump:"\u26fd\ufe0f",busstop:"\ud83d\ude8f",vertical_traffic_light:"\ud83d\udea6",traffic_light:"\ud83d\udea5",world_map:"\ud83d\uddfa",ship:"\ud83d\udea2",ferris_wheel:"\ud83c\udfa1",roller_coaster:"\ud83c\udfa2",carousel_horse:"\ud83c\udfa0",building_construction:"\ud83c\udfd7",foggy:"\ud83c\udf01",tokyo_tower:"\ud83d\uddfc",factory:"\ud83c\udfed",fountain:"\u26f2\ufe0f",rice_scene:"\ud83c\udf91",mountain:"\u26f0",mountain_snow:"\ud83c\udfd4",mount_fuji:"\ud83d\uddfb",volcano:"\ud83c\udf0b",japan:"\ud83d\uddfe",camping:"\ud83c\udfd5",tent:"\u26fa\ufe0f",national_park:"\ud83c\udfde",motorway:"\ud83d\udee3",railway_track:"\ud83d\udee4",sunrise:"\ud83c\udf05",sunrise_over_mountains:"\ud83c\udf04",desert:"\ud83c\udfdc",beach_umbrella:"\ud83c\udfd6",desert_island:"\ud83c\udfdd",city_sunrise:"\ud83c\udf07",city_sunset:"\ud83c\udf06",cityscape:"\ud83c\udfd9",night_with_stars:"\ud83c\udf03",bridge_at_night:"\ud83c\udf09",milky_way:"\ud83c\udf0c",stars:"\ud83c\udf20",sparkler:"\ud83c\udf87",fireworks:"\ud83c\udf86",rainbow:"\ud83c\udf08",houses:"\ud83c\udfd8",european_castle:"\ud83c\udff0",japanese_castle:"\ud83c\udfef",stadium:"\ud83c\udfdf",statue_of_liberty:"\ud83d\uddfd",house:"\ud83c\udfe0",house_with_garden:"\ud83c\udfe1",derelict_house:"\ud83c\udfda",office:"\ud83c\udfe2",department_store:"\ud83c\udfec",post_office:"\ud83c\udfe3",european_post_office:"\ud83c\udfe4",hospital:"\ud83c\udfe5",bank:"\ud83c\udfe6",hotel:"\ud83c\udfe8",convenience_store:"\ud83c\udfea",school:"\ud83c\udfeb",love_hotel:"\ud83c\udfe9",wedding:"\ud83d\udc92",classical_building:"\ud83c\udfdb",church:"\u26ea\ufe0f",mosque:"\ud83d\udd4c",synagogue:"\ud83d\udd4d",kaaba:"\ud83d\udd4b",shinto_shrine:"\u26e9",watch:"\u231a\ufe0f",iphone:"\ud83d\udcf1",calling:"\ud83d\udcf2",computer:"\ud83d\udcbb",keyboard:"\u2328\ufe0f",desktop_computer:"\ud83d\udda5",printer:"\ud83d\udda8",computer_mouse:"\ud83d\uddb1",trackball:"\ud83d\uddb2",joystick:"\ud83d\udd79",clamp:"\ud83d\udddc",minidisc:"\ud83d\udcbd",floppy_disk:"\ud83d\udcbe",cd:"\ud83d\udcbf",dvd:"\ud83d\udcc0",vhs:"\ud83d\udcfc",camera:"\ud83d\udcf7",camera_flash:"\ud83d\udcf8",video_camera:"\ud83d\udcf9",movie_camera:"\ud83c\udfa5",film_projector:"\ud83d\udcfd",film_strip:"\ud83c\udf9e",telephone_receiver:"\ud83d\udcde",phone:"\u260e\ufe0f",telephone:"\u260e\ufe0f",pager:"\ud83d\udcdf",fax:"\ud83d\udce0",tv:"\ud83d\udcfa",radio:"\ud83d\udcfb",studio_microphone:"\ud83c\udf99",level_slider:"\ud83c\udf9a",control_knobs:"\ud83c\udf9b",stopwatch:"\u23f1",timer_clock:"\u23f2",alarm_clock:"\u23f0",mantelpiece_clock:"\ud83d\udd70",hourglass_flowing_sand:"\u23f3",hourglass:"\u231b\ufe0f",satellite:"\ud83d\udce1",battery:"\ud83d\udd0b",electric_plug:"\ud83d\udd0c",bulb:"\ud83d\udca1",flashlight:"\ud83d\udd26",candle:"\ud83d\udd6f",wastebasket:"\ud83d\uddd1",oil_drum:"\ud83d\udee2",money_with_wings:"\ud83d\udcb8",dollar:"\ud83d\udcb5",yen:"\ud83d\udcb4",euro:"\ud83d\udcb6",pound:"\ud83d\udcb7",moneybag:"\ud83d\udcb0",credit_card:"\ud83d\udcb3",gem:"\ud83d\udc8e",balance_scale:"\u2696",wrench:"\ud83d\udd27",hammer:"\ud83d\udd28",hammer_and_pick:"\u2692",hammer_and_wrench:"\ud83d\udee0",pick:"\u26cf",nut_and_bolt:"\ud83d\udd29",gear:"\u2699",chains:"\u26d3",gun:"\ud83d\udd2b",bomb:"\ud83d\udca3",hocho:"\ud83d\udd2a",knife:"\ud83d\udd2a",dagger:"\ud83d\udde1",crossed_swords:"\u2694",shield:"\ud83d\udee1",smoking:"\ud83d\udeac",coffin:"\u26b0",funeral_urn:"\u26b1",amphora:"\ud83c\udffa",crystal_ball:"\ud83d\udd2e",prayer_beads:"\ud83d\udcff",barber:"\ud83d\udc88",alembic:"\u2697",telescope:"\ud83d\udd2d",microscope:"\ud83d\udd2c",hole:"\ud83d\udd73",pill:"\ud83d\udc8a",syringe:"\ud83d\udc89",thermometer:"\ud83c\udf21",toilet:"\ud83d\udebd",shower:"\ud83d\udebf",bathtub:"\ud83d\udec1",bellhop_bell:"\ud83d\udece",key:"\ud83d\udd11",old_key:"\ud83d\udddd",door:"\ud83d\udeaa",couch_and_lamp:"\ud83d\udecb",sleeping_bed:"\ud83d\udecc",bed:"\ud83d\udecf",framed_picture:"\ud83d\uddbc",parasol_on_ground:"\u26f1",moyai:"\ud83d\uddff",shopping:"\ud83d\udecd",gift:"\ud83c\udf81",balloon:"\ud83c\udf88",flags:"\ud83c\udf8f",ribbon:"\ud83c\udf80",confetti_ball:"\ud83c\udf8a",tada:"\ud83c\udf89",wind_chime:"\ud83c\udf90",izakaya_lantern:"\ud83c\udfee",lantern:"\ud83c\udfee",dolls:"\ud83c\udf8e",email:"\u2709\ufe0f",envelope:"\u2709\ufe0f",envelope_with_arrow:"\ud83d\udce9",incoming_envelope:"\ud83d\udce8","e-mail":"\ud83d\udce7",love_letter:"\ud83d\udc8c",inbox_tray:"\ud83d\udce5",outbox_tray:"\ud83d\udce4",package:"\ud83d\udce6",label:"\ud83c\udff7",bookmark:"\ud83d\udd16",mailbox_closed:"\ud83d\udcea",mailbox:"\ud83d\udceb",mailbox_with_mail:"\ud83d\udcec",mailbox_with_no_mail:"\ud83d\udced",postbox:"\ud83d\udcee",postal_horn:"\ud83d\udcef",scroll:"\ud83d\udcdc",page_with_curl:"\ud83d\udcc3",page_facing_up:"\ud83d\udcc4",bookmark_tabs:"\ud83d\udcd1",bar_chart:"\ud83d\udcca",chart_with_upwards_trend:"\ud83d\udcc8",chart_with_downwards_trend:"\ud83d\udcc9",spiral_notepad:"\ud83d\uddd2",spiral_calendar:"\ud83d\uddd3",calendar:"\ud83d\udcc6",date:"\ud83d\udcc5",card_index:"\ud83d\udcc7",card_file_box:"\ud83d\uddc3",ballot_box:"\ud83d\uddf3",file_cabinet:"\ud83d\uddc4",clipboard:"\ud83d\udccb",file_folder:"\ud83d\udcc1",open_file_folder:"\ud83d\udcc2",card_index_dividers:"\ud83d\uddc2",newspaper_roll:"\ud83d\uddde",newspaper:"\ud83d\udcf0",notebook:"\ud83d\udcd3",notebook_with_decorative_cover:"\ud83d\udcd4",ledger:"\ud83d\udcd2",closed_book:"\ud83d\udcd5",green_book:"\ud83d\udcd7",blue_book:"\ud83d\udcd8",orange_book:"\ud83d\udcd9",books:"\ud83d\udcda",book:"\ud83d\udcd6",open_book:"\ud83d\udcd6",link:"\ud83d\udd17",paperclip:"\ud83d\udcce",paperclips:"\ud83d\udd87",triangular_ruler:"\ud83d\udcd0",straight_ruler:"\ud83d\udccf",scissors:"\u2702\ufe0f",pushpin:"\ud83d\udccc",round_pushpin:"\ud83d\udccd",triangular_flag_on_post:"\ud83d\udea9",crossed_flags:"\ud83c\udf8c",white_flag:"\ud83c\udff3\ufe0f",black_flag:"\ud83c\udff4",checkered_flag:"\ud83c\udfc1",rainbow_flag:"\ud83c\udff3\ufe0f\u200d\ud83c\udf08",paintbrush:"\ud83d\udd8c",crayon:"\ud83d\udd8d",pen:"\ud83d\udd8a",fountain_pen:"\ud83d\udd8b",black_nib:"\u2712\ufe0f",memo:"\ud83d\udcdd",pencil:"\ud83d\udcdd",pencil2:"\u270f\ufe0f",lock_with_ink_pen:"\ud83d\udd0f",closed_lock_with_key:"\ud83d\udd10",lock:"\ud83d\udd12",unlock:"\ud83d\udd13",mag:"\ud83d\udd0d",mag_right:"\ud83d\udd0e",heart:"\u2764\ufe0f",yellow_heart:"\ud83d\udc9b",green_heart:"\ud83d\udc9a",blue_heart:"\ud83d\udc99",purple_heart:"\ud83d\udc9c",broken_heart:"\ud83d\udc94",heavy_heart_exclamation:"\u2763\ufe0f",two_hearts:"\ud83d\udc95",revolving_hearts:"\ud83d\udc9e",heartbeat:"\ud83d\udc93",heartpulse:"\ud83d\udc97",sparkling_heart:"\ud83d\udc96",cupid:"\ud83d\udc98",gift_heart:"\ud83d\udc9d",heart_decoration:"\ud83d\udc9f",peace_symbol:"\u262e\ufe0f",latin_cross:"\u271d\ufe0f",star_and_crescent:"\u262a\ufe0f",om:"\ud83d\udd49",wheel_of_dharma:"\u2638\ufe0f",star_of_david:"\u2721\ufe0f",six_pointed_star:"\ud83d\udd2f",menorah:"\ud83d\udd4e",yin_yang:"\u262f\ufe0f",orthodox_cross:"\u2626\ufe0f",place_of_worship:"\ud83d\uded0",ophiuchus:"\u26ce",aries:"\u2648\ufe0f",taurus:"\u2649\ufe0f",gemini:"\u264a\ufe0f",cancer:"\u264b\ufe0f",leo:"\u264c\ufe0f",virgo:"\u264d\ufe0f",libra:"\u264e\ufe0f",scorpius:"\u264f\ufe0f",sagittarius:"\u2650\ufe0f",capricorn:"\u2651\ufe0f",aquarius:"\u2652\ufe0f",pisces:"\u2653\ufe0f",id:"\ud83c\udd94",atom_symbol:"\u269b",radioactive:"\u2622\ufe0f",biohazard:"\u2623\ufe0f",mobile_phone_off:"\ud83d\udcf4",vibration_mode:"\ud83d\udcf3",eight_pointed_black_star:"\u2734\ufe0f",vs:"\ud83c\udd9a",accept:"\ud83c\ude51",white_flower:"\ud83d\udcae",ideograph_advantage:"\ud83c\ude50",secret:"\u3299\ufe0f",congratulations:"\u3297\ufe0f",u6e80:"\ud83c\ude35",a:"\ud83c\udd70\ufe0f",b:"\ud83c\udd71\ufe0f",ab:"\ud83c\udd8e",cl:"\ud83c\udd91",o2:"\ud83c\udd7e\ufe0f",sos:"\ud83c\udd98",no_entry:"\u26d4\ufe0f",name_badge:"\ud83d\udcdb",no_entry_sign:"\ud83d\udeab",x:"\u274c",o:"\u2b55\ufe0f",anger:"\ud83d\udca2",hotsprings:"\u2668\ufe0f",no_pedestrians:"\ud83d\udeb7",do_not_litter:"\ud83d\udeaf",no_bicycles:"\ud83d\udeb3","non-potable_water":"\ud83d\udeb1",underage:"\ud83d\udd1e",no_mobile_phones:"\ud83d\udcf5",exclamation:"\u2757\ufe0f",heavy_exclamation_mark:"\u2757\ufe0f",grey_exclamation:"\u2755",question:"\u2753",grey_question:"\u2754",bangbang:"\u203c\ufe0f",interrobang:"\u2049\ufe0f",low_brightness:"\ud83d\udd05",high_brightness:"\ud83d\udd06",trident:"\ud83d\udd31",fleur_de_lis:"\u269c",part_alternation_mark:"\u303d\ufe0f",warning:"\u26a0\ufe0f",children_crossing:"\ud83d\udeb8",beginner:"\ud83d\udd30",recycle:"\u267b\ufe0f",chart:"\ud83d\udcb9",sparkle:"\u2747\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",negative_squared_cross_mark:"\u274e",white_check_mark:"\u2705",globe_with_meridians:"\ud83c\udf10",m:"\u24c2\ufe0f",diamond_shape_with_a_dot_inside:"\ud83d\udca0",cyclone:"\ud83c\udf00",loop:"\u27bf",atm:"\ud83c\udfe7",sa:"\ud83c\ude02\ufe0f",passport_control:"\ud83d\udec2",customs:"\ud83d\udec3",baggage_claim:"\ud83d\udec4",left_luggage:"\ud83d\udec5",wheelchair:"\u267f\ufe0f",no_smoking:"\ud83d\udead",wc:"\ud83d\udebe",parking:"\ud83c\udd7f\ufe0f",potable_water:"\ud83d\udeb0",mens:"\ud83d\udeb9",womens:"\ud83d\udeba",baby_symbol:"\ud83d\udebc",restroom:"\ud83d\udebb",put_litter_in_its_place:"\ud83d\udeae",cinema:"\ud83c\udfa6",signal_strength:"\ud83d\udcf6",koko:"\ud83c\ude01",abc:"\ud83d\udd24",abcd:"\ud83d\udd21",capital_abcd:"\ud83d\udd20",symbols:"\ud83d\udd23",information_source:"\u2139\ufe0f",ng:"\ud83c\udd96",ok:"\ud83c\udd97",up:"\ud83c\udd99",cool:"\ud83c\udd92",new:"\ud83c\udd95",free:"\ud83c\udd93",zero:"0\ufe0f\u20e3",one:"1\ufe0f\u20e3",two:"2\ufe0f\u20e3",three:"3\ufe0f\u20e3",four:"4\ufe0f\u20e3",five:"5\ufe0f\u20e3",six:"6\ufe0f\u20e3",seven:"7\ufe0f\u20e3",eight:"8\ufe0f\u20e3",nine:"9\ufe0f\u20e3",keycap_ten:"\ud83d\udd1f",hash:"#\ufe0f\u20e3",asterisk:"*\ufe0f\u20e3",arrow_forward:"\u25b6\ufe0f",pause_button:"\u23f8",play_or_pause_button:"\u23ef",stop_button:"\u23f9",record_button:"\u23fa",next_track_button:"\u23ed",previous_track_button:"\u23ee",fast_forward:"\u23e9",rewind:"\u23ea",arrow_double_up:"\u23eb",arrow_double_down:"\u23ec",arrow_backward:"\u25c0\ufe0f",arrow_up_small:"\ud83d\udd3c",arrow_down_small:"\ud83d\udd3d",arrow_right:"\u27a1\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_down:"\u2b07\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_upper_left:"\u2196\ufe0f",arrow_up_down:"\u2195\ufe0f",left_right_arrow:"\u2194\ufe0f",arrow_right_hook:"\u21aa\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_heading_down:"\u2935\ufe0f",twisted_rightwards_arrows:"\ud83d\udd00",repeat:"\ud83d\udd01",repeat_one:"\ud83d\udd02",arrows_counterclockwise:"\ud83d\udd04",arrows_clockwise:"\ud83d\udd03",musical_note:"\ud83c\udfb5",notes:"\ud83c\udfb6",wavy_dash:"\u3030\ufe0f",curly_loop:"\u27b0",heavy_check_mark:"\u2714\ufe0f",heavy_plus_sign:"\u2795",heavy_minus_sign:"\u2796",heavy_division_sign:"\u2797",heavy_multiplication_x:"\u2716\ufe0f",heavy_dollar_sign:"\ud83d\udcb2",currency_exchange:"\ud83d\udcb1",tm:"\u2122\ufe0f",copyright:"\xa9\ufe0f",registered:"\xae\ufe0f",end:"\ud83d\udd1a",back:"\ud83d\udd19",on:"\ud83d\udd1b",top:"\ud83d\udd1d",soon:"\ud83d\udd1c",ballot_box_with_check:"\u2611\ufe0f",radio_button:"\ud83d\udd18",white_circle:"\u26aa\ufe0f",black_circle:"\u26ab\ufe0f",red_circle:"\ud83d\udd34",large_blue_circle:"\ud83d\udd35",small_red_triangle:"\ud83d\udd3a",small_red_triangle_down:"\ud83d\udd3b",small_orange_diamond:"\ud83d\udd38",small_blue_diamond:"\ud83d\udd39",large_orange_diamond:"\ud83d\udd36",large_blue_diamond:"\ud83d\udd37",white_square_button:"\ud83d\udd33",black_square_button:"\ud83d\udd32",black_small_square:"\u25aa\ufe0f",white_small_square:"\u25ab\ufe0f",black_medium_small_square:"\u25fe\ufe0f",white_medium_small_square:"\u25fd\ufe0f",black_medium_square:"\u25fc\ufe0f",white_medium_square:"\u25fb\ufe0f",black_large_square:"\u2b1b\ufe0f",white_large_square:"\u2b1c\ufe0f",mute:"\ud83d\udd07",speaker:"\ud83d\udd08",sound:"\ud83d\udd09",loud_sound:"\ud83d\udd0a",no_bell:"\ud83d\udd15",bell:"\ud83d\udd14",mega:"\ud83d\udce3",loudspeaker:"\ud83d\udce2",eye_speech_bubble:"\ud83d\udc41\u200d\ud83d\udde8",speech_balloon:"\ud83d\udcac",thought_balloon:"\ud83d\udcad",right_anger_bubble:"\ud83d\uddef",black_joker:"\ud83c\udccf",mahjong:"\ud83c\udc04\ufe0f",flower_playing_cards:"\ud83c\udfb4",spades:"\u2660\ufe0f",clubs:"\u2663\ufe0f",hearts:"\u2665\ufe0f",diamonds:"\u2666\ufe0f",clock1:"\ud83d\udd50",clock2:"\ud83d\udd51",clock3:"\ud83d\udd52",clock4:"\ud83d\udd53",clock5:"\ud83d\udd54",clock6:"\ud83d\udd55",clock7:"\ud83d\udd56",clock8:"\ud83d\udd57",clock9:"\ud83d\udd58",clock10:"\ud83d\udd59",clock11:"\ud83d\udd5a",clock12:"\ud83d\udd5b",clock130:"\ud83d\udd5c",clock230:"\ud83d\udd5d",clock330:"\ud83d\udd5e",clock430:"\ud83d\udd5f",clock530:"\ud83d\udd60",clock630:"\ud83d\udd61",clock730:"\ud83d\udd62",clock830:"\ud83d\udd63",clock930:"\ud83d\udd64",clock1030:"\ud83d\udd65",clock1130:"\ud83d\udd66",clock1230:"\ud83d\udd67",afghanistan:"\ud83c\udde6\ud83c\uddeb",aland_islands:"\ud83c\udde6\ud83c\uddfd",albania:"\ud83c\udde6\ud83c\uddf1",algeria:"\ud83c\udde9\ud83c\uddff",american_samoa:"\ud83c\udde6\ud83c\uddf8",andorra:"\ud83c\udde6\ud83c\udde9",angola:"\ud83c\udde6\ud83c\uddf4",anguilla:"\ud83c\udde6\ud83c\uddee",antarctica:"\ud83c\udde6\ud83c\uddf6",antigua_barbuda:"\ud83c\udde6\ud83c\uddec",argentina:"\ud83c\udde6\ud83c\uddf7",armenia:"\ud83c\udde6\ud83c\uddf2",aruba:"\ud83c\udde6\ud83c\uddfc",australia:"\ud83c\udde6\ud83c\uddfa",austria:"\ud83c\udde6\ud83c\uddf9",azerbaijan:"\ud83c\udde6\ud83c\uddff",bahamas:"\ud83c\udde7\ud83c\uddf8",
bahrain:"\ud83c\udde7\ud83c\udded",bangladesh:"\ud83c\udde7\ud83c\udde9",barbados:"\ud83c\udde7\ud83c\udde7",belarus:"\ud83c\udde7\ud83c\uddfe",belgium:"\ud83c\udde7\ud83c\uddea",belize:"\ud83c\udde7\ud83c\uddff",benin:"\ud83c\udde7\ud83c\uddef",bermuda:"\ud83c\udde7\ud83c\uddf2",bhutan:"\ud83c\udde7\ud83c\uddf9",bolivia:"\ud83c\udde7\ud83c\uddf4",caribbean_netherlands:"\ud83c\udde7\ud83c\uddf6",bosnia_herzegovina:"\ud83c\udde7\ud83c\udde6",botswana:"\ud83c\udde7\ud83c\uddfc",brazil:"\ud83c\udde7\ud83c\uddf7",british_indian_ocean_territory:"\ud83c\uddee\ud83c\uddf4",british_virgin_islands:"\ud83c\uddfb\ud83c\uddec",brunei:"\ud83c\udde7\ud83c\uddf3",bulgaria:"\ud83c\udde7\ud83c\uddec",burkina_faso:"\ud83c\udde7\ud83c\uddeb",burundi:"\ud83c\udde7\ud83c\uddee",cape_verde:"\ud83c\udde8\ud83c\uddfb",cambodia:"\ud83c\uddf0\ud83c\udded",cameroon:"\ud83c\udde8\ud83c\uddf2",canada:"\ud83c\udde8\ud83c\udde6",canary_islands:"\ud83c\uddee\ud83c\udde8",cayman_islands:"\ud83c\uddf0\ud83c\uddfe",central_african_republic:"\ud83c\udde8\ud83c\uddeb",chad:"\ud83c\uddf9\ud83c\udde9",chile:"\ud83c\udde8\ud83c\uddf1",cn:"\ud83c\udde8\ud83c\uddf3",christmas_island:"\ud83c\udde8\ud83c\uddfd",cocos_islands:"\ud83c\udde8\ud83c\udde8",colombia:"\ud83c\udde8\ud83c\uddf4",comoros:"\ud83c\uddf0\ud83c\uddf2",congo_brazzaville:"\ud83c\udde8\ud83c\uddec",congo_kinshasa:"\ud83c\udde8\ud83c\udde9",cook_islands:"\ud83c\udde8\ud83c\uddf0",costa_rica:"\ud83c\udde8\ud83c\uddf7",croatia:"\ud83c\udded\ud83c\uddf7",cuba:"\ud83c\udde8\ud83c\uddfa",curacao:"\ud83c\udde8\ud83c\uddfc",cyprus:"\ud83c\udde8\ud83c\uddfe",czech_republic:"\ud83c\udde8\ud83c\uddff",denmark:"\ud83c\udde9\ud83c\uddf0",djibouti:"\ud83c\udde9\ud83c\uddef",dominica:"\ud83c\udde9\ud83c\uddf2",dominican_republic:"\ud83c\udde9\ud83c\uddf4",ecuador:"\ud83c\uddea\ud83c\udde8",egypt:"\ud83c\uddea\ud83c\uddec",el_salvador:"\ud83c\uddf8\ud83c\uddfb",equatorial_guinea:"\ud83c\uddec\ud83c\uddf6",eritrea:"\ud83c\uddea\ud83c\uddf7",estonia:"\ud83c\uddea\ud83c\uddea",ethiopia:"\ud83c\uddea\ud83c\uddf9",eu:"\ud83c\uddea\ud83c\uddfa",european_union:"\ud83c\uddea\ud83c\uddfa",falkland_islands:"\ud83c\uddeb\ud83c\uddf0",faroe_islands:"\ud83c\uddeb\ud83c\uddf4",fiji:"\ud83c\uddeb\ud83c\uddef",finland:"\ud83c\uddeb\ud83c\uddee",fr:"\ud83c\uddeb\ud83c\uddf7",french_guiana:"\ud83c\uddec\ud83c\uddeb",french_polynesia:"\ud83c\uddf5\ud83c\uddeb",french_southern_territories:"\ud83c\uddf9\ud83c\uddeb",gabon:"\ud83c\uddec\ud83c\udde6",gambia:"\ud83c\uddec\ud83c\uddf2",georgia:"\ud83c\uddec\ud83c\uddea",de:"\ud83c\udde9\ud83c\uddea",ghana:"\ud83c\uddec\ud83c\udded",gibraltar:"\ud83c\uddec\ud83c\uddee",greece:"\ud83c\uddec\ud83c\uddf7",greenland:"\ud83c\uddec\ud83c\uddf1",grenada:"\ud83c\uddec\ud83c\udde9",guadeloupe:"\ud83c\uddec\ud83c\uddf5",guam:"\ud83c\uddec\ud83c\uddfa",guatemala:"\ud83c\uddec\ud83c\uddf9",guernsey:"\ud83c\uddec\ud83c\uddec",guinea:"\ud83c\uddec\ud83c\uddf3",guinea_bissau:"\ud83c\uddec\ud83c\uddfc",guyana:"\ud83c\uddec\ud83c\uddfe",haiti:"\ud83c\udded\ud83c\uddf9",honduras:"\ud83c\udded\ud83c\uddf3",hong_kong:"\ud83c\udded\ud83c\uddf0",hungary:"\ud83c\udded\ud83c\uddfa",iceland:"\ud83c\uddee\ud83c\uddf8",india:"\ud83c\uddee\ud83c\uddf3",indonesia:"\ud83c\uddee\ud83c\udde9",iran:"\ud83c\uddee\ud83c\uddf7",iraq:"\ud83c\uddee\ud83c\uddf6",ireland:"\ud83c\uddee\ud83c\uddea",isle_of_man:"\ud83c\uddee\ud83c\uddf2",israel:"\ud83c\uddee\ud83c\uddf1",it:"\ud83c\uddee\ud83c\uddf9",cote_divoire:"\ud83c\udde8\ud83c\uddee",jamaica:"\ud83c\uddef\ud83c\uddf2",jp:"\ud83c\uddef\ud83c\uddf5",jersey:"\ud83c\uddef\ud83c\uddea",jordan:"\ud83c\uddef\ud83c\uddf4",kazakhstan:"\ud83c\uddf0\ud83c\uddff",kenya:"\ud83c\uddf0\ud83c\uddea",kiribati:"\ud83c\uddf0\ud83c\uddee",kosovo:"\ud83c\uddfd\ud83c\uddf0",kuwait:"\ud83c\uddf0\ud83c\uddfc",kyrgyzstan:"\ud83c\uddf0\ud83c\uddec",laos:"\ud83c\uddf1\ud83c\udde6",latvia:"\ud83c\uddf1\ud83c\uddfb",lebanon:"\ud83c\uddf1\ud83c\udde7",lesotho:"\ud83c\uddf1\ud83c\uddf8",liberia:"\ud83c\uddf1\ud83c\uddf7",libya:"\ud83c\uddf1\ud83c\uddfe",liechtenstein:"\ud83c\uddf1\ud83c\uddee",lithuania:"\ud83c\uddf1\ud83c\uddf9",luxembourg:"\ud83c\uddf1\ud83c\uddfa",macau:"\ud83c\uddf2\ud83c\uddf4",macedonia:"\ud83c\uddf2\ud83c\uddf0",madagascar:"\ud83c\uddf2\ud83c\uddec",malawi:"\ud83c\uddf2\ud83c\uddfc",malaysia:"\ud83c\uddf2\ud83c\uddfe",maldives:"\ud83c\uddf2\ud83c\uddfb",mali:"\ud83c\uddf2\ud83c\uddf1",malta:"\ud83c\uddf2\ud83c\uddf9",marshall_islands:"\ud83c\uddf2\ud83c\udded",martinique:"\ud83c\uddf2\ud83c\uddf6",mauritania:"\ud83c\uddf2\ud83c\uddf7",mauritius:"\ud83c\uddf2\ud83c\uddfa",mayotte:"\ud83c\uddfe\ud83c\uddf9",mexico:"\ud83c\uddf2\ud83c\uddfd",micronesia:"\ud83c\uddeb\ud83c\uddf2",moldova:"\ud83c\uddf2\ud83c\udde9",monaco:"\ud83c\uddf2\ud83c\udde8",mongolia:"\ud83c\uddf2\ud83c\uddf3",montenegro:"\ud83c\uddf2\ud83c\uddea",montserrat:"\ud83c\uddf2\ud83c\uddf8",morocco:"\ud83c\uddf2\ud83c\udde6",mozambique:"\ud83c\uddf2\ud83c\uddff",myanmar:"\ud83c\uddf2\ud83c\uddf2",namibia:"\ud83c\uddf3\ud83c\udde6",nauru:"\ud83c\uddf3\ud83c\uddf7",nepal:"\ud83c\uddf3\ud83c\uddf5",netherlands:"\ud83c\uddf3\ud83c\uddf1",new_caledonia:"\ud83c\uddf3\ud83c\udde8",new_zealand:"\ud83c\uddf3\ud83c\uddff",nicaragua:"\ud83c\uddf3\ud83c\uddee",niger:"\ud83c\uddf3\ud83c\uddea",nigeria:"\ud83c\uddf3\ud83c\uddec",niue:"\ud83c\uddf3\ud83c\uddfa",norfolk_island:"\ud83c\uddf3\ud83c\uddeb",northern_mariana_islands:"\ud83c\uddf2\ud83c\uddf5",north_korea:"\ud83c\uddf0\ud83c\uddf5",norway:"\ud83c\uddf3\ud83c\uddf4",oman:"\ud83c\uddf4\ud83c\uddf2",pakistan:"\ud83c\uddf5\ud83c\uddf0",palau:"\ud83c\uddf5\ud83c\uddfc",palestinian_territories:"\ud83c\uddf5\ud83c\uddf8",panama:"\ud83c\uddf5\ud83c\udde6",papua_new_guinea:"\ud83c\uddf5\ud83c\uddec",paraguay:"\ud83c\uddf5\ud83c\uddfe",peru:"\ud83c\uddf5\ud83c\uddea",philippines:"\ud83c\uddf5\ud83c\udded",pitcairn_islands:"\ud83c\uddf5\ud83c\uddf3",poland:"\ud83c\uddf5\ud83c\uddf1",portugal:"\ud83c\uddf5\ud83c\uddf9",puerto_rico:"\ud83c\uddf5\ud83c\uddf7",qatar:"\ud83c\uddf6\ud83c\udde6",reunion:"\ud83c\uddf7\ud83c\uddea",romania:"\ud83c\uddf7\ud83c\uddf4",ru:"\ud83c\uddf7\ud83c\uddfa",rwanda:"\ud83c\uddf7\ud83c\uddfc",st_barthelemy:"\ud83c\udde7\ud83c\uddf1",st_helena:"\ud83c\uddf8\ud83c\udded",st_kitts_nevis:"\ud83c\uddf0\ud83c\uddf3",st_lucia:"\ud83c\uddf1\ud83c\udde8",st_pierre_miquelon:"\ud83c\uddf5\ud83c\uddf2",st_vincent_grenadines:"\ud83c\uddfb\ud83c\udde8",samoa:"\ud83c\uddfc\ud83c\uddf8",san_marino:"\ud83c\uddf8\ud83c\uddf2",sao_tome_principe:"\ud83c\uddf8\ud83c\uddf9",saudi_arabia:"\ud83c\uddf8\ud83c\udde6",senegal:"\ud83c\uddf8\ud83c\uddf3",serbia:"\ud83c\uddf7\ud83c\uddf8",seychelles:"\ud83c\uddf8\ud83c\udde8",sierra_leone:"\ud83c\uddf8\ud83c\uddf1",singapore:"\ud83c\uddf8\ud83c\uddec",sint_maarten:"\ud83c\uddf8\ud83c\uddfd",slovakia:"\ud83c\uddf8\ud83c\uddf0",slovenia:"\ud83c\uddf8\ud83c\uddee",solomon_islands:"\ud83c\uddf8\ud83c\udde7",somalia:"\ud83c\uddf8\ud83c\uddf4",south_africa:"\ud83c\uddff\ud83c\udde6",south_georgia_south_sandwich_islands:"\ud83c\uddec\ud83c\uddf8",kr:"\ud83c\uddf0\ud83c\uddf7",south_sudan:"\ud83c\uddf8\ud83c\uddf8",es:"\ud83c\uddea\ud83c\uddf8",sri_lanka:"\ud83c\uddf1\ud83c\uddf0",sudan:"\ud83c\uddf8\ud83c\udde9",suriname:"\ud83c\uddf8\ud83c\uddf7",swaziland:"\ud83c\uddf8\ud83c\uddff",sweden:"\ud83c\uddf8\ud83c\uddea",switzerland:"\ud83c\udde8\ud83c\udded",syria:"\ud83c\uddf8\ud83c\uddfe",taiwan:"\ud83c\uddf9\ud83c\uddfc",tajikistan:"\ud83c\uddf9\ud83c\uddef",tanzania:"\ud83c\uddf9\ud83c\uddff",thailand:"\ud83c\uddf9\ud83c\udded",timor_leste:"\ud83c\uddf9\ud83c\uddf1",togo:"\ud83c\uddf9\ud83c\uddec",tokelau:"\ud83c\uddf9\ud83c\uddf0",tonga:"\ud83c\uddf9\ud83c\uddf4",trinidad_tobago:"\ud83c\uddf9\ud83c\uddf9",tunisia:"\ud83c\uddf9\ud83c\uddf3",tr:"\ud83c\uddf9\ud83c\uddf7",turkmenistan:"\ud83c\uddf9\ud83c\uddf2",turks_caicos_islands:"\ud83c\uddf9\ud83c\udde8",tuvalu:"\ud83c\uddf9\ud83c\uddfb",uganda:"\ud83c\uddfa\ud83c\uddec",ukraine:"\ud83c\uddfa\ud83c\udde6",united_arab_emirates:"\ud83c\udde6\ud83c\uddea",gb:"\ud83c\uddec\ud83c\udde7",uk:"\ud83c\uddec\ud83c\udde7",us:"\ud83c\uddfa\ud83c\uddf8",us_virgin_islands:"\ud83c\uddfb\ud83c\uddee",uruguay:"\ud83c\uddfa\ud83c\uddfe",uzbekistan:"\ud83c\uddfa\ud83c\uddff",vanuatu:"\ud83c\uddfb\ud83c\uddfa",vatican_city:"\ud83c\uddfb\ud83c\udde6",venezuela:"\ud83c\uddfb\ud83c\uddea",vietnam:"\ud83c\uddfb\ud83c\uddf3",wallis_futuna:"\ud83c\uddfc\ud83c\uddeb",western_sahara:"\ud83c\uddea\ud83c\udded",yemen:"\ud83c\uddfe\ud83c\uddea",zambia:"\ud83c\uddff\ud83c\uddf2",zimbabwe:"\ud83c\uddff\ud83c\uddfc"}},{}],2:[function(a,e,n){"use strict";e.exports={angry:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":/",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]}},{}],3:[function(a,e,n){"use strict";function o(a){return a.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}e.exports=function(a){var e,n=a.defs;a.enabled.length&&(n=Object.keys(n).reduce(function(e,o){return a.enabled.indexOf(o)>=0&&(e[o]=n[o]),e},{})),e=Object.keys(a.shortcuts).reduce(function(e,o){return n[o]?Array.isArray(a.shortcuts[o])?(a.shortcuts[o].forEach(function(a){e[a]=o}),e):(e[a.shortcuts[o]]=o,e):e},{});var i=Object.keys(n).map(function(a){return":"+a+":"}).concat(Object.keys(e)).sort().reverse().map(function(a){return o(a)}).join("|"),r=RegExp(i),_=RegExp(i,"g");return{defs:n,shortcuts:e,scanRE:r,replaceRE:_}}},{}],4:[function(a,e,n){"use strict";e.exports=function(a,e){return a[e].content}},{}],5:[function(a,e,n){"use strict";e.exports=function(a,e,n,o,i){function r(a,o,r){var _,t=0,l=[];return a.replace(i,function(o,i,c){var u;if(n.hasOwnProperty(o)){if(u=n[o],i>0&&!s.test(c[i-1]))return;if(i+o.length<c.length&&!s.test(c[i+o.length]))return}else u=o.slice(1,-1);i>t&&(_=new r("text","",0),_.content=a.slice(t,i),l.push(_)),_=new r("emoji","",0),_.markup=u,_.content=e[u],l.push(_),t=i+o.length}),t<a.length&&(_=new r("text","",0),_.content=a.slice(t),l.push(_)),l}var _=a.utils.arrayReplaceAt,t=a.utils.lib.ucmicro,s=new RegExp([t.Z.source,t.P.source,t.Cc.source].join("|"));return function(a){var e,n,i,t,s,l=a.tokens,c=0;for(n=0,i=l.length;n<i;n++)if("inline"===l[n].type)for(t=l[n].children,e=t.length-1;e>=0;e--)s=t[e],"link_open"!==s.type&&"link_close"!==s.type||"auto"===s.info&&(c-=s.nesting),"text"===s.type&&o.test(s.content)&&0===c&&(l[n].children=t=_(t,e,r(s.content,s.level,a.Token)))}}},{}],6:[function(a,e,n){"use strict";var o=a("./lib/data/full.json"),i=a("./lib/data/shortcuts"),r=a("./lib/render"),_=a("./lib/replace"),t=a("./lib/normalize_opts");e.exports=function(a,e){var n={defs:o,shortcuts:i,enabled:[]},s=t(a.utils.assign({},n,e||{}));a.renderer.rules.emoji=r,a.core.ruler.push("emoji",_(a,s.defs,s.shortcuts,s.scanRE,s.replaceRE))}},{"./lib/data/full.json":1,"./lib/data/shortcuts":2,"./lib/normalize_opts":3,"./lib/render":4,"./lib/replace":5}]},{},[6])(6)});

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define("3rdParty/markdown-it-imsize",factory);else if(typeof exports==="object")exports["markdown-it-imsize.js"]=factory();else root["markdown-it-imsize.js"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var sizeOf=__webpack_require__(2);var parseImageSize=__webpack_require__(1);function image_with_size(md,options){return function(state,silent){var attrs,code,label,labelEnd,labelStart,pos,ref,res,title,width="",height="",token,tokens,start,href="",oldPos=state.pos,max=state.posMax;if(state.src.charCodeAt(state.pos)!==33){return false}if(state.src.charCodeAt(state.pos+1)!==91){return false}labelStart=state.pos+2;labelEnd=md.helpers.parseLinkLabel(state,state.pos+1,false);if(labelEnd<0){return false}pos=labelEnd+1;if(pos<max&&state.src.charCodeAt(pos)===40){pos++;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}if(pos>=max){return false}start=pos;res=md.helpers.parseLinkDestination(state.src,pos,state.posMax);if(res.ok){href=state.md.normalizeLink(res.str);if(state.md.validateLink(href)){pos=res.pos}else{href=""}}start=pos;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}res=md.helpers.parseLinkTitle(state.src,pos,state.posMax);if(pos<max&&start!==pos&&res.ok){title=res.str;pos=res.pos;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}}else{title=""}if(pos-1>=0){code=state.src.charCodeAt(pos-1);if(code===32){res=parseImageSize(state.src,pos,state.posMax);if(res.ok){width=res.width;height=res.height;pos=res.pos;for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}}}}if(pos>=max||state.src.charCodeAt(pos)!==41){state.pos=oldPos;return false}pos++}else{if(typeof state.env.references==="undefined"){return false}for(;pos<max;pos++){code=state.src.charCodeAt(pos);if(code!==32&&code!==10){break}}if(pos<max&&state.src.charCodeAt(pos)===91){start=pos+1;pos=md.helpers.parseLinkLabel(state,pos);if(pos>=0){label=state.src.slice(start,pos++)}else{pos=labelEnd+1}}else{pos=labelEnd+1}if(!label){label=state.src.slice(labelStart,labelEnd)}ref=state.env.references[md.utils.normalizeReference(label)];if(!ref){state.pos=oldPos;return false}href=ref.href;title=ref.title}if(!silent){state.pos=labelStart;state.posMax=labelEnd;var newState=new state.md.inline.State(state.src.slice(labelStart,labelEnd),state.md,state.env,tokens=[]);newState.md.inline.tokenize(newState);if(options){if(options.autofill&&width===""&&height===""){try{var dimensions=sizeOf(href);width=dimensions.width;height=dimensions.height}catch(e){}}}token=state.push("image","img",0);token.attrs=attrs=[["src",href],["alt",""]];token.children=tokens;if(title){attrs.push(["title",title])}if(width!==""){attrs.push(["width",width])}if(height!==""){attrs.push(["height",height])}}state.pos=pos;state.posMax=max;return true}}module.exports=function imsize_plugin(md,options){md.inline.ruler.before("emphasis","image",image_with_size(md,options))}},function(module,exports,__webpack_require__){"use strict";function parseNextNumber(str,pos,max){var code,start=pos,result={ok:false,pos:pos,value:""};code=str.charCodeAt(pos);while(pos<max&&(code>=48&&code<=57)||code===37){code=str.charCodeAt(++pos)}result.ok=true;result.pos=pos;result.value=str.slice(start,pos);return result}module.exports=function parseImageSize(str,pos,max){var code,result={ok:false,pos:0,width:"",height:""};if(pos>=max){return result}code=str.charCodeAt(pos);if(code!==61){return result}pos++;code=str.charCodeAt(pos);if(code!==120&&(code<48||code>57)){return result}var resultW=parseNextNumber(str,pos,max);pos=resultW.pos;code=str.charCodeAt(pos);if(code!==120){return result}pos++;var resultH=parseNextNumber(str,pos,max);pos=resultH.pos;result.width=resultW.value;result.height=resultH.value;result.pos=pos;result.ok=true;return result}},function(module,exports,__webpack_require__){(function(Buffer){"use strict";var fs=__webpack_require__(16);var path=__webpack_require__(6);var detector=__webpack_require__(3);var handlers={};var types=__webpack_require__(5);types.forEach(function(type){handlers[type]=__webpack_require__(4)("./"+type)});var MaxBufferSize=128*1024;function lookup(buffer,filepath){var type=detector(buffer,filepath);if(type in handlers){var size=handlers[type].calculate(buffer,filepath);if(size!==false){size.type=type;return size}}throw new TypeError("Unsupported file type")}function asyncFileToBuffer(filepath,callback){fs.open(filepath,"r",function(err0,descriptor){if(err0){return callback(err0)}var size=fs.fstatSync(descriptor).size;var bufferSize=Math.min(size,MaxBufferSize);var buffer=new Buffer(bufferSize);fs.read(descriptor,buffer,0,bufferSize,0,function(err1){if(err1){return callback(err1)}fs.close(descriptor,function(err2){callback(err2,buffer)})})})}function syncFileToBuffer(filepath){var descriptor=fs.openSync(filepath,"r");var size=fs.fstatSync(descriptor).size;var bufferSize=Math.min(size,MaxBufferSize);var buffer=new Buffer(bufferSize);fs.readSync(descriptor,buffer,0,bufferSize,0);fs.closeSync(descriptor);return buffer}module.exports=function(input,callback){if(typeof input!=="string"){throw new TypeError("Input must be file name")}var filepath=path.resolve(input);if(typeof callback==="function"){asyncFileToBuffer(filepath,function(err,buffer){if(err){return callback(err)}var dimensions;try{dimensions=lookup(buffer,filepath)}catch(e){err=e}callback(err,dimensions)})}else{var buffer=syncFileToBuffer(filepath);return lookup(buffer,filepath)}}}).call(exports,__webpack_require__(7).Buffer)},function(module,exports,__webpack_require__){"use strict";var typeMap={};var types=__webpack_require__(5);types.forEach(function(type){typeMap[type]=__webpack_require__(4)("./"+type).detect});module.exports=function(buffer,filepath){var type,result;for(type in typeMap){if(type in typeMap){result=typeMap[type](buffer,filepath);if(result){return type}}}throw new TypeError("Unsupported type")}},function(module,exports,__webpack_require__){var map={"./bmp":8,"./bmp.js":8,"./gif":9,"./gif.js":9,"./jpg":10,"./jpg.js":10,"./png":11,"./png.js":11,"./psd":12,"./psd.js":12,"./svg":13,"./svg.js":13,"./tiff":14,"./tiff.js":14,"./webp":15,"./webp.js":15};function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)};webpackContext.resolve=webpackContextResolve;module.exports=webpackContext;webpackContext.id=4},function(module,exports,__webpack_require__){"use strict";module.exports=["bmp","gif","jpg","png","tiff"]},function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(exports,__webpack_require__(18))},function(module,exports,__webpack_require__){(function(Buffer){var base64=__webpack_require__(21);var ieee754=__webpack_require__(19);var isArray=__webpack_require__(20);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var kMaxLength=1073741823;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=function(){try{var buf=new ArrayBuffer(0);var arr=new Uint8Array(buf);arr.foo=function(){return 42};return arr.foo()===42&&typeof arr.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(e){return false}}();function Buffer(subject,encoding){var self=this;if(!(self instanceof Buffer))return new Buffer(subject,encoding);var type=typeof subject;var length;if(type==="number"){length=+subject}else if(type==="string"){length=Buffer.byteLength(subject,encoding)}else if(type==="object"&&subject!==null){if(subject.type==="Buffer"&&isArray(subject.data))subject=subject.data;length=+subject.length}else{throw new TypeError("must start with number, buffer, array or string")}if(length>kMaxLength){throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength.toString(16)+" bytes")}if(length<0)length=0;else length>>>=0;if(Buffer.TYPED_ARRAY_SUPPORT){self=Buffer._augment(new Uint8Array(length))}else{self.length=length;self._isBuffer=true}var i;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof subject.byteLength==="number"){self._set(subject)}else if(isArrayish(subject)){if(Buffer.isBuffer(subject)){for(i=0;i<length;i++){self[i]=subject.readUInt8(i)}}else{for(i=0;i<length;i++){self[i]=(subject[i]%256+256)%256}}}else if(type==="string"){self.write(subject,0,encoding)}else if(type==="number"&&!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<length;i++){self[i]=0}}if(length>0&&length<=Buffer.poolSize)self.parent=rootParent;return self}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len&&a[i]===b[i];i++){}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,totalLength){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}var i;if(totalLength===undefined){totalLength=0;for(i=0;i<list.length;i++){totalLength+=list[i].length}}var buf=new Buffer(totalLength);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};Buffer.byteLength=function byteLength(str,encoding){var ret;str=str+"";switch(encoding||"utf8"){case"ascii":case"binary":case"raw":ret=str.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=str.length*2;break;case"hex":ret=str.length>>>1;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"base64":ret=base64ToBytes(str).length;break;default:ret=str.length}return ret};Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined;Buffer.prototype.toString=function toString(encoding,start,end){var loweredCase=false;start=start>>>0;end=end===undefined||end===Infinity?this.length:end>>>0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.get=function get(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function set(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){var charsWritten=blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length);return charsWritten}function asciiWrite(buf,string,offset,length){var charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){var charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function utf16leWrite(buf,string,offset,length){var charsWritten=blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length);return charsWritten}Buffer.prototype.write=function write(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=Number(offset)||0;if(length<0||offset<0||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}var remaining=this.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=utf8Write(this,string,offset,length);break;case"ascii":ret=asciiWrite(this,string,offset,length);break;case"binary":ret=binaryWrite(this,string,offset,length);break;case"base64":ret=base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=utf16leWrite(this,string,offset,length);break;default:throw new TypeError("Unknown encoding: "+encoding)}return ret};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){var res="";var tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){if(buf[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]);tmp=""}else{tmp+="%"+buf[i].toString(16)}}return res+decodeUtf8Char(tmp)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul>>>0&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul>>>0&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength-1)-1,-Math.pow(2,8*byteLength-1))}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength-1)-1,-Math.pow(2,8*byteLength-1))}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,target_start,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(target_start>=target.length)target_start=target.length;if(!target_start)target_start=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(target_start<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-target_start<end-start){end=target.length-target_start+start}var len=end-start;if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<len;i++){target[i+target_start]=this[i+start]}}else{target._set(this.subarray(start,start+len),target_start)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");
if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.toArrayBuffer=function toArrayBuffer(){if(typeof Uint8Array!=="undefined"){if(Buffer.TYPED_ARRAY_SUPPORT){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function _augment(arr){arr.constructor=Buffer;arr._isBuffer=true;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.indexOf=BP.indexOf;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUIntLE=BP.readUIntLE;arr.readUIntBE=BP.readUIntBE;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readIntLE=BP.readIntLE;arr.readIntBE=BP.readIntBE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUIntLE=BP.writeUIntLE;arr.writeUIntBE=BP.writeUIntBE;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeIntLE=BP.writeIntLE;arr.writeIntBE=BP.writeIntBE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-z\-]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==="object"&&typeof subject.length==="number"}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];var i=0;for(;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(leadSurrogate){if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}else{codePoint=leadSurrogate-55296<<10|codePoint-56320|65536;leadSurrogate=null}}else{if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}else{leadSurrogate=codePoint;continue}}}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=null}if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<2097152){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}}).call(exports,__webpack_require__(7).Buffer)},function(module,exports,__webpack_require__){"use strict";function isBMP(buffer){return"BM"===buffer.toString("ascii",0,2)}function calculate(buffer){return{width:buffer.readUInt32LE(18),height:buffer.readUInt32LE(22)}}module.exports={detect:isBMP,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var gifRegexp=/^GIF8[7,9]a/;function isGIF(buffer){var signature=buffer.toString("ascii",0,6);return gifRegexp.test(signature)}function calculate(buffer){return{width:buffer.readUInt16LE(6),height:buffer.readUInt16LE(8)}}module.exports={detect:isGIF,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var validJFIFMarkers={ffdb:"0001010101",ffe0:"4a46494600",ffe1:"4578696600",ffe2:"4943435f50",ffe3:"",ffe8:"5350494646",ffec:"4475636b79",ffed:"50686f746f",ffee:"41646f6265"};var red=["[31m","[39m"];function isJPG(buffer){var SOIMarker=buffer.toString("hex",0,2);var JFIFMarker=buffer.toString("hex",2,4);if("ffd8"!==SOIMarker){return false}var got=buffer.toString("hex",6,11);var expected=JFIFMarker&&validJFIFMarkers[JFIFMarker];if(expected===""){console.warn(red[0]+"this looks like a unrecognised jpeg\n"+"please report the issue here\n"+red[1],"	https://github.com/netroy/image-size/issues/new\n");return false}return got===expected||JFIFMarker==="ffdb"}function extractSize(buffer,i){return{height:buffer.readUInt16BE(i),width:buffer.readUInt16BE(i+2)}}function validateBuffer(buffer,i){if(i>buffer.length){throw new TypeError("Corrupt JPG, exceeded buffer limits")}if(buffer[i]!==255){throw new TypeError("Invalid JPG, marker table corrupted")}}function calculate(buffer){buffer=buffer.slice(4);var i,next;while(buffer.length){i=buffer.readUInt16BE(0);validateBuffer(buffer,i);next=buffer[i+1];if(next===192||next===194){return extractSize(buffer,i+5)}buffer=buffer.slice(i+2)}throw new TypeError("Invalid JPG, no size found")}module.exports={detect:isJPG,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var pngSignature="PNG\r\n\n";function isPNG(buffer){if(pngSignature===buffer.toString("ascii",1,8)){if("IHDR"!==buffer.toString("ascii",12,16)){throw new TypeError("invalid png")}return true}}function calculate(buffer){return{width:buffer.readUInt32BE(16),height:buffer.readUInt32BE(20)}}module.exports={detect:isPNG,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";function isPSD(buffer){return"8BPS"===buffer.toString("ascii",0,4)}function calculate(buffer){return{width:buffer.readUInt32BE(18),height:buffer.readUInt32BE(14)}}module.exports={detect:isPSD,calculate:calculate}},function(module,exports,__webpack_require__){"use strict";var svgReg=/<svg[^>]+[^>]*>/;function isSVG(buffer){return svgReg.test(buffer)}var extractorRegExps={root:/<svg [^>]+>/,width:/(^|\s)width\s*=\s*"(.+?)"/i,height:/(^|\s)height\s*=\s*"(.+?)"/i,viewbox:/(^|\s)viewbox\s*=\s*"(.+?)"/i};function getRatio(viewbox){var ratio=1;if(viewbox&&viewbox[2]){var dim=viewbox[2].split(/\s/g);if(dim.length===4){dim=dim.map(function(i){return parseInt(i,10)});ratio=(dim[2]-dim[0])/(dim[3]-dim[1])}}return ratio}function parse(buffer){var body=buffer.toString().replace(/[\r\n\s]+/g," ");var section=body.match(extractorRegExps.root);var root=section&&section[0];if(root){var width=root.match(extractorRegExps.width);var height=root.match(extractorRegExps.height);var viewbox=root.match(extractorRegExps.viewbox);var ratio=getRatio(viewbox);return{width:parseInt(width&&width[2],10)||0,height:parseInt(height&&height[2],10)||0,ratio:ratio}}}function calculate(buffer){var parsed=parse(buffer);var width=parsed.width;var height=parsed.height;var ratio=parsed.ratio;if(width&&height){return{width:width,height:height}}else{if(width){return{width:width,height:Math.floor(width/ratio)}}else if(height){return{width:Math.floor(height*ratio),height:height}}else{throw new TypeError("invalid svg")}}}module.exports={detect:isSVG,calculate:calculate}},function(module,exports,__webpack_require__){(function(Buffer){"use strict";var fs=__webpack_require__(16);var readUInt=__webpack_require__(17);function isTIFF(buffer){var hex4=buffer.toString("hex",0,4);return"49492a00"===hex4||"4d4d002a"===hex4}function readIFD(buffer,filepath,isBigEndian){var ifdOffset=readUInt(buffer,32,4,isBigEndian);var bufferSize=1024;var fileSize=fs.statSync(filepath).size;if(ifdOffset+bufferSize>fileSize){bufferSize=fileSize-ifdOffset-10}var endBuffer=new Buffer(bufferSize);var descriptor=fs.openSync(filepath,"r");fs.readSync(descriptor,endBuffer,0,bufferSize,ifdOffset);var ifdBuffer=endBuffer.slice(2);return ifdBuffer}function readValue(buffer,isBigEndian){var low=readUInt(buffer,16,8,isBigEndian);var high=readUInt(buffer,16,10,isBigEndian);return(high<<16)+low}function nextTag(buffer){if(buffer.length>24){return buffer.slice(12)}}function extractTags(buffer,isBigEndian){var tags={};var code,type,length;while(buffer&&buffer.length){code=readUInt(buffer,16,0,isBigEndian);type=readUInt(buffer,16,2,isBigEndian);length=readUInt(buffer,32,4,isBigEndian);if(code===0){break}else{if(length===1&&type===3){tags[code]=readValue(buffer,isBigEndian)}buffer=nextTag(buffer)}}return tags}function determineEndianness(buffer){var signature=buffer.toString("ascii",0,2);if("II"===signature){return"LE"}else if("MM"===signature){return"BE"}}function calculate(buffer,filepath){if(!filepath){throw new TypeError("Tiff doesn't support buffer")}var isBigEndian=determineEndianness(buffer)==="BE";var ifdBuffer=readIFD(buffer,filepath,isBigEndian);var tags=extractTags(ifdBuffer,isBigEndian);var width=tags[256];var height=tags[257];if(!width||!height){throw new TypeError("Invalid Tiff, missing tags")}return{width:width,height:height}}module.exports={detect:isTIFF,calculate:calculate}}).call(exports,__webpack_require__(7).Buffer)},function(module,exports,__webpack_require__){"use strict";function isWebP(buffer){var riffHeader="RIFF"===buffer.toString("ascii",0,4);var webpHeader="WEBP"===buffer.toString("ascii",8,12);var vp8Header="VP8"===buffer.toString("ascii",12,15);return riffHeader&&webpHeader&&vp8Header}function calculate(buffer){var chunkHeader=buffer.toString("ascii",12,16);buffer=buffer.slice(20,30);if(chunkHeader==="VP8 "&&buffer[0]!==47){return calculateLossy(buffer)}var signature=buffer.toString("hex",3,6);if(chunkHeader==="VP8L"&&signature!=="9d012a"){return calculateLossless(buffer)}return false}function calculateLossless(buffer){return{width:1+((buffer[2]&63)<<8|buffer[1]),height:1+((buffer[4]&15)<<10|buffer[3]<<2|(buffer[2]&192)>>6)}}function calculateLossy(buffer){return{width:buffer.readInt16LE(6)&16383,height:buffer.readInt16LE(8)&16383}}module.exports={detect:isWebP,calculate:calculate}},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";module.exports=function(buffer,bits,offset,isBigEndian){offset=offset||0;var endian=!!isBigEndian?"BE":"LE";var method=buffer["readUInt"+bits+endian];return method.call(buffer,offset)}},function(module,exports,__webpack_require__){var process=module.exports={};var queue=[];var draining=false;function drainQueue(){if(draining){return}draining=true;var currentQueue;var len=queue.length;while(len){currentQueue=queue;queue=[];var i=-1;while(++i<len){currentQueue[i]()}len=queue.length}draining=false}process.nextTick=function(fun){queue.push(fun);if(!draining){setTimeout(drainQueue,0)}};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},function(module,exports,__webpack_require__){var isArray=Array.isArray;var str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},function(module,exports,__webpack_require__){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);var PLUS_URL_SAFE="-".charCodeAt(0);var SLASH_URL_SAFE="_".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS||code===PLUS_URL_SAFE)return 62;if(code===SLASH||code===SLASH_URL_SAFE)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(false?this.base64js={}:exports)}])});

/*! markdown-it-task-lists 1.4.0 https://github.com/revin/markdown-it-task-lists#readme by  @license {ISC} */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-task-lists",[],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.markdownitTaskLists=n()}}(function(){return function n(e,t,i){function r(c,f){if(!t[c]){if(!e[c]){var u="function"==typeof require&&require;if(!f&&u)return u(c,!0);if(o)return o(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var s=t[c]={exports:{}};e[c][0].call(s.exports,function(n){var t=e[c][1][n];return r(t?t:n)},s,s.exports,n,e,t,i)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(n,e,t){function i(n,e,t){var i=n.attrIndex(e),r=[e,t];0>i?n.attrPush(r):n.attrs[i]=r}function r(n,e){for(var t=n[e].level-1,i=e-1;i>=0;i--)if(n[i].level===t)return i;return-1}function o(n,e){return s(n[e])&&a(n[e-1])&&d(n[e-2])&&p(n[e])}function c(n,e){n.children.unshift(f(n,e)),n.children[1].content=n.children[1].content.slice(3),n.content=n.content.slice(3),x&&(n.children.unshift(u(e)),n.children.push(l(e)))}function f(n,e){var t=new e("html_inline","",0),i=h?' disabled="" ':"";return 0===n.content.indexOf("[ ]")?t.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':(0===n.content.indexOf("[x]")||0===n.content.indexOf("[X]"))&&(t.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">'),t}function u(n){var e=new n("html_inline","",0);return e.content="<label>",e}function l(n){var e=new n("html_inline","",0);return e.content="</label>",e}function s(n){return"inline"===n.type}function a(n){return"paragraph_open"===n.type}function d(n){return"list_item_open"===n.type}function p(n){return 0===n.content.indexOf("[ ]")||0===n.content.indexOf("[x]")||0===n.content.indexOf("[X]")}var h=!0,x=!1;e.exports=function(n,e){e&&(h=!e.enabled,x=!!e.label),n.core.ruler.after("inline","github-task-lists",function(n){for(var e=n.tokens,t=2;t<e.length;t++)o(e,t)&&(c(e[t],n.Token),i(e[t-2],"class","task-list-item"),i(e[r(e,t-2)],"class","task-list"))})}},{}]},{},[1])(1)});

/*! markdown-it-container 2.0.0 https://github.com//markdown-it/markdown-it-container @license MIT */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/markdown-it-container",[],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.markdownitContainer=e()}}(function(){return function e(r,n,t){function o(f,a){if(!n[f]){if(!r[f]){var u="function"==typeof require&&require;if(!a&&u)return u(f,!0);if(i)return i(f,!0);var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[f]={exports:{}};r[f][0].call(s.exports,function(e){var n=r[f][1][e];return o(n?n:e)},s,s.exports,e,r,n,t)}return n[f].exports}for(var i="function"==typeof require&&require,f=0;f<t.length;f++)o(t[f]);return o}({1:[function(e,r,n){"use strict";r.exports=function(e,r,n){function t(e){return e.trim().split(" ",2)[0]===r}function o(e,n,t,o,i){return 1===e[n].nesting&&e[n].attrPush(["class",r]),i.renderToken(e,n,t,o,i)}function i(e,n,t,o){var i,l,d,p,k,h,b,m,v=!1,y=e.bMarks[n]+e.tShift[n],_=e.eMarks[n];if(u!==e.src.charCodeAt(y))return!1;for(i=y+1;_>=i&&a[(i-y)%c]===e.src[i];i++);if(d=Math.floor((i-y)/c),f>d)return!1;if(i-=(i-y)%c,p=e.src.slice(y,i),k=e.src.slice(i,_),!s(k))return!1;if(o)return!0;for(l=n;(l++,!(l>=t))&&(y=e.bMarks[l]+e.tShift[l],_=e.eMarks[l],!(_>y&&e.sCount[l]<e.blkIndent));)if(u===e.src.charCodeAt(y)&&!(e.sCount[l]-e.blkIndent>=4)){for(i=y+1;_>=i&&a[(i-y)%c]===e.src[i];i++);if(!(Math.floor((i-y)/c)<d||(i-=(i-y)%c,i=e.skipSpaces(i),_>i))){v=!0;break}}return b=e.parentType,m=e.lineMax,e.parentType="container",e.lineMax=l,h=e.push("container_"+r+"_open","div",1),h.markup=p,h.block=!0,h.info=k,h.map=[n,l],e.md.block.tokenize(e,n+1,l),h=e.push("container_"+r+"_close","div",-1),h.markup=e.src.slice(y,i),h.block=!0,e.parentType=b,e.lineMax=m,e.line=l+(v?1:0),!0}n=n||{};var f=3,a=n.marker||":",u=a.charCodeAt(0),c=a.length,s=n.validate||t,l=n.render||o;e.block.ruler.before("fence","container_"+r,i,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules["container_"+r+"_open"]=l,e.renderer.rules["container_"+r+"_close"]=l}},{}]},{},[1])(1)});

/* Version used in VSTS : 0.3.6 */

define("3rdParty/markdown-it-table-of-contents",function (require, exports, module) {
    "use strict";
    var string = require("string");
    var assign = require("lodash.assign");
    var defaults = {
        includeLevel: [1, 2],
        containerClass: "table-of-contents",
        slugify: function (str) {
            return string(str).slugify().toString();
        },
        markerPattern: /^\[\[toc\]\]/im,
        listType: "ul",
        format: undefined,
        forceFullToc: false,
        containerHeaderHtml: undefined,
        containerFooterHtml: undefined,
        transformLink: undefined,
    };

    module.exports = function (md, options) {
        var options = assign({}, defaults, options);
        var tocRegexp = options.markerPattern;
        var gstate;

        function toc(state, silent) {
            var token;
            var match;

            // Reject if the token does not start with [
            if (state.src.charCodeAt(state.pos) !== 0x5B /* [ */) {
                return false;
            }
            // Don't run any pairs in validation mode
            if (silent) {
                return false;
            }

            // Detect TOC markdown
            match = tocRegexp.exec(state.src);
            match = !match ? [] : match.filter(function (m) { return m; });
            if (match.length < 1) {
                return false;
            }

            // Check the index of match is same as pos
            // This we do because we push tokens as state.pos only, so the match has to be in that index
            if (state.pos !== state.src.indexOf(match[0])) {
                return false;
            }

            // Build content
            token = state.push("toc_open", "toc", 1);
            token.markup = "[[toc]]";
            token = state.push("toc_body", "", 0);
            token = state.push("toc_close", "toc", -1);

            // Update pos so the parser can continue
            var newline = state.src.indexOf("\n", state.pos);
            if (newline !== -1) {
                state.pos = newline;
            } else {
                state.pos = state.pos + state.posMax + 1;
            }

            return true;
        }

        md.renderer.rules.toc_open = function (tokens, index) {
            var tocOpenHtml = '<div class="' + options.containerClass + '">';

            if (options.containerHeaderHtml) {
                tocOpenHtml += options.containerHeaderHtml;
            }

            return tocOpenHtml;
        };

        md.renderer.rules.toc_close = function (tokens, index) {
            var tocFooterHtml = "";

            if (options.containerFooterHtml) {
                tocFooterHtml = options.containerFooterHtml;
            }

            return tocFooterHtml + "</div>";
        };

        md.renderer.rules.toc_body = function (tokens, index) {
            if (options.forceFullToc) {
                /*
                
                Renders full TOC even if the hierarchy of headers contains
                a header greater than the first appearing header
                
                ## heading 2
                ### heading 3
                # heading 1
                
                Result TOC:
                - heading 2
                   - heading 3
                - heading 1 
          
                */
                var tocBody = "";
                var pos = 0;
                var tokenLength = gstate && gstate.tokens && gstate.tokens.length;

                while (pos < tokenLength) {
                    var tocHierarchy = renderChildsTokens(pos, gstate.tokens);
                    pos = tocHierarchy[0];
                    tocBody += tocHierarchy[1];
                }

                return tocBody;
            } else {
                return renderChildsTokens(0, gstate.tokens)[1];
            }
        };

        function renderChildsTokens(pos, tokens) {
            var headings = [],
                buffer = '',
                currentLevel,
                subHeadings,
                size = tokens.length,
                i = pos;
            while (i < size) {
                var token = tokens[i];
                var heading = tokens[i - 1];
                var level = token.tag && parseInt(token.tag.substr(1, 1));
                if (token.type !== "heading_close" || options.includeLevel.indexOf(level) == -1 || heading.type !== "inline") {
                    i++; continue; // Skip if not matching criteria
                }
                if (!currentLevel) {
                    currentLevel = level;// We init with the first found level
                } else {
                    if (level > currentLevel) {
                        subHeadings = renderChildsTokens(i, tokens);
                        buffer += subHeadings[1];
                        i = subHeadings[0];
                        continue;
                    }
                    if (level < currentLevel) {
                        // Finishing the sub headings
                        buffer += "</li>";
                        headings.push(buffer);
                        return [i, "<" + options.listType + ">" + headings.join("") + "</" + options.listType + ">"];
                    }
                    if (level == currentLevel) {
                        // Finishing the sub headings
                        buffer += "</li>";
                        headings.push(buffer);
                    }
                }
                var slugifiedContent = options.slugify(heading.content);
                var link = "#" + slugifiedContent;
                if (options.transformLink) {
                    link = options.transformLink(link);
                }
                buffer = "<li><a href=\"" + link + "\">";
                buffer += typeof options.format === "function" ? options.format(heading.content) : heading.content;
                buffer += "</a>";
                i++;
            }
            buffer += buffer === "" ? "" : "</li>";
            headings.push(buffer);
            return [i, "<" + options.listType + ">" + headings.join("") + "</" + options.listType + ">"];
        }

        // Catch all the tokens for iteration later
        md.core.ruler.push("grab_state", function (state) {
            gstate = state;
        });

        // Insert TOC
        md.inline.ruler.after("emphasis", "toc", toc);
    };
});

define("3rdParty/remove-markdown",function (require, exports, module) {
  module.exports = function(md, options) {
    options = options || {};
    options.listUnicodeChar = options.hasOwnProperty('listUnicodeChar') ? options.listUnicodeChar : false;
    options.stripListLeaders = options.hasOwnProperty('stripListLeaders') ? options.stripListLeaders : true;
    options.gfm = options.hasOwnProperty('gfm') ? options.gfm : true;
    options.useImgAltText = options.hasOwnProperty('useImgAltText') ? options.useImgAltText : true;
  
    var output = md || '';
  
    // Remove horizontal rules (stripListHeaders conflict with this rule, which is why it has been moved to the top)
    output = output.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm, '');
  
    try {
      if (options.stripListLeaders) {
        if (options.listUnicodeChar)
          output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, options.listUnicodeChar + ' $1');
        else
          output = output.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm, '$1');
      }
      if (options.gfm) {
        output = output
          // Header
          .replace(/\n={2,}/g, '\n')
          // Fenced codeblocks
          .replace(/~{3}.*\n/g, '')
          // Strikethrough
          .replace(/~~/g, '')
          // Fenced codeblocks
          .replace(/`{3}.*\n/g, '');
      }
      output = output
        // Remove HTML tags
        .replace(/<[^>]*>/g, '')
        // Remove setext-style headers
        .replace(/^[=\-]{2,}\s*$/g, '')
        // Remove footnotes?
        .replace(/\[\^.+?\](\: .*?$)?/g, '')
        .replace(/\s{0,2}\[.*?\]: .*?$/g, '')
        // Remove images
        .replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g, options.useImgAltText ? '$1' : '')
        // Remove inline links
        .replace(/\[(.*?)\][\[\(].*?[\]\)]/g, '$1')
        // Remove blockquotes
        .replace(/^\s{0,3}>\s?/g, '')
        // Remove reference-style links?
        .replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g, '')
        // Remove atx-style headers
        .replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm, '$1$2$3')
        // Remove emphasis (repeat the line to remove double emphasis)
        .replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, '$2')
        .replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g, '$2')
        // Remove code blocks
        .replace(/(`{3,})(.*?)\1/gm, '$2')
        // Remove inline code
        .replace(/`(.+?)`/g, '$1')
        // Replace two or more newlines with exactly two? Not entirely sure this belongs here...
        .replace(/\n{2,}/g, '\n\n');
    } catch(e) {
      console.error(e);
      return md;
    }
    return output;
  };
});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Html",["require","exports","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){var e,c,a,p;Object.defineProperty(t,"__esModule",{value:!0}),function(n){function h(n,t){var i,r,u,f,e;if(t){if(Array.isArray(t)){for(i=0;i<t.length;i++)n[t[i].toUpperCase()]=0;return}for(r=0,u=Object.keys(t);r<u.length;r++)f=u[r],e=t[f],n[f.toUpperCase()]=e?e:0}}function c(n){h(e,n)}function t(n,t,i,u){var f={attributes:{},eolBefore:t,eolAfter:i};r[n.toUpperCase()]=f;h(f.attributes,u)}function v(n){(n||[]).forEach(function(n){return t(n,!1,!1)})}function nt(n){(n||[]).forEach(function(n){return l[n.toUpperCase()]=0})}function y(){r||(r={},t("a",!1,!1,{charset:0,href:0,hreflang:0,name:0,rel:0,rev:0,shape:0,tabindex:0,target:{_BLANK:0},type:0}),t("blockquote",!0,!0,["cite"]),t("br",!1,!0,["clear"]),t("caption",!0,!0,["align"]),t("col",!0,!0,["align","char","charoff","span","valign","width"]),t("colgroup",!0,!0,["align","char","charoff","span","valign","width"]),t("del",!1,!1,["cite","datetime"]),t("dir",!0,!0,["compact"]),t("div",!0,!0,["align"]),t("dl",!0,!0,["compact"]),t("font",!1,!1,["color","face","size"]),t("h1",!0,!0,["align"]),t("h2",!0,!0,["align"]),t("h3",!0,!0,["align"]),t("h4",!0,!0,["align"]),t("h5",!0,!0,["align"]),t("h6",!0,!0,["align"]),t("hr",!0,!0,["align","size","width"]),t("img",!1,!1,["align","alt","border","height","hspace","ismap","longdesc","name","src","usemap","vspace","width","alt2","src2"]),t("video",!0,!0,["border","height","src","width","controls","poster","muted","loop"]),t("ins",!1,!1,["cite","datetime"]),t("li",!0,!0,["type","value"]),t("map",!1,!1,["name"]),t("menu",!0,!0,["compact"]),t("input",!0,!0,{checked:0,disabled:0,type:{CHECKBOX:0,TEXT:0}}),t("ol",!0,!0,["compact","start","type"]),t("p",!0,!0,["align"]),t("pre",!0,!0,["width"]),t("q",!1,!1,["cite"]),t("table",!0,!0,["align","border","cellpadding","cellspacing","frame","rules","summary","width","caption"]),t("tbody",!1,!1,["align","char","charoff","valign"]),t("td",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("tfoot",!0,!0,["align","char","charoff","valign"]),t("th",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("thead",!0,!0,["align","char","charoff","valign"]),t("tr",!0,!0,["align","char","charoff","valign"]),t("ul",!0,!0,["compact","type"]),t("dd",!0,!0,[]),t("dt",!0,!0,[]),t("details",!1,!1,["open"]),v(["abbr","acronym","address","b","bdo","big","center","cite","code","dfn","em","i","summary","figure","figcaption"]),v(["kbd","s","samp","small","span","strike","strong","sub","sup","tt","u","var","mark"]),v(["annotation","math","mfrac","mi","mn","mo","mover","mrel","mrow","mspace","msqrt","mstyle","msub","msubsup","msup","mtext","semantics"]))}function p(){var i,r,n,t,f,e;if(!u){for(u={},i=["b","i","u","em","small","strong","sub","sup","ins","del","mark","font","code","pre","h1","h2","h3","h4","h5","h6","strike","ul","ol","dl","table","tbody","colgroup","col","tfoot","thead"],r={li:{tagToReplace:"p"},dt:{tagToReplace:"p"},dd:{tagToReplace:"p"},tr:{tagToReplace:"div"},th:{tagToReplace:"span",afterTagText:" "},td:{tagToReplace:"span",afterTagText:" "}},n=0;n<i.length;n++)u[i[n].toUpperCase()]={tagToReplace:""};for(t=0,f=Object.keys(r);t<f.length;t++)e=f[t],u[e.toUpperCase()]=r[e]}}function tt(){l||(l={},nt(["script","style","option","select","textarea"]))}function it(){e||(e={},c(["dir","lang","title","style","id","class","contenteditable"]),c({role:{BUTTON:0,CHECKBOX:0,CELL:0,COLUMNHEADER:0,COMBOBOX:0,GRID:0,GRIDCELL:0,HEADING:0,LINK:0,LISTBOX:0,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:0,RADIOGROUP:0,ROW:0,ROWGROUP:0,ROWHEADER:0,SWITCH:0,TAB:0,TABLIST:0,TOOLTIP:0,TREE:0,TREEGRID:0,TREEITEM:0}}),c(["aria-label","aria-labelledby","aria-describedby"]),c({"aria-hidden":{TRUE:0,FALSE:0}}),c({"aria-disabled":{TRUE:0,FALSE:0}}))}function rt(){o||(o={},h(o,["src","href","cite","longdesc"]),h(o,["background-image","list-style-image"]))}function ut(){if(!s){s={};var n=function(n,t){return n&&n.toUpperCase()==="IMG"&&t&&t.toUpperCase()==="SRC"};s.BLOB=function(t,i,r){if(!n(t,i))return!1;var e=r.indexOf(":"),u=r.substr(e+1);return u.indexOf(":")>=0?f.isSafeProtocol(u):!0};s.DATA=function(t,i,r){return n(t,i)?r.toUpperCase().search("DATA:IMAGE/\\w+;")===0:!1}}}function ft(){a||(a={},h(a,["background","background-attachment","background-color","background-image","background-position","background-repeat","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-style","border-top-width","border-width","caption-side","clear","color","float","font","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","padding","padding-bottom","padding-left","padding-right","padding-top","table-layout","text-align","text-decoration","text-indent","text-transform","vertical-align","white-space","width","word-spacing"]))}function et(n,t){return n&&t?n.toUpperCase()===t.toUpperCase():!1}function ot(n){return n?(y(),n.toUpperCase()in r):!1}function st(n){return w(n,!0)}function ht(n){return w(n,!1)}function w(n,t){if(n){y();var i=n.toUpperCase();if(i in r)return t?r[i].eolBefore:r[i].eolAfter}return!1}function ct(n){if(n){p();var t=u[n.toUpperCase()];if(t!==undefined&&t.tagToReplace!=null&&t.tagToReplace.length===0)return!0}return!1}function lt(n){if(n){p();var t=u[n.toUpperCase()];if(t&&t.tagToReplace&&t.tagToReplace.length>0)return t}return null}function at(n){return n?(tt(),n.toUpperCase()in l):!1}function vt(n,t,i){var s;if(t){it();var u=t.toUpperCase(),f=i.invalidAttributes,o=i.validAttributes;if(f&&o&&u in f&&u in o)throw new Error(u+" is specified in additionalInvalidAttributes and additionalValidAttributes. Attributes may only appear in either the whitelist or blacklist.");if(o&&u in o)return!0;if(u in e)return f&&u in f?!1:!0;if(n&&(y(),s=r[n.toUpperCase()],s))return u in s.attributes}return!1}function yt(n,t,i){var f=t.toUpperCase(),u=r[n.toUpperCase()].attributes[f];return u?i.toUpperCase()in u:(u=e[f],u)?i.toUpperCase()in u:!0}function b(n){return n&&(rt(),n.toUpperCase()in o)?!0:!1}function k(n,t,i,r){var u,e,o;return(e=i.indexOf(":"),e<0||f.isSafeProtocol(i))?!0:(o=i.substr(0,e),r.invalidProtocols&&o.toUpperCase()in r.invalidProtocols)?!1:(ut(),u=s[o.toUpperCase()],$.isFunction(u)&&u(n,t,i)===!0)?!0:!1}function pt(n,t){if(n){if(ft(),n=n.toUpperCase(),t.invalidStyles&&n in t.invalidStyles)return!1;if(t.validStyles&&n in t.validStyles||n in a)return!0}return!1}function d(n){var t=n;return t?(t=t.replace(/&/g,"&amp;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/>/g,"&gt;"),t.replace(/</g,"&lt;")):""}function g(n,t,i){i=i||'"';var r=$("<div bogusAttribute="+i+t+i+">");return r.attr("bogusAttribute")}function wt(n,t,i){var u=[],r;return(t.split(";")||[]).forEach(function(t){if(t=(t||"").trim(),t){var f=t.split(":",2),r=(f[0]||"").trim(),e=r.toUpperCase();f.length===2&&pt(r,i)&&(!b(r)||k(n,r,(f[1]||"").trim(),i))&&u.push(t)}}),r=u.join(";"),r?'style="'+d(r)+'"':""}function bt(n,t){var r,u;if(n&&t)try{return r=g(n,t,""),decodeURI(r),u=decodeURI(f.Uri.parse(encodeURI(r)).absoluteUri),n.replace(t,d(u))}catch(e){return n.replace(t,"Invalid uri value")}return n}function kt(n,t,i,r,u,f,e,o){var s=i.substr(r,u);if(b(t)){if(k(n,t,$.trim(g(t,s,f)),e))return bt(i,s)}else{if(t.toUpperCase()==="STYLE")return wt(n,s,e);if(yt(n,t,s))return o&&"A"===n.toUpperCase()&&"TARGET"===t.toUpperCase()&&"_BLANK"===s.toUpperCase()&&o.updateAttribute("rel","noopener noreferrer"),i}return""}var r,l,e,o,s,a,u;n.areTagsEqual=et;n.isAllowedTag=ot;n.shouldAddEolBeforeTag=st;n.shouldAddEolAfterTag=ht;n.isFormattingRemovalTag=ct;n.getFormattingReplacementTag=lt;n.isSpecialTag=at;n.isAllowedAttribute=vt;n.cleanAttribute=kt}(e||(e={})),function(n){function s(n){return n>="0"&&n<="9"||n>="A"&&n<="Z"||n>="a"&&n<="z"?!0:!1}function i(n,t){u.lastIndex=t;var i=u.exec(n);return i?i.index:n.length}function h(n,t){f.lastIndex=t;var i=f.exec(n);return i?i.index:n.length}function t(n,t,i){var r=n.indexOf(i,t);return r>=0?r+i.length:n.length}function r(n,t){o.lastIndex=t;var i=o.exec(n);return i?{offset:i.index,name:n.substr(t,i.index-t)}:{offset:n.length,name:n.substr(t,n.length-t)}}function c(n,u,f){for(var c=n.length,o=0,p,l,w,g,b,a,v,it,nt,k,tt,d,y;o<c;){if(l=o,o=n.indexOf("<",o),o<0&&(o=c),o>l){u.writeText(n,l,o-l);continue}if(l=o++,p=n.charAt(o),o<c&&p==="!"){if(o++,o+1<c&&n.substr(o,2)==="--"){o+=2;o=t(n,o,"-->");continue}if(o+6<c&&n.substr(o,7)==="[CDATA["){o+=7;o=t(n,o,"]\]>");continue}o=t(n,o,">");continue}if(o<c&&p==="?"){o++;o=t(n,o,">");continue}if(b=!1,o<c&&p==="/"&&(b=!0,o++),o=i(n,o),a=r(n,o),o=a.offset,v=a.name,e.isSpecialTag(v)){for(o=t(n,o,">");o<c;)if(o=t(n,o,"<"),o+2<c&&n.substr(o,3)==="!--")o=t(n,o,"-->");else if(o<c&&n.charAt(o)==="/"){if(o++,o=i(n,o),a=r(n,o),o=a.offset,it=a.name,e.areTagsEqual(v,it)){o=t(n,o,">");break}}else o<c&&o++;continue}if(!e.isAllowedTag(v)||f.removeFormatting&&e.isFormattingRemovalTag(v))if(f.encodeUnknownText){u.writeEncodedText(n,l,o-l);continue}else{o=t(n,o,">");continue}if(d=v,y=null,f.removeFormatting&&(y=e.getFormattingReplacementTag(v),y&&y.tagToReplace.length!==0)){d=y.tagToReplace;o=t(n,o,">");u.writeTag(n,l,d,b);b&&y.afterTagText!=null&&y.afterTagText.length>0&&u.writeText(y.afterTagText,0,y.afterTagText.length);continue}for(u.writeTag(n,l,d,b);o<c;){if(l=o,o=i(n,o),o<c&&n.charAt(o)==="/"&&o++,o<c&&n.charAt(o)===">"){o++;u.writeEndOfTag(n,l,o-l,d);break}if(o<c&&s(n.charAt(o))){if(a=r(n,o),o=a.offset,nt=a.name,o=i(n,o),w=0,g=0,o<c&&n.charAt(o)==="=")if(o++,o=i(n,o),w=o,p=n.charAt(o),k=null,o<c&&(p==="'"||p==='"')){for(k=p,o++,w=o;o<c&&n.charAt(o)!==k;)o++;g=o;o<c&&n.charAt(o)===k&&o++}else o=h(n,o),g=o;e.isAllowedAttribute(v,nt,f)&&(tt=e.cleanAttribute(v,nt,n.substr(l,o-l),w-l,g-w,k,f,u),tt&&u.writeAttribute(tt));continue}o<c&&n.charAt(o)!==">"&&o++}}}var u=/\S/g,f=/[\s|>]/g,o=/[^\w\:\-]/g;n.parse=c}(c||(c={}));var s=function(){function n(n){this.text=n}return n.prototype.render=function(n){n.append(this.text)},n}(),o=function(){function n(n,t){this.tag=n.toUpperCase();this.root=t===!0}return n._getEmptyTags=function(){if(!n._emptyTags){var t={};t.AREA=!0;t.BASE=!0;t.BASEFONT=!0;t.BGSOUND=!0;t.BR=!0;t.COL=!0;t.EMBED=!0;t.FRAME=!0;t.HR=!0;t.IMG=!0;t.INPUT=!0;t.ISINDEX=!0;t.LINK=!0;t.META=!0;t.PARAM=!0;t.WBR=!0;t.IFRAME=!1;t.MARQUEE=!1;n._emptyTags=t}return n._emptyTags},n.hasEndTag=function(n){var t=this._getEmptyTags(),i=!0;return n in t&&(i=!t[n]),i},n.canTagHaveChild=function(n){var t=this._getEmptyTags();return!(n in t)},n.prototype.getChildren=function(){return this._children||(this._children=[]),this._children},n.prototype.getAttributes=function(){return this._attributes||(this._attributes=[]),this._attributes},n.prototype.getHasClosingTag=function(){return this.empty===!0?!1:n.hasEndTag(this.tag)},n.prototype.getCanHaveChildren=function(){return this.tagClosed===!0?!1:n.canTagHaveChild(this.tag)},n.prototype.render=function(n){var t,r,i,u,e=!1,f;if(this.tag)for(n.append("<"),n.append(this.tag),i=this.getAttributes(),t=0,r=i.length;t<r;t++)n.append(" "),n.append($.trim(i[t]));if(u=this.getChildren(),u.length>0)for(e=!0,this.tag&&n.append(">"),t=0,r=u.length;t<r;t++)u[t].render(n);this.tag&&(e?(n.append("<\/"),n.append(this.tag),n.append(">")):this.getHasClosingTag()?(n.append("><\/"),n.append(this.tag),n.append(">")):(f=n.toString().slice(-1),f!=" "&&f!='"'&&f!="'"&&i&&i.length>0&&n.append(" "),n.append("/>")))},n}(),v=function(){function n(){this._strings=[]}return n.prototype.append=function(n){var t=this._strings;return n&&(t[t.length]=n),this},n.prototype.clear=function(){return this._strings=[],this},n.prototype.toString=function(){return this._strings.join("")},n}(),y=function(){function n(){this._textAccumulator="";this._lastWriteWasEol=!0}return n.prototype.writeText=function(n,t,i){this._textAccumulator+=n.substr(t,i);this._lastWriteWasEol=!1},n.prototype.writeEncodedText=function(n,t,i){this._textAccumulator+=u.htmlEncode(n.substr(t,i));this._lastWriteWasEol=!1},n.prototype.writeTag=function(n,t,i,r){var u=i.toUpperCase();(r?e.shouldAddEolAfterTag(i):e.shouldAddEolBeforeTag(i))&&this._writeEols()},n.prototype.writeEndOfTag=function(){},n.prototype.writeAttribute=function(){},n.prototype.updateAttribute=function(){},n.prototype.finish=function(){},n.prototype.toString=function(){return this._textAccumulator.replace("\u00a0\r\n","\r\n").trim()},n.prototype._writeEols=function(){this._lastWriteWasEol||(this._textAccumulator+="\r\n",this._lastWriteWasEol=!0)},n}(),h=function(){function n(){this.root=new o("",!0);this.elements=[]}return n.prototype.writeText=function(n,t,i){var r=this.elements;r[r.length]=new s(n.substr(t,i))},n.prototype.writeEncodedText=function(n,t,i){var r=this.elements;r[r.length]=new s(u.htmlEncode(n.substr(t,i)))},n.prototype.writeTag=function(n,t,i,r){var u,h,c=this.elements,e,f,l=i.toUpperCase();if(r===!0){for(f=[];c.length>0;)if(h=c.pop(),h instanceof s)f[f.length]=h;else if(u=h,u.tag!==l||u.tagClosed){if(u.getCanHaveChildren())for(e=h.getChildren();f.length>0;)e[e.length]=f.pop();f[f.length]=u;u=null}else break;for(u||(u=new o(i)),e=u.getChildren();f.length>0;)e[e.length]=f.pop()}else u=new o(i);u.tagClosed=r;c[c.length]=u},n.prototype.writeEndOfTag=function(n,t,i,r){var u,f,e=this.elements,s=r.toUpperCase();i>1&&(f=n.substr(t,i),f.charAt(f.length-2)==="/"&&e.length>0&&(u=e[e.length-1],u instanceof o&&u.tag===s&&(u.empty=!0,u.tagClosed=!0)))},n.prototype.writeAttribute=function(n){var t,i=this.elements;i.length>0&&(t=i[i.length-1],t instanceof o&&t.getAttributes().push(n))},n.prototype.updateAttribute=function(n,t){var f=this.elements,e=f[f.length-1];if(e instanceof o){var i=e.getAttributes(),s=r.findIndex(i,function(t){return u.startsWith(t.trim().toUpperCase(),n.toUpperCase())}),h=" "+n+'="'+t+'"';s===-1?i.push(h):i[s]=h}},n.prototype.finish=function(){for(var t,u=this.elements,f=this.root,n=[],i,r;u.length>0;)if(t=u.pop(),t instanceof s)n[n.length]=t;else{if(t.getCanHaveChildren())for(i=t.getChildren();n.length>0;)i[i.length]=n.pop();n[n.length]=t}for(r=f.getChildren();n.length>0;)r[r.length]=n.pop()},n.prototype.toString=function(){var n=new v;return this.root.render(n),n.toString()},n}(),l;(function(n){function t(n){var i=null,t,r,u;if(n)for(i={},t=0,r=n;t<r.length;t++)u=r[t],i[u.toUpperCase()]=0;return i}function i(n){return n===void 0&&(n={}),{invalidAttributes:t(n.additionalInvalidAttributes),validAttributes:t(n.additionalValidAttributes),invalidStyles:t(n.additionalInvalidStyles),validStyles:t(n.additionalValidStyles),removeFormatting:n.removeFormatting||!1,encodeUnknownText:n.encodeUnknownText||!1,invalidProtocols:t(n.additionalInvalidProtocols)}}function u(n){var t=new h;return r(n,t,i())}function f(n,t,u,f,e,o,s){var c=new h;return r(n,c,i({additionalInvalidAttributes:t,additionalValidAttributes:u,additionalInvalidStyles:f,additionalValidStyles:e,encodeUnknownText:o,additionalInvalidProtocols:s}))}function e(n){var t=new h;return r(n,t,i({additionalInvalidAttributes:["CLASS","STYLE"],removeFormatting:!0}))}function o(n){var t=new h;return r(n,t,i({encodeUnknownText:!0}))}function s(n){var t=new y;return r(n,t,i({encodeUnknownText:!0}))}function r(n,t,i){return c.parse(n,t,i),t.finish(),t.toString()}n.normalize=u;n.normalizeStripAttributes=f;n.removeFormatting=e;n.sanitize=o;n.convertToPlainText=s})(l=t.HtmlNormalizer||(t.HtmlNormalizer={}));a=function(){function n(){}return n._replaceSimpleTemplateTokens=function(t,i){for(var r=t,e=/\$\{([^\$\}]+)\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getEncodedTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceUnencodedTemplateTokens=function(t,i){for(var r=t,e=/\{\{html ([^\$\}]+)\}\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceForEachTemplateTokens=function(t,i){for(var f=t,a=/\{\{each \s*([^ \}]+)\}\}((?:.|\r|\n)*)\{\{\/each\}\}/ig,c=/\$\{\$value(?:\.([^\}]+))?\}/ig,r,v,y,e,o,s,p,l,u,h,w;(r=a.exec(f))!==null;){if(v=r[1],y=r[2],e="",o=n._getPropertyValue(i,v),$.isArray(o))for(h=0,w=o.length;h<w;h+=1){for(u=y,c.lastIndex=0;(s=c.exec(u))!==null;)p=s[1],l=n._getEncodedTextPropertyValue(o[h],p),u=n._replaceMatch(u,s,l),c.lastIndex=s.index+l.length;e+=u}f=n._replaceMatch(f,r,e);a.lastIndex=r.index+e.length}return f},n._replaceMatch=function(n,t,i){return n.substring(0,t.index)+i+n.substring(t.index+t[0].length)},n._getEncodedTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":u.htmlEncode(r.toString())},n._getTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":r.toString()},n._getPropertyValue=function(n,t){if(t===undefined||t.length===0)return n;for(var r=t.split("."),i=n;r.length>0&&i!==undefined;)i=i[r.shift()];return i},n.tmpl=function(t,i){var r=t;return r=n._replaceSimpleTemplateTokens(r,i),r=n._replaceUnencodedTemplateTokens(r,i),n._replaceForEachTemplateTokens(r,i)},n}();t.TemplateEngine=a,function(n){function t(t){if(t===null||t===undefined)return!0;if(t.length>=n.ISEMPTY_MINIMAL_CONTENT_LENGTH)return!1;var i=l.removeFormatting(t);return i===""||i==="<BR>"||i==="<BR/>"||i==="<P>&nbsp;<\/P>"||i==="<P><\/P>"||i==="<P><BR/><\/P>"||i==="<BR>\r\n"||i==="<BR>\r\n"||i==="<DIV><BR/><\/DIV>"||i==="<DIV><DIV><BR/><\/DIV><\/DIV>"}n.ISEMPTY_MINIMAL_CONTENT_LENGTH=500;n.isEmpty=t}(p=t.Utils||(t.Utils={}))});

define("ContentRendering/MarkdownConstants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.TOCDefaultMarker="[[_TOC_]]",n.NoTOCDefaultMarker="[[_NOTOC_]]",n.TOCDefaultMarkerPattern=/^\[\[_TOC_\]\][\s]*$/m,n.MaskedTokenType="container_token",n.YamlTag="---\n{0}:\n- {1}\n- {2}\n- {3}\n{4}: {5}\n--- ",n.Formulas="$e=mc^2$",n}();t.MarkdownConstants=i});

var __decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("ContentRendering/MarkdownItPlugins",["require","exports","OfficeFabric/Utilities","ContentRendering/MarkdownConstants","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){function e(n,t){return encodeURIComponent(a(n,t))}function a(n,t){var i=new RegExp(n.utils.lib.ucmicro.Z.source,"g");return t.replace(i,"-").toLowerCase()}var o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});o=function(){function n(n,t){var i=this;n.core.ruler.push("external_links",function(n){return i.linkTokensTransformer(n)});t&&t.hideExternalImageIcon||(n.renderer.rules.link_close=function(n,t){return i.externalLinkIcon(n,t)});this.options=t||{}}return n.prototype.externalLinkIcon=function(n,t){for(var u,r,e=!1,i=t-1;i>=0;i--){if(n[i].type==="image"){e=!0;continue}if(n[i].type==="link_open"){!e&&t-i>1&&(r=n[i]);break}}return u=r&&r.attrGet("href"),u&&f.isExternalUrl(u)?"<\/a> <span class='bowtie-icon bowtie-navigate-external' > <\/span>":"<\/a>"},n.prototype.linkTokensTransformer=function(n){function t(n){var i,e;if(n.children&&n.children.map(t,this),n.type==="link_open"){if(i=n.attrGet("href"),this.options&&this.options.linkTransformer&&(i=this.options.linkTransformer(i),n.attrSet("href",i)),this.options&&this.options.linkCustomStyleAppender){var r=n.attrGet("class"),o=this.options.linkCustomStyleAppender(i,r),u=o?o.join(" "):"";r&&(u=u.concat(" "+r));n.attrSet("class",u)}f.isExternalUrl(i)&&(n.attrSet("target","_blank"),n.attrSet("rel","noopener noreferrer"));this.options&&this.options.linkCustomTitleProvider&&(e=this.options.linkCustomTitleProvider(n),e&&n.attrSet("title",e))}}n.tokens.map(t,this)},n}();t.LinkTransformerPlugin=o;s=function(){function n(n,t){var i=this;t&&t.imageUrlTransformer&&n.core.ruler.push("image_links",function(n){return i.linkTransformer(n)});this.options=t}return n.prototype.linkTransformer=function(n){function t(n){if(n.children&&n.children.map(t,this),n.type==="image"){var i=n.attrGet("src"),r=this.options.imageUrlTransformer(i);n.attrSet("src",r)}}n.tokens.map(t,this)},n}();t.ImageTransformerPlugin=s;h=function(){function n(n,t,i){n.core.ruler.after("block","markdown_toc",this.contentTransformer);this._tocMarker=t||r.MarkdownConstants.TOCDefaultMarker;this._noTocMarker=i||r.MarkdownConstants.NoTOCDefaultMarker}return n.prototype.contentTransformer=function(n){for(var r,e,o,s,u=0,f=-1,i=-1,t=0;t<n.tokens.length-2;t++)n.tokens[t].type==="paragraph_open"&&n.tokens[t+1].type==="inline"?(n.tokens[t+1].content.indexOf(this._noTocMarker)!==-1&&(f=t+1,n.tokens[t+1].content=this.replaceAll(n.tokens[t+1].content,this._noTocMarker,"")),n.tokens[t+1].content.indexOf(this._tocMarker)!==-1&&(i===-1?i=t+1:n.tokens[t+1].content=this.replaceAll(n.tokens[t+1].content,this._tocMarker,""))):n.tokens[t].type==="heading_open"&&n.tokens[t+1].type==="inline"&&u++;i>=0&&(r=n.tokens[i].content.indexOf(this._tocMarker),e=n.tokens[i].content.lastIndexOf(this._tocMarker),f>=0||u===0?n.tokens[i].content=n.tokens[i].content.split(this._tocMarker).join(""):r!==e&&(o=n.tokens[i].content.substr(0,r+1),s=this.replaceAll(n.tokens[i].content.substr(r+1),this._tocMarker,""),n.tokens[i].content=o+s))},n.prototype.replaceAll=function(n,t,i){return n.split(t).join(i)},__decorate([i.autobind],n.prototype,"contentTransformer",null),n}();t.TableOfContentsPlugin=h;c=function(){function n(n,t){var i=this;t===void 0&&(t=!1);this.mdInstance=n;n.core.ruler.push("header_anchor",function(n){return i.headerTransformer(n,t)})}return n.prototype.headerTransformer=function(t,i){for(var o,h,s,y,r=0;r<t.tokens.length-2;r++)if(t.tokens[r].type==="heading_open"&&t.tokens[r+1].type==="inline"&&(o=t.tokens[r+1],o.content)){if(h=n.anchorNamePrefix+e(this.mdInstance,o.content),t.tokens[r].attrPush(["id",h]),i){var p=e(this.mdInstance,o.content),v=window.location.href,c="",l=f.Uri.parse(v),w=l.getQueryParam("anchor");w!==undefined?(l.addQueryParam("anchor",a(this.mdInstance,o.content),!0),c=l.absoluteUri):c=u.format("{0}&anchor={1}",v,p);s=new t.Token("link_open","a",1);s.attrSet("href",c);s.attrSet("class",n.shareHeaderAnchorClassName);s.attrSet("aria-labelledby",h);y=new t.Token("link_close","a",-1);t.tokens[r+1].children.push(s,y)}r+=2}},n.anchorNamePrefix="user-content-",n.shareHeaderAnchorClassName="shareHeaderAnchor",n}();t.AnchoredHeadersPlugin=c;l=function(){function n(n){var t=this;n.block.ruler.at("heading",function(n,i,r,u){return t.headerTransformer(n,i,r,u)},{alt:["paragraph","reference","blockquote"]})}return n.prototype.headerTransformer=function(n,t,i,r){var u=n.bMarks[t]+n.tShift[t],e=n.eMarks[t],s=n.src.charCodeAt(u),c=35,o,h,l,f;if(s!==c||u>=e)return!1;for(o=1,u++,s=n.src.charCodeAt(u);u<e&&o<=6&&s===c;)o++,u++,s=n.src.charCodeAt(u);return o>6?!1:r?!0:(e=n.skipCharsBack(e,32,u),h=n.skipCharsBack(e,c,u),h>u&&n.src.charCodeAt(h-1)===32&&(e=h),n.line=t+1,l=Array(o+1).join("#"),f=n.push("heading_open","h"+o.toString(),1),f.map=[t,n.line],f.markup=l,f=n.push("inline","",0),f.map=[t,n.line],f.content=n.src.slice(u,e).trim(),f.children=[],f=n.push("heading_close","h"+o.toString(),-1),f.markup=l,!0)},n}();t.LazyHeadersPlugin=l;t.getEncodedTitle=e});

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("3rdParty/js-yaml",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).jsyaml=e()}}(function(){return function o(a,s,c){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";var i=e("./js-yaml/loader"),r=e("./js-yaml/dumper");function o(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=i.load,t.exports.loadAll=i.loadAll,t.exports.safeLoad=i.safeLoad,t.exports.safeLoadAll=i.safeLoadAll,t.exports.dump=r.dump,t.exports.safeDump=r.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=o("scan"),t.exports.parse=o("parse"),t.exports.compose=o("compose"),t.exports.addConstructor=o("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(e,t,n){"use strict";function i(e){return null==e}t.exports.isNothing=i,t.exports.isObject=function(e){return"object"==typeof e&&null!==e},t.exports.toArray=function(e){return Array.isArray(e)?e:i(e)?[]:[e]},t.exports.repeat=function(e,t){var n,i="";for(n=0;n<t;n+=1)i+=e;return i},t.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},t.exports.extend=function(e,t){var n,i,r,o;if(t)for(n=0,i=(o=Object.keys(t)).length;n<i;n+=1)e[r=o[n]]=t[r];return e}},{}],3:[function(e,t,n){"use strict";var c=e("./common"),d=e("./exception"),i=e("./schema/default_full"),r=e("./schema/default_safe"),p=Object.prototype.toString,u=Object.prototype.hasOwnProperty,o=9,h=10,a=32,f=33,m=34,g=35,y=37,x=38,v=39,A=42,b=44,w=45,C=58,k=62,j=63,S=64,I=91,O=93,E=96,F=123,_=124,N=125,s={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},l=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function M(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else{if(!(e<=4294967295))throw new d("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+c.repeat("0",i-t.length)+t}function T(e){this.schema=e.schema||i,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=c.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,i,r,o,a,s,c;if(null===t)return{};for(n={},r=0,o=(i=Object.keys(t)).length;r<o;r+=1)a=i[r],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(c=e.compiledTypeMap.fallback[a])&&u.call(c.styleAliases,s)&&(s=c.styleAliases[s]),n[a]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function L(e,t){for(var n,i=c.repeat(" ",t),r=0,o=-1,a="",s=e.length;r<s;)r=-1===(o=e.indexOf("\n",r))?(n=e.slice(r),s):(n=e.slice(r,o+1),o+1),n.length&&"\n"!==n&&(a+=i),a+=n;return a}function D(e,t){return"\n"+c.repeat(" ",e.indent*t)}function U(e){return e===a||e===o}function q(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function Y(e){return q(e)&&65279!==e&&e!==b&&e!==I&&e!==O&&e!==F&&e!==N&&e!==C&&e!==g}function R(e){return/^\n* /.test(e)}var B=1,P=2,W=3,K=4,$=5;function H(e,t,n,i,r){var o,a,s=!1,c=!1,u=-1!==i,l=-1,p=function(e){return q(e)&&65279!==e&&!U(e)&&e!==w&&e!==j&&e!==C&&e!==b&&e!==I&&e!==O&&e!==F&&e!==N&&e!==g&&e!==x&&e!==A&&e!==f&&e!==_&&e!==k&&e!==v&&e!==m&&e!==y&&e!==S&&e!==E}(e.charCodeAt(0))&&!U(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(!q(a=e.charCodeAt(o)))return $;p=p&&Y(a)}else{for(o=0;o<e.length;o++){if((a=e.charCodeAt(o))===h)s=!0,u&&(c=c||i<o-l-1&&" "!==e[l+1],l=o);else if(!q(a))return $;p=p&&Y(a)}c=c||u&&i<o-l-1&&" "!==e[l+1]}return s||c?9<n&&R(e)?$:c?K:W:p&&!r(e)?B:P}function G(i,r,o,a){i.dump=function(){if(0===r.length)return"''";if(!i.noCompatMode&&-1!==l.indexOf(r))return"'"+r+"'";var e=i.indent*Math.max(1,o),t=-1===i.lineWidth?-1:Math.max(Math.min(i.lineWidth,40),i.lineWidth-e),n=a||-1<i.flowLevel&&o>=i.flowLevel;switch(H(r,n,i.indent,t,function(e){return function(e,t){var n,i;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(i,e)})){case B:return r;case P:return"'"+r.replace(/'/g,"''")+"'";case W:return"|"+V(r,i.indent)+Z(L(r,e));case K:return">"+V(r,i.indent)+Z(L(function(t,n){var e,i,r=/(\n+)([^\n]*)/g,o=function(){var e=t.indexOf("\n");return e=-1!==e?e:t.length,r.lastIndex=e,z(t.slice(0,e),n)}(),a="\n"===t[0]||" "===t[0];for(;i=r.exec(t);){var s=i[1],c=i[2];e=" "===c[0],o+=s+(a||e||""===c?"":"\n")+z(c,n),a=e}return o}(r,t),e));case $:return'"'+function(e){for(var t,n,i,r="",o=0;o<e.length;o++)55296<=(t=e.charCodeAt(o))&&t<=56319&&56320<=(n=e.charCodeAt(o+1))&&n<=57343?(r+=M(1024*(t-55296)+n-56320+65536),o++):(i=s[t],r+=!i&&q(t)?e[o]:i||M(t));return r}(r)+'"';default:throw new d("impossible error: invalid scalar style")}}()}function V(e,t){var n=R(e)?String(t):"",i="\n"===e[e.length-1];return n+(i&&("\n"===e[e.length-2]||"\n"===e)?"+":i?"":"-")+"\n"}function Z(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function z(e,t){if(""===e||" "===e[0])return e;for(var n,i,r=/ [^ ]/g,o=0,a=0,s=0,c="";n=r.exec(e);)t<(s=n.index)-o&&(i=o<a?a:s,c+="\n"+e.slice(o,i),o=i+1),a=s;return c+="\n",e.length-o>t&&o<a?c+=e.slice(o,a)+"\n"+e.slice(a+1):c+=e.slice(o),c.slice(1)}function J(e,t,n){var i,r,o,a,s,c;for(o=0,a=(r=n?e.explicitTypes:e.implicitTypes).length;o<a;o+=1)if(((s=r[o]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(c=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===p.call(s.represent))i=s.represent(t,c);else{if(!u.call(s.represent,c))throw new d("!<"+s.tag+'> tag resolver accepts not "'+c+'" style');i=s.represent[c](t,c)}e.dump=i}return!0}return!1}function Q(e,t,n,i,r,o){e.tag=null,e.dump=n,J(e,n,!1)||J(e,n,!0);var a=p.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>t);var s,c,u="[object Object]"===a||"[object Array]"===a;if(u&&(c=-1!==(s=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||c||2!==e.indent&&0<t)&&(r=!1),c&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(u&&c&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===a)i&&0!==Object.keys(e.dump).length?(function(e,t,n,i){var r,o,a,s,c,u,l="",p=e.tag,f=Object.keys(n);if(!0===e.sortKeys)f.sort();else if("function"==typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new d("sortKeys must be a boolean or a function");for(r=0,o=f.length;r<o;r+=1)u="",i&&0===r||(u+=D(e,t)),s=n[a=f[r]],Q(e,t+1,a,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&1024<e.dump.length)&&(e.dump&&h===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,c&&(u+=D(e,t)),Q(e,t+1,s,!0,c)&&(e.dump&&h===e.dump.charCodeAt(0)?u+=":":u+=": ",l+=u+=e.dump));e.tag=p,e.dump=l||"{}"}(e,t,e.dump,r),c&&(e.dump="&ref_"+s+e.dump)):(function(e,t,n){var i,r,o,a,s,c="",u=e.tag,l=Object.keys(n);for(i=0,r=l.length;i<r;i+=1)s=e.condenseFlow?'"':"",0!==i&&(s+=", "),a=n[o=l[i]],Q(e,t,o,!1,!1)&&(1024<e.dump.length&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Q(e,t,a,!1,!1)&&(c+=s+=e.dump));e.tag=u,e.dump="{"+c+"}"}(e,t,e.dump),c&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===a){var l=e.noArrayIndent&&0<t?t-1:t;i&&0!==e.dump.length?(function(e,t,n,i){var r,o,a="",s=e.tag;for(r=0,o=n.length;r<o;r+=1)Q(e,t+1,n[r],!0,!0)&&(i&&0===r||(a+=D(e,t)),e.dump&&h===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}(e,l,e.dump,r),c&&(e.dump="&ref_"+s+e.dump)):(function(e,t,n){var i,r,o="",a=e.tag;for(i=0,r=n.length;i<r;i+=1)Q(e,t,n[i],!1,!1)&&(0!==i&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,l,e.dump),c&&(e.dump="&ref_"+s+" "+e.dump))}else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new d("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&G(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function X(e,t){var n,i,r=[],o=[];for(function e(t,n,i){var r,o,a;if(null!==t&&"object"==typeof t)if(-1!==(o=n.indexOf(t)))-1===i.indexOf(o)&&i.push(o);else if(n.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)e(t[o],n,i);else for(r=Object.keys(t),o=0,a=r.length;o<a;o+=1)e(t[r[o]],n,i)}(e,r,o),n=0,i=o.length;n<i;n+=1)t.duplicates.push(r[o[n]]);t.usedDuplicates=new Array(i)}function ee(e,t){var n=new T(t=t||{});return n.noRefs||X(e,n),Q(n,0,e,!0,!0)?n.dump+"\n":""}t.exports.dump=ee,t.exports.safeDump=function(e,t){return ee(e,c.extend({schema:r},t))}},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(e,t,n){"use strict";function i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}((i.prototype=Object.create(Error.prototype)).constructor=i).prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=i},{}],5:[function(e,t,n){"use strict";var g=e("./common"),i=e("./exception"),r=e("./mark"),o=e("./schema/default_safe"),a=e("./schema/default_full"),y=Object.prototype.hasOwnProperty,x=1,v=2,A=3,b=4,w=1,C=2,k=3,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=/[\x85\u2028\u2029]/,u=/[,\[\]\{\}]/,l=/^(?:!|!!|![a-z\-]+!)$/i,p=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function f(e){return Object.prototype.toString.call(e)}function j(e){return 10===e||13===e}function S(e){return 9===e||32===e}function I(e){return 9===e||32===e||10===e||13===e}function O(e){return 44===e||91===e||93===e||123===e||125===e}function d(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}for(var E=new Array(256),F=new Array(256),h=0;h<256;h++)E[h]=d(h)?1:0,F[h]=d(h);function m(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||a,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function _(e,t){return new i(t,new r(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function N(e,t){throw _(e,t)}function M(e,t){e.onWarning&&e.onWarning.call(null,_(e,t))}var T={YAML:function(e,t,n){var i,r,o;null!==e.version&&N(e,"duplication of %YAML directive"),1!==n.length&&N(e,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&N(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&N(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&M(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,r;2!==n.length&&N(e,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],l.test(i)||N(e,"ill-formed tag handle (first argument) of the TAG directive"),y.call(e.tagMap,i)&&N(e,'there is a previously declared suffix for "'+i+'" tag handle'),p.test(r)||N(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=r}};function L(e,t,n,i){var r,o,a,s;if(t<n){if(s=e.input.slice(t,n),i)for(r=0,o=s.length;r<o;r+=1)9===(a=s.charCodeAt(r))||32<=a&&a<=1114111||N(e,"expected valid JSON character");else c.test(s)&&N(e,"the stream contains non-printable characters");e.result+=s}}function D(e,t,n,i){var r,o,a,s;for(g.isObject(n)||N(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(r=Object.keys(n)).length;a<s;a+=1)o=r[a],y.call(t,o)||(t[o]=n[o],i[o]=!0)}function U(e,t,n,i,r,o,a,s){var c,u;if(Array.isArray(r))for(c=0,u=(r=Array.prototype.slice.call(r)).length;c<u;c+=1)Array.isArray(r[c])&&N(e,"nested arrays are not supported inside keys"),"object"==typeof r&&"[object Object]"===f(r[c])&&(r[c]="[object Object]");if("object"==typeof r&&"[object Object]"===f(r)&&(r="[object Object]"),r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)D(e,t,o[c],n);else D(e,t,o,n);else e.json||y.call(n,r)||!y.call(t,r)||(e.line=a||e.line,e.position=s||e.position,N(e,"duplicated mapping key")),t[r]=o,delete n[r];return t}function q(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):N(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Y(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);0!==r;){for(;S(r);)r=e.input.charCodeAt(++e.position);if(t&&35===r)for(;10!==(r=e.input.charCodeAt(++e.position))&&13!==r&&0!==r;);if(!j(r))break;for(q(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position)}return-1!==n&&0!==i&&e.lineIndent<n&&M(e,"deficient indentation"),i}function R(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!I(t)))}function B(e,t){1===t?e.result+=" ":1<t&&(e.result+=g.repeat("\n",t-1))}function P(e,t){var n,i,r=e.tag,o=e.anchor,a=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),i=e.input.charCodeAt(e.position);0!==i&&45===i&&I(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,Y(e,!0,-1)&&e.lineIndent<=t)a.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,$(e,t,A,!1,!0),a.push(e.result),Y(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)N(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=r,e.anchor=o,e.kind="sequence",e.result=a,!0)}function W(e){var t,n,i,r,o=!1,a=!1;if(33!==(r=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&N(e,"duplication of a tag property"),60===(r=e.input.charCodeAt(++e.position))?(o=!0,r=e.input.charCodeAt(++e.position)):33===r?(a=!0,n="!!",r=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){for(;0!==(r=e.input.charCodeAt(++e.position))&&62!==r;);e.position<e.length?(i=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):N(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!I(r);)33===r&&(a?N(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),l.test(n)||N(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),u.test(i)&&N(e,"tag suffix cannot contain flow indicator characters")}return i&&!p.test(i)&&N(e,"tag name cannot contain such characters: "+i),o?e.tag=i:y.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:N(e,'undeclared tag handle "'+n+'"'),!0}function K(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&N(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!I(n)&&!O(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&N(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function $(e,t,n,i,r){var o,a,s,c,u,l,p,f,d=1,h=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=b===n||A===n,i&&Y(e,!0,-1)&&(h=!0,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)),1===d)for(;W(e)||K(e);)Y(e,!0,-1)?(h=!0,s=o,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)):s=!1;if(s&&(s=h||r),1!==d&&b!==n||(p=x===n||v===n?t:t+1,f=e.position-e.lineStart,1===d?s&&(P(e,f)||function(e,t,n){var i,r,o,a,s,c=e.tag,u=e.anchor,l={},p={},f=null,d=null,h=null,m=!1,g=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);0!==s;){if(i=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,63!==s&&58!==s||!I(i)){if(!$(e,n,v,!1,!0))break;if(e.line===o){for(s=e.input.charCodeAt(e.position);S(s);)s=e.input.charCodeAt(++e.position);if(58===s)I(s=e.input.charCodeAt(++e.position))||N(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(U(e,l,p,f,d,null),f=d=h=null),r=m=!(g=!0),f=e.tag,d=e.result;else{if(!g)return e.tag=c,e.anchor=u,!0;N(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!g)return e.tag=c,e.anchor=u,!0;N(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(m&&(U(e,l,p,f,d,null),f=d=h=null),r=m=g=!0):m?r=!(m=!1):N(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=i;if((e.line===o||e.lineIndent>t)&&($(e,t,b,!0,r)&&(m?d=e.result:h=e.result),m||(U(e,l,p,f,d,h,o,a),f=d=h=null),Y(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)N(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&U(e,l,p,f,d,null),g&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=l),g}(e,f,p))||function(e,t){var n,i,r,o,a,s,c,u,l,p,f=!0,d=e.tag,h=e.anchor,m={};if(91===(p=e.input.charCodeAt(e.position)))s=!(r=93),i=[];else{if(123!==p)return!1;r=125,s=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),p=e.input.charCodeAt(++e.position);0!==p;){if(Y(e,!0,t),(p=e.input.charCodeAt(e.position))===r)return e.position++,e.tag=d,e.anchor=h,e.kind=s?"mapping":"sequence",e.result=i,!0;f||N(e,"missed comma between flow collection entries"),l=null,o=a=!1,63===p&&I(e.input.charCodeAt(e.position+1))&&(o=a=!0,e.position++,Y(e,!0,t)),n=e.line,$(e,t,x,!1,!0),u=e.tag,c=e.result,Y(e,!0,t),p=e.input.charCodeAt(e.position),!a&&e.line!==n||58!==p||(o=!0,p=e.input.charCodeAt(++e.position),Y(e,!0,t),$(e,t,x,!1,!0),l=e.result),s?U(e,i,m,u,c,l):o?i.push(U(e,null,m,u,c,l)):i.push(c),Y(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(f=!0,p=e.input.charCodeAt(++e.position)):f=!1}N(e,"unexpected end of the stream within a flow collection")}(e,p)?m=!0:(a&&function(e,t){var n,i,r,o,a,s=w,c=!1,u=!1,l=t,p=0,f=!1;if(124===(o=e.input.charCodeAt(e.position)))i=!1;else{if(62!==o)return!1;i=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)w===s?s=43===o?k:C:N(e,"repeat of a chomping mode identifier");else{if(!(0<=(r=48<=(a=o)&&a<=57?a-48:-1)))break;0==r?N(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?N(e,"repeat of an indentation width identifier"):(l=t+r-1,u=!0)}if(S(o)){for(;S(o=e.input.charCodeAt(++e.position)););if(35===o)for(;!j(o=e.input.charCodeAt(++e.position))&&0!==o;);}for(;0!==o;){for(q(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!u||e.lineIndent<l)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>l&&(l=e.lineIndent),j(o))p++;else{if(e.lineIndent<l){s===k?e.result+=g.repeat("\n",c?1+p:p):s===w&&c&&(e.result+="\n");break}for(i?S(o)?(f=!0,e.result+=g.repeat("\n",c?1+p:p)):f?(f=!1,e.result+=g.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=g.repeat("\n",p):e.result+=g.repeat("\n",c?1+p:p),u=c=!0,p=0,n=e.position;!j(o)&&0!==o;)o=e.input.charCodeAt(++e.position);L(e,n,e.position,!1)}}return!0}(e,p)||function(e,t){var n,i,r;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(L(e,i,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;i=e.position,e.position++,r=e.position}else j(n)?(L(e,i,r,!0),B(e,Y(e,!1,t)),i=r=e.position):e.position===e.lineStart&&R(e)?N(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);N(e,"unexpected end of the stream within a single quoted scalar")}(e,p)||function(e,t){var n,i,r,o,a,s,c,u,l,p;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return L(e,n,e.position,!0),e.position++,!0;if(92===s){if(L(e,n,e.position,!0),j(s=e.input.charCodeAt(++e.position)))Y(e,!1,t);else if(s<256&&E[s])e.result+=F[s],e.position++;else if(0<(a=120===(p=s)?2:117===p?4:85===p?8:0)){for(r=a,o=0;0<r;r--)s=e.input.charCodeAt(++e.position),l=void 0,0<=(a=48<=(u=s)&&u<=57?u-48:97<=(l=32|u)&&l<=102?l-97+10:-1)?o=(o<<4)+a:N(e,"expected hexadecimal character");e.result+=(c=o)<=65535?String.fromCharCode(c):String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023)),e.position++}else N(e,"unknown escape sequence");n=i=e.position}else j(s)?(L(e,n,i,!0),B(e,Y(e,!1,t)),n=i=e.position):e.position===e.lineStart&&R(e)?N(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}N(e,"unexpected end of the stream within a double quoted scalar")}(e,p)?m=!0:!function(e){var t,n,i;if(42!==(i=e.input.charCodeAt(e.position)))return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!I(i)&&!O(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&N(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||N(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Y(e,!0,-1),!0}(e)?function(e,t,n){var i,r,o,a,s,c,u,l,p=e.kind,f=e.result;if(I(l=e.input.charCodeAt(e.position))||O(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(I(i=e.input.charCodeAt(e.position+1))||n&&O(i)))return!1;for(e.kind="scalar",e.result="",r=o=e.position,a=!1;0!==l;){if(58===l){if(I(i=e.input.charCodeAt(e.position+1))||n&&O(i))break}else if(35===l){if(I(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&R(e)||n&&O(l))break;if(j(l)){if(s=e.line,c=e.lineStart,u=e.lineIndent,Y(e,!1,-1),e.lineIndent>=t){a=!0,l=e.input.charCodeAt(e.position);continue}e.position=o,e.line=s,e.lineStart=c,e.lineIndent=u;break}}a&&(L(e,r,o,!1),B(e,e.line-s),r=o=e.position,a=!1),S(l)||(o=e.position+1),l=e.input.charCodeAt(++e.position)}return L(e,r,o,!1),!!e.result||(e.kind=p,e.result=f,!1)}(e,p,x===n)&&(m=!0,null===e.tag&&(e.tag="?")):(m=!0,null===e.tag&&null===e.anchor||N(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===d&&(m=s&&P(e,f))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(c=0,u=e.implicitTypes.length;c<u;c+=1)if((l=e.implicitTypes[c]).resolve(e.result)){e.result=l.construct(e.result),e.tag=l.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else y.call(e.typeMap[e.kind||"fallback"],e.tag)?(l=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&l.kind!==e.kind&&N(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+l.kind+'", not "'+e.kind+'"'),l.resolve(e.result)?(e.result=l.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):N(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):N(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function H(e){var t,n,i,r,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(r=e.input.charCodeAt(e.position))&&(Y(e,!0,-1),r=e.input.charCodeAt(e.position),!(0<e.lineIndent||37!==r));){for(a=!0,r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!I(r);)r=e.input.charCodeAt(++e.position);for(i=[],(n=e.input.slice(t,e.position)).length<1&&N(e,"directive name must not be less than one character in length");0!==r;){for(;S(r);)r=e.input.charCodeAt(++e.position);if(35===r){for(;0!==(r=e.input.charCodeAt(++e.position))&&!j(r););break}if(j(r))break;for(t=e.position;0!==r&&!I(r);)r=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}0!==r&&q(e),y.call(T,n)?T[n](e,n,i):M(e,'unknown document directive "'+n+'"')}Y(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Y(e,!0,-1)):a&&N(e,"directives end mark is expected"),$(e,e.lineIndent-1,b,!1,!0),Y(e,!0,-1),e.checkLineBreaks&&s.test(e.input.slice(o,e.position))&&M(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&R(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Y(e,!0,-1)):e.position<e.length-1&&N(e,"end of the stream or a document separator is expected")}function G(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new m(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)H(n);return n.documents}function V(e,t,n){var i,r,o=G(e,n);if("function"!=typeof t)return o;for(i=0,r=o.length;i<r;i+=1)t(o[i])}function Z(e,t){var n=G(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}}t.exports.loadAll=V,t.exports.load=Z,t.exports.safeLoadAll=function(e,t,n){if("function"!=typeof t)return V(e,g.extend({schema:o},n));V(e,t,g.extend({schema:o},n))},t.exports.safeLoad=function(e,t){return Z(e,g.extend({schema:o},t))}},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(e,t,n){"use strict";var s=e("./common");function i(e,t,n,i,r){this.name=e,this.buffer=t,this.position=n,this.line=i,this.column=r}i.prototype.getSnippet=function(e,t){var n,i,r,o,a;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;0<i&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(r="",o=this.position;o<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>t/2-1){r=" ... ",o-=5;break}return a=this.buffer.slice(i,o),s.repeat(" ",e)+n+a+r+"\n"+s.repeat(" ",e+this.position-i+n.length)+"^"},i.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},t.exports=i},{"./common":2}],7:[function(e,t,n){"use strict";var i=e("./common"),r=e("./exception"),o=e("./type");function a(e,t,i){var r=[];return e.include.forEach(function(e){i=a(e,t,i)}),e[t].forEach(function(n){i.forEach(function(e,t){e.tag===n.tag&&e.kind===n.kind&&r.push(t)}),i.push(n)}),i.filter(function(e,t){return-1===r.indexOf(t)})}function s(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function i(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var e,t;switch(arguments.length){case 1:e=s.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new r("Wrong number of arguments for Schema.create function")}if(e=i.toArray(e),t=i.toArray(t),!e.every(function(e){return e instanceof s}))throw new r("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof o}))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:e,explicit:t})},t.exports=s},{"./common":2,"./exception":4,"./type":13}],8:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({include:[e("./json")]})},{"../schema":7,"./json":12}],9:[function(e,t,n){"use strict";var i=e("../schema");t.exports=i.DEFAULT=new i({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(e,t,n){"use strict";var i=e("../schema");t.exports=new i({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(e,t,n){"use strict";var i=e("./exception"),r=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];t.exports=function(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===r.indexOf(e))throw new i('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(e){return e},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=function(e){var n={};return null!==e&&Object.keys(e).forEach(function(t){e[t].forEach(function(e){n[String(e)]=t})}),n}(e.styleAliases||null),-1===o.indexOf(this.kind))throw new i('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}},{"./exception":4}],14:[function(e,t,n){"use strict";var c;try{c=e("buffer").Buffer}catch(e){}var i=e("../type"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,i=0,r=e.length,o=u;for(n=0;n<r;n++)if(!(64<(t=o.indexOf(e.charAt(n))))){if(t<0)return!1;i+=6}return i%8==0},construct:function(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=u,a=0,s=[];for(t=0;t<r;t++)t%4==0&&t&&(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),a=a<<6|o.indexOf(i.charAt(t));return 0==(n=r%4*6)?(s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)):18==n?(s.push(a>>10&255),s.push(a>>2&255)):12==n&&s.push(a>>4&255),c?c.from?c.from(s):new c(s):s},predicate:function(e){return c&&c.isBuffer(e)},represent:function(e){var t,n,i="",r=0,o=e.length,a=u;for(t=0;t<o;t++)t%3==0&&t&&(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]),r=(r<<8)+e[t];return 0==(n=o%3)?(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]):2==n?(i+=a[r>>10&63],i+=a[r>>4&63],i+=a[r<<2&63],i+=a[64]):1==n&&(i+=a[r>>2&63],i+=a[r<<4&63],i+=a[64],i+=a[64]),i}})},{"../type":13}],15:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(e,t,n){"use strict";var i=e("../common"),r=e("../type"),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var a=/^[-+]?[0-9]+e/;t.exports=new r("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!o.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,i,r;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,r=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1==n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:0<=t.indexOf(":")?(t.split(":").forEach(function(e){r.unshift(parseFloat(e,10))}),t=0,i=1,r.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||i.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(e))return"-0.0";return n=e.toString(10),a.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(e,t,n){"use strict";var i=e("../common"),r=e("../type");t.exports=new r("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,i,r,o=e.length,a=0,s=!1;if(!o)return!1;if("-"!==(t=e[a])&&"+"!==t||(t=e[++a]),"0"===t){if(a+1===o)return!0;if("b"===(t=e[++a])){for(a++;a<o;a++)if("_"!==(t=e[a])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(a++;a<o;a++)if("_"!==(t=e[a])){if(!(48<=(i=e.charCodeAt(a))&&i<=57||65<=i&&i<=70||97<=i&&i<=102))return!1;s=!0}return s&&"_"!==t}for(;a<o;a++)if("_"!==(t=e[a])){if(!(48<=(n=e.charCodeAt(a))&&n<=55))return!1;s=!0}return s&&"_"!==t}if("_"===t)return!1;for(;a<o;a++)if("_"!==(t=e[a])){if(":"===t)break;if(!(48<=(r=e.charCodeAt(a))&&r<=57))return!1;s=!0}return!(!s||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(a)))},construct:function(e){var t,n,i=e,r=1,o=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),"-"!==(t=i[0])&&"+"!==t||("-"===t&&(r=-1),t=(i=i.slice(1))[0]),"0"===i?0:"0"===t?"b"===i[1]?r*parseInt(i.slice(2),2):"x"===i[1]?r*parseInt(i,16):r*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),i=0,n=1,o.forEach(function(e){i+=e*n,n*=60}),r*i):r*parseInt(i,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!i.isNegativeZero(e)},represent:{binary:function(e){return 0<=e?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return 0<=e?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return 0<=e?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(e,t,n){"use strict";var o;try{o=e("esprima")}catch(e){"undefined"!=typeof window&&(o=window.esprima)}var i=e("../../type");t.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",n=o.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}},construct:function(e){var t,n="("+e+")",i=o.parse(n,{range:!0}),r=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){r.push(e.name)}),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(r,n.slice(t[0]+1,t[1]-1)):new Function(r,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},{"../../type":13}],19:[function(e,t,n){"use strict";var i=e("../../type");t.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),i="";if("/"===t[0]){if(n&&(i=n[1]),3<i.length)return!1;if("/"!==t[t.length-i.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),i="";return"/"===t[0]&&(n&&(i=n[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},{"../../type":13}],20:[function(e,t,n){"use strict";var i=e("../../type");t.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}})},{"../../type":13}],21:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},{"../type":13}],22:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},{"../type":13}],23:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(e,t,n){"use strict";var i=e("../type"),c=Object.prototype.hasOwnProperty,u=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,i,r,o,a=[],s=e;for(t=0,n=s.length;t<n;t+=1){if(i=s[t],o=!1,"[object Object]"!==u.call(i))return!1;for(r in i)if(c.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==a.indexOf(r))return!1;a.push(r)}return!0},construct:function(e){return null!==e?e:[]}})},{"../type":13}],25:[function(e,t,n){"use strict";var i=e("../type"),s=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(i=a[t],"[object Object]"!==s.call(i))return!1;if(1!==(r=Object.keys(i)).length)return!1;o[t]=[r[0],i[r[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)i=a[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}})},{"../type":13}],26:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},{"../type":13}],27:[function(e,t,n){"use strict";var i=e("../type"),r=Object.prototype.hasOwnProperty;t.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(r.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},{"../type":13}],28:[function(e,t,n){"use strict";var i=e("../type");t.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},{"../type":13}],29:[function(e,t,n){"use strict";var i=e("../type"),p=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),f=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==p.exec(e)||null!==f.exec(e))},construct:function(e){var t,n,i,r,o,a,s,c,u=0,l=null;if(null===(t=p.exec(e))&&(t=f.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],a=+t[5],s=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(l=-l)),c=new Date(Date.UTC(n,i,r,o,a,s,u)),l&&c.setTime(c.getTime()-l),c},instanceOf:Date,represent:function(e){return e.toISOString()}})},{"../type":13}],"/":[function(e,t,n){"use strict";var i=e("./lib/js-yaml.js");t.exports=i},{"./lib/js-yaml.js":1}]},{},[])("/")});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("ContentRendering/MarkdownMetadataPlugin",["require","exports","3rdParty/js-yaml","OfficeFabric/Utilities","VSS/Utils/Date"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(n){this.yamlMetadata=new RegExp("((^-{3}\\s*$)((\n|.)*?)(^-{3}\\s*$))?","m");this.FULL_MATCH_GROUP_INDEX=0;this.YAML_TEXT_GROUP_INDEX=3;this.MAX_NESTING=2;n.block.ruler.before("table","meta",this.parseMetadata,{})}return n.prototype.parseMetadata=function(n,t){if(t==0&&n){var r=this._extractYaml(n),i=void 0;if(r&&(i=this._getJsonFromYaml(r)),i)return this._generateTokens(n,i),!0}return n.line=t,!1},n.prototype._extractYaml=function(n){var i=this.yamlMetadata.exec(n.src),r,t;if(i===null||i.length===0)return null;for(r=this._getGroup(i,this.FULL_MATCH_GROUP_INDEX).length,t=0;t<n.eMarks.length;t++)if(r<=n.eMarks[t])break;return n.line=t+1,this._getGroup(i,this.YAML_TEXT_GROUP_INDEX)},n.prototype._getJsonFromYaml=function(n){try{return i.load(n)}catch(t){return null}},n.prototype._getGroup=function(n,t){return n&&n.length>t&&n[t]},n.prototype._generateTokens=function(n,t){Array.isArray(t)?this._generateListTokens(n,t):t&&typeof t=="object"&&this._generateObjectTokens(n,t)},n.prototype._generateObjectTokens=function(n,t,i){var r,e,f,o,u,s;if(i===void 0&&(i=0),i>this.MAX_NESTING){this._createInlineToken(n,JSON.stringify(t));return}for(this._applyAtttibutes(n.push("table_open","table",1)),n.push("thead_open","thead",1),n.push("tr_open","tr",1),r=0,e=Object.keys(t);r<e.length;r++)u=e[r],this._generateTokenForKey(u,n);for(n.push("tr_close","tr",-1),n.push("thead_close","thead",-1),n.push("tbody_open","tbody",1),n.push("tr_open","tr",1),f=0,o=Object.keys(t);f<o.length;f++)u=o[f],s=t[u],this._generateTokensForValue(s,n,i+1);n.push("tr_close","tr",-1);n.push("tbody_close","tbody",-1);n.push("table_close","table",-1)},n.prototype._generateListTokens=function(n,t,i){var r,u,f;if(i===void 0&&(i=0),i>this.MAX_NESTING){this._createInlineToken(n,JSON.stringify(t));return}for(this._applyAtttibutes(n.push("table_open","table",1)),n.push("tr_open","tr",1),r=0,u=t;r<u.length;r++)f=u[r],this._generateTokensForValue(f,n,i+1);n.push("tr_close","tr",-1);n.push("table_close","table",-1)},n.prototype._generateTokensForValue=function(n,t,i){t.push("td_open","td",1);Array.isArray(n)?this._generateListTokens(t,n,i):n&&Object.prototype.toString.call(n)==="[object Date]"?this._createInlineToken(t,u.localeFormat(n,"g")):n&&typeof n=="object"?this._generateObjectTokens(t,n,i):this._createInlineToken(t,new String(n));t.push("td_close","td",-1)},n.prototype._generateTokenForKey=function(n,t){t.push("th_open","th",1);var i=t.push("inline","",0);i.content=new String(n);i.children=[];t.push("th_close","th",-1)},n.prototype._applyAtttibutes=function(n){(n.attrs=n.attrs||[]).push(["class","metadata-yaml-table"])},n.prototype._createInlineToken=function(n,t){var i=n.push("inline","",0);i.content=t;i.children=[]},__decorate([r.autobind],n.prototype,"parseMetadata",null),n}();t.MarkdownMetadataPlugin=f});

define("ContentRendering/Resources/VSS.Resources.ContentRendering",["require","exports"],function(require,exports){var e=exports;e.CharacterCounts="{0}/{1}";e.AttachmentInstructions="Drag \u0026 drop, paste, or select files to insert.";e.MarkdownNumberedList="Numbered List";e.MarkdownInstructions="Markdown supported.";e.AttachmentDocumentation="Navigate to attachments instructions page";e.InsertFormulasText="Insert formula";e.MarkdownBulletedList="Bulleted List";e.MarkdownDocumentation="Navigate to markdown instructions page";e.AttachmentInstructionsLink="Learn more about attachments.";e.MarkdownCode="Code";e.MarkdownBold="Bold (Ctrl+B)";e.MarkdownLink="Link (Ctrl+K)";e.YAMLTagsText="YAML Tag";e.MarkdownTocHeading="Contents";e.MarkdownHeaderN="Header {0}";e.FormulasText="Formulas";e.AttachmentHelpText="Insert a file";e.InsertYAMLTagsText="Insert YAML tag";e.MarkdownTaskList="Task List";e.ToolbarOverflowAriaLabel="More options";e.MarkdownHeader="Header";e.YAMLTagPreviewSubString5="Hello world";e.YAMLTagPreviewSubString4="title";e.YAMLTagPreviewSubString1="post";e.YAMLTagPreviewSubString0="tags";e.YAMLTagPreviewSubString3="web";e.YAMLTagPreviewSubString2="code";e.MarkdownItalic="Italic (Ctrl+I)";});

!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define("string",e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.S=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function count(self,substr){var count=0;var pos=self.indexOf(substr);while(pos>=0){count+=1;pos=self.indexOf(substr,pos+1)}return count}module.exports=count},{}],2:[function(_dereq_,module,exports){function splitLeft(self,sep,maxSplit,limit){if(typeof maxSplit==="undefined"){var maxSplit=-1}var splitResult=self.split(sep);var splitPart1=splitResult.slice(0,maxSplit);var splitPart2=splitResult.slice(maxSplit);if(splitPart2.length===0){splitResult=splitPart1}else{splitResult=splitPart1.concat(splitPart2.join(sep))}if(typeof limit==="undefined"){return splitResult}else if(limit<0){return splitResult.slice(limit)}else{return splitResult.slice(0,limit)}}module.exports=splitLeft},{}],3:[function(_dereq_,module,exports){function splitRight(self,sep,maxSplit,limit){if(typeof maxSplit==="undefined"){var maxSplit=-1}if(typeof limit==="undefined"){var limit=0}var splitResult=[self];for(var i=self.length-1;i>=0;i--){if(splitResult[0].slice(i).indexOf(sep)===0&&(splitResult.length<=maxSplit||maxSplit===-1)){splitResult.splice(1,0,splitResult[0].slice(i+sep.length));splitResult[0]=splitResult[0].slice(0,i)}}if(limit>=0){return splitResult.slice(-limit)}else{return splitResult.slice(0,-limit)}}module.exports=splitRight},{}],4:[function(_dereq_,module,exports){!function(){"use strict";var VERSION="3.3.3";var ENTITIES={};var latin_map={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","ẞ":"SS","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ß":"ss","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"};function initialize(object,s){if(s!==null&&s!==undefined){if(typeof s==="string")object.s=s;else object.s=s.toString()}else{object.s=s}object.orig=s;if(s!==null&&s!==undefined){if(object.__defineGetter__){object.__defineGetter__("length",function(){return object.s.length})}else{object.length=s.length}}else{object.length=-1}}function S(s){initialize(this,s)}var __nsp=String.prototype;var __sp=S.prototype={between:function(left,right){var s=this.s;var startPos=s.indexOf(left);var endPos=s.indexOf(right,startPos+left.length);if(endPos==-1&&right!=null)return new this.constructor("");else if(endPos==-1&&right==null)return new this.constructor(s.substring(startPos+left.length));else return new this.constructor(s.slice(startPos+left.length,endPos))},camelize:function(){var s=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(mathc,sep,c){return c?c.toUpperCase():""});return new this.constructor(s)},capitalize:function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(index){return this.s.charAt(index)},chompLeft:function(prefix){var s=this.s;if(s.indexOf(prefix)===0){s=s.slice(prefix.length);return new this.constructor(s)}else{return this}},chompRight:function(suffix){if(this.endsWith(suffix)){var s=this.s;s=s.slice(0,s.length-suffix.length);return new this.constructor(s)}else{return this}},collapseWhitespace:function(){var s=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(s)},contains:function(ss){return this.s.indexOf(ss)>=0},count:function(ss){return _dereq_("./_count")(this.s,ss)},dasherize:function(){var s=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(s)},equalsIgnoreCase:function(prefix){var s=this.s;return s.toLowerCase()==prefix.toLowerCase()},latinise:function(){var s=this.replace(/[^A-Za-z0-9\[\] ]/g,function(x){return latin_map[x]||x});return new this.constructor(s)},decodeHtmlEntities:function(){var s=this.s;s=s.replace(/&#(\d+);?/g,function(_,code){return String.fromCharCode(code)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(_,hex){return String.fromCharCode(parseInt(hex,16))}).replace(/&([^;\W]+;?)/g,function(m,e){var ee=e.replace(/;$/,"");var target=ENTITIES[e]||e.match(/;$/)&&ENTITIES[ee];if(typeof target==="number"){return String.fromCharCode(target)}else if(typeof target==="string"){return target}else{return m}});return new this.constructor(s)},endsWith:function(){var suffixes=Array.prototype.slice.call(arguments,0);for(var i=0;i<suffixes.length;++i){var l=this.s.length-suffixes[i].length;if(l>=0&&this.s.indexOf(suffixes[i],l)===l)return true}return false},escapeHTML:function(){return new this.constructor(this.s.replace(/[&<>"']/g,function(m){return"&"+reversedEscapeChars[m]+";"}))},ensureLeft:function(prefix){var s=this.s;if(s.indexOf(prefix)===0){return this}else{return new this.constructor(prefix+s)}},ensureRight:function(suffix){var s=this.s;if(this.endsWith(suffix)){return this}else{return new this.constructor(s+suffix)}},humanize:function(){if(this.s===null||this.s===undefined)return new this.constructor("");var s=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new this.constructor(s)},isAlpha:function(){return!/[^a-z\xDF-\xFF]|^$/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xDF-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return this.s===null||this.s===undefined?true:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(N){if(N>=0){var s=this.s.substr(0,N);return new this.constructor(s)}else{return this.right(-N)}},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(len,ch){if(ch==null)ch=" ";if(this.s.length>=len)return new this.constructor(this.s);len=len-this.s.length;var left=Array(Math.ceil(len/2)+1).join(ch);var right=Array(Math.floor(len/2)+1).join(ch);return new this.constructor(left+this.s+right)},padLeft:function(len,ch){if(ch==null)ch=" ";if(this.s.length>=len)return new this.constructor(this.s);return new this.constructor(Array(len-this.s.length+1).join(ch)+this.s)},padRight:function(len,ch){if(ch==null)ch=" ";if(this.s.length>=len)return new this.constructor(this.s);return new this.constructor(this.s+Array(len-this.s.length+1).join(ch))},parseCSV:function(delimiter,qualifier,escape,lineDelimiter){delimiter=delimiter||",";escape=escape||"\\";if(typeof qualifier=="undefined")qualifier='"';var i=0,fieldBuffer=[],fields=[],len=this.s.length,inField=false,inUnqualifiedString=false,self=this;var ca=function(i){return self.s.charAt(i)};if(typeof lineDelimiter!=="undefined")var rows=[];if(!qualifier)inField=true;while(i<len){var current=ca(i);switch(current){case escape:if(inField&&(escape!==qualifier||ca(i+1)===qualifier)){i+=1;fieldBuffer.push(ca(i));break}if(escape!==qualifier)break;case qualifier:inField=!inField;break;case delimiter:if(inUnqualifiedString){inField=false;inUnqualifiedString=false}if(inField&&qualifier)fieldBuffer.push(current);else{fields.push(fieldBuffer.join(""));fieldBuffer.length=0}break;case lineDelimiter:if(inUnqualifiedString){inField=false;inUnqualifiedString=false;fields.push(fieldBuffer.join(""));rows.push(fields);fields=[];fieldBuffer.length=0}else if(inField){fieldBuffer.push(current)}else{if(rows){fields.push(fieldBuffer.join(""));rows.push(fields);fields=[];fieldBuffer.length=0}}break;case" ":if(inField)fieldBuffer.push(current);break;default:if(inField)fieldBuffer.push(current);else if(current!==qualifier){fieldBuffer.push(current);inField=true;inUnqualifiedString=true}break}i+=1}fields.push(fieldBuffer.join(""));if(rows){rows.push(fields);return rows}return fields},replaceAll:function(ss,r){var s=this.s.split(ss).join(r);return new this.constructor(s)},splitLeft:function(sep,maxSplit,limit){return _dereq_("./_splitLeft")(this.s,sep,maxSplit,limit)},splitRight:function(sep,maxSplit,limit){return _dereq_("./_splitRight")(this.s,sep,maxSplit,limit)},strip:function(){var ss=this.s;for(var i=0,n=arguments.length;i<n;i++){ss=ss.split(arguments[i]).join("")}return new this.constructor(ss)},stripLeft:function(chars){var regex;var pattern;var ss=ensureString(this.s);if(chars===undefined){pattern=/^\s+/g}else{regex=escapeRegExp(chars);pattern=new RegExp("^["+regex+"]+","g")}return new this.constructor(ss.replace(pattern,""))},stripRight:function(chars){var regex;var pattern;var ss=ensureString(this.s);if(chars===undefined){pattern=/\s+$/g}else{regex=escapeRegExp(chars);pattern=new RegExp("["+regex+"]+$","g")}return new this.constructor(ss.replace(pattern,""))},right:function(N){if(N>=0){var s=this.s.substr(this.s.length-N,N);return new this.constructor(s)}else{return this.left(-N)}},setValue:function(s){initialize(this,s);return this},slugify:function(){var sl=new S(new S(this.s).latinise().s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;if(sl.charAt(0)==="-")sl=sl.substr(1);return new this.constructor(sl)},startsWith:function(){var prefixes=Array.prototype.slice.call(arguments,0);for(var i=0;i<prefixes.length;++i){if(this.s.lastIndexOf(prefixes[i],0)===0)return true}return false},stripPunctuation:function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var s=this.s,args=arguments.length>0?arguments:[""];multiArgs(args,function(tag){s=s.replace(RegExp("</?"+tag+"[^<>]*>","gi"),"")});return new this.constructor(s)},template:function(values,opening,closing){var s=this.s;var opening=opening||Export.TMPL_OPEN;var closing=closing||Export.TMPL_CLOSE;var open=opening.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$");var close=closing.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$");var r=new RegExp(open+"(.+?)"+close,"g");var matches=s.match(r)||[];matches.forEach(function(match){var key=match.substring(opening.length,match.length-closing.length).trim();var value=typeof values[key]=="undefined"?"":values[key];s=s.replace(match,value)});return new this.constructor(s)},times:function(n){return new this.constructor(new Array(n+1).join(this.s))},titleCase:function(){var s=this.s;if(s){s=s.replace(/(^[a-z]| [a-z]|-[a-z]|_[a-z])/g,function($1){return $1.toUpperCase()})}return new this.constructor(s)},toBoolean:function(){if(typeof this.orig==="string"){var s=this.s.toLowerCase();return s==="true"||s==="yes"||s==="on"||s==="1"}else return this.orig===true||this.orig===1},toFloat:function(precision){var num=parseFloat(this.s);if(precision)return parseFloat(num.toFixed(precision));else return num},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var s;if(typeof __nsp.trim==="undefined")s=this.s.replace(/(^\s*|\s*$)/g,"");else s=this.s.trim();return new this.constructor(s)},trimLeft:function(){var s;if(__nsp.trimLeft)s=this.s.trimLeft();else s=this.s.replace(/(^\s*)/g,"");return new this.constructor(s)},trimRight:function(){var s;if(__nsp.trimRight)s=this.s.trimRight();else s=this.s.replace(/\s+$/,"");return new this.constructor(s)},truncate:function(length,pruneStr){var str=this.s;length=~~length;pruneStr=pruneStr||"...";if(str.length<=length)return new this.constructor(str);var tmpl=function(c){return c.toUpperCase()!==c.toLowerCase()?"A":" "},template=str.slice(0,length+1).replace(/.(?=\W*\w*$)/g,tmpl);if(template.slice(template.length-2).match(/\w\w/))template=template.replace(/\s*\S+$/,"");else template=new S(template.slice(0,template.length-1)).trimRight().s;return(template+pruneStr).length>str.length?new S(str):new S(str.slice(0,template.length)+pruneStr)},toCSV:function(){var delim=",",qualifier='"',escape="\\",encloseNumbers=true,keys=false;var dataArray=[];function hasVal(it){return it!==null&&it!==""}if(typeof arguments[0]==="object"){delim=arguments[0].delimiter||delim;delim=arguments[0].separator||delim;qualifier=arguments[0].qualifier||qualifier;encloseNumbers=!!arguments[0].encloseNumbers;escape=arguments[0].escape||escape;keys=!!arguments[0].keys}else if(typeof arguments[0]==="string"){delim=arguments[0]}if(typeof arguments[1]==="string")qualifier=arguments[1];if(arguments[1]===null)qualifier=null;if(this.orig instanceof Array)dataArray=this.orig;else{for(var key in this.orig)if(this.orig.hasOwnProperty(key))if(keys)dataArray.push(key);else dataArray.push(this.orig[key])}var rep=escape+qualifier;var buildString=[];for(var i=0;i<dataArray.length;++i){var shouldQualify=hasVal(qualifier);if(typeof dataArray[i]=="number")shouldQualify&=encloseNumbers;if(shouldQualify)buildString.push(qualifier);if(dataArray[i]!==null&&dataArray[i]!==undefined){var d=new S(dataArray[i]).replaceAll(qualifier,rep).s;buildString.push(d)}else buildString.push("");if(shouldQualify)buildString.push(qualifier);if(delim)buildString.push(delim)}buildString.length=buildString.length-1;return new this.constructor(buildString.join(""))},toString:function(){return this.s},underscore:function(){var s=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new this.constructor(s)},unescapeHTML:function(){return new this.constructor(this.s.replace(/\&([^;]+);/g,function(entity,entityCode){var match;if(entityCode in escapeChars){return escapeChars[entityCode]}else if(match=entityCode.match(/^#x([\da-fA-F]+)$/)){return String.fromCharCode(parseInt(match[1],16))}else if(match=entityCode.match(/^#(\d+)$/)){return String.fromCharCode(~~match[1])}else{return entity}}))},valueOf:function(){return this.s.valueOf()},wrapHTML:function(tagName,tagAttrs){var s=this.s,el=tagName==null?"span":tagName,elAttr="",wrapped="";if(typeof tagAttrs=="object")for(var prop in tagAttrs)elAttr+=" "+prop+'="'+new this.constructor(tagAttrs[prop]).escapeHTML()+'"';s=wrapped.concat("<",el,elAttr,">",this,"</",el,">");return new this.constructor(s)}};var methodsAdded=[];function extendPrototype(){for(var name in __sp){(function(name){var func=__sp[name];if(!__nsp.hasOwnProperty(name)){methodsAdded.push(name);__nsp[name]=function(){String.prototype.s=this;return func.apply(this,arguments)}}})(name)}}function restorePrototype(){for(var i=0;i<methodsAdded.length;++i)delete String.prototype[methodsAdded[i]];methodsAdded.length=0}var nativeProperties=getNativeStringProperties();for(var name in nativeProperties){(function(name){var stringProp=__nsp[name];if(typeof stringProp=="function"){if(!__sp[name]){if(nativeProperties[name]==="string"){__sp[name]=function(){return new this.constructor(stringProp.apply(this,arguments))}}else{__sp[name]=stringProp}}}})(name)}__sp.repeat=__sp.times;__sp.include=__sp.contains;__sp.toInteger=__sp.toInt;__sp.toBool=__sp.toBoolean;__sp.decodeHTMLEntities=__sp.decodeHtmlEntities;__sp.constructor=S;function getNativeStringProperties(){var names=getNativeStringPropertyNames();var retObj={};for(var i=0;i<names.length;++i){var name=names[i];if(name==="to"||name==="toEnd")continue;var func=__nsp[name];try{var type=typeof func.apply("teststring");retObj[name]=type}catch(e){}}return retObj}function getNativeStringPropertyNames(){var results=[];if(Object.getOwnPropertyNames){results=Object.getOwnPropertyNames(__nsp);results.splice(results.indexOf("valueOf"),1);results.splice(results.indexOf("toString"),1);return results}else{var stringNames={};var objectNames=[];for(var name in String.prototype)stringNames[name]=name;for(var name in Object.prototype)delete stringNames[name];for(var name in stringNames){results.push(name)}return results}}function Export(str){return new S(str)}Export.extendPrototype=extendPrototype;Export.restorePrototype=restorePrototype;Export.VERSION=VERSION;Export.TMPL_OPEN="{{";Export.TMPL_CLOSE="}}";Export.ENTITIES=ENTITIES;if(typeof module!=="undefined"&&typeof module.exports!=="undefined"){module.exports=Export}else{if(typeof define==="function"&&define.amd){define([],function(){return Export})}else{window.S=Export}}function multiArgs(args,fn){var result=[],i;for(i=0;i<args.length;i++){result.push(args[i]);if(fn)fn.call(args,args[i],i)}return result}var escapeChars={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"};function escapeRegExp(s){var c;var i;var ret=[];var re=/^[A-Za-z0-9]+$/;s=ensureString(s);for(i=0;i<s.length;++i){c=s.charAt(i);if(re.test(c)){ret.push(c)}else{if(c==="\\000"){ret.push("\\000")}else{ret.push("\\"+c)}}}return ret.join("")}function ensureString(string){return string==null?"":""+string}var reversedEscapeChars={};for(var key in escapeChars){reversedEscapeChars[escapeChars[key]]=key}ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this)},{"./_count":1,"./_splitLeft":2,"./_splitRight":3}]},{},[4])(4)});

/* Version used in VSTS : 4.2.0 */
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

define("lodash.assign",function (require, exports, module) {
  /** Used as references for various `Number` constants. */
  var MAX_SAFE_INTEGER = 9007199254740991;

  /** `Object#toString` result references. */
  var argsTag = '[object Arguments]',
      funcTag = '[object Function]',
      genTag = '[object GeneratorFunction]';

  /** Used to detect unsigned integer values. */
  var reIsUint = /^(?:0|[1-9]\d*)$/;

  /**
   * A faster alternative to `Function#apply`, this function invokes `func`
   * with the `this` binding of `thisArg` and the arguments of `args`.
   *
   * @private
   * @param {Function} func The function to invoke.
   * @param {*} thisArg The `this` binding of `func`.
   * @param {Array} args The arguments to invoke `func` with.
   * @returns {*} Returns the result of `func`.
   */
  function apply(func, thisArg, args) {
    switch (args.length) {
      case 0: return func.call(thisArg);
      case 1: return func.call(thisArg, args[0]);
      case 2: return func.call(thisArg, args[0], args[1]);
      case 3: return func.call(thisArg, args[0], args[1], args[2]);
    }
    return func.apply(thisArg, args);
  }

  /**
   * The base implementation of `_.times` without support for iteratee shorthands
   * or max array length checks.
   *
   * @private
   * @param {number} n The number of times to invoke `iteratee`.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the array of results.
   */
  function baseTimes(n, iteratee) {
    var index = -1,
        result = Array(n);

    while (++index < n) {
      result[index] = iteratee(index);
    }
    return result;
  }

  /**
   * Creates a unary function that invokes `func` with its argument transformed.
   *
   * @private
   * @param {Function} func The function to wrap.
   * @param {Function} transform The argument transform.
   * @returns {Function} Returns the new function.
   */
  function overArg(func, transform) {
    return function(arg) {
      return func(transform(arg));
    };
  }

  /** Used for built-in method references. */
  var objectProto = Object.prototype;

  /** Used to check objects for own properties. */
  var hasOwnProperty = objectProto.hasOwnProperty;

  /**
   * Used to resolve the
   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
   * of values.
   */
  var objectToString = objectProto.toString;

  /** Built-in value references. */
  var propertyIsEnumerable = objectProto.propertyIsEnumerable;

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeKeys = overArg(Object.keys, Object),
      nativeMax = Math.max;

  /** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */
  var nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');

  /**
   * Creates an array of the enumerable property names of the array-like `value`.
   *
   * @private
   * @param {*} value The value to query.
   * @param {boolean} inherited Specify returning inherited property names.
   * @returns {Array} Returns the array of property names.
   */
  function arrayLikeKeys(value, inherited) {
    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
    // Safari 9 makes `arguments.length` enumerable in strict mode.
    var result = (isArray(value) || isArguments(value))
      ? baseTimes(value.length, String)
      : [];

    var length = result.length,
        skipIndexes = !!length;

    for (var key in value) {
      if ((inherited || hasOwnProperty.call(value, key)) &&
          !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
        result.push(key);
      }
    }
    return result;
  }

  /**
   * Assigns `value` to `key` of `object` if the existing value is not equivalent
   * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
   * for equality comparisons.
   *
   * @private
   * @param {Object} object The object to modify.
   * @param {string} key The key of the property to assign.
   * @param {*} value The value to assign.
   */
  function assignValue(object, key, value) {
    var objValue = object[key];
    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
        (value === undefined && !(key in object))) {
      object[key] = value;
    }
  }

  /**
   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   */
  function baseKeys(object) {
    if (!isPrototype(object)) {
      return nativeKeys(object);
    }
    var result = [];
    for (var key in Object(object)) {
      if (hasOwnProperty.call(object, key) && key != 'constructor') {
        result.push(key);
      }
    }
    return result;
  }

  /**
   * The base implementation of `_.rest` which doesn't validate or coerce arguments.
   *
   * @private
   * @param {Function} func The function to apply a rest parameter to.
   * @param {number} [start=func.length-1] The start position of the rest parameter.
   * @returns {Function} Returns the new function.
   */
  function baseRest(func, start) {
    start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
    return function() {
      var args = arguments,
          index = -1,
          length = nativeMax(args.length - start, 0),
          array = Array(length);

      while (++index < length) {
        array[index] = args[start + index];
      }
      index = -1;
      var otherArgs = Array(start + 1);
      while (++index < start) {
        otherArgs[index] = args[index];
      }
      otherArgs[start] = array;
      return apply(func, this, otherArgs);
    };
  }

  /**
   * Copies properties of `source` to `object`.
   *
   * @private
   * @param {Object} source The object to copy properties from.
   * @param {Array} props The property identifiers to copy.
   * @param {Object} [object={}] The object to copy properties to.
   * @param {Function} [customizer] The function to customize copied values.
   * @returns {Object} Returns `object`.
   */
  function copyObject(source, props, object, customizer) {
    object || (object = {});

    var index = -1,
        length = props.length;

    while (++index < length) {
      var key = props[index];

      var newValue = customizer
        ? customizer(object[key], source[key], key, object, source)
        : undefined;

      assignValue(object, key, newValue === undefined ? source[key] : newValue);
    }
    return object;
  }

  /**
   * Creates a function like `_.assign`.
   *
   * @private
   * @param {Function} assigner The function to assign values.
   * @returns {Function} Returns the new assigner function.
   */
  function createAssigner(assigner) {
    return baseRest(function(object, sources) {
      var index = -1,
          length = sources.length,
          customizer = length > 1 ? sources[length - 1] : undefined,
          guard = length > 2 ? sources[2] : undefined;

      customizer = (assigner.length > 3 && typeof customizer == 'function')
        ? (length--, customizer)
        : undefined;

      if (guard && isIterateeCall(sources[0], sources[1], guard)) {
        customizer = length < 3 ? undefined : customizer;
        length = 1;
      }
      object = Object(object);
      while (++index < length) {
        var source = sources[index];
        if (source) {
          assigner(object, source, index, customizer);
        }
      }
      return object;
    });
  }

  /**
   * Checks if `value` is a valid array-like index.
   *
   * @private
   * @param {*} value The value to check.
   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
   */
  function isIndex(value, length) {
    length = length == null ? MAX_SAFE_INTEGER : length;
    return !!length &&
      (typeof value == 'number' || reIsUint.test(value)) &&
      (value > -1 && value % 1 == 0 && value < length);
  }

  /**
   * Checks if the given arguments are from an iteratee call.
   *
   * @private
   * @param {*} value The potential iteratee value argument.
   * @param {*} index The potential iteratee index or key argument.
   * @param {*} object The potential iteratee object argument.
   * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
   *  else `false`.
   */
  function isIterateeCall(value, index, object) {
    if (!isObject(object)) {
      return false;
    }
    var type = typeof index;
    if (type == 'number'
          ? (isArrayLike(object) && isIndex(index, object.length))
          : (type == 'string' && index in object)
        ) {
      return eq(object[index], value);
    }
    return false;
  }

  /**
   * Checks if `value` is likely a prototype object.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
   */
  function isPrototype(value) {
    var Ctor = value && value.constructor,
        proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

    return value === proto;
  }

  /**
   * Performs a
   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
   * comparison between two values to determine if they are equivalent.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to compare.
   * @param {*} other The other value to compare.
   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
   * @example
   *
   * var object = { 'a': 1 };
   * var other = { 'a': 1 };
   *
   * _.eq(object, object);
   * // => true
   *
   * _.eq(object, other);
   * // => false
   *
   * _.eq('a', 'a');
   * // => true
   *
   * _.eq('a', Object('a'));
   * // => false
   *
   * _.eq(NaN, NaN);
   * // => true
   */
  function eq(value, other) {
    return value === other || (value !== value && other !== other);
  }

  /**
   * Checks if `value` is likely an `arguments` object.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an `arguments` object,
   *  else `false`.
   * @example
   *
   * _.isArguments(function() { return arguments; }());
   * // => true
   *
   * _.isArguments([1, 2, 3]);
   * // => false
   */
  function isArguments(value) {
    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
    return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
      (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
  }

  /**
   * Checks if `value` is classified as an `Array` object.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an array, else `false`.
   * @example
   *
   * _.isArray([1, 2, 3]);
   * // => true
   *
   * _.isArray(document.body.children);
   * // => false
   *
   * _.isArray('abc');
   * // => false
   *
   * _.isArray(_.noop);
   * // => false
   */
  var isArray = Array.isArray;

  /**
   * Checks if `value` is array-like. A value is considered array-like if it's
   * not a function and has a `value.length` that's an integer greater than or
   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
   * @example
   *
   * _.isArrayLike([1, 2, 3]);
   * // => true
   *
   * _.isArrayLike(document.body.children);
   * // => true
   *
   * _.isArrayLike('abc');
   * // => true
   *
   * _.isArrayLike(_.noop);
   * // => false
   */
  function isArrayLike(value) {
    return value != null && isLength(value.length) && !isFunction(value);
  }

  /**
   * This method is like `_.isArrayLike` except that it also checks if `value`
   * is an object.
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an array-like object,
   *  else `false`.
   * @example
   *
   * _.isArrayLikeObject([1, 2, 3]);
   * // => true
   *
   * _.isArrayLikeObject(document.body.children);
   * // => true
   *
   * _.isArrayLikeObject('abc');
   * // => false
   *
   * _.isArrayLikeObject(_.noop);
   * // => false
   */
  function isArrayLikeObject(value) {
    return isObjectLike(value) && isArrayLike(value);
  }

  /**
   * Checks if `value` is classified as a `Function` object.
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a function, else `false`.
   * @example
   *
   * _.isFunction(_);
   * // => true
   *
   * _.isFunction(/abc/);
   * // => false
   */
  function isFunction(value) {
    // The use of `Object#toString` avoids issues with the `typeof` operator
    // in Safari 8-9 which returns 'object' for typed array and other constructors.
    var tag = isObject(value) ? objectToString.call(value) : '';
    return tag == funcTag || tag == genTag;
  }

  /**
   * Checks if `value` is a valid array-like length.
   *
   * **Note:** This method is loosely based on
   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
   * @example
   *
   * _.isLength(3);
   * // => true
   *
   * _.isLength(Number.MIN_VALUE);
   * // => false
   *
   * _.isLength(Infinity);
   * // => false
   *
   * _.isLength('3');
   * // => false
   */
  function isLength(value) {
    return typeof value == 'number' &&
      value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
  }

  /**
   * Checks if `value` is the
   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
   *
   * @static
   * @memberOf _
   * @since 0.1.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is an object, else `false`.
   * @example
   *
   * _.isObject({});
   * // => true
   *
   * _.isObject([1, 2, 3]);
   * // => true
   *
   * _.isObject(_.noop);
   * // => true
   *
   * _.isObject(null);
   * // => false
   */
  function isObject(value) {
    var type = typeof value;
    return !!value && (type == 'object' || type == 'function');
  }

  /**
   * Checks if `value` is object-like. A value is object-like if it's not `null`
   * and has a `typeof` result of "object".
   *
   * @static
   * @memberOf _
   * @since 4.0.0
   * @category Lang
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
   * @example
   *
   * _.isObjectLike({});
   * // => true
   *
   * _.isObjectLike([1, 2, 3]);
   * // => true
   *
   * _.isObjectLike(_.noop);
   * // => false
   *
   * _.isObjectLike(null);
   * // => false
   */
  function isObjectLike(value) {
    return !!value && typeof value == 'object';
  }

  /**
   * Assigns own enumerable string keyed properties of source objects to the
   * destination object. Source objects are applied from left to right.
   * Subsequent sources overwrite property assignments of previous sources.
   *
   * **Note:** This method mutates `object` and is loosely based on
   * [`Object.assign`](https://mdn.io/Object/assign).
   *
   * @static
   * @memberOf _
   * @since 0.10.0
   * @category Object
   * @param {Object} object The destination object.
   * @param {...Object} [sources] The source objects.
   * @returns {Object} Returns `object`.
   * @see _.assignIn
   * @example
   *
   * function Foo() {
   *   this.a = 1;
   * }
   *
   * function Bar() {
   *   this.c = 3;
   * }
   *
   * Foo.prototype.b = 2;
   * Bar.prototype.d = 4;
   *
   * _.assign({ 'a': 0 }, new Foo, new Bar);
   * // => { 'a': 1, 'c': 3 }
   */
  var assigner = createAssigner(function(object, source) {
    if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {
      copyObject(source, keys(source), object);
      return;
    }
    for (var key in source) {
      if (hasOwnProperty.call(source, key)) {
        assignValue(object, key, source[key]);
      }
    }
  });

  /**
   * Creates an array of the own enumerable property names of `object`.
   *
   * **Note:** Non-object values are coerced to objects. See the
   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
   * for more details.
   *
   * @static
   * @since 0.1.0
   * @memberOf _
   * @category Object
   * @param {Object} object The object to query.
   * @returns {Array} Returns the array of property names.
   * @example
   *
   * function Foo() {
   *   this.a = 1;
   *   this.b = 2;
   * }
   *
   * Foo.prototype.c = 3;
   *
   * _.keys(new Foo);
   * // => ['a', 'b'] (iteration order is not guaranteed)
   *
   * _.keys('hi');
   * // => ['0', '1']
   */
  function keys(object) {
    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
  }

  module.exports = function assign(a, b, c) {
      return assigner(a, b, c);
  };
});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("ContentRendering/Markdown",["require","exports","3rdParty/markdown-it","3rdParty/markdown-it-emoji","3rdParty/markdown-it-imsize","3rdParty/markdown-it-task-lists","3rdParty/markdown-it-container","3rdParty/markdown-it-table-of-contents","3rdParty/remove-markdown","VSS/Utils/Html","ContentRendering/MarkdownItPlugins","ContentRendering/MarkdownConstants","ContentRendering/MarkdownMetadataPlugin","ContentRendering/Resources/VSS.Resources.ContentRendering","string","lodash.assign"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p;Object.defineProperty(t,"__esModule",{value:!0});y=function(){function t(n){var t=this;this.renderHtml=function(n){var i=t.renderer.render(n),u,r;return t.options&&t.options.html&&(t.options.katex?(u=["top"],r=["DATA"],i=h.HtmlNormalizer.normalizeStripAttributes(i,null,null,null,u,!0,r)):(r=["DATA"],i=h.HtmlNormalizer.normalizeStripAttributes(i,null,null,null,null,!0,r))),t.options&&t.options.sanitize&&(u=["top"],r=["DATA"],i=h.HtmlNormalizer.normalizeStripAttributes(i,null,null,null,u,!0,r)),i};this.parse=function(n){return t.renderer.parse(n,{})};this.options=n;this.renderer=this.getRenderer()}return t.prototype.getRenderer=function(){var y=this,h,p,w;return this.options?(h=i(this.options),h.use(function(n){return new c.LazyHeadersPlugin(n)}),h.use(function(n){return new c.AnchoredHeadersPlugin(n,y.options.enableHeaderAnchorSharing)}),h.use(function(n){return new c.LinkTransformerPlugin(n,y.options)}),h.use(function(n){return new c.ImageTransformerPlugin(n,y.options)}),h.use(f,{enabled:this.options.clickableTaskList}),this.options.emoji&&h.use(r),this.options.imageSize&&h.use(u),this.options.containerOptions&&(this.options.containerOptions.forEach(function(n){h.use(e,n.name,n)}),p=function(){return""},h.renderer.rules[l.MarkdownConstants.MaskedTokenType]=p),this.options.linkifyTlds&&h.linkify.tlds(this.options.linkifyTlds,!1),this.options.validateLink&&(h.validateLink=this.options.validateLink),this.options.katex&&(w=new Promise(function(t){n(["require","3rdParty/katex","VSS/LoaderPlugins/Css!ContentRendering/Katex/katex","3rdParty/markdown-it-katex"],function(n){var i=n("3rdParty/markdown-it-katex");h.use(i);t()})}),w.then(function(){this.options.onKatexLoad&&this.options.onKatexLoad()}.bind(this))),this.options.disableToc||(h.use(function(n){return new c.TableOfContentsPlugin(n,l.MarkdownConstants.TOCDefaultMarker,l.MarkdownConstants.NoTOCDefaultMarker)}),h.use(o,{includeLevel:[1,2,3,4,5,6],containerClass:"toc-container",markerPattern:l.MarkdownConstants.TOCDefaultMarkerPattern,forceFullToc:!0,transformLink:function(n){return y.options.linkTransformer?y.options.linkTransformer(n):n},slugify:function(n){return c.getEncodedTitle(h,n)},format:function(n){return n=s(n,{stripListLeaders:!1}),y.renderer.utils.unescapeMd(n)},containerHeaderHtml:'<div class="toc-container-header">'+v.MarkdownTocHeading+"<\/div>"})),this.options.enableYaml&&h.use(function(n){return new a.MarkdownMetadataPlugin(n)})):(t.defaultRenderer||(t.defaultRenderer=i(this.options),t.defaultRenderer.use(function(n){return new c.LazyHeadersPlugin(n)}),t.defaultRenderer.use(function(n){return new c.AnchoredHeadersPlugin(n)}),t.defaultRenderer.use(function(n){return new c.LinkTransformerPlugin(n)}),t.defaultRenderer.use(function(n){return new c.ImageTransformerPlugin(n)}),t.defaultRenderer.use(f)),h=t.defaultRenderer),h},t.prototype.resetCache=function(){t.defaultRenderer=null},t}();t.MarkdownRenderer=y;p=function(){function n(){}return n.convertAnchorName=function(n){return c.AnchoredHeadersPlugin.anchorNamePrefix+n},n.scroll=function(t,i){var f=i,r,e,u;return f.attributes.href&&(r=f.attributes.href.value,r&&r.length>1&&r.substr(0,1)==="#"&&(r=r.substr(1).toLowerCase(),e=n.convertAnchorName(r),u=document.getElementById(e),u))?(u.scrollIntoView(),!1):!0},n.attach=function(t){var e,o,i,u,r,f;if(t)for(e=t.getElementsByTagName("a"),o=[].slice.call(e,0),i=0,u=o;i<u.length;i++)r=u[i],r.attributes.href&&(f=r.attributes.href.value,f.length>1&&f.substr(0,1)==="#"&&(r.onclick=function(){return n.scroll(t,this)}))},n.attached=!1,n.initialHash="",n}();t.UserContentAnchorHelper=p});

define("VSS/Resources/VSS.Resources.Common",["require","exports"],function(require,exports){var e=exports;e.TeamHomeShowAllMembers="Show all members";e.Header_WelcomePortal="Azure DevOps Services";e.InvalidArtifactUri="TF400897: Invalid artifact uri: {0}";e.GettingStartedCreatingCollection="Creating collection...";e.AgoAMonth="a month ago";e.WelcomePageCreateProjectTitle="Create a team project";e.ViewProcessGuidance="View process guidance";e.Header_Privacy="Privacy policy";e.ErrorDuplicateRouteArea="TF400913: RoutingArea \u0027{0}\u0027 already registered.";e.ReleaseManagementStakeholderName="View Releases and Manage Approvals";e.TimeStampFullDate="{0}, {1}";e.NotAuthorizedToAccessPage="TF400894: You are not authorized to access this page. Please contact your project administrator.";e.HostedWelcomePageTitle="Welcome to Azure DevOps Services";e.NavigationHelpMenuMsdn="MSDN";e.TeamHomeOpeningWorkItemForm="Opening work item form...";e.InvalidExtensionManifest="Extension manifest file format is invalid. ";e.AgileBoardsFeatureDescription="Agile project management taskboards";e.AddSearchFilterType="Work item type:";e.Header_ExitAdministration="Exit administration";e.BrowseForExtensions="Browse Azure DevOps extensions";e.ErrorMissingManifestFileFormat="TF400903: Could not find manifest file ({0}) in the plugin archive";e.TrialModeReminderMessage_Today="\u003cb\u003etoday\u003c/b\u003e";e.ProjectNameNotSpecified="Project name must be specified.";e.NewTeamProjectText="New team project";e.Header_Support="Support";e.Backlog="Backlog";e.TeamDoesNotExistOrNoAccess="TF400914: The specified team, {0}, either does not exist or you do not have access to it.";e.OtherCollections="Other collections";e.ExpandAll="Expand all";e.PageTitleServerHome="Welcome to Azure DevOps Server";e.HighContrastThemeName="High contrast";e.FeedbackFeatureName="Request and Manage Feedback";e.StakeholderAccountExpiredReminderMessage="Your current license {0} has expired. You will be assigned a \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=403541\"\u003eStakeholder license\u003c/a\u003e temporarily. Please contact your organization administrator.";e.VersionControlProperty="Version control:";e.TestManagementForBasicUsersFeatureDescription="Run tests assigned to you using the web-based Test Runner.";e.WelcomePageGettingStarted="Getting started";e.ManageSecurity="Manage security";e.GettingStartedCreateCollectionProgressPart1="We are currently creating your first collection and finalizing your organization configuration.";e.TestManagementForStakeholderName="Test summary access to stakeholder license users";e.CollapseAllToolTip="Collapse all";e.TeamHomeConfigureAreas="Configure work areas...";e.MenuItemsLoading="Loading...";e.InvalidCallbackName="Callback name contains invalid characters.";e.HelpMenuLabel="Help";e.PageTitleProjectHome="{0} project";e.ErrorPluginNotFound="TF400906: The plugin {0} could not be found";e.Filter="Filter";e.NavigationContentMenuItem_Instance="Azure DevOps Server";e.PortfolioBacklogManagementFeatureDescription="Create a portfolio of features and initiatives and trace your product backlog items to portfolio items.";e.GettingStartedRetryTeamProjectCreationLink="Retry team project creation";e.GitSupport="Git support";e.AdministerServer="Manage server";e.Header_Administration="Administration";e.OpenInVisualStudioPartDesc="Open this Team Project in Visual Studio";e.TeamHomeManageMembers="Manage all members...";e.MoreMyTeams="More my teams...";e.WelcomePageBrowseAll="Browse all...";e.MyWork="My work";e.RemoveFromRecentItems="Remove from recent items";e.WelcomePageCreateProjectDescription="Add a team project to a team  project collection.";e.AgoAMinute="a minute ago";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.Header_KeyboardShortcuts="Keyboard shortcuts";e.Header_Community="Community";e.WorkItems="Work items";e.SendMailSendButton="Send";e.TestManagementInBuildAndReleaseFeatureDescription="Test services in build and release.";e.HubGroupDashboards="Dashboards";e.GettingStartedPatchLink="Download software";e.GettingStartedPatchText="Download and install the software necessary to connect to your team project from Visual Studio, Eclipse, Excel, or Microsoft Test Manager.";e.Application_NoTeamProjects="There are no team projects.";e.TeamSettings="Team settings";e.GettingStartedTeamProjectPart1="When your organization is ready, you will then be able to create a new team project for your team to collaborate in.";e.GettingStartedTeamProjectPart2="Create a new team project for your team to collaborate in.";e.WelcomePageNoRecentProjects="You haven\u0027t recently visited any project or teams.";e.SourcePropertiesGitUrl="Git repository URL";e.InvalidParameterFormat="Format of the parameter \u0027{0}\u0027 is invalid.";e.ViewBacklog="View backlog";e.BranchToDeployLabel="Branch to Deploy";e.TeamTitleFormat="{0} / {1}";e.ErrorNoPluginElementsFormat="TF400904: No plugin elements ({0}) were found in the plugin manifest file";e.TimeStampYesterdayAt="Yesterday at {0}";e.UnableToFindWindowsIdentity="Unable to find Windows identity for {0}";e.Gallery="Available extensions";e.SubscriptionLabel="Subscription";e.AgoHours="{0} hours ago";e.ManageWorkAreas="Manage work areas";e.AgoAYear="a year ago";e.AgoAWeek="a week ago";e.ManageProject="Manage project";e.ManageProfile="My profile";e.AgoYears="{0} years ago";e.ErrorPluginNameInvalidCharsFormat="Invalid character(s) in the plugin name. Plugin name can contain only letters, digits, space and the following characters:\r\n\r\n    {0}";e.AgoWeeks="{0} weeks ago";e.TeamHomeConfigureIterations="Configure schedule and iterations...";e.PortfolioBacklogManagementFeatureName="Agile Portfolio Management";e.TestManagementForStakeholderDescription="Stakeholder license users can view test summary charts on dashboards";e.NavigationContextMenuDefaultLabel="Projects";e.FilterToolTip="Filter";e.NavigationContentMenuItem_TeamProjectCollection="Collection";e.MoreMyCollections="More my collections...";e.ProjectHomeBladeTitle="Team Project";e.ExtensionSlowLoadWarningHeader="An Azure DevOps extension is loading slowly. Expand details to view options.";e.NavigationContextMenuBackToWelcomePage="Back to Welcome Page";e.TeamHomeMembersTitleFormat="Members ({0})";e.HtmlContentMsdnEligible="\u003cspan class=\"refresh-action\" \u003e\u003cb\u003eRetry\u003c/b\u003e\u003c/span\u003e";e.BranchToDeployMessage="Since your repository does not yet have a branch created, we will automatically use the first branch you create for deployments.";e.PropertiesPartTitle="Properties";e.CreateTeamProjectTitle="Create Team Project";e.NewMenuTitle="New";e.GettingStartedTutorialFeedbackDesc="Provide suggestions for how we can improve our Azure DevOps Services.";e.AdvancedPortfolioBacklogManagementFeatureDescription="Advanced portfolio management.";e.GettingStartedErrorCreatingProject="TF400911: There was an error creating the project. Please try again and if the problem persists \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=534538\" target=\u0027_blank\u0027\u003econtact our support team\u003c/a\u003e";e.StakeholderExpiredLicenseReminderLink="https://go.microsoft.com/fwlink/?LinkID=403541";e.SetupDeploymentDescription="Build, test, and deploy your website automatically when you check in code.";e.TeamProjectRenamedGlobalMessage="The team project {0} has been renamed to {1}";e.ProjectPickerBladeTitle="Choose project";e.TestManagementFeatureDescription="Web-based Test Case Management functionality.";e.ProjectNameInvalid="The project name is not valid.";e.BacklogManagementFeatureName="Basic backlog and sprint planning tools";e.TeamProjectWatermark="Enter team project name...";e.WelcomePageProjectConnectionMessage="Click \"Browse all...\" to connect to a project.";e.ExtensionDoesNotExist="Extension does not exist.";e.ReleaseManagementStakeholderDescription="View Releases and Manage Approvals";e.CreateProjectFailedMessage="Create Project Failed";e.FeatureEnablementSettings_Error_Invalid_Admin="TF400917: The current configuration is not valid for this feature. This feature cannot be used until you correct the configuration.";e.ManageExtensions="Manage extensions";e.ChartAuthoringFeatureName="Chart Authoring";e.ProjectCreationErrorTryAgain="try again";e.SendMailNoSubjectWarning="Are you sure you want to send this mail without a subject?";e.SignOut="Sign out";e.SidebarSearchWatermark="Search...";e.BacklogManagementFeatureDescription="Basic agile project management product and sprint backlog";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.CreateFirstProjectWelcomeText="Welcome.  Your organization, \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e, is created and ready to go.  Now create your first team project where you’ll host your code and backlog. ";e.ExtensionErrorHeader="Failed to load extension";e.ProjectTeams="{0} teams";e.ProjectTitleFormat="{0}";e.RequiredFieldWatermark="Required...";e.ChartViewingFeatureDescription="View custom charts of your work item data.";e.CloseBrowserToCompleteSignoutMessage="You must close your browser to complete the sign out process.";e.Administration="Administration";e.NotSupportedBrowserMessage="\u003ch2\u003eAzure DevOps is designed for you, but maybe not for your browser.\u003c/h2\u003e\r\n\u003cp\u003eSome Azure DevOps features might not work correctly with the version of the web browser you\u0027re currently using.\u003c/p\u003e\r\n\u003cp\u003eTo get the most out of Azure DevOps, we recommend that you take a few minutes to upgrade to the current version of one of these browsers:\u003cbr\u003e\r\n  \u003cul\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://windows.microsoft.com/en-US/internet-explorer/downloads/ie\"\u003eInternet Explorer\u003c/a\u003e\u003c/li\u003e\r\n  \u003cli\u003e\u003ca href=https://www.microsoft.com/en-us/windows/microsoft-edge\"\u003eMicrosoft Edge\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.mozilla.com/en-US/firefox/new/\"\u003eMozilla Firefox\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.google.com/chrome\"\u003eGoogle Chrome\u003c/a\u003e\u003c/li\u003e\r\n\t\u003cli\u003e\u003ca href=\"https://www.apple.com/safari/\"\u003eSafari\u003c/a\u003e\u003c/li\u003e\r\n  \u003cul\u003e\r\n\u003c/p\u003e";e.TeamHomeMoreWorkItemTypes="more";e.PinnedItemsTileInfoMessage="You can pin builds, version control paths, work item queries and charts to the team homepage to display them as tiles.";e.ProcessTemplateLabel="Process Template";e.ManageTeamMembers="Manage team members";e.ProjectSettings="Project settings";e.EarlyAdopterModeReminderMessage_MultipleDays="Your account is an Early Adopter account. In \u003cb\u003e{0} days\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.PageTitle_Hosted="Microsoft Azure DevOps Services";e.RequestFeedback="Request feedback";e.WelcomePageServerAdministrationDescription="Manage team project collections, team projects, users, groups, and permissions.";e.StakeholderReminderMessage="As a stakeholder, you can access the backlog, task and Kanban boards, work items and manage approvals for Releases. {0}.";e.EarlyAdopterAccountLearnMoreUrl="https://go.microsoft.com/fwlink/?LinkID=330423";e.ManageTeams="Manage teams";e.AjaxRequestFailedWithStatus="Ajax request failed with status: {0}.";e.HomePageUpgradeToFullVersionMessage="Azure DevOps Services is live! Up to 5 users are free, plus for a limited time all use is free. \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=269576\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.CancelText="Cancel";e.GettingStartedTeamProject="Create a team project";e.ActionsTitle="Actions";e.ProjectHomeBladeSubTitle="Team Project";e.PinnedItemsTitle="Pinned Items";e.Marketplace="Marketplace";e.ErrorPluginElementMissingNameFormat="TF400905: A plugin element ({0}) was found with no \"{1}\" attribute";e.ReleaseManagementFeatureName="Author Release Pipelines and Manage Releases";e.UnsavedChanges="You have unsaved changes.";e.ManageSecurityPreferences="Security";e.AllItemsText="All";e.SignInAsDifferentUser="Sign in as...";e.StakeholderMsdnExpiredReminderMessage="Your MSDN subscription has expired. You will be assigned a \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=403541\"\u003eStakeholder license\u003c/a\u003e temporarily. Check your MSDN subscription status at \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=513087\"\u003eMy Account portal\u003c/a\u003e.";e.CollapseAll="Collapse all";e.Header_About="About";e.WelcomePageViewOnlineHelpTitle="Visit the MSDN Library";e.AdministerAccount="Manage organization";e.CDNDisclaimer="Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – https://www.asp.net/ajaxlibrary/CDN.ashx.";e.SourceQuickStartBladeTitle="Add some code";e.Eclipse="Eclipse";e.SendMailTo="To";e.MoreMyProjects="More my projects...";e.InvalidZipArchiveFile="TF400900: Invalid zip archive file : {0}";e.AutomaticCulture="Browser";e.SendMailTitle="Send mail";e.CreateProjectBladeSubTitle="Create a team project for Azure DevOps Server.";e.SourcePropertiesPartTitle="Source";e.SearchWorkItems="Search work items";e.TestManagementForExpressSkuFeatureName="Analyze test results and manage machine groups";e.ManageNotifications="Notification settings";e.CreateTeamProjectPartDesc="Create a team project for Azure DevOps Services";e.TeamHomeWorkItemCreatedMessage="{0} created {1}";e.SetUpContinuousDeploymentPartTitle="Set Up Continuous Deployment";e.UnableToAccessCollectionFromCompatUrl="TF400895: Unable to access collection specified : {0}";e.Team_Members="Members ({0})";e.AccountHomePage_ShowAboutTFSHosted_VSO="Display About Azure DevOps Services";e.AgoMinutes="{0} minutes ago";e.OpenInVisualStudioPartShortTitle="Open in VS";e.TestMailSuccess="Email was successfully sent from Azure DevOps to the configured SMTP server.";e.ResourceUsageLoadTestingUnit="virtual user minutes";e.ResourceUsageLoadTestingName="Load Testing";e.NewTeamProjectGitText="New team project + Git";e.TeamHomeViewQueries="View queries";e.InvalidLicenseException="TF400409: You do not have licensing rights to access this feature: {0}";e.ProjectNotFound="TF400901: Project not found: {0}";e.TeamProjectSubHeader="Team Project";e.FirstProjectConfirmationLearn="Are you ready to write some code?  Get started by connecting your project directly to {0}, or learn how to connect with {1}, or {2}.  We think you and your team are going to absolutely love this.";e.AdvancedHomePageFeatureName="Advanced home page";e.NavigationContentMenuItem_Account="Your organization";e.WelcomePageVisitGalleryDescription="Access extensions, process templates, and power tools for Visual Studio and Azure DevOps Server.";e.TestManagementForBasicUsersFeatureName="Web-based Test Execution";e.XmlSchemaErrorLine="({0},{1}) {2}";e.AddSearchFilterCreatedBy="Created by:";e.ResourceUsageBlockedNoSubscription="Your organization has used all the free quantity of this resource. Click Learn more above to set up billing for your organization.";e.AccountHomePage_ShowAnnouncements="Display all announcements";e.InvalidParameter="Parameter \u0027{0}\u0027 is invalid";e.ExtensionsDisabledMessage="Extensions are disabled.";e.TeamHomeProjectAdminTitle="Administration";e.CollectionSettings="Collection settings";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.WelcomePageVisitGalleryTitle="Visit the Visual Studio Gallery";e.NoImageDataUploaded="No image data uploaded.";e.FetchingSearches="Fetching recent searches";e.PageTitle="Azure DevOps Server";e.CreateDeploymentPartShortTitle="Create Deployment";e.SendMailAttachments="Attachments";e.TimeStampDayAt="{0} at {1}";e.GettingStartedTutorialLink="Beginner\u0027s guide";e.GettingStartedTutorialText="A step-by-step guide to help you get up and running now.";e.OpenVisualStudio="Open new instance of Visual Studio";e.InvalidRedirectException="The specified redirect URL failed validation - the validator returned {0}. Please check to make sure the provided redirect URL is well-formed.";e.UnknownArtifactType="Unknow artifact type: {0}";e.TimeStampTodayAt="Today at {0}";e.AddSearchFilterAssignedTo="Assigned to:";e.UnsupportedBrowserWarningMessageHosted="You are using an unsupported browser. For the best experience, please upgrade to a newer browser. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=799815\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.NewBacklogItemToolTip="Add an item to this backlog";e.AccountSettings="Organization settings";e.GettingStartedRetryCollectionCreationLink="Retry collection creation";e.WelcomePageSubmitFeedbackDescription="Provide suggestions for how we can improve Team Web Access and Azure DevOps Server.";e.ExtensionSlowLoadWarningBody="It is taking a long time to load the Azure DevOps extension content from the following url: \u003cbr /\u003e\u003ca /\u003e";e.CreateTeamProjectPartShortTitle="Team Project";e.EarlyAdopterModeReminderMessage_Today="Your account is an Early Adopter account. \u003cb\u003eToday\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.ChooseWebsiteWizardStepLabel="Choose Website";e.AdvancedHomePageFeatureDescription="Advanced home page.";e.ImageSizeTooLarge="Uploaded image exceeds maximum size.";e.NavigationHelpMenuGettingStarted="Getting started";e.NoCollectionSpecifiedInCompatUrl="TF401198: No project collection specified in the request.";e.UnsavedChangesWithNames="You have unsaved changes:";e.RequireOnPremiseDeploymentError="TF400915: This service is not available.";e.TestMailFailure="Error sending email message. Exception details: {0}";e.TfsAccountBoundToSubscriptionMessage="This Azure DevOps organization is already bound to your subscription.";e.PlansFeatureName="Delivery Plans";e.InvalidErrorParameter="Invalid error parameter";e.CreateFirstProject="Create your first team project";e.Board="Board";e.CreateProjectFailed="Create Project Failed";e.SendMailSpecifyToAddress="There must be at least one email address for To field.";e.AgoDays="{0} days ago";e.AgoADay="a day ago";e.AccountHomePage_ShowAboutTFSHosted="Display About Azure DevOps Services";e.MoreCollectionProjects="More {0} projects...";e.XCode="Xcode";e.FeatureEnablementSettings_Error_Link_Invalid_Admin="https://go.microsoft.com/fwlink/?LinkId=298890";e.JobFailed="TF400902: There was a failure executing the job. Job Id for the failed creation:{0}";e.HubGroupRelease="Release";e.AccountHomePage_ShowAboutTFSOnPerm="Display About Azure DevOps Server";e.NewTeamProjectProjectPickerItem="New Team Project";e.ConfirmToDiscardEditedEmail="Leaving this page will discard the email. Do you want to exit?";e.InvalidContentType="The uploaded file must be an image.";e.FeatureEnablementSettings_Error_Missing="This feature cannot be used until an Azure DevOps Administrator configures it for this team project.";e.FullOnPremProductName="Azure DevOps Server 2019";e.ViewTaskBoard="View task board";e.TestMailMessage="This message was sent to verify Azure DevOps email settings.";e.CreateTeamProjectPartTitle="Team Project";e.FeedbackFeatureDescription="Solicit feedback";e.ServerTimeZone="Server: {0}";e.VisualStudio="Visual Studio";e.StakeholderMsdnEligibleReminderMessage="\u003cdiv class=\"stakeholder-license-message\"\u003e We could not verify your Visual Studio subscription so we’ve downgraded you to Stakeholder. Please visit our \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=733421\u0026clcid=0x409\"\u003e\u003cb\u003etroubleshooting page\u003c/b\u003e\u003c/a\u003e for more details then click here to {0} \u003c/div\u003e";e.TeamHomeTeamsTitle="Teams";e.TeamFoundationServerName="Azure DevOps Server 2019";e.TeamHomeCreateWorkItemLink="+ {0}";e.TrialFeatureUrl="https://go.microsoft.com/fwlink/?LinkID=325554";e.ExpandAllToolTip="Expand all";e.ProjectQuickStartTitle="Your Team Project\u0027s up";e.OpenInVisualStudioPartTitle="Open in Visual Studio";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.WelcomePageRecentItems="Recent projects and teams";e.FeedbackMenuHint="Feedback";e.NoResultsToDisplay="There are no results to display.";e.AdvancedBacklogManagementFeatureDescription="Advanced backlog and sprint planning tools.";e.LearnGitMessage="Learn how you can use the Git distributed version control system in your team projects.";e.ProjectQuickStartDesc="Kick-start your project with these tools and tips";e.GettingStartedViewOnlineHelp="Learn more, dig deeper";e.HubGroupSource="Code";e.NavigationRecentProjectsAndTeams="Recent projects and teams";e.InternalServerError="Internal server error:";e.ChartAuthoringFeatureDescription="Create customized charts to view and visualize your work item data.";e.AdminFeatureDescription="Administer organization and team projects.";e.LearnMore="Learn more";e.PageTitleWithContent="{0} - Azure DevOps Server";e.SourceControlTitle="Source";e.Settings="Settings";e.StakeholderReminderLink="https://go.microsoft.com/fwlink/?LinkID=402656";e.EllipsisMenuTitle="Configure";e.NoFilesSelected="No files were selected to be uploaded.";e.InvalidEmailWithEmail="Please enter a valid email address ({0}).";e.PageTitleWithContent_Hosted="{0} - Azure DevOps Services";e.TestMailTitle="Test Mail Settings";e.ResourceUsageBuildUnit="minutes";e.ResourceUsageBuildName="Build";e.PageNotFound="Page not found.";e.AddASearchFilter="Add a search filter";e.FeatureEnablementSettings_Error_LinkText_Invalid_Admin="Learn about how to correct your configuration";e.StakeholderReminderLinkText="Learn more";e.BuildFeatureName="Build";e.ProjectDoesNotExistOrNoAccess="TF400896: The project with guid {0} does not exist or you do not have access.";e.TeamSettings_ManualCorrectionLink="https://go.microsoft.com/fwlink/?LinkID=242983";e.Application_TeamProjects="Team projects ({0})";e.WebApiUndefinedRequestError="An undefined error occurred while attempting to connect to the server. Status code {0}: {1}.";e.GettingStartedErrorCreatingCollection="TF400910: There was an error creating the collection. Contact our support team by visiting https://www.visualstudio.com/support-overview-vs";e.GoToProjectPortal="Go to project portal";e.Activities="Activities";e.UnsupportedBrowserWarningMessage="You are using an unsupported browser. For the best experience, please upgrade to a newer browser. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=799814\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.NavigationContentMenuItem_Team="Team";e.Application_SelectTeamProject="To get started, select the team project you want to connect to.";e.AddSearchFilterState="State:";e.RetrievingWorkItemTypes="Retrieving work item types...";e.NavigationViewUnknownTabErrorFormat="Could not find navigation tab with id: {0}.";e.ChooseProjectWizardStepLabel="Choose Project";e.WelcomePageViewOnlineHelpDescription="Access online help for Visual Studio Application Lifecycle Management and Azure DevOps Server.";e.Security="Security";e.UnkownCompatibilityUrl="TF400907: The URL specified appears to be from an earlier version of Web Access.  The format was not recognized : {0}";e.ManageProjectMembers="Manage project members";e.BrowseAllTeams="Browse all";e.AdvancedPortfolioBacklogManagementFeatureName="Advanced portfolio management";e.EmailExceedsMaxBodySizeLimit="TF400582: The email body exceeds the maximum allowed size of {0} KB. Reduce the contents of the email body and try again.";e.Asterix="*";e.HubGroupHome="Home";e.HubGroupTest="Test";e.CodeFeatureName="Code";e.PinningBlankSlateMessage="Pin items to the homepage to display them here as tiles. You can pin work item queries, work item charts, build pipelines, and version control paths to the homepage.";e.ManageScheduleIterations="Manage schedule and iterations";e.UnsavedChangesMore="more...";e.BrowseTheMarketplace="Browse Marketplace";e.CreateProjectBladeTitle="Your new Team Project is almost ready.";e.AccountNameLabel="Organization Name";e.FeatureEnablementSettings_Error_LinkText_Missing_Admin="Configure feature";e.PluginNotFound="TF400912: Could not find plugin with name \"{0}\".";e.GettingStartedProgressNotStarted="Scheduling collection creation...";e.CodeFeatureDescription="Code repository functionality.";e.FollowingErrors="The following error(s) occurred:";e.MoreProjectTeams="More {0} teams";e.FeatureEnablementSettings_Error_Invalid="TF400916: The current configuration is not valid for this feature. This feature cannot be used until an Azure DevOps Administrator corrects the configuration.";e.RequireHostedDeploymentError="TF400915: This service is not available.";e.NotAMemberOfATeam="You are not a member of a team.";e.ManageProjectGroups="Manage teams and project groups";e.TeamHomeManageTeams="Manage teams...";e.AccountNameCreateInfoMessage="This will be the organization name on your vanity URL, i.e., organizationname.visualstudio.com";e.GettingStartedAccountActive="The organization is active and ready for use.  Please save the above Url for your records.";e.ExternalControlLoading="Loading...";e.BuildFeatureDescription="Build services.";e.TeamHomeShowLessMembers="Show less members";e.StakeholderExpiredLicenseReminderLinkText="Learn more";e.VersionControlLabel="Version Control";e.NavigationContextMenuHostedBackTo="Organization home";e.TeamHomeActivitesTitle="Activities";e.TileEllipsisMenuTitle="Configure tile";e.ViewQueries="View queries";e.AgoLessThanAMinute="just now";e.ReleaseManagementFeatureDescription="Author release pipelines, create and manage releases";e.NotSupportedBrowser="Your browser is not supported";e.ProjectCreationError="There was an error creating your project. Please {0}.";e.SendMailFrom="From";e.DefaultThemeName="Default";e.TileLoading="loading...";e.ChartEllipsisMenuTitle="Configure chart";e.ResourceUsageBlockedWithSubscription="Your organization has used all the free quantity of this resource. Click Learn more above to enable paid resources.";e.Members="Members";e.ProcessTemplateProperty="Process template:";e.TeamHomePage_ShowHowTo="Display How to";e.ControlPanel="Control panel";e.TeamHomeLoadingMembers="Loading team members...";e.PlansDescription="Delivery Plans help you drive alignment across teams by overlaying several backlogs onto your delivery schedule.";e.UserNeedsToBeTeamAdmin="User needs to be a team administrator to perform this operation.";e.AccountNameWatermark="Enter organization name...";e.TrialModeReminderMessage="All features have been enabled during your trial. This trial will end {0}. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.SourceQuickStartBladeSubTitle="Use your favorite tool to publish your project";e.AdvancedBacklogManagementFeatureName="Advanced backlog and sprint planning tools";e.NavigationContentMenuItem_TeamProject="Project";e.MyFavorites="My favorites";e.AjaxRequestTimedOut="Ajax request has been timed out.";e.NavigationContextMenuOnPremBackTo="Server home";e.TestManagementInBuildAndReleaseFeature="Test services in build and release";e.CloseBrowserToCompleteSignoutWarning="Sign out: close browser to complete sign out";e.TrialModeReminderMessage_MultipleDays="in \u003cb\u003e{0} days\u003c/b\u003e";e.ServerSettings="Server settings";e.GettingStartedTutorialFeedback="Make a suggestion";e.SendMailNoSubjectWarningTitle="Confirmation";e.AgoMonths="{0} months ago";e.HubGroupBuild="Build";e.HubGroupAdmin="Administration";e.YouAreAlmostThereMessagePart2="Click the {0}New Team Project{1} button below to create your first project. ";e.YouAreAlmostThereMessagePart3="The {0}beginner’s guide{1} has a step-by-step walkthrough on how to upload your source code, set up a build, and start managing your work. You’re almost there…";e.YouAreAlmostThereMessagePart1="Welcome to Azure DevOps Services!";e.ImageOf="Image of {0}";e.HubGroupUsers="Users";e.NetworkConnectionUnavailable="TF400893: Unable to contact the server. This is most likely caused by a network error. Please check your connection and try again.";e.HubGroupRooms="Rooms";e.AdminFeatureName="Administer organization";e.TrialFeatureExpiredUrl="https://go.microsoft.com/fwlink/?LinkID=328611";e.BuildTitle="Build";e.FeatureEnablementSettings_Error_Missing_Admin="This feature cannot be used until you configure it for this team project.";e.OpenWithVisualStudioTooltip="Open Visual Studio and connect Team Explorer to this project.";e.TeamFoundationServiceName="Azure DevOps Services";e.ExtensionErrorBody="We were unable to load an Azure DevOps extension. To load this component, please ensure that you are able to access the following url: \u003cbr /\u003e\u003ca /\u003e";e.AccountTimeZone="Organization: {0}";e.ManageAlerts="Alerts";e.OpenWithVisualStudio="Open with Visual Studio to connect";e.NewBacklogItem="New";e.ErrorSendEmail="TF400969: An error occurred while attempting to send the email. Retry at a later time.";e.NavigationAdminMenuItemFormat="Administer {0}";e.TeamSettings_ManualCorrectionStepsLinkText="correct your configuration manually";e.SendMailSubject="Subject";e.TeamHomeLoadingActivities="Loading activities...";e.TestManagementFeatureName="Web-based Test Case Management";e.PersonalExtensionsDisabledMessage="Personal extensions are disabled.";e.TeamContextNotFound="TF400909: There is no team context.";e.CollectionProjects="{0} projects";e.Project_Teams="{0} teams ({1})";e.RequiresVS2012="Requires Visual Studio 2013+";e.ScrumTemplateInfoMessage="Scrum is an iterative, incremental framework for project management and agile software development. This template includes work items and reports to help your Scrum team be successful.";e.TestManagementForExpressSkuFeatureDescription="Analyze test results and manage machine groups.";e.CreateTeamProjectNoSubError="No subscriptions available to create project edit scope";e.AgileBoardsFeatureName="Agile boards";e.TeamHomeViewBoard="View board";e.RemoveMRUTeamTitle="Remove from this list";e.SendMailWarning="Unable to send message to the following recipients: {0}\r\nPreferred Email address is not configured within the user’s profile.";e.ProjectNameLabel="Name";e.TeamHomeViewBacklog="View backlog";e.InvalidEmailAddressFormat="The following email address is not valid: \u0027{0}\u0027. Please specify a valid email address in the form \u0027user@host\u0027 or \u0027Display name \u003cuser@host\u003e\u0027.";e.InvalidArgumentValue="Invalid argument value.";e.HubGroupWorkItems="Work";e.FirstProjectConfirmationHeader="Your new project, {0}, is ready!";e.ChartViewingFeatureName="Chart Viewing";e.Home="Home";e.PageTitleCollectionHome="{0} project collection";e.Save="Save";e.SendMailNotEnabled="Sending email is not enabled. Please contact your administrator.";e.EarlyAdopterModeReminderMessage_OneDay="Your account is an Early Adopter account. In \u003cb\u003e{0} day\u003c/b\u003e your account will revert to a standard account. \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e.";e.TrialModeReminderMessage_OneDay="in \u003cb\u003e{0} day\u003c/b\u003e";e.ViewReports="View reports";e.ConfigureOptionsWizardStepLabel="Configure Options";e.AgoAnHour="an hour ago";e.ExtensionErrorAdditionalSteps="You can try checking your network connection and refreshing this page.";e.WelcomePageSubmitFeedbackTitle="Make a suggestion";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Controls/PopupContent",["require","exports","VSS/Controls","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e){var v,h,o;Object.defineProperty(t,"__esModule",{value:!0});var c=e.domElem,l=u.delegate,a=100,y=1e3,s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._hasFocus=!1,t._blockFocusUntil=-a-1,t._hasMouse=!1,t._enabled=!0,t._handlers={},t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element[0].classList.add("popup-content-control");this._setAriaDescribedBy();!this._options.openDelay&&this._$dropElement.is(":focus")&&this.show();this._onForceHideDropPopupDelegate=this.onForceHideDropPopup.bind(this)},t.prototype.onForceHideDropPopup=function(){this.hide()},t.prototype.setTextContent=function(n){this._setContent(f.htmlEncode(n))},t.prototype.setHtmlContent=function(n){this._setContent(n)},t.prototype._setContent=function(n){this._$contentContainer.html(n);this._contentSet=!0;this._visible&&this._reposition()},t.prototype._initializeContent=function(){if(!this._contentSet){if(this._options.text)typeof this._options.text=="function"?this.setTextContent(this._options.text.call(this)):this.setTextContent(this._options.text);else if(this._options.html)typeof this._options.html=="function"?this.setHtmlContent(this._options.html.call(this)):this.setHtmlContent(this._options.html);else if(this._options.content){var n=this._options.content;typeof n=="function"?this._setContent(n.call(this)):this._setContent(n)}this._contentSet=!0}},t.prototype._setAriaDescribedBy=function(){if(this._options.setAriaDescribedBy){this._initializeContent();var t=this._$contentContainer.attr("id"),n=this._$dropElement.attr("aria-describedby")||"";n.indexOf(t)===-1&&this._$dropElement.attr("aria-describedby",(n?n+" ":"")+t)}},t.prototype.resetContent=function(){this._contentSet=!1},t.prototype.show=function(){this._show({useMousePosition:!1})},t.prototype.toggle=function(){this._element.is(":visible")?this.hide():this.show()},t.prototype._enhance=function(n){var u=this,t;this._createElement();this._$dropElement=n;t=this._options.menuContainer||$("#PopupContentContainer");t.length===0&&(t=$("<div id='PopupContentContainer'><\/div>").appendTo(document.body));this._element.appendTo(t);this._element.css("position","fixed");this._$contentContainer=$(c("div","popup-content-container")).attr({role:"tooltip",id:i.getHtmlId(),"aria-hidden":"true"}).appendTo(this._element);this._decorate();this._bind(n,"remove.removePopupDropElement",function(){u.dispose()})},t.prototype._decorate=function(){var n=this;this._options.openCloseOnHover?(this._listen("mouseover",this.onMouseOver),this._options.showOnFocus!==!1&&this._listen("focus",this._onFocus)):(this._documentEventDelegate=l(this,this._handleDocumentMouseDown),this._bind(this._$dropElement,"click",function(){n._element.is(":visible")?n.hide():n.show()}))},t.prototype._listen=function(n,t){!this._handlers[n]&&this._$dropElement.length>0&&this._$dropElement[0].addEventListener(n,this._handlers[n]=t.bind(this))},t.prototype._stopListening=function(n){var t=this._handlers[n];t&&this._$dropElement[0].removeEventListener(n,t)},t.prototype._onInteract=function(){this.hide();this._hasFocus=!1;this._blockFocusUntil=Date.now()+a},t.prototype._onFocus=function(n){n.target===this._$dropElement[0]&&Date.now()>this._blockFocusUntil&&(this._hasFocus=!0,this._listen("blur",this._onBlur),!this._hasMouse&&this._enabled&&this._showDelayed())},t.prototype._onBlur=function(){this._hasFocus=!1;this._hasMouse||this.hide()},t.prototype._onMouseMove=function(n){this._mousePosition?(this._mousePosition.left=n.pageX,this._mousePosition.top=n.pageY):this._mousePosition={left:n.pageX,top:n.pageY}},t.prototype.onMouseOver=function(n){(!this._options.mouseEventFilter||this._options.mouseEventFilter(n))&&(this._options.useStrictTarget&&n.target!==this._$dropElement[0]||(this._hasMouse=!0,this._enabled)&&(this._listen("mouseout",this._onMouseOut),this._listen("mousemove",this._onMouseMove),this._onMouseMove(n),this._showDelayed({useMousePosition:!0}),this._delayedHide&&this._delayedHide.cancel()))},t.prototype._onMouseOut=function(){var n=this;this._hasMouse=!1;this._delayedHide&&this._delayedHide.cancel();this._delayedHide=u.delay(this,100,function(){n.hide();n._delayedHide=null})},t.prototype.showDelayed=function(){this._showDelayed({useMousePosition:!1})},t.prototype._showDelayed=function(n){var t=this;this._visible||(n=n||{useMousePosition:!1},this._options.openDelay?(this._delayedShow&&this._delayedShow.cancel(),this._delayedShow=u.delay(this,this._options.openDelay,function(){t._show(n)})):this._show(n))},t.prototype._handleDocumentMouseDown=function(n){var t=$(n.target);this._$dropElement.has(n.target).length>0||this._$dropElement[0]===n.target||this._$contentContainer.has(n.target).length>0||this._$contentContainer[0]===n.target||this._element.has(n.target).length>0||this._element[0]===n.target||this.hide()},t.prototype._setPosition=function(){this._setPositionInternal({useMousePosition:!1})},t.prototype._setPositionInternal=function(n){if(this._visible){this._element.css({top:0,left:0});this._lastPositionContext={options:n};var t={elementAlign:this._options.elementAlign||"left-top",baseAlign:this._options.baseAlign||"left-bottom",overflow:this._options.overflow,supportScroll:this._options.supportScroll,leftOffsetPixels:this._options.leftOffsetPixels,topOffsetPixels:this._options.topOffsetPixels,skipZIndexSetting:this._options.skipZIndexSetting};n.useMousePosition&&this._options.useMousePosition!==!1?(this._lastPositionContext.mousePosition={left:this._mousePosition.left,top:this._mousePosition.top},t.leftOffsetPixels=this._options.mouseLeftOffsetPixels||t.leftOffsetPixels,t.topOffsetPixels=this._options.mouseTopOffsetPixels||t.topOffsetPixels,e.Positioning.positionAtLocation(this._element,this._mousePosition,t)):this._$dropElement.length>0&&e.Positioning.position(this._element,this._$dropElement,t)}},t.prototype._reposition=function(){this._lastPositionContext&&(this._lastPositionContext.mousePosition&&(this._mousePosition=this._lastPositionContext.mousePosition),this._setPositionInternal(this._lastPositionContext.options))},t.prototype._getDropElement=function(){return this._$dropElement},t.prototype._show=function(n){!this.isDisposed()&&this._getDropElement().is(":visible")&&(!this._options.onlyShowWhenOverflows||e.contentsOverflow(this._options.onlyShowWhenOverflows))&&(this._visible||(this._visible=!0,this._options.openCloseOnHover&&(this._listen("click",this._onInteract),this._listen("keypress",this._onInteract)),this._initializeContent(),this.getElement().show(),this._setPositionInternal(n),this._fire("popup-opened"),this._documentEventDelegate&&$(document).bind("mousedown",this._documentEventDelegate),e.attachResize(this._element,l(this,this._setPosition)),this._bind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._delayedShow&&this._delayedShow.cancel()))},t.prototype.hide=function(){this.isDisposed()||(this._delayedShow&&this._delayedShow.cancel(),this._visible)&&(this._visible=!1,this._documentEventDelegate&&$(document).unbind("mousedown",this._documentEventDelegate),e.detachResize(this._element),this._onForceHideDropPopupDelegate&&this._unbind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._element.hide(),this._fire("popup-closed"),this._stopListening("mousemove"))},t.prototype.enable=function(){this._enabled=!0;(this._hasFocus||this._hasMouse)&&this._showDelayed()},t.prototype.disable=function(){this._enabled=!1;this.hide()},t.prototype._dispose=function(){if(n.prototype._dispose.call(this),this._options.setAriaDescribedBy){var i=this._$contentContainer.attr("id"),t=this._$dropElement.attr("aria-describedby")||"";t=t.replace(new RegExp("\\b"+i+"\\b","g"),"").trim().replace(/\s+/," ");t?this._$dropElement.attr("aria-describedby",t):this._$dropElement.removeAttr("aria-describedby")}this._documentEventDelegate&&($(document).unbind("mousedown",this._documentEventDelegate),this._documentEventDelegate=null);this._onForceHideDropPopupDelegate&&(this._unbind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._onForceHideDropPopupDelegate=null);this._$dropElement&&this._$dropElement.length>=1&&(this._unbind(this._$dropElement,"click"),this._unbind(this._$dropElement,"remove.removePopupDropElement"),this._stopListening("mouseover"),this._stopListening("mouseout"),this._stopListening("mousemove"),this._stopListening("focus"),this._stopListening("blur"),this._stopListening("click"),this._stopListening("keypress"));e.detachResize(this._element)},t}(i.Control);t.PopupContentControlO=s;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(s);t.PopupContentControl=v;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.hide=function(){t._shownTooltip&&t._shownTooltip.hide()},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"rich-content-tooltip",openCloseOnHover:!0,elementAlign:"middle-top",baseAlign:"middle-bottom",useMousePosition:!1},t))},t.prototype.initialize=function(){var t=this.getElement(),i=this._options;i.popupTag!==!1&&(this._$popupTag=$(c("div","popup-tag")).prependTo(t));n.prototype.initialize.call(this);t[0].classList.add("v2");i.autoWidth&&t[0].classList.add("auto-width")},t.prototype._getPopupTooltipElement=function(){return this._$popupTag},t.prototype._show=function(i){if(n.prototype._show.call(this,i),this._visible){var r=t._shownTooltip;r&&r!==this&&r.hide();t._shownTooltip=this}},t.prototype.hide=function(){n.prototype.hide.call(this);t._shownTooltip===this&&(t._shownTooltip=null)},t.prototype._setPositionInternal=function(t){var f,i,r,e,o,s;if((n.prototype._setPositionInternal.call(this,t),this._visible)&&this._$popupTag){f=t&&t.useMousePosition&&this._options.useMousePosition!==!1;this._$popupTag.css({top:0,left:0});this._$contentContainer.toggleClass("mouse",f);i={left:parseInt(this._element.css("left"),10),top:parseInt(this._element.css("top"),10),width:this._element.outerWidth(),height:this._element.outerHeight()};r=void 0;f?r=this._mousePosition:(e=this._getDropElement(),o=e.offset(),r={left:o.left+e.outerWidth()/2,top:o.top});s=this._element.offset();r.left+=i.left-s.left;r.top+=i.top-s.top;var l=f?27:11,u=15,a=u*.5,c=u*(Math.SQRT2-1)*.5,v=c+u,h={left:Math.max(Math.min(r.left-a,i.left+i.width-v),i.left+c),top:i.top+l-u*.5};i.top<r.top-.5?(this._$popupTag.addClass("flipped"),h.top=i.top+i.height-11-u*.5):this._$popupTag.removeClass("flipped");this._$popupTag.css({left:h.left+"px",top:h.top+"px"})}},t.add=function(n,t,r){return r=__assign({openDelay:y,topOffsetPixels:0,mouseTopOffsetPixels:0,autoWidth:!0},r),typeof n=="string"?r.text=n:n&&(r.html=n),i.Enhancement.enhance(o,$(t),r)},t.addIfOverflow=function(n,t,i){return o.add(n,t,__assign({},i,{onlyShowWhenOverflows:t}))},t}(s);t.RichContentTooltipO=h;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(h);t.RichContentTooltip=o});

define("VSS/Security/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function g(n){return window.VSS&&window.VSS.VssSDKRestVersion&&k[window.VSS.VssSDKRestVersion]?i.getClient(k[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(o,undefined,undefined,undefined,n)}var f,e,u,o,s,h,c,l,a,v,y,p,w,b,d,k;Object.defineProperty(t,"__esModule",{value:!0});f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setInheritFlag=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Security",locationId:"ce7b9f95-fde9-4be8-a86d-83b366f0b87a",resource:"SecurityNamespaces",routeTemplate:"_apis/{resource}/{securityNamespaceId}",routeValues:{securityNamespaceId:t},apiVersion:this.securityNamespacesApiVersion,data:n})},t.prototype.querySecurityNamespaces=function(n,t){var i={localOnly:t};return this._beginRequest({httpMethod:"GET",area:"Security",locationId:"ce7b9f95-fde9-4be8-a86d-83b366f0b87a",resource:"SecurityNamespaces",routeTemplate:"_apis/{resource}/{securityNamespaceId}",responseIsCollection:!0,routeValues:{securityNamespaceId:n},queryParams:i,apiVersion:this.securityNamespacesApiVersion})},t.prototype.removePermission=function(n,t,i,r){var u={descriptor:t,token:r};return this._beginRequest({httpMethod:"DELETE",area:"Security",locationId:"dd3b8bd6-c7fc-4cbd-929a-933d9c011c9d",resource:"Permissions",routeTemplate:"_apis/{resource}/{securityNamespaceId}/{permissions}",routeValues:{securityNamespaceId:n,permissions:i},queryParams:u,apiVersion:this.permissionsApiVersion})},t.prototype.setAccessControlLists=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Security",locationId:"18a2ad18-7571-46ae-bec7-0c7da1495885",resource:"AccessControlLists",routeTemplate:"_apis/{resource}/{securityNamespaceId}",routeValues:{securityNamespaceId:t},apiVersion:this.accessControlListsApiVersion,data:n})},t.prototype.removeAccessControlLists=function(n,t,i){var r={tokens:t,recurse:i};return this._beginRequest({httpMethod:"DELETE",area:"Security",locationId:"18a2ad18-7571-46ae-bec7-0c7da1495885",resource:"AccessControlLists",routeTemplate:"_apis/{resource}/{securityNamespaceId}",routeValues:{securityNamespaceId:n},queryParams:r,apiVersion:this.accessControlListsApiVersion})},t.prototype.queryAccessControlLists=function(n,t,i,r,u){var f={token:t,descriptors:i,includeExtendedInfo:r,recurse:u};return this._beginRequest({httpMethod:"GET",area:"Security",locationId:"18a2ad18-7571-46ae-bec7-0c7da1495885",resource:"AccessControlLists",routeTemplate:"_apis/{resource}/{securityNamespaceId}",responseIsCollection:!0,routeValues:{securityNamespaceId:n},queryParams:f,apiVersion:this.accessControlListsApiVersion})},t.prototype.setAccessControlEntries=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Security",locationId:"ac08c8ff-4323-4b08-af90-bcd018d380ce",resource:"AccessControlEntries",routeTemplate:"_apis/{resource}/{securityNamespaceId}",responseIsCollection:!0,routeValues:{securityNamespaceId:t},apiVersion:this.accessControlEntriesApiVersion,data:n})},t.prototype.removeAccessControlEntries=function(n,t,i){var r={token:t,descriptors:i};return this._beginRequest({httpMethod:"DELETE",area:"Security",locationId:"ac08c8ff-4323-4b08-af90-bcd018d380ce",resource:"AccessControlEntries",routeTemplate:"_apis/{resource}/{securityNamespaceId}",routeValues:{securityNamespaceId:n},queryParams:r,apiVersion:this.accessControlEntriesApiVersion})},t}(r.VssHttpClient);t.CommonMethods2To5_1=f;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.hasPermissions=function(n,t,i,r,u){var f={tokens:i,alwaysAllowAdministrators:r,delimiter:u};return this._beginRequest({httpMethod:"GET",area:"Security",locationId:"dd3b8bd6-c7fc-4cbd-929a-933d9c011c9d",resource:"Permissions",routeTemplate:"_apis/{resource}/{securityNamespaceId}/{permissions}",responseIsCollection:!0,routeValues:{securityNamespaceId:n,permissions:t},queryParams:f,apiVersion:this.permissionsApiVersion})},t}(f);t.CommonMethods2_2To5_1=e;u=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.hasPermissionsBatch=function(n){return this._beginRequest({httpMethod:"POST",area:"Security",locationId:"cf1faa59-1b63-4448-bf04-13d981a46f5d",resource:"PermissionEvaluationBatch",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.permissionEvaluationBatchApiVersion,data:n})},t}(e);t.CommonMethods3To5_1=u;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="5.1",r}return __extends(t,n),t}(u);t.SecurityHttpClient5_1=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="5.0",r}return __extends(t,n),t}(u);t.SecurityHttpClient5=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="4.1",r}return __extends(t,n),t}(u);t.SecurityHttpClient4_1=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="4.0",r}return __extends(t,n),t}(u);t.SecurityHttpClient4=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="3.2",r}return __extends(t,n),t}(u);t.SecurityHttpClient3_2=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="3.1",r}return __extends(t,n),t}(u);t.SecurityHttpClient3_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionEvaluationBatchApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="3.0",r}return __extends(t,n),t}(u);t.SecurityHttpClient3=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="2.3",r}return __extends(t,n),t}(e);t.SecurityHttpClient2_3=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="2.2",r}return __extends(t,n),t}(e);t.SecurityHttpClient2_2=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="2.1",r}return __extends(t,n),t.prototype.hasPermission=function(n,t,i,r){var u={token:i,alwaysAllowAdministrators:r};return this._beginRequest({httpMethod:"GET",area:"Security",locationId:"dd3b8bd6-c7fc-4cbd-929a-933d9c011c9d",resource:"Permissions",routeTemplate:"_apis/{resource}/{securityNamespaceId}/{permissions}",routeValues:{securityNamespaceId:n,permissions:t},queryParams:u,apiVersion:"2.1"})},t}(f);t.SecurityHttpClient2_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accessControlEntriesApiVersion=r.accessControlListsApiVersion=r.permissionsApiVersion=r.securityNamespacesApiVersion="2.0",r}return __extends(t,n),t.prototype.hasPermission=function(n,t,i,r){var u={token:i,alwaysAllowAdministrators:r};return this._beginRequest({httpMethod:"GET",area:"Security",locationId:"dd3b8bd6-c7fc-4cbd-929a-933d9c011c9d",resource:"Permissions",routeTemplate:"_apis/{resource}/{securityNamespaceId}/{permissions}",routeValues:{securityNamespaceId:n,permissions:t},queryParams:u,apiVersion:"2.0"})},t}(f);t.SecurityHttpClient2=b;d=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.SecurityHttpClient=d;k={"5.1":o,"5.0":s,"4.1":h,"4.0":c,"3.2":l,"3.1":a,"3.0":v,"2.3":y,"2.2":p,"2.1":w,"2.0":b};t.getClient=g});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext",["require","exports","VSS/VSS","VSS/Context","VSS/Navigation/Services","VSS/Diag","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f,e){function l(){s=$.now()}var s,o,a,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.setImageTimestamp=l;o=function(){function n(n){this._options=n||{}}return n.prototype.getRootPath=function(){return this._options.rootPath||"/"},n.prototype.getTheme=function(){return this._options.theme||"Default"},n.prototype.getResourcesPath=function(){return this._options.resourcesPath||this.getRootPath()+"_content/"},n.prototype.getResourcesFile=function(n){return this.getResourcesPath()+encodeURIComponent(n)},n.prototype.getTfsStaticRootPath=function(){return this._options.staticRootTfs||"/tfs/_static/tfs/12/"},n.prototype.get3rdPartyStaticRootPath=function(){return this._options.staticRoot3rdParty||"/tfs/_static/3rdParty/"},n.prototype.getThemedFile=function(n){return this.getTfsStaticRootPath()+"App_Themes/"+encodeURIComponent(this.getTheme())+"/"+encodeURIComponent(n)},n.prototype.getWebApiVersion=function(){return this._options.webApiVersion||"1"},n.prototype.getMailSettings=function(){return this._options.mailSettings},n}();t.Configuration=o,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=15]="ApplicationAll";n[n.All=31]="All"}(a=t.NavigationContextLevels||(t.NavigationContextLevels={})),function(n){n[n.Parent=-1]="Parent";n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"}(h=t.TeamFoundationHostType||(t.TeamFoundationHostType={}));c=function(){function n(t){this.contextData=t;var i=r.getPageContext();this.navigation={applicationServiceHost:n.createServiceHost(t.account,e.ContextHostType.Application,t,i.webAccessConfiguration.paths.rootPath),area:i.navigation.area,areaPrefix:i.webAccessConfiguration.api.areaPrefix,collection:n.createServiceHost(t.collection,e.ContextHostType.ProjectCollection,t,i.webAccessConfiguration.paths.rootPath),controllerPrefix:i.webAccessConfiguration.api.controllerPrefix,currentAction:i.navigation.currentAction,currentController:i.navigation.currentController,project:null,projectId:null,publicAccessPoint:{authority:t.host.authority,scheme:t.host.scheme,uri:t.account?t.account.uri:t.host.uri},serviceHost:n.createServiceHost(t.host,t.host.hostType,t,i.webAccessConfiguration.paths.rootPath),topMostLevel:i.navigation.topMostLevel,team:null,teamId:null};this.navigation.publicAccessPoint.uri[this.navigation.publicAccessPoint.uri.length-1]!=="/"&&(this.navigation.publicAccessPoint.uri+="/");t.project&&(this.navigation.project=t.project.name,this.navigation.projectId=t.project.id);t.team&&i.navigation.topMostLevel===e.NavigationContextLevels.Team&&(this.navigation.team=t.team.name,this.navigation.teamId=t.team.id);this.configuration=new o({mailSettings:i.webAccessConfiguration.mailSettings,resourcesPath:i.webAccessConfiguration.paths.resourcesPath,rootPath:i.webAccessConfiguration.paths.rootPath,staticRoot3rdParty:i.webAccessConfiguration.paths.staticRoot3rdParty,staticRootTfs:i.webAccessConfiguration.paths.staticRootTfs,theme:i.globalization.theme,webApiVersion:i.webAccessConfiguration.api.webApiVersion});this.isHosted=!!i.webAccessConfiguration.isHosted;this.allowStatsCollection=!!i.diagnostics.allowStatsCollection;this.activityId=i.diagnostics.activityId;this.sessionId=i.diagnostics.sessionId;this.isAADAccount=!!t.host.isAADAccount;this.isSameHost=window.self==window.top;t.user&&(this.currentUser=t.user.name,this.standardAccessMode=!t.user.limitedAccess,this.currentIdentity={displayName:t.user.name,email:t.user.email,id:t.user.id,isActive:!0,isContainer:!1,uniqueName:t.user.uniqueName});t.team&&(this.currentTeam={name:t.team.name,identity:{displayName:t.team.name,id:t.team.id,isActive:!0,isContainer:!0,email:null,uniqueName:null}})}return n.getContextOrDefault=function(t){var i=r.parseWebContext(t);return i?new n(i):n.getDefault()},n.getDefault=function(){if(!n._defaultTfsContext){var t=r.getDefaultWebContext();if(!t)throw new Error("Default context information is missing.");n._defaultTfsContext=new n(t)}return n._defaultTfsContext},n.tryGetDefaultContext=function(){if(typeof n._defaultTfsContext=="undefined"){var t=r.getDefaultWebContext();n._defaultTfsContext=t?new n(t):null}return n._defaultTfsContext},n.createServiceHost=function(n,t,i,r){return n?{hostType:t,name:n.name,instanceId:n.id,uri:n.uri,relVDir:this.trimVirtualPath(n.relativeUri,r),vDir:n.relativeUri}:null},n.trimVirtualPath=function(n,t){if(!n||n.length===0)return n;for(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length));n.length>0&&n[0]==="/";)n=n.substr(1);while(n.length>0&&n[n.length-1]==="/")n=n.substr(0,n.length-1);return n},n.prototype.getSessionId=function(){var t,r,i,u,n;for(t=this.sessionId,r=document.cookie?document.cookie.split("; "):[],i=0,u=r.length;i<u;i++)if(n=r[i].split("="),n&&n.length===2&&n[0]==="Tfs-SessionId"){t=n[1];break}return this.sessionId=t,t},n.prototype.getHostUrl=function(){return this.navigation.publicAccessPoint.scheme+"://"+this.navigation.publicAccessPoint.authority},n.prototype.getServiceHostUrl=function(){return this.navigation.serviceHost.vDir},n.prototype.getPublicActionUrl=function(n,t,i){var r=this._constructActionUrl(n,t,i);return this.getHostUrl()+this.configuration.getRootPath()+r},n.prototype.getActionUrl=function(n,t,i){if(!this.isSameHost)return this.getPublicActionUrl(n,t,i);var r=this._constructActionUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getExtensionActionUrl=function(n,t){return this._getExtensionActionUrlFragment(n,t)},n.prototype.getExtensionActionFullUrl=function(n,t,i,r){var u=this.getActionUrl();return this._getExtensionActionFullUrlFragment(u,n,t,i,r)},n.prototype.getExtensionActionHostUrl=function(n,t,i,r){var u=this.navigation.serviceHost.uri,f=u+this.contextData.project.id+"/";return this._getExtensionActionFullUrlFragment(u,n,t,i,r)},n.prototype.getCollectionActionUrl=function(n,t,i,r){var u=this._constructActionUrl(t,i,r);return this.configuration.getRootPath()+n+"/"+u},n.prototype.getCollectionTfsContext=function(n){var t=$.extend(!0,{},this);return t.navigation.serviceHost=n,t.navigation.collection=n,t.contextData=$.extend(!0,{},t.contextData),t.contextData.host.id=n.instanceId,t.contextData.host.name=n.name,t.contextData.host.uri=n.uri,t.contextData.host.relativeUri=n.vDir,t.contextData.host.hostType=e.ContextHostType.ProjectCollection,t.contextData.collection=t.contextData.host,t},n.prototype.getPermalinkUrl=function(n,t,i){var r=this._constructPermalinkUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getIdentityImageUrl=function(t,i){var r={area:n._API,project:"",id:t,t:s};return this.getActionUrl("IdentityImage","common",$.extend(r,i))},n.prototype.isEmbedded=function(){return!!this.getClientHost()},n.prototype.getClientHost=function(){return r.getPageContext().webAccessConfiguration.clientHost},n.prototype._constructActionUrl=function(t,r,u){var s=this.navigation,e=[],c,a,v,f,l,w,b,d,o,k,y,p;if(b=s.areaPrefix||"",d=s.controllerPrefix||"",f=$.extend({},u),o=f.area,typeof o=="undefined"&&(o=s.area),delete f.area,c=f.serviceHost,typeof c=="undefined"&&(c=s.serviceHost),c&&(c.relVDir&&e.push(encodeURI(c.relVDir)),c.hostType===h.ProjectCollection&&(k=this._shouldBuildApiUrl(o,f),a=f.project,typeof a=="undefined"&&(a=k?s.projectId:s.project),a&&(e.push(encodeURIComponent(a)),v=f.team,typeof v=="undefined"&&(v=k?s.teamId:s.team),v&&e.push(encodeURIComponent(v))))),delete f.serviceHost,delete f.project,delete f.team,o)if($.isArray(o))for(y=o,y.length>0&&e.push(encodeURIComponent(b+y[0])),p=1;p<y.length;p++)e.push(encodeURIComponent(y[p]));else e.push(encodeURIComponent(b+o));return r||(r=f.controller),delete f.controller,t||(t=f.action),delete f.action,l=f.parameters,delete f.parameters,l&&(r||(r=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),r&&(e.push(encodeURIComponent(d+r)),t&&(e.push(encodeURIComponent(t)),l&&($.isArray(l)?e.push.apply(e,$.map(l,encodeURIComponent)):e.push(encodeURIComponent(l))))),(f.includeVersion||o===n._API)&&(f[n._VERSION]=this.configuration.getWebApiVersion()),f.includeLanguage&&i.uiCulture&&(f[n._LANGUAGE]=i.uiCulture),delete f.includeVersion,f.area!==n._API&&this.getClientHost()&&(f[n._CLIENTHOST]=this.getClientHost()),w=$.param(f),e.join("/")+(w?"?"+w:"")},n.prototype._constructPermalinkUrl=function(t,i,r){var s=this.navigation,u=[],f=$.extend({},r),o,h=s.controllerPrefix||"",c=i||f.controller||n._DEFAULT_CONTROLLER_NAME,l=t||f.action||n._DEFAULT_ACTION_NAME,e=f.parameters;return u.push(n._PERMALINK_PREFIX),u.push(encodeURIComponent(h+c)),u.push(encodeURIComponent(l)),delete f.controller,delete f.action,delete f.parameters,e&&($.isArray(e)?u.push.apply(u,$.map(e,encodeURIComponent)):u.push(encodeURIComponent(e))),o=$.param(f),u.join("/")+(o?"?"+o:"")},n.prototype._shouldBuildApiUrl=function(t,i){var r;return t&&(r=$.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n.prototype._getExtensionActionUrlFragment=function(n,t){return u.getHistoryService().getFragmentActionLink(n,t)},n.prototype._getExtensionActionFullUrlFragment=function(n,t,i,r,f){var e=u.getHistoryService().getFragmentActionLink(r,f);return n+this._getExtensionFullUrl(t,i)+e},n.prototype._getExtensionFullUrl=function(n,t){return!t?"/_apps/hub/"+n:"/"+t},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n.ControlExtensions={initializeEnhancementOptions:function(t,i){return $.extend({},i,{tfsContext:n.getContextOrDefault(t)})}},n}();t.TfsContext=c});

define("VSS/Controls/Panels",["require","exports","VSS/Ajax","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var a,v;Object.defineProperty(t,"__esModule",{value:!0});var c=s.domElem,y=h.getErrorMessage,l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({collapsed:!0,iconCss:"icon",iconCollapseCss:"bowtie-icon bowtie-toggle-tree-collapsed",iconExpandCss:"bowtie-icon bowtie-toggle-tree-expanded"},t))},t.prototype._swapDefaultToggleIconForCustom=function(n){this._$toggleIcon.remove();this._$toggleIcon=n;this._header.addClass(t._defaultToggleIconOverrideClass)},t.prototype._createControl=function(){var t=this,n=this._options;return this._isDisabled=!1,n.hoverCss&&this.getElement().hover(function(){$(this).addClass(n.hoverCss)},function(){$(this).removeClass(n.hoverCss)}),this._header=$(c("div","tfs-collapsible-header")),this._options.headerNotFocusable?this._header.attr("role","presentation"):this._header.attr({tabIndex:"0",role:"button","aria-expanded":String(this.isExpanded())}),n.headerCss&&this._header.addClass(n.headerCss),this._header.bind("click.CollapsiblePanel",function(){return t.toggleExpandedState()}),this._header.bind("keydown",function(n){if(n.target===n.currentTarget&&(n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE)&&!s.KeyUtils.isModifierKey(n))return t.toggleExpandedState()}),this._header.bind("mouseenter focus",function(n){return n.preventDefault(),t._header.addClass("focus"),!1}),this._header.bind("mouseleave blur",function(n){return n.preventDefault(),t._header.removeClass("focus"),!1}),this._$toggleIcon=$(c("span","tfs-collapsible-collapse")).attr("aria-hidden","true").addClass(n.iconCss).addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),n.collapseCss&&this._$toggleIcon.addClass(n.collapseCss),this._header.append(this._$toggleIcon),this.getElement().append(this._header),this._content=$(c("div","tfs-collapsible-content")),n.contentCss&&this._content.addClass(n.contentCss),n.collapsed&&this._content.hide(),this.getElement().append(this._content),this.getElement()},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._createControl()},t.prototype._enhance=function(n){if(this._options.collapsed=n.hasClass("collapsed"),this._createElement(),this._createControl(),n.after(this.getElement()),this.appendContent(n),this._options.headerText)this.appendHeaderText(this._options.headerText);else if(this._options.headerContent)this.appendHeader(this._options.headerContent),this._options.customToggleIcon&&this._swapDefaultToggleIconForCustom(this._options.customToggleIcon);else{var t=n.attr("title");t&&(n.hasClass("header")&&(n.removeClass("header"),this._header.addClass("header")),this.appendHeader(t))}},t.prototype.replaceHeaderTextIfPresent=function(n){return $("span.tfs-collapsible-text",this._header).text(n)},t.prototype.appendHeaderText=function(n){this._header.attr("title",n);var t=$("<span/>").text(n).addClass("tfs-collapsible-text");return(this._options.headingLevel===undefined||this._options.headingLevel>0)&&t.attr({role:"heading","aria-level":this._options.headingLevel?String(this._options.headingLevel):"2"}),this.appendHeader(t)},t.prototype.appendHeader=function(n){return this._header.append(n),this},t.prototype.prependHeader=function(n){return this._header.prepend(n),this},t.prototype.appendContent=function(n){var i=this._options,t;return $.isFunction(n)?i.collapsed?(this._dynamicContents||(this._dynamicContents=[]),this._dynamicContents.push(n)):t=n.call(this):t=n,t&&typeof t!="function"&&(this._content.append(t),this.getElement().removeClass("collapsed")),this},t.prototype.isExpanded=function(){return this._options.collapsed?!1:!0},t.prototype.expand=function(){this.isExpanded()||this.toggleExpandedState()},t.prototype.collapse=function(){this.isExpanded()&&this.toggleExpandedState()},t.prototype.toggleExpandedState=function(){var n=this._options,r=this._content,o=this._dynamicContents,u,i,f,e;if(this._isDisabled)return!1;if(n.collapsed=!n.collapsed,u=this._$toggleIcon,u.removeClass(n.iconCollapseCss+" "+n.iconExpandCss),u.addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),this._options.headerNotFocusable||this._header.attr("aria-expanded",String(!n.collapsed)),n.collapsed)r.hide(),n.expandCss&&this.getElement().removeClass(n.expandCss),this._fire(t.EVENT_CONTENT_COLLAPSED);else{if(o){for(i=0,f=o;i<f.length;i++)e=f[i],typeof e=="function"&&r.append(e.apply(undefined));this._dynamicContents=null}r.show();n.expandCss&&this.getElement().addClass(n.expandCss);this._fire(t.EVENT_CONTENT_EXPANDED)}if(this._options.onToggleCallback&&$.isFunction(this._options.onToggleCallback))this._options.onToggleCallback(this.isExpanded());return!1},t.prototype.setDisabled=function(n){this._isDisabled!==n&&(n?(this._header.addClass("disabled"),this._$toggleIcon.hide(),this._header.removeAttr("tabindex")):(this._header.removeClass("disabled"),this._$toggleIcon.show(),this._header.attr("tabindex","0")),this._isDisabled=n)},t.prototype.isCollapsiblePanelDisabled=function(){return this._isDisabled},t.EVENT_CONTENT_EXPANDED="collapsible-panel-expanded",t.EVENT_CONTENT_COLLAPSED="collapsible-panel-collapsed",t.enhancementTypeName="tfs.collapsiblepanel",t._defaultToggleIconOverrideClass="custom-toggle-icon",t}(r.Control);t.CollapsiblePanel=l;r.Enhancement.registerJQueryWidget(l,"collapsible");r.Enhancement.registerEnhancement(l,".tfs-collapsible");a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"ajax-panel",replaceContent:!0,cache:!0},t))},t.prototype.initialize=function(){var t=this._options.url;n.prototype.initialize.call(this);t&&this.beginLoad(t,this._options.urlParams,this._options.success,this._options.error)},t.prototype._dispose=function(){this._cancelPendingLoad();n.prototype._dispose.call(this)},t.prototype.beginLoad=function(n,t,s,h){var l=this,c,a;u.logTracePoint("AjaxPanel.beginLoad.start");this._cancelPendingLoad();c=new o.Cancelable(this);this._cancelable=c;this.getElement().empty();this._options.showStatusIndicator!==!1&&(a=r.BaseControl.createIn(e.StatusIndicator,this.getElement(),{center:!0,imageClass:"big-status-progress",message:f.Loading}),a.start());this._element.attr("aria-busy","true");i.issueRequest(n,{type:"GET",data:t,dataType:"html",traditional:!0,cache:this._options.cache}).then(c.wrap(function(n){l.onLoadCompleted(n);$.isFunction(s)&&s.call(self,n)}),c.wrap(function(n){var t;$.isFunction(h)&&(t=h.call(self,n)===!0);l.onLoadError(n,t)}))},t.prototype.onLoadCompleted=function(n){this.getElement()&&this._options.replaceContent&&(this.getElement().empty(),this.getElement().html(n),r.Enhancement.ensureEnhancements(this.getElement()));this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.onLoadError=function(n,t){t||this.showError(n);this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.showError=function(n){this.getElement().empty();$(c("div","error")).appendTo(this.getElement()).text(y(n))},t.prototype._cancelPendingLoad=function(){this._cancelable&&(this._cancelable.cancel(),this._cancelable=null)},t.enhancementTypeName="tfs.ajaxPanel",t}(r.Control);t.AjaxPanelO=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(a);t.AjaxPanel=v});

/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/button",["jquery", "./core", "./widget"], n) : n(jQuery) })(function (n) { var t, i = "ui-button ui-widget ui-state-default ui-corner-all", r = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", f = function () { var t = n(this); setTimeout(function () { t.find(":ui-button").button("refresh") }, 1) }, u = function (t) { var i = t.name, r = t.form, u = n([]); return i && (i = i.replace(/'/g, "\\'"), u = r ? n(r).find("[name='" + i + "'][type=radio]") : n("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function () { return !this.form })), u }; return n.widget("ui.button", { version: "1.11.4", defaultElement: "<button>", options: { disabled: null, text: !0, label: null, icons: { primary: null, secondary: null } }, _create: function () { this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, f); typeof this.options.disabled != "boolean" ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled); this._determineButtonType(); this.hasTitle = !!this.buttonElement.attr("title"); var e = this, r = this.options, o = this.type === "checkbox" || this.type === "radio", s = o ? "" : "ui-state-active"; r.label === null && (r.label = this.type === "input" ? this.buttonElement.val() : this.buttonElement.html()); this._hoverable(this.buttonElement); this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () { r.disabled || this === t && n(this).addClass("ui-state-active") }).bind("mouseleave" + this.eventNamespace, function () { r.disabled || n(this).removeClass(s) }).bind("click" + this.eventNamespace, function (n) { r.disabled && (n.preventDefault(), n.stopImmediatePropagation()) }); this._on({ focus: function () { this.buttonElement.addClass("ui-state-focus") }, blur: function () { this.buttonElement.removeClass("ui-state-focus") } }); o && this.element.bind("change" + this.eventNamespace, function () { e.refresh() }); this.type === "checkbox" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1 }) : this.type === "radio" ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); e.buttonElement.attr("aria-pressed", "true"); var t = e.element[0]; u(t).not(t).map(function () { return n(this).button("widget")[0] }).removeClass("ui-state-active").attr("aria-pressed", "false") }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).addClass("ui-state-active"); t = this; e.document.one("mouseup", function () { t = null }) }).bind("mouseup" + this.eventNamespace, function () { if (r.disabled) return !1; n(this).removeClass("ui-state-active") }).bind("keydown" + this.eventNamespace, function (t) { if (r.disabled) return !1; (t.keyCode === n.ui.keyCode.SPACE || t.keyCode === n.ui.keyCode.ENTER) && n(this).addClass("ui-state-active") }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () { n(this).removeClass("ui-state-active") }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) { t.keyCode === n.ui.keyCode.SPACE && n(this).click() })); this._setOption("disabled", r.disabled); this._resetButton() }, _determineButtonType: function () { var n, t, i; this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button"; this.type === "checkbox" || this.type === "radio" ? (n = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = n.find(t), this.buttonElement.length || (n = n.length ? n.siblings() : this.element.siblings(), this.buttonElement = n.filter(t), this.buttonElement.length || (this.buttonElement = n.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element }, widget: function () { return this.buttonElement }, _destroy: function () { this.element.removeClass("ui-helper-hidden-accessible"); this.buttonElement.removeClass(i + " ui-state-active " + r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()); this.hasTitle || this.buttonElement.removeAttr("title") }, _setOption: function (n, t) { if (this._super(n, t), n === "disabled") { this.widget().toggleClass("ui-state-disabled", !!t); this.element.prop("disabled", !!t); t && (this.type === "checkbox" || this.type === "radio" ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")); return } this._resetButton() }, refresh: function () { var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled"); t !== this.options.disabled && this._setOption("disabled", t); this.type === "radio" ? u(this.element[0]).each(function () { n(this).is(":checked") ? n(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false") }) : this.type === "checkbox" && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")) }, _resetButton: function () { if (this.type === "input") { this.options.label && this.element.val(this.options.label); return } var i = this.buttonElement.removeClass(r), e = n("<span><\/span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(), t = this.options.icons, f = t.primary && t.secondary, u = []; t.primary || t.secondary ? (this.options.text && u.push("ui-button-text-icon" + (f ? "s" : t.primary ? "-primary" : "-secondary")), t.primary && i.prepend("<span class='ui-button-icon-primary ui-icon " + t.primary + "'><\/span>"), t.secondary && i.append("<span class='ui-button-icon-secondary ui-icon " + t.secondary + "'><\/span>"), this.options.text || (u.push(f ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || i.attr("title", n.trim(e)))) : u.push("ui-button-text-only"); i.addClass(u.join(" ")) } }), n.widget("ui.buttonset", { version: "1.11.4", options: { items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)" }, _create: function () { this.element.addClass("ui-buttonset") }, _init: function () { this.refresh() }, _setOption: function (n, t) { n === "disabled" && this.buttons.button("option", n, t); this._super(n, t) }, refresh: function () { var i = this.element.css("direction") === "rtl", t = this.element.find(this.options.items), r = t.filter(":ui-button"); t.not(":ui-button").button(); r.button("refresh"); this.buttons = t.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(i ? "ui-corner-left" : "ui-corner-right").end().end() }, _destroy: function () { this.element.removeClass("ui-buttonset"); this.buttons.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-left ui-corner-right").end().button("destroy") } }), n.ui.button });

/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/mouse",["jquery", "./widget"], n) : n(jQuery) })(function (n) { var t = !1; return n(document).mouseup(function () { t = !1 }), n.widget("ui.mouse", { version: "1.11.4", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.bind("mousedown." + this.widgetName, function (n) { return t._mouseDown(n) }).bind("click." + this.widgetName, function (i) { if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent")) return n.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1 }); this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName); this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (i) { if (!t) { this._mouseMoved = !1; this._mouseStarted && this._mouseUp(i); this._mouseDownEvent = i; var r = this, u = i.which === 1, f = typeof this.options.cancel == "string" && i.target.nodeName ? n(i.target).closest(this.options.cancel).length : !1; return !u || f || !this._mouseCapture(i) ? !0 : (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { r.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted)) ? (i.preventDefault(), !0) : (!0 === n.data(i.target, this.widgetName + ".preventClickEvent") && n.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (n) { return r._mouseMove(n) }, this._mouseUpDelegate = function (n) { return r._mouseUp(n) }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), t = !0, !0) } }, _mouseMove: function (t) { return this._mouseMoved && (n.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button || !t.which) ? this._mouseUp(t) : ((t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted) ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) }, _mouseUp: function (i) { return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, i.target === this._mouseDownEvent.target && n.data(i.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(i)), t = !1, !1 }, _mouseDistanceMet: function (n) { return Math.max(Math.abs(this._mouseDownEvent.pageX - n.pageX), Math.abs(this._mouseDownEvent.pageY - n.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }) });

/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/draggable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.draggable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function () { this.options.helper === "original" && this._setPositionRelative(); this.options.addClasses && this.element.addClass("ui-draggable"); this.options.disabled && this.element.addClass("ui-draggable-disabled"); this._setHandleClassName(); this._mouseInit() }, _setOption: function (n, t) { this._super(n, t); n === "handle" && (this._removeHandleClassName(), this._setHandleClassName()) }, _destroy: function () { if ((this.helper || this.element).is(".ui-draggable-dragging")) { this.destroyOnClear = !0; return } this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"); this._removeHandleClassName(); this._mouseDestroy() }, _mouseCapture: function (t) { var i = this.options; return (this._blurActiveElement(t), this.helper || i.disabled || n(t.target).closest(".ui-resizable-handle").length > 0) ? !1 : (this.handle = this._getHandle(t), !this.handle) ? !1 : (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) }, _blockFrames: function (t) { this.iframeBlocks = this.document.find(t).map(function () { var t = n(this); return n("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _blurActiveElement: function (t) { var i = this.document[0]; if (this.handleElement.is(t.target)) try { i.activeElement && i.activeElement.nodeName.toLowerCase() !== "body" && n(i.activeElement).blur() } catch (r) { } }, _mouseStart: function (t) { var i = this.options; return (this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), n.ui.ddmanager && (n.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () { return n(this).css("position") === "fixed" }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1) ? (this._clear(), !1) : (this._cacheHelperProportions(), n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this._normalizeRightBottom(), this._mouseDrag(t, !0), n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t), !0) }, _refreshOffsets: function (n) { this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }; this.offset.click = { left: n.pageX - this.offset.left, top: n.pageY - this.offset.top } }, _mouseDrag: function (t, i) { if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) { var r = this._uiHash(); if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1; this.position = r.position } return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", n.ui.ddmanager && n.ui.ddmanager.drag(this, t), !1 }, _mouseStop: function (t) { var r = this, i = !1; return n.ui.ddmanager && !this.options.dropBehaviour && (i = n.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), this.options.revert === "invalid" && !i || this.options.revert === "valid" && i || this.options.revert === !0 || n.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? n(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { r._trigger("stop", t) !== !1 && r._clear() }) : this._trigger("stop", t) !== !1 && this._clear(), !1 }, _mouseUp: function (t) { return this._unblockFrames(), n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.focus(), n.ui.mouse.prototype._mouseUp.call(this, t) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this }, _getHandle: function (t) { return this.options.handle ? !!n(t.target).closest(this.element.find(this.options.handle)).length : !0 }, _setHandleClassName: function () { this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element; this.handleElement.addClass("ui-draggable-handle") }, _removeHandleClassName: function () { this.handleElement.removeClass("ui-draggable-handle") }, _createHelper: function (t) { var r = this.options, u = n.isFunction(r.helper), i = u ? n(r.helper.apply(this.element[0], [t])) : r.helper === "clone" ? this.element.clone().removeAttr("id") : this.element; return i.parents("body").length || i.appendTo(r.appendTo === "parent" ? this.element[0].parentNode : r.appendTo), u && i[0] === this.element[0] && this._setPositionRelative(), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i }, _setPositionRelative: function () { /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative") }, _adjustOffsetFromHelper: function (t) { typeof t == "string" && (t = t.split(" ")); n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }); "left" in t && (this.offset.click.left = t.left + this.margins.left); "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left); "top" in t && (this.offset.click.top = t.top + this.margins.top); "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top) }, _isRootNode: function (n) { return /(html|body)/i.test(n.tagName) || n === this.document[0] }, _getParentOffset: function () { var t = this.offsetParent.offset(), i = this.document[0]; return this.cssPosition === "absolute" && this.scrollParent[0] !== i && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = { top: 0, left: 0 }), { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if (this.cssPosition !== "relative") return { top: 0, left: 0 }; var n = this.element.position(), t = this._isRootNode(this.scrollParent[0]); return { top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()), left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft()) } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var f, t, i, r = this.options, u = this.document[0]; if (this.relativeContainer = null, !r.containment) { this.containment = null; return } if (r.containment === "window") { this.containment = [n(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, n(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, n(window).scrollLeft() + n(window).width() - this.helperProportions.width - this.margins.left, n(window).scrollTop() + (n(window).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment === "document") { this.containment = [0, 0, n(u).width() - this.helperProportions.width - this.margins.left, (n(u).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; return } if (r.containment.constructor === Array) { this.containment = r.containment; return } (r.containment === "parent" && (r.containment = this.helper[0].parentNode), t = n(r.containment), i = t[0], i) && (f = /(scroll|auto)/.test(t.css("overflow")), this.containment = [(parseInt(t.css("borderLeftWidth"), 10) || 0) + (parseInt(t.css("paddingLeft"), 10) || 0), (parseInt(t.css("borderTopWidth"), 10) || 0) + (parseInt(t.css("paddingTop"), 10) || 0), (f ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(t.css("borderRightWidth"), 10) || 0) - (parseInt(t.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(t.css("borderBottomWidth"), 10) || 0) - (parseInt(t.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = t) }, _convertPositionTo: function (n, t) { t || (t = this.position); var i = n === "absolute" ? 1 : -1, r = this._isRootNode(this.scrollParent[0]); return { top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - (this.cssPosition === "fixed" ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top) * i, left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - (this.cssPosition === "fixed" ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) * i } }, _generatePosition: function (n, t) { var i, s, u, f, r = this.options, h = this._isRootNode(this.scrollParent[0]), e = n.pageX, o = n.pageY; return h && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, n.pageX - this.offset.click.left < i[0] && (e = i[0] + this.offset.click.left), n.pageY - this.offset.click.top < i[1] && (o = i[1] + this.offset.click.top), n.pageX - this.offset.click.left > i[2] && (e = i[2] + this.offset.click.left), n.pageY - this.offset.click.top > i[3] && (o = i[3] + this.offset.click.top)), r.grid && (u = r.grid[1] ? this.originalPageY + Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, o = i ? u - this.offset.click.top >= i[1] || u - this.offset.click.top > i[3] ? u : u - this.offset.click.top >= i[1] ? u - r.grid[1] : u + r.grid[1] : u, f = r.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, e = i ? f - this.offset.click.left >= i[0] || f - this.offset.click.left > i[2] ? f : f - this.offset.click.left >= i[0] ? f - r.grid[0] : f + r.grid[0] : f), r.axis === "y" && (e = this.originalPageX), r.axis === "x" && (o = this.originalPageY)), { top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left) } }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"); this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(); this.helper = null; this.cancelHelperRemoval = !1; this.destroyOnClear && this.destroy() }, _normalizeRightBottom: function () { this.options.axis !== "y" && this.helper.css("right") !== "auto" && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")); this.options.axis !== "x" && this.helper.css("bottom") !== "auto" && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto")) }, _trigger: function (t, i, r) { return r = r || this._uiHash(), n.ui.plugin.call(this, t, [i, r, this], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"), r.offset = this.positionAbs), n.Widget.prototype._trigger.call(this, t, i, r) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } } }), n.ui.plugin.add("draggable", "connectToSortable", { start: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.sortables = []; n(r.options.connectToSortable).each(function () { var i = n(this).sortable("instance"); i && !i.options.disabled && (r.sortables.push(i), i.refreshPositions(), i._trigger("activate", t, u)) }) }, stop: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.cancelHelperRemoval = !1; n.each(r.sortables, function () { var n = this; n.isOver ? (n.isOver = 0, r.cancelHelperRemoval = !0, n.cancelHelperRemoval = !1, n._storedCSS = { position: n.placeholder.css("position"), top: n.placeholder.css("top"), left: n.placeholder.css("left") }, n._mouseStop(t), n.options.helper = n.options._helper) : (n.cancelHelperRemoval = !0, n._trigger("deactivate", t, u)) }) }, drag: function (t, i, r) { n.each(r.sortables, function () { var f = !1, u = this; u.positionAbs = r.positionAbs; u.helperProportions = r.helperProportions; u.offset.click = r.offset.click; u._intersectsWith(u.containerCache) && (f = !0, n.each(r.sortables, function () { return this.positionAbs = r.positionAbs, this.helperProportions = r.helperProportions, this.offset.click = r.offset.click, this !== u && this._intersectsWith(this.containerCache) && n.contains(u.element[0], this.element[0]) && (f = !1), f })); f ? (u.isOver || (u.isOver = 1, r._parent = i.helper.parent(), u.currentItem = i.helper.appendTo(u.element).data("ui-sortable-item", !0), u.options._helper = u.options.helper, u.options.helper = function () { return i.helper[0] }, t.target = u.currentItem[0], u._mouseCapture(t, !0), u._mouseStart(t, !0, !0), u.offset.click.top = r.offset.click.top, u.offset.click.left = r.offset.click.left, u.offset.parent.left -= r.offset.parent.left - u.offset.parent.left, u.offset.parent.top -= r.offset.parent.top - u.offset.parent.top, r._trigger("toSortable", t), r.dropped = u.element, n.each(r.sortables, function () { this.refreshPositions() }), r.currentItem = r.element, u.fromOutside = r), u.currentItem && (u._mouseDrag(t), i.position = u.position)) : u.isOver && (u.isOver = 0, u.cancelHelperRemoval = !0, u.options._revert = u.options.revert, u.options.revert = !1, u._trigger("out", t, u._uiHash(u)), u._mouseStop(t, !0), u.options.revert = u.options._revert, u.options.helper = u.options._helper, u.placeholder && u.placeholder.remove(), i.helper.appendTo(r._parent), r._refreshOffsets(t), i.position = r._generatePosition(t, !0), r._trigger("fromSortable", t), r.dropped = !1, n.each(r.sortables, function () { this.refreshPositions() })) }) } }), n.ui.plugin.add("draggable", "cursor", { start: function (t, i, r) { var u = n("body"), f = r.options; u.css("cursor") && (f._cursor = u.css("cursor")); u.css("cursor", f.cursor) }, stop: function (t, i, r) { var u = r.options; u._cursor && n("body").css("cursor", u._cursor) } }), n.ui.plugin.add("draggable", "opacity", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("opacity") && (f._opacity = u.css("opacity")); u.css("opacity", f.opacity) }, stop: function (t, i, r) { var u = r.options; u._opacity && n(i.helper).css("opacity", u._opacity) } }), n.ui.plugin.add("draggable", "scroll", { start: function (n, t, i) { i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)); i.scrollParentNotHidden[0] !== i.document[0] && i.scrollParentNotHidden[0].tagName !== "HTML" && (i.overflowOffset = i.scrollParentNotHidden.offset()) }, drag: function (t, i, r) { var u = r.options, o = !1, e = r.scrollParentNotHidden[0], f = r.document[0]; e !== f && e.tagName !== "HTML" ? (u.axis && u.axis === "x" || (r.overflowOffset.top + e.offsetHeight - t.pageY < u.scrollSensitivity ? e.scrollTop = o = e.scrollTop + u.scrollSpeed : t.pageY - r.overflowOffset.top < u.scrollSensitivity && (e.scrollTop = o = e.scrollTop - u.scrollSpeed)), u.axis && u.axis === "y" || (r.overflowOffset.left + e.offsetWidth - t.pageX < u.scrollSensitivity ? e.scrollLeft = o = e.scrollLeft + u.scrollSpeed : t.pageX - r.overflowOffset.left < u.scrollSensitivity && (e.scrollLeft = o = e.scrollLeft - u.scrollSpeed))) : (u.axis && u.axis === "x" || (t.pageY - n(f).scrollTop() < u.scrollSensitivity ? o = n(f).scrollTop(n(f).scrollTop() - u.scrollSpeed) : n(window).height() - (t.pageY - n(f).scrollTop()) < u.scrollSensitivity && (o = n(f).scrollTop(n(f).scrollTop() + u.scrollSpeed))), u.axis && u.axis === "y" || (t.pageX - n(f).scrollLeft() < u.scrollSensitivity ? o = n(f).scrollLeft(n(f).scrollLeft() - u.scrollSpeed) : n(window).width() - (t.pageX - n(f).scrollLeft()) < u.scrollSensitivity && (o = n(f).scrollLeft(n(f).scrollLeft() + u.scrollSpeed)))); o !== !1 && n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(r, t) } }), n.ui.plugin.add("draggable", "snap", { start: function (t, i, r) { var u = r.options; r.snapElements = []; n(u.snap.constructor !== String ? u.snap.items || ":data(ui-draggable)" : u.snap).each(function () { var t = n(this), i = t.offset(); this !== r.element[0] && r.snapElements.push({ item: this, width: t.outerWidth(), height: t.outerHeight(), top: i.top, left: i.left }) }) }, drag: function (t, i, r) { for (var e, o, s, h, c, a, l, v, w, b = r.options, f = b.snapTolerance, y = i.offset.left, k = y + r.helperProportions.width, p = i.offset.top, d = p + r.helperProportions.height, u = r.snapElements.length - 1; u >= 0; u--) { if (c = r.snapElements[u].left - r.margins.left, a = c + r.snapElements[u].width, l = r.snapElements[u].top - r.margins.top, v = l + r.snapElements[u].height, k < c - f || y > a + f || d < l - f || p > v + f || !n.contains(r.snapElements[u].item.ownerDocument, r.snapElements[u].item)) { r.snapElements[u].snapping && r.options.snap.release && r.options.snap.release.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = !1; continue } b.snapMode !== "inner" && (e = Math.abs(l - d) <= f, o = Math.abs(v - p) <= f, s = Math.abs(c - k) <= f, h = Math.abs(a - y) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l - r.helperProportions.height, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c - r.helperProportions.width }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a }).left)); w = e || o || s || h; b.snapMode !== "outer" && (e = Math.abs(l - p) <= f, o = Math.abs(v - d) <= f, s = Math.abs(c - y) <= f, h = Math.abs(a - k) <= f, e && (i.position.top = r._convertPositionTo("relative", { top: l, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v - r.helperProportions.height, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a - r.helperProportions.width }).left)); !r.snapElements[u].snapping && (e || o || s || h || w) && r.options.snap.snap && r.options.snap.snap.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })); r.snapElements[u].snapping = e || o || s || h || w } } }), n.ui.plugin.add("draggable", "stack", { start: function (t, i, r) { var f, e = r.options, u = n.makeArray(n(e.stack)).sort(function (t, i) { return (parseInt(n(t).css("zIndex"), 10) || 0) - (parseInt(n(i).css("zIndex"), 10) || 0) }); u.length && (f = parseInt(n(u[0]).css("zIndex"), 10) || 0, n(u).each(function (t) { n(this).css("zIndex", f + t) }), this.css("zIndex", f + u.length)) } }), n.ui.plugin.add("draggable", "zIndex", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("zIndex") && (f._zIndex = u.css("zIndex")); u.css("zIndex", f.zIndex) }, stop: function (t, i, r) { var u = r.options; u._zIndex && n(i.helper).css("zIndex", u._zIndex) } }), n.ui.draggable });

/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/position",["jquery"],n):n(jQuery)})(function(n){return function(){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,f,i=Math.max,t=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(u!==undefined)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||u?i.width():i.outerWidth(),height:r||u?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return v.apply(this,arguments);u=n.extend({},u);var k,l,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=y(nt),nt[0].preventDefault&&(u.at="left top"),l=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var n=(u[this]||"").split(" "),t,i;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";t=h.exec(n[0]);i=h.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),u.at[0]==="right"?w.left+=l:u.at[0]==="center"&&(w.left+=l/2),u.at[1]==="bottom"?w.top+=p:u.at[1]==="center"&&(w.top+=p/2),k=a(tt.at,l,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,s=n(this),h=s.outerWidth(),c=s.outerHeight(),ut=r(this,"marginLeft"),ft=r(this,"marginTop"),et=h+ut+r(this,"marginRight")+rt.width,ot=c+ft+r(this,"marginBottom")+rt.height,o=n.extend({},w),v=a(tt.my,s.outerWidth(),s.outerHeight());u.my[0]==="right"?o.left-=h:u.my[0]==="center"&&(o.left-=h/2);u.my[1]==="bottom"?o.top-=c:u.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];f||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](o,{targetWidth:l,targetHeight:p,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:s})});u.using&&(g=function(n){var r=b.left-o.left,a=r+l-h,f=b.top-o.top,v=f+p-c,e={target:{element:nt,left:b.left,top:b.top,width:l,height:p},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:v<0?"top":f>0?"bottom":"middle"};l<h&&t(r+a)<l&&(e.horizontal="center");p<c&&t(f+v)<p&&(e.vertical="middle");e.important=i(t(r),t(a))>i(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});s.offset(n.extend(o,{using:g}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,r=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?r>0&&f<=0?(h=n.left+r+t.collisionWidth-o-u,n.left+=r-h):n.left=f>0&&r<=0?u:r>f?u+o-t.collisionWidth:u:r>0?n.left+=r:f>0?n.left-=f:n.left=i(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,r=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?r>0&&f<=0?(h=n.top+r+t.collisionHeight-e-u,n.top+=r-h):n.top=f>0&&r<=0?u:r>f?u+e-t.collisionHeight:u:r>0?n.top+=r:f>0?n.top-=f:n.top=i(n.top-s,n.top)}},flip:{left:function(n,i){var r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-o,v=l+i.collisionWidth-c-o,u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,e=-2*i.offset[0],s,h;a<0?(s=n.left+u+f+e+i.collisionWidth-c-y,(s<0||s<t(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-i.collisionPosition.marginLeft+u+f+e-o,(h>0||t(h)<v)&&(n.left+=u+f+e))},top:function(n,i){var r=i.within,y=r.offset.top+r.scrollTop,c=r.height,o=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-o,v=l+i.collisionHeight-c-o,p=i.my[1]==="top",u=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,e=-2*i.offset[1],s,h;a<0?(h=n.top+u+f+e+i.collisionHeight-c-y,(h<0||h<t(a))&&(n.top+=u+f+e)):v>0&&(s=n.top-i.collisionPosition.marginTop+u+f+e-o,(s>0||t(s)<v)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,e,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in r)t.style[e]=r[e];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;f=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()}(),n.ui.position});

/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/resizable",["jquery", "./core", "./mouse", "./widget"], n) : n(jQuery) })(function (n) { return n.widget("ui.resizable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _num: function (n) { return parseInt(n, 10) || 0 }, _isNumber: function (n) { return !isNaN(parseInt(n, 10)) }, _hasScroll: function (t, i) { if (n(t).css("overflow") === "hidden") return !1; var r = i && i === "left" ? "scrollLeft" : "scrollTop", u = !1; return t[r] > 0 ? !0 : (t[r] = 1, u = t[r] > 0, t[r] = 0, u) }, _create: function () { var e, f, u, i, o, r = this, t = this.options; if (this.element.addClass("ui-resizable"), n.extend(this, { _aspectRatio: !!t.aspectRatio, aspectRatio: t.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: t.helper || t.ghost || t.animate ? t.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }), this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css({ margin: this.originalElement.css("margin") }), this._proportionallyResize()), this.handles = t.handles || (n(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se"), this._handles = n(), this.handles.constructor === String) for (this.handles === "all" && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, f = 0; f < e.length; f++) u = n.trim(e[f]), o = "ui-resizable-" + u, i = n("<div class='ui-resizable-handle " + o + "'><\/div>"), i.css({ zIndex: t.zIndex }), "se" === u && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[u] = ".ui-resizable-" + u, this.element.append(i); this._renderAxis = function (t) { var i, u, f, e; t = t || this.element; for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = n(this.handles[i]), this._on(this.handles[i], { mousedown: r._mouseDown })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (u = n(this.handles[i], this.element), e = /sw|ne|nw|se|n|s/.test(i) ? u.outerHeight() : u.outerWidth(), f = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), t.css(f, e), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i]) }; this._renderAxis(this.element); this._handles = this._handles.add(this.element.find(".ui-resizable-handle")); this._handles.disableSelection(); this._handles.mouseover(function () { r.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = i && i[1] ? i[1] : "se") }); t.autoHide && (this._handles.hide(), n(this.element).addClass("ui-resizable-autohide").mouseenter(function () { t.disabled || (n(this).removeClass("ui-resizable-autohide"), r._handles.show()) }).mouseleave(function () { t.disabled || r.resizing || (n(this).addClass("ui-resizable-autohide"), r._handles.hide()) })); this._mouseInit() }, _destroy: function () { this._mouseDestroy(); var t, i = function (t) { n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove() }; return this.elementIsWrapper && (i(this.element), t = this.element, this.originalElement.css({ position: t.css("position"), width: t.outerWidth(), height: t.outerHeight(), top: t.css("top"), left: t.css("left") }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this }, _mouseCapture: function (t) { var r, i, u = !1; for (r in this.handles) i = n(this.handles[r])[0], (i === t.target || n.contains(i, t.target)) && (u = !0); return !this.options.disabled && u }, _mouseStart: function (t) { var u, f, e, r = this.options, i = this.element; return this.resizing = !0, this._renderProxy(), u = this._num(this.helper.css("left")), f = this._num(this.helper.css("top")), r.containment && (u += n(r.containment).scrollLeft() || 0, f += n(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: u, top: f }, this.size = this._helper ? { width: this.helper.width(), height: this.helper.height() } : { width: i.width(), height: i.height() }, this.originalSize = this._helper ? { width: i.outerWidth(), height: i.outerHeight() } : { width: i.width(), height: i.height() }, this.sizeDiff = { width: i.outerWidth() - i.width(), height: i.outerHeight() - i.height() }, this.originalPosition = { left: u, top: f }, this.originalMousePosition = { left: t.pageX, top: t.pageY }, this.aspectRatio = typeof r.aspectRatio == "number" ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, e = n(".ui-resizable-" + this.axis).css("cursor"), n("body").css("cursor", e === "auto" ? this.axis + "-resize" : e), i.addClass("ui-resizable-resizing"), this._propagate("start", t), !0 }, _mouseDrag: function (t) { var i, r, u = this.originalMousePosition, e = this.axis, o = t.pageX - u.left || 0, s = t.pageY - u.top || 0, f = this._change[e]; return (this._updatePrevProperties(), !f) ? !1 : (i = f.apply(this, [t, o, s]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)), i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), r = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), n.isEmptyObject(r) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1) }, _mouseStop: function (t) { this.resizing = !1; var r, u, f, e, o, s, h, c = this.options, i = this; return this._helper && (r = this._proportionallyResizeElements, u = r.length && /textarea/i.test(r[0].nodeName), f = u && this._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, e = u ? 0 : i.sizeDiff.width, o = { width: i.helper.width() - e, height: i.helper.height() - f }, s = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, h = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null, c.animate || this.element.css(n.extend(o, { top: h, left: s })), i.helper.height(i.size.height), i.helper.width(i.size.width), this._helper && !c.animate && this._proportionallyResize()), n("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1 }, _updatePrevProperties: function () { this.prevPosition = { top: this.position.top, left: this.position.left }; this.prevSize = { width: this.size.width, height: this.size.height } }, _applyChanges: function () { var n = {}; return this.position.top !== this.prevPosition.top && (n.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (n.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (n.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (n.height = this.size.height + "px"), this.helper.css(n), n }, _updateVirtualBoundaries: function (n) { var r, u, f, e, t, i = this.options; t = { minWidth: this._isNumber(i.minWidth) ? i.minWidth : 0, maxWidth: this._isNumber(i.maxWidth) ? i.maxWidth : Infinity, minHeight: this._isNumber(i.minHeight) ? i.minHeight : 0, maxHeight: this._isNumber(i.maxHeight) ? i.maxHeight : Infinity }; (this._aspectRatio || n) && (r = t.minHeight * this.aspectRatio, f = t.minWidth / this.aspectRatio, u = t.maxHeight * this.aspectRatio, e = t.maxWidth / this.aspectRatio, r > t.minWidth && (t.minWidth = r), f > t.minHeight && (t.minHeight = f), u < t.maxWidth && (t.maxWidth = u), e < t.maxHeight && (t.maxHeight = e)); this._vBoundaries = t }, _updateCache: function (n) { this.offset = this.helper.offset(); this._isNumber(n.left) && (this.position.left = n.left); this._isNumber(n.top) && (this.position.top = n.top); this._isNumber(n.height) && (this.size.height = n.height); this._isNumber(n.width) && (this.size.width = n.width) }, _updateRatio: function (n) { var t = this.position, i = this.size, r = this.axis; return this._isNumber(n.height) ? n.width = n.height * this.aspectRatio : this._isNumber(n.width) && (n.height = n.width / this.aspectRatio), r === "sw" && (n.left = t.left + (i.width - n.width), n.top = null), r === "nw" && (n.top = t.top + (i.height - n.height), n.left = t.left + (i.width - n.width)), n }, _respectSize: function (n) { var t = this._vBoundaries, i = this.axis, r = this._isNumber(n.width) && t.maxWidth && t.maxWidth < n.width, u = this._isNumber(n.height) && t.maxHeight && t.maxHeight < n.height, f = this._isNumber(n.width) && t.minWidth && t.minWidth > n.width, e = this._isNumber(n.height) && t.minHeight && t.minHeight > n.height, o = this.originalPosition.left + this.originalSize.width, s = this.position.top + this.size.height, h = /sw|nw|w/.test(i), c = /nw|ne|n/.test(i); return f && (n.width = t.minWidth), e && (n.height = t.minHeight), r && (n.width = t.maxWidth), u && (n.height = t.maxHeight), f && h && (n.left = o - t.minWidth), r && h && (n.left = o - t.maxWidth), e && c && (n.top = s - t.minHeight), u && c && (n.top = s - t.maxHeight), n.width || n.height || n.left || !n.top ? n.width || n.height || n.top || !n.left || (n.left = null) : n.top = null, n }, _getPaddingPlusBorderDimensions: function (n) { for (var t = 0, i = [], r = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], u = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")]; t < 4; t++) i[t] = parseInt(r[t], 10) || 0, i[t] += parseInt(u[t], 10) || 0; return { height: i[0] + i[2], width: i[1] + i[3] } }, _proportionallyResize: function () { if (this._proportionallyResizeElements.length) for (var n, t = 0, i = this.helper || this.element; t < this._proportionallyResizeElements.length; t++) n = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(n)), n.css({ height: i.height() - this.outerDimensions.height || 0, width: i.width() - this.outerDimensions.width || 0 }) }, _renderProxy: function () { var t = this.element, i = this.options; this.elementOffset = t.offset(); this._helper ? (this.helper = this.helper || n("<div style='overflow:hidden;'><\/div>"), this.helper.addClass(this._helper).css({ width: this.element.outerWidth() - 1, height: this.element.outerHeight() - 1, position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++i.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element }, _change: { e: function (n, t) { return { width: this.originalSize.width + t } }, w: function (n, t) { var i = this.originalSize, r = this.originalPosition; return { left: r.left + t, width: i.width - t } }, n: function (n, t, i) { var r = this.originalSize, u = this.originalPosition; return { top: u.top + i, height: r.height - i } }, s: function (n, t, i) { return { height: this.originalSize.height + i } }, se: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, sw: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, r])) }, ne: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, nw: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, r])) } }, _propagate: function (t, i) { n.ui.plugin.call(this, t, [i, this.ui()]); t !== "resize" && this._trigger(t, i, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition } } }), n.ui.plugin.add("resizable", "animate", { stop: function (t) { var i = n(this).resizable("instance"), u = i.options, r = i._proportionallyResizeElements, f = r.length && /textarea/i.test(r[0].nodeName), s = f && i._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, h = f ? 0 : i.sizeDiff.width, c = { width: i.size.width - h, height: i.size.height - s }, e = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, o = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null; i.element.animate(n.extend(c, o && e ? { top: o, left: e } : {}), { duration: u.animateDuration, easing: u.animateEasing, step: function () { var u = { width: parseInt(i.element.css("width"), 10), height: parseInt(i.element.css("height"), 10), top: parseInt(i.element.css("top"), 10), left: parseInt(i.element.css("left"), 10) }; r && r.length && n(r[0]).css({ width: u.width, height: u.height }); i._updateCache(u); i._propagate("resize", t) } }) } }), n.ui.plugin.add("resizable", "containment", { start: function () { var r, f, e, o, s, h, c, t = n(this).resizable("instance"), l = t.options, a = t.element, u = l.containment, i = u instanceof n ? u.get(0) : /parent/.test(u) ? a.parent().get(0) : u; i && (t.containerElement = n(i), /document/.test(u) || u === document ? (t.containerOffset = { left: 0, top: 0 }, t.containerPosition = { left: 0, top: 0 }, t.parentData = { element: n(document), left: 0, top: 0, width: n(document).width(), height: n(document).height() || document.body.parentNode.scrollHeight }) : (r = n(i), f = [], n(["Top", "Right", "Left", "Bottom"]).each(function (n, i) { f[n] = t._num(r.css("padding" + i)) }), t.containerOffset = r.offset(), t.containerPosition = r.position(), t.containerSize = { height: r.innerHeight() - f[3], width: r.innerWidth() - f[1] }, e = t.containerOffset, o = t.containerSize.height, s = t.containerSize.width, h = t._hasScroll(i, "left") ? i.scrollWidth : s, c = t._hasScroll(i) ? i.scrollHeight : o, t.parentData = { element: i, left: e.left, top: e.top, width: h, height: c })) }, resize: function (t) { var o, s, h, c, i = n(this).resizable("instance"), v = i.options, r = i.containerOffset, l = i.position, f = i._aspectRatio || t.shiftKey, e = { top: 0, left: 0 }, a = i.containerElement, u = !0; a[0] !== document && /static/.test(a.css("position")) && (e = r); l.left < (i._helper ? r.left : 0) && (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - e.left), f && (i.size.height = i.size.width / i.aspectRatio, u = !1), i.position.left = v.helper ? r.left : 0); l.top < (i._helper ? r.top : 0) && (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top), f && (i.size.width = i.size.height * i.aspectRatio, u = !1), i.position.top = i._helper ? r.top : 0); h = i.containerElement.get(0) === i.element.parent().get(0); c = /relative|absolute/.test(i.containerElement.css("position")); h && c ? (i.offset.left = i.parentData.left + i.position.left, i.offset.top = i.parentData.top + i.position.top) : (i.offset.left = i.element.offset().left, i.offset.top = i.element.offset().top); o = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - e.left : i.offset.left - r.left)); s = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - e.top : i.offset.top - r.top)); o + i.size.width >= i.parentData.width && (i.size.width = i.parentData.width - o, f && (i.size.height = i.size.width / i.aspectRatio, u = !1)); s + i.size.height >= i.parentData.height && (i.size.height = i.parentData.height - s, f && (i.size.width = i.size.height * i.aspectRatio, u = !1)); u || (i.position.left = i.prevPosition.left, i.position.top = i.prevPosition.top, i.size.width = i.prevSize.width, i.size.height = i.prevSize.height) }, stop: function () { var t = n(this).resizable("instance"), r = t.options, u = t.containerOffset, f = t.containerPosition, e = t.containerElement, i = n(t.helper), o = i.offset(), s = i.outerWidth() - t.sizeDiff.width, h = i.outerHeight() - t.sizeDiff.height; t._helper && !r.animate && /relative/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }); t._helper && !r.animate && /static/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }) } }), n.ui.plugin.add("resizable", "alsoResize", { start: function () { var t = n(this).resizable("instance"), i = t.options; n(i.alsoResize).each(function () { var t = n(this); t.data("ui-resizable-alsoresize", { width: parseInt(t.width(), 10), height: parseInt(t.height(), 10), left: parseInt(t.css("left"), 10), top: parseInt(t.css("top"), 10) }) }) }, resize: function (t, i) { var r = n(this).resizable("instance"), e = r.options, u = r.originalSize, f = r.originalPosition, o = { height: r.size.height - u.height || 0, width: r.size.width - u.width || 0, top: r.position.top - f.top || 0, left: r.position.left - f.left || 0 }; n(e.alsoResize).each(function () { var t = n(this), u = n(this).data("ui-resizable-alsoresize"), r = {}, f = t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; n.each(f, function (n, t) { var i = (u[t] || 0) + (o[t] || 0); i && i >= 0 && (r[t] = i || null) }); t.css(r) }) }, stop: function () { n(this).removeData("resizable-alsoresize") } }), n.ui.plugin.add("resizable", "ghost", { start: function () { var t = n(this).resizable("instance"), i = t.options, r = t.size; t.ghost = t.originalElement.clone(); t.ghost.css({ opacity: .25, display: "block", position: "relative", height: r.height, width: r.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof i.ghost == "string" ? i.ghost : ""); t.ghost.appendTo(t.helper) }, resize: function () { var t = n(this).resizable("instance"); t.ghost && t.ghost.css({ position: "relative", height: t.size.height, width: t.size.width }) }, stop: function () { var t = n(this).resizable("instance"); t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0)) } }), n.ui.plugin.add("resizable", "grid", { resize: function () { var h, t = n(this).resizable("instance"), i = t.options, y = t.size, o = t.originalSize, s = t.originalPosition, c = t.axis, l = typeof i.grid == "number" ? [i.grid, i.grid] : i.grid, f = l[0] || 1, e = l[1] || 1, a = Math.round((y.width - o.width) / f) * f, v = Math.round((y.height - o.height) / e) * e, r = o.width + a, u = o.height + v, p = i.maxWidth && i.maxWidth < r, w = i.maxHeight && i.maxHeight < u, b = i.minWidth && i.minWidth > r, k = i.minHeight && i.minHeight > u; i.grid = l; b && (r += f); k && (u += e); p && (r -= f); w && (u -= e); /^(se|s|e)$/.test(c) ? (t.size.width = r, t.size.height = u) : /^(ne)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.top = s.top - v) : /^(sw)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.left = s.left - a) : ((u - e <= 0 || r - f <= 0) && (h = t._getPaddingPlusBorderDimensions(this)), u - e > 0 ? (t.size.height = u, t.position.top = s.top - v) : (u = e - h.height, t.size.height = u, t.position.top = s.top + o.height - u), r - f > 0 ? (t.size.width = r, t.position.left = s.left - a) : (r = f - h.width, t.size.width = r, t.position.left = s.left + o.width - r)) } }), n.ui.resizable });

/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/dialog",["jquery", "./core", "./widget", "./button", "./draggable", "./mouse", "./position", "./resizable"], n) : n(jQuery) })(function (n) { return n.widget("ui.dialog", { version: "1.11.4", options: { appendTo: "body", autoOpen: !0, buttons: [], closeOnEscape: !0, closeText: "Close", dialogClass: "", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function (t) { var i = n(this).css(t).offset().top; i < 0 && n(this).css("top", t.top - i) } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, sizeRelatedOptions: { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 }, resizableRelatedOptions: { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 }, _create: function () { this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }; this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }; this.originalTitle = this.element.attr("title"); this.options.title = this.options.title || this.originalTitle; this._createWrapper(); this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog); this._createTitlebar(); this._createButtonPane(); this.options.draggable && n.fn.draggable && this._makeDraggable(); this.options.resizable && n.fn.resizable && this._makeResizable(); this._isOpen = !1; this._trackFocus() }, _init: function () { this.options.autoOpen && this.open() }, _appendTo: function () { var t = this.options.appendTo; return t && (t.jquery || t.nodeType) ? n(t) : this.document.find(t || "body").eq(0) }, _destroy: function () { var n, t = this.originalPosition; this._untrackInstance(); this._destroyOverlay(); this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(); this.uiDialog.stop(!0, !0).remove(); this.originalTitle && this.element.attr("title", this.originalTitle); n = t.parent.children().eq(t.index); n.length && n[0] !== this.element[0] ? n.before(this.element) : t.parent.append(this.element) }, widget: function () { return this.uiDialog }, disable: n.noop, enable: n.noop, close: function (t) { var i, r = this; if (this._isOpen && this._trigger("beforeClose", t) !== !1) { if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try { i = this.document[0].activeElement; i && i.nodeName.toLowerCase() !== "body" && n(i).blur() } catch (u) { } this._hide(this.uiDialog, this.options.hide, function () { r._trigger("close", t) }) } }, isOpen: function () { return this._isOpen }, moveToTop: function () { this._moveToTop() }, _moveToTop: function (t, i) { var r = !1, f = this.uiDialog.siblings(".ui-front:visible").map(function () { return +n(this).css("z-index") }).get(), u = Math.max.apply(null, f); return u >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", u + 1), r = !0), r && !i && this._trigger("focus", t), r }, open: function () { var t = this; if (this._isOpen) { this._moveToTop() && this._focusTabbable(); return } this._isOpen = !0; this.opener = n(this.document[0].activeElement); this._size(); this._position(); this._createOverlay(); this._moveToTop(null, !0); this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1); this._show(this.uiDialog, this.options.show, function () { t._focusTabbable(); t._trigger("focus") }); this._makeFocusTarget(); this._trigger("open") }, _focusTabbable: function () { var n = this._focusedElement; n || (n = this.element.find("[autofocus]")); n.length || (n = this.element.find(":tabbable")); n.length || (n = this.uiDialogButtonPane.find(":tabbable")); n.length || (n = this.uiDialogTitlebarClose.filter(":tabbable")); n.length || (n = this.uiDialog); n.eq(0).focus() }, _keepFocus: function (t) { function i() { var t = this.document[0].activeElement, i = this.uiDialog[0] === t || n.contains(this.uiDialog[0], t); i || this._focusTabbable() } t.preventDefault(); i.call(this); this._delay(i) }, _createWrapper: function () { this.uiDialog = n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()); this._on(this.uiDialog, { keydown: function (t) { if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === n.ui.keyCode.ESCAPE) { t.preventDefault(); this.close(t); return } if (t.keyCode === n.ui.keyCode.TAB && !t.isDefaultPrevented()) { var i = this.uiDialog.find(":tabbable"), r = i.filter(":first"), u = i.filter(":last"); t.target !== u[0] && t.target !== this.uiDialog[0] || t.shiftKey ? (t.target === r[0] || t.target === this.uiDialog[0]) && t.shiftKey && (this._delay(function () { u.focus() }), t.preventDefault()) : (this._delay(function () { r.focus() }), t.preventDefault()) } }, mousedown: function (n) { this._moveToTop(n) && this._focusTabbable() } }); this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") }) }, _createTitlebar: function () { var t; this.uiDialogTitlebar = n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog); this._on(this.uiDialogTitlebar, { mousedown: function (t) { n(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus() } }); this.uiDialogTitlebarClose = n("<button type='button'><\/button>").button({ label: this.options.closeText, icons: { primary: "ui-icon-closethick" }, text: !1 }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar); this._on(this.uiDialogTitlebarClose, { click: function (n) { n.preventDefault(); this.close(n) } }); t = n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar); this._title(t); this.uiDialog.attr({ "aria-labelledby": t.attr("id") }) }, _title: function (n) { this.options.title || n.html("&#160;"); n.text(this.options.title) }, _createButtonPane: function () { this.uiDialogButtonPane = n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"); this.uiButtonSet = n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane); this._createButtons() }, _createButtons: function () { var i = this, t = this.options.buttons; if (this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), n.isEmptyObject(t) || n.isArray(t) && !t.length) { this.uiDialog.removeClass("ui-dialog-buttons"); return } n.each(t, function (t, r) { var u, f; r = n.isFunction(r) ? { click: r, text: t } : r; r = n.extend({ type: "button" }, r); u = r.click; r.click = function () { u.apply(i.element[0], arguments) }; f = { icons: r.icons, text: r.showText }; delete r.icons; delete r.showText; n("<button><\/button>", r).button(f).appendTo(i.uiButtonSet) }); this.uiDialog.addClass("ui-dialog-buttons"); this.uiDialogButtonPane.appendTo(this.uiDialog) }, _makeDraggable: function () { function i(n) { return { position: n.position, offset: n.offset } } var t = this, r = this.options; this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (r, u) { n(this).addClass("ui-dialog-dragging"); t._blockFrames(); t._trigger("dragStart", r, i(u)) }, drag: function (n, r) { t._trigger("drag", n, i(r)) }, stop: function (u, f) { var e = f.offset.left - t.document.scrollLeft(), o = f.offset.top - t.document.scrollTop(); r.position = { my: "left top", at: "left" + (e >= 0 ? "+" : "") + e + " top" + (o >= 0 ? "+" : "") + o, of: t.window }; n(this).removeClass("ui-dialog-dragging"); t._unblockFrames(); t._trigger("dragStop", u, i(f)) } }) }, _makeResizable: function () { function r(n) { return { originalPosition: n.originalPosition, originalSize: n.originalSize, position: n.position, size: n.size } } var t = this, i = this.options, u = i.resizable, f = this.uiDialog.css("position"), e = typeof u == "string" ? u : "n,e,s,w,se,sw,ne,nw"; this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: i.maxWidth, maxHeight: i.maxHeight, minWidth: i.minWidth, minHeight: this._minHeight(), handles: e, start: function (i, u) { n(this).addClass("ui-dialog-resizing"); t._blockFrames(); t._trigger("resizeStart", i, r(u)) }, resize: function (n, i) { t._trigger("resize", n, r(i)) }, stop: function (u, f) { var e = t.uiDialog.offset(), o = e.left - t.document.scrollLeft(), s = e.top - t.document.scrollTop(); i.height = t.uiDialog.height(); i.width = t.uiDialog.width(); i.position = { my: "left top", at: "left" + (o >= 0 ? "+" : "") + o + " top" + (s >= 0 ? "+" : "") + s, of: t.window }; n(this).removeClass("ui-dialog-resizing"); t._unblockFrames(); t._trigger("resizeStop", u, r(f)) } }).css("position", f) }, _trackFocus: function () { this._on(this.widget(), { focusin: function (t) { this._makeFocusTarget(); this._focusedElement = n(t.target) } }) }, _makeFocusTarget: function () { this._untrackInstance(); this._trackingInstances().unshift(this) }, _untrackInstance: function () { var t = this._trackingInstances(), i = n.inArray(this, t); i !== -1 && t.splice(i, 1) }, _trackingInstances: function () { var n = this.document.data("ui-dialog-instances"); return n || (n = [], this.document.data("ui-dialog-instances", n)), n }, _minHeight: function () { var n = this.options; return n.height === "auto" ? n.minHeight : Math.min(n.minHeight, n.height) }, _position: function () { var n = this.uiDialog.is(":visible"); n || this.uiDialog.show(); this.uiDialog.position(this.options.position); n || this.uiDialog.hide() }, _setOptions: function (t) { var i = this, r = !1, u = {}; n.each(t, function (n, t) { i._setOption(n, t); n in i.sizeRelatedOptions && (r = !0); n in i.resizableRelatedOptions && (u[n] = t) }); r && (this._size(), this._position()); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u) }, _setOption: function (n, t) { var u, r, i = this.uiDialog; (n === "dialogClass" && i.removeClass(this.options.dialogClass).addClass(t), n !== "disabled") && (this._super(n, t), n === "appendTo" && this.uiDialog.appendTo(this._appendTo()), n === "buttons" && this._createButtons(), n === "closeText" && this.uiDialogTitlebarClose.button({ label: "" + t }), n === "draggable" && (u = i.is(":data(ui-draggable)"), u && !t && i.draggable("destroy"), !u && t && this._makeDraggable()), n === "position" && this._position(), n === "resizable" && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && typeof t == "string" && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), n === "title" && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))) }, _size: function () { var t, i, r, n = this.options; this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }); n.minWidth > n.width && (n.width = n.minWidth); t = this.uiDialog.css({ height: "auto", width: n.width }).outerHeight(); i = Math.max(0, n.minHeight - t); r = typeof n.maxHeight == "number" ? Math.max(0, n.maxHeight - t) : "none"; n.height === "auto" ? this.element.css({ minHeight: i, maxHeight: r, height: "auto" }) : this.element.height(Math.max(0, n.height - t)); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight()) }, _blockFrames: function () { this.iframeBlocks = this.document.find("iframe").map(function () { var t = n(this); return n("<div>").css({ position: "absolute", width: t.outerWidth(), height: t.outerHeight() }).appendTo(t.parent()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _allowInteraction: function (t) { return n(t.target).closest(".ui-dialog").length ? !0 : !!n(t.target).closest(".ui-datepicker").length }, _createOverlay: function () { if (this.options.modal) { var t = !0; this._delay(function () { t = !1 }); this.document.data("ui-dialog-overlays") || this._on(this.document, { focusin: function (n) { t || this._allowInteraction(n) || (n.preventDefault(), this._trackingInstances()[0]._focusTabbable()) } }); this.overlay = n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()); this._on(this.overlay, { mousedown: "_keepFocus" }); this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1) } }, _destroyOverlay: function () { if (this.options.modal && this.overlay) { var n = this.document.data("ui-dialog-overlays") - 1; n ? this.document.data("ui-dialog-overlays", n) : this.document.unbind("focusin").removeData("ui-dialog-overlays"); this.overlay.remove(); this.overlay = null } } }) });

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Controls/Dialogs",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Controls/Panels","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Accessibility","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","q","jQueryUI/core","jQueryUI/button","jQueryUI/dialog","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function rt(n,t){t&&a.BrowserCheckUtils.isEdge()&&$.each(t,function(t,i){var r=i.click;r&&(i.click=function(t){t&&!$(t.currentTarget).is(":disabled")&&r.apply(n[0],arguments)})})}function ut(n,t){var r=t||"",i;return i=typeof n=="string"?n.split(" "):n,r.split(" ").concat(i).filter(function(n,t,i){return i.indexOf(n)===t}).join(" ")}function st(n,t){return w.show(n,t)}function ht(n,t){return b.showMessageDialog(n,t)}function ct(n,t){return ht(n,{title:t||s.UnsavedChangesMessageTitle,noDefaultButton:!0,buttons:[{id:"leave",text:s.UnsavedChangesLeaveButton,reject:!1},{id:"stay",text:s.UnsavedChangesStayButton,reject:!0},]})}var p,it,k,w,d,g,nt,ft,et,tt,b,ot;Object.defineProperty(t,"__esModule",{value:!0});p=c.delegate;it=a.domElem,function(){var n=[".ms-Layer",".bolt-portal"];$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(t){var i,r,u;if(this._super(t)||a.BrowserCheckUtils.isFirefox()&&t.type==="focusin"&&t.target==document)return!0;for(i=0,r=n;i<r.length;i++)if(u=r[i],$(t.target).closest(u).length)return!0}})}();t.preventClickingDisabledButtons=rt;k=function(n){function t(t){var i=n.call(this,t)||this;return i._closedByNavigation=!1,i._resizing=!1,i._onWindowResizeDelegate=p(i,i._onWindowResize),i}return __extends(t,n),t.beginExecuteDialogAction=function(n){w._dialogActionInProgress||(w._dialogActionInProgress=!0,n(function(){w._dialogActionInProgress=!1}))},t.create=function(n,t){var o=t&&t.content||$("<div />"),r,u,f,e;return t&&t.contentText&&o.text(t.contentText),r=i.Enhancement.enhance(n,o,t),u=this._getNextDialogZIndex(),r._element.parent().css("z-index",u),r._options.modal&&(f=r._element.parent().next("div.ui-widget-overlay").css("z-index",u-1),(a.BrowserCheckUtils.isIE()||a.BrowserCheckUtils.isEdge())&&(e=f.clone().insertAfter(f),f.css("width","50%"),e.css({"z-index":u-1,width:"50%",left:"50%"}),r._secondOverlay=e)),r._element.parent().children("div.ui-icon-gripsmall-diagonal-se").addClass("ui-icon-grip-diagonal-se"),r},t._getNextDialogZIndex=function(){var t,n,i=0;return $("div.ui-dialog").each(function(){t=Number($(this).css("z-index"));!isNaN(t)&&t>i&&(i=t)}),i<10001?n=10002:(n=i+2,n%2!=0&&n++),n},t.show=function(n,t){return this.create(n,$.extend({autoOpen:!0},t))},t.prototype.initializeOptions=function(t){var i,r,u,f;this._options=this._options||{};n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog",widthPct:.8,heightPct:.8,modal:!0,draggable:!0,resizable:!0,autoOpen:!1,dynamicSize:!0,disposeOnClose:!0,closeText:s.CloseButtonLabelText},t));i=this._options;r=$(window);i.height==="auto"&&(i.height=null);i.minWidth=Math.max(240,parseInt(i.minWidth,10)||0);i.minHeight=Math.max(192,parseInt(i.minHeight,10)||0);this._specifiedMaxWidth=parseInt(i.maxWidth,10);this._specifiedMaxHeight=parseInt(i.maxHeight,10);this._setMaxSize();this._ensureCtaButton();i.dynamicSize?(i.width=r.width()*i.widthPct,i.height=r.height()*i.heightPct):!i.useLegacyStyle&&i.height&&(u=66,i.subtitle&&(u+=22),f=typeof i.height=="number"?i.height:parseInt(i.height,10),f+=u,i.height=f);i.height&&!isNaN(i.height)&&(i.height=Math.min(i.height,r.height()));i.width&&!isNaN(i.width)&&(i.width=Math.min(i.width,r.width()));i.hideCloseButton&&(i.dialogClass=ut("no-close",i.dialogClass));this._options.useLegacyStyle&&(i.dialogClass=ut("ui-dialog-legacy",i.dialogClass))},t.prototype.initialize=function(){var t=this,s,l,c,h;n.prototype.initialize.call(this);var i=this,v=$(window),e=$.extend({},this._options);e.title=this.getTitle();e.close=function(n){t._options.close&&t._options.close(__assign({},n,{closedByNavigation:t._closedByNavigation}));t._removeSecondOverlay();t.onClose(n)};e.beforeClose=function(n){if(t._options.beforeClose)return t._options.beforeClose(__assign({},n,{closedByNavigation:t._closedByNavigation}))};e.open=function(n){i._options.open&&i._options.open.call(this,n);i.onOpen(n)};this._bind("dialogdragstart dialogdragstop",function(){u.getService().fire("dialog-move",t);t._onDialogMove()});this._options.attachResize&&this._bind("dialogresizestop",this.onDialogResize.bind(this));this._options.resizable&&(this._bind("dialogresize",this._onDialogResizing.bind(this)),this._bind("dialogresizestart",this._onDialogResizeStart.bind(this)),this._bind("dialogresizestop",this._onDialogResizeStop.bind(this)));e.dynamicSize&&(u.getService().attachEvent("window-resize",this._onWindowResizeDelegate),this._bind("dialogclose",function(){var n=u.getService();n.fire("dialog-close",i);n.detachEvent("window-resize",i._onWindowResizeDelegate)}));e.url||r.logTracePoint("Dialog.initialize.complete");rt(this.getElement(),e.buttons);this._options.contentMargin===!1&&this.getElement().addClass("no-margin");this.getElement().dialog(e);this._options.useLegacyStyle||(s=this.getElement().parent(),l=s.find(".ui-dialog-titlebar"),l.addClass("bowtie").append($("<div />").addClass("ui-dialog-subtitle")),c=$("span.ui-dialog-title",l),c.attr({role:"heading","aria-level":1}),a.tooltipIfOverflow(c[0],{titleTarget:c[0],titleText:this.getTitle()}),s.find(".ui-dialog-buttonpane").addClass("bowtie"),h=s.find("button.ui-dialog-titlebar-close"),this._closeTooltip=o.RichContentTooltip.add(this._options.closeText,h),h.removeAttr("title"),h.attr("aria-label",this._options.closeText),h.find(".ui-button-icon-primary").addClass("bowtie-icon bowtie-navigate-close"),(this._options.useBowtieStyle||this._options.bowtieVersion>0)&&s.addClass("bowtie-style"));this.setSubtitle(this.getSubtitle());this.getElement().keydown(function(n){var r,u,t;if(n.keyCode===$.ui.keyCode.ENTER){if(t=$(n.target),t.attr("role")==="combobox")return!0;if((!n.shiftKey&&t.is("input[type='text']")||t.is("textarea")&&n.ctrlKey)&&i._options.defaultButton&&i._options.buttons)return r=i._options.buttons[i._options.defaultButton],r&&(u=$("#"+r.id).button("option"),u.disabled||r.click.apply(this,[n])),!1;if(!t.is("textarea")&&!t.is("a")&&!t.is("button")&&!t.hasClass("propagate-keydown-event"))return!1}});this._options.resizable&&this._addResizeKeydownHandler();setTimeout(function(){t._autoSizeAndPosition();t.onInitialize()},0);w._dialogActionInProgress=!1;this._onHubNavigateDelegate=function(){t._closedByNavigation=!0;t.close()};u.getService().attachEvent(f.HubEventNames.PreXHRNavigate,this._onHubNavigateDelegate);a.attachResize(this.getElement(),p(this,this._onWindowResize))},t.prototype._addResizeKeydownHandler=function(){var i=this,n=this.getElement(),t=n.siblings(".ui-icon-gripsmall-diagonal-se");if(t.length>0){t.attr({tabindex:0,role:"button","aria-label":s.DialogResizeLabel});this._resizeIconTooltip=o.RichContentTooltip.add(s.DialogResizeLabel,t);t.removeAttr("title");var r=n.dialog("option","minWidth")||150,u=n.dialog("option","minHeight")||150,f=n.dialog("option","maxWidth")||Number.MAX_VALUE,e=n.dialog("option","maxHeight")||Number.MAX_VALUE;t.keydown(function(n){switch(n.keyCode){case a.KeyCode.LEFT:i._resize("width",!1,r,Math.max);h.announce(s.DialogSizeDecreased);break;case a.KeyCode.RIGHT:i._resize("width",!0,f,Math.min);h.announce(s.DialogSizeIncreased);break;case a.KeyCode.UP:i._resize("height",!1,u,Math.max);h.announce(s.DialogSizeDecreased);break;case a.KeyCode.DOWN:i._resize("height",!0,e,Math.min);h.announce(s.DialogSizeIncreased)}})}},t.prototype._resize=function(n,i,r,u){var f=this.getElement(),e=f.dialog("option",n),o;e==="auto"&&(e=f.parent().height());o=u(e+t.RESIZE_STEP*(i?1:-1),r);f.dialog("option",n,o);f.trigger("dialogresizestop",{size:{width:f.dialog("option","width"),height:f.dialog("option","height")}})},t.prototype._autoSizeAndPosition=function(){var n=this.getElement(),t=this._options;n&&n.length>0&&$.contains(document.body,n[0])&&(t.preventAutoResize||(t.position&&n.dialog("option","position",t.position),t.height?n.dialog("option","height",t.height):n.dialog("option","height","auto"),this._setMaxHeight()),n.show())},t.prototype._ensureCtaButton=function(){var n=this._options,r,u,t,i;n.noAutoCta!==!0&&(r=/(^cta$)|(^cta\ )|(\ cta\ )|( cta$)/,u=/(^warning$)|(^warning\ )|(\ warning\ )|( warning$)/,$.isArray(n.buttons)&&n.buttons.length>0&&!n.buttons.some(function(n){return r.test(n.class)})&&!n.buttons.some(function(n){return u.test(n.class)})?(i=n.buttons[0].class||"",n.buttons[0].class=i+" cta"):n.buttons&&typeof n.buttons=="object"&&(t=Object.keys(n.buttons),t.length>0&&(t.some(function(t){return r.test(n.buttons[t].class)})||t.some(function(t){return u.test(n.buttons[t].class)})||(i=n.buttons[t[0]].class||"",n.buttons[t[0]].class=i+" cta"))))},t.prototype.onLoadCompleted=function(t){n.prototype.onLoadCompleted.call(this,t);this.setInitialFocus();r.logTracePoint("Dialog.initialize.complete")},t.prototype.setInitialFocus=function(){var n=this._options.initialFocusSelector||":visible:tabbable";this.getElement().find(n).first().focus()},t.prototype.setFormFocusDelayed=function(n){c.delay(this,300,function(){n.eq(0).focus().select()})},t.prototype.setTitle=function(n){this._title=n;this._updateTitle()},t.prototype.getTitle=function(){return this._title||this._options.title||this.getElement().attr("title")||""},t.prototype.setSubtitle=function(n){this._subtitle=n;this._updateSubtitle()},t.prototype.getSubtitle=function(){var n=this._subtitle;return(n===null||n===undefined)&&(n=this._options.subtitle),n||""},t.prototype.centerDialog=function(){this.getElement().dialog("option","position",{my:"center",at:"center",of:window});this._setMaxHeight()},t.prototype.getDialogResult=function(){return this._dialogResult},t.prototype.setDialogResult=function(n){this._dialogResult=n},t.prototype.show=function(){this.getElement().dialog("open")},t.prototype.onOpen=function(){if(!this._options||this._options.hasProgressElement!==!1){var n=$("<div />").addClass("ui-dialog-titlebar-progress-container").appendTo(this.getElement().parent().find(".ui-dialog-titlebar"));this._progressElement=$("<div />").addClass("ui-dialog-titlebar-progress-element").appendTo(n);v.globalProgressIndicator.registerProgressElement(this._progressElement)}u.getService().fire("dialog-open",this)},t.prototype.onClose=function(){u.getService().fire("dialog-close",this);this._progressElement&&v.globalProgressIndicator.unRegisterProgressElement(this._progressElement);this._removeSecondOverlay();this._options.disposeOnClose&&this.dispose();var n=$(".ui-dialog").slice(-1);n.length&&!this._options.noFocusOnClose&&n.focus()},t.prototype.onInitialize=function(){typeof this._options.initialize=="function"&&this._options.initialize.call(this)},t.prototype.close=function(){this.getElement()&&this.getElement().dialog("close")},t.prototype.dispose=function(){this._removeSecondOverlay();u.getService().detachEvent(f.HubEventNames.PreXHRNavigate,this._onHubNavigateDelegate);a.detachResize(this.getElement());this._closeTooltip&&(this._closeTooltip.dispose(),this._closeTooltip=null);this._resizeIconTooltip&&(this._resizeIconTooltip.dispose(),this._resizeIconTooltip=null);n.prototype.dispose.call(this)},t.prototype._removeSecondOverlay=function(){this._secondOverlay&&(this._secondOverlay.remove(),this._secondOverlay=null)},t.prototype._updateSubtitle=function(){if(this._initialized&&this.getElement()){var n=this.getElement().parent().find(".ui-dialog-subtitle"),t=this.getSubtitle()||"";n.text(t);a.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:t});n.toggle(t.length>0)}},t.prototype.onDialogResize=function(){},t.prototype._updateTitle=function(){if(this._initialized&&this.getElement()){var t=this.getElement().dialog("option","title",this.getTitle()),n=$("span.ui-dialog-title",t.parent());a.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:this.getTitle()})}},t.prototype._onWindowResize=function(){if(!this._resizing){var t=$(window),n=this._options;n.dynamicSize&&(this._setMaxSize(),this.getElement().dialog("option",{width:t.width()*n.widthPct,height:t.height()*n.heightPct,maxHeight:parseInt(this._options.maxHeight,10),maxWidth:parseInt(this._options.maxWidth,10)}));this.getElement().dialog("option","position",{my:"center",at:"center",of:window})}},t.prototype._onDialogResizing=function(n,t){var u=$(window),i,r;t&&t.position&&t.size&&(i=Math.min(t.size.height,u.height()-t.position.top),r=Math.min(t.size.width,u.width()-t.position.left),(i!==t.size.height||r!==t.size.width)&&this.getElement().dialog("option",{width:r,height:i}))},t.prototype._onDialogMove=function(){this._options.preventAutoResize||(this._setMaxHeight(),this._ensureDialogContentHeight());this._hideCloseButtonTooltip();this._hideResizeIconTooltip()},t.prototype._onDialogResizeStart=function(){this._resizing=!0;this._hideCloseButtonTooltip();this._hideResizeIconTooltip()},t.prototype._onDialogResizeStop=function(){this._resizing=!1},t.prototype._ensureDialogContentHeight=function(){var n=this.getElement().parent().css("height");n!=="auto"?this.getElement().css("height",this.getElement().outerHeight()):this.getElement().css("height","auto")},t.prototype._setMaxHeight=function(){var n=this.getElement().prev().outerHeight(!0)+this.getElement().next().outerHeight(!0);this.getElement().css("maxHeight",window.innerHeight-this.getElement().parent().position().top-n)},t.prototype._setMaxSize=function(){this._options.maxWidth=Math.min(window.innerWidth,this._specifiedMaxWidth||Infinity);this._options.maxHeight=Math.min(window.innerHeight,this._specifiedMaxHeight||Infinity)},t.prototype._hideCloseButtonTooltip=function(){this._closeTooltip&&this._closeTooltip.hide()},t.prototype._hideResizeIconTooltip=function(){this._resizeIconTooltip&&this._resizeIconTooltip.hide()},t.enhancementTypeName="tfs.dialog",t._dialogActionInProgress=!1,t.RESIZE_STEP=25,t}(e.AjaxPanelO);t.DialogO=k;w=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(k);t.Dialog=w;d=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog modal-dialog",modal:!0,dynamicSize:!1,width:500,height:"auto",defaultButton:"ok",buttons:{ok:{id:"ok",text:t&&t.okText||s.ModalDialogOkButton,click:p(this,this.onOkClick),"class":"cta",disabled:"disabled"},cancel:{id:"cancel",text:t&&t.cancelText||s.ModalDialogCancelButton,click:p(this,this.onCancelClick)}}},t))},t.prototype.initialize=function(){this._bind(g.EVENT_BUTTON_STATUS_CHANGE,p(this,this.onButtonStatusChange));this._bind("resultReady",p(this,this.onResultReady));n.prototype.initialize.call(this)},t.prototype.updateOkButton=function(n){this.getElement()&&this.getElement().trigger(g.EVENT_BUTTON_STATUS_CHANGE,{enabled:n===!0})},t.prototype.processResult=function(n){var t=this._options.okCallback;n&&($.isFunction(t)&&(t.call(this,n),r.logTracePoint(this.getTypeName()+".callback-complete")),this.close())},t.prototype.onOkClick=function(){r.logTracePoint(this.getTypeName()+".OkClicked");this.processResult(this.getDialogResult())},t.prototype.onResultReady=function(n,t){this.processResult(t)},t.prototype.onCancelClick=function(){$.isFunction(this._options.cancelCallback)&&this._options.cancelCallback();this.close()},t.prototype.onButtonStatusChange=function(n,t){var i=this.getElement().siblings(".ui-dialog-buttonpane").find("#"+(t.button||"ok"));i.button("option","disabled",t.enabled?"":"disabled");this.setAttribute("aria-disabled",t.enabled?"false":"true",i)},t.enhancementTypeName="tfs.modaldialog",t.EVENT_BUTTON_STATUS_CHANGE="buttonStatusChange",t}(k);t.ModalDialogO=d;g=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(d);t.ModalDialog=g;nt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:400,height:200,resizable:!1,cssClass:"confirmation-dialog"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.$errorContainer=$(it("div")).addClass("confirmation-dialog-error").prependTo(this.getElement()).hide();this.updateOkButton(!0)},t.prototype._onSuccess=function(){this._fire("resultReady",!0);var n=this._options.successCallback;$.isFunction(n)&&(n.apply(this,arguments),r.logTracePoint(this.getTypeName()+".callback-complete"))},t.prototype._onError=function(n){this.$errorContainer.text(n.message).show()},t.prototype.onOkClick=function(t){this.updateOkButton(!1);n.prototype.onOkClick.call(this,t)},t}(d);t.ConfirmationDialogO=nt;ft=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(nt);t.ConfirmationDialog=ft;et=function(){function n(n){this.button=n}return n.prototype.toString=function(){return"MessageDialogResult: Button: "+(this.button?this.button.id:"?")+" ("+v.ErrorHandler.ignoreRejectedPromiseTag+")"},n}();tt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){var u=this,i=$.extend({width:500,height:"auto",hideCloseButton:!0,coreCssClass:"dialog modal-dialog message-dialog",modal:!0,dynamicSize:!1},t),r;i.buttons instanceof Array&&i.buttons.length>0&&(r={},i.buttons.forEach(function(n){r[n.id]=u.getButtonOptions(n)}),t.noDefaultButton||(i.defaultButton=i.buttons[0].id),this.setDialogResult(i.buttons[i.buttons.length-1]),i.buttons=r);t.escapeButton&&this.setDialogResult(t.escapeButton);n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var i,t;n.prototype.initialize.call(this);this._options.requiredTypedConfirmation&&this.initializeTypedConfirmation();for(i in this._options.buttons)t=this._options.buttons[i],t.style&&$("#"+t.id).addClass(t.style)},t.prototype.initializeTypedConfirmation=function(){var u=this,f=this.getElement(),n=$("<input type='text' class='textbox message-dialog-confirm-textbox no-match' />"),t=$(),i,r;for(i in this._options.buttons)this._options.buttons[i].reject||(t=t.add($("#"+this._options.buttons[i].id)));r=function(){l.ignoreCaseComparer(n.val(),u._options.requiredTypedConfirmation)==0?(n.removeClass("no-match").addClass("match"),t.button("option","disabled","")):(n.addClass("no-match").removeClass("match"),t.button("option","disabled","disabled"))};n.bind("input keyup",r);f.append($("<div class='message-dialog-confirm'><\/div>").append(n));r(null);c.delay(this,100,function(){n.focus();n.select()})},t.prototype.getPromise=function(){return this._deferred||(this._deferred=y.defer()),this._deferred.promise},t.showMessageDialog=function(n,t){var i,r;return t=t||{},i=$.extend({buttons:[b.buttons.ok,b.buttons.cancel],useBowtieStyle:!0,minWidth:t.width,minHeight:t.height,title:s.Confirm},t),i.content=typeof n=="string"?$("<div />").text(n):n,r=st(b,i),r.getPromise()},t.prototype.onClose=function(t){if(this._deferred){var i=new et(this.getDialogResult());this._options.beforeClose&&this._options.beforeClose(i.button);i.button.reject?this._deferred.reject(i):this._deferred.resolve(i)}return n.prototype.onClose.call(this,t)},t.prototype.getButtonOptions=function(n){var t=this;return $.extend({click:function(){t.setDialogResult(n);t.close()}},n)},t.buttons={ok:{id:"ok",text:s.ModalDialogOkButton,reject:!1},cancel:{id:"cancel",text:s.ModalDialogCancelButton,reject:!0},yes:{id:"yes",text:s.ModalDialogYesButton,reject:!1},no:{id:"no",text:s.ModalDialogNoButton,reject:!0},close:{id:"close",text:s.CloseButtonLabelText,reject:!0}},t}(k);t.MessageDialogO=tt;b=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(tt);t.MessageDialog=b;ot=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:t.width||600,minWidth:400,height:t.height||450,minHeight:200,attachResize:!0,defaultButton:"close",buttons:[{id:"close",text:s.CloseButtonLabelText,click:p(this,this.close)}]},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.setTitle(s.CopyContentDialogTitle);this._decorate()},t.prototype._decorate=function(){var r=this.getElement(),n,i=$("<div>").text(this._options.dialogLabel||this._getDefaultLabelText()),t;this._options.dialogLabelExtend&&i.append(this._options.dialogLabelExtend);t=$("<div class='copy-dialog-container'>").append(i).append($("<p>"));this._options.excludeTextPanel||(n=$("<div>"),t.append(n),this._options.copyAsHtml?this._initializeRichEditor(n):(this._initializeTextPanel(n),c.delay(this,100,function(){this._$textArea.focus();this._$textArea.select()})),this._bind("dialogresize",function(){n.css("height",t.height()-i.height()-40+"px")}));r.append(t);this._options.excludeTextPanel||n.css("height",t.height()-i.height()-40+"px")},t.prototype._getDefaultLabelText=function(){return a.BrowserCheckUtils.isMacintosh()?s.CopyContentMacintoshHelpText:s.CopyContentPcHelpText},t.prototype._initializeRichEditor=function(n){var t=this;v.using(["VSS/Controls/RichEditor"],function(r){var u=i.BaseControl.createIn(r.RichEditor,n,{noToolbar:!0,height:"100%",pageHtml:t._options.pageHtml,internal:!0});u.ready(function(){u.setValue(t._options.data);u.bindOnCopy(p(t,function(){c.delay(this,0,function(){this.close()})}));c.delay(t,100,function(){u.selectText();u.setEnabled(!1)})})})},t.prototype._initializeTextPanel=function(n){var t="copy-content-textarea";this._options.textAreaCopyClass&&(t=this._options.textAreaCopyClass);this._$textArea=$("<textarea/>").addClass(t).text(this._options.data);this._options.disableEdit&&this._$textArea.attr("readonly","readonly");this._$textArea[0].oncopy=p(this,function(){c.delay(this,0,function(){this.close()})});n.append(this._$textArea)},t.enhancementTypeName="CopyContentDialog",t}(d);t.CopyContentDialog=ot;t.show=st;t.showMessageDialog=ht;t.showConfirmNavigationDialog=ct});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Dialogs","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","VSS/Utils/Html"],function(n,t,i,r,u,f,e,o){var h,s,c;Object.defineProperty(t,"__esModule",{value:!0});h=i.delegate;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){var r=this,i;this._callback=t.callback;this._dialogtitle=t.title;this._defaultEscBtnId=t.escapeButton;i={};t.btns.forEach(function(n){i[n.id]={id:n.id,text:n.displayText,click:h(r,r._buttonClick,n.id)}});n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!1,hideCloseButton:!0,buttons:i},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.getTitle=function(){return this._dialogtitle||r.empty},t.prototype.onClose=function(n){n.keyCode===u.KeyCode.ESCAPE&&this._buttonClick(n,this._defaultEscBtnId)},t.prototype._buttonClick=function(n,t){this._callback&&this._callback(t);this._closeDialogBox()},t.prototype._closeDialogBox=function(){this.close();this.dispose()},t}(f.ModalDialog);t.UserDialog=s;c=function(){function n(){}return n.confirm=function(t,i,u){var h={dialogTitle:u?u:e.DefaultConfirmDialogBoxTitle,dialogContent:t?t:r.empty,dialogButtons:[{id:n.OK_BTN_ID,displayText:e.ModalDialogOk},{id:n.CANCEL_BTN_ID,displayText:e.ModalDialogCancel}]},o=n._createOptions(h);return o.callback=function(t){t===n.OK_BTN_ID?i(!0):i(!1)},o.defaultButton=n.OK_BTN_ID,o.escapeButton=n.CANCEL_BTN_ID,f.Dialog.show(s,o)},n.alert=function(t,i,u){var h={dialogTitle:u?u:e.DefaultAlertDialogBoxTitle,dialogContent:t?t:r.empty,dialogButtons:[{id:n.OK_BTN_ID,displayText:e.ModalDialogOk}]},o=n._createOptions(h);return o.callback=function(t){t===n.OK_BTN_ID&&(i?i():(function(){}))},o.defaultButton=n.OK_BTN_ID,o.escapeButton=n.OK_BTN_ID,f.Dialog.show(s,o)},n.showUserDialog=function(t,i,r,u){var e=n._createOptions(t);return e.callback=i,e.defaultButton=r,e.escapeButton=u,f.Dialog.show(s,e)},n._createOptions=function(n){return{title:n.dialogTitle?n.dialogTitle:r.empty,content:this._getContentForDialog(n.dialogContent),btns:n.dialogButtons}},n._getContentForDialog=function(n){var t=$("<div/>"),i=o.HtmlNormalizer.normalize(this._getDialogContentHtmlString(n));return t.html(i),t},n._getDialogContentHtmlString=function(n){var t="",s,i,u,f,h,r,e,o;if(!!n)for(s=n.split("\r\n"),i=0,u=s;i<u.length;i++)if(f=u[i],!f)t=t+"<br>";else for(h=f.split("\n"),r=0,e=h;r<e.length;r++)o=e[r],!o||(t=t+"<span>"+o+"<\/span>"),t=t+"<br>";return t},n.OK_BTN_ID="Ok",n.CANCEL_BTN_ID="Cancel",n}();t.DialogUtils=c});

define("DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary",["require","exports"],function(require,exports){var e=exports;e.WizardSave="Save";e.WizardNext="Next";e.CreateAutoSpnFooter="A new Azure service principal will be created and assigned with \"Contributor\" role, having access to all resources within the subscription. Optionally, you can select the Resource Group to which you want to limit access.\u003cbr/\u003e\u003cbr/\u003eIf your subscription is not listed above, or your organization is not backed by Azure Active Directory, or to specify an existing service principal,";e.NoMatchingSubscriptionFound="No matching subscription or service connection was found";e.Task_DurationInProgressFormat="Running for {0} ({1})";e.RunOnServerTaskTypeDescription="Tasks are shown that will run on the server. Currently, only one task can be added to a server job.";e.AgentAcquisitionRunAsLaunchAgentServiceText="To run as a LaunchAgent service see \u003ca target=\"_blank\" href=\"https://go.microsoft.com/fwlink/?LinkID=821556\"\u003ehere\u003c/a\u003e";e.ManagementGroupName="Management Group name";e.ErrorWhileAuthorizingOnSubscription="Could not authorize to query on the selected subscription.";e.SubscriptionIdInvalid="The subscription ID must be a valid GUID";e.MetataskInstanceNameFormat="Task group: {0} {1}";e.ConnectionLabel="Connection:";e.NoGenericConnectionFound="No generic service connection was found";e.AgentAcquisitionPlatformOsxVersion="macOS {0}";e.AzureRMEndpointHelpText="Select the Azure service connection to deploy. To configure a new service connection, select the Azure subscription from the list and click \u0027Authorize\u0027.\r\n\r\nNote: If your subscription is not listed or if you want to use an existing service principal, you can set up an Azure service connection using the \u0027Add\u0027 or \u0027Manage\u0027 link.";e.ServiceConnectionDefaultAuthText="Allow all pipelines to use this connection.";e.MetataskControlOptionsTooltipText="Setting the control option as \u0027false\u0027 in the task group will override the control option value in the sub-tasks. Otherwise, it honors the value set in sub-tasks. [Read more](https://go.microsoft.com/fwlink/?LinkId=761053).";e.VerifyServiceEndpointFailureSuggestion="Note: Verification may fail if the URL is not accessible from {0}. However, it might still be valid and accessible from the agent that executes the build or release.";e.AuthorizedUsingOAuthFormat="Authorized as user \u0027{0}\u0027";e.KubernetesAzureSubscriptionHelpText="Select Azure subscription to list clusters. Only Azure Cloud subscriptions are listed in the dropdown.";e.ErrorSavingEndpointPolicyDuringCreation="Service connection was created successfully, but there was an error in saving policy.{0}{1}";e.RunOnServerPhaseHeaderTooltip="A group of tasks that will run on the server";e.ConfigurationUrlFooterText="\u003cp\u003e If no configuration URL is displayed, add an OAuth configuration for the GitHub Enterprise Server in your \u003ca href={0} target=\"_blank\"\u003eorganization settings\u003c/a\u003e. \u003c/p\u003e";e.Task_ErrorMessageForAzureEndpoint="The selected Azure service connection in the current task has been updated to service connection type \u0027Azure\u0027 under the \u0027Service connections\u0027 settings. Update the Azure connection type field for the current task with value \u0027Azure Classic\u0027.";e.KubernetesAcceptUntrustedCerts="Accept untrusted certificates";e.ManagementGroupsListedFromAzureCloud="Management Groups listed are from Azure Cloud";e.DockerRegistryAzureSubscriptionHelpText="Select Azure subscription to list container registries.";e.CreateAutoSpnFooterForMlWorkspace="A new Azure service principal will be created and assigned with the \"Contributor\" role, having access to all resources within the Workspace.\u003cbr/\u003e\u003cbr/\u003e";e.Task_TestCategoryText="Test";e.KubernetesServiceAccountCertificateHelpText="The ca.cert content if the Kubernetes API is using a TLS certificate. Use the ‘kubectl get serviceaccounts \u003cservice-account-name\u003e -o yaml’ and ‘kubectl get secret \u003cservice-account-secret-name\u003e  -o yaml’ commands to get the ca.cert content.";e.AzureContainerRegistryLabel="Azure container registry";e.DockerRegistryHelpText="The URL for your Docker Registry";e.AddTaskToPhase="Add a task to the job";e.KubernetesOperationStatusMessagePrefix="The following error occurred while setting up the Kubernetes service account: ";e.Environment="Environment";e.AuthorizedUsingPAT="Authorized using a personal access token";e.KubernetesServiceAccountTokenHelpText="The token for authenticating to Kubernetes. Use the ‘kubectl get serviceaccounts \u003cservice-account-name\u003e -o yaml’ and ‘kubectl get secret \u003cservice-account-secret-name\u003e  -o yaml’ commands to get the token.";e.AddUIContributionConnectionsDialogTitle="Add {0} service connection";e.SubscriptionsListedFromAzureCloud="Subscriptions listed are from Azure Cloud";e.GenerateLinkText="generate";e.DisplayNameText="Display name";e.Task_PreviewMajorVersionSpecFormat="{0} (preview)";e.KubernetesServiceAccountSecretYamlHelpText="Copy and paste the  output of the get service account secret command as mentioned below.";e.Task_AddServiceEndpointTitle="Add";e.AgentAcquisitionDialogTitle="Get the agent";e.MoreInformationTooltipText="More information";e.KubernetesServiceAccountCertificate="Certificate";e.ByText="by";e.AgentAcquisitionPlatformWindows="Windows";e.TaskEditorInputContainerLabel="Task editor input container";e.ProcessParameterGroupLabel="Parameters";e.KubernetesNamespaceHelpText="Select the namespace within the cluster.";e.EndpointCreationOperationFailed="Service connection creation operation failed";e.KubernetesServiceAccountAuthText="Service account";e.AgentAcquisitionDownloadAgentTitle="Download the agent";e.Task_AddTaskHelpDialogTitle="{0} help";e.ControlOptionsText="Control options";e.ConnectionStatusVerifying="Verifying...";e.Task_SucceededWithIssues="Succeeded with issues";e.DocumentationText="Documentation";e.Tasks_MenuEnableText="Enable selected tasks";e.RunOnMachineGroupPhaseName="Run on deployment group";e.DockerPassword="Password";e.Task_ToolCategoryText="Tool";e.MSIConnectionNameTooltip="Enter the service connection name.";e.MethodExceptionInExtension="Error when invoking the \u0027{0}\u0027 method in the service connection UI contribution.";e.RequiredInputErrorMessage="This setting is required.";e.AgentAcquisitionRunAsSystemDServiceText="To run as a SystemD service see \u003ca target=\"_blank\" href=\"https://go.microsoft.com/fwlink/?LinkID=821557\"\u003ehere\u003c/a\u003e";e.Task_PackageCategoryText="Package";e.UsePAT="Use a personal access token";e.DeletePhaseIconTooltip="Delete the job \u0027{0}\u0027";e.ManualUpdateToAutoCreatedServiceEndpointNotSupported="Manual updates to service connections created in automatic flow are not supported";e.UseAutoSpnUpdateWindowFooter="To renew the service principal key automatically, ";e.TaskDeletedMessage="This task is no longer installed. Re-install the task or remove it from your build pipeline.";e.RunOnAgentPhaseHeaderTooltip="A group of tasks that will run on an agent";e.Task_HelpMessageForTaskCategory="Categorizes the task according to the selected option.";e.DraftText="Draft";e.Task_MiscCategoryText="Miscellaneous";e.MlWorkspacesListedFromAzureCloud="Machine Learning Workspaces listed are from Azure Cloud";e.SelectTemplateLinkText="Select a template";e.UpdateAutoSpnFooter="The Azure service principal key will be renewed for this service connection.\u003cbr/\u003e\u003cbr/\u003eTo update using an existing service principal, ";e.AddPhaseLabel="Add a job";e.Tasks_MenuManageMetaTask="Manage the task group";e.SpnDialogHere="here";e.ScopeLevelText="Scope level";e.InternalErrorPrefix="Internal Error: ";e.Task_Failed="Failed";e.KubernetesHelpText="Copy and paste content of the kubeconfig file. The configuration information in your kubeconfig file allows Kubernetes clients to talk to your Kubernetes API servers. This file is used by kubectl and all supported Kubernetes clients.";e.GitHubAuthRequiredMessage="We need your authorization to access the GitHub repositories";e.AddTasksRegionLabel="Add tasks";e.Task_TaskRenameTooltip="Rename";e.SystemPrerequisites="System prerequisites";e.AgentAcquisitionConfigureAccountHtml="Configure your organization by following the steps outlined \u003ca target=\"_blank\" href=\"https://aka.ms/vstsagentroles\"\u003ehere\u003c/a\u003e.";e.ConfigurationUrl="{0} Configuration URL";e.KubernetesCheckAcceptUntrustedCertErrorHelpText="Could not establish a trust relationship for the SSL/TLS secure channel. Try enabling the accept untrusted certificates checkbox.";e.ServicePrincipalLinkLabel="Creation of Azure service principal";e.AzureServicePrincipalIdText="Service principal client ID";e.Task_Succeeded="Succeeded";e.ResourceGroupNameInvalid="Enter a valid resource group name";e.Subscription="Subscription";e.MoreInformation="More information";e.AddRunOnAgentTasksText="Add an agent job";e.ChooseRegistryTypeText="Choose registry type";e.TaskLearnMoreText="Learn more";e.KubernetesUnableToQueryNamespaces="Unable to query the namespaces as the kube config is not fetched. Please ensure you have selected a cluster on which you have permissions to fetch clusterAdmin kube config.";e.AgentAcquisitionPlatformLegacyWindows="Windows (legacy)";e.AuthorizationFailedFormat="Authorization failed: {0}";e.AzureSubscriptionLabel="Azure subscription";e.ServicePrincipalSetupInProgress="Setting up service principal for registry....";e.Task_BuildCategoryText="Build";e.KubernetesTitle="Add a Kubernetes service connection";e.ApplyTemplateButtonText="Apply";e.ErrorWhileParsingKubernetesClustersResponse="An error occurred while parsing the List Kubernetes clusters response. Internal error: ";e.WorkspaceNameInvalid="Enter a valid workspace name";e.AgentAcquisitionPlatformUbuntuVersion="Ubuntu {0}";e.Task_TaskEnabledText="Enabled";e.AddRunOnServerTasksText="Add a server job";e.DisabledText="(Disabled)";e.Task_DurationFormatSeconds="{0} seconds";e.Task_UtilityCategoryText="Utility";e.Tasks_MetaTaskDescTooltip="Help-text for task group inputs (optional).";e.WizardPrevious="Previous";e.SubscriptionNameInvalid="Enter a valid subscription name";e.CopyTaskDisplayNameFormat="{0} copy";e.DockerVerifyConnection="Verify this connection";e.TaskExtensionDisabledMessage="This task’s extension \"{0}\" has been disabled.";e.UpdateAutoSpnFooterForMLWorkspaceScope="The Azure service principal key will be renewed for this service connection.";e.KubernetesServiceAccountToken="Token";e.Task_TaskHelpTooltip="Click to see help";e.DeletePhaseConfirmation="You are about to delete the \u0027{0}\u0027 job and all its settings. This action cannot be reversed.";e.Task_Completed="Completed";e.ErrorThisAccountNotAAD="Error: This organization is not backed by Azure Active Directory.";e.DockerId="Docker ID";e.KubernetesChooseAuthTypeText="Choose authentication";e.CouldNotAuthenticateAAD="Could not authenticate to Azure Active Directory. If a popup blocker is enabled in the browser, disable it and try again.";e.ConnectionStatusNotVerified="Not verified";e.KubernetesNamespace="Namespace";e.ResourceGroup="Resource Group";e.AzureSubscriptionText="Azure Subscription";e.ErrorDeletingPolicy="Error disconnecting the service connection.Please try again.{0}{1}";e.KubernetesServiceAccountDetailsHelpHeaderText="Get service account details";e.TaskGroup_InPreviewToolTip="These options are in preview";e.Task_AzureConnectionManageTitle="Manage";e.RunOnServerPhaseName="Run on server";e.KubernetesRenewServiceAccount="Create new service account";e.AgentAcquisitionPlatformOsx="macOS";e.AzureSpnCertificate="Certificate";e.KubernetesCouldNotObtainClusterUrl="Could not obtain cluster URL from cluster properties. Unable to find property - fqdn";e.AuthSchemeSelector="Authentication scheme selector";e.ErrorWhileParsingKubernetesNamespacesResponse="An error occurred while parsing the List Kubernetes namespaces response. Internal error: ";e.Task_DurationFormatDays="{0} days";e.OnlyOneManualInterventionTaskIsAllowedError="Only one manual intervention task is allowed per run of a server job.";e.MSISubscriptionNameToolip="Enter the subscription name.";e.DockerRegistryTitle="Add a Docker Registry service connection";e.Tasks_MetaTaskDialogCreate="Create";e.Task_ErrorMessageForAzureRmEndpoint="The selected Azure service connection in the current task has been updated to service connection type \u0027Azure Resource Manager\u0027 under the \u0027Service connections\u0027 settings. Update the Azure connection type field for the current task with value \u0027Azure Resource Manager\u0027.";e.CouldNotFetchEndpointTypes="Could not retrieve available service connection types";e.ContinueOnErrorText="Continue on error";e.Task_DurationFormatHours="{0} hours";e.Task_NumTasksUpdateInProgress="{0} tasks are being updated and will be available soon.";e.Task_Canceled="Canceled";e.KubernetesServerUrlHelpText="API server address to access the Kubernetes API. For example, https://k8s.contoso.com, or in Azure, aks-contoso-cluster.hcp.eastus.azmk8s.io";e.KubernetesInvalidKubeconfig="The Kubconfig specified is invalid. Please check your Kubeconfig.";e.ManagementGroupNameInvalid="Enter a valid Management Group name";e.DockerConnectionLabel="Connection";e.AzureRMAvailableServiceConnections="Available Azure service connections";e.Task_ResetText="reset";e.DockerRegistryOperationStatusMessagePrefix="The following error occurred while setting up the service principal for registry : ";e.KubernetesClusterHelpText="Choose your cluster context.";e.AzureSubscriptionIdText="Subscription ID";e.Download="Download";e.MSISubscriptionIdTooltip="Enter the subscription ID to which the MSI-enabled agent has access.";e.ConnectionNameInvalid="Enter a valid connection name";e.ErrorDeletingEndpoint="Error disconnecting the service connection.Policies for the connection may have changed.Please try again.{0}{1}";e.AgentAcquisitionMoreInfoTitle="That’s it!";e.DockerRegistry="Docker Registry";e.Task_InvalidSectionName="{0}  *";e.MissingRequiredFieldMessage="Missing required setting(s)";e.SubscriptionNameMismatchError="Subscription name mismatch error. Subscription ID {0} has a display name of {1}.";e.AzureSubscriptionDisplayName="{0} ({1})";e.AzureServicePrincipalKeyText="Service principal key";e.DockerRegistryOthers="Others";e.CustomEndpointInvalidGuidInputMessage="{0} must be a valid GUID";e.Add="Add";e.Tasks_MenuCreateMetaTask="Create a task group";e.CreateMetaTaskDescriptionWatermarkText="Enter description";e.SpnKeyInvalid="Enter a valid service principal key";e.Token="Token";e.Task_UnableToCreateTaskGroupMessage="Unable to create the task group. Task {0} with runsOn value {1}, does not match with other child tasks.";e.UpdateUIContributionConnectionsDialogTitle="Update authentication for {0}";e.TaskGroup_Preview="Preview";e.ClipboardPasteLargeDataError="The clipboard data is too large to paste";e.TimeoutInMinutes="Timeout";e.ExternalLinkTooltipText="External link";e.TenantIdIsNullOrUndefinedForSubscription="No tenant ID exists for subscription {0}.";e.ServerUrl="Server URL";e.AddTask="Add task";e.Tasks_MetaTaskParamTooltip="Variables extracted from the selected tasks.";e.TaskGroupHeaderTooltip="Learn more about how you can run tasks on the server and agents. \u003ca href=\\\u0027https://www.visualstudio.com/docs/build/steps/deploy/manual-intervention\\\u0027 target=\\\u0027_blank\\\u0027\u003eMore information\u003c/a\u003e";e.VisualStudioTeamServicesProductName="Azure DevOps";e.UseAutoSpnCreateWindowFooter="To create a new service principal automatically, ";e.AgentAcquisitionPlatformLinux="Linux";e.DeleteTaskIconLabel="Delete task";e.TaskTypeDescriptioHelpUrl="https://go.microsoft.com/fwlink/?LinkID=825235";e.NoChefConnectionFound="No Chef service connection was found";e.ManagementGroup="Management Group";e.AgentAcquisitionCreateAgentTitle="Create the agent";e.LearnMoreAboutKubernetesLink="\u003ca href=\"https://go.microsoft.com/fwlink/?linkid=851275\" target=\"_blank\"\u003e\u003cb\u003eLearn more about Kubernetes\u003c/b\u003e\u003c/a\u003e";e.SpnClientIdInvalid="Enter a valid service principal client ID or name";e.KubernetesServiceAccountDetailsHelpSectionText="\u003cdiv id=\"kubernetesServiceAccountDetails\" class=\"kubernetes_sa_details\"\u003e\u003ccode\u003e# Copy the secret name from the output of the get service account command\u003cbr\u003e~/$ kubectl get serviceaccounts \u0026lt;service-account-name\u0026gt; -o yaml\u003cbr\u003e~/$ kubectl get secret \u0026lt;service-account-secret-name\u0026gt; -o yaml\u003c/code\u003e\u003c/div\u003e";e.ServicePrincipalTip="For help on creating an Azure service principal, see \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=623000\u0026clcid=0x409\" target=\"_blank\"\u003eservice connections\u003c/a\u003e.";e.TaskDefinitionListTitle="Add tasks";e.TaskTimeoutTooltip="Specifies the maximum time, in minutes, that a task is allowed to execute on the agent before being canceled by the server.\u003cbr\u003e A zero value indicates an infinite timeout.";e.AlwaysRunText="Always run";e.TeamFoundationServerProductName="Azure DevOps Server";e.KubernetesClusterContextListPlaceholderText="Choose your cluster context.";e.Tasks_MetaTaskDialogParameterHeader="Name";e.MSITenantIdTooltip="Enter the tenant ID of the subscription mentioned above.";e.DeploymentGroupDemandsWarningTooltip="Some machines do not meet all task demands";e.MSIEnvironmentTooltip="Select the environment.";e.Task_InProgress="In progress";e.UsePATDescription="Create a GitHub service connection authenticated with a GitHub personal access token";e.KubernetesKubeconfigFieldNotPresent="The Kubconfig does not contain \u0027{0}\u0027 field. Please check the kubeconfig.";e.ManagementGroupId="Management Group ID";e.ErrorPrefix="Error: ";e.AgentAcquisitionConfigureAgentTitle="Configure the agent";e.ProcessParameterText="Pipeline parameters";e.AzureContainerRegistry="Azure Container Registry";e.AzureSubscriptionNameText="Subscription name";e.ProcessParameterTaskDetailText="Apply a template to see its properties";e.ErrorWhileParsingListACRResponse="An error occurred while parsing the List ACR response. Internal error: ";e.ConnectionName="Connection name";e.SpnCreationInProgress="Setting up service principal details for the service connection...";e.KubernetesServiceAccountSecretYaml="Secret";e.AgentAcquisitionPlatformRedhat="Red Hat";e.AgentAcquisitionRunAgentInteractiveOrServiceTitle="You can run the agent interactively or as a LaunchAgent service.";e.KubernetesAksClusterHelpText="Select the Azure Kubernetes Service cluster.";e.AgentAcquisitionPlatformUbuntu="Ubuntu";e.Task_MetaTaskDialogParentParameterHeading="Parameters";e.MlWorkspaceName="Machine Learning Workspace";e.AgentAcquisitionRunAgentOptionallyTitle="Optionally run the agent interactively";e.Task_DurationCompletedFormat="Ran for {0} ({1}), completed {2} ago";e.DockerHub="Docker Hub";e.ServiceAccountSetupInProgress="Setting up Kubernetes service account...";e.KubernetesKubeconfigAuthText="Kubeconfig";e.Task_Pending="Pending";e.CheckoutMarketPlaceText="Check out the Marketplace.";e.Task_NotStarted="Not started";e.Authorize="Authorize";e.ConnectionStatusVerified="Verified";e.UseManualSpnWindowFooterLink="use the full version of the service connection dialog.";e.Task_DeployCategoryText="Deploy";e.KuberntesInvalidServiceAccountSecretYaml="The service account secret yaml specified is invalid. Make sure that its a valid yaml and try again.";e.AgentAcquisitionPlatformRedhatVersion="Red Hat {0}";e.AddCustomConnectionsDialogTitle="Add {0} service connection";e.KubernetesAksCluster="Cluster";e.AgentAcquisitionRunAgentTitle="Run the agent";e.CloseTooltipText="Close this tooltip";e.VerifyConnection="Verify connection";e.Task_NewVersionAvailable="A new version of the task is available.";e.AzureContainerRegistryHelpText="Select the Azure Container Registry";e.Tasks_MetaTaskDialogValuesHeader="Default value";e.PFXToPEMConversion="To convert PFX to PEM content, execute the below command: \u003cbr /\u003e\u003cb\u003eopenssl  pkcs12  -in  file.pfx   -out file.pem   -nodes -password pass:\u0026lt;password_here\u0026gt;\u003c/b\u003e";e.KubernetesRenewServiceAccountHelpText="Enable this to create a new service account";e.Task_NameLabel="Name";e.AddRunOnMachineGroupTasksText="Add a deployment group job";e.GenerateLinkTooltip="Generate the name from task attributes";e.Tasks_MarketPlaceText="Don’t see what you need? Check out the Marketplace.";e.CustomEndpointInvalidUriInputMessage="{0} must be a valid URL";e.AddAzureResourceManagerDialogTitle="Add an Azure Resource Manager service connection";e.AllFieldsRequired="All fields are required";e.CouldNotCompleteOAuth2="Could not authorize using OAuth2. If a popup blocker is enabled in the browser, disable it and try again.";e.Task_DurationFormatMinutes="{0} minutes";e.Task_AllCategoriesText="All";e.RunOnAgentPhaseName="Run on agent";e.DockerRegistryType="Registry type";e.Task_CreateMetaTaskDialogTitle="Create a task group";e.Task_AddLabelText="Add";e.Refresh="Refresh";e.AzureRMAvailableAzureSubscriptions="Available Azure subscriptions";e.SpnAuthorizationInProgress="Authorizing...";e.ConnectionStatusFailed="Failed";e.DeletePhaseIconLabel="Delete the job";e.Loading="Loading...";e.KubernetesKubeConfigText="KubeConfig";e.AddTaskLinkText="Add";e.KubernetesClusterContextText="Cluster Context";e.ClickAuthorizeHelpText="Click Authorize to configure an Azure service connection";e.TaskDisabledMessage="This task has been disabled for your project.";e.ConfigurationUrlHelpText="Service connection uses the configuration URL.";e.Task_AddTasksDialogTitle="Task catalog";e.DeletePhaseConfirmationTitle="Delete the job";e.CreateAutoSpnFooterForManagementGroup="A new Azure service principal will be created and assigned with the \"Owner\" role, having access to all resources within the Management Group.\u003cbr/\u003e\u003cbr/\u003eIf your Management Group is not listed above, or your organization is not backed by Azure Active Directory, or to specify an existing service principal,";e.AgentAcquisitionConfigureAccountTitle="Configure your organization";e.RunOnMachineGroupTasksDescription="Lets you add tasks that run on an agent";e.TaskDefinitionListAllText="All";e.RunOnMachineGroupPhaseHeaderTooltip="A group of tasks that will run on a deployment group";e.LearnMoreAboutTaskGroups="Learn more about task groups";e.RunOnServerTasksDescription="Lets you add tasks which run on the server";e.AzureTenantId="Tenant ID";e.UseAutoSpnCreateWindowFooterLink="use the automated version of the service connection dialog.";e.AgentAcquisitionConfigureAgentDetailedInstructions="detailed instructions";e.Task_InvalidLabelText="{0} *";e.Tasks_MetaTaskValueTooltip="The default value for task group inputs (optional).";e.ManagementGroupIDInvalid="Enter a valid Management Group ID";e.SpnAuthorizationFailedError="Authorization failed";e.TaskTypeDescriptionHelpText="Learn more \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003ehere\u003c/a\u003e.";e.AdvancedSettingsText="Advanced settings";e.Task_NewVersionHelp="A new stable version of the task is available.";e.Task_VersionSelectorLabel="Version";e.SpnUpdateInProgress="Service principal details are being updated...";e.RunOnAgentTasksDescription="Lets you add tasks which run on an agent";e.AgentAcquisitionRunInteractivelyTitle="To run interactively:";e.CopyUrlToClipboard="Copy the URL to the clipboard";e.AuthorizeToCreateAzureRMEndpointHelpText="Click Authorize to configure an Azure service connection. A new Azure service principal will be created and added to the Contributor role, having access to all resources in the selected subscription.";e.TenetIdInvalid="Enter a valid tenant ID";e.DockerEmail="Email";e.Tasks_MetaTaskDialogDescriptionHeader="Description";e.PhaseAddTaskButtonTooltip="Add a task in job \u0027{0}\u0027";e.Task_NoAzureEnvironmentsFound="No subscriptions were found";e.CertificateInvalid="Invalid certificate provided";e.KubernetesCluster="Cluster";e.LearnMoreTextForAzureSubscriptionBasedKubernetesEndpoint="\u003cbr\u003eFor an RBAC enabled cluster, the service account is created in the chosen namespace and has permissions only on that namespace.\u003cbr\u003e\u003cbr\u003eFor an RBAC disabled cluster, though the service account is created in the chosen namespace, it has permissions across all namespaces (cluster-wide).\u003cbr\u003e\u003cbr\u003e\u003ca href=\"https://go.microsoft.com/fwlink/?linkid=851275\" target=\"_blank\"\u003e\u003cb\u003eLearn more about Kubernetes\u003c/b\u003e\u003c/a\u003e\u003cbr\u003e";e.KubernetesServiceAccountSecretFieldNotPresent="The service acount secret yaml does not contain \u0027{0}\u0027 field. Make sure that its present and try again.";e.Task_WhatsNewMarkdown="\u003ch4\u003eWhat’s new in version `{0}`\u003c/h4\u003e";e.CategoryText="Category";e.Tasks_MetaTaskVariablesMessage="The following parameters and values are from the configuration variables used in the underlying tasks.";e.NoSubscriptionsFound="No subscriptions were found";e.Tasks_MenuDisableText="Disable selected tasks";e.JenkinsLicenseText="\"Jenkins\" is a registered trademark of Software in the Public Interest Inc. The Jenkins logo is licensed under the Creative Commons Attribution-ShareAlike Unported License by the Jenkins project (https://jenkins-ci.org/)";e.KubernetesAcceptUntrustedCertsHelpText="Enable this if your authentication uses untrusted certificates.";e.RemoveText="Remove";e.CustomEndpointInvalidInputMessage="Enter a valid {0}";e.Hide="Hide";e.Show="Show";e.Task_NewPreviewVersionHelp="A new preview version of the task is available. Would you like to try it?";e.Task_RenameTaskLabel="Rename";e.AgentAcquisitionRunAgentOptionallyInfo="If you didn\u0027t run as a service above:";e.AzureSpnCertificateSpnHelpText="Copy the contents of the *.pem file. Include both the certificate and​ private key sections​.";e.TaskDefinitionListDescription="Don\u0027t see what you need?";e.CreateMsiEndpointFooter="Use this option if you have enabled the system assigned managed identity on an Azure VM to automatically authenticate and gain access to resources in Azure Resource Manager. For more information, see \u003ca href=\"https://go.microsoft.com/fwlink/?linkid=2044617\" target=\"_blank\"\u003eManaged  Identities overview​\u003c/a\u003e.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTasksCommon/TFS.Tasks.Utils",["require","exports","q","VSS/VSS","VSS/Context","VSS/WebApi/Constants","VSS/Common/Contracts/Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/UI","VSS/Utils/String","VSS/Navigation/Services","VSS/Security/RestClient","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ft(n,t){var i=$(w("div")).attr("data-bind","template: { name: '"+n+"' }");return!t||i.addClass(t),i}function et(n){return!!n&&n.deprecated===!0}function rt(n){return!!n&&n.preview===!0}function ot(n){var s={},u,f,e,o;if(n)for(u in n){var i=-1,t=void 0,r=n[u];if(r)for(f in r)e=parseInt(f),i<e&&(i=e,o=r[f],rt(o)||(t=o));!t&&i>-1&&(t=r[i]);t&&(s[u]=t)}return s}function st(n){if(n){var t="{0}.*";return n.isTest&&(t=c.format("{0}-test",t)),c.format(t,n.major)}return"*"}function ut(n){return n&&n!=="*"?parseInt(n.substring(0,n.indexOf("."))):-1}function p(n){var t,i,r,u;if(!n)return null;for(t=[],i=0,r=Object.keys(n);i<r.length;i++)u=r[i],t.push(parseInt(u));return t=t.sort(),n[t[t.length-1]]}function ht(n,t){if(!n)return null;if(t=t||"*",t==="*")return p(n);var i=n[ut(t)];return i||(i=p(n)),i}function ct(n,t){return c.localeFormat(v.MetataskInstanceNameFormat,n,t&&t.length?"$("+t[0].name+")":"")}var w,b,k,d,y,g,nt,tt,it;Object.defineProperty(t,"__esModule",{value:!0});w=h.domElem;b=function(){function n(n,t,i,r){this._grid=n;this._dragdropScope=t;this._dragdropTextProvider=i;this._grid.setupDragDrop(this._getDraggableOptions(),this._getDroppableOptions());this._moveCompleteDelegate=r;this._gridCanvas=this._grid.getElement().find(".grid-canvas");this._gridRowHeight=this._grid._rowHeight||1}return n.prototype.dispose=function(){this._grid=null;this._gridCanvas=null;this._moveCompleteDelegate=null},n.prototype._getRowDataIndex=function(n,t){var u=this._gridCanvas.scrollTop(),f=this._gridCanvas.scrollLeft(),n={top:n.top-t.top+u+this._cursorOffset.top,left:n.left-t.left+f+this._cursorOffset.left},r,i;return n.left<=0||n.left>t.canvasWidth?null:(r=this._grid._count*this._gridRowHeight,n.top<=0||n.top>r)?null:(i=Math.floor((n.top-1)/this._gridRowHeight),i===t.dataIndex)?null:{dataIndex:i,below:i>t.dataIndex}},n.prototype._resetLastDropTarget=function(){this._lastDropTarget&&(this._lastDropTarget.removeClass("upper-drop-guide lower-drop-guide"),this._lastDropTarget=null)},n.prototype._getDraggableOptions=function(){var n=this;return this._cursorOffset={left:16,top:18},{cursorAt:this._cursorOffset,axis:"",appendTo:document.body,scroll:!1,scrollables:[".grid-canvas"],scrollablesAxis:"y",scope:this._dragdropScope,distance:10,helper:function(t,i){var r=n._grid.getRowData(i.draggingRowInfo.dataIndex);return $("<div />").addClass("row-drag-helper").text(n._dragdropTextProvider(r))},start:function(t,i){n._dragStartInfo={top:i.offset.top,left:i.offset.left,dataIndex:i.draggingRowInfo.dataIndex,canvasWidth:n._gridCanvas.width()}},stop:function(){n._dragStartInfo=null;n._resetLastDropTarget()},drag:function(t,i){if(n._dragStartInfo){n._resetLastDropTarget();var r=n._getRowDataIndex(i.offset,n._dragStartInfo);r&&(n._lastDropTarget=n._grid.getRowInfo(r.dataIndex).row,n._lastDropTarget.addClass(r.below?"lower-drop-guide":"upper-drop-guide"))}}}},n.prototype._getDroppableOptions=function(){var n=this;return{hoverClass:"",tolerance:"pointer",scope:this._dragdropScope,drop:function(t,i){if(!!i.draggingRowInfo&&!!i.droppingRowInfo){var r=i.draggingRowInfo.dataIndex,u=i.droppingRowInfo.dataIndex;r!==u&&$.isFunction(n._moveCompleteDelegate)&&n._moveCompleteDelegate(r,u)}}}},n}();t.GridRowMover=b;k=function(){function n(){}return n.renderTemplateIfNeeded=function(n,t){if($("#"+n).length===0){var i=document.createElement("script");i.type="text/html";i.text=t;i.id=n;document.body.appendChild(i)}},n}();t.HtmlHelper=k;t.loadHtmlTemplate=ft;d=function(){function n(){}return n.getActionUrl=function(n,t,r){var h=new o.VssConnection(u.getDefaultWebContext()),s=i.defer();return h.beginGetServiceUrl(f.ServiceInstanceTypes.TFS,e.ContextHostType.Application).then(function(i){var u=y.getActionUrl(i,n,t,r);s.resolve(u)}),s.promise},n.marked=function(n){var t=i.defer();return n?r.using(["Presentation/Scripts/TFS/marked-tfs-extensions","Presentation/Scripts/marked"],function(i,r){var u=r(n);t.resolve(u)}):t.resolve(""),t.promise},n.getUrlForExtension=function(t,i,r,u){var f=n.getTeamUrl();return this._getExtensionActionUrlFragment(f,t,u,i,r).replace("#","?")},n.getUrlForCollectionLevelExtension=function(n,t,i,r){var f=u.getPageContext(),e=f.webContext.collection.uri;return this._getExtensionActionUrlFragment(e,n,r,t,i).replace("#","?")},n.getTeamUrl=function(){var n=u.getPageContext(),i=n.webContext.collection.uri,r=n.webContext.project.name,t="";return n.navigation.topMostLevel===e.NavigationContextLevels.Team&&(t=u.getPageContext().webContext.team.name),i+r+(!t?"":"/"+t)},n._getExtensionActionUrlFragment=function(t,i,r,u,f){var e=l.getHistoryService().getFragmentActionLink(u,f);return t+n._getExtensionUrl(i,r)+e},n._getExtensionUrl=function(n,t){return!t?"/_apps/hub/"+n:"/"+t},n}();t.PresentationUtils=d;y=function(){function n(){}return n.getActionUrl=function(t,i,r,f){if(window.self!==window.top)return n._getPublicActionUrl(t,i,r,f);var e=n._constructActionUrl(i,r,f),o=u.getPageContext().webAccessConfiguration.paths.rootPath;return o+e},n.trimVirtualPath=function(n,t){return!n||n.length===0?n:(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length)),n.replace(/^\/+|\/+$/g,""))},n._getPublicActionUrl=function(t,i,r,u){var f=n._constructActionUrl(i,r,u);return t+f},n._constructActionUrl=function(t,i,f){var s=u.getPageContext(),nt=s.webAccessConfiguration.api,h=[],l,v,y,o,a,b,k,tt,c,d,g,p,w;if(k=nt.areaPrefix||"",tt=nt.controllerPrefix||"",o=$.extend({},f),c=o.area,typeof c=="undefined"&&(c=s.navigation.area),delete o.area,l=o.serviceHost,typeof l=="undefined"&&(l=s.webContext.host),l&&(d=this.trimVirtualPath(l.relativeUri,s.webAccessConfiguration.paths.rootPath),d&&h.push(encodeURI(d)),l.hostType===e.ContextHostType.ProjectCollection&&(g=this._shouldBuildApiUrl(c,o),v=o.project,typeof v=="undefined"&&(v=g?s.webContext.project.id:s.webContext.project.name),v&&(h.push(encodeURIComponent(v)),y=o.team,typeof y=="undefined"&&s.webContext.team&&(y=g?s.webContext.team.id:s.webContext.team.name),y&&h.push(encodeURIComponent(y))))),delete o.serviceHost,delete o.project,delete o.team,c)if($.isArray(c))for(p=c,p.length>0&&h.push(encodeURIComponent(k+p[0])),w=1;w<p.length;w++)h.push(encodeURIComponent(p[w]));else h.push(encodeURIComponent(k+c));return i||(i=o.controller),delete o.controller,t||(t=o.action),delete o.action,a=o.parameters,delete o.parameters,a&&(i||(i=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),i&&(h.push(encodeURIComponent(tt+i)),t&&(h.push(encodeURIComponent(t)),a&&($.isArray(a)?h.push.apply(h,$.map(a,encodeURIComponent)):h.push(encodeURIComponent(a))))),(o.includeVersion||c===n._API)&&(o[n._VERSION]=s.webAccessConfiguration.api.webApiVersion),o.includeLanguage&&r.uiCulture&&(o[n._LANGUAGE]=r.uiCulture),delete o.includeVersion,o.area!==n._API&&s.webAccessConfiguration.clientHost&&(o[n._CLIENTHOST]=s.webAccessConfiguration.clientHost),b=$.param(o),h.join("/")+(b?"?"+b:"")},n._shouldBuildApiUrl=function(t,i){var r;return t&&(r=$.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n}();t.ActionUrlResolver=y;g=function(){function n(){}return n.triggerClickOnEnterPress=function(t){return n.isEnterKeyPressEvent(t)?($(t.target).click(),t.preventDefault(),!1):!0},n.triggerClickOnEnterOrSpaceKeyPress=function(t){return n.isEnterKeyPressEvent(t)||n.isSpaceKeyPressEvent(t)?($(t.target).click(),t.preventDefault(),!1):!0},n.isEnterKeyPressEvent=function(n){if(!n)return!1;var t=n.keyCode?n.keyCode:n.which;return t===h.KeyCode.ENTER?!0:!1},n.isSpaceKeyPressEvent=function(n){if(!n)return!1;var t=n.keyCode?n.keyCode:n.which;return t===h.KeyCode.SPACE?!0:!1},n}();t.AccessibilityHelper=g;nt=function(){function n(){}return n.extractVariables=function(n,t,i,r){var u,e,f;return r===void 0&&(r=null),u=[],t!==null&&t!==undefined&&(e=new RegExp("\\$\\([^()]+\\)","g"),f=t.match(e),f&&f.forEach(function(n){var t=n.substr(2,n.length-3),i=!0;r&&(i=r(t));i&&u.push({defaultValue:"",groupName:null,helpMarkDown:"",label:t,name:t,options:{},properties:{},required:!0,type:"string",visibleRule:null})}),u.length===1&&c.localeComparer(t.trim(),f[0])===0&&i&&(u[0].type=i.type,u[0].defaultValue=i.defaultValue,u[0].helpMarkDown=i.helpMarkDown,u[0].options=i.options,u[0].properties=i.properties,u[0].name===t&&(u[0].defaultValue=i.defaultValue))),u},n.containsVariable=function(n){var t=new RegExp("\\$\\([\\w\\.]+\\)","g");return t.test(n)},n.normalizeVariableTypeInfo=function(n,t){var i=s.first(n,function(n){return n.name===t.name});i.type!==t.type&&(i.type="string",i.helpMarkDown="",i.options={},i.properties={});i.groupName=""},n}();t.VariableExtractor=nt;tt=function(){function n(){}return n.clone=function(n){return $.map(n,function(n){var t={dataSourceName:n.dataSourceName,endpointId:n.endpointId,parameters:{},resultTemplate:n.resultTemplate,target:n.target,endpointUrl:n.endpointUrl,resultSelector:n.resultSelector,requestContent:c.empty,requestVerb:c.empty,headers:n.headers,callbackContextTemplate:n.callbackContextTemplate,callbackRequiredTemplate:n.callbackRequiredTemplate,initialContextTemplate:n.initialContextTemplate};return t.parameters=$.extend(!0,{},n.parameters),t})},n.updateVariables=function(n,t,i){n.forEach(function(n){n.target===t.name&&(n.target=i.name);var r="$("+t.name+")",u="$("+i.name+")";n.endpointId=n.endpointId.replace(r,u)})},n.merge=function(t,i){var r=[];return r=s.clone(t),i.forEach(function(i){n.contains(i,t)||r.push(i)}),r},n.contains=function(t,i){var r=s.first(i,function(i){return n.isEqual(t,i)});return!!r},n.isEqual=function(n,t){return n.dataSourceName!==t.dataSourceName||n.endpointId!==t.endpointId||n.target!==t.target?!1:!0},n}();t.DataSourceBindingUtils=tt;it=function(){function n(){}return n.hasAgentPoolPermission=function(t,i){var r=n.getPoolSecurityClient(),u=n._getSecurityToken(n._agentPoolToken,c.empty,t?t.toString():c.empty);return n._hasPermission(r,n._dteSecurityNamespaceId,i,u)},n.hasAgentQueuePermission=function(t,i,r){var u=n.getDefaultSecurityClient(),f=n._getSecurityToken(n._agentQueueToken,t,i?i.toString():c.empty);return n._hasPermission(u,n._dteSecurityNamespaceId,r,f)},n.hasServiceEndpointPermission=function(t,i,r){var u=n.getDefaultSecurityClient(),f=n._getSecurityToken(n._serviceEndpointToken,t,i);return n._hasPermission(u,n._endpointsSecurityNamespaceId,r,f)},n._hasPermission=function(n,t,r,u){var f=i.defer();return n.hasPermissions(t,r,u).then(function(n){f.resolve(n[0])},function(){f.resolve(!0)}),f.promise},n._getSecurityToken=function(t,i,r){var u=t;return i&&!c.equals(i,c.empty)&&(u=u.concat(n._namespaceSeparator,i)),r&&!c.equals(r,c.empty)&&(u=u.concat(n._namespaceSeparator,r)),u},n.getDefaultSecurityClient=function(){return n._securityClient||(n._securityClient=o.VssConnection.getConnection().getHttpClient(a.SecurityHttpClient,n._serviceInstanceId)),n._securityClient},n.getPoolSecurityClient=function(){return n._poolSecurityClient||(n._poolSecurityClient=u.getPageContext().webAccessConfiguration.isHosted?n.getDefaultSecurityClient():o.getApplicationClient(a.SecurityHttpClient,u.getDefaultWebContext(),n._serviceInstanceId)),n._poolSecurityClient},n._serviceInstanceId=f.ServiceInstanceTypes.TFS,n._dteSecurityNamespaceId="101EAE8C-1709-47F9-B228-0E476C35B3BA",n._endpointsSecurityNamespaceId="49B48001-CA20-4ADC-8111-5B60C903A50C",n._agentPoolToken="AgentPools",n._agentQueueToken="AgentQueues",n._serviceEndpointToken="endpoints",n._namespaceSeparator="/",n}();t.SecurityHelper=it;t.isDeprecated=et;t.isPreview=rt;t.getLatestReleasedVersions=ot;t.getMajorVersionSpec=st;t.getMajorVersion=ut;t.getLatestVersion=p;t.getTaskDefinition=ht;t.getTaskGroupInstanceNameFormat=ct;r.tfsModuleLoaded("TFS.Tasks.Utils",t)});

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core",["require","exports","knockout","q","ContentRendering/Markdown","VSS/Utils/Culture","VSS/VSS","VSS/Context","VSS/Resources/VSS.Resources.Common","VSS/Events/Action","VSS/Navigation/Services","VSS/Navigation/HubsService","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/UI","VSS/Utils/Url","VSS/Utils/Html","VSS/Controls/PopupContent","VSS/FeatureAvailability/Services","VSS/Common/Constants/Platform","VSS/Context","VSS/Common/Contracts/Platform","VSS/FeatureAvailability/Services","VSS/Contributions/Services","VSS/Service","VSS/Security/RestClient","VSS/WebApi/Constants","VSS/Navigation/Services","VSS/User/Services","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","DistributedTaskControls/Common/Common","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt){function rr(n){var t=i.observable(n);return t.equalityComparer=y.equals,t}function ur(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""}function er(n,t){var i=$(gt("div")).attr("data-bind","template: { name: '"+n+"' }");return!t||i.addClass(t),i}function or(n,t){var r=new Blob([n],{type:"application/json"}),i;window.navigator&&window.navigator.msSaveBlob?window.navigator.msSaveBlob(r,t):(i=document.createElement("a"),document.body.appendChild(i),i.href=URL.createObjectURL(r),i.setAttribute("download",t),i.click())}var gt,fi,ei,fr,oi,si,ni,hi,ci,ti,li,ai,vi,yi,ii,wt,pi,ri,wi,kt,ui,dt,bi,ki,di,bt,gi,nr,tr,ir;Object.defineProperty(t,"__esModule",{value:!0});gt=p.domElem;t.observableDate=rr;t.getCookie=ur;fi=function(){function n(){}return n.isAbsoluteFalse=function(n){return typeof n=="boolean"?!n:!1},n.isAbsoluteTrue=function(n){return typeof n=="boolean"?n:!1},n}();t.BoolHelper=fi;ei=function(){function n(){}return n.updateCommandStateInMenu=function(n,t,i,r){r===void 0&&(r=!0);n.updateCommandStates([{id:t,disabled:!r,hidden:!i}])},n}();t.MenuHelper=ei,function(n){var t=function(){function n(){}return n.groupWiseSort=function(t,i,r,u,f){var o,h;if(r&&r.length&&r.length>0){var s=i,e=[],l=r[0].index,c=s.length;for(o=0;o<=c;o++){if(o<c&&!f(s[o])){e.push(s[o]);continue}if(e.length>0){for(n.sort(t,e,r,u),h=e.length;h>0;h--)s.splice(o-h,1,e[e.length-h]);e=[]}}}return s},n.sort=function(n,t,i,r){var u=function(n,t,i,r){var u=i[n.index],f=r[n.index];return typeof u=="undefined"||u===null?typeof f=="undefined"||f===null?0:-1:v.localeIgnoreCaseComparer(u,f)},f=function(t,f){var e,o,s;return $.each(i,function(i,h){o=r[i];s=o.comparer||u;e=s.call(n,o,h.order,t,f);e!==0&&h.order==="desc"&&(e=-e)}),e};t.sort(f)},n}();n.SortingHelper=t}(fr=t.GridHelper||(t.GridHelper={}));oi=function(){function n(){}return n.getDateValue=function(n){return!n?0:n.valueOf()},n.parseDateTimeString=function(t,i,r){var u=v.parseDateString(t,f.getCurrentCulture(),[i]);return!!u?r?n.convertUserTimeToClientTime(u):u:null},n.getDateTimeInLocaleFormat=function(n){return n?v.localeFormat("{0} {1}",y.localeFormat(n,"d"),y.localeFormat(n,"t")):""},n.convertUserTimeToClientTime=function(n){return y.convertUserTimeToClientTimeZone(n,!0)},n.isGivenTimeInFuture=function(n){var t=new Date,i=n.getTime()-t.getTime();return i>0},n.getNextDayInUserTimeZone=function(){var n=y.getNowInUserTimeZone(),t=y.addDays(n,1,!0);return y.stripTimeFromDate(t)},n}();t.DateHelper=oi;si=function(){function n(){}return n.diff=function(n,t){var f;n||(n=new Date);t||(t=new Date);var r=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i},u="",i=Math.round(Math.abs(n.valueOf()-t.valueOf())/1e3),e=Math.floor(i/3600);return u+=r(e,2)+":",i=i-e*3600,f=Math.floor(i/60),u+=r(f,2)+":",i=i-f*60,u+r(Math.round(i),2)},n.getDurationMs=function(n,t){return n&&t?t.getTime()-n.getTime():n?(new Date).getTime()-n.getTime():0},n.getFriendlyDuration=function(n,t){var i,r,u;return t===void 0&&(t=1),i="",r=Math.floor(n/1e3),r>60?(u=r/60,i+=v.localeFormat(ht.FriendlyMinutes,u.toFixed(t))):i+=v.localeFormat(ht.FriendlySeconds,r),i},n.parseDuration=function(t){var i;return t?(i=n._getDurationObject(t),i.days>0?v.localeFormat("{0} {1}",v.localeFormat(ht.DayFormat,i.days),i.hours>0?v.localeFormat(ht.HourFormat,i.hours):v.empty):i.hours>0?v.localeFormat("{0} {1}",v.localeFormat(ht.HourFormat,i.hours),i.minutes>0?v.localeFormat(ht.MinuteFormat,i.minutes):v.empty):i.minutes>0?v.localeFormat("{0} {1}",v.localeFormat(ht.MinuteFormat,i.minutes),i.seconds>0?v.localeFormat(ht.SecondFormat,i.seconds===Math.round(i.seconds)?i.seconds.toString():i.seconds.toFixed(2)):v.empty):i.seconds>0?v.localeFormat("{0} {1}",v.localeFormat(ht.SecondFormat,i.seconds),i.milliseconds>0?v.localeFormat(ht.MillisecondFormat,i.milliseconds):v.empty):i.milliseconds===0?v.localeFormat(ht.SecondFormat,0):v.localeFormat(ht.MillisecondFormat,i.milliseconds)):""},n._getDurationObject=function(n){var t=n.split("."),r=0,i,u;return t[0]&&t[1]&&t[1].indexOf(":")>0&&(r=parseInt(t[0]),n=t[1]),n=n.replace(".",":"),t=n.split(":"),i=0,t[3]&&(u=parseFloat("."+t[3]),i=Math.round(u*1e3)),{days:r,hours:t[0]?parseInt(t[0]):0,minutes:t[1]?parseInt(t[1]):0,seconds:t[2]?parseInt(t[2]):0,milliseconds:i}},n}();t.DurationHelper=si;ni=function(){function n(){}return n.hasItems=function(n){return!!n&&n.length>0},n.max=function(n,t){var i,r=null;return n&&t&&n.length>0&&n.forEach(function(n){var u=t(n);(i===undefined||u>i)&&(i=u,r=n)}),r},n.selectMany=function(n,t){var i=[];return n&&t&&n.length>0&&n.forEach(function(n){var r=t(n);r.forEach(function(n){i.push(n)})}),i},n}();t.ArrayHelper=ni;hi=function(){function n(){}return n.onEnterPress=function(n,t,i){t===void 0&&(t=!0);var r=function(n){var r=n.keyCode?n.keyCode:n.which;return r===p.KeyCode.ENTER&&!(t&&n.shiftKey)?(i?i():$(n.target).click(),n.preventDefault(),!1):!0};return n.keydown(r),r},n.offEnterPress=function(n,t){!n||!t||n.unbind("keydown",t)},n.triggerClickOnEnterPress=function(t){return n.isEnterKeyPressEvent(t)?($(t.target).click(),!1):!0},n.isEnterKeyPressEvent=function(t){return n.isKeyPressEvent(t,p.KeyCode.ENTER)},n.triggerClickOnEnterOrSpaceKeyPress=function(t){return n.triggerClickOnKeyPress(t,[p.KeyCode.ENTER,p.KeyCode.SPACE])},n.onEscape=function(n,t){n.keydown(function(n){var i=n.keyCode?n.keyCode:n.which;i===p.KeyCode.ESCAPE&&t()})},n.onWindowCtrlShortcut=function(n,t){$(window).bind("keydown",function(i){p.KeyUtils.isExclusivelyCtrl(i)&&i.keyCode===n&&(i.preventDefault(),t())})},n.trapFocusMoveInsideElement=function(n,t){var u=t.keyCode?t.keyCode:t.which,i,r;u===p.KeyCode.TAB&&(i=$(n).find(":focusable"),r=$(i).length,t.shiftKey==!1&&$(i[r-1]).is(":focus")?(t.preventDefault(),$(i[0]).focus()):t.shiftKey==!0&&$(i[0]).is(":focus")&&(t.preventDefault(),$(i[r-1]).focus()))},n.triggerClickOnKeyPress=function(t,i){if(ni.hasItems(i)){var r=a.first(i,function(i){return n.isKeyPressEvent(t,i)});if(!!r)return $(t.target).click(),!1}return!0},n.isKeyPressEvent=function(n,t){if(!n)return!1;var i=n.keyCode?n.keyCode:n.which;return i===t?!0:!1},n.addTooltip=function(n,t,i){var r={popupTag:!1,cssClass:"rm-rich-content-tooltip"};return!i||(r=__assign({},r,i)),k.RichContentTooltip.add(n,t,r)},n.handleArrowKeysInTable=function(n,t,i,r,u,f){f===void 0&&(f=":focusable");var s,h,l=$(n.target),c=l.closest(r).index(),a=l.closest(i).index();switch(n.keyCode){case p.KeyCode.RIGHT:n.preventDefault();var v=l.closest(i).find(r),e=c+1,o=v.length;if(o<=0)return!0;while(e!==c)if(e===o&&(e=0),s=this._getFocusableElement($(v[e]),f),!!s&&s.length>0){s.focus();break}else if(e===c)break;else e++;return!1;case p.KeyCode.LEFT:n.preventDefault();var v=l.closest(i).find(r),e=c-1,o=v.length;if(o<=0)return!0;while(e!==c)if(e===-1&&(e=o-1),h=this._getFocusableElement($(v[e]),f),!!h&&h.length>0){h.focus();break}else if(e===c)break;else e--;return!1;case p.KeyCode.DOWN:n.preventDefault();var y=$(l.closest(t)).find(i),e=a+1,o=y.length;if(o<=0||e>o)return!0;for(e===o&&(e=0);e!==a;)if(e==o&&(e=0),s=this._getFocusableElement($($(y[e]).find(r).eq(c)),f),!!s&&s.length>0){s.focus();break}else if(e===a)break;else e++;return!1;case p.KeyCode.UP:n.preventDefault();var y=$(l.closest(t)).find(i),e=a-1,o=y.length;if(o<=0||e>o)return!0;for(e===-1&&(e=o-1);e!==a;)if(e===-1&&(e=o-1),h=this._getFocusableElement($($(y[e]).find(r).eq(c)),f),!!h&&h.length>0){h.focus();break}else if(e===a)break;else e--;return!1;default:return u(n)}},n._getFocusableElement=function(n,t){return n.is(t)?n:n.find(t).first()},n}();t.AccessibilityHelper=hi;ci=function(){function n(){}return n.renderMessageForDisplay=function(t,i){var u,r,f;i&&(wt.isDonotSanitizeInputForMDFileEnabled()||(i=b.HtmlNormalizer.normalizeStripAttributes(i,[],["aria-label","role"])),f=n.convertNewLinesToBreaks(i),u=n.convertMarkDownToParagraph(f),r=$("<div class='custom-summary-message'/>"),r.append(u),t.append(r))},n.convertNewLinesToBreaks=function(n){return n=n.replace(/\\r\\n/g,"<br>"),n.replace(/\\n\\r/g,"<br>")},n.convertMarkDownToParagraph=function(n){var t=$(gt("p")).css("margin","0px"),i;return it.FeatureAvailabilityService.isFeatureEnabled(g.WebPlatformFeatureFlags.MarkdownRendering,!1)?(i=new u.MarkdownRenderer({html:!0}),t.append(i.renderHtml(n))):pt.PresentationUtils.marked(n).then(function(n){t.append(n)}),t},n}();t.MarkdownHelpers=ci;ti=function(){function n(){}return n._getTfsRootCollectionPath=function(){return n._tfsRootCollectionPath=o.getDefaultWebContext().collection.uri,n._tfsRootCollectionPath},n.getImageUrl=function(t,i){if(!n._tfsRootCollectionPath)return v.empty;var r=$.extend({id:t,skipServiceHostName:!0},bt.getUserImageApiDefaultParams(),i);return n._tfsRootCollectionPath+bt.constructActionUrl("IdentityImage","common",r)},n.getCurrentUser=function(){var t=o.getDefaultWebContext();return{displayName:t.user.name,id:t.user.id,isAadIdentity:t.host.isAADAccount,isContainer:!1,uniqueName:t.user.uniqueName,imageUrl:n.getImageUrl(t.user.id),url:t.host.uri}},n.isCurrentUser=function(n){return ii.isCurrentUser(n)},n.getCollectionId=function(){return o.getDefaultWebContext().collection.id},n.getProjectId=function(){return o.getDefaultWebContext().project.id},n.getProjectName=function(){return o.getDefaultWebContext().project.name},n._tfsRootCollectionPath=n._getTfsRootCollectionPath(),n}();t.TfsActionUrlProvider=ti;li=function(){function n(){}return n.renderTemplateIfNeeded=function(n,t){if($("#"+n).length===0){var i=document.createElement("script");i.type="text/html";i.text=t;i.id=n;document.body.appendChild(i)}},n.getTruncatedText=function(n,t){return!!n&&n.length>t?v.localeFormat("{0}...",n.substring(0,t)):n},n.htmlDecode=function(n){var t=document.createElement("textarea");return t.innerHTML=n,t.textContent},n}();t.HtmlHelper=li;ai=function(){function n(){}return n.isNullOrEmpty=function(n){var t=$.trim(n);return t===undefined||t===null||t===""?!0:!1},n}();t.ValidateParameters=ai;vi=function(){function n(n,t){this._object=n;this._callback=t}return n.prototype.execute=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._callback.apply(this._object,t)},n}();yi=function(){function n(){this._mapCommandToHandlers={}}return n.prototype.subscribe=function(n,t,i){this._mapCommandToHandlers[n]||(this._mapCommandToHandlers[n]=[]);this._mapCommandToHandlers[n].push(new vi(t,i))},n.prototype.execute=function(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];i=this._mapCommandToHandlers[n];i&&i.forEach(function(n){n.execute.apply(n,r)})},n}();t.CommandManager=yi;ii=function(){function n(){}return n.isCurrentUser=function(n){return v.localeIgnoreCaseComparer(nt.getDefaultWebContext().user.id,n)===0},n}();t.CurrentUser=ii;wt=function(){function n(){}return n.isAutoRefreshDisabled=function(){return!0},n.isHostedSetup=function(){return o.getPageContext().webAccessConfiguration.isHosted},n.isDonotSanitizeInputForMDFileEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.DonotSanitizeInputForMDFile,!1)},n.isRevalidateApproverIdentityFeatureEnabled=function(){return o.getDefaultWebContext().host.isAADAccount&&o.getPageContext().webAccessConfiguration.isHosted},n.isDistributedTaskRevalidateIdentityFeatureEnabled=function(){return o.getDefaultWebContext().host.isAADAccount&&o.getPageContext().webAccessConfiguration.isHosted},n.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled=function(){return o.getDefaultWebContext().host.isAADAccount&&o.getPageContext().webAccessConfiguration.isHosted&&d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.CompleteAadOAuthCallbackByAuthCode,!1)},n.isHostedImageSelectionEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.HostedImage,!1)},n.isReleaseRetentionSettingsEditEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.ReleaseRetentionSettingsEditEnabled,!1)},n.isReleaseComplianceSettingsEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.ReleaseComplianceSettingsEnabled,!1)},n.isBuildArtifactTasksEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.BuildArtifactTasks,!1)},n.isPipelineWorkflowFastHubSwitchDisabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.PipelineWorkflowFastHubSwitchDisabled,!1)},n.isNewCreateReleaseWorkflowIntegartionEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.NewCreateReleaseWorkflowExtensionIntegration,!1)},n.enableNewRouteForLogApis=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.EnableNewRouteForLogApis,!1)},n.isNewReleaseProgressViewEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.NewReleaseProgressView,!1)},n.isDeploymentPoolRenameEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.EnableDeploymentPoolRename,!1)},n.isNewCDReleaseProgressOptInEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.NewCDReleaseViewOptInToggle,!1)},n.isNewReleaseProgressFastHubSwitchDisabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.CDReleaseProgressViewDisableFastHubSwitch,!1)},n.isDisabledDeploymentTargetEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.DisabledDeploymentTarget,!1)},n.isCreateReleaseDataProviderEnabled=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.CreateReleaseDataProvider,!1)},n.isDelayedReleaseTasksSignalRUpdate=function(){return d.FeatureAvailabilityService.isFeatureEnabled(ct.ReleasePipelineFeatureFlags.DelayedReleaseTasksSignalRUpdate,!1)},n}();t.FeatureFlagUtils=wt;pi=function(){function n(){}return n.isEditDefinitionTab=function(n){return!!n&&(n===ct.DefinitionDesignerActions.artifactsEditorAction||n===ct.DefinitionDesignerActions.environmentsEditorAction||n===ct.DefinitionDesignerActions.variablesEditorAction||n===ct.DefinitionDesignerActions.configurationsEditorAction||n===ct.DefinitionDesignerActions.triggersEditorAction||n===ct.DefinitionDesignerActions.generalSettingsEditorAction||n===ct.DefinitionDesignerActions.retentionPolicyEditorAction||n===ct.DefinitionDesignerActions.definitionHistoryAction)},n.isEditReleaseTab=function(n){return!!n&&(n===ct.ReleaseEditorAction.artifactsEditorAction||n===ct.ReleaseEditorAction.environmentsEditorAction||n===ct.ReleaseEditorAction.variablesEditorAction||n===ct.ReleaseEditorAction.configurationsEditorAction||n===ct.ReleaseEditorAction.summaryAction||n===ct.ReleaseEditorAction.logsAction||n===ct.ReleaseEditorAction.workItemsAction||n===ct.ReleaseEditorAction.commitsAction||n===ct.ReleaseEditorAction.releaseHistoryAction||n===ct.ReleaseEditorAction.generalSettingsEditorAction||v.startsWith(n,ct.ReleaseEditorAction.contributionTabActionPrefix))},n.isEnvironmentSummmaryTab=function(n){return!!n&&n===ct.EnvironmentSummaryAction.environmentSummaryAction},n.isExplorerHub=function(n){return!n||n===ct.ReleasesViewActions.RELEASES||n===ct.ReleasesViewActions.DEFINITION_OVERVIEW||n===ct.ReleasesViewActions.DELETED_RELEASES},n.redirectToNewHub=function(){var i=ot.getHistoryService(),t=i.getCurrentState()||{};if(t.action=t.action||ct.ReleasesViewActions.RELEASES,n.isEditReleaseTab(t.action)){kt.navigateToNewReleaseView(t.releaseId);return}if(n.isEditDefinitionTab(t.action)){ri.navigateToNewCDEditor(t.definitionId);return}return ui.navigateToLandingPage(t.definitionId)},n}();t.LegacyNavigationHelper=pi;ri=function(){function n(){}return n.navigateToNewCDEditor=function(t){var i=n.getNewEditorUrl(t);n.navigateToHub(ct.ExtensionArea.ReleaseCDExplorer,i)},n.navigateToHub=function(n,t){wt.isPipelineWorkflowFastHubSwitchDisabled()&&t?window.location.href=t:ut.getLocalService(l.HubsService).navigateToHub(ct.ExtensionArea.ReleaseCDExplorer,t)},n._getNewEditorRelativeUrl=function(){var n=v.empty,i=new l.HubsService,t=i.getHubById(ct.ExtensionArea.ReleaseCDExplorer);return t&&(n=t.uri),n},n.getNewEditorUrl=function(t){var i=new w.Uri(o.getDefaultWebContext().host.uri);return i.path=w.Uri.parse(n._getNewEditorRelativeUrl()).path,t&&(i.addQueryParam("definitionId",t.toString()),i.addQueryParam(n.ACTION_QUERY_PARAMETER_NAME,"environments-editor-preview")),i.absoluteUri},n.newEditorNavigation=function(t){var r=new w.Uri(o.getDefaultWebContext().host.uri),i=w.getQueryParameters(location.href),u;(!i[n.FORCE_OPEN_OLD_EDITOR_PARAMETER_KEY]||v.ignoreCaseComparer(i[n.FORCE_OPEN_OLD_EDITOR_PARAMETER_KEY].toString(),n.FORCE_OPEN_OLD_EDITOR_PARAMETER_VALUE_TRUE))&&(i[n.ACTION_QUERY_PARAMETER_NAME]=t,u=c.HistoryService.serializeState(i),r.path=w.Uri.parse(n._getNewEditorRelativeUrl()).path,r.queryString=u,location.replace(r.absoluteUri))},n.ACTION_QUERY_PARAMETER_NAME="_a",n.FORCE_OPEN_OLD_EDITOR_PARAMETER_KEY="forceOpenOldEditor",n.FORCE_OPEN_OLD_EDITOR_PARAMETER_VALUE_TRUE="true",n}();t.OptInHelper=ri;wi=function(){function n(){}return n.navigateToReleaseReportView=function(t,i){var r=n.getReleaseReportViewUrl(t,i);h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:r,target:"_self"})},n.getReleaseReportViewUrl=function(t,i){var r=new w.Uri(o.getDefaultWebContext().host.uri);return r.path=w.Uri.parse(n._getReleaseReportViewRelativeUrl()).path,i&&(r.addQueryParam(n.DEFINITION_ID_PARAMETER_KEY,i.toString()),r.addQueryParam(n.ACTION_QUERY_PARAMETER_NAME,t)),r.absoluteUri},n._getReleaseReportViewRelativeUrl=function(){var n=v.empty,i=new l.HubsService,t=i.getHubById(ct.ExtensionArea.ReleaseReport);return t&&(n=t.uri),n},n.ACTION_QUERY_PARAMETER_NAME="_a",n.DEFINITION_ID_PARAMETER_KEY="definitionId",n}();t.ReleaseReportViewHelper=wi;kt=function(){function n(){}return n.navigateToNewReleaseView=function(t){var i=n.getCDReleaseViewUrl(t);dt.navigateToHub(i)},n.navigateToNewReleaseViewInNewTab=function(t){var i=n.getCDReleaseViewUrl(t);h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:i,target:"_blank"})},n.getCDReleaseViewUrl=function(t,i){var r={releaseId:t};return bt.getUrlForExtension(ct.ExtensionArea.ReleaseCDProgress,n.ACTION_QUERY_PARAMETER_VALUE_RELEASE_PROGRESS,r,i)},n.newReleaseProgressViewNavigation=function(t){n.containsForceOpenQueryParameter()||location.replace(this.getCDReleaseViewUrl(t))},n.containsForceOpenQueryParameter=function(){var i=new w.Uri(o.getDefaultWebContext().host.uri),t=w.getQueryParameters(location.href);return t[n.FORCE_OPEN_OLD_VIEW_PARAMETER_KEY]&&!v.ignoreCaseComparer(t[n.FORCE_OPEN_OLD_VIEW_PARAMETER_KEY].toString(),n.FORCE_OPEN_OLD_VIEW_PARAMETER_VALUE_TRUE)?!0:!1},n.GetWaitToBatchTaskUpdatedEventsInSec=function(){var n=ut.getService(rt.WebPageDataService).getPageData(ct.ReleaseManagementDataProviderKeys.ReleaseProgressDataProvider);return n&&n.waitToBatchTaskUpdatedEventsInSec?n.waitToBatchTaskUpdatedEventsInSec:5},n.ACTION_QUERY_PARAMETER_NAME="_a",n.RELEASE_ID_PARAMETER_KEY="releaseId",n.FORCE_OPEN_OLD_VIEW_PARAMETER_KEY="forceOpenOldView",n.FORCE_OPEN_OLD_VIEW_PARAMETER_VALUE_TRUE="true",n.ACTION_QUERY_PARAMETER_VALUE_RELEASE_PROGRESS="release-pipeline-progress",n}();t.CDReleaseProgressViewHelper=kt;ui=function(){function n(){}return n.navigateToLandingPage=function(t){t===void 0&&(t=0);var i=n._getLandingPageUrl(this.MINE_VIEW,this.RELEASES_ACTION,t);h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:i})},n.navigateToAllDefinitionsPage=function(){var t=n._getLandingPageUrl(this.ALL_DEFINITIONS_VIEW);h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:t})},n.isNewLandingPageEnabled=function(){return!!ut.getLocalService(l.HubsService).getHubById(ct.ExtensionArea.ReleaseExplorer2)},n._getLandingPageRelativeUrl=function(){var n=v.empty,i=new l.HubsService,t=i.getHubById(ct.ExtensionArea.ReleaseExplorer2);return t&&(n=t.uri),n},n._getLandingPageUrl=function(t,i,r){t===void 0&&(t=v.empty);i===void 0&&(i=v.empty);r===void 0&&(r=0);var u=new w.Uri(o.getDefaultWebContext().host.uri);return u.path=w.Uri.parse(n._getLandingPageRelativeUrl()).path,i&&u.addQueryParam(n.ACTION,i),t&&u.addQueryParam(n.VIEW,t),r&&r>0&&u.addQueryParam(n.DEFINITION_ID,r.toString()),u.absoluteUri},n.VIEW="view",n.ACTION="_a",n.DEFINITION_ID="definitionId",n.ALL_DEFINITIONS_VIEW="all",n.MINE_VIEW="mine",n.RELEASES_ACTION="releases",n}();t.LandingPageHelper=ui;dt=function(){function n(){}return n.isNewCDReleaseProgressViewOptInEnabled=function(){var n=ut.getService(rt.WebPageDataService).getPageData(ct.ReleaseManagementDataProviderKeys.NewCDReleaseProgressFeatureState);return!!n&&n.value},n.isNewCDReleaseProgressUrl=function(n){return v.caseInsensitiveContains(n,ct.ExtensionArea.ReleaseCDProgress)},n.navigateToHub=function(n){wt.isNewReleaseProgressFastHubSwitchDisabled()&&n?window.location.href=n:ut.getLocalService(l.HubsService).navigateToHub(ct.ExtensionArea.ReleaseCDProgress,n)},n}();t.CDReleaseProgressViewOptInHelper=dt;bi=function(){function n(){}return n.navigateToHub=function(n,t,i){ut.getLocalService(l.HubsService).navigateToHub(t,i);n.stopImmediatePropagation();n.preventDefault()},n}();t.HubNavigation=bi;ki=function(){function n(){}return n.getErrorMessage=function(n){var t="",i,r;if(n){if(typeof n!="string"&&!!Object.getOwnPropertyDescriptor(n,"status")&&n.status===0)return s.NetworkConnectionUnavailable;if(i=n.responseText,i)try{r=JSON.parse(i);t=r&&r.message?e.getErrorMessage(r.message):e.getErrorMessage(i)}catch(u){t=e.getErrorMessage(i)}else if(n.innerException){while(n.innerException)n=n.innerException;t=e.getErrorMessage(n)}else t=e.getErrorMessage(n);t.toLocaleLowerCase()==="[object Object]".toLocaleLowerCase()&&(t=ht.UnknownErrorMessage)}return t},n.showError=function(t){vt.DialogUtils.alert(n.getErrorMessage(t))},n}();t.ErrorHelper=ki;di=function(){function n(){}return n.getNames=function(n){return Object.keys(n).filter(function(n){return isNaN(parseInt(n,10))})},n.getValues=function(n){return Object.keys(n).map(function(n){return parseInt(n,10)}).filter(function(n){return!isNaN(n)})},n}();t.EnumHelper=di;bt=function(){function n(){}return n.getUserImageApiDefaultParams=function(){return{area:n._API,project:"",t:n._timeStamp}},n.getRunsUrl=function(t,i,r){return r===void 0&&(r=!1),n._getRunsActionUrl("Runs","TestManagement",t,i,r)},n.getResourceLimitAdminUrl=function(){return at.TfsContext.getDefault().getActionUrl("","buildQueue",{area:"admin",project:""})+c.getHistoryService().getFragmentActionLink("resourceLimits")},n.getConcurrentJobsPageUrl=function(){return at.TfsContext.getDefault().getActionUrl("","buildQueue",{area:"admin",project:""})+c.getHistoryService().getFragmentActionLink("concurrentJobs")},n._getRunsActionUrl=function(n,t,i,r,u){var f,s,o,e;if(u===void 0&&(u=!1),f=new v.StringBuilder,o=at.TfsContext.getDefault(),s=u?o.getPublicActionUrl(n,t):o.getActionUrl(n,t),f.append(s),f.append(v.format("#_a={0}",i)),r)for(e=0;e<r.length;e++)f.append(v.format("&{0}={1}",r[e].parameter,r[e].value));return f.toString()},n.getAgentQueueAdminUrl=function(t){return n.getAgentQueueAdminActionUrl().concat(v.format("?queueId={0}&_a=agents",t.toString()))},n.getAgentQueueAdminActionUrl=function(){return at.TfsContext.getDefault().getActionUrl(v.empty,"AgentQueue",{area:"admin",project:ti.getProjectName()})},n.getMachineGroupAdminActionUrl=function(){var i=n.getUrlForExtension(ct.ExtensionArea.MachineGroupExplorer),t=new v.StringBuilder;return t.append(i),t.append("view=MachineGroupsView"),t.toString()},n.getMachineAdminPageUrl=function(t,i){var u=n.getUrlForExtension(ct.ExtensionArea.MachineGroupExplorer),f=i==undefined?v.format("view=MachineGroupView&mgid={0}&tab=Machines",t):v.format("view=MachineGroupView&mgid={0}&tab=Machines&machineid={1}",t,i),r=new v.StringBuilder;return r.append(u),r.append(f),r.toString()},n.getDeploymentGroupPageUrl=function(t,i){var u=n.getUrlForExtension(ct.ExtensionArea.MachineGroupExplorer,null,null,i),f=v.format("view=MachineGroupView&mgid={0}",t),r=new v.StringBuilder;return r.append(u),r.append(f),r.toString()},n.getDeploymentPoolsPageUrl=function(){var t=at.TfsContext.getDefault().getActionUrl("","deploymentpools",{area:"admin",project:""}),n=new v.StringBuilder;return n.append(t),n.toString()},n.getDeploymentPoolUrl=function(n){var i=at.TfsContext.getDefault().getActionUrl("","deploymentpools",{area:"admin",project:""}),r=v.format("?view=pool&poolid={0}&tab=Details",n),t=new v.StringBuilder;return t.append(i),t.append(r),t.toString()},n.getVariableGroupsLibraryUrl=function(){return n.getUrlForExtension(ct.ExtensionArea.LibraryHub)},n.getEditBuildDefinitionUri=function(n){return!!n&&!!n._links&&!!n._links.editor&&!!n._links.editor.href?n._links.editor.href:v.empty},n.getEditReleaseDefinitionUri=function(n){return!n?v.empty:this.getEditReleaseDefinitionUriForDefinitionId(n.definitionId)},n.getEditReleaseDefinitionUriForDefinitionId=function(t){return n.getUrlForExtension(ct.ExtensionArea.ReleaseCDExplorer,ct.DefinitionDesignerActions.environmentsEditorPreviewAction,{definitionId:t})},n.getEditTaskGroupTasksUri=function(t){return!t?v.empty:n.getUrlForExtension(yt.MetaTaskHubContributionId,ct.MetaTaskViewActions.TASKS,{taskGroupId:t.id})},n.getActionUri=function(n,t,i){var r=this.constructActionUrl(n,t,i),u=nt.getPageContext().webAccessConfiguration.paths.rootPath;return u+r},n.constructActionUrl=function(t,i,r){var s=nt.getPageContext(),b=s.webAccessConfiguration.api,f=[],h,l,y,u,c,p,w,k,o,d,a,v;if(w=b.areaPrefix||"",k=b.controllerPrefix||"",u=$.extend({},r),o=u.area,typeof o=="undefined"&&(o=s.navigation.area),delete u.area,h=u.serviceHost,typeof h=="undefined"&&(h=s.webContext.host),h&&(h.name&&!u.skipServiceHostName&&f.push(encodeURI(h.name)),delete u.skipServiceHostName,h.hostType===tt.ContextHostType.ProjectCollection&&(d=this._shouldBuildApiUrl(o,u),l=u.project,typeof l=="undefined"&&(l=d?s.webContext.project.id:s.webContext.project.name),l&&(f.push(encodeURIComponent(l)),y=u.team,y&&f.push(encodeURIComponent(y))))),delete u.serviceHost,delete u.project,delete u.team,o)if($.isArray(o))for(a=o,a.length>0&&f.push(encodeURIComponent(w+a[0])),v=1;v<a.length;v++)f.push(encodeURIComponent(a[v]));else f.push(encodeURIComponent(w+o));return i||(i=u.controller),delete u.controller,t||(t=u.action),delete u.action,c=u.parameters,delete u.parameters,c&&(i||(i=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),i&&(f.push(encodeURIComponent(k+i)),t&&(f.push(encodeURIComponent(t)),c&&($.isArray(c)?f.push.apply(f,$.map(c,encodeURIComponent)):f.push(encodeURIComponent(c))))),(u.includeVersion||o===n._API)&&(u[n._VERSION]=s.webAccessConfiguration.api.webApiVersion),u.includeLanguage&&e.uiCulture&&(u[n._LANGUAGE]=e.uiCulture),delete u.includeVersion,u.area!==n._API&&s.webAccessConfiguration.clientHost&&(u[n._CLIENTHOST]=s.webAccessConfiguration.clientHost),p=$.param(u),f.join("/")+(p?"?"+p:"")},n.getExtensionActionUrl=function(n,t,i){return c.getHistoryService().getFragmentActionLink(t,i)},n.getUrlForExtension=function(n,t,i,r){var u=nt.getPageContext(),h=u.webContext.collection.uri,e=r?r:"",f="",o,s;return!u.webContext.project||(e=r?r:u.webContext.project.name,o=!!r&&r!==u.webContext.project.name&&r!==u.webContext.project.id,u.navigation.topMostLevel!==tt.NavigationContextLevels.Team||o||!nt.getPageContext().webContext.team||(f=nt.getPageContext().webContext.team.name)),s=h+e+(!f?"":"/"+f),this._getExtensionActionUrlFragment(s,n,t,i).replace("#","?")},n.getReleaseSummaryUrl=function(n,t){return dt.isNewCDReleaseProgressViewOptInEnabled()||!this._canNavigateToOldReleaseView()?kt.getCDReleaseViewUrl(n):this.getUrlForExtension(ct.ExtensionArea.ReleaseExplorer,ct.ReleaseEditorAction.summaryAction,{releaseId:n,source:t})},n._canNavigateToOldReleaseView=function(){return st.getService().hasClaim(st.UserClaims.Member)},n._getExtensionActionUrlFragment=function(t,i,r,u){var f=c.getHistoryService().getFragmentActionLink(r,u);return t+n._getExtensionUrl(i)+f},n._getExtensionUrl=function(n){var t=ct.HubRoutes.getRouteForExtensionArea(n);return!t?"/_apps/hub/"+n:"/"+t},n._shouldBuildApiUrl=function(t,i){var r;return t&&(r=$.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._timeStamp=$.now(),n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n}();t.UrlHelper=bt;t.loadHtmlTemplate=er;gi=function(){function n(){}return n.performAction=function(n,t,i){h.getService().performAction(n,{target:"_blank",rel:"noopener noreferrer",url:c.getHistoryService().getFragmentActionLink(t,i)})},n.openUrlInNewTab=function(n){h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{target:"_blank",rel:"noopener noreferrer",url:n})},n}();t.History=gi;nr=function(){function n(){}return n.isWellKnownReleaseSystemVariable=function(n){var r=n.toLowerCase(),t,i;for(t in lt.WellKnownReleaseVariables)if(lt.WellKnownReleaseVariables.hasOwnProperty(t)&&(i=lt.WellKnownReleaseVariables[t],r===i.toLowerCase()))return!0;for(t in lt.WellKnownExtendedReleaseVariables)if(lt.WellKnownExtendedReleaseVariables.hasOwnProperty(t)&&(i=lt.WellKnownExtendedReleaseVariables[t],r.indexOf(i.toLowerCase())===0))return!0;return!1},n}();t.Systemvariableprovider=nr;tr=function(){function n(){}return n.newGuid=function(){var n=(128+Math.floor(Math.random()*64)).toString(16);return this._oct(8)+"-"+this._oct(4)+"-4"+this._oct(3)+"-"+n+this._oct(2)+"-"+this._oct(12)},n._oct=function(n){var t,i;if(!n)return Math.floor(Math.random()*16).toString(16);for(t="",i=0;i<n;i++)t+=this._oct();return t},n}();t.GUIDUtils=tr;ir=function(){function n(){}return n.hasMachineGroupPermission=function(t,i,r){var u=n._getSecurityToken(n._machineGroupToken,t,i?i.toString():v.empty);return n._hasPermission(n._dteSecurityNamespaceId,r,u,!1)},n.hasDeploymentPoolPermission=function(t,i){var r=n._getSecurityToken(n._deploymentPoolToken,v.empty,t?t.toString():v.empty);return n._hasPermission(n._dteSecurityNamespaceId,i,r,!0)},n._hasPermission=function(t,i,u,f){var e=r.defer(),o;return n._initialize(),o=f?n._poolSecurityClient:n._securityClient,o.hasPermissions(t,i,u).then(function(n){e.resolve(n[0])},function(){e.resolve(!0)}),e.promise},n._getSecurityToken=function(t,i,r){var u=t;return i&&!v.equals(i,v.empty)&&(u=u.concat(n._namespaceSeparator,i)),r&&!v.equals(r,v.empty)&&(u=u.concat(n._namespaceSeparator,r)),u},n._initialize=function(){n._securityClient||(n._securityClient=ut.VssConnection.getConnection().getHttpClient(ft.SecurityHttpClient,n._serviceInstanceId));n._poolSecurityClient||(n._poolSecurityClient=o.getPageContext().webAccessConfiguration.isHosted?n._securityClient:ut.getApplicationClient(ft.SecurityHttpClient))},n._serviceInstanceId=et.ServiceInstanceTypes.TFS,n._dteSecurityNamespaceId="101EAE8C-1709-47F9-B228-0E476C35B3BA",n._machineGroupToken="MachineGroups",n._deploymentPoolToken="DeploymentPools",n._namespaceSeparator="/",n}();t.SecurityHelper=ir;t.SaveToFile=or;e.tfsModuleLoaded("TFS.ReleaseManagement.Utils",t)});

define("ReleaseManagement/Core/RestClient",["require","exports","ReleaseManagement/Core/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function ft(n){return window.VSS&&window.VSS.VssSDKRestVersion&&rt[window.VSS.VssSDKRestVersion]?r.getClient(rt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(o,undefined,undefined,undefined,n)}var f,e,s,h,c,l,a,v,o,y,p,w,b,k,d,g,nt,tt,it,ut,rt;Object.defineProperty(t,"__esModule",{value:!0});f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getAgentArtifactDefinitions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"f2571c27-bf50-4938-b396-32d109ddef26",resource:"agentartifacts",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",responseType:i.TypeInfo.AgentArtifactDefinition,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.agentartifactsApiVersion})},t.serviceInstanceId="0000000D-0000-8888-8000-000000000000",t}(u.VssHttpClient);t.CommonMethods2To5_1=f;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getReleaseWorkItemsRefs=function(n,t,i,r,u){var f={baseReleaseId:i,$top:r,artifactAlias:u};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"4f165cc0-875c-4768-b148-f12f78769fab",resource:"workitems",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",responseIsCollection:!0,routeValues:{project:n,releaseId:t},queryParams:f,apiVersion:this.workitemsApiVersion})},t.prototype.getArtifactVersionsForSources=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"30fc787e-a9e0-4a07-9fbc-3e903aa051d2",resource:"versions",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",responseType:i.TypeInfo.ArtifactVersionQueryResult,routeValues:{project:t},apiVersion:this.versionsApiVersion,data:n})},t.prototype.getArtifactVersions=function(n,t){var r={releaseDefinitionId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"30fc787e-a9e0-4a07-9fbc-3e903aa051d2",resource:"versions",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",responseType:i.TypeInfo.ArtifactVersionQueryResult,routeValues:{project:n},queryParams:r,apiVersion:this.versionsApiVersion})},t.prototype.getArtifactTypeDefinitions=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"8efc2a3c-1fc8-4f6d-9822-75e98cecb48f",resource:"types",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",responseType:i.TypeInfo.ArtifactTypeDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.typesApiVersion})},t.prototype.getTasks=function(n,t,r,u){var f={attemptId:u};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"36b276e0-3c70-4320-a63c-1a2e1466a0d1",resource:"tasks",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/{resource}",responseType:i.TypeInfo.ReleaseTask,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r},queryParams:f,apiVersion:this.tasksApiVersion})},t.prototype.sendSummaryMail=function(n,t,r){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Release",locationId:"224e92b2-8d13-4c14-b120-13d877c516f8",resource:"sendmail",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.MailMessage,routeValues:{project:t,releaseId:r},apiVersion:this.sendmailApiVersion,data:n})},t.prototype.getSummaryMailSections=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"224e92b2-8d13-4c14-b120-13d877c516f8",resource:"sendmail",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.SummaryMailSection,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.sendmailApiVersion})},t.prototype.getReleaseDefinitionHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"258b82e0-9d41-43f3-86d6-fef14ddd44bc",resource:"revisions",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/{resource}/{revision}",responseType:i.TypeInfo.ReleaseDefinitionRevision,responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.revisionsApiVersion})},t.prototype.getDefinitionRevision=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"258b82e0-9d41-43f3-86d6-fef14ddd44bc",resource:"revisions",routeTemplate:"{project}/_apis/Release/definitions/{definitionId}/{resource}/{revision}",routeValues:{project:n,definitionId:t,revision:i},apiVersion:this.revisionsApiVersion})},t.prototype.updateReleaseResource=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.ReleaseUpdateMetadata,responseType:i.TypeInfo.Release,routeValues:{project:t,releaseId:r},apiVersion:this.releasesApiVersion,data:n})},t.prototype.updateRelease=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.Release,responseType:i.TypeInfo.Release,routeValues:{project:t,releaseId:r},apiVersion:this.releasesApiVersion,data:n})},t.prototype.getReleaseRevision=function(n,t,i){var r={definitionSnapshotRevision:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",routeValues:{project:n,releaseId:t},queryParams:r,apiVersion:this.releasesApiVersion})},t.prototype.getReleaseDefinitionSummary=function(n,t,r,u,f){var e={definitionId:t,releaseCount:r,includeArtifact:u,definitionEnvironmentIdsFilter:f&&f.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.ReleaseDefinitionSummary,routeValues:{project:n},queryParams:e,apiVersion:this.releasesApiVersion})},t.prototype.deleteRelease=function(n,t,i){var r={comment:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",routeValues:{project:n,releaseId:t},queryParams:r,apiVersion:this.releasesApiVersion})},t.prototype.createRelease=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",requestType:i.TypeInfo.ReleaseStartMetadata,responseType:i.TypeInfo.Release,routeValues:{project:t},apiVersion:this.releasesApiVersion,data:n})},t.prototype.getLog=function(n,t,i,r,u){var f={attemptId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"e71ba1ed-c0a4-4a28-a61f-2dd5f68cf3fd",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,taskId:r},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.getLogs=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Release",locationId:"c37fbab5-214b-48e4-a55b-cb6b4f6e4038",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",routeValues:{project:n,releaseId:t},apiVersion:this.logsApiVersion_c37fbab5})},t.prototype.getInputValues=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"71dd499b-317d-45ea-9134-140ea1932b5e",resource:"inputvaluesquery",routeTemplate:"{project}/_apis/{area}/artifacts/{resource}",routeValues:{project:t},apiVersion:this.inputvaluesqueryApiVersion,data:n})},t.prototype.getReleaseHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"23f461c8-629a-4144-a076-3054fa5f268a",resource:"history",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}",responseType:i.TypeInfo.ReleaseRevision,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.historyApiVersion})},t.prototype.listDefinitionEnvironmentTemplates=function(n,t){var r={isDeleted:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.getDefinitionEnvironmentTemplate=function(n,t){var r={templateId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,routeValues:{project:n},queryParams:r,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.deleteDefinitionEnvironmentTemplate=function(n,t){var i={templateId:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.createDefinitionEnvironmentTemplate=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",requestType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,routeValues:{project:t},apiVersion:this.environmenttemplatesApiVersion,data:n})},t.prototype.updateReleaseEnvironment=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",requestType:i.TypeInfo.ReleaseEnvironmentUpdateMetadata,responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:t,releaseId:r,environmentId:u},apiVersion:this.environmentsApiVersion,data:n})},t.prototype.getReleaseEnvironment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a7e426b1-03dc-48af-9dfe-c98bac612dcb",resource:"environments",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{environmentId}",responseType:i.TypeInfo.ReleaseEnvironment,routeValues:{project:n,releaseId:t,environmentId:r},apiVersion:this.environmentsApiVersion})},t.prototype.updateReleaseDefinition=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",requestType:i.TypeInfo.ReleaseDefinition,responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:t},apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getReleaseDefinitionRevision=function(n,t,i){var r={revision:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.definitionsApiVersion})},t.prototype.deleteReleaseDefinition=function(n,t,i,r){var u={comment:i,forceDelete:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.definitionsApiVersion})},t.prototype.createReleaseDefinition=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",requestType:i.TypeInfo.ReleaseDefinition,responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:t},apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getReleaseChanges=function(n,t,r,u,f){var e={baseReleaseId:r,$top:u,artifactAlias:f};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"8dcf9fe9-ca37-4113-8ee1-37928e98407c",resource:"changes",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,releaseId:t},queryParams:e,apiVersion:this.changesApiVersion})},t.prototype.updateReleaseApproval=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"9328e074-59fb-465a-89d9-b09c82ee5109",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}/{approvalId}",requestType:i.TypeInfo.ReleaseApproval,responseType:i.TypeInfo.ReleaseApproval,routeValues:{project:t,approvalId:r},apiVersion:this.approvalsApiVersion,data:n})},t.prototype.getApproval=function(n,t,r){var u={includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"9328e074-59fb-465a-89d9-b09c82ee5109",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}/{approvalId}",responseType:i.TypeInfo.ReleaseApproval,routeValues:{project:n,approvalId:t},queryParams:u,apiVersion:this.approvalsApiVersion})},t.prototype.getApprovalHistory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"250c7158-852e-4130-a00f-a0cce9b72d05",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}/{approvalStepId}/history",responseType:i.TypeInfo.ReleaseApproval,routeValues:{project:n,approvalStepId:t},apiVersion:this.approvalsApiVersion_250c7158})},t.prototype.getApprovals=function(n,t,r,u,f,e,o,s,h){var c={assignedToFilter:t,statusFilter:r,releaseIdsFilter:u&&u.join(","),typeFilter:f,top:e,continuationToken:o,queryOrder:s,includeMyGroupApprovals:h};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"b47c6458-e73b-47cb-a770-4df1e8813a91",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ReleaseApproval,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.approvalsApiVersion_b47c6458})},t}(f);t.CommonMethods2_2To5_1=e;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTasks2=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"4259291d-4b0a-4409-9fb3-04f22ab9bc47",resource:"tasks",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/{resource}",responseType:i.TypeInfo.ReleaseTask,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,attemptId:u,timelineId:f},apiVersion:this.tasksApiVersion_4259291d})},t.prototype.getTasksForTaskGroup=function(n,t,r,u){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"4259191d-4b0a-4409-9fb3-09f22ab9bc47",resource:"tasks",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/{resource}",responseType:i.TypeInfo.ReleaseTask,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,releaseDeployPhaseId:u},apiVersion:this.tasksApiVersion_4259191d})},t.prototype.getSourceBranches=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"0e5def23-78b3-461f-8198-1558f25041c8",resource:"sourcebranches",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.sourcebranchesApiVersion})},t.prototype.updateReleaseSettings=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Release",locationId:"c63c3718-7cfd-41e0-b89b-81c1ca143437",resource:"releasesettings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.releasesettingsApiVersion,data:n})},t.prototype.getReleaseSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"c63c3718-7cfd-41e0-b89b-81c1ca143437",resource:"releasesettings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.releasesettingsApiVersion})},t.prototype.undeleteRelease=function(n,t,i){var r={comment:i};return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",routeValues:{project:n,releaseId:t},queryParams:r,apiVersion:this.releasesApiVersion})},t.prototype.getRelease=function(n,t,r,u,f,e){var o={approvalFilters:r,propertyFilters:u&&u.join(","),$expand:f,$topGateRecords:e};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,routeValues:{project:n,releaseId:t},queryParams:o,apiVersion:this.releasesApiVersion})},t.prototype.updateManualIntervention=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"616c46e4-f370-4456-adaa-fbaf79c7b79e",resource:"manualInterventions",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{manualInterventionId}",requestType:i.TypeInfo.ManualInterventionUpdateMetadata,responseType:i.TypeInfo.ManualIntervention,routeValues:{project:t,releaseId:r,manualInterventionId:u},apiVersion:this.manualInterventionsApiVersion,data:n})},t.prototype.getManualInterventions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"616c46e4-f370-4456-adaa-fbaf79c7b79e",resource:"manualInterventions",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{manualInterventionId}",responseType:i.TypeInfo.ManualIntervention,responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.manualInterventionsApiVersion})},t.prototype.getManualIntervention=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"616c46e4-f370-4456-adaa-fbaf79c7b79e",resource:"manualInterventions",routeTemplate:"{project}/_apis/Release/releases/{releaseId}/{resource}/{manualInterventionId}",responseType:i.TypeInfo.ManualIntervention,routeValues:{project:n,releaseId:t,manualInterventionId:r},apiVersion:this.manualInterventionsApiVersion})},t.prototype.getTaskLog=function(n,t,i,r,u,f,e){var o={startLine:f,endLine:e};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"17c91af7-09fd-4256-bff1-c24ee4f73bc0",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/deployPhases/{releaseDeployPhaseId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,releaseDeployPhaseId:r,taskId:u},queryParams:o,apiVersion:this.logsApiVersion_17c91af7})},t.prototype.getTaskLog2=function(n,t,i,r,u,f,e,o){var s={startLine:e,endLine:o};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"2577e6c3-6999-4400-bc69-fe1d837755fe",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,attemptId:r,timelineId:u,taskId:f},queryParams:s,apiVersion:this.logsApiVersion_2577e6c3})},t.prototype.getGateLog=function(n,t,i,r,u){return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"Release",locationId:"dec7ca5a-7f7f-4797-8bf1-8efc0dc93b28",resource:"logs",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/gates/{gateId}/tasks/{taskId}/{resource}",routeValues:{project:n,releaseId:t,environmentId:i,gateId:r,taskId:u},apiVersion:this.logsApiVersion_dec7ca5a})},t.prototype.getDeploymentsForMultipleEnvironments=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"b005ef73-cddc-448e-9ba2-5193bf36b19f",resource:"deployments",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.DeploymentQueryParameters,responseType:i.TypeInfo.Deployment,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.deploymentsApiVersion,data:n})},t.prototype.getDeployments=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var b={definitionId:t,definitionEnvironmentId:r,createdBy:u,minModifiedTime:f,maxModifiedTime:e,deploymentStatus:o,operationStatus:s,latestAttemptsOnly:h,queryOrder:c,$top:l,continuationToken:a,createdFor:v,minStartedTime:y,maxStartedTime:p,sourceBranch:w};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"b005ef73-cddc-448e-9ba2-5193bf36b19f",resource:"deployments",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Deployment,responseIsCollection:!0,routeValues:{project:n},queryParams:b,apiVersion:this.deploymentsApiVersion})},t}(e);t.CommonMethods3To5_1=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:this.releasesApiVersion})},t.prototype.getReleaseProjects=function(n,t){var i={artifactType:n,artifactSourceId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"917ace4a-79d1-45a7-987c-7be4db4268fa",resource:"projects",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:this.projectsApiVersion})},t.prototype.getMetrics=function(n,t){var i={minMetricsTime:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cd1502bb-3c73-4e11-80a6-d11308dceae5",resource:"metrics",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:i,apiVersion:this.metricsApiVersion})},t.prototype.updateFolder=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getFolders=function(n,t,r){var u={queryOrder:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",responseType:i.TypeInfo.Folder,responseIsCollection:!0,routeValues:{project:n,path:t},queryParams:u,apiVersion:this.foldersApiVersion})},t.prototype.deleteFolder=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",routeValues:{project:n,path:t},apiVersion:this.foldersApiVersion})},t.prototype.getFavorites=function(n,t,i){var r={identityId:i};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"938f7222-9acb-48fe-b8a3-4eda04597171",resource:"favorites",routeTemplate:"{project}/_apis/{area}/{resource}/{scope}",responseIsCollection:!0,routeValues:{project:n,scope:t},queryParams:r,apiVersion:this.favoritesApiVersion})},t.prototype.deleteFavorites=function(n,t,i,r){var u={identityId:i,favoriteItemIds:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Release",locationId:"938f7222-9acb-48fe-b8a3-4eda04597171",resource:"favorites",routeTemplate:"{project}/_apis/{area}/{resource}/{scope}",routeValues:{project:n,scope:t},queryParams:u,apiVersion:this.favoritesApiVersion})},t.prototype.createFavorites=function(n,t,i,r){var u={identityId:r};return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"938f7222-9acb-48fe-b8a3-4eda04597171",resource:"favorites",routeTemplate:"{project}/_apis/{area}/{resource}/{scope}",responseIsCollection:!0,routeValues:{project:t,scope:i},queryParams:u,apiVersion:this.favoritesApiVersion,data:n})},t}(s);t.CommonMethods3_1To5_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"86cee25a-68ba-4ba3-9171-8ad6ffc6df93",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getReleaseTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseId:t},apiVersion:this.tagsApiVersion_c5b602b6})},t.prototype.deleteReleaseTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseId:t,tag:i},apiVersion:this.tagsApiVersion_c5b602b6})},t.prototype.addReleaseTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,releaseId:i},apiVersion:this.tagsApiVersion_c5b602b6,data:n})},t.prototype.addReleaseTag=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"c5b602b6-d1b3-4363-8a51-94384f78068f",resource:"tags",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseId:t,tag:i},apiVersion:this.tagsApiVersion_c5b602b6})},t.prototype.getDefinitionTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseDefinitionId:t},apiVersion:this.tagsApiVersion_3d21b4c8})},t.prototype.deleteDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseDefinitionId:t,tag:i},apiVersion:this.tagsApiVersion_3d21b4c8})},t.prototype.addDefinitionTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,releaseDefinitionId:i},apiVersion:this.tagsApiVersion_3d21b4c8,data:n})},t.prototype.addDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"3d21b4c8-c32e-45b2-a7cb-770a369012f4",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{releaseDefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,releaseDefinitionId:t,tag:i},apiVersion:this.tagsApiVersion_3d21b4c8})},t.prototype.getIssues=function(n,t,r){var u={sourceId:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cd42261a-f5c6-41c8-9259-f078989b9f25",resource:"issues",routeTemplate:"{project}/_apis/{area}/{resource}/{buildId}",responseType:i.TypeInfo.AutoTriggerIssue,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:this.issuesApiVersion})},t.prototype.getDefinitionEnvironments=function(n,t,i){var r={taskGroupId:t,propertyFilters:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"12b5d21a-f54c-430e-a8c1-7515d196890e",resource:"definitionEnvironments",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.definitionEnvironmentsApiVersion})},t}(h);t.CommonMethods3_2To5_1=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.undeleteReleaseDefinitionEnvironmentTemplate=function(n,t){var r={templateId:t};return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"6b03b696-824e-4479-8eb2-6644a51aba89",resource:"environmenttemplates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}",responseType:i.TypeInfo.ReleaseDefinitionEnvironmentTemplate,routeValues:{project:n},queryParams:r,apiVersion:this.environmenttemplatesApiVersion})},t.prototype.undeleteReleaseDefinition=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:t,definitionId:r},apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:this.definitionsApiVersion})},t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.definitionsApiVersion})},t.prototype.getAutoTriggerIssues=function(n,t,r,u){var f={artifactType:n,sourceId:t,artifactVersionId:r};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"c1a68497-69da-40fb-9423-cab19cfeeca9",resource:"autotriggerissues",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.AutoTriggerIssue,responseIsCollection:!0,routeValues:{project:u},queryParams:f,apiVersion:this.autotriggerissuesApiVersion})},t.prototype.updateReleaseApprovals=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"c957584a-82aa-4131-8222-6d47f78bfa7a",resource:"approvals",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.ReleaseApproval,responseType:i.TypeInfo.ReleaseApproval,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.approvalsApiVersion_c957584a,data:n})},t}(c);t.CommonMethods4To5_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getDeploymentBadge=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"1a60a35d-b8c9-45fb-bf67-da0829711147",resource:"badge",routeTemplate:"_apis/public/{area}/{resource}/{projectId}/{releaseDefinitionId}/{environmentId}/{branchName}",routeValues:{projectId:n,releaseDefinitionId:t,environmentId:i,branchName:r},apiVersion:this.badgeApiVersion})},t.prototype.getTaskAttachments=function(n,t,r,u,f,e){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"214111ee-2415-4df2-8ed2-74417f7d61f9",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/{resource}/{type}",responseType:i.TypeInfo.ReleaseTaskAttachment,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,attemptId:u,timelineId:f,type:e},apiVersion:this.attachmentsApiVersion})},t.prototype.getTaskAttachmentContent=function(n,t,i,r,u,f,e,o){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Release",locationId:"c4071f6d-3697-46ca-858e-8b10ff09e52f",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/timelines/{timelineId}/records/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,releaseId:t,environmentId:i,attemptId:r,timelineId:u,recordId:f,type:e,name:o},apiVersion:this.attachmentsApiVersion_c4071f6d})},t}(l);t.CommonMethods4_1To5_1=a;v=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateGates=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Release",locationId:"2666a539-2001-4f80-bcc7-0379956749d4",resource:"gates",routeTemplate:"{project}/_apis/{area}/{resource}/{gateStepId}",responseType:i.TypeInfo.ReleaseGates,routeValues:{project:t,gateStepId:r},apiVersion:this.gatesApiVersion,data:n})},t.prototype.getFlightAssignments=function(n){var t={flightName:n};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"409d301f-3046-46f3-beb9-4357fbce0a8c",resource:"flightAssignments",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:t,apiVersion:this.flightAssignmentsApiVersion})},t.prototype.getReleaseTaskAttachments=function(n,t,r,u,f,e){return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a4d06688-0dfa-4895-82a5-f43ec9452306",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/{resource}/{type}",responseType:i.TypeInfo.ReleaseTaskAttachment,responseIsCollection:!0,routeValues:{project:n,releaseId:t,environmentId:r,attemptId:u,planId:f,type:e},apiVersion:this.attachmentsApiVersion_a4d06688})},t.prototype.getReleaseTaskAttachmentContent=function(n,t,i,r,u,f,e,o,s){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Release",locationId:"60b86efb-7b8c-4853-8f9f-aa142b77b479",resource:"attachments",routeTemplate:"{project}/_apis/{area}/releases/{releaseId}/environments/{environmentId}/attempts/{attemptId}/plan/{planId}/timelines/{timelineId}/records/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,releaseId:t,environmentId:i,attemptId:r,planId:u,timelineId:f,recordId:e,type:o,name:s},apiVersion:this.attachmentsApiVersion_60b86efb})},t}(a);t.CommonMethods5To5_1=v;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="5.1",r.agentartifactsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="5.1-preview.1",r.foldersApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="5.1-preview.2",r.environmenttemplatesApiVersion="5.1-preview.3",r.environmentsApiVersion="5.1-preview.6",r}return __extends(t,n),t}(v);t.ReleaseHttpClient5_1=o;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="5.0",r.agentartifactsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.attachmentsApiVersion_a4d06688=r.attachmentsApiVersion_60b86efb=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.favoritesApiVersion=r.flightAssignmentsApiVersion=r.gatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="5.0-preview.1",r.foldersApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="5.0-preview.2",r.environmenttemplatesApiVersion="5.0-preview.3",r.environmentsApiVersion="5.0-preview.6",r}return __extends(t,n),t}(v);t.ReleaseHttpClient5=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="4.1",r.agentartifactsApiVersion=r.attachmentsApiVersion=r.attachmentsApiVersion_c4071f6d=r.autotriggerissuesApiVersion=r.badgeApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.favoritesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="4.1-preview.1",r.foldersApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="4.1-preview.2",r.environmenttemplatesApiVersion="4.1-preview.3",r.environmentsApiVersion="4.1-preview.6",r}return __extends(t,n),t}(a);t.ReleaseHttpClient4_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.approvalsApiVersion_c957584a=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="4.0",r.agentartifactsApiVersion=r.autotriggerissuesApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="4.0-preview.1",r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="4.0-preview.2",r.environmenttemplatesApiVersion="4.0-preview.3",r.environmentsApiVersion="4.0-preview.5",r}return __extends(t,n),t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:"4.0-preview.1",data:n})},t}(l);t.ReleaseHttpClient4=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="3.2",r.agentartifactsApiVersion=r.changesApiVersion=r.definitionEnvironmentsApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.issuesApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.tagsApiVersion=r.tagsApiVersion_c5b602b6=r.tagsApiVersion_3d21b4c8=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="3.2-preview.1",r.environmenttemplatesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="3.2-preview.2",r.environmentsApiVersion="3.2-preview.4",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.2"})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:"3.2-preview.1",data:n})},t}(c);t.ReleaseHttpClient3_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="3.1",r.agentartifactsApiVersion=r.changesApiVersion=r.favoritesApiVersion=r.foldersApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.metricsApiVersion=r.projectsApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="3.1-preview.1",r.environmenttemplatesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="3.1-preview.2",r.environmentsApiVersion="3.1-preview.4",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.1"})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Release",locationId:"f7ddf76d-ce0c-4d68-94ff-becaec5d9dea",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:"3.1-preview.1",data:n})},t.prototype.getQueuedReleases=function(n,t){var i={projectId:n,releaseId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cf6fc7ba-4ad9-403b-86e6-e372cd3b2327",resource:"throttlingQueue",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:"3.1-preview.1"})},t}(h);t.ReleaseHttpClient3_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.definitionsApiVersion=r.deploymentsApiVersion=r.manualInterventionsApiVersion=r.releasesApiVersion="3.0",r.agentartifactsApiVersion=r.changesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.releasesettingsApiVersion=r.revisionsApiVersion=r.sendmailApiVersion=r.sourcebranchesApiVersion=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="3.0-preview.1",r.environmenttemplatesApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.logsApiVersion_17c91af7=r.logsApiVersion_2577e6c3=r.logsApiVersion_dec7ca5a=r.tasksApiVersion=r.tasksApiVersion_4259291d=r.tasksApiVersion_4259191d="3.0-preview.2",r.environmentsApiVersion="3.0-preview.4",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.0"})},t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:"3.0"})},t.prototype.getQueuedReleases=function(n,t){var i={projectId:n,releaseId:t};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"cf6fc7ba-4ad9-403b-86e6-e372cd3b2327",resource:"throttlingQueue",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:"3.0-preview.1"})},t}(s);t.ReleaseHttpClient3=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.definitionsApiVersion=r.releasesApiVersion="2.3",r.agentartifactsApiVersion=r.changesApiVersion=r.environmenttemplatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.revisionsApiVersion=r.sendmailApiVersion=r.tasksApiVersion=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="2.3-preview.1",r.environmentsApiVersion="2.3-preview.2",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"2.3"})},t.prototype.getRelease=function(n,t,r,u,f,e){var o={approvalFilters:r,propertyFilters:u&&u.join(","),$expand:f,$topGateRecords:e};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,routeValues:{project:n,releaseId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:"2.3"})},t}(e);t.ReleaseHttpClient2_3=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.approvalsApiVersion=r.approvalsApiVersion_250c7158=r.approvalsApiVersion_b47c6458=r.definitionsApiVersion=r.releasesApiVersion="2.2",r.agentartifactsApiVersion=r.changesApiVersion=r.environmenttemplatesApiVersion=r.historyApiVersion=r.inputvaluesqueryApiVersion=r.logsApiVersion=r.logsApiVersion_c37fbab5=r.revisionsApiVersion=r.sendmailApiVersion=r.tasksApiVersion=r.typesApiVersion=r.versionsApiVersion=r.workitemsApiVersion="2.2-preview.1",r.environmentsApiVersion="2.2-preview.2",r}return __extends(t,n),t.prototype.getReleaseDefinition=function(n,t,r){var u={propertyFilters:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getReleaseDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={searchText:t,$expand:r,artifactType:u,artifactSourceId:f,$top:e,continuationToken:o,queryOrder:s,path:h,isExactNameMatch:c,tagFilter:l&&l.join(","),propertyFilters:a&&a.join(","),definitionIdFilter:v&&v.join(","),isDeleted:y,searchTextContainsFolderName:p};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:i.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"2.2"})},t.prototype.getRelease=function(n,t,r,u,f,e){var o={approvalFilters:r,propertyFilters:u&&u.join(","),$expand:f,$topGateRecords:e};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,routeValues:{project:n,releaseId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.getReleases=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it={definitionId:t,definitionEnvironmentId:r,searchText:u,createdBy:f,statusFilter:e,environmentStatusFilter:o,minCreatedTime:s,maxCreatedTime:h,queryOrder:c,$top:l,continuationToken:a,$expand:v,artifactTypeId:y,sourceId:p,artifactVersionId:w,sourceBranchFilter:b,isDeleted:k,tagFilter:d&&d.join(","),propertyFilters:g&&g.join(","),releaseIdFilter:nt&&nt.join(","),path:tt};return this._beginRequest({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:i.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:it,apiVersion:"2.2"})},t}(e);t.ReleaseHttpClient2_2=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion="2.1-preview.1",r}return __extends(t,n),t}(f);t.ReleaseHttpClient2_1=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.agentartifactsApiVersion="2.0-preview.1",r}return __extends(t,n),t}(f);t.ReleaseHttpClient2=it;ut=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.ReleaseHttpClient=ut;rt={"5.1":o,"5.0":y,"4.1":p,"4.0":w,"3.2":b,"3.1":k,"3.0":d,"2.3":g,"2.2":nt,"2.1":tt,"2.0":it};t.getClient=ft});

define("TFS/Core/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Custom=0]="Custom";n[n.AzureSubscription=1]="AzureSubscription";n[n.Chef=2]="Chef";n[n.Generic=3]="Generic"}(i=t.ConnectedServiceKind||(t.ConnectedServiceKind={})),function(n){n[n.Xml=0]="Xml";n[n.Inherited=1]="Inherited"}(r=t.ProcessCustomizationType||(t.ProcessCustomizationType={})),function(n){n[n.System=0]="System";n[n.Custom=1]="Custom";n[n.Inherited=2]="Inherited"}(u=t.ProcessType||(t.ProcessType={})),function(n){n[n.Modified=0]="Modified";n[n.Deleted=1]="Deleted";n[n.Added=2]="Added"}(f=t.ProjectChangeType||(t.ProjectChangeType={})),function(n){n[n.Unchanged=-1]="Unchanged";n[n.Private=0]="Private";n[n.Organization=1]="Organization";n[n.Public=2]="Public";n[n.SystemPrivate=3]="SystemPrivate"}(e=t.ProjectVisibility||(t.ProjectVisibility={})),function(n){n[n.Tfvc=1]="Tfvc";n[n.Git=2]="Git"}(o=t.SourceControlTypes||(t.SourceControlTypes={}));t.TypeInfo={ConnectedServiceKind:{enumValues:{custom:0,azureSubscription:1,chef:2,generic:3}},Process:{},ProcessCustomizationType:{enumValues:{xml:0,inherited:1}},ProcessType:{enumValues:{system:0,custom:1,inherited:2}},ProjectChangeType:{enumValues:{modified:0,deleted:1,added:2}},ProjectInfo:{},ProjectMessage:{},ProjectVisibility:{enumValues:{unchanged:-1,"private":0,organization:1,"public":2,systemPrivate:3}},SourceControlTypes:{enumValues:{tfvc:1,git:2}},TeamProject:{},TeamProjectCollection:{},TeamProjectReference:{},TemporaryDataCreatedDTO:{},WebApiConnectedService:{},WebApiConnectedServiceDetails:{},WebApiProject:{}};t.TypeInfo.Process.fields={type:{enumType:t.TypeInfo.ProcessType}};t.TypeInfo.ProjectInfo.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.ProjectMessage.fields={project:{typeInfo:t.TypeInfo.ProjectInfo},projectChangeType:{enumType:t.TypeInfo.ProjectChangeType}};t.TypeInfo.TeamProject.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.TeamProjectCollection.fields={processCustomizationType:{enumType:t.TypeInfo.ProcessCustomizationType}};t.TypeInfo.TeamProjectReference.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.TemporaryDataCreatedDTO.fields={expirationDate:{isDate:!0}};t.TypeInfo.WebApiConnectedService.fields={project:{typeInfo:t.TypeInfo.TeamProjectReference}};t.TypeInfo.WebApiConnectedServiceDetails.fields={connectedServiceMetaData:{typeInfo:t.TypeInfo.WebApiConnectedService}};t.TypeInfo.WebApiProject.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}}});

define("VSS/Common/Contracts/System.Data",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.BigInt=0]="BigInt";n[n.Binary=1]="Binary";n[n.Bit=2]="Bit";n[n.Char=3]="Char";n[n.DateTime=4]="DateTime";n[n.Decimal=5]="Decimal";n[n.Float=6]="Float";n[n.Image=7]="Image";n[n.Int=8]="Int";n[n.Money=9]="Money";n[n.NChar=10]="NChar";n[n.NText=11]="NText";n[n.NVarChar=12]="NVarChar";n[n.Real=13]="Real";n[n.UniqueIdentifier=14]="UniqueIdentifier";n[n.SmallDateTime=15]="SmallDateTime";n[n.SmallInt=16]="SmallInt";n[n.SmallMoney=17]="SmallMoney";n[n.Text=18]="Text";n[n.Timestamp=19]="Timestamp";n[n.TinyInt=20]="TinyInt";n[n.VarBinary=21]="VarBinary";n[n.VarChar=22]="VarChar";n[n.Variant=23]="Variant";n[n.Xml=25]="Xml";n[n.Udt=29]="Udt";n[n.Structured=30]="Structured";n[n.Date=31]="Date";n[n.Time=32]="Time";n[n.DateTime2=33]="DateTime2";n[n.DateTimeOffset=34]="DateTimeOffset"})(i=t.SqlDbType||(t.SqlDbType={}));t.TypeInfo={SqlDbType:{enumValues:{BigInt:0,Binary:1,Bit:2,Char:3,DateTime:4,Decimal:5,Float:6,Image:7,Int:8,Money:9,NChar:10,NText:11,NVarChar:12,Real:13,UniqueIdentifier:14,SmallDateTime:15,SmallInt:16,SmallMoney:17,Text:18,Timestamp:19,TinyInt:20,VarBinary:21,VarChar:22,Variant:23,Xml:25,Udt:29,Structured:30,Date:31,Time:32,DateTime2:33,DateTimeOffset:34}}}});

define("TFS/TestManagement/Contracts",["require","exports","VSS/Common/Contracts/System.Data","TFS/Core/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.GeneralAttachment=0]="GeneralAttachment";n[n.AfnStrip=1]="AfnStrip";n[n.BugFilingData=2]="BugFilingData";n[n.CodeCoverage=3]="CodeCoverage";n[n.IntermediateCollectorData=4]="IntermediateCollectorData";n[n.RunConfig=5]="RunConfig";n[n.TestImpactDetails=6]="TestImpactDetails";n[n.TmiTestRunDeploymentFiles=7]="TmiTestRunDeploymentFiles";n[n.TmiTestRunReverseDeploymentFiles=8]="TmiTestRunReverseDeploymentFiles";n[n.TmiTestResultDetail=9]="TmiTestResultDetail";n[n.TmiTestRunSummary=10]="TmiTestRunSummary";n[n.ConsoleLog=11]="ConsoleLog"}(u=t.AttachmentType||(t.AttachmentType={})),function(n){n[n.Failed=2]="Failed";n[n.InProgress=1]="InProgress";n[n.Queued=0]="Queued";n[n.Succeeded=3]="Succeeded"}(f=t.CloneOperationState||(t.CloneOperationState={})),function(n){n[n.Modules=1]="Modules";n[n.Functions=2]="Functions";n[n.BlockData=4]="BlockData"}(e=t.CoverageQueryFlags||(t.CoverageQueryFlags={})),function(n){n[n.Covered=0]="Covered";n[n.NotCovered=1]="NotCovered";n[n.PartiallyCovered=2]="PartiallyCovered"}(o=t.CoverageStatus||(t.CoverageStatus={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Finalized=3]="Finalized";n[n.Pending=4]="Pending"}(s=t.CoverageSummaryStatus||(t.CoverageSummaryStatus={})),function(n){n[n.None=0]="None";n[n.TestRun=1]="TestRun";n[n.TestResult=2]="TestResult";n[n.System=4]="System";n[n.All=7]="All"}(h=t.CustomTestFieldScope||(t.CustomTestFieldScope={})),function(n){n[n.Bit=2]="Bit";n[n.DateTime=4]="DateTime";n[n.Int=8]="Int";n[n.Float=6]="Float";n[n.String=12]="String";n[n.Guid=14]="Guid"}(c=t.CustomTestFieldType||(t.CustomTestFieldType={})),function(n){n[n.Custom=1]="Custom";n[n.System=2]="System"}(l=t.FlakyDetectionType||(t.FlakyDetectionType={})),function(n){n[n.Add=1]="Add";n[n.Delete=2]="Delete"}(a=t.OperationType||(t.OperationType={})),function(n){n[n.None=0]="None";n[n.Iterations=1]="Iterations";n[n.WorkItems=2]="WorkItems";n[n.SubResults=4]="SubResults";n[n.Point=8]="Point"}(v=t.ResultDetails||(t.ResultDetails={})),function(n){n[n.None=0]="None";n[n.Rerun=1]="Rerun";n[n.DataDriven=2]="DataDriven";n[n.OrderedTest=3]="OrderedTest";n[n.Generic=4]="Generic"}(y=t.ResultGroupType||(t.ResultGroupType={})),function(n){n[n.None=0]="None";n[n.FlakyIdentifiers=1]="FlakyIdentifiers"}(p=t.ResultMetaDataDetails||(t.ResultMetaDataDetails={})),function(n){n[n.TestSuite=0]="TestSuite";n[n.TestPlan=1]="TestPlan"}(w=t.ResultObjectType||(t.ResultObjectType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.Normal=1]="Normal";n[n.Blocking=2]="Blocking";n[n.Web=4]="Web";n[n.MtrRunInitiatedFromWeb=8]="MtrRunInitiatedFromWeb";n[n.RunWithDtlEnv=16]="RunWithDtlEnv";n[n.NoConfigRun=32]="NoConfigRun"}(b=t.RunType||(t.RunType={})),function(n){n[n.Any=0]="Any";n[n.Tcm=1]="Tcm";n[n.Tfs=2]="Tfs"}(k=t.Service||(t.Service={})),function(n){n[n.Children=1]="Children";n[n.DefaultTesters=2]="DefaultTesters"}(d=t.SuiteExpand||(t.SuiteExpand={})),function(n){n[n.NotStarted=0]="NotStarted";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Failed=3]="Failed"}(g=t.TCMServiceDataMigrationStatus||(t.TCMServiceDataMigrationStatus={})),function(n){n[n.Active=1]="Active";n[n.Inactive=2]="Inactive"}(nt=t.TestConfigurationState||(t.TestConfigurationState={})),function(n){n[n.Run=0]="Run";n[n.Build=1]="Build";n[n.Release=2]="Release"}(tt=t.TestLogScope||(t.TestLogScope={})),function(n){n[n.Success=0]="Success";n[n.Failed=1]="Failed";n[n.FileAlreadyExists=2]="FileAlreadyExists";n[n.InvalidInput=3]="InvalidInput";n[n.InvalidFileName=4]="InvalidFileName";n[n.InvalidContainer=5]="InvalidContainer";n[n.TransferFailed=6]="TransferFailed";n[n.FeatureDisabled=7]="FeatureDisabled";n[n.BuildDoesNotExist=8]="BuildDoesNotExist";n[n.RunDoesNotExist=9]="RunDoesNotExist";n[n.ContainerNotCreated=10]="ContainerNotCreated";n[n.APINotSupported=11]="APINotSupported";n[n.FileSizeExceeds=12]="FileSizeExceeds";n[n.ContainerNotFound=13]="ContainerNotFound";n[n.FileNotFound=14]="FileNotFound";n[n.DirectoryNotFound=15]="DirectoryNotFound"}(it=t.TestLogStatusCode||(t.TestLogStatusCode={})),function(n){n[n.Root=1]="Root";n[n.File=2]="File"}(rt=t.TestLogStoreEndpointType||(t.TestLogStoreEndpointType={})),function(n){n[n.Read=1]="Read";n[n.Create=2]="Create";n[n.ReadAndCreate=3]="ReadAndCreate"}(ut=t.TestLogStoreOperationType||(t.TestLogStoreOperationType={})),function(n){n[n.GeneralAttachment=1]="GeneralAttachment";n[n.CodeCoverage=2]="CodeCoverage";n[n.TestImpact=3]="TestImpact";n[n.Intermediate=4]="Intermediate"}(ft=t.TestLogType||(t.TestLogType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.None=1]="None";n[n.Passed=2]="Passed";n[n.Failed=3]="Failed";n[n.Inconclusive=4]="Inconclusive";n[n.Timeout=5]="Timeout";n[n.Aborted=6]="Aborted";n[n.Blocked=7]="Blocked";n[n.NotExecuted=8]="NotExecuted";n[n.Warning=9]="Warning";n[n.Error=10]="Error";n[n.NotApplicable=11]="NotApplicable";n[n.Paused=12]="Paused";n[n.InProgress=13]="InProgress";n[n.NotImpacted=14]="NotImpacted";n[n.MaxValue=14]="MaxValue"}(et=t.TestOutcome||(t.TestOutcome={})),function(n){n[n.None=0]="None";n[n.Ready=1]="Ready";n[n.Completed=2]="Completed";n[n.NotReady=3]="NotReady";n[n.InProgress=4]="InProgress";n[n.MaxValue=4]="MaxValue"}(ot=t.TestPointState||(t.TestPointState={})),function(n){n[n.Branch=1]="Branch";n[n.Environment=2]="Environment"}(st=t.TestResultGroupBy||(t.TestResultGroupBy={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release"}(ht=t.TestResultsContextType||(t.TestResultsContextType={})),function(n){n[n.All=1]="All";n[n.Flaky=2]="Flaky"}(ct=t.TestResultsSettingsType||(t.TestResultsSettingsType={})),function(n){n[n.Passed=0]="Passed";n[n.Failed=1]="Failed";n[n.NotImpacted=2]="NotImpacted";n[n.Others=3]="Others"}(lt=t.TestRunOutcome||(t.TestRunOutcome={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release";n[n.All=3]="All"}(at=t.TestRunPublishContext||(t.TestRunPublishContext={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Aborted=4]="Aborted";n[n.Waiting=5]="Waiting";n[n.NeedsInvestigation=6]="NeedsInvestigation"}(vt=t.TestRunState||(t.TestRunState={})),function(n){n[n.None=0]="None";n[n.CreatingEnvironment=1]="CreatingEnvironment";n[n.RunningTests=2]="RunningTests";n[n.CanceledByUser=3]="CanceledByUser";n[n.AbortedBySystem=4]="AbortedBySystem";n[n.TimedOut=5]="TimedOut";n[n.PendingAnalysis=6]="PendingAnalysis";n[n.Analyzed=7]="Analyzed";n[n.CancellationInProgress=8]="CancellationInProgress"}(yt=t.TestRunSubstate||(t.TestRunSubstate={})),function(n){n[n.Unknown=0]="Unknown";n[n.XTDesktop=1]="XTDesktop";n[n.FeedbackDesktop=2]="FeedbackDesktop";n[n.XTWeb=3]="XTWeb";n[n.FeedbackWeb=4]="FeedbackWeb";n[n.XTDesktop2=5]="XTDesktop2";n[n.SessionInsightsForAll=6]="SessionInsightsForAll"}(pt=t.TestSessionSource||(t.TestSessionSource={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Paused=3]="Paused";n[n.Completed=4]="Completed";n[n.Declined=5]="Declined"}(wt=t.TestSessionState||(t.TestSessionState={}));t.TypeInfo={AfnStrip:{},AggregatedDataForResultTrend:{},AggregatedResultsAnalysis:{},AggregatedResultsByOutcome:{},AggregatedRunsByOutcome:{},AggregatedRunsByState:{},AttachmentType:{enumValues:{generalAttachment:0,afnStrip:1,bugFilingData:2,codeCoverage:3,intermediateCollectorData:4,runConfig:5,testImpactDetails:6,tmiTestRunDeploymentFiles:7,tmiTestRunReverseDeploymentFiles:8,tmiTestResultDetail:9,tmiTestRunSummary:10,consoleLog:11}},BatchResponse:{},BuildConfiguration:{},BuildCoverage:{},BuildReference2:{},BulkResultUpdateRequest:{},CloneOperationInformation:{},CloneOperationState:{enumValues:{failed:2,inProgress:1,queued:0,succeeded:3}},CodeCoverageSummary:{},Coverage2:{},CoverageQueryFlags:{enumValues:{modules:1,functions:2,blockData:4}},CoverageStatus:{enumValues:{covered:0,notCovered:1,partiallyCovered:2}},CoverageSummaryStatus:{enumValues:{none:0,inProgress:1,completed:2,finalized:3,pending:4}},CreateTestMessageLogEntryRequest:{},CreateTestResultsRequest:{},CreateTestRunRequest:{},CustomTestFieldDefinition:{},CustomTestFieldScope:{enumValues:{none:0,testRun:1,testResult:2,system:4,all:7}},CustomTestFieldType:{enumValues:{bit:2,dateTime:4,int:8,float:6,string:12,guid:14}},DatedTestFieldData:{},FailingSince:{},FetchTestResultsResponse:{},FlakyDetection:{},FlakyDetectionType:{enumValues:{custom:1,system:2}},FlakySettings:{},LastResultDetails:{},LegacyBuildConfiguration:{},LegacyReleaseReference:{},LegacyTestCaseResult:{},LegacyTestRun:{},LegacyTestSettings:{},OperationType:{enumValues:{add:1,"delete":2}},PointLastResult:{},PointsResults2:{},QueryTestActionResultResponse:{},ReleaseReference:{},ReleaseReference2:{},RequirementsToTestsMapping2:{},Response:{},ResultDetails:{enumValues:{none:0,iterations:1,workItems:2,subResults:4,point:8}},ResultGroupType:{enumValues:{none:0,rerun:1,dataDriven:2,orderedTest:3,generic:4}},ResultMetaDataDetails:{enumValues:{none:0,flakyIdentifiers:1}},ResultObjectType:{enumValues:{testSuite:0,testPlan:1}},ResultRetentionSettings:{},ResultsByQueryResponse:{},ResultsFilter:{},ResultUpdateRequest:{},ResultUpdateRequestModel:{},ResultUpdateResponse:{},RunCreateModel:{},RunSummaryModel:{},RunType:{enumValues:{unspecified:0,normal:1,blocking:2,web:4,mtrRunInitiatedFromWeb:8,runWithDtlEnv:16,noConfigRun:32}},RunUpdateModel:{},Service:{enumValues:{any:0,tcm:1,tfs:2}},SuiteExpand:{enumValues:{children:1,defaultTesters:2}},TCMServiceDataMigrationStatus:{enumValues:{notStarted:0,inProgress:1,completed:2,failed:3}},TestActionResult:{},TestActionResult2:{},TestActionResultModel:{},TestAttachment:{},TestAuthoringDetails:{},TestCaseReference2:{},TestCaseResult:{},TestConfiguration:{},TestConfigurationState:{enumValues:{active:1,inactive:2}},TestExecutionReportData:{},TestExtensionField:{},TestExtensionFieldDetails:{},TestFailuresAnalysis:{},TestHistoryQuery:{},TestIterationDetailsModel:{},TestLog:{},TestLogReference:{},TestLogScope:{enumValues:{run:0,build:1,release:2}},TestLogStatus:{},TestLogStatusCode:{enumValues:{success:0,failed:1,fileAlreadyExists:2,invalidInput:3,invalidFileName:4,invalidContainer:5,transferFailed:6,featureDisabled:7,buildDoesNotExist:8,runDoesNotExist:9,containerNotCreated:10,apiNotSupported:11,fileSizeExceeds:12,containerNotFound:13,fileNotFound:14,directoryNotFound:15}},TestLogStoreEndpointDetails:{},TestLogStoreEndpointType:{enumValues:{root:1,file:2}},TestLogStoreOperationType:{enumValues:{read:1,create:2,readAndCreate:3}},TestLogType:{enumValues:{generalAttachment:1,codeCoverage:2,testImpact:3,intermediate:4}},TestMessageLogDetails:{},TestMessageLogEntry:{},TestMessageLogEntry2:{},TestOutcome:{enumValues:{unspecified:0,none:1,passed:2,failed:3,inconclusive:4,timeout:5,aborted:6,blocked:7,notExecuted:8,warning:9,error:10,notApplicable:11,paused:12,inProgress:13,notImpacted:14,maxValue:14}},TestParameter2:{},TestPlan:{},TestPlanCloneRequest:{},TestPlanHubData:{},TestPlansWithSelection:{},TestPoint:{},TestPointReference:{},TestPointsEvent:{},TestPointsQuery:{},TestPointState:{enumValues:{none:0,ready:1,completed:2,notReady:3,inProgress:4,maxValue:4}},TestPointsUpdatedEvent:{},TestResult2:{},TestResultAcrossProjectResponse:{},TestResultAttachment:{},TestResultGroupBy:{enumValues:{branch:1,environment:2}},TestResultHistory:{},TestResultHistoryDetailsForGroup:{},TestResultHistoryForGroup:{},TestResultModelBase:{},TestResultReset2:{},TestResultsContext:{},TestResultsContextType:{enumValues:{build:1,release:2}},TestResultsDetails:{},TestResultsDetailsForGroup:{},TestResultsEx2:{},TestResultsQuery:{},TestResultsSettings:{},TestResultsSettingsType:{enumValues:{all:1,flaky:2}},TestResultSummary:{},TestResultsUpdateSettings:{},TestResultsWithWatermark:{},TestResultTrendFilter:{},TestRun:{},TestRun2:{},TestRunCanceledEvent:{},TestRunCreatedEvent:{},TestRunEvent:{},TestRunEx2:{},TestRunOutcome:{enumValues:{passed:0,failed:1,notImpacted:2,others:3}},TestRunPublishContext:{enumValues:{build:1,release:2,all:3}},TestRunStartedEvent:{},TestRunState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,completed:3,aborted:4,waiting:5,needsInvestigation:6}},TestRunSubstate:{enumValues:{none:0,creatingEnvironment:1,runningTests:2,canceledByUser:3,abortedBySystem:4,timedOut:5,pendingAnalysis:6,analyzed:7,cancellationInProgress:8}},TestRunSummary2:{},TestRunWithDtlEnvEvent:{},TestSession:{},TestSessionExploredWorkItemReference:{},TestSessionSource:{enumValues:{unknown:0,xtDesktop:1,feedbackDesktop:2,xtWeb:3,feedbackWeb:4,xtDesktop2:5,sessionInsightsForAll:6}},TestSessionState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,paused:3,completed:4,declined:5}},TestSettings2:{},TestSubResult:{},TestSuite:{},TestSummaryForWorkItem:{},UpdatedProperties:{},UpdateTestRunRequest:{},UpdateTestRunResponse:{},WorkItemToTestLinks:{}};t.TypeInfo.AfnStrip.fields={creationDate:{isDate:!0}};t.TypeInfo.AggregatedDataForResultTrend.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.AggregatedResultsAnalysis.fields={notReportedResultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},previousContext:{typeInfo:t.TypeInfo.TestResultsContext},resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState}};t.TypeInfo.AggregatedResultsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.AggregatedRunsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestRunOutcome}};t.TypeInfo.AggregatedRunsByState.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},state:{enumType:t.TypeInfo.TestRunState}};t.TypeInfo.BatchResponse.fields={responses:{isArray:!0,typeInfo:t.TypeInfo.Response}};t.TypeInfo.BuildConfiguration.fields={creationDate:{isDate:!0}};t.TypeInfo.BuildCoverage.fields={configuration:{typeInfo:t.TypeInfo.BuildConfiguration}};t.TypeInfo.BuildReference2.fields={createdDate:{isDate:!0}};t.TypeInfo.BulkResultUpdateRequest.fields={requests:{isArray:!0,typeInfo:t.TypeInfo.ResultUpdateRequest}};t.TypeInfo.CloneOperationInformation.fields={completionDate:{isDate:!0},creationDate:{isDate:!0},resultObjectType:{enumType:t.TypeInfo.ResultObjectType},state:{enumType:t.TypeInfo.CloneOperationState}};t.TypeInfo.CodeCoverageSummary.fields={status:{enumType:t.TypeInfo.CoverageSummaryStatus}};t.TypeInfo.Coverage2.fields={dateCreated:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.CreateTestMessageLogEntryRequest.fields={testMessageLogEntry:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogEntry}};t.TypeInfo.CreateTestResultsRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.CreateTestRunRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult},testRun:{typeInfo:t.TypeInfo.LegacyTestRun},testSettings:{typeInfo:t.TypeInfo.LegacyTestSettings}};t.TypeInfo.CustomTestFieldDefinition.fields={fieldType:{enumType:t.TypeInfo.CustomTestFieldType},scope:{enumType:t.TypeInfo.CustomTestFieldScope}};t.TypeInfo.DatedTestFieldData.fields={date:{isDate:!0}};t.TypeInfo.FailingSince.fields={date:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.FetchTestResultsResponse.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.FlakyDetection.fields={flakyDetectionType:{enumType:t.TypeInfo.FlakyDetectionType}};t.TypeInfo.FlakySettings.fields={flakyDetection:{typeInfo:t.TypeInfo.FlakyDetection}};t.TypeInfo.LastResultDetails.fields={dateCompleted:{isDate:!0}};t.TypeInfo.LegacyBuildConfiguration.fields={completedDate:{isDate:!0},createdDate:{isDate:!0}};t.TypeInfo.LegacyReleaseReference.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.LegacyTestCaseResult.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},stackTrace:{typeInfo:t.TypeInfo.TestExtensionField}};t.TypeInfo.LegacyTestRun.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},completeDate:{isDate:!0},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dueDate:{isDate:!0},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},startDate:{isDate:!0},testMessageLogEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails}};t.TypeInfo.LegacyTestSettings.fields={createdDate:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.PointLastResult.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.PointsResults2.fields={lastUpdated:{isDate:!0}};t.TypeInfo.QueryTestActionResultResponse.fields={testActionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},testAttachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment}};t.TypeInfo.ReleaseReference.fields={creationDate:{isDate:!0},environmentCreationDate:{isDate:!0}};t.TypeInfo.ReleaseReference2.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.RequirementsToTestsMapping2.fields={creationDate:{isDate:!0},deletionDate:{isDate:!0}};t.TypeInfo.Response.fields={};t.TypeInfo.ResultRetentionSettings.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.ResultsByQueryResponse.fields={testResults:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultsFilter.fields={executedIn:{enumType:t.TypeInfo.Service},maxCompleteDate:{isDate:!0},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.ResultUpdateRequest.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testCaseResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultUpdateRequestModel.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel}};t.TypeInfo.ResultUpdateResponse.fields={lastUpdated:{isDate:!0}};t.TypeInfo.RunCreateModel.fields={buildReference:{typeInfo:t.TypeInfo.BuildConfiguration},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},runSummary:{isArray:!0,typeInfo:t.TypeInfo.RunSummaryModel}};t.TypeInfo.RunSummaryModel.fields={testOutcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.RunUpdateModel.fields={logEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails},runSummary:{isArray:!0,typeInfo:t.TypeInfo.RunSummaryModel},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestActionResult.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResultModel.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}};t.TypeInfo.TestAuthoringDetails.fields={lastUpdated:{isDate:!0},state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestCaseReference2.fields={creationDate:{isDate:!0},lastRefTestRunDate:{isDate:!0}};t.TypeInfo.TestCaseResult.fields={completedDate:{isDate:!0},createdDate:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},iterationDetails:{isArray:!0,typeInfo:t.TypeInfo.TestIterationDetailsModel},lastUpdatedDate:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestConfiguration.fields={lastUpdatedDate:{isDate:!0},state:{enumType:t.TypeInfo.TestConfigurationState}};t.TypeInfo.TestExecutionReportData.fields={reportData:{isArray:!0,typeInfo:t.TypeInfo.DatedTestFieldData}};t.TypeInfo.TestExtensionField.fields={field:{typeInfo:t.TypeInfo.TestExtensionFieldDetails}};t.TypeInfo.TestExtensionFieldDetails.fields={type:{enumType:i.TypeInfo.SqlDbType}};t.TypeInfo.TestFailuresAnalysis.fields={previousContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestHistoryQuery.fields={groupBy:{enumType:t.TypeInfo.TestResultGroupBy},maxCompleteDate:{isDate:!0},resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryForGroup}};t.TypeInfo.TestIterationDetailsModel.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestLog.fields={logReference:{typeInfo:t.TypeInfo.TestLogReference},modifiedOn:{isDate:!0}};t.TypeInfo.TestLogReference.fields={scope:{enumType:t.TypeInfo.TestLogScope},type:{enumType:t.TypeInfo.TestLogType}};t.TypeInfo.TestLogStatus.fields={status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestLogStoreEndpointDetails.fields={endpointType:{enumType:t.TypeInfo.TestLogStoreEndpointType},status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestMessageLogDetails.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry2.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestParameter2.fields={creationDate:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.TestPlan.fields={endDate:{isDate:!0},startDate:{isDate:!0},updatedDate:{isDate:!0}};t.TypeInfo.TestPlanCloneRequest.fields={destinationTestPlan:{typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPlanHubData.fields={testPlan:{typeInfo:t.TypeInfo.TestPlan},testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPoint},testSuites:{isArray:!0,typeInfo:t.TypeInfo.TestSuite}};t.TypeInfo.TestPlansWithSelection.fields={plans:{isArray:!0,typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPoint.fields={lastResetToActive:{isDate:!0},lastResultDetails:{typeInfo:t.TypeInfo.LastResultDetails},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestPointReference.fields={state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestPointsEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestPointsQuery.fields={points:{isArray:!0,typeInfo:t.TypeInfo.TestPoint}};t.TypeInfo.TestPointsUpdatedEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestResultAcrossProjectResponse.fields={testResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.TestResultAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},creationDate:{isDate:!0}};t.TypeInfo.TestResultHistory.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryDetailsForGroup}};t.TypeInfo.TestResultHistoryDetailsForGroup.fields={latestResult:{typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultHistoryForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultModelBase.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestResultReset2.fields={dateModified:{isDate:!0}};t.TypeInfo.TestResultsContext.fields={contextType:{enumType:t.TypeInfo.TestResultsContextType},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.TestResultsDetails.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultsDetailsForGroup}};t.TypeInfo.TestResultsDetailsForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsCountByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome}};t.TypeInfo.TestResultsEx2.fields={creationDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestResultsQuery.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsFilter:{typeInfo:t.TypeInfo.ResultsFilter}};t.TypeInfo.TestResultsSettings.fields={flakySettings:{typeInfo:t.TypeInfo.FlakySettings}};t.TypeInfo.TestResultSummary.fields={aggregatedResultsAnalysis:{typeInfo:t.TypeInfo.AggregatedResultsAnalysis},teamProject:{typeInfo:r.TypeInfo.TeamProjectReference},testFailures:{typeInfo:t.TypeInfo.TestFailuresAnalysis},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestResultsUpdateSettings.fields={flakySettings:{typeInfo:t.TypeInfo.FlakySettings}};t.TypeInfo.TestResultsWithWatermark.fields={changedDate:{isDate:!0},pointsResults:{isArray:!0,typeInfo:t.TypeInfo.PointsResults2}};t.TypeInfo.TestResultTrendFilter.fields={maxCompleteDate:{isDate:!0}};t.TypeInfo.TestRun.fields={buildConfiguration:{typeInfo:t.TypeInfo.BuildConfiguration},completedDate:{isDate:!0},createdDate:{isDate:!0},dueDate:{isDate:!0},lastUpdatedDate:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference},startedDate:{isDate:!0},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestRun2.fields={completeDate:{isDate:!0},creationDate:{isDate:!0},deletedOn:{isDate:!0},dueDate:{isDate:!0},lastUpdated:{isDate:!0},startDate:{isDate:!0}};t.TypeInfo.TestRunCanceledEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunCreatedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEx2.fields={createdDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestRunStartedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunSummary2.fields={testRunCompletedDate:{isDate:!0}};t.TypeInfo.TestRunWithDtlEnvEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestSession.fields={endDate:{isDate:!0},lastUpdatedDate:{isDate:!0},source:{enumType:t.TypeInfo.TestSessionSource},startDate:{isDate:!0},state:{enumType:t.TypeInfo.TestSessionState}};t.TypeInfo.TestSessionExploredWorkItemReference.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.TestSettings2.fields={createdDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSubResult.fields={completedDate:{isDate:!0},lastUpdatedDate:{isDate:!0},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestSuite.fields={children:{isArray:!0,typeInfo:t.TypeInfo.TestSuite},lastPopulatedDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSummaryForWorkItem.fields={summary:{typeInfo:t.TypeInfo.AggregatedDataForResultTrend}};t.TypeInfo.UpdatedProperties.fields={lastUpdated:{isDate:!0}};t.TypeInfo.UpdateTestRunRequest.fields={attachmentsToAdd:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testRun:{typeInfo:t.TypeInfo.LegacyTestRun}};t.TypeInfo.UpdateTestRunResponse.fields={updatedProperties:{typeInfo:t.TypeInfo.UpdatedProperties}};t.TypeInfo.WorkItemToTestLinks.fields={executedIn:{enumType:t.TypeInfo.Service}}});

define("TFS/Build/Contracts",["require","exports","TFS/Core/Contracts","TFS/TestManagement/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Unavailable=0]="Unavailable";n[n.Available=1]="Available";n[n.Offline=2]="Offline"}(u=t.AgentStatus||(t.AgentStatus={})),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update";n[n.Delete=3]="Delete"}(f=t.AuditAction||(t.AuditAction={})),function(n){n[n.ProjectCollection=1]="ProjectCollection";n[n.Project=2]="Project"}(e=t.BuildAuthorizationScope||(t.BuildAuthorizationScope={})),function(n){n[n.String=0]="String";n[n.Boolean=1]="Boolean";n[n.StringList=2]="StringList";n[n.Radio=3]="Radio";n[n.PickList=4]="PickList";n[n.MultiLine=5]="MultiLine";n[n.BranchFilter=6]="BranchFilter"}(o=t.BuildOptionInputType||(t.BuildOptionInputType={})),function(n){n[n.Unknown=0]="Unknown";n[n.Failed=1]="Failed";n[n.Succeeded=2]="Succeeded"}(s=t.BuildPhaseStatus||(t.BuildPhaseStatus={})),function(n){n[n.FinishTimeAscending=2]="FinishTimeAscending";n[n.FinishTimeDescending=3]="FinishTimeDescending";n[n.QueueTimeDescending=4]="QueueTimeDescending";n[n.QueueTimeAscending=5]="QueueTimeAscending";n[n.StartTimeDescending=6]="StartTimeDescending";n[n.StartTimeAscending=7]="StartTimeAscending"}(h=t.BuildQueryOrder||(t.BuildQueryOrder={})),function(n){n[n.None=0]="None";n[n.Manual=1]="Manual";n[n.IndividualCI=2]="IndividualCI";n[n.BatchedCI=4]="BatchedCI";n[n.Schedule=8]="Schedule";n[n.UserCreated=32]="UserCreated";n[n.ValidateShelveset=64]="ValidateShelveset";n[n.CheckInShelveset=128]="CheckInShelveset";n[n.PullRequest=256]="PullRequest";n[n.BuildCompletion=512]="BuildCompletion";n[n.Triggered=943]="Triggered";n[n.All=1007]="All"}(c=t.BuildReason||(t.BuildReason={})),function(n){n[n.None=0]="None";n[n.Succeeded=2]="Succeeded";n[n.PartiallySucceeded=4]="PartiallySucceeded";n[n.Failed=8]="Failed";n[n.Canceled=32]="Canceled"}(l=t.BuildResult||(t.BuildResult={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Cancelling=4]="Cancelling";n[n.Postponed=8]="Postponed";n[n.NotStarted=32]="NotStarted";n[n.All=47]="All"}(a=t.BuildStatus||(t.BuildStatus={})),function(n){n[n.Unavailable=0]="Unavailable";n[n.Available=1]="Available";n[n.Offline=2]="Offline"}(v=t.ControllerStatus||(t.ControllerStatus={})),function(n){n[n.Definition=1]="Definition";n[n.Draft=2]="Draft"}(y=t.DefinitionQuality||(t.DefinitionQuality={})),function(n){n[n.None=0]="None";n[n.LastModifiedAscending=1]="LastModifiedAscending";n[n.LastModifiedDescending=2]="LastModifiedDescending";n[n.DefinitionNameAscending=3]="DefinitionNameAscending";n[n.DefinitionNameDescending=4]="DefinitionNameDescending"}(p=t.DefinitionQueryOrder||(t.DefinitionQueryOrder={})),function(n){n[n.Enabled=0]="Enabled";n[n.Paused=1]="Paused";n[n.Disabled=2]="Disabled"}(w=t.DefinitionQueueStatus||(t.DefinitionQueueStatus={})),function(n){n[n.None=1]="None";n[n.ContinuousIntegration=2]="ContinuousIntegration";n[n.BatchedContinuousIntegration=4]="BatchedContinuousIntegration";n[n.Schedule=8]="Schedule";n[n.GatedCheckIn=16]="GatedCheckIn";n[n.BatchedGatedCheckIn=32]="BatchedGatedCheckIn";n[n.PullRequest=64]="PullRequest";n[n.BuildCompletion=128]="BuildCompletion";n[n.All=255]="All"}(b=t.DefinitionTriggerType||(t.DefinitionTriggerType={})),function(n){n[n.Xaml=1]="Xaml";n[n.Build=2]="Build"}(k=t.DefinitionType||(t.DefinitionType={})),function(n){n[n.None=0]="None";n[n.DropLocation=1]="DropLocation";n[n.TestResults=2]="TestResults";n[n.Label=4]="Label";n[n.Details=8]="Details";n[n.Symbols=16]="Symbols";n[n.All=31]="All"}(d=t.DeleteOptions||(t.DeleteOptions={})),function(n){n[n.None=0]="None";n[n.FolderAscending=1]="FolderAscending";n[n.FolderDescending=2]="FolderDescending"}(g=t.FolderQueryOrder||(t.FolderQueryOrder={})),function(n){n[n.LatestOnQueue=0]="LatestOnQueue";n[n.LatestOnBuild=1]="LatestOnBuild";n[n.Custom=2]="Custom"}(nt=t.GetOption||(t.GetOption={})),function(n){n[n.Error=1]="Error";n[n.Warning=2]="Warning"}(tt=t.IssueType||(t.IssueType={})),function(n){n[n.Custom=0]="Custom";n[n.Default=1]="Default";n[n.Upgrade=2]="Upgrade"}(it=t.ProcessTemplateType||(t.ProcessTemplateType={})),function(n){n[n.ExcludeDeleted=0]="ExcludeDeleted";n[n.IncludeDeleted=1]="IncludeDeleted";n[n.OnlyDeleted=2]="OnlyDeleted"}(rt=t.QueryDeletedOption||(t.QueryDeletedOption={})),function(n){n[n.None=0]="None";n[n.DoNotRun=1]="DoNotRun"}(ut=t.QueueOptions||(t.QueueOptions={})),function(n){n[n.Low=5]="Low";n[n.BelowNormal=4]="BelowNormal";n[n.Normal=3]="Normal";n[n.AboveNormal=2]="AboveNormal";n[n.High=1]="High"}(ft=t.QueuePriority||(t.QueuePriority={})),function(n){n[n.Source=0]="Source";n[n.SourceAndOutputDir=1]="SourceAndOutputDir";n[n.SourceDir=2]="SourceDir";n[n.AllBuildDir=3]="AllBuildDir"}(et=t.RepositoryCleanOptions||(t.RepositoryCleanOptions={})),function(n){n[n.All=0]="All";n[n.Top=1]="Top"}(ot=t.ResultSet||(t.ResultSet={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(st=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.Online=1]="Online";n[n.Offline=2]="Offline"}(ht=t.ServiceHostStatus||(t.ServiceHostStatus={})),function(n){n[n.Hosted=1]="Hosted";n[n.OnPremises=2]="OnPremises";n[n.All=3]="All"}(ct=t.SourceProviderAvailability||(t.SourceProviderAvailability={})),function(n){n[n.Unsupported=0]="Unsupported";n[n.Supported=1]="Supported";n[n.Required=2]="Required"}(lt=t.SupportLevel||(t.SupportLevel={})),function(n){n[n.Succeeded=0]="Succeeded";n[n.SucceededWithIssues=1]="SucceededWithIssues";n[n.Failed=2]="Failed";n[n.Canceled=3]="Canceled";n[n.Skipped=4]="Skipped";n[n.Abandoned=5]="Abandoned"}(at=t.TaskResult||(t.TaskResult={})),function(n){n[n.Pending=0]="Pending";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed"}(vt=t.TimelineRecordState||(t.TimelineRecordState={})),function(n){n[n.OK=0]="OK";n[n.Warning=1]="Warning";n[n.Error=2]="Error"}(yt=t.ValidationResult||(t.ValidationResult={})),function(n){n[n.Map=0]="Map";n[n.Cloak=1]="Cloak"}(pt=t.WorkspaceMappingType||(t.WorkspaceMappingType={}));t.TypeInfo={AgentStatus:{enumValues:{unavailable:0,available:1,offline:2}},AuditAction:{enumValues:{add:1,update:2,"delete":3}},Build:{},BuildAgent:{},BuildAuthorizationScope:{enumValues:{projectCollection:1,project:2}},BuildCompletedEvent:{},BuildCompletionTrigger:{},BuildController:{},BuildDefinition:{},BuildDefinition3_2:{},BuildDefinitionReference:{},BuildDefinitionReference3_2:{},BuildDefinitionRevision:{},BuildDefinitionSourceProvider:{},BuildDefinitionTemplate:{},BuildDefinitionTemplate3_2:{},BuildDeletedEvent:{},BuildDeployment:{},BuildLog:{},BuildMetric:{},BuildOptionDefinition:{},BuildOptionInputDefinition:{},BuildOptionInputType:{enumValues:{string:0,boolean:1,stringList:2,radio:3,pickList:4,multiLine:5,branchFilter:6}},BuildPhaseStatus:{enumValues:{unknown:0,failed:1,succeeded:2}},BuildProcessTemplate:{},BuildQueryOrder:{enumValues:{finishTimeAscending:2,finishTimeDescending:3,queueTimeDescending:4,queueTimeAscending:5,startTimeDescending:6,startTimeAscending:7}},BuildReason:{enumValues:{none:0,manual:1,individualCI:2,batchedCI:4,schedule:8,userCreated:32,validateShelveset:64,checkInShelveset:128,pullRequest:256,buildCompletion:512,triggered:943,all:1007}},BuildReference:{},BuildRequestValidationResult:{},BuildResult:{enumValues:{none:0,succeeded:2,partiallySucceeded:4,failed:8,canceled:32}},BuildServer:{},BuildStatus:{enumValues:{none:0,inProgress:1,completed:2,cancelling:4,postponed:8,notStarted:32,all:47}},BuildSummary:{},BuildTagsAddedEvent:{},BuildTrigger:{},BuildUpdatedEvent:{},Change:{},ContinuousDeploymentDefinition:{},ContinuousIntegrationTrigger:{},ControllerStatus:{enumValues:{unavailable:0,available:1,offline:2}},DefinitionQuality:{enumValues:{definition:1,draft:2}},DefinitionQueryOrder:{enumValues:{none:0,lastModifiedAscending:1,lastModifiedDescending:2,definitionNameAscending:3,definitionNameDescending:4}},DefinitionQueueStatus:{enumValues:{enabled:0,paused:1,disabled:2}},DefinitionReference:{},DefinitionTriggerType:{enumValues:{none:1,continuousIntegration:2,batchedContinuousIntegration:4,schedule:8,gatedCheckIn:16,batchedGatedCheckIn:32,pullRequest:64,buildCompletion:128,all:255}},DefinitionType:{enumValues:{xaml:1,build:2}},DeleteOptions:{enumValues:{none:0,dropLocation:1,testResults:2,label:4,details:8,symbols:16,all:31}},DesignerProcess:{},Folder:{},FolderQueryOrder:{enumValues:{none:0,folderAscending:1,folderDescending:2}},GatedCheckInTrigger:{},GetOption:{enumValues:{latestOnQueue:0,latestOnBuild:1,custom:2}},InformationNode:{},Issue:{},IssueType:{enumValues:{error:1,warning:2}},Phase:{},ProcessTemplateType:{enumValues:{custom:0,"default":1,upgrade:2}},PullRequestTrigger:{},QueryDeletedOption:{enumValues:{excludeDeleted:0,includeDeleted:1,onlyDeleted:2}},QueueOptions:{enumValues:{none:0,doNotRun:1}},QueuePriority:{enumValues:{low:5,belowNormal:4,normal:3,aboveNormal:2,high:1}},RepositoryCleanOptions:{enumValues:{source:0,sourceAndOutputDir:1,sourceDir:2,allBuildDir:3}},RepositoryWebhook:{},ResultSet:{enumValues:{all:0,top:1}},Schedule:{},ScheduleDays:{enumValues:{none:0,monday:1,tuesday:2,wednesday:4,thursday:8,friday:16,saturday:32,sunday:64,all:127}},ScheduleTrigger:{},ServiceHostStatus:{enumValues:{online:1,offline:2}},SourceProviderAttributes:{},SourceProviderAvailability:{enumValues:{hosted:1,onPremises:2,all:3}},SupportedTrigger:{},SupportLevel:{enumValues:{unsupported:0,supported:1,required:2}},TaskResult:{enumValues:{succeeded:0,succeededWithIssues:1,failed:2,canceled:3,skipped:4,abandoned:5}},Timeline:{},TimelineRecord:{},TimelineRecordState:{enumValues:{pending:0,inProgress:1,completed:2}},TimelineRecordsUpdatedEvent:{},ValidationResult:{enumValues:{oK:0,warning:1,error:2}},WorkspaceMapping:{},WorkspaceMappingType:{enumValues:{map:0,cloak:1}},WorkspaceTemplate:{},XamlBuildDefinition:{}};t.TypeInfo.Build.fields={controller:{typeInfo:t.TypeInfo.BuildController},definition:{typeInfo:t.TypeInfo.DefinitionReference},deletedDate:{isDate:!0},finishTime:{isDate:!0},lastChangedDate:{isDate:!0},priority:{enumType:t.TypeInfo.QueuePriority},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueOptions:{enumType:t.TypeInfo.QueueOptions},queueTime:{isDate:!0},reason:{enumType:t.TypeInfo.BuildReason},result:{enumType:t.TypeInfo.BuildResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus},triggeredByBuild:{typeInfo:t.TypeInfo.Build},validationResults:{isArray:!0,typeInfo:t.TypeInfo.BuildRequestValidationResult}};t.TypeInfo.BuildAgent.fields={createdDate:{isDate:!0},status:{enumType:t.TypeInfo.AgentStatus},updatedDate:{isDate:!0}};t.TypeInfo.BuildCompletedEvent.fields={build:{typeInfo:t.TypeInfo.Build},changes:{isArray:!0,typeInfo:t.TypeInfo.Change},testResults:{typeInfo:r.TypeInfo.AggregatedResultsAnalysis},timelineRecords:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.BuildCompletionTrigger.fields={definition:{typeInfo:t.TypeInfo.DefinitionReference},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildController.fields={createdDate:{isDate:!0},status:{enumType:t.TypeInfo.ControllerStatus},updatedDate:{isDate:!0}};t.TypeInfo.BuildDefinition.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},triggers:{isArray:!0,typeInfo:t.TypeInfo.BuildTrigger},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinition3_2.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},triggers:{isArray:!0,typeInfo:t.TypeInfo.BuildTrigger},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionReference.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},latestBuild:{typeInfo:t.TypeInfo.Build},latestCompletedBuild:{typeInfo:t.TypeInfo.Build},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionReference3_2.fields={createdDate:{isDate:!0},draftOf:{typeInfo:t.TypeInfo.DefinitionReference},drafts:{isArray:!0,typeInfo:t.TypeInfo.DefinitionReference},metrics:{isArray:!0,typeInfo:t.TypeInfo.BuildMetric},project:{typeInfo:i.TypeInfo.TeamProjectReference},quality:{enumType:t.TypeInfo.DefinitionQuality},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.BuildDefinitionRevision.fields={changedDate:{isDate:!0},changeType:{enumType:t.TypeInfo.AuditAction}};t.TypeInfo.BuildDefinitionSourceProvider.fields={lastModified:{isDate:!0},supportedTriggerTypes:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildDefinitionTemplate.fields={template:{typeInfo:t.TypeInfo.BuildDefinition}};t.TypeInfo.BuildDefinitionTemplate3_2.fields={template:{typeInfo:t.TypeInfo.BuildDefinition3_2}};t.TypeInfo.BuildDeletedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.BuildDeployment.fields={deployment:{typeInfo:t.TypeInfo.BuildSummary}};t.TypeInfo.BuildLog.fields={createdOn:{isDate:!0},lastChangedOn:{isDate:!0}};t.TypeInfo.BuildMetric.fields={date:{isDate:!0}};t.TypeInfo.BuildOptionDefinition.fields={inputs:{isArray:!0,typeInfo:t.TypeInfo.BuildOptionInputDefinition}};t.TypeInfo.BuildOptionInputDefinition.fields={type:{enumType:t.TypeInfo.BuildOptionInputType}};t.TypeInfo.BuildProcessTemplate.fields={supportedReasons:{enumType:t.TypeInfo.BuildReason},templateType:{enumType:t.TypeInfo.ProcessTemplateType}};t.TypeInfo.BuildReference.fields={finishTime:{isDate:!0},queueTime:{isDate:!0},result:{enumType:t.TypeInfo.BuildResult},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus}};t.TypeInfo.BuildRequestValidationResult.fields={result:{enumType:t.TypeInfo.ValidationResult}};t.TypeInfo.BuildServer.fields={status:{enumType:t.TypeInfo.ServiceHostStatus},statusChangedDate:{isDate:!0}};t.TypeInfo.BuildSummary.fields={finishTime:{isDate:!0},reason:{enumType:t.TypeInfo.BuildReason},startTime:{isDate:!0},status:{enumType:t.TypeInfo.BuildStatus}};t.TypeInfo.BuildTagsAddedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.BuildTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.BuildUpdatedEvent.fields={build:{typeInfo:t.TypeInfo.Build}};t.TypeInfo.Change.fields={timestamp:{isDate:!0}};t.TypeInfo.ContinuousDeploymentDefinition.fields={project:{typeInfo:i.TypeInfo.TeamProjectReference}};t.TypeInfo.ContinuousIntegrationTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.DefinitionReference.fields={createdDate:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},type:{enumType:t.TypeInfo.DefinitionType}};t.TypeInfo.DesignerProcess.fields={phases:{isArray:!0,typeInfo:t.TypeInfo.Phase}};t.TypeInfo.Folder.fields={createdOn:{isDate:!0},lastChangedDate:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference}};t.TypeInfo.GatedCheckInTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.InformationNode.fields={lastModifiedDate:{isDate:!0}};t.TypeInfo.Issue.fields={type:{enumType:t.TypeInfo.IssueType}};t.TypeInfo.Phase.fields={jobAuthorizationScope:{enumType:t.TypeInfo.BuildAuthorizationScope}};t.TypeInfo.PullRequestTrigger.fields={triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.RepositoryWebhook.fields={types:{isArray:!0,enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.Schedule.fields={daysToBuild:{enumType:t.TypeInfo.ScheduleDays}};t.TypeInfo.ScheduleTrigger.fields={schedules:{isArray:!0,typeInfo:t.TypeInfo.Schedule},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.SourceProviderAttributes.fields={supportedTriggers:{isArray:!0,typeInfo:t.TypeInfo.SupportedTrigger}};t.TypeInfo.SupportedTrigger.fields={supportedCapabilities:{isDictionary:!0,dictionaryValueEnumType:t.TypeInfo.SupportLevel},type:{enumType:t.TypeInfo.DefinitionTriggerType}};t.TypeInfo.Timeline.fields={lastChangedOn:{isDate:!0},records:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.TimelineRecord.fields={finishTime:{isDate:!0},issues:{isArray:!0,typeInfo:t.TypeInfo.Issue},lastModified:{isDate:!0},result:{enumType:t.TypeInfo.TaskResult},startTime:{isDate:!0},state:{enumType:t.TypeInfo.TimelineRecordState}};t.TypeInfo.TimelineRecordsUpdatedEvent.fields={timelineRecords:{isArray:!0,typeInfo:t.TypeInfo.TimelineRecord}};t.TypeInfo.WorkspaceMapping.fields={mappingType:{enumType:t.TypeInfo.WorkspaceMappingType}};t.TypeInfo.WorkspaceTemplate.fields={lastModifiedDate:{isDate:!0},mappings:{isArray:!0,typeInfo:t.TypeInfo.WorkspaceMapping}};t.TypeInfo.XamlBuildDefinition.fields={controller:{typeInfo:t.TypeInfo.BuildController},createdDate:{isDate:!0},createdOn:{isDate:!0},project:{typeInfo:i.TypeInfo.TeamProjectReference},queueStatus:{enumType:t.TypeInfo.DefinitionQueueStatus},supportedReasons:{enumType:t.TypeInfo.BuildReason},triggerType:{enumType:t.TypeInfo.DefinitionTriggerType},type:{enumType:t.TypeInfo.DefinitionType}}});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Types",["require","exports","knockout","VSS/VSS"],function(n,t,i,r){var e,o,s,h,c,u,f;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.TfsVersionControl="TfsVersionControl";n.TfsGit="TfsGit"}(e=t.WellKnownRepositoryTypes||(t.WellKnownRepositoryTypes={})),function(n){n.TfvcMapping="tfvcMapping"}(o=t.WellKnownRepositoryProperties||(t.WellKnownRepositoryProperties={})),function(n){n.Clone="clone"}(s=t.ReleaseDefinitionAction||(t.ReleaseDefinitionAction={})),function(n){n[n.Approve=0]="Approve";n[n.Reject=1]="Reject";n[n.Reassigned=2]="Reassigned"}(h=t.ApprovalDefaultButton||(t.ApprovalDefaultButton={})),function(n){n[n.Resume=0]="Resume";n[n.Reject=1]="Reject"}(c=t.ManualInterventionDefaultButton||(t.ManualInterventionDefaultButton={}));u=function(){function n(n,t,r){this.taskname=i.observable("");this.taskHeaderString=i.observable("");this.taskImageSource=i.observable("");this.taskname(n);this.taskHeaderString(t);this.taskImageSource(r)}return n}();t.ReleaseApprover=u;f=function(){function n(){}return n.DEPLOY_POPUP_RELEASE_NAME_COMPARISON_TEXT_MAX_LENGTH=15,n.DEPLOY_POPUP_RELEASE_NAME_IN_ARTIFACTS_HEADER_MAX_LENGTH=40,n.DEPLOY_POPUP_RELEASE_NAME_IN_TITLE_MAX_LENGTH=20,n}();t.QueueReleaseOnEnvironmentDialogConstants=f;r.tfsModuleLoaded("TFS.ReleaseManagement.Controls.Types",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.LocalUserSettings",["require","exports","VSS/VSS","VSS/Service","VSS/Settings"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(){}return n.prototype.getUserSetting=function(n,t){return!n?t:r.getLocalService(u.LocalSettingsService).read(n,t,u.LocalSettingsScope.Project)},n.prototype.setUserSetting=function(n,t){!n||r.getLocalService(u.LocalSettingsService).write(n,t,u.LocalSettingsScope.Project)},n}();t.LocalUserSettings=f;i.tfsModuleLoaded("TFS.ReleaseManagement.LocalUserSettings",t)});

define("DistributedTasksCommon/TFS.Tasks.Types",["require","exports","VSS/VSS"],function(n,t,i){var f,r,u,e,o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Custom=0]="Custom";n[n.AzureSubscription=1]="AzureSubscription";n[n.Chef=2]="Chef";n[n.Generic=3]="Generic";n[n.GitHub=4]="GitHub";n[n.GitHubEnterprise=5]="GitHubEnterprise"}(f=t.ConnectedServiceKind||(t.ConnectedServiceKind={}));r=function(){function n(){}return n.metaTaskCategory=["Build","Deploy","Package","Utility","Test"],n}();t.MetaTaskCategoryType=r;u=function(){function n(){}return n.task="task",n.metaTask="metaTask",n}();t.DefinitionType=u,function(n){n.RunsOnAgent="Agent";n.RunsOnMachineGroup="MachineGroup";n.RunsOnDeploymentGroup="DeploymentGroup";n.RunsOnServer="Server";n.RunsOnServerGate="ServerGate"}(e=t.TaskRunsOnConstants||(t.TaskRunsOnConstants={})),function(n){n[n.RunOnAny=0]="RunOnAny";n[n.RunOnAgent=1]="RunOnAgent";n[n.RunOnServer=2]="RunOnServer";n[n.RunOnMachineGroup=3]="RunOnMachineGroup";n[n.RunsOnServerGate=4]="RunsOnServerGate"}(o=t.TaskGroupType||(t.TaskGroupType={}));i.tfsModuleLoaded("TFS.Tasks.Types",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils",["require","exports","knockout","VSS/VSS","VSS/Context","VSS/Contributions/Services","VSS/Locations","VSS/Events/Action","VSS/Navigation/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/UI","VSS/Utils/Url","VSS/Utils/Array","VSS/Common/Contracts/Platform","VSS/Diag","VSS/Service","VSS/User/Services","TFS/Build/Contracts","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Types","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","ReleasePipeline/Scripts/TFS.ReleaseManagement.LocalUserSettings","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleaseManagement/Core/Constants","ReleaseManagement/Core/RestClient","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Common/Telemetry"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){var pr,yt,pt,wt,bt,lt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,ct,wi,bi,ki,di,at,gi,nr,vt,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr;Object.defineProperty(t,"__esModule",{value:!0});pr=a.domElem;yt=function(){function n(){}return n.getArtifactDetails=function(t,i,r){r===void 0&&(r=!1);var u=[],f=t.definitionReference[et.ArtifactDefinitionConstants.DefinitionId]?t.definitionReference[et.ArtifactDefinitionConstants.DefinitionId].name:c.empty,e=n.getArtifactDisplayName(t.type,i),s=c.localeFormat(g.ArtifactsSourceNameWithTypeFormat,f,e),h=t.definitionReference[et.ArtifactDefinitionConstants.Version]?t.definitionReference[et.ArtifactDefinitionConstants.Version].name:c.empty,o=null;return r&&(o={sourceName:f,version:h,sourceNameWithType:s,type:e,name:"",artifact:null,artifactSourceId:-1,id:-1,path:"",downloadLocation:t.alias,description:"",isArtifactSourceNode:!0,sourceAlias:t.alias},u.push(o)),u},n.addAtrifactName=function(n,t,i,r){return i===0&&r===1?n+=t:i<r-1?(i>0&&(n+=", "),n+=t):n=n+" "+g.ConjunctionForArtifactsDisplayMessage+" "+t,n},n.getArtifactDetailsMessage=function(t,i,r,u,f,e){var a,y;if(!i||(i=c.htmlEncode(i)),!t||!ft.ArrayHelper.hasItems(t)&&c.localeIgnoreCaseComparer(r,nt.ArtifactDefaultVersionConstants.SelectDuringReleaseCreation)!==0)return c.localeFormat(g.NoArtifactsDisplayMessage,i);var v=t.length,s=$.map(t,function(n){return c.htmlEncode(n)}),o=c.empty,h=ft.ValidateParameters.isNullOrEmpty(u),l=ft.ValidateParameters.isNullOrEmpty(f);if(!r)o=c.localeFormat(g.ArtifactsDisplayMessage,i);else switch(r){case nt.ArtifactDefaultVersionConstants.Latest:o=c.localeFormat(g.ArtifactsDisplayMessageLatest,i);break;case nt.ArtifactDefaultVersionConstants.LatestWithBranchAndTags:if(h||l)if(!h&&l){o=c.localeFormat(g.ArtifactsDisplayMessageLatestWithBranchAndNoTags,i,c.htmlEncode(u));break}else if(h&&!l){o=c.localeFormat(g.ArtifactsDisplayMessageLatestWithNoBranchAndTags,i,c.htmlEncode(f));break}else{o=c.localeFormat(g.ArtifactsDisplayMessageLatestWithAllBranchAndAllTags,i);break}else{o=c.localeFormat(g.ArtifactsDisplayMessageLatestWithBranchAndTags,i,c.htmlEncode(u),c.htmlEncode(f));break}case nt.ArtifactDefaultVersionConstants.SpecificVersion:if(ft.ValidateParameters.isNullOrEmpty(e))return c.empty;o=c.localeFormat(g.ArtifactsDisplayMessageSpecificVersion,i,c.htmlEncode(e));break;case nt.ArtifactDefaultVersionConstants.SelectDuringReleaseCreation:return g.ArtifactsDisplayMessageSelectDuringReleaseCreation}return v<=n._maxNumberOfArtifactsToDisplay?o.concat(c.format(g.ArtifactsToBePublishedMessage,s.join(", "))):(a=s.slice(0,n._maxNumberOfArtifactsToDisplay).join(", "),y=s.slice(n._maxNumberOfArtifactsToDisplay,s.length).join(", "),a+=" "+g.ConjunctionForArtifactsDisplayMessage+" <div class='more-artifact-message' title='"+y+"'>"+c.localeFormat(g.MoreArtifacts,v-n._maxNumberOfArtifactsToDisplay)+"<\/div>",o.concat(c.localeFormat(g.ArtifactsToBePublishedMessage,a)))},n.isCurrentTfvcBuildOlderThanLastTfvcBuild=function(n,t){return t&&!t.repository&&w.logError("isCurrentTfvcBuildOlderThanLastTfvcBuild: Unexpected error. Object is: "+JSON.stringify(t)),!!n&&!!t&&c.localeIgnoreCaseComparer(t.repository.type,tt.WellKnownRepositoryTypes.TfsVersionControl)===0&&c.localeIgnoreCaseComparer(t.project.id,n.project.id)===0&&c.localeIgnoreCaseComparer(t.repository.id,n.repository.id)===0&&c.localeIgnoreCaseComparer(t.repository.type,n.repository.type)===0&&c.localeIgnoreCaseComparer(t.sourceBranch,n.sourceBranch)===0&&parseInt(t.sourceVersion)<parseInt(n.sourceVersion)},n.getArtifactDefaultVersionBranchValue=function(n){var t=c.empty,i=c.empty,r=nt.ArtifactDefaultVersionConstants.DefaultVersionType,u=nt.ArtifactDefaultVersionConstants.DefaultVersionBranch,f=nt.ArtifactDefaultVersionConstants.LatestWithBranchAndTags;return this.hasDefinitionReferenceProperty(n.definitionReference,r)&&(t=n.definitionReference[r].id),!t||c.localeIgnoreCaseComparer(t,f)!==0||!n.definitionReference[u]||(i=n.definitionReference[u].name),i},n.getArtifactDefaultVersionTagsValue=function(n){var t=c.empty,i=c.empty,r=nt.ArtifactDefaultVersionConstants.DefaultVersionType,u=nt.ArtifactDefaultVersionConstants.DefaultVersionTags,f=nt.ArtifactDefaultVersionConstants.LatestWithBranchAndTags;return this.hasDefinitionReferenceProperty(n.definitionReference,r)&&(t=n.definitionReference[r].id),!t||c.localeIgnoreCaseComparer(t,f)!==0||!n.definitionReference[u]||(i=n.definitionReference[u].name),i},n.getArtifactDefaultVersionSpecificValue=function(n){var t=c.empty,i=c.empty,r=nt.ArtifactDefaultVersionConstants.DefaultVersionType,u=nt.ArtifactDefaultVersionConstants.DefaultVersionSpecific,f=nt.ArtifactDefaultVersionConstants.SpecificVersion;return this.hasDefinitionReferenceProperty(n.definitionReference,r)&&(t=n.definitionReference[r].id),!t||c.localeIgnoreCaseComparer(t,f)!==0||!n.definitionReference[u]||(i=n.definitionReference[u].name),i},n.hasDefinitionReferenceProperty=function(n,t){return n&&n.hasOwnProperty(t)},n.getArtifactDisplayName=function(n,t){var r=c.empty,i=y.first(t,function(t){return c.localeIgnoreCaseComparer(t.name,n)===0});return i&&i.displayName!==c.empty?i.displayName:c.localeFormat(g.ArtifactExtensionNotAvailable,n)},n.getArtifactBowtieIcon=function(n){var t;switch(n){case nt.ArtifactTypes.Build:t="bowtie-build";break;case nt.ArtifactTypes.ExternalTfsBuildId:t="bowtie-external-build";break;case nt.ArtifactTypes.GitId:t="bowtie-brand-git";break;case nt.ArtifactTypes.GitHubId:t="bowtie-brand-github";break;case nt.ArtifactTypes.JenkinsId:t="bowtie-brand-jenkins";break;case nt.ArtifactTypes.NugetId:t="bowtie-brand-nuget";break;case nt.ArtifactTypes.PackageManagement:t="bowtie-package";break;case nt.ArtifactTypes.TfsOnPremArtifactId:t="bowtie-brand-vsts";break;case nt.ArtifactTypes.TfvcId:t="bowtie-brand-tfvc";break;default:t="bowtie-build"}return t},n._maxNumberOfArtifactsToDisplay=3,n}();t.ReleaseArtifactsHelper=yt;pt=function(){function n(){}return n.setCanApproveForCurrentUser=function(n,t){n.forEach(function(n){n.canApprove=!n.isAutomated&&n.status===it.ApprovalStatus.Pending&&c.localeIgnoreCaseComparer(u.getDefaultWebContext().user.id,n.approver.id)===0||ft.ArrayHelper.hasItems(t)&&!!y.first(t,function(t){return t.id===n.id})})},n.getApprovalsForSpecificAttempt=function(n,t){return ft.ArrayHelper.hasItems(n)?n.filter(function(n){return n.attempt===t}):[]},n.getApprovalStatusText=function(n){var t=c.empty;switch(n.status){case it.ApprovalStatus.Approved:t=c.localeIgnoreCaseComparer(n.approvedBy.id,n.approver.id)===0?ft.CurrentUser.isCurrentUser(n.approvedBy.id)?g.ApprovedByYou:c.localeFormat(g.ApprovedBy,n.approvedBy.displayName):ft.CurrentUser.isCurrentUser(n.approvedBy.id)?c.localeFormat(g.ApprovedByYouOnBehlafOf,n.approver.displayName):c.localeFormat(g.ApprovedByOnBehlafOf,n.approvedBy.displayName,n.approver.displayName);break;case it.ApprovalStatus.Rejected:t=c.localeIgnoreCaseComparer(n.approvedBy.id,n.approver.id)===0?ft.CurrentUser.isCurrentUser(n.approvedBy.id)?g.RejectedByYou:c.localeFormat(g.RejectedBy,n.approvedBy.displayName):ft.CurrentUser.isCurrentUser(n.approvedBy.id)?c.localeFormat(g.RejectedByYouOnBehalfOf,n.approver.displayName):c.localeFormat(g.RejectedByOnBehalfOf,n.approvedBy.displayName,n.approver.displayName);break;case it.ApprovalStatus.Reassigned:t=c.localeIgnoreCaseComparer(n.approvedBy.id,n.approver.id)===0?ft.CurrentUser.isCurrentUser(n.approvedBy.id)?g.ReassignedByYou:c.localeFormat(g.ReassignedBy,n.approvedBy.displayName):ft.CurrentUser.isCurrentUser(n.approvedBy.id)?c.localeFormat(g.ReassignedByYouOnBehalfOf,n.approver.displayName):c.localeFormat(g.ReassignedByOnBehalfOf,n.approvedBy.displayName,n.approver.displayName);break;case it.ApprovalStatus.Canceled:t=g.ApprovalStatusCanceled;break;case it.ApprovalStatus.Pending:t=ft.CurrentUser.isCurrentUser(n.approver.id)?g.PendingApprovalOnYouText:c.localeFormat(g.PendingApprovalOnText,n.approver.displayName);break;case it.ApprovalStatus.Undefined:t=ft.CurrentUser.isCurrentUser(n.approver.id)?g.ApprovalAssignedToYouText:c.localeFormat(g.ApprovalAssignedToText,n.approver.displayName);break;case it.ApprovalStatus.Skipped:t=c.localeFormat(g.SkippedFor,n.approver.displayName)}return t},n.getApprovalWithAttemptAndStatus=function(t,i,r){var u=n.getApprovalsForSpecificAttempt(t,i);return y.first(u,function(n){return n.status===r})},n.getApprovalSteps=function(n,t){var i=[],r=0;return!t||(r=t.requiredApproverCount!=null?t.requiredApproverCount:-1),ft.ArrayHelper.hasItems(n)&&(i=$.map(n,function(n,t){return{id:0,rank:r===-1?t+1:1,approver:n,isAutomated:!1,isNotificationOn:!1}})),i},n}();t.ApprovalsHelper=pt;wt=function(){function n(){}return n.isTaskSuccessful=function(n){switch(n){case it.TaskStatus.Succeeded:case it.TaskStatus.Skipped:case it.TaskStatus.PartiallySucceeded:return!0}return!1},n.getDefaultReleaseName=function(n){var t=null;return!n||(t=n.releaseNameFormat),ft.ValidateParameters.isNullOrEmpty(t)&&(t=this.defaultReleaseName),t},n.getEnvironmentsApprovalById=function(t,i,r){var u=null,f=y.first(t,function(n){return n.id===i});return!f||(u=n._getApprovalById(f.preDeployApprovals,r),u||(u=n._getApprovalById(f.postDeployApprovals,r))),u},n.haveApprovalsInReleaseChanged=function(t,i){var r=y.first(i.environments,function(i){var r=y.first(t.environments,function(n){return n.id===i.id});if(r)return n.areApprovalsModified(r.preDeployApprovals,i.preDeployApprovals)||n.areApprovalsModified(r.postDeployApprovals,i.postDeployApprovals)});return!!r},n.areApprovalsModified=function(n,t){var i=y.first(t,function(t){var i=y.first(n,function(n){return n.id===t.id});if(!t.isAutomated&&(!i||i.approver.id!==t.approver.id||i.status!==t.status))return!0});return!!i},n.updateNewApprovalsWithCurrentExistingRelease=function(t,i){i&&t&&i.environments.forEach(function(i){var r=y.first(t.environments,function(n){return n.id===i.id});r&&(n.updateNewApprovalsCanApproveWithCurrentApprovals(r.preDeployApprovals,i.preDeployApprovals),n.updateNewApprovalsCanApproveWithCurrentApprovals(r.postDeployApprovals,i.postDeployApprovals),i.setManageDeploymentPermission(r.getManageDeploymentPermission()))})},n.updateNewApprovalsCanApproveWithCurrentApprovals=function(n,t){t.forEach(function(t){var i=y.first(n,function(n){return n.id===t.id});i&&!i.isAutomated&&i.approver.id===t.approver.id&&i.canApprove&&(t.canApprove=i.canApprove)})},n.hasAnyEnvironmentUpdated=function(t,i){var r=!1;return!t||!t.environments||!i||!i.environments||!ft.ArrayHelper.hasItems(t.environments)||!ft.ArrayHelper.hasItems(i.environments)||t.environments.some(function(t){if(t.status===it.EnvironmentStatus.InProgress){var u=i.environments.filter(function(n){return n.id===t.id});if(ft.ArrayHelper.hasItems(u)&&(at.IsEnvironmentCompleted(u[0])||n.hasAnyDeploymentPhaseCompleted(t,u[0])))return r=!0,!0}}),r},n.hasAnyEnvironmentStatusUpdated=function(n,t){var i=!1;return!n||!n.environments||!t||!t.environments||!ft.ArrayHelper.hasItems(n.environments)||!ft.ArrayHelper.hasItems(t.environments)||n.environments.some(function(n){if(n.status===it.EnvironmentStatus.InProgress){var r=t.environments.filter(function(t){return t.id===n.id});if(ft.ArrayHelper.hasItems(r)&&at.IsEnvironmentCompleted(r[0]))return i=!0,!0}}),i},n.hasAnyDeploymentPhaseCompleted=function(t,i){var f=!1,r=n._getInprogressDeployStep(t),u;return!r||!r.releaseDeployPhases||(u=n._getDeployStepById(i,r.id),!u||!u.releaseDeployPhases||r.releaseDeployPhases.some(function(n){if(n.status===it.DeployPhaseStatus.InProgress){var t=u.releaseDeployPhases.filter(function(t){return t.id===n.id});if(ft.ArrayHelper.hasItems(t)&&at.IsDeploymentPhaseCompleted(t[0]))return f=!0,!0}})),f},n.getPendingPreDeployApprovalEnvironments=function(n){if(!n)return c.empty;var t=[];return n.environments.forEach(function(n){var i=!1;n.preDeployApprovals.forEach(function(r){r.status===it.ApprovalStatus.Pending&&(i||(t.push(n.name),i=!0))})}),t.join(", ")},n.getReleaseEnvironment=function(n,t){if(!!n){var i=n.environments.filter(function(n){return n.id===t});if(ft.ArrayHelper.hasItems(i))return i[0]}return undefined},n.createReleasePropertiesList=function(n){var t={};return t[ht.Properties.ReleaseCreationSource]=n,t},n._getApprovalById=function(n,t){return y.first(n,function(n){return n.id===t})},n._getDeployStepById=function(n,t){var r=undefined,i;return!n||!n.deploySteps||!ft.ArrayHelper.hasItems(n.deploySteps)||(i=n.deploySteps.filter(function(n){return n.id===t}),ft.ArrayHelper.hasItems(i)&&(r=i[0])),r},n._getInprogressDeployStep=function(n){var i=undefined,t;return!n||!n.deploySteps||!ft.ArrayHelper.hasItems(n.deploySteps)||(t=n.deploySteps.filter(function(n){return n.status===it.DeploymentStatus.InProgress}),ft.ArrayHelper.hasItems(t)&&(i=t[0])),i},n.defaultReleaseName="Release-$(rev:r)",n}();t.ReleaseHelper=wt;bt=function(){function n(){}return n.sortEnvironmentsByRank=function(n){return ft.ArrayHelper.hasItems(n)&&!!n[0].rank&&n.sort(function(n,t){return n.rank-t.rank}),n},n.createDefinition=function(n){var t={definitionId:0,templateId:n.template.id,queueId:vt.getQueueIdOfAgentBasedDeployPhases(n.template.environment.deployPhases)};!n.definition||$.extend(t,{buildDefinitionId:n.definition.id,buildDefinitionName:n.definition.name,enableCI:n.enableCI});!n.project||$.extend(t,{projectId:n.project.id,projectName:n.project.name});!n.connection||$.extend(t,{connectionId:n.connection.id,connectionName:n.connection.name});s.getHistoryService().addHistoryPoint(nt.DefinitionDesignerActions.environmentsEditorAction,t)},n.defaultEnvironmentRetentionPolicy={daysToKeep:nt.ReleaseDefinitionConstants.DefaultDaysToKeep,releasesToKeep:nt.ReleaseDefinitionConstants.DefaultReleasesToKeep,retainBuild:nt.ReleaseDefinitionConstants.DefaultRetainBuild},n}();t.EnvironmentDefinitionHelper=bt;lt=function(){function n(){}return n.getEnvironmentConditionText=function(n){var t="";if(ft.ArrayHelper.hasItems(n.conditions))switch(n.conditions[0].conditionType){case it.ConditionType.EnvironmentState:t=c.localeFormat(g.AfterSuccessfulDeploymentTriggerText,n.conditions[0].name);break;case it.ConditionType.Event:t=g.EnvironmentDeploymentConditionsOnReleaseCreationlText}else t=g.ReleaseReasonManual;return t},n.getMaxAttemptNumber=function(n,t){t===void 0&&(t=[]);var i=1,r=this.getMaxAttemptNumberFromDeploySteps(t);return ft.ArrayHelper.hasItems(n)&&n.forEach(function(n){n.attempt&&i<n.attempt&&(i=n.attempt)}),r>i?r:i},n.getLatestDeploymentAttempt=function(n){if(ft.ArrayHelper.hasItems(n)){var t=0,i=null;return n.forEach(function(n){n.attempt&&t<n.attempt&&(t=n.attempt,i=n)}),i}return null},n.getDeploymentForAttempt=function(n,t){return ft.ArrayHelper.hasItems(n)?y.first(n,function(n){return n.attempt===t}):null},n.getMaxAttemptNumberFromDeploySteps=function(n){var t=this.getLatestDeploymentAttempt(n);return!t?1:t.attempt},n.getJobsForSpecificAttempt=function(t,i){if(!!t&&ft.ArrayHelper.hasItems(t.deploySteps)){var r=t.deploySteps.filter(function(n){return n.attempt===i})[0];if(!!r)return n.getJobsForDeployStep(r)}return[]},n.getJobsForDeployStep=function(n){var t=[];return!n||!n.releaseDeployPhases||n.releaseDeployPhases.forEach(function(n){return n.deploymentJobs.forEach(function(n){return t.push(n.job)})}),t},n.getDeployPhasesForSpecificAttempt=function(n,t){if(!!n&&ft.ArrayHelper.hasItems(n.deploySteps)){var i=y.first(n.deploySteps,function(n){return n.attempt===t});if(!!i)return i.releaseDeployPhases}return[]},n.getReleaseGatesForSpecificAttempt=function(n,t,i){if(n&&ft.ArrayHelper.hasItems(n.deploySteps)){var r=y.first(n.deploySteps,function(n){return n.attempt===i});if(r)return t===nt.ApprovalType.PreGates?r.preDeploymentGates:r.postDeploymentGates}return null},n.getLatestRunningGateDeploymentJob=function(t){var i,r;return t&&ft.ArrayHelper.hasItems(t.deploymentJobs)&&(r=n.sortGatesBasedOnRank(t),r.deploymentJobs.forEach(function(n){n.job&&n.job.timelineRecordId&&!i&&(i=n)})),i},n.sortGatesBasedOnRank=function(n){if(n&&ft.ArrayHelper.hasItems(n.deploymentJobs)){var t=n.deploymentJobs.sort(function(n,t){return t.job.rank-n.job.rank});n.deploymentJobs=t}return n},n.getJobsForDeploymentGates=function(n){var t=[];return n&&ft.ArrayHelper.hasItems(n.deploymentJobs)&&n.deploymentJobs.forEach(function(n){t.push(n.job)}),t},n.getJobsForDeploymentPhase=function(n){var t=[];return!!n&&ft.ArrayHelper.hasItems(n.deploymentJobs)&&n.deploymentJobs.forEach(function(n){t.push(n.job)}),t},n.getDeployJobsForDeploymentPhase=function(n){return!!n&&ft.ArrayHelper.hasItems(n.deploymentJobs)?n.deploymentJobs:[]},n.getDeployJobsForDeployStep=function(t){var i=[];return!!t&&ft.ArrayHelper.hasItems(t.releaseDeployPhases)&&t.releaseDeployPhases.forEach(function(t){var r=n.getDeployJobsForDeploymentPhase(t);r.forEach(function(n){return i.push(n)})}),i},n.getTasksForAttempt=function(t,i){var r=[],u;return!!t&&ft.ArrayHelper.hasItems(t.deploySteps)&&(u=y.first(t.deploySteps,function(n){return!i||n.attempt===i}),r.push.apply(r,n._getTasksForDeployStep(u))),r},n.getDeployStepForAttempt=function(n,t){return!!n&&ft.ArrayHelper.hasItems(n.deploySteps)?y.first(n.deploySteps,function(n){return!t||n.attempt===t}):null},n._getTasksForDeployStep=function(n){var t=[];return!n||!n.releaseDeployPhases||n.releaseDeployPhases.forEach(function(n){return n.deploymentJobs.forEach(function(n){return t.push.apply(t,n.tasks)})}),t},n.getTasksForAllDeployAttempts=function(t){var i=[];return!t||t.deploySteps.forEach(function(t){return i.push.apply(i,n._getTasksForDeployStep(t))}),i},n.getSortedApprovalsForAllAttempts=function(t,i){var r=[];return ft.ArrayHelper.hasItems(t)&&(r=n.filterAndSortListForAllAttempts(t,i,function(n){return n.attempt},function(n,t){return ft.DateHelper.getDateValue(n.createdOn)-ft.DateHelper.getDateValue(t.createdOn)})),r},n.getManualInterventionsForEnvironment=function(t){var f=[],i,r,u;return t.status===it.EnvironmentStatus.InProgress&&(i=n.getLatestDeploymentAttempt(t.deploySteps),!i||(r=y.first(i.releaseDeployPhases,function(n){return n.status===it.DeployPhaseStatus.InProgress}),!r||(u=y.first(r.manualInterventions,function(n){return n.status===it.ManualInterventionStatus.Pending}),!u||f.push(u)))),f},n.filterAndSortListForSpecificAttempt=function(n,t,i,r){var f=[],u;return ft.ArrayHelper.hasItems(n)&&(u=n.filter(function(n){return i(n)===t}),ft.ArrayHelper.hasItems(u)&&(f=u.sort(function(n,t){return r(n,t)}))),f},n.filterAndSortListForAllAttempts=function(t,i,r,u){var o=[],f,e;if(ft.ArrayHelper.hasItems(t))for(f=1;f<=i;f++)e=n.filterAndSortListForSpecificAttempt(t,f,r,u),ft.ArrayHelper.hasItems(e)&&y.addRange(o,e);return o},n.getApprovalIcon=function(n,t,i){var r,u;return n&&n.hasPendingApproval(t,i)?n.hasPendingApprovalByCurrentUser(t,i)?ct.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]:ct.StatusToStyleMap[nt.ApprovalIconType.PendingApproval]:(r=[],n&&(u=t===nt.ApprovalType.PreApproval?n.preDeployApprovals:n.postDeployApprovals,r=i?u.filter(function(n){return n.attempt===i}):u),ft.ArrayHelper.hasItems(r)?ct.StatusToStyleMap[nt.ApprovalIconType.ViewApproval]:ct.StatusToStyleMap[nt.ApprovalIconType.FaddedApproval])},n.getManualApprovalIcon=function(n,t){return!n||n.status!==it.ManualInterventionStatus.Pending?ct.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]:t?ct.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]:ct.StatusToStyleMap[nt.ApprovalIconType.PendingApproval]},n.getNonAutomtedDefinitionApprovals=function(n){return ft.ArrayHelper.hasItems(n)?n.filter(function(n){return!n.isAutomated}):[]},n.getNonAutomtedApprovals=function(n){return ft.ArrayHelper.hasItems(n)?n.filter(function(n){return!n.isAutomated}):[]},n.getStartTime=function(n,t){var i=n.preDeployApprovals.filter(function(n){return n.attempt===t});if(i&&i.length>0)return i[0].createdOn},n._getTasksForDeployPhase=function(n){var t=[];return!n||n.deploymentJobs.forEach(function(n){return t.push.apply(t,n.tasks)}),t},n.getCompletionTime=function(n,t){switch(n.status){case it.EnvironmentStatus.Succeeded:case it.EnvironmentStatus.Rejected:case it.EnvironmentStatus.Canceled:case it.EnvironmentStatus.PartiallySucceeded:return this._getEndTimeForStateChange(n,t)}return null},n._getEndTimeForStateChange=function(t,i){var r,f,u,o,s,e;return ft.ArrayHelper.hasItems(t.postDeployApprovals)&&(f=t.postDeployApprovals.filter(function(n){return n.attempt===i}),ft.ArrayHelper.hasItems(f))?(r=f.map(function(n){return n.modifiedOn}),new Date(Math.max.apply(null,r))):ft.ArrayHelper.hasItems(t.deploySteps)&&(u=n.getTasksForAttempt(t,i),ft.ArrayHelper.hasItems(u))?t.status===it.EnvironmentStatus.Canceled&&(o=u.filter(function(n){return n.status===it.TaskStatus.InProgress}),ft.ArrayHelper.hasItems(o))?(s=n.getDeployStepForAttempt(t,i),s.lastModifiedOn):(r=u.filter(function(n){return n.finishTime?!0:!1}).map(function(n){return n.finishTime}),new Date(Math.max.apply(null,r))):ft.ArrayHelper.hasItems(t.preDeployApprovals)&&(e=t.preDeployApprovals.filter(function(n){return n.attempt===i}),ft.ArrayHelper.hasItems(e))?(r=e.map(function(n){return n.modifiedOn}),new Date(Math.max.apply(null,r))):void 0},n.getStatusToolTipText=function(t,i,r){var f=n.getMaxAttemptNumberFromDeploySteps(t.deploySteps),e,u;switch(i){case nt.ComputedReleaseEnvironmentStatus.Deferred:return e=ft.DateHelper.getDateTimeInLocaleFormat(t.scheduledDeploymentTime),c.localeFormat(g.DeferredDeploymentStatusToolTipFormat,e);case nt.ComputedReleaseEnvironmentStatus.Pending:if(r)return g.ApprovalPendingForDeletedReleaseTooltipText;if(t.hasPendingApproval(nt.ApprovalType.PostApproval,f))return g.PendingPostDeploymentApproval;if(t.hasManualIntervention())return g.PendingManualIntervention;case nt.ComputedReleaseEnvironmentStatus.PreApprovalPending:return t.hasPendingApproval(nt.ApprovalType.PreApproval,f)&&!r?g.PendingPreDeploymentApproval:g.ApprovalPendingForDeletedReleaseTooltipText;case nt.ComputedReleaseEnvironmentStatus.Queued:return g.QueueForDeploymentTooltipText;case nt.ComputedReleaseEnvironmentStatus.QueuedForAgent:return g.QueueForAgentTooltipText;case nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline:return g.QueueForPipelineTooltipText;case nt.ComputedReleaseEnvironmentStatus.InProgress:return g.DeploymentInProgressTooltipText;case nt.ComputedReleaseEnvironmentStatus.Rejected:return g.DeploymentPostApprovalRejectedTooltipText;case nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected:return g.DeploymentPreApprovalRejectedTooltipText;case nt.ComputedReleaseEnvironmentStatus.Scheduled:return u=ft.DateHelper.getDateTimeInLocaleFormat(t.nextScheduledUtcTime),r?c.localeFormat(g.ScheduleForDeploymentForDeletedReleaseTooltipText,u):c.localeFormat(g.ScheduleForDeploymentTooltipText,u);case nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded:return g.DeploymentPartiallySucceededTooltipText}return n.getStatusTextNew(i)},n.getStatusTextNew=function(n){switch(n){case nt.ComputedReleaseEnvironmentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case nt.ComputedReleaseEnvironmentStatus.Pending:case nt.ComputedReleaseEnvironmentStatus.PreApprovalPending:return g.SummaryEnvironmentStatusPending;case nt.ComputedReleaseEnvironmentStatus.NotStarted:return g.SummaryEnvironmentStatusNotDeployed;case nt.ComputedReleaseEnvironmentStatus.Queued:case nt.ComputedReleaseEnvironmentStatus.QueuedForAgent:case nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline:return g.SummaryEnvironmentStatusQueued;case nt.ComputedReleaseEnvironmentStatus.Rejected:case nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected:return g.SummaryEnvironmentStatusRejected;case nt.ComputedReleaseEnvironmentStatus.InProgress:return g.SummaryEnvironmentStatusInprogressNew;case nt.ComputedReleaseEnvironmentStatus.Deferred:return g.SummaryEnvironmentStatusDeferred;case nt.ComputedReleaseEnvironmentStatus.Canceled:return g.SummaryEnvironmentStatusCancelled;case nt.ComputedReleaseEnvironmentStatus.Failed:return g.SummaryEnvironmentStatusFailed;case nt.ComputedReleaseEnvironmentStatus.Scheduled:return g.SummaryEnvironmentStatusScheduled;case nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded;case nt.ComputedReleaseEnvironmentStatus.Cancelling:return g.SummaryEnvironmentStatusCancelling;case nt.ComputedReleaseEnvironmentStatus.GatesInProgress:return g.SummaryGatesStatusInProgress;case nt.ComputedReleaseEnvironmentStatus.GatesFailed:return g.SummaryGatesStatusFailed;case nt.ComputedReleaseEnvironmentStatus.GatesStabilizing:return g.SummaryGatesStatusStabilizing}},n.getStatusTextFromDeployment=function(n,t){if(!n)return g.SummaryEnvironmentStatusNotDeployed;switch(n.status){case it.DeploymentStatus.Undefined:case it.DeploymentStatus.NotDeployed:if(t)switch(n.operationStatus){case it.DeploymentOperationStatus.Canceled:return g.SummaryEnvironmentStatusCancelled;case it.DeploymentOperationStatus.Rejected:return g.SummaryEnvironmentStatusRejected;default:return g.SummaryEnvironmentStatusNotDeployed}else return g.SummaryEnvironmentStatusNotDeployed;case it.DeploymentStatus.InProgress:return g.SummaryEnvironmentStatusInprogressNew;case it.DeploymentStatus.Failed:return g.SummaryEnvironmentStatusFailed;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case it.DeploymentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded}},n.hasDeploymentAttemptQueued=function(n){return!!n&&(n.operationStatus===it.DeploymentOperationStatus.Queued||n.operationStatus===it.DeploymentOperationStatus.QueuedForAgent||n.operationStatus===it.DeploymentOperationStatus.QueuedForPipeline)},n.getMissingAttempts=function(n,t){var i=[],r=t.map(function(n){return n.attempt});return n.forEach(function(n){y.arrayContains(n.attempt,r,function(n,t){return n===t})||i.push(n)}),i},n}();t.ReleaseEnvironmentHelper=lt;kt=function(){function n(){}return n.getDeploymentTriggerText=function(n){if(n.reason===it.DeploymentReason.Manual)return n.requestedBy?c.localeFormat(g.ManualDeploymentTriggerText,n.requestedBy.displayName):g.DeploymentTriggerManual;if(n.reason===it.DeploymentReason.Automated&&ft.ArrayHelper.hasItems(n.conditions)){if(n.conditions[0].conditionType===it.ConditionType.Event)return c.localeFormat("{0} - {1}",g.DeploymentTriggerAutomated,g.AfterReleaseCreationText);if(n.conditions[0].conditionType===it.ConditionType.EnvironmentState){var t=c.localeFormat(g.AfterSuccessfulDeploymentToText,n.conditions[0].name);return c.localeFormat("{0} - {1}",g.DeploymentTriggerAutomated,t)}}return""},n.getDeploymentStatusIcon=function(n){switch(n){case it.DeploymentStatus.InProgress:return"bowtie-icon env-sum-bowtie-icon-run bowtie-status-run rm-bowtie-status-run progress";case it.DeploymentStatus.Succeeded:return"bowtie-icon bowtie-status-success passed";case it.DeploymentStatus.PartiallySucceeded:return"bowtie-icon bowtie-status-error passed";case it.DeploymentStatus.Failed:return"bowtie-icon bowtie-status-failure failed";default:return""}},n.getStatusToolTipText=function(n){var t=n.deploymentStatus,i=n.operationStatus;return this.getDeploymentStatusToolTipText(t,i,n.scheduledDeploymentTime,n.scheduledDeploymentTime,n.lastModifiedBy)},n.getDeploymentStatusToolTipText=function(t,i,r,u,f,e){e===void 0&&(e=nt.GatesInProgressSubStatus.Evaluating);switch(t){case it.DeploymentStatus.NotDeployed:switch(i){case it.DeploymentOperationStatus.Deferred:var o=ft.DateHelper.getDateTimeInLocaleFormat(r);return c.localeFormat(g.DeferredDeploymentStatusToolTipFormat,o);case it.DeploymentOperationStatus.Pending:return g.PendingPreDeploymentApproval;case it.DeploymentOperationStatus.Rejected:return f?c.localeFormat(g.SummaryEnvironmentStatusRejectedBy,f.displayName):g.SummaryEnvironmentStatusRejected;case it.DeploymentOperationStatus.Approved:return g.ApprovalStatusApproved;case it.DeploymentOperationStatus.Queued:return g.QueueForDeploymentTooltipText;case it.DeploymentOperationStatus.QueuedForAgent:return g.QueueForAgentTooltipText;case it.DeploymentOperationStatus.QueuedForPipeline:return g.QueueForPipelineTooltipText;case it.DeploymentOperationStatus.PhaseCanceled:case it.DeploymentOperationStatus.PhaseFailed:case it.DeploymentOperationStatus.Canceled:return f?c.localeFormat(g.SummaryEnvironmentStatusCancelledBy,f.displayName):g.SummaryEnvironmentStatusCancelled;case it.DeploymentOperationStatus.Scheduled:return c.localeFormat(g.ScheduleForDeploymentTooltipText,u);case it.DeploymentOperationStatus.Cancelling:return g.SummaryEnvironmentStatusCancelling;case it.DeploymentOperationStatus.EvaluatingGates:return n._getDeploymentGatesStatusText(e);case it.DeploymentOperationStatus.GateFailed:return g.SummaryGatesStatusFailed}case it.DeploymentStatus.InProgress:return i===it.DeploymentOperationStatus.Pending?g.PendingPostDeploymentApproval:i===it.DeploymentOperationStatus.Cancelling?g.SummaryEnvironmentStatusCancelling:i===it.DeploymentOperationStatus.EvaluatingGates?n._getDeploymentGatesStatusText(e):g.DeploymentInProgressTooltipText;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case it.DeploymentStatus.PartiallySucceeded:return g.DeploymentPartiallySucceededTooltipText;case it.DeploymentStatus.Failed:switch(i){case it.DeploymentOperationStatus.PhaseCanceled:case it.DeploymentOperationStatus.Canceled:return f?c.localeFormat(g.SummaryEnvironmentStatusCancelledBy,f.displayName):g.SummaryEnvironmentStatusCancelled;case it.DeploymentOperationStatus.PhaseFailed:return g.SummaryEnvironmentStatusFailed;case it.DeploymentOperationStatus.GateFailed:return g.SummaryGatesStatusFailed;case it.DeploymentOperationStatus.Rejected:return f?c.localeFormat(g.SummaryEnvironmentStatusRejectedBy,f.displayName):g.SummaryEnvironmentStatusRejected;default:return g.SummaryEnvironmentStatusFailed}default:return g.ReleaseStatusUndefined}},n.getStatusText=function(n){var t=n.operationStatus,r=n.deploymentStatus,i;switch(r){case it.DeploymentStatus.NotDeployed:switch(t){case it.DeploymentOperationStatus.Rejected:return g.NotDeployedRejected.toLocaleLowerCase();case it.DeploymentOperationStatus.PhaseCanceled:case it.DeploymentOperationStatus.Canceled:return n.lastModifiedBy?c.localeFormat(g.NotDeployedCancelledText,n.lastModifiedBy.displayName):g.SummaryEnvironmentStatusNotDeployed.toLocaleLowerCase();default:return g.SummaryEnvironmentStatusNotDeployed.toLocaleLowerCase()}case it.DeploymentStatus.InProgress:return(i=g.SummaryEnvironmentStatusInprogressNew.toLocaleLowerCase(),it.DeploymentOperationStatus.Cancelling===t)?c.localeFormat("{0} ({1})",i,g.SummaryEnvironmentStatusCancelling.toLocaleLowerCase()):i;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded.toLocaleLowerCase();case it.DeploymentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded.toLocaleLowerCase();case it.DeploymentStatus.Failed:switch(t){case it.DeploymentOperationStatus.PhaseCanceled:return g.SummaryEnvironmentStatusCancelled.toLocaleLowerCase();case it.DeploymentOperationStatus.PhaseFailed:return g.SummaryEnvironmentStatusFailed.toLocaleLowerCase();case it.DeploymentOperationStatus.Rejected:return g.FailedRejectedText.toLocaleLowerCase();case it.DeploymentOperationStatus.Canceled:return n.lastModifiedBy?c.localeFormat(g.FailedCancelledText,n.lastModifiedBy.displayName):g.SummaryEnvironmentStatusFailed.toLocaleLowerCase();default:return g.SummaryEnvironmentStatusFailed.toLocaleLowerCase()}default:return g.ReleaseStatusUndefined.toLocaleLowerCase()}},n.getTitleStatusText=function(n){var t=n.deploymentStatus;switch(t){case it.DeploymentStatus.NotDeployed:return g.SummaryEnvironmentStatusNotDeployed;case it.DeploymentStatus.InProgress:return g.SummaryEnvironmentStatusInprogressNew;case it.DeploymentStatus.Succeeded:return g.SummaryEnvironmentStatusSucceeded;case it.DeploymentStatus.PartiallySucceeded:return g.SummaryEnvironmentStatusPartiallySucceeded;case it.DeploymentStatus.Failed:return g.SummaryEnvironmentStatusFailed;default:return g.ReleaseStatusUndefined}},n._initializeStylesMap=function(){n.stateToBackgroundColorMap||(n.stateToBackgroundColorMap={},n.stateToBackgroundColorMap[it.DeploymentStatus.Undefined]="not-started",n.stateToBackgroundColorMap[it.DeploymentStatus.NotDeployed]="not-started",n.stateToBackgroundColorMap[it.DeploymentStatus.InProgress]="progress",n.stateToBackgroundColorMap[it.DeploymentStatus.Succeeded]="passed",n.stateToBackgroundColorMap[it.DeploymentStatus.Failed]="failed",n.stateToBackgroundColorMap[it.DeploymentStatus.PartiallySucceeded]="partially-succeeded")},n._getDeploymentGatesStatusText=function(n){return n===nt.GatesInProgressSubStatus.Stabilizing?g.SummaryGatesStatusStabilizing:g.SummaryGatesStatusInProgress},n._toInitMaps=n._initializeStylesMap(),n}();t.DeploymentHelper=kt;dt=function(){function n(){}return n._applyDateFilter=function(n,t){var i=new Date;return t===0?i.setHours(0,0,0,0):i.setDate(i.getDate()-t),n.filter(function(n){return n.createdOn>i})},n}();t.FilterHelper=dt;gt=function(){function n(){}return n.getEnvironmentSummaryUrl=function(n,t){var i=rt.TfsContext.getDefault();return ft.UrlHelper.getUrlForExtension(nt.ExtensionArea.ReleaseExplorer,nt.EnvironmentSummaryAction.environmentSummaryAction,{definitionId:n,definitionEnvironmentId:t})},n}();t.EnvironmentSummaryActions=gt;ni=function(){function n(){}return n.editReleaseDefinition=function(n){var t=!!n&&n>0?n:0,r=rt.TfsContext.getDefault(),i=ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,nt.DefinitionDesignerActions.environmentsEditorAction,{definitionId:t});o.getService().performAction(o.CommonActions.ACTION_WINDOW_NAVIGATE,{url:i})},n.getEditReleaseDefinitionUrl=function(n){var t=!!n&&n>0?n:0;return ft.UrlHelper.getUrlForExtension(nt.ExtensionArea.ReleaseCDExplorer,nt.DefinitionDesignerActions.environmentsEditorPreviewAction,{definitionId:t})},n.getReleaseDefinitionReleasesUrl=function(n){var t=!!n&&n>0?n:0,i=rt.TfsContext.getDefault();return ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,nt.ReleasesViewActions.RELEASES,{definitionId:t})},n.getCommitUrl=function(n,t,i){var r=u.getDefaultWebContext().account.uri,f=ft.TfsActionUrlProvider.getCollectionId();return c.format("{0}_permalink/_git/{1}/commit/{2}?collectionId={3}&projectId={4}",r,t,i,f,n)},n.getRepositoryUrl=function(n,t){var i=u.getDefaultWebContext().account.uri,r=ft.TfsActionUrlProvider.getCollectionId();return c.format("{0}_permalink/_git/{1}?collectionId={2}&projectId={3}",i,n,r,t)},n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ReleaseDefinitionAction.Edit]=g.ReleaseDefinitionEditText,n.DisplayTextMap[nt.ReleaseDefinitionAction.DeleteReleaseDefinition]=g.DeleteText,n.DisplayTextMap[nt.ReleaseDefinitionAction.CreateRelease]=g.Release,n.DisplayTextMap[nt.ReleaseDefinitionAction.CreateDraftRelease]=g.CreateDraftReleaseText,n.DisplayTextMap[nt.ReleaseDefinitionAction.CloneReleaseDefinition]=g.CloneDefinitionText,n.DisplayTextMap[nt.ReleaseDefinitionAction.ExportReleaseDefinition]=g.ExportDefinitionText),n.DisplayTooltipMap||(n.DisplayTooltipMap={},n.DisplayTooltipMap[nt.ReleaseDefinitionAction.Edit]=g.ReleaseDefinitionActionEditTooltip,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.DeleteReleaseDefinition]=g.DeleteReleaseDefinitionTooltip,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.CreateRelease]=g.CreateReleaseButtonText,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.CreateDraftRelease]=g.CreateDraftReleaseText,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.CloneReleaseDefinition]=g.CloneDefinitionText,n.DisplayTooltipMap[nt.ReleaseDefinitionAction.ExportReleaseDefinition]=g.ExportDefinitionText),n.ContextMenuRankMap||(n.ContextMenuRankMap={},n.ContextMenuRankMap[nt.ReleaseDefinitionAction.CreateRelease]=10,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.CreateDraftRelease]=20,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.Edit]=30,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.DeleteReleaseDefinition]=40,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.CloneReleaseDefinition]=50,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.ExportReleaseDefinition]=60,n.ContextMenuRankMap[nt.ReleaseDefinitionAction.EditPreviewInCDWorkflow]=70),null},n._toInit=n._initialize(),n}();t.ReleaseDefinitionActions=ni;ti=function(){function n(){}return n.getVersions=function(n,t){if(!!n&&ft.ArrayHelper.hasItems(n.artifactVersions)){var i=y.first(n.artifactVersions,function(n){return c.ignoreCaseComparer(n.alias,t)===0});if(!!i)return i.versions}return[]},n.getDefaultVersions=function(n,t){if(!!n&&ft.ArrayHelper.hasItems(n.artifactVersions)){var i=y.first(n.artifactVersions,function(n){return c.ignoreCaseComparer(n.alias,t)===0});if(!!i)return i.defaultVersion}return null},n.isDefaultVersionValid=function(n,t){var i=!1,r;return!!n&&ft.ArrayHelper.hasItems(n)&&(r=y.first(n,function(n){return c.localeIgnoreCaseComparer(t.name,n.name)===0}),!r||(i=!0)),i},n}();t.ArtifactsVersionQueryHelper=ti;ii=function(){function n(){}return n.isSupportedArtifactType=function(n){switch(n.toLocaleLowerCase()){case nt.ArtifactTypes.Build.toLocaleLowerCase():case nt.ArtifactTypes.JenkinsId.toLocaleLowerCase():return!0}return!1},n.getArtifactIconCssClass=function(n){switch(n.toLocaleLowerCase()){case nt.ArtifactTypes.Build.toLocaleLowerCase():return"bowtie-icon bowtie-build";case nt.ArtifactTypes.JenkinsId.toLocaleLowerCase():return"icon bowtie-icon icon-jenkins-logo override"}return c.empty},n.getArtifactTooltip=function(n){switch(n.toLocaleLowerCase()){case nt.ArtifactTypes.Build.toLocaleLowerCase():return g.BuildArtifactOptionTooltipText;case nt.ArtifactTypes.JenkinsId.toLocaleLowerCase():return g.JenkinsArtifactOptionTooltipText}return c.empty},n.isArtifactVersionLinkAvailable=function(n){switch(n){case nt.ArtifactTypes.Build:case nt.ArtifactTypes.GitId:case nt.ArtifactTypes.TfvcId:return!0}return!1},n.getSanitizedAliasName=function(n){return c.startsWith(n,nt.StringConstants.TfvcRootId)&&(n=n.substring(nt.StringConstants.TfvcRootId.length)),n=n.replace("/","_"),n=n.replace(/[\\/:*?"<>|]/g,""),"_".concat(n)},n}();t.ArtifactHelper=ii;ri=function(){function n(){}return n.AddArtifactsAction=function(){},n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ArtifactSourceAction.AddArtifact]=g.ArtifactsAdd),n.DisplayTooltipMap||(n.DisplayTooltipMap={},n.DisplayTooltipMap[nt.ArtifactSourceAction.AddArtifact]=g.ArtifactsAddToolTipText),n.ContextMenuRankMap||(n.ContextMenuRankMap={},n.ContextMenuRankMap[nt.ArtifactSourceAction.AddArtifact]=10),null},n._toInit=n._initialize(),n}();t.ArtifactSourceActions=ri;ui=function(){function n(){}return n.releaseId=-1,n.defer=null,n}();t.ReleaseTelemetry=ui;fi=function(){function n(){}return n.getReleaseUrl=function(n,t,i){return t===void 0&&(t=0),i===void 0&&(i=nt.ReleaseEditorAction.summaryAction),ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,i,{releaseId:n,definitionId:t})},n.getEditorTabCompleteUrl=function(n,t){var i=rt.TfsContext.getDefault();return ft.UrlHelper.getUrlForExtension(nt.ExtensionArea.ReleaseExplorer,t,{releaseId:n})},n.getReleaseDefinitionUrl=function(n,t){return t===void 0&&(t=nt.DefinitionDesignerActions.environmentsEditorAction),ft.UrlHelper.getExtensionActionUrl(nt.ExtensionArea.ReleaseExplorer,t,{definitionId:n})},n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ReleaseAction.Start]=g.ReleaseActionStart,n.DisplayTextMap[nt.ReleaseAction.Stop]=g.ReleaseActionStop,n.DisplayTextMap[nt.ReleaseAction.Restart]=g.ReleaseActionRestart,n.DisplayTextMap[nt.ReleaseAction.Resume]=g.ReleaseActionResume,n.DisplayTextMap[nt.ReleaseAction.Retry]=g.ReleaseActionRetry,n.DisplayTextMap[nt.ReleaseAction.Abandon]=g.ReleaseActionAbandon,n.DisplayTextMap[nt.ReleaseAction.Cancel]=g.ReleaseActionCancel,n.DisplayTextMap[nt.ReleaseAction.OpenRelease]=g.ReleaseActionOpenRelease,n.DisplayTextMap[nt.ReleaseAction.OpenInNewTab]=g.ReleaseActionOpenReleaseInNewTab,n.DisplayTextMap[nt.ReleaseAction.Create]=g.CreateRelease,n.DisplayTextMap[nt.ReleaseAction.CreateDraft]=g.CreateDraftReleaseText,n.DisplayTextMap[nt.ReleaseAction.Delete]=g.DeleteText,n.DisplayTextMap[nt.ReleaseAction.RetainIndefinately]=g.RetainIndefinitelyText,n.DisplayTextMap[nt.ReleaseAction.StopRetainingIndefinately]=g.StopRetainingIndefinitelyText,n.DisplayTextMap[nt.ReleaseAction.Undelete]=g.UndeleteText),n.DisplayTooltipMap||(n.DisplayTooltipMap={},n.DisplayTooltipMap[nt.ReleaseAction.Start]=g.ReleaseActionStartTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Stop]=g.ReleaseActionStopTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Restart]=g.ReleaseActionRestartTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Resume]=g.ReleaseActionResumeTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Retry]=g.ReleaseActionRetryTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Abandon]=g.ReleaseActionAbandonTooltip,n.DisplayTooltipMap[nt.ReleaseAction.Cancel]=g.ReleaseActionCancelTooltip,n.DisplayTooltipMap[nt.ReleaseAction.OpenRelease]=g.ReleaseActionOpenRelease,n.DisplayTooltipMap[nt.ReleaseAction.OpenInNewTab]=g.ReleaseActionOpenReleaseInNewTab,n.DisplayTooltipMap[nt.ReleaseAction.Create]=g.CreateNewReleaseToolTip,n.DisplayTooltipMap[nt.ReleaseAction.CreateDraft]=g.CreateDraftReleaseText,n.DisplayTooltipMap[nt.ReleaseAction.Delete]=g.DeleteReleaseToolTip,n.DisplayTooltipMap[nt.ReleaseAction.RetainIndefinately]=g.RetainIndefinitelyToolTip,n.DisplayTooltipMap[nt.ReleaseAction.StopRetainingIndefinately]=g.StopRetainingIndefinitelyToolTip,n.DisplayTooltipMap[nt.ReleaseAction.Undelete]=g.UndeleteReleaseToolTip),n.ContextMenuRankMap||(n.ContextMenuRankMap={},n.ContextMenuRankMap[nt.ReleaseAction.OpenRelease]=5,n.ContextMenuRankMap[nt.ReleaseAction.OpenInNewTab]=7,n.ContextMenuRankMap[nt.ReleaseAction.Start]=10,n.ContextMenuRankMap[nt.ReleaseAction.Stop]=20,n.ContextMenuRankMap[nt.ReleaseAction.Cancel]=30,n.ContextMenuRankMap[nt.ReleaseAction.Retry]=40,n.ContextMenuRankMap[nt.ReleaseAction.Resume]=50,n.ContextMenuRankMap[nt.ReleaseAction.RetainIndefinately]=55,n.ContextMenuRankMap[nt.ReleaseAction.StopRetainingIndefinately]=55,n.ContextMenuRankMap[nt.ReleaseAction.Abandon]=60,n.ContextMenuRankMap[nt.ReleaseAction.Restart]=70),null},n._toInit=n._initialize(),n}();t.ReleaseActions=fi;ei=function(){function n(){}return n.getTasks=function(t){var i=[];return t&&(i=$.map(t,function(t,i){return n._getTask(t,i)})),i},n._getTask=function(n,t){return{displayName:n.name,enabled:n.enabled,timeoutInMinutes:n.timeoutInMinutes,inputs:n.inputs,task:{id:n.taskId,versionSpec:n.version,definitionType:n.definitionType},order:t,alwaysRun:n.alwaysRun,continueOnError:n.continueOnError,condition:n.condition,overrideInputs:n.overrideInputs,environment:n.environment,refName:n.refName}},n}();t.WorkFlowHelper=ei;oi=function(){function n(n){this._disposalManager=new h.DisposalManager;this._changeCompute=n;this._changeCompute.dirty=this._disposalManager.addDisposable(i.computed(function(){return n.computeDirty()},n))}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.addDisposable=function(n){return this._disposalManager.addDisposable(n)},n}();t.ChangeTracker=oi;si=function(){function n(){}return n.RELEASE_EDITOR_OPEN_RELEASE="release-editor-open-release",n.RELEASE_EDITOR_START_RELEASE="release-editor-start-release",n.RELEASE_EDITOR_ABANDON_RELEASE="release-editor-abandon-release",n.RELEASE_EDITOR_SAVE_RELEASE="release-editor-save-release",n.RELEASE_EDITOR_DELETE_DRAFT_RELEASE="release-editor-delete-draft-release",n.RELEASE_EDITOR_REFRESH_RELEASE="release-editor-refresh-release",n.RELEASE_EDITOR_DEPLOY_TO_ENVIRONMENT="release-editor-deploy-to-environment",n.RELEASE_EDITOR_LOGS_TAB_EXPAND_ALL_NODES="release-editor-logs-tab-expand-all-nodes",n.RELEASE_EDITOR_LOGS_TAB_COLLAPSE_ALL_NODES="release-editor-logs-tab-collapse-all-nodes",n.RELEASE_EDITOR_NEW_RELEASE_PROGRESS_VIEW="release-editor-new-release-progress-view",n.EXPLORER_VIEW_REFRESH_RELEASES="explorer-view-refresh-releases",n.EXPLORER_VIEW_OPEN_RELEASE="explorer-view-open-release",n.EXPLORER_VIEW_OPEN_RELEASE_IN_NEW_TAB="explorer-view-open-release-in-new-tab",n.EXPLORER_VIEW_START_RELEASE="explorer-view-start-release",n.EXPLORER_VIEW_ABANDON_RELEASE="explorer-view-abandon-release",n.EXPLORER_VIEW_DELETE_RELEASE="explorer-view-delete-release",n.EXPLORER_VIEW_UNDELETE_RELEASE="explorer-view-undelete-release",n.EXPLORER_VIEW_RETAIN_INDEFINITELY_RELEASE="explorer-view-retain-indefinitely-release",n.EXPLORER_VIEW_STOP_RETAINING_INDEFINITELY_RELEASE="explorer-view-stop-retaining-indefinitely-release",n.PROJECT_SECURITY="security",n.REFRESH_DEFINITIONS="refresh-definitions",n.LOAD_ENVIRONMENT_TEMPLATES="load-environment-templates",n.EDIT_DEFINITION="edit-definition",n.IMPORT_DEFINITION_TOOLBARMENUITEM="import-definition",n.CLONE_DEFINITION_CONTEXTMENU="clone-definition",n.EXPORT_DEFINITION_CONTEXTMENU="export-definition",n.CREATE_DEFINITION_TOOLBAR_MENU="create-releasedefinition-menu",n.EDIT_PREVIEW_DEFINITION="edit-preview-definition",n.CREATE_RELEASE_FROM_RELEASE_EXPLORER="create-release-from-release-explorer",n.CREATE_RELEASE_FROM_DEFINITION_OVERVIEW="create-release-from-definition-overview",n.CREATE_RELEASE_FROM_CONTEXT_MENU="create-release-from-context-menu",n.CREATE_RELEASE_FROM_DEFINITION_EDITOR="create-release-from-definition",n.CREATE_DRAFT_RELEASE_FROM_RELEASE_EXPLORER="create-draft-release-from-release-explorer",n.CREATE_DRAFT_RELEASE_FROM_CONTEXT_MENU="create-draft-release-from-context-menu",n.CREATE_DRAFT_RELEASE_FROM_DEFINITION_OVERVIEW="create-draft-release-from-definition-overview",n.CREATE_DRAFT_RELEASE_FROM_DEFINITION_EDITOR="create-draft-release-from-definition",n.DELETE_RELEASE_DEFINITION_FROM_EDITOR="delete-release-definition-from-editor",n.DELETE_RELEASE_DEFINITION_FROM_CONTEXT_MENU="delete-release-definition-from-context-menu",n.CMD_COLUMN_OPTIONS="release-column-options",n.REFRESH_SINGLE_RELEASE="refresh-single-release",n.EXPAND_ALL_NODES="expand-all-nodes",n.COLLAPSE_ALL_NODES="collapse-all-nodes",n.REFRESH_DEFINITION_OVERVIEW="refresh-definition-overview",n.EXPANDALL_DEFINITION_OVERVIEW="expandall-definition-overview",n.COLLAPSEALL_DEFINITION_OVERVIEW="collapseall-definition-overview",n.REFRESH_RELEASE_ARTIFACTS="refresh-release-artifacts",n.SAVE_DEFINITION="save-definition",n.REFRESH_DEFINITION="refresh-definition",n.REFRESH_ARTIFACT_DEFINITIONS="refresh-artifact-definitions",n.REFRESH_ARTIFACT_DEFINITION="refresh-artifact-definition",n.ADD_ARTIFACT_DEFINITION="add-artifact-definition",n.DOWNLOAD_ALL_RELEASE_LOGS_NEW="download-all-release-logs-new",n.DOWNLOAD_ALL_RELEASE_LOGS_SEPERATOR="download-all-release-logs-seperator",n.ADD_RELEASE_ARTIFACTS="add-release-artifacts",n.REFRESH_RELEASE_APPROVALS="refresh-release-approvals",n.REFRESH_METATASK_LIST="refresh-metatask-list",n.IMPORT_METATASK_TOOLBARMENUITEM="import-metatask",n.CONFIGURATION_SELECTOR_LABEL="configuration-selector-label",n.CONFIGURATION_SELECTOR_COMBO="configuration-selector",n.CONFIGURATION_SELECTOR_SUBMENU_ENVIRONMENT_VAR="configuration-selector-environment-variables",n.CONFIGURATION_SELECTOR_SUBMENU_RELEASE_VAR="configuration-selector-release-variables",n}();t.MenuCommands=si;hi=function(){function n(){}return n.covnertEnvironmentStatusToReleaseLogState=function(n){switch(n){case nt.ComputedReleaseEnvironmentStatus.NotStarted:return nt.ReleaseLogStates.NotStarted;case nt.ComputedReleaseEnvironmentStatus.Queued:return nt.ReleaseLogStates.Queued;case nt.ComputedReleaseEnvironmentStatus.QueuedForAgent:return nt.ReleaseLogStates.QueuedForAgent;case nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline:return nt.ReleaseLogStates.QueuedForPipeline;case nt.ComputedReleaseEnvironmentStatus.Pending:case nt.ComputedReleaseEnvironmentStatus.PreApprovalPending:return nt.ReleaseLogStates.Pending;case nt.ComputedReleaseEnvironmentStatus.Succeeded:return nt.ReleaseLogStates.Succeeded;case nt.ComputedReleaseEnvironmentStatus.Rejected:case nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected:return nt.ReleaseLogStates.Rejected;case nt.ComputedReleaseEnvironmentStatus.InProgress:return nt.ReleaseLogStates.InProgress;case nt.ComputedReleaseEnvironmentStatus.Canceled:return nt.ReleaseLogStates.Canceled;case nt.ComputedReleaseEnvironmentStatus.Deferred:return nt.ReleaseLogStates.Deferred;case nt.ComputedReleaseEnvironmentStatus.Failed:return nt.ReleaseLogStates.Failed;case nt.ComputedReleaseEnvironmentStatus.Scheduled:return nt.ReleaseLogStates.Scheduled;case nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded:return nt.ReleaseLogStates.PartiallySucceeded;case nt.ComputedReleaseEnvironmentStatus.Cancelling:return nt.ReleaseLogStates.Cancelling}return nt.ReleaseLogStates.Undefined},n.convertTaskStatusToReleaseLogState=function(n){switch(n){case it.TaskStatus.Canceled:return nt.ReleaseLogStates.Canceled;case it.TaskStatus.Skipped:return nt.ReleaseLogStates.Skipped;case it.TaskStatus.Failure:case it.TaskStatus.Failed:return nt.ReleaseLogStates.Failed;case it.TaskStatus.InProgress:return nt.ReleaseLogStates.InProgress;case it.TaskStatus.Pending:return nt.ReleaseLogStates.Pending;case it.TaskStatus.Success:case it.TaskStatus.Succeeded:return nt.ReleaseLogStates.Succeeded;case it.TaskStatus.PartiallySucceeded:return nt.ReleaseLogStates.PartiallySucceeded}return nt.ReleaseLogStates.Undefined},n.convertDeploymentPhaseStatusToReleaseLogState=function(n){switch(n){case it.DeployPhaseStatus.Canceled:return nt.ReleaseLogStates.Canceled;case it.DeployPhaseStatus.Skipped:return nt.ReleaseLogStates.Skipped;case it.DeployPhaseStatus.Failed:return nt.ReleaseLogStates.Failed;case it.DeployPhaseStatus.InProgress:return nt.ReleaseLogStates.InProgress;case it.DeployPhaseStatus.NotStarted:return nt.ReleaseLogStates.Pending;case it.DeployPhaseStatus.Succeeded:return nt.ReleaseLogStates.Succeeded;case it.DeployPhaseStatus.PartiallySucceeded:return nt.ReleaseLogStates.PartiallySucceeded;case it.DeployPhaseStatus.Cancelling:return nt.ReleaseLogStates.Cancelling}return nt.ReleaseLogStates.Undefined},n.convertManualInterventionStatusToReleaseLogStatus=function(n){switch(n){case it.ManualInterventionStatus.Pending:return nt.ReleaseLogStates.Pending;case it.ManualInterventionStatus.Approved:return nt.ReleaseLogStates.Approved;case it.ManualInterventionStatus.Rejected:return nt.ReleaseLogStates.Rejected;case it.ManualInterventionStatus.Canceled:return nt.ReleaseLogStates.Canceled}return nt.ReleaseLogStates.Undefined},n.convertDeploymentGateStatusToReleaseLogStatus=function(n){switch(n){case it.GateStatus.Pending:return nt.ReleaseLogStates.Pending;case it.GateStatus.InProgress:return nt.ReleaseLogStates.InProgress;case it.GateStatus.Failed:return nt.ReleaseLogStates.Failed;case it.GateStatus.Canceled:return nt.ReleaseLogStates.Canceled;case it.GateStatus.Succeeded:return nt.ReleaseLogStates.Succeeded}return nt.ReleaseLogStates.Undefined},n}();t.EnumTranslator=hi;ci=function(){function n(){}return n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ReleaseLogStates.Pending]=g.ReleaseLogStatePending,n.DisplayTextMap[nt.ReleaseLogStates.InProgress]=g.ReleaseLogStateInProgress,n.DisplayTextMap[nt.ReleaseLogStates.Done]=g.ReleaseLogStateDone,n.DisplayTextMap[nt.ReleaseLogStates.Succeeded]=g.ReleaseLogStateSucceeded,n.DisplayTextMap[nt.ReleaseLogStates.Stopped]=g.ReleaseLogStateStopped,n.DisplayTextMap[nt.ReleaseLogStates.Rejected]=g.ReleaseLogStateRejected,n.DisplayTextMap[nt.ReleaseLogStates.Failed]=g.ReleaseLogStateFailed,n.DisplayTextMap[nt.ReleaseLogStates.Canceled]=g.ReleaseLogStateCanceled,n.DisplayTextMap[nt.ReleaseLogStates.Reassigned]=g.ReleaseLogStateReassigned,n.DisplayTextMap[nt.ReleaseLogStates.Abandoned]=g.ReleaseLogStateAbandoned,n.DisplayTextMap[nt.ReleaseLogStates.NotStarted]=g.ReleaseLogStateNotStarted,n.DisplayTextMap[nt.ReleaseLogStates.Queued]=g.ReleaseLogStateQueued,n.DisplayTextMap[nt.ReleaseLogStates.QueuedForAgent]=g.ReleaseLogStateQueued,n.DisplayTextMap[nt.ReleaseLogStates.QueuedForPipeline]=g.ReleaseLogStateQueued,n.DisplayTextMap[nt.ReleaseLogStates.Approved]=g.ReleaseLogStateApproved,n.DisplayTextMap[nt.ReleaseLogStates.Undefined]=g.ReleaseLogStateUndefined,n.DisplayTextMap[nt.ReleaseLogStates.AutomatedApproval]=g.AutomatedApprovalLogStatus,n.DisplayTextMap[nt.ReleaseLogStates.Skipped]=g.ReleaseLogStateSkipped,n.DisplayTextMap[nt.ReleaseLogStates.Scheduled]=g.ReleaseLogStateScheduled,n.DisplayTextMap[nt.ReleaseLogStates.PartiallySucceeded]=g.ReleaseLogStatePartiallySucceeded,n.DisplayTextMap[nt.ReleaseLogStates.Cancelling]=g.ReleaseLogStateCancelling),n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[nt.ReleaseLogStates.Pending]="icon-tfs-build-reason-scheduleforced",n.DisplayIconMap[nt.ReleaseLogStates.InProgress]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.Done]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Succeeded]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Stopped]="bowtie-status-stop",n.DisplayIconMap[nt.ReleaseLogStates.Rejected]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.Failed]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.Canceled]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.Reassigned]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.Abandoned]="bowtie-status-no-fill",n.DisplayIconMap[nt.ReleaseLogStates.NotStarted]="bowtie-record",n.DisplayIconMap[nt.ReleaseLogStates.Queued]="bowtie-record",n.DisplayIconMap[nt.ReleaseLogStates.QueuedForAgent]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.QueuedForPipeline]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ReleaseLogStates.Approved]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Undefined]="bowtie-status-failure",n.DisplayIconMap[nt.ReleaseLogStates.AutomatedApproval]="bowtie-status-success",n.DisplayIconMap[nt.ReleaseLogStates.Skipped]="bowtie-status-no-fill",n.DisplayIconMap[nt.ReleaseLogStates.Scheduled]="icon-tfs-build-reason-scheduleforced",n.DisplayIconMap[nt.ReleaseLogStates.PartiallySucceeded]="bowtie-status-error bowtie-status-error-logs-page",n.DisplayIconMap[nt.ReleaseLogStates.Cancelling]="bowtie-status-stop"),n.DisplayOutlineIconMap||(n.DisplayOutlineIconMap={},n.DisplayOutlineIconMap[nt.ReleaseLogStates.Pending]="icon-tfs-build-reason-scheduleforced",n.DisplayOutlineIconMap[nt.ReleaseLogStates.InProgress]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Done]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Succeeded]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Stopped]="bowtie-status-stop-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Rejected]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Failed]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Canceled]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Reassigned]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Abandoned]="bowtie-status-no-fill",n.DisplayOutlineIconMap[nt.ReleaseLogStates.NotStarted]="bowtie-record",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Queued]="bowtie-record",n.DisplayOutlineIconMap[nt.ReleaseLogStates.QueuedForAgent]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.QueuedForPipeline]="bowtie-status-run-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Approved]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Undefined]="bowtie-status-failure-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.AutomatedApproval]="bowtie-status-success-outline",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Skipped]="bowtie-status-no-fill",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Scheduled]="icon-tfs-build-reason-scheduleforced",n.DisplayOutlineIconMap[nt.ReleaseLogStates.PartiallySucceeded]="bowtie-status-error-outline bowtie-status-error-logs-page",n.DisplayOutlineIconMap[nt.ReleaseLogStates.Cancelling]="bowtie-status-stop-outline"),null},n.toInit=n._initialize(),n}();t.ReleaseLogStates=ci;li=function(){function n(){}return n._initialize=function(){n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[it.ReleaseReason.Manual]=g.ReleaseReasonManual,n.DisplayTextMap[it.ReleaseReason.ContinuousIntegration]=g.ContinuousDeploymentTriggerText,n.DisplayTextMap[it.ReleaseReason.PullRequest]=g.PullRequestTriggerText,n.DisplayTextMap[it.ReleaseReason.Schedule]=g.ScheduledTriggerText,n.DisplayTextMap[it.ReleaseReason.None]=g.ReleaseReasonNone);n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[it.ReleaseReason.ContinuousIntegration]="bowtie-build-reason-checkin-shelveset",n.DisplayIconMap[it.ReleaseReason.PullRequest]="bowtie-build-reason-checkin-shelveset",n.DisplayIconMap[it.ReleaseReason.Manual]="bowtie-trigger-user",n.DisplayIconMap[it.ReleaseReason.Schedule]="bowtie-status-waiting")},n.toInit=n._initialize(),n}();t.ReleaseReasonIcon=li;ai=function(){function n(){}return n._initialize=function(){n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[0]="",n.DisplayTextMap[1]=g.RetainIndefinitelyText);n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[0]="",n.DisplayIconMap[1]="bowtie-security-lock-fill")},n.toInit=n._initialize(),n}();t.ReleaseRetentionIcon=ai;vi=function(){function n(){}return n._initialize=function(){n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[it.ReleaseStatus.Draft]="icon-tfs-release-draft",n.DisplayIconMap[it.ReleaseStatus.Abandoned]="bowtie-status-no-fill");n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[it.ReleaseStatus.Undefined]=g.ReleaseStatusUndefined,n.DisplayTextMap[it.ReleaseStatus.Draft]=g.ReleaseStatusDraft,n.DisplayTextMap[it.ReleaseStatus.Active]=g.ReleaseStatusActive,n.DisplayTextMap[it.ReleaseStatus.Abandoned]=g.ReleaseStatusAbandoned)},n.toInit=n._initialize(),n}();t.ReleaseStatusIcon=vi;yi=function(){function n(){}return n.getOptions=function(){return n._options||(n._options={permissionSet:"c788c23e-1b46-4162-8f5e-d7585343b5de",separator:"/",projectGuid:u.getDefaultWebContext().project.id}),n._options},n.getMetaTaskOptions=function(){return n._metaTaskOptions||(n._metaTaskOptions={permissionSet:"f6a4de49-dbe2-4704-86dc-f8ec1a294436",separator:"/",projectGuid:u.getDefaultWebContext().project.id}),n._metaTaskOptions},n}();t.SecurityOptions=yi;pi=function(){function n(){}return n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ComputedReleaseStatus.Undefined]=g.ReleaseStatusUndefined,n.DisplayTextMap[nt.ComputedReleaseStatus.Draft]=g.ReleaseStatusDraft,n.DisplayTextMap[nt.ComputedReleaseStatus.InProgress]=g.ReleaseStatusActive,n.DisplayTextMap[nt.ComputedReleaseStatus.Completed]=g.ReleaseStatusActive,n.DisplayTextMap[nt.ComputedReleaseStatus.Abandoned]=g.ReleaseStatusAbandoned),n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[nt.ComputedReleaseStatus.Draft]="icon-tfs-release-draft",n.DisplayIconMap[nt.ComputedReleaseStatus.InProgress]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseStatus.Completed]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseStatus.Abandoned]="bowtie-status-no-fill"),n.DisplayColorMap||(n.DisplayColorMap={},n.DisplayColorMap[nt.ComputedReleaseStatus.Draft]="hub-title-release-draft",n.DisplayColorMap[nt.ComputedReleaseStatus.InProgress]="hub-title-release-inprogress",n.DisplayColorMap[nt.ComputedReleaseStatus.Completed]="hub-title-release-inprogress",n.DisplayColorMap[nt.ComputedReleaseStatus.Abandoned]="hub-title-release-abandoned"),n.AllowedActionMap||(n.AllowedActionMap={},n.AllowedActionMap[nt.ComputedReleaseStatus.Draft]=new nt.SupportedActions([nt.ReleaseAction.Start,nt.ReleaseAction.Delete]),n.AllowedActionMap[nt.ComputedReleaseStatus.InProgress]=new nt.SupportedActions([nt.ReleaseAction.Abandon,nt.ReleaseAction.Delete]),n.AllowedActionMap[nt.ComputedReleaseStatus.Completed]=new nt.SupportedActions([nt.ReleaseAction.Abandon,nt.ReleaseAction.Delete]),n.AllowedActionMap[nt.ComputedReleaseStatus.Abandoned]=new nt.SupportedActions([nt.ReleaseAction.Delete])),null},n.toInit=n._initialize(),n}();t.ComputedReleaseStatusData=pi;ct=function(){function n(){}return n._initialize=function(){return n.StatusToStyleMap||(n.StatusToStyleMap={},n.StatusToStyleMap[nt.ApprovalIconType.ApproveOrReject]=n.APPROVAL_APPROVE_REJECT_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.PendingApproval]=n.APPROVAL_PENDING_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.ViewApproval]=n.APPROVAL_VIEW_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.FaddedApproval]=n.APPROVAL_FADDED_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.DeferredApproval]=n.APPROVAL_DEFERRED_APPROVAL_ICON_CLASS,n.StatusToStyleMap[nt.ApprovalIconType.QueuedIcon]=n.APPROVAL_QUEUED_ICON_CLASS),n.StatusToTextMap||(n.StatusToTextMap={},n.StatusToTextMap[it.ApprovalStatus.Undefined]=g.ReleaseStatusUndefined,n.StatusToTextMap[it.ApprovalStatus.Pending]=g.ReleaseLogStatePending,n.StatusToTextMap[it.ApprovalStatus.Approved]=g.ApprovalStatusApproved,n.StatusToTextMap[it.ApprovalStatus.Rejected]=g.ReleaseLogStateRejected,n.StatusToTextMap[it.ApprovalStatus.Reassigned]=g.ReleaseLogStateReassigned,n.StatusToTextMap[it.ApprovalStatus.Canceled]=g.ApprovalStatusCanceled,n.StatusToTextMap[it.ApprovalStatus.Skipped]=g.ApprovalStatusSkipped),n.ApprovalTypeToTextMap||(n.ApprovalTypeToTextMap={},n.ApprovalTypeToTextMap[it.ApprovalType.Undefined]=g.ReleaseStatusUndefined,n.ApprovalTypeToTextMap[it.ApprovalType.PreDeploy]=g.PreDeploymentApproval,n.ApprovalTypeToTextMap[it.ApprovalType.PostDeploy]=g.PostDeploymentApproval),n.StatusToStatusIconMap||(n.StatusToStatusIconMap={},n.StatusToStatusIconMap[it.ApprovalStatus.Undefined]="",n.StatusToStatusIconMap[it.ApprovalStatus.Pending]="",n.StatusToStatusIconMap[it.ApprovalStatus.Approved]="bowtie-status-success",n.StatusToStatusIconMap[it.ApprovalStatus.Rejected]="bowtie-status-failure",n.StatusToStatusIconMap[it.ApprovalStatus.Reassigned]="bowtie-status-success",n.StatusToStatusIconMap[it.ApprovalStatus.Canceled]="bowtie-status-failure",n.StatusToStatusIconMap[it.ApprovalStatus.Skipped]="bowtie-status-success"),null},n.APPROVAL_APPROVE_REJECT_ICON_CLASS="bowtie-user-pending",n.APPROVAL_PENDING_APPROVAL_ICON_CLASS="bowtie-status-waiting",n.APPROVAL_VIEW_APPROVAL_ICON_CLASS="bowtie-user",n.APPROVAL_FADDED_APPROVAL_ICON_CLASS="bowtie-user release-fadeout",n.APPROVAL_DEFERRED_APPROVAL_ICON_CLASS="bowtie-status-waiting-fill rm-bowtie-status-waiting-fill",n.APPROVAL_QUEUED_ICON_CLASS="bowtie-build-queue",n.toInit=n._initialize(),n}();t.ApprovalIcon=ct;wi=function(){function n(){}return n._initialize=function(){return n.DisplayTextMap||(n.DisplayTextMap={},n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.NotStarted]=g.SummaryEnvironmentStatusNotStarted,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Queued]=g.SummaryEnvironmentStatusQueued,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Pending]=g.SummaryEnvironmentStatusPending,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Succeeded]=g.SummaryEnvironmentStatusSucceeded,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Rejected]=g.SummaryEnvironmentStatusRejected,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected]=g.SummaryEnvironmentStatusRejected,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.InProgress]=g.SummaryEnvironmentStatusInprogress,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Canceled]=g.SummaryEnvironmentStatusCancelled,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Deferred]=g.SummaryEnvironmentStatusDeferred,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.QueuedForAgent]=g.SummaryEnvironmentStatusQueued,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline]=g.SummaryEnvironmentStatusQueued,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalPending]=g.SummaryEnvironmentStatusPending,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Failed]=g.SummaryEnvironmentStatusFailed,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Scheduled]=g.SummaryEnvironmentStatusScheduled,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded]=g.SummaryEnvironmentStatusPartiallySucceeded,n.DisplayTextMap[nt.ComputedReleaseEnvironmentStatus.Cancelling]=g.SummaryEnvironmentStatusCancelling),n.DisplayIconMap||(n.DisplayIconMap={},n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.NotStarted]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Queued]="bowtie-record",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Pending]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Succeeded]="bowtie-status-success",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Rejected]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Failed]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.InProgress]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Canceled]="bowtie-status-failure",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Deferred]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.QueuedForAgent]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalPending]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Scheduled]="bowtie-status-run rm-bowtie-status-run",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded]="bowtie-status-error",n.DisplayIconMap[nt.ComputedReleaseEnvironmentStatus.Cancelling]="bowtie-status-run rm-bowtie-status-run"),null},n.toInit=n._initialize(),n}();t.EnvironmentStatus=wi;bi=function(){function n(){}return n.getBackgroudColor=function(n){if(!n)return"not-started";switch(n.status){case it.DeploymentStatus.NotDeployed:return"not-started";case it.DeploymentStatus.InProgress:return"progress";case it.DeploymentStatus.PartiallySucceeded:return"partially-succeeded";case it.DeploymentStatus.Succeeded:return"passed";case it.DeploymentStatus.Failed:return"failed"}},n._initializeStylesMap=function(){n.stateToStyleMap||(n.stateToStyleMap={},n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.NotStarted]="environment-definition-overview-notstarted",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Queued]="environment-definition-overview-notstarted",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Pending]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Deferred]="environment-definition-overview-deferred",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.QueuedForAgent]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.InProgress]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Succeeded]="environment-definition-overview-successful",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Rejected]="environment-definition-overview-rejected",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected]="environment-definition-overview-rejected",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Failed]="env-def-over-failed",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Canceled]="environment-definition-overview-stopped",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.PreApprovalPending]="environment-definition-overview-inprogress",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.Scheduled]="environment-definition-overview-deferred",n.stateToStyleMap[nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded]="environment-definition-overview-partiallysucceeded");n.stateToStyleMap_List||(n.stateToStyleMap_List={},n.stateToStyleMap_List[it.DeploymentStatus.NotDeployed]="env-tile-notstarted",n.stateToStyleMap_List[it.DeploymentStatus.InProgress]="bowtie-play-fill env-tile-inprogress",n.stateToStyleMap_List[it.DeploymentStatus.Failed]="bowtie-edit-delete env-tile-rejected",n.stateToStyleMap_List[it.DeploymentStatus.PartiallySucceeded]="bowtie-status-error-outline env-tile-partiallysucceeded",n.stateToStyleMap_List[it.DeploymentStatus.Succeeded]="bowtie-check env-tile-successful")},n._toInitMaps=n._initializeStylesMap(),n}();t.EnvironmentTileStatus=bi;ki=function(){function n(){}return n.convertToQueryParam=function(t){var i=JSON.stringify(t);return n._shouldUsePropertySelectorBasedOnUrlLength(i)?i:""},n._shouldUsePropertySelectorBasedOnUrlLength=function(t){var r=encodeURI(t),i=u.getDefaultWebContext(),f=i.collection.uri+(i.project.id.length>i.project.name.length?i.project.id:i.project.name);return r.length+f.length<n.urlUpperLimit?!0:!1},n.urlUpperLimit=1700,n}();t.PropertySelectorUtils=ki;di=function(){function n(){}return n.logsPageDurationTimerRefreshDelayInMilliSeconds=3e3,n.logsPageSingleRefreshDelayInMilliSeconds=1e4,n}();t.ReleaseManagementConfiguration=di;at=function(){function n(){}return n.getComputedReleaseEnvironmentStatus=function(n){if(n.status===it.EnvironmentStatus.Scheduled)return nt.ComputedReleaseEnvironmentStatus.Scheduled;if(!ft.ArrayHelper.hasItems(n.deploySteps))return nt.ComputedReleaseEnvironmentStatus.NotStarted;var t=lt.getLatestDeploymentAttempt(n.deploySteps);return this.getComputedEnvironmentStatusFromDeployment(t)},n.getComputedEnvironmentStatusFromDeployment=function(t){if(!t)return nt.ComputedReleaseEnvironmentStatus.NotStarted;var i=n._deploymentStatusMap[t.status];if(i===nt.ComputedReleaseEnvironmentStatus.NotStarted)switch(t.operationStatus){case it.DeploymentOperationStatus.Queued:return nt.ComputedReleaseEnvironmentStatus.Queued;case it.DeploymentOperationStatus.Pending:return nt.ComputedReleaseEnvironmentStatus.PreApprovalPending;case it.DeploymentOperationStatus.Canceled:case it.DeploymentOperationStatus.PhaseCanceled:return nt.ComputedReleaseEnvironmentStatus.Canceled;case it.DeploymentOperationStatus.Deferred:return nt.ComputedReleaseEnvironmentStatus.Deferred;case it.DeploymentOperationStatus.QueuedForAgent:return nt.ComputedReleaseEnvironmentStatus.QueuedForAgent;case it.DeploymentOperationStatus.QueuedForPipeline:return nt.ComputedReleaseEnvironmentStatus.QueuedForPipeline;case it.DeploymentOperationStatus.Rejected:return nt.ComputedReleaseEnvironmentStatus.PreApprovalRejected;case it.DeploymentOperationStatus.Approved:return nt.ComputedReleaseEnvironmentStatus.InProgress;case it.DeploymentOperationStatus.Cancelling:return nt.ComputedReleaseEnvironmentStatus.Cancelling;case it.DeploymentOperationStatus.EvaluatingGates:return n._getComputedReleaseEnvironmentStatusFromReleaseGates(t);case it.DeploymentOperationStatus.GateFailed:return nt.ComputedReleaseEnvironmentStatus.GatesFailed}else if(i===nt.ComputedReleaseEnvironmentStatus.InProgress)switch(t.operationStatus){case it.DeploymentOperationStatus.Pending:case it.DeploymentOperationStatus.ManualInterventionPending:return nt.ComputedReleaseEnvironmentStatus.Pending;case it.DeploymentOperationStatus.Cancelling:return nt.ComputedReleaseEnvironmentStatus.Cancelling;case it.DeploymentOperationStatus.EvaluatingGates:return n._getComputedReleaseEnvironmentStatusFromReleaseGates(t)}else if(i===nt.ComputedReleaseEnvironmentStatus.Rejected)switch(t.operationStatus){case it.DeploymentOperationStatus.Canceled:return nt.ComputedReleaseEnvironmentStatus.Canceled;case it.DeploymentOperationStatus.Rejected:return nt.ComputedReleaseEnvironmentStatus.Rejected;case it.DeploymentOperationStatus.GateFailed:return nt.ComputedReleaseEnvironmentStatus.GatesFailed;default:return nt.ComputedReleaseEnvironmentStatus.Failed}return i},n.IsEnvironmentCompleted=function(n){return n.status===it.EnvironmentStatus.Succeeded||n.status===it.EnvironmentStatus.Rejected||n.status===it.EnvironmentStatus.Canceled||n.status===it.EnvironmentStatus.PartiallySucceeded?!0:!1},n.IsDeploymentPhaseCompleted=function(n){return n.status===it.DeployPhaseStatus.Succeeded||n.status===it.DeployPhaseStatus.Skipped||n.status===it.DeployPhaseStatus.Canceled||n.status===it.DeployPhaseStatus.Failed||n.status===it.DeployPhaseStatus.PartiallySucceeded?!0:!1},n.getGatesInProgressSubStatus=function(n){var t=nt.GatesInProgressSubStatus.NotInProgress;return n&&n.status===it.GateStatus.InProgress&&(t=!(n.startedOn&&!n.stabilizationCompletedOn)?nt.GatesInProgressSubStatus.Evaluating:nt.GatesInProgressSubStatus.Stabilizing),t},n.getDeploymentGatesInProgressSubStatus=function(t){var i=nt.GatesInProgressSubStatus.NotInProgress,r;return t&&(r=t.status===it.DeploymentStatus.NotDeployed?t.preDeploymentGates:t.postDeploymentGates,i=n.getGatesInProgressSubStatus(r)),i},n._getComputedReleaseEnvironmentStatusFromReleaseGates=function(t){return n.getDeploymentGatesInProgressSubStatus(t)===nt.GatesInProgressSubStatus.Stabilizing?nt.ComputedReleaseEnvironmentStatus.GatesStabilizing:nt.ComputedReleaseEnvironmentStatus.GatesInProgress},n._initialize=function(){return n._deploymentStatusMap||(n._deploymentStatusMap={},n._deploymentStatusMap[it.DeploymentStatus.Undefined]=nt.ComputedReleaseEnvironmentStatus.Undefined,n._deploymentStatusMap[it.DeploymentStatus.NotDeployed]=nt.ComputedReleaseEnvironmentStatus.NotStarted,n._deploymentStatusMap[it.DeploymentStatus.InProgress]=nt.ComputedReleaseEnvironmentStatus.InProgress,n._deploymentStatusMap[it.DeploymentStatus.Succeeded]=nt.ComputedReleaseEnvironmentStatus.Succeeded,n._deploymentStatusMap[it.DeploymentStatus.PartiallySucceeded]=nt.ComputedReleaseEnvironmentStatus.PartiallySucceeded,n._deploymentStatusMap[it.DeploymentStatus.Failed]=nt.ComputedReleaseEnvironmentStatus.Rejected),null},n.toInit=n._initialize(),n}();t.ReleaseEnvironmentStatusHelper=at;gi=function(){function n(){}return n.getComputedReleaseStatus=function(t){return n._releaseStatusMap[t.status]===undefined?n._isReleaseRunning(t.environments)?nt.ComputedReleaseStatus.InProgress:nt.ComputedReleaseStatus.Completed:n._releaseStatusMap[t.status]},n.getOriginalReleaseStatus=function(t){return n._computedStatusToReleaseStatusMap[t]},n.isReleaseNotStarted=function(n){return n.environments?n.environments.every(function(n){return n.status===it.EnvironmentStatus.NotStarted||n.status===it.EnvironmentStatus.Scheduled}):!1},n.isAnyEnvironmentDeployable=function(n){return ft.ArrayHelper.hasItems(n.environments)?n.environments.some(function(n){return n.status===it.EnvironmentStatus.NotStarted||n.status===it.EnvironmentStatus.Canceled||n.status===it.EnvironmentStatus.Rejected||n.status===it.EnvironmentStatus.Scheduled||n.status===it.EnvironmentStatus.Succeeded||n.status===it.EnvironmentStatus.PartiallySucceeded}):!1},n._isReleaseRunning=function(n){return n?n.some(function(n){return n.status===it.EnvironmentStatus.Queued||n.status===it.EnvironmentStatus.InProgress}):!1},n._initialize=function(){return n._releaseStatusMap||(n._releaseStatusMap={},n._releaseStatusMap[it.ReleaseStatus.Undefined]=nt.ComputedReleaseStatus.Undefined,n._releaseStatusMap[it.ReleaseStatus.Draft]=nt.ComputedReleaseStatus.Draft,n._releaseStatusMap[it.ReleaseStatus.Abandoned]=nt.ComputedReleaseStatus.Abandoned),n._computedStatusToReleaseStatusMap||(n._computedStatusToReleaseStatusMap={},n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Undefined]=it.ReleaseStatus.Undefined,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Draft]=it.ReleaseStatus.Draft,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Abandoned]=it.ReleaseStatus.Abandoned,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.InProgress]=it.ReleaseStatus.Active,n._computedStatusToReleaseStatusMap[nt.ComputedReleaseStatus.Completed]=it.ReleaseStatus.Active),null},n.toInit=n._initialize(),n}();t.ReleaseStatusHelper=gi;nr=function(){function n(){}return n.getLocalUserSettingProvider=function(){return new ut.LocalUserSettings},n}();t.UserSettingsHelper=nr;vt=function(){function n(){}return n.getAgentBasedDeployPhases=function(n){return n.filter(function(n){return n.phaseType===it.DeployPhaseTypes.AgentBasedDeployment})},n.getQueueIdOfAgentBasedDeployPhases=function(t){var i=n.getAgentBasedDeployPhases(t);return ft.ArrayHelper.hasItems(i)?i[0].deploymentInput.queueId:0},n.getDemandsOfAgentBasedDeployPhases=function(t){var i=n.getAgentBasedDeployPhases(t);return ft.ArrayHelper.hasItems(i)?i[0].deploymentInput.demands:[]},n.isServerBasedDeployPhase=function(n){return n.phaseType===it.DeployPhaseTypes.RunOnServer},n.convertDeployPhaseTypeToTaskGroupType=function(n){switch(n){case it.DeployPhaseTypes.AgentBasedDeployment:return st.TaskGroupType.RunOnAgent;case it.DeployPhaseTypes.RunOnServer:return st.TaskGroupType.RunOnServer;case it.DeployPhaseTypes.MachineGroupBasedDeployment:return st.TaskGroupType.RunOnMachineGroup}return st.TaskGroupType.RunOnAgent},n}();t.DeployPhaseHelper=vt;tr=function(){function n(){}return n.isDeployPhaseComplete=function(n){return n?n.status===it.DeployPhaseStatus.Succeeded||n.status===it.DeployPhaseStatus.PartiallySucceeded||n.status===it.DeployPhaseStatus.Failed||n.status===it.DeployPhaseStatus.Canceled:!1},n.getFinishTime=function(n){if(!n.deploymentJobs)return null;var t=null;return n.deploymentJobs.forEach(function(n){!n.job||(t?l.defaultComparer(t,n.job.finishTime)>0&&(t=n.job.finishTime):t=n.job.finishTime)}),t},n.getStartTime=function(n){if(!n.deploymentJobs||!n.deploymentJobs)return null;var t=null;return n.deploymentJobs.forEach(function(n){!n.job||(t?l.defaultComparer(t,n.job.startTime)>0&&(t=n.job.startTime):t=n.job.startTime)}),t},n.getSelectedPhase=function(n,t){if(!n)return null;var i=null;return n.forEach(function(n){n.id===t&&(i=n)}),i},n}();t.ReleaseDeployPhaseHelper=tr;ir=function(){function n(n,t,i){this.environment=n;this.release=t;this.refreshCallBack=i}return n}();t.QueueReleaseOnEnvironmentDialogArgs=ir;rr=function(){function n(n,t){this.release=n;this.refreshCallBack=t}return n}();t.QueueReleaseOnMultipleEnvironmentsDialogArgs=rr;ur=function(){function n(){}return n.normalizeDefinitionForClone=function(n){return this._normalizeDefinition(n)},n.normalizeDefinitionForImport=function(t){var i=this._normalizeDefinition(t);return i.environments.forEach(function(t){var i=vt.getAgentBasedDeployPhases(t.deployPhases);i.forEach(function(n){return n.deploymentInput.queueId=0});t.preDeployApprovals=n._resetApprovers(t.preDeployApprovals);t.postDeployApprovals=n._resetApprovers(t.postDeployApprovals)}),i},n._normalizeDefinition=function(n){return n.id=0,n.name=n.name.concat(g.DefinitionCloneSuffix),n.environments.forEach(function(n){n.owner=null}),n},n._resetApprovers=function(n){return n.approvals.forEach(function(n){n.isAutomated||(n.approver={id:"",displayName:""})}),n},n}();t.DefinitionClone=ur;fr=function(){function n(){}return n.getPrimaryArtifact=function(n){return ft.ArrayHelper.hasItems(n)?y.first(n,function(n){return!!n&&n.isPrimary}):null},n.getPrimaryArtifactBranchName=function(t){var i=n.getPrimaryArtifact(t);return n.getArtifactBranchName(i)},n.getPrimaryArtifactBuildInfo=function(t){var i=n.getPrimaryArtifact(t);return n.getArtifactBuildInfo(i)},n.getArtifactBranchName=function(n){if(n){var t=n.definitionReference[et.ArtifactDefinitionConstants.BranchId];return t&&t.name?t.name:c.empty}return c.empty},n.getArtifactBuildInfo=function(t){if(t){var i=t.definitionReference[et.ArtifactDefinitionConstants.Version],r=t.definitionReference[et.ArtifactDefinitionConstants.DefinitionId];if(i&&i.name)return r&&r.name&&n.isMultiDefinitionType(t)?c.format("{0} ({1})",i.name,r.name):i.name}return c.empty},n.isMultiDefinitionType=function(n){return n&&n.definitionReference&&n.definitionReference.hasOwnProperty(et.ArtifactDefinitionConstants.IsMultiDefinitionType)&&c.equals(n.definitionReference[et.ArtifactDefinitionConstants.IsMultiDefinitionType].id,"true",!0)?!0:!1},n.getArtifactVersionUrl=function(t){var i,r,f,e;if(t&&!k.getService().hasClaim(k.UserClaims.Member)){if(i=t.definitionReference[et.ArtifactDefinitionConstants.Version],!i||!i.id)return c.empty;if(r=t.definitionReference[et.ArtifactDefinitionConstants.ProjectId],t.type===nt.ArtifactTypes.Build)return f=new v.Uri(c.format("{0}{1}/_build",u.getDefaultWebContext().collection.uri,r&&r.name||u.getDefaultWebContext().project.name)),f.addQueryParam("buildId",i.id),f.absoluteUri;if(t.type===nt.ArtifactTypes.TfvcId)return f=new v.Uri(c.format("{0}{1}/_versionControl/changeset/{2}",u.getDefaultWebContext().collection.uri,r&&r.name||u.getDefaultWebContext().project.name,i.id)),f.absoluteUri}return t&&n.isArtifactVersionLinkAvailable(t.type)?(e=t.definitionReference[et.ArtifactDefinitionConstants.ArtifactSourceVersionUrl],e&&e.id?e.id:c.empty):c.empty},n.isArtifactVersionLinkAvailable=function(n){switch(n){case nt.ArtifactTypes.Build:case nt.ArtifactTypes.TfvcId:return!0}return!1},n}();t.ArtifactsHelper=fr;er=function(){function n(){}return n.refToFriendlyName=function(t){if(t)return n.getRefFriendlyName(t.name)},n.refsToFriendlyNames=function(n){return n.length===0?[]:n.map(this.refToFriendlyName)},n.compareRefs=function(n,t){return c.localeIgnoreCaseComparer(n.name,t.name)},n.getRefFriendlyName=function(n){if(n){if(n.indexOf("refs/heads/")===0)return n.substring(11);if(n.indexOf("refs/tags/")===0)return n.substring(10)}return n},n}();t.GitHelper=er;or=function(){function n(){}return n.getReleaseDeployPhase=function(n,t){var i=lt.getDeployPhasesForSpecificAttempt(n,t.attempt);return y.first(i,function(n){return n.id===t.releaseDeployPhaseId})},n.getReleaseDeployStep=function(n,t){return lt.getDeployStepForAttempt(n,t.attempt)},n}();t.ReleaseLogsHelper=or;sr=function(){function n(){}return n.toDisplayValue=function(t){var i=t;return!!t&&c.startsWith(t,n._branchPrefix)&&(i=t.substr(n._branchPrefix.length)),i},n._branchPrefix="refs/heads/",n}();t.BranchHelper=sr;hr=function(){function n(){}return n.loadSignalrClient=function(){function e(n,t){return function(){t.apply(n,$.makeArray(arguments))}}function i(n,t){var u,i,r,f,o;for(u in n)if(n.hasOwnProperty(u)){if(i=n[u],!i.hubName)continue;o=t?i.on:i.off;for(r in i.client)if(i.client.hasOwnProperty(r)){if(f=i.client[r],!$.isFunction(f))continue;o.call(i,r,e(i,f))}}}var t,f,r;n._loaded||(n._loaded=!0,t=$,f=t.signalR,t.hubConnection.prototype.createHubProxies=function(){var n={};return this.starting(function(){i(n,!0);this._registerSubscribedHubs()}).disconnected(function(){i(n,!1)}),n.releaseHub=this.createHubProxy("releaseHub"),n.releaseHub.client={},n.releaseHub.server={WatchReleaseDefinitionsReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchReleaseDefinitionsReleases"],$.makeArray(arguments)))},WatchReleaseDefinitionReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchReleaseDefinitionReleases"],$.makeArray(arguments)))},StopWatchingReleaseDefinitionsReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["StopWatchingReleaseDefinitionsReleases"],$.makeArray(arguments)))},StopWatchingReleaseDefinitionReleases:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["StopWatchingReleaseDefinitionReleases"],$.makeArray(arguments)))},watchRelease:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchRelease"],$.makeArray(arguments)))},watchReleaseJobLogs:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchReleaseJobLogs"],$.makeArray(arguments)))},watchCollection:function(){return n.releaseHub.invoke.apply(n.releaseHub,$.merge(["WatchCollection"],$.makeArray(arguments)))}},n},r=u.getPageContext(),n._loadReleaseHub(t,r),t.hubConnection.prototype.createHubProxies=function(){var n={};return this.starting(function(){i(n,!0);this._registerSubscribedHubs()}).disconnected(function(){i(n,!1)}),n.taskAgentPoolHub=this.createHubProxy("taskAgentPoolHub"),n.taskAgentPoolHub.client={},n.taskAgentPoolHub.server={subscribe:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["Subscribe"],$.makeArray(arguments)))},unsubscribe:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["Unsubscribe"],$.makeArray(arguments)))},WatchResourceUsageChanges:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["WatchResourceUsageChanges"],$.makeArray(arguments)))},UnwatchResourceUsageChanges:function(){return n.taskAgentPoolHub.invoke.apply(n.taskAgentPoolHub,$.merge(["UnwatchResourceUsageChanges"],$.makeArray(arguments)))}},n.deploymentGroupHub=this.createHubProxy("deploymentGroupHub"),n.deploymentGroupHub.client={},n.deploymentGroupHub.server={subscribe:function(){return n.deploymentGroupHub.invoke.apply(n.deploymentGroupHub,$.merge(["Subscribe"],$.makeArray(arguments)))},unsubscribe:function(){return n.deploymentGroupHub.invoke.apply(n.deploymentGroupHub,$.merge(["Unsubscribe"],$.makeArray(arguments)))}},n.testHub=this.createHubProxy("testHub"),n.testHub.client={},n.testHub.server={watchRelease:function(){return n.testHub.invoke.apply(n.testHub,$.merge(["WatchRelease"],$.makeArray(arguments)))},unWatchRelease:function(){return n.testHub.invoke.apply(n.testHub,$.merge(["UnWatchRelease"],$.makeArray(arguments)))}},n})},n._loadReleaseHub=function(n){var t=n.signalR;t.hub=n.hubConnection(this.getSignalRConnectionUrl(),{useDefaultPath:!1});$.extend(t,t.hub.createHubProxies())},n.getSignalRConnectionUrl=function(){var t=b.getService(f.WebPageDataService),n=t.getPageData(nt.ReleaseManagementDataProviderKeys.SignalRDataProvider);return n&&n.connectionUrl?n.connectionUrl:"signalr"},n._loaded=!1,n}();t.SignalRHelper=hr;cr=function(){function n(){}return n.getStringFromArrayBuffer=function(t){var i=n.detectFileEncoding(t);if(i[0]==="utf-8"&&i[1]==!1)return String.fromCharCode.apply(null,new Uint8Array(t));if(i[0]==="utf-8"&&i[1]==!0)return String.fromCharCode.apply(null,new Uint8Array(t).subarray(3));if(i[0]==="utf-16le"&&i[1]==!1)return String.fromCharCode.apply(null,new Uint16Array(t));if(i[0]==="utf-16le"&&i[1]==!0)return String.fromCharCode.apply(null,new Uint16Array(t).subarray(1));throw"We don't support the encoding that you are trying to use "+i[0]+" with BOM: "+i[1];},n.detectFileEncoding=function(t){if(t.byteLength<4)return console.warn("The encoding of the file could not be detected because the content is not long enought. Defaulting to UTF8"),["utf-8",!1];var i=new Uint8Array(t);return n.detectFileEncodingWithBOM(i)||n.detectFileEncodingWithoutBOM(i)},n.getArrayBuffer=function(n){for(var i=new ArrayBuffer(n.length),t=0;t<n.length;t++)i[t]=n[t];return i},n.areArrayBuffersEqual=function(n,t){if(n.length!=t.length)return!1;for(var i=0;i<n.length;){if(n[i]!==t[i])return!1;i++}return!0},n.detectFileEncodingWithBOM=function(t){return n.areArrayBuffersEqual(t.subarray(0,3),new Uint8Array([239,187,191]))?["utf-8",!0]:n.areArrayBuffersEqual(t.subarray(0,4),new Uint8Array([255,254,0,0]))?["utf-32le",!0]:n.areArrayBuffersEqual(t.subarray(0,2),new Uint8Array([254,255]))?["utf-16be",!0]:n.areArrayBuffersEqual(t.subarray(0,2),new Uint8Array([255,254]))?["utf-16le",!0]:n.areArrayBuffersEqual(t.subarray(0,4),new Uint8Array([0,0,254,255]))?["utf-32be",!0]:null},n.detectFileEncodingWithoutBOM=function(n){for(var t=0,i=0;i<4;i++)t=t<<1,t=t|(n[i]>0?1:0);switch(t){case 1:return["utf-32be",!1];case 5:return["utf-16be",!1];case 8:return["utf-32le",!1];case 10:return["utf-16le",!1];case 15:return["utf-8",!1];default:throw Error("Unknown file encoding: TypeCode "+t);}},n}();t.FileEncoding=cr;lr=function(){function n(){}return n.getDisplayNameWithFolder=function(n,t){var i=c.empty;return n?(c.startsWith(n,this.Slash)&&(n=n.substring(1)),c.localeIgnoreCaseComparer(n,c.empty)===0?t:c.format("{0}\\{1}",n,t)):t},n.Slash="\\",n}();t.BuildDefinitionNameUtils=lr;ar=function(){function n(){}return n._initialize=function(){n.ResultToTextMap||(n.ResultToTextMap={},n.ResultToTextMap[d.BuildResult.Canceled]=g.BuildResultCancelled,n.ResultToTextMap[d.BuildResult.Failed]=g.BuildStatusFailed,n.ResultToTextMap[d.BuildResult.PartiallySucceeded]=g.BuildStatusPartiallySucceeded,n.ResultToTextMap[d.BuildResult.Succeeded]=g.BuildStatusSucceeded,n.ResultToTextMap[d.BuildResult.None]=g.BuildStatusNone);n.StatusToTextMap||(n.StatusToTextMap={},n.StatusToTextMap[d.BuildStatus.Cancelling]=g.BuildStatusCancelling,n.StatusToTextMap[d.BuildStatus.Completed]=g.BuildStatusCompleted,n.StatusToTextMap[d.BuildStatus.None]=g.BuildStatusNone,n.StatusToTextMap[d.BuildStatus.InProgress]=g.BuildStatusInProgress,n.StatusToTextMap[d.BuildStatus.NotStarted]=g.BuildStatusNotStarted,n.StatusToTextMap[d.BuildStatus.Postponed]=g.BuildStatusPostponed)},n.toInit=n._initialize(),n}();t.BuildHelper=ar;vr=function(){function n(){}return n.ToTaskGroupCreateParameter=function(n){return{category:n.category,description:n.description,iconUrl:n.iconUrl,inputs:n.inputs,instanceNameFormat:n.instanceNameFormat,name:n.name,parentDefinitionId:n.parentDefinitionId,runsOn:n.runsOn,tasks:n.tasks,version:n.version,friendlyName:n.friendlyName,author:n.author}},n.ToTaskGroupUpdateParameter=function(n){return{category:n.category,comment:n.comment,description:n.description,iconUrl:n.iconUrl,id:n.id,inputs:n.inputs,instanceNameFormat:n.instanceNameFormat,name:n.name,parentDefinitionId:n.parentDefinitionId,revision:n.revision,runsOn:n.runsOn,tasks:n.tasks,version:n.version,friendlyName:n.friendlyName,author:n.author}},n}();t.TaskGroupHelper=vr;yr=function(){function n(){}return n.getReleaseEndPoint=function(){var n=u.getDefaultWebContext();return u.getPageContext().webAccessConfiguration.isHosted?e.getCachedServiceLocation(ot.ReleaseHttpClient.serviceInstanceId,p.ContextHostType.ProjectCollection,n):c.empty},n}();t.ReleaseManagementEndpointHelper=yr;r.tfsModuleLoaded("TFS.ReleaseManagement.Utils",t)});

define("ReleasePipeline/Scripts/Clients/ReleaseClient",["require","exports","q","VSS/WebApi/Constants","VSS/Service","VSS/Context","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleaseManagement/Core/RestClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils"],function(n,t,i,r,u,f,e,o,s,h){function v(){if(!a){var n=f.getDefaultWebContext(),t=new u.VssConnection(n);a=t.getService(l)}return a}var c,l,a;Object.defineProperty(t,"__esModule",{value:!0});c=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getReleasesWithContinuationToken=function(n,t,i,r,u,f,o,s,h,c,l,a,v,y,p,w,b,k){var d={definitionId:t,definitionEnvironmentId:i,searchText:r,statusFilter:u,environmentStatusFilter:f,minCreatedTime:o,maxCreatedTime:s,queryOrder:h,$top:c,continuationToken:l,$expand:a,sourceBranchFilter:v,propertySelectors:y,isDeleted:p,releaseIdFilter:w,tagFilter:b,createdBy:k};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Release",locationId:"a166fde7-27ad-408e-ba75-703c2cc9d500",resource:"releases",routeTemplate:"{project}/_apis/{area}/{resource}/{releaseId}",responseType:e.TypeInfo.Release,responseIsCollection:!0,routeValues:{project:n},queryParams:d,apiVersion:this.releasesApiVersion}).spread(function(n,t,i){return{releases:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getDeploymentsWithContinuationToken=function(n,t,i,r,u,f,o,s,h,c,l,a){var v={definitionId:t,definitionEnvironmentId:i,createdBy:r,deploymentStatus:u,operationStatus:f,latestAttemptsOnly:a,queryOrder:o,$top:s,continuationToken:h,minStartedTime:c,maxStartedTime:l};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Release",locationId:"b005ef73-cddc-448e-9ba2-5193bf36b19f",resource:"deployments",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:e.TypeInfo.Deployment,responseIsCollection:!0,routeValues:{project:n},queryParams:v,apiVersion:this.deploymentsApiVersion}).spread(function(n,t,i){return{deployments:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getReleaseDefinitionsWithContinuationToken=function(n,t,i,r,u,f,o,s,h){h===void 0&&(h=null);var c={searchText:t,$expand:i,$top:r,continuationToken:u,queryOrder:f,propertySelectors:o,definitionIdFilter:s,path:h};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",responseType:e.TypeInfo.ReleaseDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.definitionsApiVersion}).spread(function(n,t,i){return{definitions:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.updateReleaseDefinitionWithApiVersion=function(n,t,i){return this._beginRequestWithAjaxResult({httpMethod:"PUT",area:"Release",locationId:"d8f96f24-8ea7-4cb6-baab-2df8fc515665",resource:"definitions",routeTemplate:"{project}/_apis/{area}/{resource}/{definitionId}",requestType:e.TypeInfo.ReleaseDefinition,responseType:e.TypeInfo.ReleaseDefinition,routeValues:{project:t},apiVersion:i,data:n})},t.prototype._beginRequest=function(t,i){return i===void 0&&(i=!1),!!this.DeploymentAuthorizationInfoList&&o.ArrayHelper.hasItems(this.DeploymentAuthorizationInfoList)&&(t.customHeaders||(t.customHeaders={}),t.customHeaders["x-rm-deploymentauthorization"]=JSON.stringify(this.DeploymentAuthorizationInfoList)),n.prototype._beginRequest.call(this,t,i)},t}(s.ReleaseHttpClient);t.ReleaseManagementHttpClient=c;l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(i){n.prototype.initializeConnection.call(this,i);var u=f.getPageContext().webAccessConfiguration.isHosted;this._httpClient=u?i.getHttpClient(c,t.serviceInstanceId):i.getHttpClient(c,r.ServiceInstanceTypes.TFS)},t.prototype.getHttpClient=function(){return this._httpClient},t.prototype.setDeploymentAuthorizationHeader=function(n){this._httpClient.DeploymentAuthorizationInfoList=n},t.prototype.beginGetReleaseDefinitions=function(n,t,i,r,u,f,o,s){s===void 0&&(s=null);var c=this._getProjectName(),l=t;return t||(t=e.ReleaseDefinitionExpands.Environments),this.getHttpClient().getReleaseDefinitionsWithContinuationToken(c,n,l,i,r,u,f,o,s).then(function(n){return n.definitions.forEach(function(n){h.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments)}),n})},t.prototype.beginGetReleaseDefinitionHistory=function(n){var t=this._getProjectName();return this.getHttpClient().getReleaseDefinitionHistory(t,n)},t.prototype.beginGetReleaseHistory=function(n){var t=this._getProjectName();return this.getHttpClient().getReleaseHistory(t,n)},t.prototype.beginGetReleaseRevision=function(n,t){var i=this._getProjectName();return this.getHttpClient().getReleaseRevision(i,n,t)},t.prototype.beginGetReleaseDefinitionRevision=function(n,t){var i=this._getProjectName();return this.getHttpClient().getReleaseDefinitionRevision(i,n,t)},t.prototype.beginGetReleaseDefinitionsForArtifactSource=function(n,t,i,r){return r||(r=this._getProjectName()),this.getHttpClient().getReleaseDefinitions(r,null,i,n,t)},t.prototype.beginGetProjects=function(n,t){return this.getHttpClient().getReleaseProjects(n,t)},t.prototype.beginGetReleaseDefinition=function(n,t){var u,r;return u=t?t:this._getProjectName(),r=i.defer(),this.getHttpClient().getReleaseDefinition(u,n).then(function(n){h.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments);r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype.beginDeleteReleaseDefinition=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().deleteReleaseDefinition(r,n,t,i)},t.prototype.beginGetReleaseDefinitionSummary=function(n,t,i,r){r===void 0&&(r=null);var u=this._getProjectName();return this.getHttpClient().getReleaseDefinitionSummary(u,n,t,i,r)},t.prototype.beginGetRelease=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getRelease(r,n,t,i)},t.prototype.beginGetReleaseEnvironment=function(n,t){var i=this._getProjectName();return this.getHttpClient().getReleaseEnvironment(i,n,t)},t.prototype.beginGetReleasesForArtifact=function(n,t,i,r){return n===null?this.getHttpClient().getReleases(null,null,null,null,null,null,null,null,null,null,null,null,e.ReleaseExpands.Environments|e.ReleaseExpands.Approvals,t,i,r):this.getHttpClient().getReleases(n,null,null,null,null,null,null,null,null,null,null,null,e.ReleaseExpands.Environments|e.ReleaseExpands.Approvals,t,i,r)},t.prototype.beginGetIssues=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getIssues(r,t,i)},t.prototype.beginGetAutoTriggerIssues=function(n,t,i,r){return this.getHttpClient().getAutoTriggerIssues(t,i,r,n)},t.prototype.beginGetReleaseWorkItems=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getReleaseWorkItemsRefs(u,n,t,i,r)},t.prototype.beginGetReleaseChanges=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getReleaseChanges(u,n,t,i,r)},t.prototype.beginGetReleasesWithContinuationToken=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var b=this._getProjectName();return this.getHttpClient().getReleasesWithContinuationToken(b,n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w)},t.prototype.beginUpdateRelease=function(n){var t=this._getProjectName();return this.getHttpClient().updateRelease(n,t,n.id)},t.prototype.beginPatchRelease=function(n,t,i,r){var u=this._getProjectName();this.getHttpClient().updateReleaseResource(t,u,n).then(i,r)},t.prototype.beginDeleteRelease=function(n,t){var i=this._getProjectName();return this.getHttpClient().deleteRelease(i,n,t)},t.prototype.beginUndeleteRelease=function(n,t){var i=this._getProjectName();return this.getHttpClient().undeleteRelease(i,n,t)},t.prototype.beginDownloadLog=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getTaskLog(u,n,t,i,r)},t.prototype.beginDownloadLog2=function(n,t,i,r,u){var f=this._getProjectName();return this.getHttpClient().getTaskLog2(f,n,t,i,r,u)},t.prototype.beginDownloadGateLog=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getGateLog(u,n,t,i,r)},t.prototype.beginGetTasks=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getTasksForTaskGroup(r,n,t,i)},t.prototype.beginGetTasks2=function(n,t,i,r){var u=this._getProjectName();return this.getHttpClient().getTasks2(u,n,t,i,r)},t.prototype.beginPatchApproval=function(n,t){var i=this._getProjectName();return this.getHttpClient().updateReleaseApproval(t,i,n)},t.prototype.beginPatchApprovals=function(n){var t=this._getProjectName();return this.getHttpClient().updateReleaseApprovals(n,t)},t.prototype.beginGetReleaseApprovals=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().getApprovals(r,n,t,i,null,null,null,null,!0)},t.prototype.beginListEnvironmentTemplates=function(){var n=this._getProjectName();return this.getHttpClient().listDefinitionEnvironmentTemplates(n)},t.prototype.beginGetEnvironmentTemplate=function(n){var t=this._getProjectName();return this.getHttpClient().getDefinitionEnvironmentTemplate(t,n)},t.prototype.beginSaveEnvironmentTemplate=function(n){var t=this._getProjectName();return this.getHttpClient().createDefinitionEnvironmentTemplate(n,t)},t.prototype.beginDeleteEnvironmentTemplate=function(n){var t=this._getProjectName();return this.getHttpClient().deleteDefinitionEnvironmentTemplate(t,n)},t.prototype.beginGetFlightAssignments=function(n){return this.getHttpClient().getFlightAssignments(n)},t.prototype.beginCreateReleaseDefinition=function(n){var t=this._getProjectName();return this.getHttpClient().createReleaseDefinition(n,t)},t.prototype.beginSaveReleaseDefinition=function(n){var t=this._getProjectName();return this.getHttpClient().updateReleaseDefinition(n,t)},t.prototype.beginCreateRelease=function(n,t){var i;return i=t?t:this._getProjectName(),this.getHttpClient().createRelease(n,i)},t.prototype.beginPatchReleaseEnvironment=function(n,t,i,r,u){var e=this._getProjectName(),f={status:i,scheduledDeploymentTime:null,comment:r};return u&&Object.keys(u).length>0&&(f.variables=u),this.getHttpClient().updateReleaseEnvironment(f,e,n,t)},t.prototype.beginPatchReleaseEnvironmentScheduledDeploymentTime=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().updateReleaseEnvironment({status:e.EnvironmentStatus.Undefined,scheduledDeploymentTime:i,comment:undefined},r,n,t)},t.prototype.beginGetArtifactTypes=function(){var n=this._getProjectName();return this.getHttpClient().getArtifactTypeDefinitions(n)},t.prototype.beginGetDefinitionArtifactsVersion=function(n,t){var i=t||this._getProjectName();return this.getHttpClient().getArtifactVersions(i,n)},t.prototype.beginGetArtifactsVersion=function(n){var t=this._getProjectName();return this.getHttpClient().getArtifactVersionsForSources(n,t)},t.prototype.beginPostInputValuesQuery=function(n){var t=this._getProjectName();return this.getHttpClient().getInputValues(n,t)},t.prototype.beginGetReleaseApproval=function(n,t){var i=this._getProjectName();return this.getHttpClient().getApproval(i,n,t)},t.prototype.beginGetApprovalHistory=function(n){var t=this._getProjectName();return this.getHttpClient().getApprovalHistory(t,n)},t.prototype.beginGetSummaryMailSections=function(n){var t=this._getProjectName();return this.getHttpClient().getSummaryMailSections(t,n)},t.prototype.beginSendSummaryMail=function(n,t){var i=this._getProjectName();return this.getHttpClient().sendSummaryMail(t,i,n)},t.prototype.beginGetManualIntervention=function(n,t){var i=this._getProjectName();return this.getHttpClient().getManualIntervention(i,n,t)},t.prototype.beginGetManualInterventions=function(n){var t=this._getProjectName();return this.getHttpClient().getManualInterventions(t,n)},t.prototype.beginUpdateManualIntervention=function(n,t,i){var r=this._getProjectName();return this.getHttpClient().updateManualIntervention(n,r,t,i)},t.prototype.beginGetSourceBranches=function(n){var t=this._getProjectName();return this.getHttpClient().getSourceBranches(t,n)},t.prototype.beginUpdateGates=function(n,t){var i=this._getProjectName();return this.getHttpClient().updateGates(t,i,n)},t.prototype.beginDeploymentsOnEnvironments=function(n){var t=this._getProjectName();return this.getHttpClient().getDeploymentsForMultipleEnvironments(n,t)},t.prototype.beginGetDeploymentsWithContinuationToken=function(n,t,i,r,u,f,e,o,s,h,c){var l=this._getProjectName();return this.getHttpClient().getDeploymentsWithContinuationToken(l,n,t,i,r,u,f,e,o,s,h,c)},t.prototype.beginGetReleaseSettings=function(){var n=this.getWebContext().project.id;return this.getHttpClient().getReleaseSettings(n)},t.prototype.beginUpdateReleaseSettings=function(n){var t=this.getWebContext().project.id;return this.getHttpClient().updateReleaseSettings(n,t)},t.prototype.beginGetQueuedReleases=function(n,t){return u.getClient(s.ReleaseHttpClient3_1).getQueuedReleases(n,t)},t.prototype.beginCreateFavorites=function(n,t,i){var r=this._getProjectName();return this._httpClient.createFavorites(n,r,t,i)},t.prototype.beginDeleteFavorites=function(n,t,i){var r=this._getProjectName();return this._httpClient.deleteFavorites(r,n,t,i)},t.prototype.beginGetFavorites=function(n,t){var i=this._getProjectName();return this._httpClient.getFavorites(i,n,t)},t.prototype.beginAddTag=function(n,t){return this._httpClient.addReleaseTag(this._getProjectName(),n,t)},t.prototype.beginDeleteTag=function(n,t){return this._httpClient.deleteReleaseTag(this._getProjectName(),n,t)},t.prototype.beginGetTags=function(){return this._httpClient.getTags(this._getProjectName())},t.prototype.beginGetDefinitionEnvironments=function(n){var t=this.getWebContext().project.id;return this._httpClient.getDefinitionEnvironments(t,n)},t.prototype.beginSaveReleaseDefinitionUsingApiVersion=function(n,t){var r=this,i=this._getProjectName(),u=n.id;return this.getHttpClient().updateReleaseDefinitionWithApiVersion(n,i,t).then(function(){return r.beginGetReleaseDefinition(u,i)})},t.prototype.beginUpdateFolder=function(n,t){var i=this._getProjectName();return this.getHttpClient().updateFolder(n,i,t)},t.prototype.beginGetReleaseDefinitionsfolders=function(n,t){var i=this._getProjectName();return this.getHttpClient().getFolders(i,n,t)},t.prototype.beginDeleteFolder=function(n){var t=this._getProjectName();return this.getHttpClient().deleteFolder(t,n)},t.prototype.beginCreateFolder=function(n,t){var i=this._getProjectName();return this.getHttpClient().createFolder(n,i,t)},t.prototype.beginGetTaskAttachments=function(n,t,i,r,u){var f=this._getProjectName();return this.getHttpClient().getReleaseTaskAttachments(f,n,t,i,r,u)},t.prototype.beginGetTaskAttachmentContent=function(n,t,i,r,u,f,e,o){var s=this._getProjectName();return this.getHttpClient().getReleaseTaskAttachmentContent(s,n,t,i,r,u,f,e,o).then(function(n){try{return h.FileEncoding.getStringFromArrayBuffer(n)}catch(t){return"Error Message: "+t}})},t.prototype._getProjectName=function(){var n=this.getWebContext().project.name;return!!n&&t.IllegalUrlPathCharsForCORS.some(function(t){return n.indexOf(t)>=0})?this.getWebContext().project.id:n},t.serviceInstanceId="0000000D-0000-8888-8000-000000000000",t.IllegalUrlPathCharsForCORS=["."],t}(u.VssService);t.ReleaseManagementService=l;t.getReleaseService=v});

define("PipelineWorkflow/Scripts/ServiceClients/DeployServiceClient",["require","exports","q","ReleasePipeline/Scripts/Clients/ReleaseClient","ReleaseManagement/Core/Contracts","VSS/Service","VSS/Context"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(){}return n.getKey=function(){return"SERVICE_CLIENT_KEY_DEPLOY_SERVICE_CLIENT"},n.prototype.initialize=function(){var n=e.getDefaultWebContext(),t=new f.VssConnection(n);this._service=t.getService(r.ReleaseManagementService)},n.prototype.createDefinition=function(n){return this._service.beginCreateReleaseDefinition(n)},n.prototype.updateDefinition=function(){throw new Error("Not yet implemented");},n.prototype.getDefinition=function(n,t){return this._service.beginGetReleaseDefinition(n,t)},n.prototype.getDefinitionRevisions=function(n){return this._service.beginGetReleaseDefinitionHistory(n)},n.prototype.saveDefinition=function(n){return this._service.beginSaveReleaseDefinition(n)},n.prototype.getSettings=function(){return this._service.beginGetReleaseSettings()},n.prototype.getArtifactTypesDefinition=function(){return this._service.beginGetArtifactTypes()},n.prototype.getArtifactsVersion=function(n){return this._service.beginGetArtifactsVersion(n)},n.prototype.getArtifactSourceBranches=function(n){return this._service.beginGetSourceBranches(n)},n.prototype.postInputValuesQuery=function(n){return this._service.beginPostInputValuesQuery(n)},n.prototype.getDefinitionRevision=function(n,t){return this._service.beginGetReleaseDefinitionRevision(n,t)},n.prototype.getEnvironmentTemplate=function(n){return this._service.beginGetEnvironmentTemplate(n)},n.prototype.getEnvironmentTemplates=function(){return this._service.beginListEnvironmentTemplates()},n.prototype.createRelease=function(n,t){return this._service.beginCreateRelease(n,t)},n.prototype.updateRelease=function(n){return this._service.beginUpdateRelease(n)},n.prototype.patchRelease=function(n,t){var r=i.defer();return this._service.beginPatchRelease(n,t,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},n.prototype.beginCancelReleaseEnvironment=function(n,t,i){return this._service.beginPatchReleaseEnvironment(n,t,u.EnvironmentStatus.Canceled,i)},n.prototype.beginDeployReleaseEnvironment=function(n,t,i,r){return this._service.beginPatchReleaseEnvironment(n,t,u.EnvironmentStatus.InProgress,i,r)},n.prototype.getDefinitionArtifactsVersions=function(n,t){return this._service.beginGetDefinitionArtifactsVersion(n,t)},n.prototype.setDeploymentAuthorizationHeader=function(n){this._service.setDeploymentAuthorizationHeader(n)},n.prototype.saveDefinitionUsingApiVersion=function(n,t){return this._service.beginSaveReleaseDefinitionUsingApiVersion(n,t)},n.prototype.getDeploymentsOnEnvironments=function(n){return this._service.beginDeploymentsOnEnvironments(n)},n.prototype.getReleaseDefinitionsForArtifactSource=function(n,t,i,r){return this._service.beginGetReleaseDefinitionsForArtifactSource(n,t,i,r)},n.prototype.getReleaseDefinitions=function(n,t,i,r,u,f,e,o){return this._service.beginGetReleaseDefinitions(n,t,i,r,u,f,e,o)},n.prototype.saveEnvironmentAsTemplate=function(n){return this._service.beginSaveEnvironmentTemplate(n)},n.prototype.deleteTemplate=function(n){return this._service.beginDeleteEnvironmentTemplate(n)},n.prototype.getReleaseDefinitionsFolders=function(){return this._service.beginGetReleaseDefinitionsfolders()},n.prototype.getRelease=function(n,t){var i=t===!1?u.ApprovalFilters.ManualApprovals|u.ApprovalFilters.AutomatedApprovals:u.ApprovalFilters.All;return this._service.beginGetRelease(n,i,["DownloadBuildArtifactsUsingTask, ReleaseCreationSource"])},n.prototype.getReleaseHistory=function(n){return this._service.beginGetReleaseHistory(n)},n.prototype.getReleaseRevision=function(n,t){return this._service.beginGetReleaseRevision(n,t)},n.prototype.createFolder=function(n,t){return this._service.beginCreateFolder(n,t)},n.prototype.updateFolder=function(n,t){return this._service.beginUpdateFolder(n,t)},n.prototype.deleteDefinition=function(n,t,i){return this._service.beginDeleteReleaseDefinition(n,t,i)},n.prototype.getDeployments=function(n,t,i,r,u,f,e,o,s,h){return this._service.beginGetDeploymentsWithContinuationToken(n,t,i,r,u,f,e,o,s,h)},n.prototype.getLatestDeploymentAttempts=function(n,t,i,r,u,f,e,o,s,h){return this._service.beginGetDeploymentsWithContinuationToken(n,t,i,r,u,f,e,o,s,h,!0)},n.prototype.deleteFolder=function(n){return this._service.beginDeleteFolder(n)},n.prototype.getReleaseWorkItems=function(n,t,i,r){return this._service.beginGetReleaseWorkItems(n,t,i,r)},n.prototype.getReleaseChanges=function(n,t,i,r){return this._service.beginGetReleaseChanges(n,t,i,r)},n.prototype.getReleaseApprovals=function(n,t,i){return this._service.beginGetReleaseApprovals(n,t,i)},n.prototype.getReleases=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){return this._service.beginGetReleasesWithContinuationToken(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w)},n.prototype.getTags=function(){return this._service.beginGetTags()},n.prototype.addTag=function(n,t){return this._service.beginAddTag(n,t)},n.prototype.deleteTag=function(n,t){return this._service.beginDeleteTag(n,t)},n.prototype.downloadLog=function(n,t,i,r){return this._service.beginDownloadLog(n,t,i,r)},n.prototype.downloadLog2=function(n,t,i,r,u){return this._service.beginDownloadLog2(n,t,i,r,u)},n.prototype.downloadGateLog=function(n,t,i,r){return this._service.beginDownloadGateLog(n,t,i,r)},n.prototype.getReleaseTasks=function(n,t,i){return this._service.beginGetTasks(n,t,i)},n.prototype.getReleaseTasks2=function(n,t,i,r){return this._service.beginGetTasks2(n,t,i,r)},n.prototype.patchReleaseEnvironmentScheduledDeploymentTime=function(n,t,i){return this._service.beginPatchReleaseEnvironmentScheduledDeploymentTime(n,t,i)},n.prototype.deleteRelease=function(n,t){return this._service.beginDeleteRelease(n,t)},n.prototype.undeleteRelease=function(n,t){return this._service.beginUndeleteRelease(n,t)},n.prototype.updateManualIntervention=function(n,t,i){return this._service.beginUpdateManualIntervention(n,i,t)},n.prototype.updateGate=function(n,t){return this._service.beginUpdateGates(n,t)},n.prototype.getReleaseTaskAttachments=function(n,t,i,r,u){return this._service.beginGetTaskAttachments(n,t,i,r,u)},n.prototype.getReleaseTaskAttachmentContent=function(n,t,i,r,u,f,e,o){return this._service.beginGetTaskAttachmentContent(n,t,i,r,u,f,e,o)},n}();t.DeployServiceClient=o});

define("PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase",["require","exports","DistributedTaskControls/Common/Service/ServiceClientManager","DistributedTaskControls/Common/Sources/SourceBase","PipelineWorkflow/Scripts/ServiceClients/DeployServiceClient"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,[]);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._deployPipelineClient=i.ServiceClientManager.GetServiceClient(u.DeployServiceClient),t}return __extends(t,n),t.prototype.getClient=function(){return this._deployPipelineClient},t}(r.SourceBase);t.ReleaseManagementSourceBase=f});

define("DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common",["require","exports","q","VSS/VSS","VSS/Context","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","VSS/Utils/String","jQueryUI/core","jQueryUI/widget"],function(n,t,i,r,u,f,e){function y(n){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)}function p(){return u.getPageContext().webAccessConfiguration.isHosted?f.VisualStudioTeamServicesProductName:f.TeamFoundationServerProductName}function w(n,t,r){var f=this,u=i.defer(),o=n.beginExecuteServiceEndpointRequest(t,e.EmptyGuidString);return o.then(function(i){r=b(i,r);i.callbackRequired?(Object.assign(t.dataSourceDetails.parameters,i.callbackContextParameters),f.recursivelyExecuteServiceEndpointRequest(n,t,r).then(function(n){u.resolve(n)},function(n){u.reject(n)})):e.equals(i.statusCode,"ok",!0)?(i.result=r,u.resolve(i)):u.resolve(i)},function(n){u.reject(n)}),u.promise}function b(n,t){var i=n.result;return i&&i.length>0&&(t=t?t.concat(n.result):n.result),t}var l,o,a,v,s,h,c;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.WebAccessAutoCreateServicePrincipal="WebAccess.AutoCreateServicePrincipal";n.WebAccessAutoCreateServicePrincipalAcrossTenants="WebAccess.AutoCreateServicePrincipalAcrossTenants";n.WebAccessAutoCreateOAuthBasedServicePrincipalAcrossTenants="WebAccess.AutoCreateOAuthBasedServicePrincipalAcrossTenants";n.WebAccessAutoCreateServicePrincipalCompleteCallbackByAuthcode="WebAccess.AutoCreateServicePrincipalCompleteCallbackByAuthcode";n.WebAccessHideServicePrincipal="WebAccess.HideServicePrincipal";n.WebAccessEnableAzureStackForServicePrincipal="WebAccess.EnableAzureStackForServicePrincipal";n.WebAccessEnableManagementGroupsForServicePrincipal="WebAccess.EnableManagementGroupsForServicePrincipal";n.WebAccessEnableResourceGroupScopedServicePrincipal="WebAccess.EnableResourceGroupScopedServicePrincipal";n.WebAccessEnableManagedServiceIdentityAuthenticationScheme="WebAccess.EnableManagedServiceIdentityAuthenticationScheme";n.WebAccessEnableSpnCertificateBasedAuthentication="WebAccess.EnableSpnCertificateBasedAuthentication";n.ResourceAuthorizationforVGEndpoint="WebAccess.DistributedTask.ResourceAuthorization.VGEndpoint";n.AzureSubscriptionBasedDockerRegistry="ServiceEndpoints.AzureSubscriptionBasedDockerRegistry";n.EnableOAuthSchemeMigration="ServiceEndpoints.OAuthSchemeMigration";n.EnableGithubEndpointContribution="ServiceEndpoints.EnableGithubEndpointContribution";n.EnableMlWorkspaceAsScopeInARMEndpoint="ServiceEndpoints.EnableMlWorkspaceAsScope";n.DoNotAuthorizeAllPipelinesByDefault="Pipelines.Policy.DoNotAuthorizeAllPipelinesByDefault"}(l=t.FeatureAvailabilityFlags||(t.FeatureAvailabilityFlags={})),function(n){n.UsernamePassword="UsernamePassword";n.Certificate="Certificate";n.ServicePrincipal="ServicePrincipal";n.PersonalAccessToken="PersonalAccessToken";n.OAuth="OAuth";n.OAuth2="OAuth2";n.None="None";n.Token="Token";n.ManagedServiceIdentity="ManagedServiceIdentity";n.Kubernetes="Kubernetes";n.InstallationToken="InstallationToken";n.JiraConnectApp="JiraConnectApp"}(o=t.EndpointAuthorizationSchemes||(t.EndpointAuthorizationSchemes={})),function(n){n.OboAuthorization="oboAuthorization";n.TenantId="tenantid";n.ClientCertificateData="ClientCertificateData";n.ClientKeyData="ClientKeyData";n.Username="username";n.Password="password";n.ApiToken="apiToken";n.AccessToken="AccessToken";n.ConfigurationId="ConfigurationId";n.ServicePrincipalKeyAuth="spnKey";n.ServicePrincipalCertificateAuth="spnCertificate"}(a=t.EndpointAuthorizationParameters||(t.EndpointAuthorizationParameters={})),function(n){n.Azure="azure";n.AzureRM="azurerm";n.AzureDeploymentManager="azuredeploymentmanager";n.Bitbucket="bitbucket";n.Chef="chef";n.ExternalGit="git";n.Generic="generic";n.GitHub="github";n.GitHubBoards="githubboards";n.GitHubEnterprise="githubenterprise";n.Jenkins="jenkins";n.Jira="jira";n.Subversion="subversion";n.SSH="ssh";n.Docker="dockerregistry";n.Kubernetes="kubernetes"}(v=t.ServiceEndpointType||(t.ServiceEndpointType={}));s=function(){function n(n,t){t||(t=n.scheme===o.PersonalAccessToken||n.scheme===o.OAuth?{parameters:{accessToken:n.passwordKey},scheme:n.scheme}:{parameters:{username:n.username,password:n.passwordKey},scheme:o.UsernamePassword});var i={id:n.endpointId,description:"",administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,isShared:undefined,isReady:undefined,operationStatus:null,owner:undefined};this.endPoint=i}return n.prototype.toServiceEndpoint=function(){return this.endPoint},n.prototype.toServiceEndpointDetails=function(){return{type:this.endPoint.type,url:this.endPoint.url,authorization:this.endPoint.authorization,data:this.endPoint.data}},n}();t.ServiceEndpointDetails=s;h=function(){function n(n,t){t||n.scheme===o.UsernamePassword&&(t={parameters:{username:n.username,password:n.passwordKey,email:n.email,registry:n.registry},scheme:n.scheme});var i={id:n.endpointId,description:"",administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,isShared:undefined,isReady:undefined,operationStatus:null,owner:undefined};this.endPoint=i}return n.prototype.toServiceEndpoint=function(){return this.endPoint},n.prototype.toServiceEndpointDetails=function(){return{type:this.endPoint.type,url:this.endPoint.url,authorization:this.endPoint.authorization,data:this.endPoint.data}},n}();t.DockerRegistryServiceEndpointDetails=h;c=function(){function n(n,t){this.kubeconfigAuthType="Kubeconfig";var i={id:n.endpointId,description:"",administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,isShared:undefined,isReady:!1,operationStatus:null,owner:undefined};this.endPoint=i}return n.prototype.toServiceEndpoint=function(){return this.endPoint},n.prototype.toServiceEndpointDetails=function(){return{type:this.endPoint.type,url:this.endPoint.url,authorization:this.endPoint.authorization,data:this.endPoint.data}},n}();t.KubernetesServiceEndpointDetails=c;t.isGuid=y;t.productName=p;t.recursivelyExecuteServiceEndpointRequest=w;r.tfsModuleLoaded("ServiceEndpoint.Common",t)});

define("DistributedTasksCommon/TFS.Knockout.Tree",["require","exports","knockout","VSS/VSS","VSS/Utils/UI","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f){var a,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});a=u.domElem;i.observableArray.fn.subscribeArrayChanged=function(n,t,r){var u,e,f=null,o,s;return o=this.subscribe(function(n){f=n.slice(0)},null,"beforeChange"),s=this.subscribe(function(o){var s=i.utils.compareArrays(f,o);for(u=0,e=s.length;u<e;u++)switch(s[u].status){case"deleted":t&&t.call(r,s[u].value);break;case"added":n&&n.call(r,s[u].value)}f=null}),[o,s]};e=function(){function n(n,t){var r=this;this.parent=i.observable();this.expanded=i.observable(!1);this.nodes=i.isObservable(n)?n:i.observableArray((n||[]).sort(t));this.root=i.computed({read:function(){return r.parent()?r.parent().root():null}});$.each(this.nodes(),function(n,t){r._onNodeAdded(t)});this.nodes.subscribe(function(n){$.each(n,function(n,t){r._onNodeAdded(t)})});this.nodes.subscribeArrayChanged(function(n){r._onNodeAdded(n)},function(n){r._onNodeRemoved(n)});this.isFolder=i.computed({read:function(){return r.nodes().length>0}})}return n.prototype._onNodeAdded=function(n){n.parent(this)},n.prototype._onNodeRemoved=function(n){n.parent(null)},n.prototype._onExpandIconClick=function(){this.expanded(!this.expanded())},n}();t.TreeNodeCollection=e;o=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.selectable=i.observable(!0),r.selected=i.observable(!1),r.hovering=i.observable(!1),r}return __extends(t,n),t.prototype._onClick=function(n,t){var i=this.root();!i||i._onClick(n,t,this)},t.prototype._onMouseover=function(n){var t=this.root();!t||t.hoverNode(n)},t.prototype._onMouseout=function(){var n=this.root();!n||n.hoverNode(null)},t.prototype._onContextMenuClick=function(n,t){var i=this.root();!i||i._onContextMenuClick(n,t)},t.prototype._onTreeIconClick=function(n,t){this.isFolder()&&this.expanded(!this.expanded());var i=this.root();!i||i._onTreeIconClick(n,t)},t.prototype._onNodeIconClick=function(n,t){var i=this.root();!i||i._onNodeIconClick(n,t)},t.prototype._onKeyDown=function(n,t){var i=this.root();return!i?!0:i._onKeyDown(n,t,this)},t}(e);t.BaseTreeNode=o;s=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.text=i.observable(""),r.cssClass=i.observable(""),r.showIcon=i.observable(!1),r.nodeIconCssClass=i.observable(""),r.dirty=i.observable(!1),r}return __extends(t,n),t}(o);t.StaticTreeNode=s;h=function(){function n(n,t){this.root=new s;this._nodes=[];this.root.text(n);this.root.selectable(!1);this.root.cssClass(t);this.root.showIcon(!1);this.root.isFolder=i.computed({read:function(){return!0}})}return n.prototype.setExpanded=function(n){this.root.expanded(n)},n.prototype.add=function(n,t){t===void 0&&(t=!1);t?this.root.nodes.unshift(n):this.root.nodes.push(n);this._nodes=this.root.nodes.peek()},n.prototype.setNodes=function(n){this.root.nodes(n);this._nodes=n},n.prototype.resetNodes=function(){this.root.nodes(this._nodes)},n.prototype.filterNodes=function(n){var t="",i;n&&(t=n.toLowerCase());i=this._nodes.filter(function(n){if(n&&n.text){var i=n.text;try{return i().toLowerCase().indexOf(t)>=0}catch(r){return console.log("The nodes of the section has to be subscribable and of type ITreeNode to get filtered"),!1}}return!1});this.root.nodes(i)},n}();t.BaseTreeSection=h;c=function(){function n(){}return n}();t.TreeNodeEventArgs=c;l=function(n){function t(t,r){var u=__construct(this,n,[t,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.onClick=i.observable(),u.onContextMenuClick=i.observable(),u.onKeyDown=i.observable(),u._selectedNode=i.observable(),u._hoverNode=i.observable(),u.nodeSelectedByClick=!1,u.root=i.computed({read:function(){return u}}),$.each(u.nodes(),function(n,t){u._onNodeAdded(t)}),u.selectedNode=i.computed({read:function(){return u._selectedNode()},write:function(n,t){var i,r;u.nodeSelectedByClick=t===!0;i=u._selectedNode();i===n||u._onNodeSelecting(n,t)||(!i||u._onNodeUnselected(i),n&&(r=n.parent.peek(),r&&r.expanded(!0)),u._selectedNode(n),u._onNodeSelected(n))}}),u.hoverNode=i.computed({read:function(){return u._hoverNode()},write:function(n){var t=u._hoverNode();!t||u._onNodeMouseout(t);u._hoverNode(n);u._onNodeMouseover(n)}}),u}return __extends(t,n),t.prototype.selectNode=function(n){var t=this;$.each(this.nodes(),function(i,r){return!t._selectNode(r,n)})},t.prototype._selectNode=function(n,t){var r=this,i;return t(n)?(this.selectedNode(n),!0):(i=!1,$.each(n.nodes(),function(n,u){if(r._selectNode(u,t))return i=!0,!1}),i)},t.prototype._onNodeUnselected=function(n){!n||n.selected(!1)},t.prototype._onNodeSelected=function(n){!n||n.selected(!0)},t.prototype._onNodeMouseout=function(n){!n||n.hovering(!1)},t.prototype._onNodeMouseover=function(n){!n||n.hovering(!0)},t.prototype._onNodeSelecting=function(){return!1},t.prototype._onClick=function(n,t,i){if(n.selectable()){var r=this.selectedNode;r(n,!0)}this.onClick({node:n,eventObject:t,value:i})},t.prototype._onContextMenuClick=function(n,t,i){this.onContextMenuClick({node:n,eventObject:t,value:i})},t.prototype._onKeyDown=function(n,t,i){switch(t.keyCode){case u.KeyCode.ENTER:return f.AccessibilityHelper.triggerClickOnEnterPress(t);default:this.onKeyDown({node:n,eventObject:t,value:i})}return!0},t.prototype._onTreeIconClick=function(){},t.prototype._onNodeIconClick=function(){},t}(e);t.TreeViewModel=l;r.tfsModuleLoaded("TFS.Knockout.Tree",t)});

define("TFS/Build/RestClient",["require","exports","TFS/Build/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function rt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&tt[window.VSS.VssSDKRestVersion]?r.getClient(tt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(o,undefined,undefined,undefined,n)}var e,s,h,c,l,a,o,v,y,p,w,b,k,d,g,nt,it,tt;Object.defineProperty(t,"__esModule",{value:!0});e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d84ac5c6-edc7-43d5-adc9-1b34be5dea09",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getBuildTags=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.deleteBuildTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t,tag:i},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.addBuildTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,buildId:i},apiVersion:this.tagsApiVersion_6e6114b2,data:n})},t.prototype.addBuildTag=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"6e6114b2-8161-44c8-8f6c-c5505782427f",resource:"tags",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,buildId:t,tag:i},apiVersion:this.tagsApiVersion_6e6114b2})},t.prototype.updateBuildSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d",resource:"settings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.settingsApiVersion,data:n})},t.prototype.getBuildSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"aa8c1c9c-ef8b-474a-b8c4-785c7b191d0d",resource:"settings",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.settingsApiVersion})},t.prototype.getDefinitionRevisions=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7c116775-52e5-453e-8c5d-914d9762d8c4",resource:"revisions",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildDefinitionRevision,responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:this.revisionsApiVersion})},t.prototype.getResourceUsage=function(){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"3813d06c-9e36-4ea1-aac3-61a485d60e3d",resource:"ResourceUsage",routeTemplate:"_apis/build/{resource}",apiVersion:this.resourceUsageApiVersion})},t.prototype.getBuildOptionDefinitions=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"591cb5a4-2d46-4f3a-a697-5cd42b6bd332",resource:"options",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.BuildOptionDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.optionsApiVersion})},t.prototype.getBuildControllers=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"fcac1932-2ee1-437f-9b6f-7f696be858f6",resource:"Controllers",routeTemplate:"_apis/build/{resource}/{controllerId}",responseType:i.TypeInfo.BuildController,responseIsCollection:!0,queryParams:t,apiVersion:this.controllersApiVersion})},t.prototype.getBuildController=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"fcac1932-2ee1-437f-9b6f-7f696be858f6",resource:"Controllers",routeTemplate:"_apis/build/{resource}/{controllerId}",responseType:i.TypeInfo.BuildController,routeValues:{controllerId:n},apiVersion:this.controllersApiVersion})},t.prototype.getBuildBadgeData=function(n,t,i,r){var u={repoId:i,branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"21b3b9ce-fad5-4567-9ad0-80679794e003",resource:"buildbadge",routeTemplate:"{project}/_apis/{area}/repos/{repoType}/badge",routeValues:{project:n,repoType:t},queryParams:u,apiVersion:this.buildbadgeApiVersion})},t.prototype.getBuildBadge=function(n,t,i,r){var u={repoId:i,branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"21b3b9ce-fad5-4567-9ad0-80679794e003",resource:"buildbadge",routeTemplate:"{project}/_apis/{area}/repos/{repoType}/badge",routeValues:{project:n,repoType:t},queryParams:u,apiVersion:this.buildbadgeApiVersion})},t.prototype.getBadge=function(n,t,i){var r={branchName:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"de6a4df8-22cd-44ee-af2d-39f6aa7a4261",resource:"badge",routeTemplate:"_apis/public/{area}/definitions/{project}/{definitionId}/{resource}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.badgeApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To5=e;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.workitemsApiVersion})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r){var u={$top:r};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:u,apiVersion:this.workitemsApiVersion_5a21f5d2,data:n})},t.prototype.getBuildWorkItemsRefs=function(n,t,i){var r={$top:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.workitemsApiVersion_5a21f5d2})},t.prototype.getBuildReportHtmlContent=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.reportApiVersion})},t.prototype.getBuildReport=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.reportApiVersion})},t.prototype.getBuildLogsZip=function(n,t){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},apiVersion:this.logsApiVersion})},t.prototype.getBuildLogs=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:this.logsApiVersion})},t.prototype.getBuildLogLines=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseIsCollection:!0,routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.getBuildLog=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:this.logsApiVersion})},t.prototype.updateFolder=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getFolders=function(n,t,r){var u={queryOrder:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",responseType:i.TypeInfo.Folder,responseIsCollection:!0,routeValues:{project:n,path:t},queryParams:u,apiVersion:this.foldersApiVersion})},t.prototype.deleteFolder=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",routeValues:{project:n,path:t},apiVersion:this.foldersApiVersion})},t.prototype.createFolder=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"a906531b-d2da-4f55-bda7-f3e676cc50d9",resource:"folders",routeTemplate:"{project}/_apis/{area}/{resource}/{*path}",requestType:i.TypeInfo.Folder,responseType:i.TypeInfo.Folder,routeValues:{project:t,path:r},apiVersion:this.foldersApiVersion,data:n})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.changesApiVersion})},t.prototype.updateBuilds=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.buildsApiVersion,data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={retry:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:this.buildsApiVersion,data:n})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,sourceBuildId:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:this.buildsApiVersion,data:n})},t.prototype.deleteBuild=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},apiVersion:this.buildsApiVersion})},t.prototype.getArtifacts=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},apiVersion:this.artifactsApiVersion})},t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:this.artifactsApiVersion,data:n})},t}(e);t.CommonMethods3To5=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDefinitionTags=function(n,t,i){var r={revision:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.tagsApiVersion_cb894432})},t.prototype.deleteDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t,tag:i},apiVersion:this.tagsApiVersion_cb894432})},t.prototype.addDefinitionTags=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:t,definitionId:i},apiVersion:this.tagsApiVersion_cb894432,data:n})},t.prototype.addDefinitionTag=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"cb894432-134a-4d31-a839-83beceaace4b",resource:"tags",routeTemplate:"{project}/_apis/{area}/definitions/{DefinitionId}/{resource}/{*tag}",responseIsCollection:!0,routeValues:{project:n,definitionId:t,tag:i},apiVersion:this.tagsApiVersion_cb894432})},t.prototype.getDefinitionMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d973b939-0ce0-4fec-91d8-da3940fa1827",resource:"Metrics",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:this.metricsApiVersion})},t.prototype.getProjectMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7433fae7-a6bc-41dc-a6e2-eef9005ce41a",resource:"Metrics",routeTemplate:"{project}/_apis/{area}/{resource}/{metricAggregationType}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,metricAggregationType:t},queryParams:u,apiVersion:this.metricsApiVersion_7433fae7})},t}(s);t.CommonMethods3_1To5=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateDefinitionProperties=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"d9826ad7-2a68-46a9-a6e9-677698777895",resource:"properties",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",routeValues:{project:t,definitionId:i},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion,data:n})},t.prototype.getDefinitionProperties=function(n,t,i){var r={filter:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d9826ad7-2a68-46a9-a6e9-677698777895",resource:"properties",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",routeValues:{project:n,definitionId:t},queryParams:r,apiVersion:this.propertiesApiVersion})},t.prototype.updateBuildProperties=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0a6312e9-0627-49b7-8083-7d74a64849c9",resource:"properties",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:t,buildId:i},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion_0a6312e9,data:n})},t.prototype.getBuildProperties=function(n,t,i){var r={filter:i&&i.join(",")};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0a6312e9-0627-49b7-8083-7d74a64849c9",resource:"properties",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:this.propertiesApiVersion_0a6312e9})},t}(h);t.CommonMethods3_2To5=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate,responseType:i.TypeInfo.BuildDefinitionTemplate,routeValues:{project:t,templateId:r},apiVersion:this.templatesApiVersion,data:n})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.templatesApiVersion})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate,routeValues:{project:n,templateId:t},apiVersion:this.templatesApiVersion})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:this.templatesApiVersion})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition,responseType:i.TypeInfo.BuildDefinition,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:this.definitionsApiVersion,data:n})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:this.definitionsApiVersion})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:this.definitionsApiVersion})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition,responseType:i.TypeInfo.BuildDefinition,routeValues:{project:t},queryParams:f,apiVersion:this.definitionsApiVersion,data:n})},t}(c);t.CommonMethods4To5=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.listWebhooks=function(n,t,r,u){var f={serviceEndpointId:r,repository:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8f20ff82-9498-4812-9f6e-9c01bdc50e99",resource:"webhooks",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseType:i.TypeInfo.RepositoryWebhook,responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:f,apiVersion:this.webhooksApiVersion})},t.prototype.restoreWebhooks=function(n,t,r,u,f){var e={serviceEndpointId:u,repository:f};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"build",locationId:"793bceb8-9736-4030-bd2f-fb3ce6d6b478",resource:"webhooks",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",requestType:i.TypeInfo.DefinitionTriggerType,routeValues:{project:t,providerName:r},queryParams:e,apiVersion:this.webhooksApiVersion_793bceb8,data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:this.timelineApiVersion})},t.prototype.listSourceProviders=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"3ce81729-954f-423d-a581-9fea01d25186",resource:"sourceProviders",routeTemplate:"{project}/_apis/{resource}",responseType:i.TypeInfo.SourceProviderAttributes,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.sourceProvidersApiVersion})},t.prototype.listRepositories=function(n,t,i,r,u,f,e){var o={serviceEndpointId:i,repository:r,resultSet:u,pageResults:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d44d1680-f978-4834-9b93-8c6e132329c9",resource:"repositories",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",routeValues:{project:n,providerName:t},queryParams:o,apiVersion:this.repositoriesApiVersion})},t.prototype.getPathContents=function(n,t,i,r,u,f){var e={serviceEndpointId:i,repository:r,commitOrBranch:u,path:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"7944d6fb-df01-4709-920a-7a189aa34037",resource:"pathContents",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:e,apiVersion:this.pathContentsApiVersion})},t.prototype.getFileContents=function(n,t,i,r,u,f){var e={serviceEndpointId:i,repository:r,commitOrBranch:u,path:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"29d12225-b1d9-425f-b668-6c594a981313",resource:"fileContents",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",routeValues:{project:n,providerName:t},queryParams:e,apiVersion:this.fileContentsApiVersion})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:this.changesApiVersion_54572c7b})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:this.buildsApiVersion})},t.prototype.listBranches=function(n,t,i,r){var u={serviceEndpointId:i,repository:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e05d4403-9b81-4244-8763-20fde28d1976",resource:"branches",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}",responseIsCollection:!0,routeValues:{project:n,providerName:t},queryParams:u,apiVersion:this.branchesApiVersion})},t.prototype.getAttachment=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"af5122d3-3438-485e-a25a-2dbbfde84ee6",resource:"attachments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{timelineId}/{recordId}/{resource}/{type}/{name}",routeValues:{project:n,buildId:t,timelineId:i,recordId:r,type:u,name:f},apiVersion:this.attachmentsApiVersion})},t.prototype.getAttachments=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f2192269-89fa-4f94-baf6-8fb128c55159",resource:"attachments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{type}",responseIsCollection:!0,routeValues:{project:n,buildId:t,type:i},apiVersion:this.attachmentsApiVersion_f2192269})},t}(l);t.CommonMethods4_1To5=a;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_f2192269=r.branchesApiVersion=r.buildbadgeApiVersion=r.fileContentsApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.pathContentsApiVersion=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9=r.repositoriesApiVersion=r.settingsApiVersion=r.sourceProvidersApiVersion=r.webhooksApiVersion=r.webhooksApiVersion_793bceb8="5.0-preview.1",r.badgeApiVersion=r.changesApiVersion=r.changesApiVersion_54572c7b=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.revisionsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.tagsApiVersion_cb894432=r.timelineApiVersion=r.workitemsApiVersion=r.workitemsApiVersion_5a21f5d2="5.0-preview.2",r.templatesApiVersion="5.0-preview.3",r.artifactsApiVersion=r.buildsApiVersion="5.0-preview.4",r.definitionsApiVersion="5.0-preview.6",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"5.0-preview.4"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"5.0-preview.4"})},t.prototype.getFile=function(n,t,i,r,u){var f={artifactName:t,fileId:i,fileName:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:u,buildId:n},queryParams:f,apiVersion:"5.0-preview.4"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minTime:f,maxTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"5.0-preview.4"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p,processType:w,yamlFilename:b};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:"5.0-preview.6"})},t.prototype.restoreDefinition=function(n,t,r){var u={deleted:t};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition,routeValues:{project:r,definitionId:n},queryParams:u,apiVersion:"5.0-preview.6"})},t.prototype.getLatestBuild=function(n,t,r){var u={branchName:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54481611-01f4-47f3-998f-160da0f0c229",resource:"latest",routeTemplate:"{project}/_apis/{area}/{resource}/{*definition}",responseType:i.TypeInfo.Build,routeValues:{project:n,definition:t},queryParams:u,apiVersion:"5.0-preview.1"})},t.prototype.getBuildLogZip=function(n,t,i,r,u){var f={startLine:r,endLine:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:f,apiVersion:"5.0-preview.2"})},t.prototype.getPullRequest=function(n,t,i,r,u){var f={repositoryId:r,serviceEndpointId:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d8763ec7-9ff0-4fb4-b2b2-9d757906ff14",resource:"pullRequests",routeTemplate:"{project}/_apis/sourceProviders/{providerName}/{resource}/{pullRequestId}",routeValues:{project:n,providerName:t,pullRequestId:i},queryParams:f,apiVersion:"5.0-preview.1"})},t.prototype.authorizeDefinitionResources=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"ea623316-1967-45eb-89ab-e9e6110cf2d6",resource:"resources",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:t,definitionId:i},apiVersion:"5.0-preview.1",data:n})},t.prototype.getDefinitionResources=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"ea623316-1967-45eb-89ab-e9e6110cf2d6",resource:"resources",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseIsCollection:!0,routeValues:{project:n,definitionId:t},apiVersion:"5.0-preview.1"})},t.prototype.getStatusBadge=function(n,t,i,r,u,f,e){var o={branchName:i,stageName:r,jobName:u,configuration:f,label:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"07acfdce-4757-4439-b422-ddd13a2fcc10",resource:"status",routeTemplate:"{project}/_apis/{area}/{resource}/{*definition}",routeValues:{project:n,definition:t},queryParams:o,apiVersion:"5.0-preview.1"})},t}(a);t.BuildHttpClient5=o;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.changesApiVersion_54572c7b=r.controllersApiVersion=r.definitionsApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.templatesApiVersion=r.timelineApiVersion=r.workitemsApiVersion_5a21f5d2="4.1",r.attachmentsApiVersion=r.attachmentsApiVersion_f2192269=r.branchesApiVersion=r.buildbadgeApiVersion=r.fileContentsApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.pathContentsApiVersion=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9=r.repositoriesApiVersion=r.sourceProvidersApiVersion=r.webhooksApiVersion=r.webhooksApiVersion_793bceb8="4.1-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="4.1-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.1"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minTime:f,maxTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"4.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"4.1"})},t}(a);t.BuildHttpClient4_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.definitionsApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.templatesApiVersion=r.workitemsApiVersion_5a21f5d2="4.0",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9="4.0-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"4.0"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"4.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"4.0"})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"4.0"})},t}(l);t.BuildHttpClient4=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.2",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7=r.propertiesApiVersion=r.propertiesApiVersion_0a6312e9="3.2-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.2"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.2",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.2"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.2"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.2"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.2",data:n})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.2"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.2"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.2"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.2",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.2"})},t}(c);t.BuildHttpClient3_2=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.1",r.buildbadgeApiVersion=r.foldersApiVersion=r.metricsApiVersion=r.metricsApiVersion_7433fae7="3.1-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.tagsApiVersion_cb894432=r.workitemsApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.1"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.1"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.1",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.1"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.1"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.1",data:n})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.1"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.1"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.1"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.1",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.1"})},t}(h);t.BuildHttpClient3_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactsApiVersion=r.badgeApiVersion=r.buildsApiVersion=r.controllersApiVersion=r.logsApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2=r.workitemsApiVersion_5a21f5d2="3.0",r.buildbadgeApiVersion=r.foldersApiVersion="3.0-preview.1",r.changesApiVersion=r.reportApiVersion=r.resourceUsageApiVersion=r.workitemsApiVersion="3.0-preview.2",r}return __extends(t,n),t.prototype.getArtifact=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getArtifactContentZip=function(n,t,i){var r={artifactName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getBuild=function(n,t,r){var u={propertyFilters:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),$top:v,continuationToken:y,maxBuildsPerDefinition:p,deletedFilter:w,queryOrder:b,branchName:k,buildIds:d&&d.join(","),repositoryId:g,repositoryType:nt};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:tt,apiVersion:"3.0"})},t.prototype.getBuildChanges=function(n,t,r,u,f){var e={continuationToken:r,$top:u,includeSourceChange:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:e,apiVersion:"3.0"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"3.0",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"3.0"})},t.prototype.getDefinition=function(n,t,r,u,f,e){var o={revision:r,minMetricsTime:u,propertyFilters:f&&f.join(","),includeLatestBuilds:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t,definitionId:n},queryParams:o,apiVersion:"3.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p){var w={name:t,repositoryId:r,repositoryType:u,queryOrder:f,$top:e,continuationToken:o,minMetricsTime:s,definitionIds:h&&h.join(","),path:c,builtAfter:l,notBuiltAfter:a,includeAllProperties:v,includeLatestBuilds:y,taskIdFilter:p};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.BuildDefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:w,apiVersion:"3.0"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"3.0",data:n})},t.prototype.getDefinitionMetrics=function(n,t,r){var u={minMetricsTime:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"d973b939-0ce0-4fec-91d8-da3940fa1827",resource:"metrics",routeTemplate:"{project}/_apis/{area}/definitions/{definitionId}/{resource}",responseType:i.TypeInfo.BuildMetric,responseIsCollection:!0,routeValues:{project:n,definitionId:t},queryParams:u,apiVersion:"3.0-preview.1"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"3.0"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"3.0"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.0"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"3.0",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"3.0"})},t}(s);t.BuildHttpClient3=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.3",r.buildbadgeApiVersion="2.3-preview.1",r.resourceUsageApiVersion="2.3-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.3",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.3"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.3"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.3-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.3"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.3"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.3"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.getBuildLogJson=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseIsCollection:!0,routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getBuildLogStream=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/plain",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.3"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.3",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.3"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.3"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.3"})},t.prototype.getBuildReport=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3-preview.2"})},t.prototype.getBuildReportHtmlContent=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3-preview.2"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.3"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.3"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.3"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.3",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.3"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.3-preview.2"})},t}(e);t.BuildHttpClient2_3=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.2",r.buildbadgeApiVersion="2.2-preview.1",r.resourceUsageApiVersion="2.2-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.2",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.2"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.2"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.2-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.2"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.2"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.2"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.2"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.2"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.2"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.2",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.2"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.2"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.2"})},t.prototype.getBuildReport=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2-preview.2"})},t.prototype.getBuildReportHtmlContent=function(n,t,i,r){var u={type:i,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"text/html",area:"build",locationId:"45bcaa88-67e1-4042-a035-56d3b4a7d44c",resource:"report",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2-preview.2"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.2"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.2"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.2"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.2",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.2"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.2-preview.2"})},t}(e);t.BuildHttpClient2_2=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.1",r.buildbadgeApiVersion="2.1-preview.1",r.resourceUsageApiVersion="2.1-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.1",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.1"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.1"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.1"})},t.prototype.getChangesBetweenBuilds=function(n,t,r,u){var f={fromBuildId:t,toBuildId:r,$top:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f10f0ea5-18a1-43ec-a8fb-2042c7be9b43",resource:"changes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:"2.1-preview.2"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.1"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.1"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.1"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.1"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.1"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.1"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.1",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.1"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.1"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.1"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.1"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.1"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.1"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.1",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.1"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getWorkItemsBetweenBuilds=function(n,t,i,r){var u={fromBuildId:t,toBuildId:i,$top:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"52ba8915-5518-42e3-a4bb-b0182d159e2d",resource:"workitems",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:"2.1-preview.2"})},t}(e);t.BuildHttpClient2_1=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.badgeApiVersion=r.controllersApiVersion=r.optionsApiVersion=r.revisionsApiVersion=r.settingsApiVersion=r.tagsApiVersion=r.tagsApiVersion_6e6114b2="2.0",r.buildbadgeApiVersion="2.0-preview.1",r.resourceUsageApiVersion="2.0-preview.2",r}return __extends(t,n),t.prototype.createArtifact=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:t},apiVersion:"2.0",data:n})},t.prototype.getArtifact=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getArtifactContentZip=function(n,t,i,r){var u={artifactName:t,definitionType:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",routeValues:{project:i,buildId:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getArtifacts=function(n,t,i){var r={definitionType:i};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"1db06c96-014e-44e1-ac91-90b2d4b3e984",resource:"artifacts",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{artifactName}",responseIsCollection:!0,routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.deleteBuild=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",routeValues:{project:t,buildId:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getBuild=function(n,t,r,u){var f={propertyFilters:r,type:u};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,routeValues:{project:t,buildId:n},queryParams:f,apiVersion:"2.0"})},t.prototype.getBuilds=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var g={definitions:t&&t.join(","),queues:r&&r.join(","),buildNumber:u,minFinishTime:f,maxFinishTime:e,requestedFor:o,reasonFilter:s,statusFilter:h,resultFilter:c,tagFilters:l&&l.join(","),properties:a&&a.join(","),type:v,$top:y,continuationToken:p,maxBuildsPerDefinition:w,deletedFilter:b,queryOrder:k,branchName:d};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",responseType:i.TypeInfo.Build,responseIsCollection:!0,routeValues:{project:n},queryParams:g,apiVersion:"2.0"})},t.prototype.queueBuild=function(n,t,r,u,f){var e={ignoreWarnings:r,checkInTicket:u,type:f};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.updateBuild=function(n,t,r,u){var f={type:u};return this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"0cd358e1-9217-4d94-8269-1c1ee6f93dcf",resource:"builds",routeTemplate:"{project}/_apis/build/{resource}/{buildId}",requestType:i.TypeInfo.Build,responseType:i.TypeInfo.Build,routeValues:{project:r,buildId:t},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.getBuildChanges=function(n,t,r,u,f,e){var o={continuationToken:r,$top:u,includeSourceChange:f,type:e};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"54572c7b-bbd3-45d4-80dc-28be08941620",resource:"changes",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseType:i.TypeInfo.Change,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:o,apiVersion:"2.0"})},t.prototype.createDefinition=function(n,t,r,u){var f={definitionToCloneId:r,definitionToCloneRevision:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:t},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.deleteDefinition=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",routeValues:{project:t,definitionId:n},apiVersion:"2.0"})},t.prototype.getDefinition=function(n,t,r,u,f){var e={revision:r,propertyFilters:u&&u.join(","),type:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,routeValues:{project:t,definitionId:n},queryParams:e,apiVersion:"2.0"})},t.prototype.getDefinitions=function(n,t,r,u,f,e,o){var s={name:t,type:r,repositoryId:u,repositoryType:f,queryOrder:e,$top:o};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",responseType:i.TypeInfo.DefinitionReference,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:"2.0"})},t.prototype.updateDefinition=function(n,t,r,u,f){var e={secretsSourceDefinitionId:u,secretsSourceDefinitionRevision:f};return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"dbeaf647-6167-421a-bda9-c9327b25e2e6",resource:"definitions",routeTemplate:"{project}/_apis/build/{resource}/{definitionId}",requestType:i.TypeInfo.BuildDefinition3_2,responseType:i.TypeInfo.BuildDefinition3_2,routeValues:{project:r,definitionId:t},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.getBuildDeployments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"f275be9a-556a-4ee9-b72f-f9c8370ccaee",resource:"deployments",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},apiVersion:"2.0"})},t.prototype.getBuildLog=function(n,t,i,r,u,f){var e={startLine:r,endLine:u,type:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t,logId:i},queryParams:e,apiVersion:"2.0"})},t.prototype.getBuildLogs=function(n,t,r){var u={type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",responseType:i.TypeInfo.BuildLog,responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getBuildLogsZip=function(n,t,i){var r={type:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"build",locationId:"35a80daf-7f30-45fc-86e8-6b813d9c90df",resource:"logs",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{logId}",routeValues:{project:n,buildId:t},queryParams:r,apiVersion:"2.0"})},t.prototype.createQueue=function(n){return this._beginRequest({httpMethod:"POST",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",apiVersion:"2.0",data:n})},t.prototype.deleteQueue=function(n){var t={id:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",queryParams:t,apiVersion:"2.0"})},t.prototype.getAgentPoolQueue=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",routeValues:{controllerId:n},apiVersion:"2.0"})},t.prototype.getQueues=function(n){var t={name:n};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"09f2a4b8-08c9-4991-85c3-d698937568be",resource:"queues",routeTemplate:"_apis/build/{resource}/{controllerId}",responseIsCollection:!0,queryParams:t,apiVersion:"2.0"})},t.prototype.deleteTemplate=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",routeValues:{project:n,templateId:t},apiVersion:"2.0"})},t.prototype.getTemplate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:n,templateId:t},apiVersion:"2.0"})},t.prototype.getTemplates=function(n){return this._beginRequest({httpMethod:"GET",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",responseType:i.TypeInfo.BuildDefinitionTemplate3_2,responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.0"})},t.prototype.saveTemplate=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"build",locationId:"e884571e-7f92-4d6a-9274-3f5649900835",resource:"templates",routeTemplate:"{project}/_apis/{area}/definitions/{resource}/{templateId}",requestType:i.TypeInfo.BuildDefinitionTemplate3_2,responseType:i.TypeInfo.BuildDefinitionTemplate3_2,routeValues:{project:t,templateId:r},apiVersion:"2.0",data:n})},t.prototype.getBuildTimeline=function(n,t,r,u,f){var e={changeId:u,planId:f};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"8baac422-4c6e-4de5-8532-db96d92acffa",resource:"Timeline",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}/{timelineId}",responseType:i.TypeInfo.Timeline,routeValues:{project:n,buildId:t,timelineId:r},queryParams:e,apiVersion:"2.0"})},t.prototype.getBuildWorkItemsRefs=function(n,t,i,r){var u={$top:i,type:r};return this._beginRequest({httpMethod:"GET",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:n,buildId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getBuildWorkItemsRefsFromCommits=function(n,t,i,r,u){var f={$top:r,type:u};return this._beginRequest({httpMethod:"POST",area:"build",locationId:"5a21f5d2-5642-47e4-a0bd-1356e6731bee",resource:"workitems",routeTemplate:"{project}/_apis/{area}/builds/{buildId}/{resource}",responseIsCollection:!0,routeValues:{project:t,buildId:i},queryParams:f,apiVersion:"2.0",data:n})},t}(e);t.BuildHttpClient2=nt;it=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.BuildHttpClient=it;tt={"5.0":o,"4.1":v,"4.0":y,"3.2":p,"3.1":w,"3.0":b,"2.3":k,"2.2":d,"2.1":g,"2.0":nt};t.getClient=rt});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__awaiter=this&&this.__awaiter||function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("DistributedTasksCommon/DefinitionResourceReferenceBuildHttpClient",["require","exports","TFS/Build/RestClient"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.authorizeProjectResources=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this._beginRequest({httpMethod:"PATCH",area:"build",locationId:"398c85bc-81aa-4822-947c-a194a05f0fef",apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/build/authorizedresources",responseIsCollection:!0,routeValues:{project:t},data:n})]})})},t.prototype.getProjectResources=function(n,t,i){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(){return r={type:t,id:i},[2,this._beginRequest({httpMethod:"GET",area:"build",locationId:"398c85bc-81aa-4822-947c-a194a05f0fef",apiVersion:"5.1-preview.1",routeTemplate:"{project}/_apis/build/authorizedresources",responseIsCollection:!0,routeValues:{project:n},queryParams:r})]})})},t}(i.BuildHttpClient5);t.DefinitionResourceReferenceBuildHttpClient=r});

define("TFS/ServiceEndpoint/Contracts",["require","exports","VSS/Common/Contracts/FormInput"],function(n,t,i){"use strict";var r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.NoOption=0]="NoOption";n[n.Login=1]="Login";n[n.SelectAccount=2]="SelectAccount";n[n.FreshLogin=3]="FreshLogin";n[n.FreshLoginWithMfa=4]="FreshLoginWithMfa"}(r=t.AadLoginPromptOption||(t.AadLoginPromptOption={})),function(n){n[n.None=0]="None";n[n.Oauth=1]="Oauth";n[n.Direct=2]="Direct"}(u=t.AccessTokenRequestType||(t.AccessTokenRequestType={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(f=t.OAuthConfigurationActionFilter||(t.OAuthConfigurationActionFilter={})),function(n){n[n.None=0]="None";n[n.Manage=2]="Manage";n[n.Use=16]="Use"}(e=t.ServiceEndpointActionFilter||(t.ServiceEndpointActionFilter={})),function(n){n[n.Succeeded=0]="Succeeded";n[n.SucceededWithIssues=1]="SucceededWithIssues";n[n.Failed=2]="Failed";n[n.Canceled=3]="Canceled";n[n.Skipped=4]="Skipped";n[n.Abandoned=5]="Abandoned"}(o=t.ServiceEndpointExecutionResult||(t.ServiceEndpointExecutionResult={}));t.TypeInfo={AadLoginPromptOption:{enumValues:{noOption:0,login:1,selectAccount:2,freshLogin:3,freshLoginWithMfa:4}},AccessTokenRequestType:{enumValues:{none:0,oauth:1,direct:2}},AuthConfiguration:{},OAuthConfiguration:{},OAuthConfigurationActionFilter:{enumValues:{none:0,manage:2,use:16}},ServiceEndpointActionFilter:{enumValues:{none:0,manage:2,use:16}},ServiceEndpointAuthenticationScheme:{},ServiceEndpointExecutionData:{},ServiceEndpointExecutionRecord:{},ServiceEndpointExecutionRecordsInput:{},ServiceEndpointExecutionResult:{enumValues:{succeeded:0,succeededWithIssues:1,failed:2,canceled:3,skipped:4,abandoned:5}},ServiceEndpointRequestResult:{},ServiceEndpointType:{}};t.TypeInfo.AuthConfiguration.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.OAuthConfiguration.fields={createdOn:{isDate:!0},modifiedOn:{isDate:!0}};t.TypeInfo.ServiceEndpointAuthenticationScheme.fields={inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}};t.TypeInfo.ServiceEndpointExecutionData.fields={finishTime:{isDate:!0},result:{enumType:t.TypeInfo.ServiceEndpointExecutionResult},startTime:{isDate:!0}};t.TypeInfo.ServiceEndpointExecutionRecord.fields={data:{typeInfo:t.TypeInfo.ServiceEndpointExecutionData}};t.TypeInfo.ServiceEndpointExecutionRecordsInput.fields={data:{typeInfo:t.TypeInfo.ServiceEndpointExecutionData}};t.TypeInfo.ServiceEndpointRequestResult.fields={};t.TypeInfo.ServiceEndpointType.fields={authenticationSchemes:{isArray:!0,typeInfo:t.TypeInfo.ServiceEndpointAuthenticationScheme},inputDescriptors:{isArray:!0,typeInfo:i.TypeInfo.InputDescriptor}}});

define("TFS/ServiceEndpoint/ServiceEndpointRestClient",["require","exports","TFS/ServiceEndpoint/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function a(n){return window.VSS&&window.VSS.VssSDKRestVersion&&c[window.VSS.VssSDKRestVersion]?r.getClient(c[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(f,undefined,undefined,undefined,n)}var e,o,f,s,h,l,c;Object.defineProperty(t,"__esModule",{value:!0});e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getServiceEndpointTypes=function(n,t){var r={type:n,scheme:t};return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"5a7938a4-655e-486c-b562-b78c54a7e87b",resource:"types",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointType,responseIsCollection:!0,queryParams:r,apiVersion:this.typesApiVersion})},t.prototype.addServiceEndpointExecutionRecords=function(n,t){return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"55b9ed4b-5404-41b1-b9d2-7ed757d02bb0",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.ServiceEndpointExecutionRecordsInput,responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.executionhistoryApiVersion,data:n})},t.prototype.getServiceEndpointExecutionRecords=function(n,t,r,u){var f={top:r,continuationToken:u};return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"10a16738-9299-4cd1-9a81-fd23ad6200d0",resource:"executionhistory",routeTemplate:"{project}/_apis/{area}/{endpointId}/{resource}",responseType:i.TypeInfo.ServiceEndpointExecutionRecord,responseIsCollection:!0,routeValues:{project:n,endpointId:t},queryParams:f,apiVersion:this.executionhistoryApiVersion_10a16738})},t.prototype.updateServiceEndpoints=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:t},apiVersion:this.endpointsApiVersion,data:n})},t.prototype.updateServiceEndpoint=function(n,t,i,r){var u={operation:r};return this._beginRequest({httpMethod:"PUT",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t,endpointId:i},queryParams:u,apiVersion:this.endpointsApiVersion,data:n})},t.prototype.getServiceEndpointsByNames=function(n,t,i,r,u,f,e){var o={endpointNames:t&&t.join(","),type:i,authSchemes:r&&r.join(","),owner:u,includeFailed:f,includeDetails:e};return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.endpointsApiVersion})},t.prototype.getServiceEndpoints=function(n,t,i,r,u,f,e){var o={type:t,authSchemes:i&&i.join(","),endpointIds:r&&r.join(","),owner:u,includeFailed:f,includeDetails:e};return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.endpointsApiVersion})},t.prototype.getServiceEndpointDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},apiVersion:this.endpointsApiVersion})},t.prototype.deleteServiceEndpoint=function(n,t,i){var r={deep:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:n,endpointId:t},queryParams:r,apiVersion:this.endpointsApiVersion})},t.prototype.createServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"e85f1c62-adfc-4b74-b618-11a150fb195e",resource:"endpoints",routeTemplate:"{project}/_apis/{area}/{resource}/{endpointId}",routeValues:{project:t},apiVersion:this.endpointsApiVersion,data:n})},t.prototype.queryServiceEndpoint=function(n,t){return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"cc63bb57-2a5f-4a7a-b79c-c142d308657e",resource:"endpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:this.endpointproxyApiVersion,data:n})},t.prototype.executeServiceEndpointRequest=function(n,t,r){var u={endpointId:r};return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"cc63bb57-2a5f-4a7a-b79c-c142d308657e",resource:"endpointproxy",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.ServiceEndpointRequestResult,routeValues:{project:t},queryParams:u,apiVersion:this.endpointproxyApiVersion,data:n})},t}(u.VssHttpClient);t.CommonMethods4_1To5_1=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.shareEndpointWithProject=function(n,t,i){var r={fromProject:t,withProject:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"serviceendpoint",locationId:"86e77201-c1f7-46c9-8672-9dfc2f6f568a",resource:"share",routeTemplate:"_apis/{area}/{resource}/{endpointId}",routeValues:{endpointId:n},queryParams:r,apiVersion:this.shareApiVersion})},t.prototype.querySharedProjects=function(n,t){var i={project:t};return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"86e77201-c1f7-46c9-8672-9dfc2f6f568a",resource:"share",routeTemplate:"_apis/{area}/{resource}/{endpointId}",responseIsCollection:!0,routeValues:{endpointId:n},queryParams:i,apiVersion:this.shareApiVersion})},t.prototype.updateOAuthConfiguration=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"serviceendpoint",locationId:"702edb4e-3952-43fe-a4eb-288938f3ba35",resource:"oauthconfiguration",routeTemplate:"_apis/{area}/{resource}/{configurationId}",responseType:i.TypeInfo.OAuthConfiguration,routeValues:{configurationId:t},apiVersion:this.oauthconfigurationApiVersion,data:n})},t.prototype.getOAuthConfigurations=function(n,t){var r={endpointType:n,actionFilter:t};return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"702edb4e-3952-43fe-a4eb-288938f3ba35",resource:"oauthconfiguration",routeTemplate:"_apis/{area}/{resource}/{configurationId}",responseType:i.TypeInfo.OAuthConfiguration,responseIsCollection:!0,queryParams:r,apiVersion:this.oauthconfigurationApiVersion})},t.prototype.getOAuthConfiguration=function(n){return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"702edb4e-3952-43fe-a4eb-288938f3ba35",resource:"oauthconfiguration",routeTemplate:"_apis/{area}/{resource}/{configurationId}",responseType:i.TypeInfo.OAuthConfiguration,routeValues:{configurationId:n},apiVersion:this.oauthconfigurationApiVersion})},t.prototype.deleteOAuthConfiguration=function(n){return this._beginRequest({httpMethod:"DELETE",area:"serviceendpoint",locationId:"702edb4e-3952-43fe-a4eb-288938f3ba35",resource:"oauthconfiguration",routeTemplate:"_apis/{area}/{resource}/{configurationId}",responseType:i.TypeInfo.OAuthConfiguration,routeValues:{configurationId:n},apiVersion:this.oauthconfigurationApiVersion})},t.prototype.createOAuthConfiguration=function(n){return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"702edb4e-3952-43fe-a4eb-288938f3ba35",resource:"oauthconfiguration",routeTemplate:"_apis/{area}/{resource}/{configurationId}",responseType:i.TypeInfo.OAuthConfiguration,apiVersion:this.oauthconfigurationApiVersion,data:n})},t.prototype.getAzureSubscriptions=function(){return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"18e8f65d-4e19-4a01-a621-cf0f2d938108",resource:"azurermsubscriptions",routeTemplate:"_apis/{area}/endpointproxy/{resource}",apiVersion:this.azurermsubscriptionsApiVersion})},t.prototype.getAzureManagementGroups=function(){return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"9acb984c-4f88-4e13-9691-2e688dddc047",resource:"azurermmanagementgroups",routeTemplate:"_apis/{area}/endpointproxy/{resource}",apiVersion:this.azurermmanagementgroupsApiVersion})},t}(e);t.CommonMethods5To5_1=o;f=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.endpointproxyApiVersion=r.executionhistoryApiVersion=r.executionhistoryApiVersion_10a16738=r.oauthconfigurationApiVersion=r.shareApiVersion=r.typesApiVersion="5.1-preview.1",r.endpointsApiVersion="5.1-preview.2",r}return __extends(t,n),t.prototype.acquireAccessToken=function(n){return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"47911d38-53e1-467a-8c32-d871599d5498",resource:"vstsaadoauth",routeTemplate:"_apis/{area}/vstsaadoauth/{resource}",apiVersion:"5.1-preview.1",data:n})},t.prototype.createAadOAuthRequest=function(n,t,i,r,u){var f={tenantId:n,redirectUri:t,promptOption:i,completeCallbackPayload:r,completeCallbackByAuthCode:u};return this._beginRequest({httpMethod:"POST",area:"serviceendpoint",locationId:"47911d38-53e1-467a-8c32-d871599d5498",resource:"vstsaadoauth",routeTemplate:"_apis/{area}/vstsaadoauth/{resource}",queryParams:f,apiVersion:"5.1-preview.1"})},t.prototype.getVstsAadTenantId=function(){return this._beginRequest({httpMethod:"GET",area:"serviceendpoint",locationId:"47911d38-53e1-467a-8c32-d871599d5498",resource:"vstsaadoauth",routeTemplate:"_apis/{area}/vstsaadoauth/{resource}",apiVersion:"5.1-preview.1"})},t}(o);t.ServiceEndpointHttpClient5_1=f;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.azurermmanagementgroupsApiVersion=r.azurermsubscriptionsApiVersion=r.endpointproxyApiVersion=r.executionhistoryApiVersion=r.executionhistoryApiVersion_10a16738=r.oauthconfigurationApiVersion=r.shareApiVersion=r.typesApiVersion="5.0-preview.1",r.endpointsApiVersion="5.0-preview.2",r}return __extends(t,n),t}(o);t.ServiceEndpointHttpClient5=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.endpointproxyApiVersion=r.executionhistoryApiVersion=r.executionhistoryApiVersion_10a16738=r.typesApiVersion="4.1-preview.1",r.endpointsApiVersion="4.1-preview.2",r}return __extends(t,n),t}(e);t.ServiceEndpointHttpClient4_1=h;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(f);t.ServiceEndpointHttpClient=l;c={"5.1":f,"5.0":s,"4.1":h};t.getClient=a});

define("DistributedTasksCommon/TFS.Tasks.Models",["require","exports","q","knockout","VSS/FeatureAvailability/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/Number","VSS/Utils/UI","VSS/VSS","VSS/WebApi/RestClient","VSS/Service","VSS/Context","TFS/DistributedTask/Contracts","VSS/WebApi/Constants","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Knockout.Tree","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/DefinitionResourceReferenceBuildHttpClient","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","TFS/DistributedTask/TaskAgentRestClient","TFS/ServiceEndpoint/ServiceEndpointRestClient"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){function kt(n){var t=e.format("{0}.{1}.{2}",n.major,n.minor,n.patch);return n.isTest&&(t=t+"-test"),t}function ht(){return v.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png"}var ti,ct,lt,at,vt,yt,pt,ut,ft,et,wt,ot,bt,dt,gt,ni,st;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.Area="DistributedTask";n.FeatureTask="Task";n.FeatureInputEditorExtension="TaskInputEditorExtension"}(ti=t.CustomerIntelligenceInfo||(t.CustomerIntelligenceInfo={}));ct=function(){function n(){var n=this;this._disposalManager=new f.DisposalManager;this._initializeObservables();this.dirty=this._disposalManager.addDisposable(r.computed(function(){return n._isDirty()}));this.invalid=this._disposalManager.addDisposable(r.computed(function(){return n._isInvalid()}));this.warning=this._disposalManager.addDisposable(r.computed(function(){return n._isWarning()}))}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.revert=function(){},n.prototype.setClean=function(){},n.prototype._addDisposable=function(n){return this._disposalManager.addDisposable(n)},n.prototype._initializeObservables=function(){},n.prototype._isDirty=function(){return!1},n.prototype._isInvalid=function(){return!1},n.prototype._isWarning=function(){return!1},n}();t.ChangeTrackerModel=ct;lt=function(){function n(n,t){this.key=r.observable("");this.value=r.observable("");this.key(n);this.value(t)}return n}();t.KeyValuePair=lt;at=function(){function n(n,t){n===void 0&&(n="");t===void 0&&(t="");this.key="";this.value="";this.key=n;this.value=t}return n}();t.SimpleKeyValuePair=at;vt=function(){function n(){}return n.currentDate=r.observable(new Date),n}();t.ModelContext=vt;yt=function(){function n(){}return n.getMetadata=function(t){n._taskMetadata||n._initialize();var i=n._taskMetadata[t.toLowerCase()];return i||(i=n._defaultTaskMetadata),i},n._initialize=function(){n._taskMetadata={};n._taskMetadata[n._prepareEnvironmentTaskId]={showVersionDropdown:!1};n._defaultTaskMetadata={showVersionDropdown:!1}},n._prepareEnvironmentTaskId="114fca70-4b6d-4699-993c-8c38bfda8305",n}();t.TaskDefinitionMetadata=yt;pt=function(){function n(n,t){var i=this;this.id=r.observable("");this.friendlyName=r.observable("");this.description=r.observable("");this.author=r.observable("");this.sourceLocation=r.observable("");this.iconUrl=r.observable("");this.disabled=r.observable(!1);this._taskDefinition=n;this._addFunction=t;this.id(n.id);this.friendlyName(this._getFriendlyName(n));this.description(n.description);this.author(n.author);this.sourceLocation(n.sourceLocation);this.iconUrl(n.iconUrl);this.disabled(n.disabled);this.hasIcon=r.computed({read:function(){return!!i.iconUrl()}})}return n.prototype.addCommand=function(){$.isFunction(this._addFunction)&&this._addFunction()},n.prototype.onAddButtonKeyDown=function(n,t){var o=$(t.target),e;switch(t.keyCode){case h.KeyCode.ENTER:return g.AccessibilityHelper.triggerClickOnEnterPress(t);case h.KeyCode.UP:case h.KeyCode.DOWN:t.preventDefault();var u=o.parent().parent(),i=u.parent().children("*[tabindex != '-1']:visible"),r=i.index(u),f=0;return f=t.keyCode==h.KeyCode.UP?r-1>=0?r-1:i.length-1:r+1<i.length?r+1:0,e=i.eq(f),e.children("div.task-definition-add").children("button").focus(),!1;default:return!0}},n.prototype._getFriendlyName=function(n){return n.definitionType===b.DefinitionType.metaTask&&n.version.isTest?e.format("{0} ({1})",n.name,k.DraftText):n.friendlyName},n}();t.TaskDefinitionViewModel=pt;t.InstanceNameFormatRegex=/\$\((.+?)\)/g;t.LatestVersionSpec="*";ut=function(){function n(){this._currentTaskDefinitions=null;this._currentTaskDefinitionDictionary={};this._currentTaskDefinitionsDemands={}}return n.getTaskDefinitionCache=function(t,i){i===void 0&&(i=!1);var r=n.mutateFilter(t);return(i||!n.instance.has(r))&&(n.instance.has(r)||(n.instance.set(r,new n),n.existingFilters.push(r)),n.instance.get(r)._taskDefinitionResultsPromise=n.instance.get(r).refresh(t)),n.instance.get(r)},n.mutateFilter=function(t){if(!t||t.length===0)return n.DEFAULT_VISIBILITY_FILTER;for(var i=0;i<n.existingFilters.length;i++)if(o.arrayEquals(t,n.existingFilters[i]))return n.existingFilters[i];return t},n.getInstance=function(){return n.instance.has(n.DEFAULT_VISIBILITY_FILTER)||n.instance.set(n.DEFAULT_VISIBILITY_FILTER,new n),n.instance.get(n.DEFAULT_VISIBILITY_FILTER)},n.disposeInstance=function(){n.instance.clear();n.existingFilters=[]},n.prototype.getCurrentTaskDefinitions=function(){return this._currentTaskDefinitions},n.prototype.getTaskDefinition=function(n){return this._currentTaskDefinitionDictionary[n]},n.prototype.getTaskDefinitionDemands=function(n){return this._currentTaskDefinitionsDemands[n]},n.prototype.getTaskDefinitionResults=function(){return this._taskDefinitionResultsPromise},n.prototype.refresh=function(n){var f=this,r,u,e=v.getDefaultWebContext(),o=new a.VssConnection(e),t;return r=o.getHttpClient(ot),u=r.getTaskDefinitions2(null,n),t=i.defer(),i.all([u,this._getMetaTaskDefinitions()]).spread(function(n,i){n.tasks=n.tasks||[];i=i||[];i.forEach(function(n){n.iconUrl=ht()});n.tasks=n.tasks.concat(i);f._setTasks(n.tasks);t.resolve(n)},function(n){t.reject(n)}),this._taskDefinitionResultsPromise=t.promise,t.promise},n.prototype.cacheMetaTaskDemandsFromServer=function(t,i){var r=this;if(!n.metaTaskManager)return null;this._taskDefinitionResultsPromise&&this._taskDefinitionResultsPromise.then(function(u){var f=[],e=u.tasks,o=new ft(e),s=n.metaTaskManager.getTaskGroup(t,i,!0);s.then(function(n){n.tasks&&n.tasks.forEach(function(n){if(n.enabled){var i=e.filter(function(t){return t.id==n.task.id}),t=g.getTaskDefinition(o.getMajorVersions(n.task.id),n.task.versionSpec);t&&t.demands&&t.demands.forEach(function(n){f.push(n)})}});r._currentTaskDefinitionsDemands[t]=f})})},n.prototype._getMetaTaskDefinitions=function(){return n.metaTaskManager?n.metaTaskManager.getDefinitions():i.resolve(null)},n.prototype._setTasks=function(n){var t=this;this._currentTaskDefinitions=n;this._currentTaskDefinitionDictionary={};this._currentTaskDefinitions.forEach(function(n){t._currentTaskDefinitionDictionary[n.id]=n})},n.metaTaskManager=null,n.instance=new Map,n.DEFAULT_VISIBILITY_FILTER=["NO_FILTER"],n.existingFilters=[],n}();t.TaskDefinitionCache=ut;ft=function(){function n(n,t){var i=this;this._taskVersionMap={};this._latestMajorVersions={};this._visibilityFilter=[];ut.metaTaskManager=new st;this._taskDefinitions=n.sort(function(n,t){return i._compareVersions(n.version,t.version)});this._taskDefinitionCache=ut.getTaskDefinitionCache(t);$.each(this._taskDefinitions,function(n,t){var u=t.id.toLowerCase(),r,f;t.definitionType===b.DefinitionType.metaTask&&(t.iconUrl=ht());r=i._taskVersionMap[u];r===undefined&&(r=[],i._taskVersionMap[u]=r,i._latestMajorVersions[u]={});f=kt(t.version);r.splice(0,0,{versionSpec:f,taskDefinition:t});i._latestMajorVersions[u][t.version.major]=t});this._latestVersions=g.getLatestReleasedVersions(this._latestMajorVersions)}return n.prototype.getTaskDefinitions=function(){return this._taskDefinitionCache.getCurrentTaskDefinitions()!=null&&(this._taskDefinitions=this._taskDefinitionCache.getCurrentTaskDefinitions()),this._taskDefinitions},n.prototype.getTaskVersionMap=function(){var n=this;return this.getTaskDefinitions(),$.each(this._taskDefinitions,function(t,i){var u=i.id.toLowerCase(),r=n._taskVersionMap[u];r===undefined&&(r=[],n._taskVersionMap[u]=r)}),this._taskVersionMap},n.prototype.getTaskById=function(n){var t=this;return this.getTaskDefinitions(),$.each(this._taskDefinitions,function(n,i){var r=i.id.toLowerCase();t._latestVersions[r]=i}),this._latestVersions[(n||"").toLowerCase()]},n.prototype.getMajorVersions=function(n){var r,t=this._latestMajorVersions[n],i;return t||(i=this.getTaskById(n),i?(this._latestMajorVersions[n]=(r={},r[i.version.major]=i,r),t=this._latestMajorVersions[n]):t={}),t},n.prototype.getLatestVersionArray=function(){var n=this,i;return this._latestVersionArray||(this.getTaskVersionMap(),i=this._latestMajorVersions,this._latestVersionArray=$.map(this._latestVersions,function(r){return n._taskVersionMap[r.id].splice(0,0,{versionSpec:t.LatestVersionSpec,taskDefinition:r}),$.each(i[r.id],function(i,u){var s=i+".",f=n._taskVersionMap[r.id],o=f.length;$.each(f,function(n,t){if(e.startsWith(t.versionSpec,s))return o=n,!1});f.splice(o,0,{versionSpec:i+"."+t.LatestVersionSpec,taskDefinition:u})}),r})),this._latestVersionArray},n.prototype.getTaskDefinitionDemandsById=function(n){return this._taskDefinitionCache.getTaskDefinitionDemands(n)||[]},n.prototype._compareVersions=function(n,t){if(n||t)if(n){if(!t)return-1}else return 1;else return 0;var i=s.defaultComparer(n.major,t.major);return i===0&&(i=s.defaultComparer(n.minor,t.minor),i===0&&(i=s.defaultComparer(n.patch,t.patch),i===0&&(n.isTest&&!t.isTest?i=-1:t.isTest&&!n.isTest&&(i=1)))),i},n}();t.TaskDefinitionCollection=ft;et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetSubscriptionNames=function(n){return this._beginRequest({area:t.AreaName,locationId:t.AzureDeploymentEnvironmentDetailsResources,responseIsCollection:!0,routeValues:{project:n}})},t.AreaName="Build",t.AzureDeploymentEnvironmentDetailsResources="0524c91b-a145-413c-89eb-b3342b6826a4",t}(l.VssHttpClient);t.BuildLegacyHttpClient=et;wt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._buildLegacyHttpClient=t.getHttpClient(et,p.ServiceInstanceTypes.TFS);this._httpClient=t.getHttpClient(it.TaskAgentHttpClient,p.ServiceInstanceTypes.TFS);this._serviceEndpointClient=t.getHttpClient(rt.ServiceEndpointHttpClient,p.ServiceInstanceTypes.TFS);this._defResourceRefBuildClient=t.getHttpClient(nt.DefinitionResourceReferenceBuildHttpClient,p.ServiceInstanceTypes.TFS)},t.prototype.beginGetServiceEndpoints=function(n,t,i){return this._serviceEndpointClient.getServiceEndpoints(this._getProjectId(),n,t,i)},t.prototype.beginGetSubscriptionNames=function(){return this._buildLegacyHttpClient.beginGetSubscriptionNames(this._getProjectName())},t.prototype.beginGetAzureSubscriptions=function(){return this._httpClient.getAzureSubscriptions()},t.prototype.beginGetAzureManagementGroups=function(){return this._httpClient.getAzureManagementGroups()},t.prototype.beginGetServiceEndpointTypes=function(n,t){return this._serviceEndpointClient.getServiceEndpointTypes(n,t)},t.prototype.beginCreateServiceEndpoint=function(n,t){var f=this,r;return(t===void 0&&(t=!1),!u.FeatureAvailabilityService.isFeatureEnabled(w.FeatureAvailabilityFlags.ResourceAuthorizationforVGEndpoint))?this._serviceEndpointClient.createServiceEndpoint(n,this._getProjectId()):(r=i.defer(),this._serviceEndpointClient.createServiceEndpoint(n,this._getProjectId()).then(function(n){if(t){var i={authorized:!0,id:n.id,name:n.name,type:"endpoint"};f._defResourceRefBuildClient.authorizeProjectResources([i],f._getProjectId()).then(function(){r.resolve(n)},function(n){r.reject(new Error(e.localeFormat(k.ErrorSavingEndpointPolicyDuringCreation,"\r\n",n.message||n)))})}else r.resolve(n)},function(n){r.reject(new Error(n.message||n))}),r.promise)},t.prototype.beginDeleteServiceEndpoint=function(n){var r=this,t,f;return u.FeatureAvailabilityService.isFeatureEnabled(w.FeatureAvailabilityFlags.ResourceAuthorizationforVGEndpoint)?(t=i.defer(),f={authorized:!1,id:n,name:"",type:"endpoint"},this._defResourceRefBuildClient.authorizeProjectResources([f],this._getProjectId()).then(function(){r._serviceEndpointClient.deleteServiceEndpoint(r._getProjectId(),n).then(function(){t.resolve()},function(n){t.reject(new Error(e.localeFormat(tt.ErrorDeletingEndpoint,"\r\n",n.message||n)))})},function(n){t.reject(new Error(e.localeFormat(tt.ErrorDeletingPolicy,"\r\n",n.message||n)))}),t.promise):this._serviceEndpointClient.deleteServiceEndpoint(this._getProjectId(),n)},t.prototype.beginGetVstsAadTenantId=function(){return this._httpClient.getVstsAadTenantId()},t.prototype.beginCreateOAuthRequest=function(n,t,i,r,u){return i===void 0&&(i=y.AadLoginPromptOption.SelectAccount),this._httpClient.createAadOAuthRequest(n,t,i,r,u)},t.prototype.beginUpdateServiceEndpoint=function(n,t){return this._serviceEndpointClient.updateServiceEndpoint(n,this._getProjectId(),n.id,t)},t.prototype.beginGetEndpoint=function(n){return this._serviceEndpointClient.getServiceEndpointDetails(this._getProjectId(),n)},t.prototype.beginQueryEndpoint=function(n){return n.scope=this._getProjectId(),this._httpClient.queryEndpoint(n)},t.prototype.beginQueryServiceEndpoint=function(n){return this._serviceEndpointClient.queryServiceEndpoint(n,this._getProjectId())},t.prototype.beginExecuteServiceEndpointRequest=function(n,t){return this._serviceEndpointClient.executeServiceEndpointRequest(n,this._getProjectId(),t)},t.prototype.authorizeEndpoint=function(n){var t=i.defer(),r={authorized:!0,id:n.id,name:n.name,type:"endpoint"};return this._defResourceRefBuildClient.authorizeProjectResources([r],this._getProjectId()).then(function(){t.resolve(n)},function(n){t.reject(new Error(e.localeFormat(k.ErrorSavingEndpointPolicyDuringCreation,"\r\n",n.message||n)))}),t.promise},t.prototype._getProjectName=function(){return this.getWebContext().project.name},t.prototype._getProjectId=function(){return this.getWebContext().project.id},t}(a.VssService);t.ConnectedServicesClientService=wt;ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getTaskDefinitions2=function(n,t,i){var r={visibility:t,scopeLocal:i};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd",resource:"tasks",routeTemplate:"_apis/{area}/{resource}/{taskId}/{versionString}",responseIsCollection:!0,routeValues:{taskId:n},queryParams:r,apiVersion:this.tasksApiVersion}).spread(function(n,t,i,r){return{tasks:n,pendingTaskHeader:i.getResponseHeader("x-ms-pendingtasks"),numTasksToUpdate:r!=null&&parseInt(r)||0}})},t}(it.TaskAgentHttpClient);t.TaskAgentClientService=ot;bt=function(){function n(){}return n}();t.TaskDefinitionsResult=bt;t.getVersionSpec=kt;dt=function(n){function t(t,i){var u=__construct(this,n,[]),f,e;for(f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.value=r.observable(""),u.showIcon=r.observable(!0),u.nodeIconCssClass=r.observable(""),u.cssClass=r.observable("node-link"),e=i,e||(e=t),u.dirty=r.computed({read:function(){return!1}}),u.text=r.computed({read:function(){return e}}),u.value(t),u}return __extends(t,n),t.prototype._onContextMenuClick=function(n,t){this.root()._onContextMenuClick(this,t,this.value())},t}(d.BaseTreeNode);t.TaskCategoryTreeNode=dt;gt=function(n){function t(t,i){return i===void 0&&(i="node-section"),n.call(this,t,i)||this}return __extends(t,n),t}(d.BaseTreeSection);t.TaskCategoryAllTreeSection=gt;ni=function(){function n(n,t,i,u,f,e){this.id="";this.templateName="";this.title="";this.viewModel=r.observable(null);this.order=0;this.id=n;this.order=i;this.cssClass=u;this.templateName=f;this.title=t;this.viewModel(e)}return n}();t.WizardPage=ni;st=function(){function n(){var n=v.getDefaultWebContext(),t=new a.VssConnection(n);this._projectId=n.project.id;this._taskAgentClient=t.getHttpClient(it.TaskAgentHttpClient)}return n.prototype.getDefinitions=function(){return this._taskAgentClient.getTaskGroups(this._projectId)},n.prototype.getRevisions=function(n){return this._taskAgentClient.getTaskGroupHistory(this._projectId,n)},n.prototype.getRevision=function(n,t){return this._taskAgentClient.getTaskGroupRevision(this._projectId,n,t)},n.prototype.saveDefinition=function(n){var t=this.ToTaskGroupCreateParameter(n);return this._taskAgentClient.addTaskGroup(n,this._projectId)},n.prototype.getTaskGroup=function(n,t,i){return this._taskAgentClient.getTaskGroup(this._projectId,n,t,i?y.TaskGroupExpands.Tasks:y.TaskGroupExpands.None)},n.prototype.ToTaskGroupCreateParameter=function(n){return{category:n.category,description:n.description,iconUrl:n.iconUrl,inputs:n.inputs,instanceNameFormat:n.instanceNameFormat,name:n.name,parentDefinitionId:n.parentDefinitionId,runsOn:n.runsOn,tasks:n.tasks,version:n.version,friendlyName:n.friendlyName,author:n.author}},n}();t.MetaTaskManager=st;t.getLatestMetaTaskIconUrl=ht;c.tfsModuleLoaded("TFS.Tasks.Models",t)});

define("DistributedTaskControls/Sources/TaskDefinitionSource",["require","exports","q","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Context","VSS/Diag","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._usingDataProvider=!0,t}return __extends(t,n),t.getKey=function(){return"TaskDefinitionSource"},t.prototype.getTaskDefinitionList=function(n,t,r){var f=this,e,h,o;if(r===void 0&&(r=!1),a.logVerbose("[TaskSource.getTasksList]: Method entry log."),!r&&this._canReturnPrefetchedTaskDefinitions(n||!1))return i.resolve(this._filterTaskDefinitions(this._preFetchedTaskDefinitionList));if(this._usingDataProvider=!1,e=i.defer(),r||!this._taskDefinitionQueryPromise){if(s.TaskDefinitionCache.metaTaskManager||(s.TaskDefinitionCache.metaTaskManager=new s.MetaTaskManager),h=s.TaskDefinitionCache.getTaskDefinitionCache(t,r),o=h.getTaskDefinitionResults(),o)o.then(function(n){var t,i;f.initializePrefetchedDefinitions(n.tasks,!1);f._notFoundTaskId&&(t=v.first(n.tasks,function(n){return n.id===f._notFoundTaskId}),t&&(i={},i[u.Properties.TaskName]=t.name,i[u.Properties.TaskDefinitionType]=t.definitionType,i[u.Properties.TaskId]=t.id,i[u.Properties.TaskVersionSpec]=t.version.major+"."+t.version.minor+"."+t.version.patch,u.Telemetry.instance().publishEvent(u.Feature.NotInstalledTaskInCall,i)));e.resolve(f._filterTaskDefinitions(f._preFetchedTaskDefinitionList))},function(n){a.logInfo(n.message||n.toString());e.reject(n);f._taskDefinitionQueryPromise=null});else throw Error("There is a no task definition query that is in-progress.");this._taskDefinitionQueryPromise=e.promise}return this._taskDefinitionQueryPromise},t.prototype.getTaskDefinitionFromTaskId=function(n){return this._taskDefinitionCollection.getTaskById(n)},t.prototype.getTaskDefinition=function(n,t){if(this._taskDefinitionCollection){var i=this._taskDefinitionCollection.getMajorVersions(n);return i?c.getTaskDefinition(i,t):null}return null},t.prototype.getTaskVersionInfoList=function(n){var i=[],t;return n&&this._taskDefinitionCollection&&(t=this._taskDefinitionCollection.getMajorVersions(n),t&&Object.keys(t).forEach(function(n){var r=t[n],u=c.isPreview(r),f=c.isDeprecated(r),e=c.getMajorVersionSpec(r.version);i.push({versionSpec:e,isPreview:u,isDeprecated:f})})),i},t.prototype.getEmptyTaskDefinition=function(n,t,i){return this._publishTelemetryForTaskNotInstalled(n,t,i),{definitionType:!t?y.empty:t,friendlyName:!n?y.empty:n,helpMarkDown:o.TaskDeletedMessage,dataSourceBindings:[],demands:[],groups:[],inputs:[],sourceLocation:{},visibility:[],version:{major:0}}},t.prototype.getLatestReleasedMajorVersionSpec=function(n){if(this._taskDefinitionCollection){var t=this._taskDefinitionCollection.getTaskById(n);return t?c.getMajorVersionSpec(t.version):"*"}return"*"},t.prototype.initializePrefetchedDefinitions=function(n,t,i){n&&(n.forEach(function(n){n.definitionType===h.DefinitionType.metaTask&&(n.iconUrl=l.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png");n.friendlyName=n.friendlyName||n.name||n.instanceNameFormat||y.empty}),this._taskDefinitionCollection=new s.TaskDefinitionCollection(n,i),this._preFetchedTaskDefinitionList=this._taskDefinitionCollection.getLatestVersionArray(),this._isTaskListPartial=t)},t.prototype.saveMetaTaskDefinition=function(n,t){var f=this,e=t===r.Workflow.Build?["Build"]:[],u=s.TaskDefinitionCache.getTaskDefinitionCache(e);return s.TaskDefinitionCache.metaTaskManager||(s.TaskDefinitionCache.metaTaskManager=new s.MetaTaskManager),s.TaskDefinitionCache.metaTaskManager.saveDefinition(n).then(function(t){return u.cacheMetaTaskDemandsFromServer(n.id,c.getMajorVersionSpec(n.version)),u.refresh(t.visibility).then(function(n){return f.initializePrefetchedDefinitions(n.tasks,!1),i.resolve(t)})},function(n){return a.logInfo(n.message||n.toString()),i.reject(n)})},t.prototype.getTaskDefinitionDemandsFromTaskId=function(n){return this._taskDefinitionCollection.getTaskDefinitionDemandsById(n)},t.instance=function(){return e.SourceManager.getSource(t)},t.prototype.disposeTaskDefinitionCache=function(){s.TaskDefinitionCache.disposeInstance()},t.prototype._canReturnPrefetchedTaskDefinitions=function(n){return!this._preFetchedTaskDefinitionList||this._preFetchedTaskDefinitionList.length===0?!1:!n&&this._isTaskListPartial?!1:!0},t.prototype._filterTaskDefinitions=function(n){return(n||[]).filter(function(n){return!n.disabled})},t.prototype._publishTelemetryForTaskNotInstalled=function(n,t,i){var r={};r[u.Properties.TaskDefinitionType]=t;r[u.Properties.TaskRefName]=i&&i.refName;i&&i.task&&(r[u.Properties.TaskVersionSpec]=i.task.versionSpec,r[u.Properties.TaskId]=i.task.id,this._notFoundTaskId=i.task.id);r[u.Properties.prefetchedTaskGuids]=this._prefetchedTaskGuids();u.Telemetry.instance().publishEvent(u.Feature.TaskNotInstalled,r)},t.prototype._prefetchedTaskGuids=function(){var n="";return this._preFetchedTaskDefinitionList&&this._preFetchedTaskDefinitionList.forEach(function(t){n+=t?", "+t.id:", NULL TASK"}),n},t}(f.SourceBase);t.TaskDefinitionSource=p});

define("PipelineWorkflow/Scripts/Shared/Sources/WebPageData",["require","exports","DistributedTaskControls/Common/Factory","DistributedTaskControls/Sources/TaskDefinitionSource","ReleaseManagement/Core/Constants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this.initializeData(n)},t.prototype.getTimeZones=function(){return this.getData()&&this.getData().timeZones?this.getData().timeZones:null},t.prototype.getGatesMinimumSamplingIntervalInMinutes=function(){return this.getData()&&this.getData().gatesMinimumSamplingIntervalInMinutes?this.getData().gatesMinimumSamplingIntervalInMinutes:u.GateConstants.MinimumSamplingIntervalInMinutes},t.prototype.getResourcePath=function(){if(this.getData()&&this.getData().resourcePath)return this.getData().resourcePath},t.prototype.initializeTaskDefinitions=function(n,t){r.TaskDefinitionSource.instance().initializePrefetchedDefinitions(n,t)},t}(i.Singleton);t.WebPageDataHelper=f});

define("PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData",["require","exports","PipelineWorkflow/Scripts/Shared/Sources/WebPageData","ReleaseManagement/Core/Contracts","VSS/Serialization","VSS/Service","VSS/Contributions/Services"],function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});o={WebPageData:{fields:null}};o.WebPageData.fields={releaseDefinition:{typeInfo:r.TypeInfo.ReleaseDefinition}};s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.dispose=function(){n.getInstance.call(this,t)._data=null;n.dispose.call(this)},t.prototype.initializeData=function(t){this._data||(this._data=f.getService(e.WebPageDataService).getPageData(t,o.WebPageData),this._data&&this._data.taskDefinitions&&n.prototype.initializeTaskDefinitions.call(this,this._data.taskDefinitions,this._data.isPartialTaskList))},t.prototype.getData=function(){return this._data},t.prototype.getReleaseDefinition=function(){return this._data?this._data.releaseDefinition:null},t.prototype.updateReleaseDefinition=function(n){this._data&&this._data.releaseDefinition&&n.id===this._data.releaseDefinition.id&&(this._data.releaseDefinition=n)},t.prototype.getReleaseSettings=function(){return this._data?this._data.releaseSettings:null},t.prototype.getEmptyEnvironmentTemplate=function(){return this._data?u.ContractSerializer.deserialize(this._data.emptyEnvironmentTemplate,r.TypeInfo.ReleaseDefinitionEnvironmentTemplate):null},t.prototype.getReleaseDefinitionEnvironmentTemplates=function(){return this._data?this._data.templates:null},t.prototype.getArtifactTypeDefinitions=function(){return this._data?this._data.artifactTypeDefinitions:null},t}(i.WebPageDataHelper);t.ReleaseEditorWebPageDataHelper=s});

define("PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData",["require","exports","VSS/Service","VSS/Contributions/Services"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u={WebPageData:{fields:null}},f=function(){function n(){}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.initializeData=function(){this._data=i.getService(r.WebPageDataService).getPageData("ms.vss-releaseManagement-web.cdworkflow.crpanel.data-provider",u.WebPageData)},n.prototype.getReleaseDefinitions=function(){return this._data?this._data.releaseDefinitions:null},n.prototype.getReleaseDefinition=function(){return this._data?this._data.defaultReleaseDefinition:null},n.prototype.getArtifactVersions=function(){return this._data?this._data.artifactVersions:null},n.prototype.getLinkedProjects=function(){return this._data?this._data.linkedProjects:null},n.prototype.getArtifactSourceId=function(){return this._data?this._data.artifactSourceId:null},n}();t.CreateReleasePanelDataHelper=f});

define("PipelineWorkflow/Scripts/Editor/Sources/DeployPipelineDefinitionSource",["require","exports","q","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Editor/Common/Constants","PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData","PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/Context","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isDataLoaded=!1,t._getDefinitionPromise={},t._getReleaseDefinitionsForArtifactSourcePromise={},t._artifactSourceId=l.empty,t._getEnvironmentTemplatePromise={},t}return __extends(t,n),t.getKey=function(){return"DeployPipelineDefinitionSource"},t.prototype.get=function(n,t,r){var y=this,p,u,e;if(t===void 0&&(t=!1),!this._isDataLoaded&&h.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var f=s.CreateReleasePanelDataHelper.getInstance(),a=f.getReleaseDefinition(),v=!f.getLinkedProjects()?null:f.getLinkedProjects()[0];a&&v&&(p=l.format("{0}:{1}",v.name,a.id),this._artifactSourceId=f.getArtifactSourceId(),this._getDefinitionPromise[p]=i.resolve(a),this._getReleaseDefinitionsForArtifactSourcePromise[v.name]=i.resolve(f.getReleaseDefinitions()));this._isDataLoaded=!0}return(r=r||c.getDefaultWebContext().project.name,u=l.format("{0}:{1}",r,n),!this._getDefinitionPromise[u]||t)?(e=o.ReleaseEditorWebPageDataHelper.instance().getReleaseDefinition(),!t&&e&&e.id===n?(this._getDefinitionPromise[u]=i.resolve(e),this._getDefinitionPromise[u]):this.getClient().getDefinition(n,r).then(function(n){return y._getDefinitionPromise[u]=i.resolve(n),y._getDefinitionPromise[u]},function(n){return i.reject(n)})):this._getDefinitionPromise[u]},t.prototype.create=function(n){return this.getClient().createDefinition(n).then(function(n){return o.ReleaseEditorWebPageDataHelper.instance().updateReleaseDefinition(n),i.resolve(n)})},t.prototype.save=function(n){return this.getClient().saveDefinition(n).then(function(n){return o.ReleaseEditorWebPageDataHelper.instance().updateReleaseDefinition(n),i.resolve(n)})},t.prototype.getSettings=function(){var n=o.ReleaseEditorWebPageDataHelper.instance().getReleaseSettings();return n?i.resolve(n):this.getClient().getSettings()},t.prototype.getEnvironmentTemplate=function(n){var t=o.ReleaseEditorWebPageDataHelper.instance().getEmptyEnvironmentTemplate();return n===e.TemplateConstants.EmptyTemplateGuid&&!!t?i.resolve(t):(this._getEnvironmentTemplatePromise[n]||(this._getEnvironmentTemplatePromise[n]=this.getClient().getEnvironmentTemplate(n)),this._getEnvironmentTemplatePromise[n])},t.prototype.getDefinitionRevisions=function(n){return this.getClient().getDefinitionRevisions(n)},t.instance=function(){return r.SourceManager.getSource(t)},t.prototype.getDefinitionRevision=function(n,t){return this.getClient().getDefinitionRevision(n,t)},t.prototype.saveWithApiVersion=function(n,t){return this.getClient().saveDefinitionUsingApiVersion(n,t).then(function(n){return o.ReleaseEditorWebPageDataHelper.instance().updateReleaseDefinition(n),i.resolve(n)})},t.prototype.getReleaseDefinitions=function(n){return this.getClient().getReleaseDefinitions(n,null,null,null,f.ReleaseDefinitionQueryOrder.NameAscending)},t.prototype.getReleaseDefinitionsForArtifactSource=function(n,t,r,u){var a=this,v;if(!this._isDataLoaded&&h.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var f=s.CreateReleasePanelDataHelper.getInstance(),e=f.getReleaseDefinition(),o=!f.getLinkedProjects()?null:f.getLinkedProjects()[0];e&&o&&(v=l.format("{0}:{1}",o.name,e.id),this._artifactSourceId=f.getArtifactSourceId(),this._getDefinitionPromise[v]=i.resolve(e),this._getReleaseDefinitionsForArtifactSourcePromise[o.name]=i.resolve(f.getReleaseDefinitions()));this._isDataLoaded=!0}return(u=u||c.getDefaultWebContext().project.name,t!==this._artifactSourceId&&(this._artifactSourceId=t,this._getReleaseDefinitionsForArtifactSourcePromise={}),!this._getReleaseDefinitionsForArtifactSourcePromise[u])?this.getClient().getReleaseDefinitionsForArtifactSource(n,t,r,u).then(function(n){return a._getReleaseDefinitionsForArtifactSourcePromise[u]=i.resolve(n),a._getReleaseDefinitionsForArtifactSourcePromise[u]}):this._getReleaseDefinitionsForArtifactSourcePromise[u]},t}(u.ReleaseManagementSourceBase);t.DeployPipelineDefinitionSource=a});

define("PipelineWorkflow/Scripts/Shared/Sources/ReleaseSource",["require","exports","q","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Contracts","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.DefaultTopReleasesCount=25,t}return __extends(t,n),t.getKey=function(){return"ReleaseSourceShared"},t.instance=function(){return r.SourceManager.getSource(t)},t.prototype.createRelease=function(n,t){return this.getClient().createRelease(n,t)},t.prototype.getRelease=function(n){return this.getClient().getRelease(n)},t.prototype.updateRelease=function(n){return this.getClient().updateRelease(n)},t.prototype.patchRelease=function(n,t){return this.getClient().patchRelease(n,t)},t.prototype.setDeploymentAuthorizationHeader=function(n){return this.getClient().setDeploymentAuthorizationHeader(n)},t.prototype.getReleases=function(n,t){return t===void 0&&(t=5),n>0?this.getClient().getReleases(n,0,o.empty,e.ReleaseStatus.Undefined,e.EnvironmentStatus.Undefined,null,null,e.ReleaseQueryOrder.Descending,t,0,e.ReleaseExpands.None,o.empty,o.empty,!1).then(function(n){return i.resolve(n.releases)},function(n){return i.reject(n)}):i.resolve([])},t.prototype.getSpecifiedReleases=function(n){return n.length>0?this.getClient().getReleases(0,0,o.empty,e.ReleaseStatus.Undefined,e.EnvironmentStatus.Undefined,null,null,e.ReleaseQueryOrder.Descending,this.DefaultTopReleasesCount,0,e.ReleaseExpands.Artifacts|e.ReleaseExpands.Tags,o.empty,o.empty,!1,n.join()).then(function(n){return i.resolve(n.releases)},function(n){return i.reject(n)}):i.resolve([])},t.prototype.getReleaseRevision=function(n,t){return this.getClient().getReleaseRevision(n,t)},t.prototype.getReleaseHistory=function(n){return this.getClient().getReleaseHistory(n)},t.prototype.addTag=function(n,t){if(n>0)return this.getClient().addTag(n,t).then(function(n){return i.resolve(n)},function(n){return i.reject(n)});i.reject(f.ReleaseIdInvalidError)},t.prototype.deleteTag=function(n,t){if(n>0)return this.getClient().deleteTag(n,t).then(function(n){return i.resolve(n)},function(n){return i.reject(n)});i.reject(f.ReleaseIdInvalidError)},t.prototype.getReleaseTasks=function(n,t,i){return this.getClient().getReleaseTasks(n,t,i)},t.prototype.getReleaseTasks2=function(n,t,i,r){return this.getClient().getReleaseTasks2(n,t,i,r)},t.prototype.abandonRelease=function(n,t){var i={comment:t,keepForever:null,manualEnvironments:null,status:e.ReleaseStatus.Abandoned,name:null};return this.getClient().patchRelease(n.id,i)},t.prototype.retainRelease=function(n,t,i){var r={comment:i,keepForever:t,manualEnvironments:null,status:e.ReleaseStatus.Undefined,name:null};return this.getClient().patchRelease(n,r)},t.prototype.deleteRelease=function(n,t){return this.getClient().deleteRelease(n,t)},t.prototype.undeleteRelease=function(n,t){return this.getClient().undeleteRelease(n,t)},t}(u.ReleaseManagementSourceBase);t.ReleaseSource=s});

define("DistributedTaskControls/Common/Primitives",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.fromString=function(n){return n?i.equals(n.trim(),this.trueString,!0):!1},n.toString=function(n){return n?this.trueString:this.falseString},n.isTrue=function(n){return this.fromString(n)===!0},n.isFalse=function(n,t){return t?n?i.equals(n.trim(),this.falseString,!0):!1:!this.isTrue(n)},Object.defineProperty(n,"trueString",{get:function(){return"true"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"falseString",{get:function(){return"false"},enumerable:!0,configurable:!0}),n}();t.Boolean=r});

define("DistributedTaskControls/Common/RegexConstants",["require","exports"],function(n,t){function i(n){return new RegExp("^"+n+" \\(([1-9][0-9]*)\\)\\s*$","i")}Object.defineProperty(t,"__esModule",{value:!0});t.TaskNameRegex=/(\r\n|\n|\r|\t)/gm;t.DefinitionNameRegex=/[\u0000-\u001F\"\/\:\<\>\\\|\$\@]/;t.VariableParameterRegex=new RegExp("\\$\\(.*?\\)");t.RegexSpecialCharactersRegex=/[-\/\\^$*+?.()|[\]{}]/g;t.ReleaseDefinitionNameRegex=/[\u0000-\u001F\"\/\:\<\>\\\|\$\@\%\*]/;t.DemandEqualsRegEx=new RegExp(" -equals ","i");t.DemandGtVersionRegEx=new RegExp(" -gtVersion ","i");t.FindSubscriptionIdRegEx=/\(([A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12})\)$/;t.LiveLogsLineRegEx=/^\#*\[([^|\s\]]+).*?\](.*)/;t.GuidPatternRegEx="^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$";t.PredicateRuleRegEx=/([a-zA-Z0-9 ]+)([!=<>]+)([a-zA-Z0-9. ]+)/g;t.SelfClosingHTMLTagRegEx=/<\s*([^\s>]+)([^>]*)\/\s*>/g;t.DefaultDefinitionNameFormatRegex=i;var r;(function(n){n.GuidPatternWithoutBraces=t.GuidPatternRegEx;n.GuidPatternWithBraces="^{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}$";n.UriValidator="^.+://.+$"})(r=t.ServiceEndPointsRegexConstants||(t.ServiceEndPointsRegexConstants={}))});

define("DistributedTaskControls/Clients/TaskAgentRestClient",["require","exports","TFS/DistributedTask/TaskAgentRestClient","TFS/DistributedTask/Contracts"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDeploymentGroupsWithContinuationToken=function(n,t,i,u,f,e,o){var s={name:t,actionFilter:i,$expand:u,continuationToken:f,$top:e,ids:o&&o.join(",")};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"083c4d89-ab35-45af-aa11-7cf66895c53e",resource:"deploymentgroups",routeTemplate:"{project}/_apis/{area}/{resource}/{deploymentGroupId}",responseType:r.TypeInfo.DeploymentGroup,responseIsCollection:!0,routeValues:{project:n},queryParams:s,apiVersion:this.deploymentgroupsApiVersion}).spread(function(n,t,i){return{deploymentGroups:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getDeploymentGroupsMetricsWithContinuationToken=function(n,t,i,u){var f={deploymentGroupName:t,continuationToken:i,$top:u};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"281c6308-427a-49e1-b83a-dac0f4862189",resource:"deploymentgroupsmetrics",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{resource}",responseType:r.TypeInfo.DeploymentGroupMetrics,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.deploymentgroupsApiVersion}).spread(function(n,t,i){return{deploymentGroupsMetrics:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t.prototype.getDeploymentTargetsWithContinuationToken=function(n,t,i,u,f,e,o,s,h,c,l){var a={tags:i&&i.join(","),name:u,partialNameMatch:f,$expand:e,agentStatus:o,agentJobResult:s,continuationToken:h,$top:c,enabled:l};return this._beginRequestWithAjaxResult({httpMethod:"GET",area:"distributedtask",locationId:"2f0aa599-c121-4256-a5fd-ba370e0ae7b6",resource:"targets",routeTemplate:"{project}/_apis/{area}/deploymentgroups/{deploymentGroupId}/{resource}",responseType:r.TypeInfo.DeploymentMachine,responseIsCollection:!0,routeValues:{project:n,deploymentGroupId:t.toString()},queryParams:a,apiVersion:this.deploymentgroupsApiVersion}).spread(function(n,t,i){return{deploymentTargets:n,continuationToken:i.getResponseHeader("x-ms-continuationtoken")}})},t}(i.TaskAgentHttpClient);t.TaskAgentRestClient=u});

define("DistributedTaskControls/Sources/AgentsSource",["require","exports","q","DistributedTaskControls/Clients/TaskAgentRestClient","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/DistributedTask/Contracts","VSS/Context","VSS/LWP","VSS/Service","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.getAgentSpecifications=function(n){return __awaiter(t,void 0,void 0,function(){var i,t;return __generator(this,function(){return i=Promise.resolve([]),t=s.getLWPService("IAgentSpecificationService"),t&&t.getAgentSpecificationsByQueue&&(i=t.getAgentSpecificationsByQueue(n)),[2,i]})})},t._getMachineGroupPromises={},t._getResourceUsagePromise={},t._getAgentJobRequestsPoolPromise={},t._defaultTargetsCount=1e3,t}return __extends(t,n),t.getKey=function(){return"AgentsSource"},t.prototype.getTaskAgentClient=function(){return this._taskAgentClient||(this._taskAgentClient=this._getVssConnection().getHttpClient(r.TaskAgentRestClient)),this._taskAgentClient},t.prototype.getPermissibleDeploymentGroups=function(n,t,i,r,u){return n===void 0&&(n=!1),(!this._getPermissibleDeploymentGroupsPromise||n)&&(this._getPermissibleDeploymentGroupsPromise=this.getTaskAgentClient().getDeploymentGroupsWithContinuationToken(o.getDefaultWebContext().project.id,t,e.DeploymentGroupActionFilter.Use,e.DeploymentGroupExpands.None,r,u)),this._getPermissibleDeploymentGroupsPromise},t.prototype.getDeploymentGroupsByIds=function(n,t){return n===void 0&&(n=!1),(!this._getDeploymentGroupsByIdPromise||n)&&(this._getDeploymentGroupsByIdPromise=this.getTaskAgentClient().getDeploymentGroupsWithContinuationToken(o.getDefaultWebContext().project.id,null,e.DeploymentGroupActionFilter.None,e.DeploymentGroupExpands.None,null,null,t)),this._getDeploymentGroupsByIdPromise},t.prototype.getDeploymentGroupsByNameOrRegex=function(n,t){return n===void 0&&(n=!1),(!this._getDeploymentGroupsByNameOrRegexPromise||n)&&(this._getDeploymentGroupsByNameOrRegexPromise=this.getTaskAgentClient().getDeploymentGroupsWithContinuationToken(o.getDefaultWebContext().project.id,t,e.DeploymentGroupActionFilter.None,e.DeploymentGroupExpands.None)),this._getDeploymentGroupsByNameOrRegexPromise},t.prototype.getTaskAgentQueue=function(n,t){var u=this,r;return t===void 0&&(t=!1),r=i.defer(),this.getTaskAgentQueues(t).then(function(i){var f=u._getQueueDetailsIfPresent(n,i);if(f)return r.resolve(f);u.getAllAgentQueues(t).then(function(t){return f=u._getQueueDetailsIfPresent(n,t),r.resolve(f)},function(n){r.reject(n)})},function(n){r.reject(n)}),r.promise},t.prototype.getTaskAgentQueues=function(n){return n===void 0&&(n=!1),(!this._getTaskAgentQueuesPromise||n)&&(this._getTaskAgentQueuesPromise=this.getTaskAgentClient().getAgentQueues(o.getDefaultWebContext().project.id,null,e.TaskAgentQueueActionFilter.Use)),this._getTaskAgentQueuesPromise},t.prototype.getAllAgentQueues=function(n){return n===void 0&&(n=!1),(!this._getAllAgentQueuesPromise||n)&&(this._getAllAgentQueuesPromise=this.getTaskAgentClient().getAgentQueues(o.getDefaultWebContext().project.id)),this._getAllAgentQueuesPromise},t.prototype.getAgents=function(n,t,i,r,u,f,e){return this.getTaskAgentClient().getAgents(n,t,i,r,u,f,e)},t.prototype.getAgentRequestsForPlan=function(n,t){var i=n+t;return this._getAgentJobRequestsPoolPromise[i]||(this._getAgentJobRequestsPoolPromise[i]=this.getTaskAgentClient().getAgentRequestsForPlan(n,t)),this._getAgentJobRequestsPoolPromise[i]},t.prototype.getResourceUsage=function(n,t,i){var r=n+t+i;return this._getResourceUsagePromise[r]||(this._getResourceUsagePromise[r]=this.getTaskAgentClient().getResourceUsage(n,t,i)),this._getResourceUsagePromise[r]},t.prototype.fetchJobRequestsForAgents=function(n,t){return this.getTaskAgentClient().getAgentRequestsForAgents(n,t)},t.prototype.getPermissibleDeploymentMachineGroups=function(n,t){return n===void 0&&(n=!1),(!this._getDeploymentMachineGroupsPromise||n)&&(this._getDeploymentMachineGroupsPromise=this.getTaskAgentClient().getDeploymentMachineGroups(o.getDefaultWebContext().project.id,t,e.MachineGroupActionFilter.Use)),this._getDeploymentMachineGroupsPromise},t.prototype.getAllDeploymentMachineGroups=function(n){return n===void 0&&(n=!1),(!this._getAllDeploymentMachineGroupsPromise||n)&&(this._getAllDeploymentMachineGroupsPromise=this.getTaskAgentClient().getDeploymentMachineGroups(o.getDefaultWebContext().project.id)),this._getAllDeploymentMachineGroupsPromise},t.prototype.getDeploymentMachineGroup=function(n,t){return t===void 0&&(t=!1),(t||!this._getMachineGroupPromises.hasOwnProperty(n))&&(this._getMachineGroupPromises[n]=this.getTaskAgentClient().getDeploymentMachineGroup(o.getDefaultWebContext().project.id,n)),this._getMachineGroupPromises[n]},t.prototype.getTaskAgentPools=function(n){return n===void 0&&(n=!1),(!this._getTaskAgentPoolPromise||n)&&(this._getTaskAgentPoolPromise=this.getTaskAgentClient().getAgentPools(null,null,null,e.TaskAgentPoolActionFilter.Use)),this._getTaskAgentPoolPromise},t.prototype._getQueueDetailsIfPresent=function(n,t){var i;return t&&t.length>0&&(i=c.first(t,function(t){return t.id===n})),i},t.prototype.getMachines=function(n,t,i,r,u){return i===void 0&&(i=!1),u===void 0&&(u=e.DeploymentMachineExpands.None),(!this._getDeploymentGroupDeploymentMachinesPromise||i)&&(this._getDeploymentGroupDeploymentMachinesPromise=this.getTaskAgentClient().getDeploymentMachines(o.getDefaultWebContext().project.id,n,t,r,u)),this._getDeploymentGroupDeploymentMachinesPromise},t.prototype.getDeploymentTargetsWithContinuationToken=function(n,t,i,r,u,f,e,s,h,c,l){return l===void 0&&(l=!1),(!this._getDeploymentGroupDeploymentTargetsPromise||l)&&(this._getDeploymentGroupDeploymentTargetsPromise=this.getTaskAgentClient().getDeploymentTargetsWithContinuationToken(o.getDefaultWebContext().project.id,n,t,i,r,u,f,e,s,h,c)),this._getDeploymentGroupDeploymentTargetsPromise},t.prototype.getTargets=function(n,t,r){var u=i.defer();return this._getTargetsRecursively(n,t,null,r,[]).then(function(n){u.resolve(n)},function(n){u.reject(n)}),u.promise},t.prototype._getTargetsRecursively=function(n,r,u,f,o){var h=this,s=i.defer();return t.instance().getDeploymentTargetsWithContinuationToken(n,r,null,!1,e.DeploymentTargetExpands.Capabilities,e.TaskAgentStatusFilter.All,e.TaskAgentJobResultFilter.All,u,this._defaultTargetsCount,f,!0).then(function(t){return t.continuationToken?s.resolve(h._getTargetsRecursively(n,r,t.continuationToken,f,c.union(o,t.deploymentTargets))):s.resolve(c.union(o,t.deploymentTargets))},function(n){s.reject(n)}),s.promise},t.prototype._getVssConnection=function(){return this._vssConnection||(this._vssConnection=new h.VssConnection(o.getDefaultWebContext())),this._vssConnection},t.instance=function(){return f.SourceManager.getSource(t)},t}(u.SourceBase);t.AgentsSource=l});

define("DistributedTaskControls/Sources/ConnectedServiceClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function f(n){return i.getClient(u,undefined,undefined,undefined,n)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.authRequestsApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.createAuthRequest=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"connectedService",locationId:"e921b68f-92d6-44d4-aa88-19c84be1c4c7",resource:"authRequests",routeTemplate:"{project}/_apis/{area}/providers/{providerId}/{resource}",routeValues:{project:t,providerId:i},apiVersion:this.authRequestsApiVersion,data:n})},t}(r.VssHttpClient);t.ConnectedServiceClient=u;t.getClient=f});

define("DistributedTaskControls/Sources/ConnectedServiceEndpointSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","DistributedTaskControls/Sources/ConnectedServiceClient","TFS/DistributedTask/TaskAgentRestClient","TFS/ServiceEndpoint/ServiceEndpointRestClient","VSS/Context","VSS/Service"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dtAgentClient=s.getCollectionClient(f.TaskAgentHttpClient),t._connectedServiceClient=s.getClient(u.ConnectedServiceClient),t._serviceEndpointHttpClient=s.getClient(e.ServiceEndpointHttpClient),t}return __extends(t,n),t.getKey=function(){return"ConnectedServiceEndpointSource"},t.prototype.createAuthRequest=function(n){var t=o.getDefaultWebContext().project.name;return this._connectedServiceClient.createAuthRequest(undefined,t,n)},t.prototype.createServiceEndpoint=function(n){var t=o.getDefaultWebContext().project.name;return this._serviceEndpointHttpClient.createServiceEndpoint(n,t)},t.prototype.updateServiceEndpoint=function(n){var t=o.getDefaultWebContext().project.name;return this._serviceEndpointHttpClient.updateServiceEndpoint(n,t,n.id)},t.prototype.getServiceEndpoints=function(n,t,i){var r=o.getDefaultWebContext().project.name;return this._serviceEndpointHttpClient.getServiceEndpoints(r,n,t,i)},t.prototype.getServiceEndpointTypes=function(n,t){return this._serviceEndpointHttpClient.getServiceEndpointTypes(n,t)},t.prototype.getServiceEndpoint=function(n){var t=o.getDefaultWebContext().project.name;return this._serviceEndpointHttpClient.getServiceEndpointDetails(t,n)},t.prototype.executeServiceEndpointRequest=function(n,t){var i=o.getDefaultWebContext().project.id;return this._serviceEndpointHttpClient.executeServiceEndpointRequest(n,i,t)},t.prototype.queryEndpoint=function(n){var t=o.getDefaultWebContext().project.id;return n.scope=t,this._dtAgentClient.queryEndpoint(n)},t.prototype.beginGetAzureSubscriptions=function(){return this._dtAgentClient.getAzureSubscriptions()},t.prototype.beginGetSubscriptionNames=function(){var n=o.getDefaultWebContext().project.name;return this._buildLegacyHttpClient.beginGetSubscriptionNames(n)},t.instance=function(){return r.SourceManager.getSource(t)},t}(i.SourceBase);t.ConnectedServiceEndpointSource=h});

define("DistributedTaskControls/Common/AppContext",["require","exports","DistributedTaskControls/Common/Factory","VSS/Utils/Array"],function(n,t,i,r){var f,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.LinkProcessParameters=0]="LinkProcessParameters";n[n.GreaterThanConditionInDemand=1]="GreaterThanConditionInDemand";n[n.MultiplePhases=2]="MultiplePhases";n[n.VariablesForTasktimeout=3]="VariablesForTasktimeout";n[n.Build=4]="Build";n[n.Deployment=5]="Deployment";n[n.ViewYAML=6]="ViewYAML";n[n.MarketplaceExtensions=7]="MarketplaceExtensions";n[n.PhaseJobCancelTimeout=8]="PhaseJobCancelTimeout";n[n.ShowViewYAMLInPhase=9]="ShowViewYAMLInPhase"}(f=t.AppCapability||(t.AppCapability={}));u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.isCapabilitySupported=function(n){return!this._capabilities||this._capabilities.length===0?!1:r.contains(this._capabilities,n)},Object.defineProperty(t.prototype,"Capabilities",{set:function(n){this._capabilities=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsSystemVariable",{get:function(){return this._isSystemVariable},set:function(n){this._isSystemVariable=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageContext",{get:function(){return this._pageContext},set:function(n){this._pageContext=n},enumerable:!0,configurable:!0}),t}(i.Singleton);t.AppContext=u});

define("VSS/Controls/KeyboardShortcuts",["require","exports","react","VSS/VSS","VSS/Resources/VSS.Resources.Platform","VSS/Utils/UI","VSS/LWP","VSS/LWP","VSS/LoaderPlugins/Css!VSS.Controls","VSS/LoaderPlugins/Css!widget"],function(n,t,i,r,u,f,e,o){var c,s,h;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.ALT="alt";n.CONTROL="ctrl";n.SHIFT="shift"}(c=t.ShortcutKeys||(t.ShortcutKeys={}));s=function(){function n(){}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.getShortcutGroups=function(){var n=o.getLWPService("IVssKeyboardShortcutService");return n?n.getShortcutGroups():[]},n.prototype.getGlobalCombos=function(){var n=o.getLWPService("IVssKeyboardShortcutService");return n?n.getGlobalCombos():[]},n.prototype.registerShortcut=function(n,t,i,r,u){var f;return f=typeof i=="string"?{action:r,allowPropagation:u,description:i}:i,this.registerShortcuts(n,[t],f)},n.prototype.registerShortcuts=function(n,t,i,r,u){var e,f;return e=typeof i=="string"?{action:r,allowPropagation:u,description:i}:i,f=o.getLWPService("IVssKeyboardShortcutService"),f&&f.registerShortcut(n,__assign({combos:t},e)),this},n.prototype.unRegisterShortcut=function(n,t){var i=o.getLWPService("IVssKeyboardShortcutService");i&&i.unRegisterShortcut(n,t)},n.prototype.removeShortcutGroup=function(n){var t=o.getLWPService("IVssKeyboardShortcutService");t&&t.removeShortcutGroup(n)},n.prototype.showShortcutDialog=function(t){var i=this;$(".keyboard-shortcut-dialog").length<=0&&r.using(["VSS/Controls/Dialogs"],function(r){var f=n.getInstance().getShortcutGroups(),e=300*Math.min(f.length,4)+50,o=f.map(function(n){return n.shortcuts.filter(function(n){return n.combosToDisplay.length>0}).length}),s=Math.max.apply(Math,o),h=35*s+150;i._shortcutDialog=r.show(r.ModalDialog,{width:e,height:h,minWidth:300,minHeight:300,resizable:!1,buttons:[],cssClass:"keyboard-shortcut-dialog",title:u.KeyboardShortcutDialogTitle,content:i.renderDialogContent(f),close:function(){t&&t();i._shortcutDialog=null}})})},n.prototype.renderDialogContent=function(n){var t=$("<div />").addClass("keyboard-shortcut-container");return t.append(this.renderShortcutGroups(n)),t.append(this.renderHelpLink()),t},n.prototype.renderShortcutGroups=function(n){for(var u,i=$("<div />").addClass("keyboard-shortcut-groups"),t=0,r=n.filter(function(n){return n.shortcuts.some(function(n){return n.combosToDisplay.length>0})});t<r.length;t++)u=r[t],i.append(this.renderGroup(u));return i},n.prototype.renderShortcut=function(n){var r=f.BrowserCheckUtils.isMacintosh()||f.BrowserCheckUtils.isIOS(),i=$("<span />"),t;return n.combosToDisplay.forEach(function(n,t){n=n.replace(/\bmod\b/gi,r?"\u2318":"ctrl");t>0&&i.append("/ ");n.split(" ").forEach(function(n){$("<kbd />").text(n).appendTo(i)})}),t=$("<tr />"),$("<td class='keys-definition' />").append(i).appendTo(t),$("<td class='keys-description' />").text(n.description).appendTo(t),t},n.prototype.renderGroup=function(n){var u=this,r=$("<div />").addClass("keyboard-shortcut-group"),t=$("<table />"),i=$("<tr />");return i.append("<th />"),$("<th />").text(n.name).attr("scope","col").appendTo(i),i.appendTo(t),n.shortcuts.forEach(function(n){n.combosToDisplay.length>0&&u.renderShortcut(n).appendTo(t)}),r.append(t),r},n.prototype.renderHelpLink=function(){var n=$("<div />").addClass("keyboard-shortcut-helplink");return $("<a />").attr("href","https://go.microsoft.com/fwlink/?LinkID=708466").attr("target","_blank").text(u.KeyboardShortcutHelpLinkText).appendTo(n),n},n.AREA="KeyboardShortcuts",n.FEATURE="ShortcutInvoked",n}();t.ShortcutManager=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return s.getInstance().showShortcutDialog(this.props.onClose),null},t}(i.Component);e.registerLWPComponent("shortcutDialog",h)});

define("DistributedTaskControls/Common/ShortKeys",["require","exports","VSS/Controls/KeyboardShortcuts"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(){}return n.MoveSelectedItemUp=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+e",n.MoveSelectedItemDown=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+d",n}();t.ItemListShortKeys=r,function(n){n.HelpShortKey=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+h";n.LinkShortKey=i.ShortcutKeys.CONTROL+"+"+i.ShortcutKeys.ALT+"+l";n.MasterDetailsToggleShortKey=i.ShortcutKeys.CONTROL+"+f6"}(u=t.InputControlShortKeys||(t.InputControlShortKeys={})),function(n){n[n.MoveSelectedItemUp=69]="MoveSelectedItemUp";n[n.MoveSelectedItemDown=68]="MoveSelectedItemDown";n[n.Help=72]="Help";n[n.Link=76]="Link"}(f=t.KeyCodes||(t.KeyCodes={}))});

define("DistributedTaskControls/Common/Types",["require","exports","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls"],function(n,t,i,r){var f,u,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.None=0]="None";n[n.LinkToProcessParameter=1]="LinkToProcessParameter";n[n.UnlinkFromProcessParameter=2]="UnlinkFromProcessParameter";n[n.NavigateToVariablesTab=3]="NavigateToVariablesTab"}(f=t.ActionForTaskInput||(t.ActionForTaskInput={}));u=function(){function n(){}return n}();t.ILinkToProcessParameterPayload=u,function(n){n.Task=i.DefinitionType.task;n.MetaTask=i.DefinitionType.metaTask;n.Extension=r.ExtensionText}(e=t.TaskItemType||(t.TaskItemType={})),function(n){n.Install="install";n.OnpremDownloads="onpremDownloads"}(o=t.ExtensionStatisticName||(t.ExtensionStatisticName={})),function(n){n[n.None=0]="None";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=4]="Wednesday";n[n.Thursday=8]="Thursday";n[n.Friday=16]="Friday";n[n.Saturday=32]="Saturday";n[n.Sunday=64]="Sunday";n[n.All=127]="All"}(s=t.ScheduleDays||(t.ScheduleDays={})),function(n){n[n.None=0]="None";n[n.Top=1]="Top";n[n.Bottom=2]="Bottom"}(h=t.DraggedOverRegion||(t.DraggedOverRegion={})),function(n){n[n.TagName=0]="TagName";n[n.BranchName=1]="BranchName"}(c=t.BranchFilterType||(t.BranchFilterType={})),function(n){n[n.Featured=0]="Featured";n[n.Others=1]="Others";n[n.Custom=2]="Custom"}(l=t.TemplateDefinitionCategory||(t.TemplateDefinitionCategory={}))});

define("VSS/Flux/Component",["require","exports","react","VSS/Utils/Core"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=0,f=function(n){function t(t,i){var u=__construct(this,n,[t,i]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.state=u.getState(),u._changeDelegate=r.delegate(u,u.onChange),u}return __extends(t,n),t.prototype.getKey=function(n){return u+=1,""+n+u},t.prototype.getState=function(){return null},t.prototype.onChange=function(){var n=this.getState();this.setState(n)},t.prototype.getStore=function(){return null},t.prototype.componentDidMount=function(){var n=this.getStore();n&&n.addChangedListener(this._changeDelegate)},t.prototype.componentWillUnmount=function(){var n=this.getStore();n&&n.removeChangedListener(this._changeDelegate)},t}(i.Component);t.Component=f});

define("DistributedTaskControls/Common/Components/Base",["require","exports","VSS/Flux/Component"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.state={},i}return __extends(t,n),t.prototype._resolveRef=function(n){var t=this;return this._resolves||(this._resolves={}),this._resolves[n]||(this._resolves[n]=function(i){return t[n]=i}),this._resolves[n]},t}(i.Component);t.Component=r});

define("DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=u.css(this.props.cssClass,"dtc-error","ms-font-s");return i.createElement("span",{className:"dtc-error-component-container",id:this.props.id},i.createElement("div",{"aria-live":"assertive"},i.createElement(u.DelayedRender,null,i.createElement("div",{className:n},i.createElement("i",{className:"bowtie-icon bowtie-status-error-outline left"}),this.props.errorMessage))))},t}(r.Component);t.ErrorComponent=f});

define("DistributedTaskControls/SharedControls/InputControls/Common",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.INPUT_TYPE_FILE_PATH="filepath";n.INPUT_TYPE_ARTIFACT_PATH="artifactpath";n.INPUT_TYPE_BOOLEAN="boolean";n.INPUT_TYPE_AZURE_CONNECTION="azureconnection";n.INPUT_TYPE_RADIO="radio";n.INPUT_TYPE_PICK_LIST="picklist";n.INPUT_TYPE_PICK_LIST_V2="picklistV2";n.INPUT_TYPE_MULTI_LINE="multiline";n.INPUT_TYPE_STRING_LIST="stringlist";n.INPUT_TYPE_STRING="string";n.INPUT_TYPE_AZURE_RESOURCE_MANAGER="azureresourcemanager";n.INPUT_TYPE_CONNECTED_SERVICE="connectedservice";n.INPUT_TYPE_COMBO_BOX="combobox";n.INPUT_TYPE_SEARCHABLE_COMBO_BOX="searchablecombobox";n.INPUT_TYPE_DEPLOYMENT_GROUP="deploymentgroup";n.INPUT_TYPE_IDENTITIES="identities";n.INPUT_TYPE_TOGGLE="toggle";n.INPUT_TYPE_DROPDOWN="dropdown";n.INPUT_TYPE_SECURE_FILE="securefile";n.INPUT_TYPE_QUERY_CONTROL="querycontrol";n.INPUT_TYPE_DURATION_CONTROL="durationcontrol";n.INPUT_CONTROL_EDITOR_EXTENSION="editorExtension";n.INPUT_TYPE_GITHUB_REPOSITORY_PICKER="gitHubRepositoryPicker"}(i=t.InputControlType||(t.InputControlType={})),function(n){n[n.Expression=0]="Expression";n[n.Input=1]="Input"}(r=t.InputValidationType||(t.InputValidationType={}))});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__rest=this&&this.__rest||function(n,t){var u={},r;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(u[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(u[i[r]]=n[i[r]]);return u};define("DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField",["require","exports","react","OfficeFabric/TextField","OfficeFabric/Utilities"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._textField=null,i.state={onNotifyValidationResult:null},i}return __extends(t,n),t.prototype.render=function(){var n=this.props,u=n.onNotifyValidationResult,t=__rest(n,["onNotifyValidationResult"]);return i.createElement(r.TextField,__assign({ref:this._resolveRef("_textField"),onNotifyValidationResult:this.state.onNotifyValidationResult},t))},t.prototype.focus=function(){this._textField&&this._textField.focus()},t.prototype.componentWillReceiveProps=function(n){!this.state.onNotifyValidationResult&&n.onNotifyValidationResult&&this.setState({onNotifyValidationResult:n.onNotifyValidationResult})},t}(u.BaseComponent);t.ValidatableTextField=f});

define("DistributedTaskControls/Common/ClipboardUtils",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.getPastedText=function(n){var r=i.empty,t;return n&&n.clipboardData?r=n.clipboardData.getData("text/plain"):(t=window,t.clipboardData&&t.clipboardData.getData&&(r=t.clipboardData.getData("Text"))),r},n}();t.ClipboardUtils=r});

define("DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox",["require","exports","react","react-dom","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField","DistributedTaskControls/Common/ClipboardUtils","VSS/Utils/Core","VSS/Utils/String","VSS/Controls/Dialogs","OfficeFabric/components/TextField/TextField.scss","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(){var i=__construct(this,n,arguments);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onChanged=function(n){if(i._adjustHeight(n),i.props.onChanged)i.props.onChanged(n)},i._onGetErrorMessage=function(n){return i._adjustHeight(n),i.props.onGetErrorMessage?i.props.onGetErrorMessage(n):h.empty},i._windowResizeHandler=function(){i._input&&i._sizingElement&&(i._sizingElement.width(i._input.width()),i._adjustHeight(i._input.text()))},i._pasteHandler=function(n){var r=i._getPastedText(n),u;r&&(r.length>t.c_maxPasteContentSize?(u={title:f.ErrorText,buttons:[{id:"ok-button",text:f.OK}]},c.showMessageDialog(f.ClipboardPasteLargeDataError,u),n.preventDefault()):s.delay(i,0,function(){var t=i._input.text(),n=t.replace(i.c_newLinePattern," ");n!==t&&(i._adjustHeight(n),i._input.text(n),i._onChanged(n))}))},i._keydownHandler=function(n){n.keyCode===13?(n.preventDefault(),n.stopPropagation()):i._adjustHeight(i._input.text())},i._focusInHandler=function(){i._adjustHeight(i._input.text())},i._focusOutHandler=function(){i._adjustHeight(i._input.text(),!1)},i.c_newLinePattern=/(\r\n|\n|\r)/gm,i}return __extends(t,n),t.prototype.componentDidMount=function(){var i=this,u=r.findDOMNode(this),f,n;if(u){this._input=$(u).find("textarea");this._input.attr({id:this.props.id,"aria-describedby":this.props.ariaDescribedBy});this._input.css({"min-height":t.c_minHeight,"max-height":t.c_maxHeight,overflow:"hidden"});f=$(u).find("."+l.fieldGroup);f.css({"min-height":t.c_parentMinHeight});this._input.on("keydown",this._keydownHandler);this._input.on("paste",this._pasteHandler);this._input.on("focusin",this._focusInHandler);this._input.on("focusout",this._focusOutHandler)}$(window).on("resize",this._windowResizeHandler);n=this.refs[t.c_sizingElementRefName];n&&(this._sizingElement=$(n));s.delay(this,0,function(){n&&i._input&&i._sizingElement.width(i._input.width())});this._adjustHeight(this.props.value,!1)},t.prototype.componentWillUnmount=function(){this._input&&(this._input.off("keydown",this._keydownHandler),this._input.off("paste",this._pasteHandler),this._input.off("focusin",this._focusInHandler),this._input.off("focusout",this._focusOutHandler));$(window).off("resize",this._windowResizeHandler)},t.prototype.componentWillReceiveProps=function(n){n.value!==this._input.text()&&this._adjustHeight(n.value,!1)},t.prototype.render=function(){var n=this;return i.createElement("div",{className:"fabric-style-overrides"},i.createElement("div",{className:"dtc-expandable-textbox"},i.createElement("div",{className:a.css("dtc-sizing-element-container",l.root,l.rootIsMultiline)},i.createElement("div",{className:l.fieldGroup},i.createElement("div",{ref:t.c_sizingElementRefName,className:a.css("dtc-sizing-element",l.field)}))),i.createElement(e.ValidatableTextField,{borderless:this.props.borderless,ref:function(t){n.props.textFieldRef&&n.props.textFieldRef(t)},id:this.props.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-required":this.props.required,value:this.props.value,multiline:!0,onChanged:this._onChanged,disabled:this.props.disabled,resizable:!1,deferredValidationTime:this.props.deferredValidationTime||t.c_defaultDeferredValidationTime,onGetErrorMessage:this._onGetErrorMessage,"aria-disabled":this.props.disabled,type:this.props.type,onBlur:this.props.onBlur,inputClassName:this.props.inputClassName,onNotifyValidationResult:this.props.onNotifyValidationResult})))},t.prototype._getPastedText=function(n){var t=n.originalEvent;return o.ClipboardUtils.getPastedText(t)},t.prototype._adjustHeight=function(n,i){var r=this;i===void 0&&(i=!0);this._sizingElement&&(i&&(n+=t.c_addendum),this._sizingElement.text(n),s.delay(this,0,function(){if(r._input){var n=r._sizingElement.height(),i=r._input.height();n!==i&&(r._input.height(Math.min(t.c_maxHeight,n)),n>t.c_maxHeight?r._input.css({overflow:"auto"}):r._input.css({overflow:"hidden"}))}}))},t.c_maxHeight=640,t.c_minHeight=30,t.c_parentMinHeight=32,t.c_sizingElementRefName="sizingElement",t.c_maxPasteContentSize=8192,t.c_defaultDeferredValidationTime=500,t.c_addendum=" an addendum to smoothen height increase",t}(u.Component);t.Component=v});

/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=replace(block.item,"gm")(/bull/g,block.bullet)();block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")();block.blockquote=replace(block.blockquote)("def",block.def)();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)();block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,true)};Lexer.prototype.token=function(src,top,bq){var src=src.replace(/^ +$/gm,""),next,loose,cap,bull,b,item,space,i,l;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(cap[0].length>1){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top,true);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];this.tokens.push({type:"list_start",ordered:bull.length>1});cap=cap[0].match(this.rules.item);next=false;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(bull.length>1&&b.length>1)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next=item.charAt(item.length-1)==="\n";if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,false,bq);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:cap[1]==="pre"||cap[1]==="script"||cap[1]==="style",text:cap[0]});continue}if(!bq&&top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)==="\n"?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)();inline.reflink=replace(inline.reflink)("inside",inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if(cap[2]==="@"){text=cap[1].charAt(6)===":"?this.mangle(cap[1].substring(7)):this.mangle(cap[1]);href=this.mangle("mailto:")+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){src=src.substring(cap[0].length);text=escape(cap[1]);href=text;out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=false}src=src.substring(cap[0].length);out+=this.options.sanitize?escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=true;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=false;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=true;out+=this.outputLink(cap,link);this.inLink=false;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2],true));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=escape(this.smartypants(cap[0]));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};InlineLexer.prototype.mangle=function(text){var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(Math.random()>.5){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{};this.badUrlRegex=/^(data|file|javascript|vbscript):/;this.exemptUrlRegex=/^data:image\/(gif|jpeg|png|webp);/;}Renderer.prototype.isSafeHref=function(href){if(!href){return true;}var hrefTest=href.trim().toLowerCase();return this.badUrlRegex.test(hrefTest)?(this.exemptUrlRegex.test(hrefTest)?true:false):true;};Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(out!=null&&out!==code){escaped=true;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+escape(lang,true)+'">'+(escaped?code:escape(code,true))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";var tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,'').toLowerCase();}catch(e){return '';}if(prot.indexOf('javascript:')===0){return '';}}var out;if(this.isSafeHref(href)){out='<a href="'+href+'"';if(title){out+=' title="'+title+'"';}out+='>'+text+'</a>';}else{out=this.safeOutput(href,title,text,false);}return out;};Renderer.prototype.image=function(href,title,text){if(this.isSafeHref(href)){var out='<img src="'+href+'" alt="'+text+'"';if(title){out+=' title="'+title+'"';}out+=this.options.xhtml ? '/>' : '>';}else{out=this.safeOutput(href,title,text,true);}return out;};Renderer.prototype.safeOutput=function(href,title,text,isImage){var out='<span>';if(title){out='<span title="'+title+'">';}if(isImage){out+="!";}out+='['+text+']('+href+')</span>';return out;};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer);this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while(this.peek().type==="text"){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,flags,j;cell="";for(i=0;i<this.token.header.length;i++){flags={header:true,align:this.token.align[i]};cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:false,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{var body="";while(this.next().type!=="blockquote_end"){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{var body="",ordered=this.token.ordered;while(this.next().type!=="list_end"){body+=this.tok()}return this.renderer.list(body,ordered)}case"list_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){n=n.toLowerCase();if(n==="colon")return":";if(n.charAt(0)==="#"){return n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function replace(regex,opt){regex=regex.source;opt=opt||"";return function self(name,val){if(!name)return new RegExp(regex,opt);val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return self}}function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if(callback||typeof opt==="function"){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||highlight.length<3){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if(token.type!=="code"){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text){return--pending||done()}token.text=code;token.escaped=true;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((opt||marked.defaults).silent){return"<p>An error occured:</p><pre>"+escape(e.message+"",true)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new Renderer,xhtml:false};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=marked}else if(typeof define==="function"&&define.amd){define("DistributedTaskControls/Common/3rdParty/marked",function(){return marked})}else{this.marked=marked}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTaskControls/Common/3rdParty/marked-tfs-extensions",["require","exports","VSS/VSS","DistributedTaskControls/Common/3rdParty/marked","VSS/Utils/Url","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls"],function(n,t,i,r,u,f){function o(n){var t=e.getWindow(),i=new u.Uri(n),r=i.host?i.host:t.location.hostname;return r!==t.location.hostname}Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=r.Renderer.prototype.link,n;r.Renderer.prototype.link=function(n,i,r){var h=t.call(this,n,i,r),u=$(h),c="",e,s,l;return u.length===1&&u.is("a")?(e=u.attr("href"),u.attr("data-original-href",e),this.options.transformLink&&(e=this.options.transformLink(e),u.attr("href",e)),o(e)&&(u.attr("target","_blank"),u.attr("rel","noopener noreferrer"),this.options.hideExternalImageIcon||(s=$("<span class='bowtie-icon bowtie-navigate-external'><\/span>"),l=f.MarkdownExternalLinkTooltip,s.attr("title",l),c=s[0].outerHTML)),u[0].outerHTML+c):h};n=r.Renderer.prototype.image;r.Renderer.prototype.image=function(t,i,r){var e=n.call(this,t,i,r),u=$(e),f;return u.length===1&&u.is("img")?(this.options.transformImage&&(f=u.attr("src"),f=this.options.transformImage(f),u.attr("src",f)),u[0].outerHTML):e}}();var e;(function(n){function t(){return window}n.getWindow=t})(e=t.Helper||(t.Helper={}));i.tfsModuleLoaded("marked-tfs-extensions",t)});

define("DistributedTaskControls/Components/MarkdownRenderer",["require","exports","react","ContentRendering/Markdown","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/3rdParty/marked","DistributedTaskControls/Common/3rdParty/marked-tfs-extensions","OfficeFabric/Utilities","VSS/Common/Constants/Platform","VSS/Utils/Url","VSS/FeatureAvailability/Services","VSS/Utils/Html","VSS/LWP","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/MarkdownRenderer"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.componentWillMount=function(){this._setState(this.props);e.Helper.getWindow()},t.prototype.componentWillReceiveProps=function(n){this._setState(n)},t.prototype.componentDidMount=function(){this._addRelAttrToExternalLinks()},t.prototype.componentDidUpdate=function(){this._addRelAttrToExternalLinks()},t.prototype.render=function(){var n={__html:this.state.resolvedMarkdown?l.HtmlNormalizer.normalizeStripAttributes(this.state.resolvedMarkdown,null,["target"]):this.state.resolvedMarkdown};return i.createElement("div",{ref:this._resolveRef("_markdownContainer"),className:o.css("dtc-markdown-renderer",this.props.cssClass),dangerouslySetInnerHTML:n})},t.marked=function(n){var t=v.empty,i;return n&&(i=f(n),t="<div>\n                                "+i+"\n                            <\/div>"),t},t.prototype._setState=function(n){if(c.FeatureAvailabilityService.isFeatureEnabled(s.WebPlatformFeatureFlags.MarkdownRendering)){var i=n.markdownRendererOptions?n.markdownRendererOptions:{breaks:!0,html:!0};this._renderer||(this._renderer=new r.MarkdownRenderer(i));this.setState({resolvedMarkdown:this._renderer.renderHtml(n.markdown)})}else this.setState({resolvedMarkdown:t.marked(n.markdown)})},t.prototype._getDefaultMarkdownRendererOptions=function(){return{breaks:!0,html:!0}},t.prototype._addRelAttrToExternalLinks=function(){var n=this._markdownContainer.getElementsByTagName("a"),t,i,r;if(n&&n.length>0)for(t=0;t<n.length;t++)i=n[t].target,r=n[t].href,!i&&h.isExternalUrl(r)&&(n[t].target="_blank",n[t].rel="noopener noreferrer"),i&&v.ignoreCaseComparer(i,"_blank")===0&&(n[t].rel="noopener noreferrer")},t.componentType="dtMarkdownRenderer",t}(u.Component);t.Component=y;a.registerLWPComponent(y.componentType,y)});

define("DistributedTaskControls/Common/UrlUtilities",["require","exports","DistributedTaskControls/Common/AppContext","VSS/Events/Action","VSS/LWP","VSS/Utils/Url","VSS/Diag"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=u.getLWPModule("VSS/Platform/FPS"),s=function(){function n(){}return n.openInNewWindow=function(n,t){this._performAction(r.CommonActions.ACTION_WINDOW_OPEN,n,t)},n.navigateTo=function(n,t,u){var f=i.AppContext.instance().PageContext;if(f&&n)o.onClickFPS(f,n,!0,u);else this._performAction(r.CommonActions.ACTION_WINDOW_NAVIGATE,n,t)},n.isRelativeUrl=function(n){if(!n||!n.trim())return!0;var t=n.indexOf(":");return t<0},n._performAction=function(n,t,i){if(t!==null&&t!==undefined){var u=i&&this.isRelativeUrl(t);u||f.isSafeProtocol(t)?r.getService().performAction(n,{url:t}):e.logError("UrlUtilities:performAction: Unsafe url detected.")}else e.logError("UrlUtilities:performAction: URL cannot be null or underfined.")},n}();t.UrlUtilities=s});

define("DistributedTaskControls/Components/SafeLink",["require","exports","react","OfficeFabric/Link","VSS/Utils/Url","VSS/Flux/Component","VSS/Utils/String","VSS/Diag","VSS/Utils/UI","DistributedTaskControls/Common/UrlUtilities"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onKeyDown=function(n){if(!t.props.disabled&&(n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE)&&t.props.onKeyDown)t.props.onKeyDown(n)},t}return __extends(t,n),t.prototype.render=function(){var t=this.props.allowRelative&&h.UrlUtilities.isRelativeUrl(this.props.href),n;return!this.props.href||t||u.isSafeProtocol(this.props.href)?(n=e.empty,this.props.target&&e.ignoreCaseComparer(this.props.target,"_blank")===0&&(n="noopener noreferrer"),i.createElement(r.Link,__assign({href:this.props.href,disabled:this.props.disabled,"aria-disabled":this.props.disabled,target:this.props.target,className:this.props.className,rel:n,onClick:this.props.onClick,onKeyDown:this._onKeyDown,tabIndex:this.props.tabIndex||0},this.props.ariaProps),this.props.children)):(o.logError("SafeLink:render: Invalid href detected: "+this.props.href),null)},t}(f.Component);t.SafeLink=c});

define("DistributedTaskControls/Components/CalloutComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/MarkdownRenderer","DistributedTaskControls/Components/SafeLink","OfficeFabric/Button","OfficeFabric/Callout","OfficeFabric/FocusZone","OfficeFabric/FocusTrapZone","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/CalloutComponent"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){var t=n.header;return i.createElement("div",{className:"callout-header"},t)},l=function(n){var t=n.description;return i.createElement("div",{className:"callout-description"},t)},a=function(n){var t=n.target,r=n.text;return i.createElement("div",{className:"callout-link"},i.createElement(f.SafeLink,{href:t,target:"_blank"},r),i.createElement("span",{className:"bowtie-icon bowtie-navigate-external"}))},v=function(n){var t=n.text,r=n.onClick;return i.createElement("div",{className:"callout-footer"},i.createElement(e.DefaultButton,{onClick:r,className:"callout-footer-btn",ariaLabel:t},t))},y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onCalloutDismiss=function(n){t.props.calloutDismissDelegate&&t.props.calloutDismissDelegate(n);n.type==="click"?n.target.focus():t.props.targetElement&&t.props.targetElement.focus()},t._onCalloutFooterOnClick=function(){t.props.calloutContentProps.calloutFooterOnClick&&t.props.calloutContentProps.calloutFooterOnClick()},t}return __extends(t,n),t.prototype.render=function(){return i.createElement(o.Callout,{className:"dtc-callout-component",target:this.props.targetElement,onDismiss:this._onCalloutDismiss,gapSpace:5,setInitialFocus:!0,directionalHint:12},i.createElement(h.FocusTrapZone,{isClickableOutsideFocusTrap:!0},i.createElement(s.FocusZone,{className:"info-callout",direction:s.FocusZoneDirection.vertical},i.createElement("div",{className:"dtc-callout","data-is-focusable":!0,"aria-label":this.props.calloutContentProps.calloutContentAriaLabel},i.createElement("div",{className:"dtc-callout-content"},this.props.calloutContentProps.calloutHeader&&i.createElement(c,{header:this.props.calloutContentProps.calloutHeader}),this.props.calloutContentProps.calloutDescription&&i.createElement(l,{description:this.props.calloutContentProps.calloutDescription}),this.props.calloutContentProps.calloutMarkdown&&i.createElement(u.Component,{markdown:this.props.calloutContentProps.calloutMarkdown}),this.props.calloutContentProps.calloutLinkText&&this.props.calloutContentProps.calloutLink&&i.createElement(a,{target:this.props.calloutContentProps.calloutLink,text:this.props.calloutContentProps.calloutLinkText}),this.props.calloutContentProps.calloutAdditionalContent&&this.props.calloutContentProps.calloutAdditionalContent())),this.props.calloutContentProps.calloutFooterText&&i.createElement(v,{text:this.props.calloutContentProps.calloutFooterText,onClick:this._onCalloutFooterOnClick}))))},t}(r.Component);t.CalloutComponent=y});

define("DistributedTaskControls/Components/InfoButton",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/CalloutComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","VSS/Utils/String","VSS/Utils/UI","OfficeFabric/Button","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/InfoButton"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onInfoButtonClick=function(n){t.toggleInfoCalloutState();t.props.stopClickPropagation&&(n.stopPropagation(),n.preventDefault())},t._onInfoButtonFocus=function(){t.props.onFocus&&t.props.onFocus()},t._handleKeyDown=function(n){!t.props.isIconFocusable||n.keyCode!==s.KeyCode.ENTER&&n.keyCode!==s.KeyCode.SPACE||(t.toggleInfoCalloutState(),n.preventDefault(),n.stopPropagation())},t.toggleInfoCalloutState=function(){t.setState({isCalloutVisible:!t.state.isCalloutVisible})},t._onCalloutDismiss=function(){t.setState({isCalloutVisible:!1})},t._onCalloutFooterOnClick=function(){t.setState({isCalloutVisible:!1});t.props.calloutContent.calloutFooterOnClick&&t.props.calloutContent.calloutFooterOnClick()},t}return __extends(t,n),t.prototype.render=function(){var t=this,r=(this.props.cssClass||"")+" dtc-info-button",s=" dtc-info-button-icon "+this.props.iconStyle,c=this.props.calloutContent.calloutContentAriaLabel?this.props.calloutContent.calloutContentAriaLabel:this.props.calloutContent.calloutHeader?o.format(f.InfoCalloutAriaLabel,this.props.calloutContent.calloutHeader):this.props.iconAriaLabel?this.props.iconAriaLabel:f.InfoIconAriaLabel,n=e.JQueryWrapper.extendDeep({},this.props.calloutContent);return n.calloutContentAriaLabel=c,n.calloutFooterOnClick=this._onCalloutFooterOnClick,i.createElement("div",{className:r,ref:function(n){return t._infoButtonElement=n}},i.createElement(h.IconButton,{iconProps:{iconName:this.props.iconName||"Info"},"data-is-focusable":!!this.props.isIconFocusable,className:s,onClick:this._onInfoButtonClick,onFocus:this._onInfoButtonFocus,onKeyDown:this._handleKeyDown,tabIndex:!this.props.isIconFocusable?null:0,ariaLabel:this.props.iconAriaLabel||f.InfoIconAriaLabel}),this.state.isCalloutVisible&&i.createElement(u.CalloutComponent,{targetElement:this._infoButtonElement,calloutDismissDelegate:this._onCalloutDismiss,calloutContentProps:n}))},t}(r.Component);t.Component=c});

define("DistributedTaskControls/Generated/DistributedTask.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.AzureRoleAssignmentPermission="Microsoft.RoleAssignment";n.AzureKeyVaultPermission="Microsoft.KeyVault"}(i=t.AzurePermissionResourceProviders||(t.AzurePermissionResourceProviders={})),function(n){n.Log="DistributedTask.Core.Log";n.Summary="DistributedTask.Core.Summary";n.FileAttachment="DistributedTask.Core.FileAttachment";n.DiagnosticLog="DistributedTask.Core.DiagnosticLog"}(r=t.CoreAttachmentType||(t.CoreAttachmentType={})),function(n){n.DeploymentTargetState="DeploymentTargetState";n.LastDeploymentStatus="LastDeploymentStatus";n.TotalDeploymentTargetCount="TotalDeploymentTargetCount"}(u=t.DeploymentGroupMetricsValidColumnNames||(t.DeploymentGroupMetricsValidColumnNames={})),function(n){n.Number="number";n.String="string"}(f=t.DeploymentGroupMetricsValidColumnValueTypes||(t.DeploymentGroupMetricsValidColumnValueTypes={})),function(n){n.Succeeded="Succeeded";n.NotSucceeded="Not succeeded";n.NotDeployed="Not deployed"}(e=t.DeploymentGroupMetricsValidJobStatus||(t.DeploymentGroupMetricsValidJobStatus={})),function(n){n.Online="Online";n.Offline="Offline"}(o=t.DeploymentGroupMetricsValidTargetState||(t.DeploymentGroupMetricsValidTargetState={})),function(n){n.AgentAdded="MS.TF.DistributedTask.AgentAdded";n.AgentDeleted="MS.TF.DistributedTask.AgentDeleted";n.AgentRequestAssigned="MS.TF.DistributedTask.AgentRequestAssigned";n.AgentRequestCompleted="MS.TF.DistributedTask.AgentRequestCompleted";n.AgentRequestQueued="MS.TF.DistributedTask.AgentRequestQueued";n.AgentUpdated="MS.TF.DistributedTask.AgentUpdated";n.DeploymentGatesChanged="MS.TF.DistributedTask.DeploymentGatesChanged";n.DeploymentMachinesChanged="MS.TF.DistributedTask.DeploymentMachinesChanged";n.PoolCreated="MS.TF.DistributedTask.AgentPoolCreated";n.PoolDeleted="MS.TF.DistributedTask.AgentPoolDeleted";n.QueueCreated="MS.TF.DistributedTask.AgentQueueCreated";n.QueueDeleted="MS.TF.DistributedTask.AgentQueueDeleted";n.QueuesDeleted="MS.TF.DistributedTask.AgentQueuesDeleted";n.TasksChanged="MS.TF.DistributedTask.TasksChanged";n.Version="2.0";n.DeploymentFailed="MS.TF.DistributedTask.DeploymentFailed"}(s=t.EventConstants||(t.EventConstants={})),function(n){n.Expression="expression";n.Input="input"}(h=t.InputValidationTypes||(t.InputValidationTypes={})),function(n){n.Public="Public";n.Private="Private"}(c=t.ParallelismTagTypes||(t.ParallelismTagTypes={})),function(n){n.FreeCount="FreeCount";n.PurchasedCount="PurchasedCount";n.EnterpriseUsersCount="EnterpriseUsersCount";n.IsPremium="IsPremium"}(l=t.ResourceLimitConstants||(t.ResourceLimitConstants={})),function(n){n.Online="Online";n.Offline="Offline"}(a=t.TaskAgentPoolMetricsValidAgentState||(t.TaskAgentPoolMetricsValidAgentState={})),function(n){n.AgentState="AgentState";n.AgentsCount="AgentsCount"}(v=t.TaskAgentPoolMetricsValidColumnNames||(t.TaskAgentPoolMetricsValidColumnNames={})),function(n){n.Number="number";n.String="string"}(y=t.TaskAgentPoolMetricsValidColumnValueTypes||(t.TaskAgentPoolMetricsValidColumnValueTypes={})),function(n){n.Agents="e298ef32-5878-4cab-993c-043836571f42";n.AgentMessages="c3a054f6-7a8a-49c0-944e-3a8e5d7adfd7";n.AgentSessions="134e239e-2df3-4794-a6f6-24f1f19ec8dc";n.AgentUpdates="8cc1b02b-ae49-4516-b5ad-4f9b29967c30";n.UserCapabilities="30ba3ada-fedf-4da8-bbb5-dacf2f82e176";n.AgentClouds="bfa72b3d-0fc6-43fb-932b-a7f6559f93b9";n.AgentCloudRequests="20189bd7-5134-49c2-b8e9-f9e856eea2b2";n.Packages="8ffcd551-079c-493a-9c02-54346299d144";n.Pools="a8c47e17-4d56-4a56-92bb-de7ea7dc65be";n.AgentCloudTypes="5932e193-f376-469d-9c3e-e5588ce12cb5";n.DeploymentPoolsSummary="6525d6c6-258f-40e0-a1a9-8a24a3957625";n.PoolMaintenanceDefinitions="80572e16-58f0-4419-ac07-d19fde32195c";n.PoolMaintenanceJobs="15e7ab6e-abce-4601-a6d8-e111fe148f46";n.Queues="900fa995-c559-4923-aae7-f8424fe4fbea";n.DeploymentGroupAccessToken="3d197ba2-c3e9-4253-882f-0ee2440f8174";n.DeploymentPoolAccessToken="e077ee4a-399b-420b-841f-c43fbc058e0b";n.DeploymentGroupsMetrics="281c6308-427a-49e1-b83a-dac0f4862189";n.DeploymentGroups="083c4d89-ab35-45af-aa11-7cf66895c53e";n.DeploymentMachineGroups="d4adf50f-80c6-4ac8-9ca1-6e4e544286e9";n.DeploymentMachines="6f6d406f-cfe6-409c-9327-7009928077e7";n.DeploymentMachineGroupMachines="966c3874-c347-4b18-a90c-d509116717fd";n.DeploymentTargets="2f0aa599-c121-4256-a5fd-ba370e0ae7b6";n.DeploymentMachineGroupAccessToken="f8c7c0de-ac0d-469b-9cb1-c21f72d67693";n.PoolRolesCompat="9e627af6-3635-4ddf-a275-dca904802338";n.QueueRoles="b0c6d64d-c9fa-4946-b8de-77de623ee585";n.PoolRoles="381dd2bb-35cf-4103-ae8c-3c815b25763c";n.PoolMetadata="0d62f887-9f53-48b9-9161-4c35d5735b0f";n.JobRequestsDeprecated="fc825784-c92a-4299-9221-998a02d1b54f";n.AgentRequests="f5f81ffb-f396-498d-85b1-5ada145e648a";n.DeploymentMachineJobRequests="a3540e5b-f0dc-4668-963b-b752459be545";n.DeploymentTargetJobRequests="2fac0be3-8c8f-4473-ab93-c1389b08a2c9";n.DeploymentMachineMessages="91006ac4-0f68-4d82-a2bc-540676bd73ce";n.DeploymentTargetMessages="1c1a817f-f23d-41c6-bf8d-14b638f64152";n.Tasks="60aac929-f0cd-4bc8-9ce4-6b30e8f1b1bd";n.TaskEndpoint="f223b809-8c33-4b7d-b53f-07232569b5d6";n.TaskIcons="63463108-174d-49d4-b8cb-235eea42a5e1";n.Logs="46f5667d-263a-4684-91b1-dff7fdcf64e2";n.Logs_Compat="15344176-9e77-4cf4-a7c3-8bc4d0a3c4eb";n.Plans="5cecd946-d704-471e-a45f-3b4064fcfaba";n.Plans_Compat="f8d10759-6e90-48bc-96b0-d19440116797";n.PlanEvents="557624af-b29e-4c20-8ab0-0399d2204f3f";n.PlanEvents_Compat="dfed02fb-deee-4039-a04d-aa21d0241995";n.PlanAttachments="eb55e5d6-2f30-4295-b5ed-38da50b1fc52";n.Attachments="7898f959-9cdf-4096-b29e-7f293031629e";n.Timelines="83597576-cc2c-453c-bea6-2882ae6a1653";n.Timelines_Compat="ffe38397-3a9d-4ca6-b06d-49303f287ba5";n.TimelineRecords="8893bc5b-35b2-4be7-83cb-99e683551db4";n.TimelineRecords_Compat="50170d5d-f122-492f-9816-e2ef9f8d1756";n.TimelineRecordFeeds="858983e4-19bd-4c5e-864c-507b59b58b12";n.TimelineRecordFeeds_Compat="9ae056f6-d4e4-4d0c-bd26-aee2a22f01f2";n.ServiceEndpoints="ca373c13-fec3-4b30-9525-35a117731384";n.ServiceEndpoints2="dca61d2f-3444-410a-b5ec-db2fc4efb4c5";n.ServiceEndpointTypes="7c74af83-8605-45c1-a30b-7a05d5d7f8c1";n.ServiceEndpointProxy="e3a44534-7b94-4add-a053-8af449589c62";n.ServiceEndpointProxy2="f956a7de-d766-43af-81b1-e9e349245634";n.AzureSubscriptions="bcd6189c-0303-471f-a8e1-acb22b74d700";n.AzureManagementGroups="39fe3bf2-7ee0-4198-a469-4a29929afa9c";n.TaskGroups="6c08ffbf-dbf1-4f9a-94e5-a1cbd47005e7";n.TaskGroupHistory="100cc92a-b255-47fa-9ab3-e44a2985a3ac";n.ExtensionEvents="96c86d26-36fb-4649-9215-36e03a8bbc7d";n.TaskHubLicense="f9f0f436-b8a1-4475-9041-1ccdbf8f0128";n.ResourceLimits="1f1f0557-c445-42a6-b4a0-0df605a3a0f8";n.ResourceUsage="eae1d376-a8b1-4475-9041-1dfdbe8f0143";n.VariableGroups="f5b09dd5-9d54-45a1-8b5a-1c8287d634cc";n.SecureFiles="adcfd8bc-b184-43ba-bd84-7c8c6a2ff421";n.PlanGroupsQueue="0dd73091-3e36-4f43-b443-1b76dd426d84";n.QueuedPlanGroup="65fd0708-bc1e-447b-a731-0587c5464e5b";n.PlanGroupsQueueMetrics="038fd4d5-cda7-44ca-92c0-935843fee1a7";n.VstsAadOAuth="9c63205e-3a0f-42a0-ad88-095200f13607";n.InputValidation="58475b1e-adaf-4155-9bc1-e04bf1fff4c2";n.GetServiceEndpointExecutionHistory="3ad71e20-7586-45f9-a6c8-0342e00835ac";n.PostServiceEndpointExecutionHistory="11a45c69-2cce-4ade-a361-c9f5a37239ee";n.AreaId="A85B8835-C1A1-4AAC-AE97-1C3D0BA72DBD";n.AreaName="distributedtask";n.AgentsResource="agents";n.AgentMessagesResource="messages";n.AgentSessionsResource="sessions";n.AgentUpdatesResource="updates";n.UserCapabilitiesResource="usercapabilities";n.AgentCloudsResource="agentclouds";n.AgentCloudRequestsResource="requests";n.PackagesResource="packages";n.PoolsResource="pools";n.AgentCloudTypesResource="agentcloudtypes";n.DeploymentPoolsResource="deploymentPools";n.DeploymentPoolsSummaryResource="deploymentPoolsSummary";n.PoolMaintenanceDefinitionsResource="maintenancedefinitions";n.PoolMaintenanceJobsResource="maintenancejobs";n.QueuesResource="queues";n.DeploymentGroupAccessTokenResource="deploymentgroupaccesstoken";n.DeploymentPoolAccessTokenResource="deploymentpoolaccesstoken";n.DeploymentGroupsMetricsLocationIdString="281C6308-427A-49E1-B83A-DAC0F4862189";n.DeploymentGroupsMetricsResource="deploymentgroupsmetrics";n.DeploymentGroupsResource="deploymentgroups";n.DeploymentMachineGroupsResource="machinegroups";n.DeploymentMachinesLocationIdString="6F6D406F-CFE6-409C-9327-7009928077E7";n.DeploymentMachineGroupMachinesLocationIdString="966C3874-C347-4B18-A90C-D509116717FD";n.DeploymentMachinesResource="machines";n.DeploymentTargetsLocationIdString="2F0AA599-C121-4256-A5FD-BA370E0AE7B6";n.DeploymentTargetsResource="targets";n.DeploymentMachineGroupAccessTokenResource="machinegroupaccesstoken";n.PoolRolesCompatResource="roles";n.QueueRolesResource="queueroles";n.PoolRolesResource="poolroles";n.PoolMetadataResource="poolmetadata";n.JobRequestsDeprecatedResource="jobrequests";n.AgentRequestsResource="agentrequests";n.DeploymentMachineJobRequestsResource="deploymentmachinejobrequests";n.DeploymentTargetJobRequestsResource="deploymentTargetJobRequests";n.DeploymentMachineMessagesResource="deploymentmachinemessages";n.DeploymentTargetMessagesResource="deploymentTargetMessages";n.TasksResource="tasks";n.TaskEndpointResource="endpoint";n.TaskIconsResource="icon";n.LogsResource="logs";n.PlansResource="plans";n.PlanEventsResource="events";n.PlanAttachmentsLocationIdString="EB55E5D6-2F30-4295-B5ED-38DA50B1FC52";n.AttachmentsLocationIdString="7898F959-9CDF-4096-B29E-7F293031629E";n.AttachmentsResource="attachments";n.TimelinesResource="timelines";n.TimelineRecordsResource="records";n.TimelineRecordFeedsResource="feed";n.ServiceEndpoints2LocationIdString="DCA61D2F-3444-410A-B5EC-DB2FC4EFB4C5";n.ServiceEndpointsResource="serviceendpoints";n.ServiceEndpointTypesResource="serviceendpointtypes";n.ServiceEndpointProxy2LocationIdString="F956A7DE-D766-43AF-81B1-E9E349245634";n.ServiceEndpointProxyResource="serviceendpointproxy";n.AzureRmSubscriptionsResource="azurermsubscriptions";n.AzureRmManagementGroupsResource="azurermmanagementgroups";n.TaskGroupsResource="taskgroups";n.TaskGroupHistoryResource="revisions";n.ExtensionEventsResource="extensionevents";n.ExtensionPreInstallResource="preinstall";n.TaskHubLicenseResource="hublicense";n.ResourceLimitsLocationIdString="1F1F0557-C445-42A6-B4A0-0DF605A3A0F8";n.ResourceLimitsResource="resourcelimits";n.ResourceUsageLocationIdString="EAE1D376-A8B1-4475-9041-1DFDBE8F0143";n.ResourceUsageResource="resourceusage";n.VariableGroupsResource="variablegroups";n.SecureFilesResource="securefiles";n.PlanGroupsQueueLocationIdString="0DD73091-3E36-4F43-B443-1B76DD426D84";n.QueuedPlanGroupLocationIdString="65FD0708-BC1E-447B-A731-0587C5464E5B";n.PlanGroupsQueueResource="plangroupsqueue";n.PlanGroupsQueueMetricsLocationIdString="038FD4D5-CDA7-44CA-92C0-935843FEE1A7";n.PlanGroupsQueueMetricsResource="metrics";n.VstsAadOAuthResource="vstsaadoauth";n.InputValidationResource="inputvalidation";n.GetServiceEndpointExecutionHistoryLocationIdString="3AD71E20-7586-45F9-A6C8-0342E00835AC";n.PostServiceEndpointExecutionHistoryLocationIdString="11A45C69-2CCE-4ADE-A361-C9F5A37239EE";n.ServiceEndpointExecutionHistoryResource="executionhistory"}(p=t.TaskResourceIds||(t.TaskResourceIds={})),function(n){n.RunsOnAgent="Agent";n.RunsOnMachineGroup="MachineGroup";n.RunsOnDeploymentGroup="DeploymentGroup";n.RunsOnServer="Server"}(w=t.TaskRunsOnConstants||(t.TaskRunsOnConstants={})),function(n){n.TASKPREVIEW_VISIBILITY_AREA="Preview"}(b=t.TaskWellKnownItems||(t.TaskWellKnownItems={})),function(n){n.Vsts="Vsts";n.AzureKeyVault="AzureKeyVault"}(k=t.VariableGroupType||(t.VariableGroupType={}))});

define("DistributedTaskControls/SharedControls/InputControls/InputValidator",["require","exports","DistributedTaskControls/Generated/DistributedTask.Constants","TFS/DistributedTask/TaskAgentRestClient","VSS/Service","VSS/Context"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(){}return n.shouldPerformValidate=function(n){return n&&n.indexOf("$")>-1?!1:!0},n.getExpressionErrorMessage=function(t){var r="expression",u={inputs:{}};return u.inputs[r]={type:i.InputValidationTypes.Expression,value:t},n._getValidationMessage(u,r)},n.getInputErrorMessage=function(t,r){var u="input",f={inputs:{}};return f.inputs[u]={type:i.InputValidationTypes.Input,value:r.expression,context:{value:t},reason:r.reason},n._getValidationMessage(f,u)},n._getValidationMessage=function(n,t){return this._getTaskAgentClient().validateInputs(n).then(function(n){var i=n.inputs[t];return i.isValid?"":i.reason})},n._getTaskAgentClient=function(){return n._taskAgentClient||(n._taskAgentClient=this._getVssConnection().getHttpClient(r.TaskAgentHttpClient)),n._taskAgentClient},n._getVssConnection=function(){return n._vssConnection||(n._vssConnection=new u.VssConnection(f.getDefaultWebContext())),n._vssConnection},n}();t.InputValidator=e});

define("DistributedTaskControls/SharedControls/InputControls/Utilities",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.getId=function(n){var t=n.toUpperCase();return this._idMap[t]||(this._idMap[t]=0),r.format("{0}{1}",t,this._idMap[t]++)},n.getCalloutInfoProps=function(t){return{calloutContentProps:n.getCalloutContentProps(t)}},n.getCalloutContentProps=function(n){return{calloutMarkdown:n,calloutContentAriaLabel:r.localeFormat(i.InfoCalloutAriaLabel,n)}},n._idMap={},n}();t.InputControlUtils=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase",["require","exports","react","react-dom","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/InputValidator","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/SharedControls/InputControls/Utilities","OfficeFabric/Label","VSS/Diag","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.onValueChanged=function(n){if(!t.props.disabled){t.setState({value:n});t.props.onValueChanged(n)}},t._handleFocus=function(){t.props.getFooterElement&&t._inputbaseFooterContainer&&t._renderFooterElement(!0)},t._handleBlur=function(n){if(t._mounted){var i=n.relatedTarget||document.activeElement;t._container&&!t._container.contains(i)&&t.props.getFooterElement&&t._inputbaseFooterContainer&&t._renderFooterElement(!1)}},t.getErrorMessage=function(n){var i=y.empty,r,u;if(!t.props.getErrorMessage||(i=t.props.getErrorMessage(n)),r=t.props.asyncValidator,!i&&r&&(u=t.getStringValue(n),u!=null&&h.InputValidator.shouldPerformValidate(u)))if(r.type===s.InputValidationType.Input){if(!r.data)return v.logError("validation should have data for input type"),i;i=h.InputValidator.getInputErrorMessage(t.getStringValue(n),{expression:r.data.expression,reason:r.data.reason})}else i=h.InputValidator.getExpressionErrorMessage(u);return i},t._handleKeyDown=function(n){if(n&&n.ctrlKey&&n.altKey)switch(n.keyCode){case c.KeyCodes.Help:t._infoElement&&t._infoElement.toggleInfoCalloutState();break;case c.KeyCodes.Link:if(!!t.props.infoProps){if(!u.AppContext.instance().isCapabilitySupported(u.AppCapability.LinkProcessParameters))break;!t.props.infoProps.linkToProcessParameterDelegate||!t._infoElement||t.props.infoProps.linkToProcessParameterDelegate();!t.props.infoProps.unlinkToProcessParameterDelegate||!t._infoElement||t.props.infoProps.unlinkToProcessParameterDelegate()}}},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._domId=l.InputControlUtils.getId(this.getType());this.setState({value:this.props.value})},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value})},t.prototype.render=function(){var r=this,n=null,t;return!this.props.infoProps||(!this.props.infoProps.calloutContentProps||this.props.infoProps.calloutContentProps.calloutContentAriaLabel||this.props.infoProps.calloutContentProps.calloutHeader||!this.props.label||(this.props.infoProps.calloutContentProps.calloutContentAriaLabel=y.format(o.InfoCalloutAriaLabel,this.props.label)),n=i.createElement(e.Component,{iconName:this.props.infoProps.iconName,isIconFocusable:this.props.disabled,iconAriaLabel:this.props.infoProps.iconAriaLabel||this.props.label&&y.format(o.MoreInformationForInputLabel,this.props.label),calloutContent:this.props.infoProps.calloutContentProps,ref:function(n){r._infoElement=n},cssClass:this.getType()===s.InputControlType.INPUT_TYPE_BOOLEAN?"info-input-without-label":"info-input-with-label"})),t=this.getInputClassName(),i.createElement("div",{className:t,ref:this._resolveRef("_container"),id:this.getInputFieldComponentElementId(),onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeyDown},this.addLabelControl()&&i.createElement("div",null,i.createElement(a.Label,__assign({required:this.props.required,className:"input-field-label",id:this.getInputFieldLabelElementId(),htmlFor:this.getInputFieldControlElementId()},this.props.ariaLevel?{role:"heading","aria-level":this.props.ariaLevel}:{}),this.props.label),n,this.getAdditonalLabelControls()),this._getDescriptionElement(),this.getControl(),!this.addLabelControl()&&n,this._getFooter())},t.prototype._getDescriptionElement=function(){var n=null;return this.props.ariaDescription?n=this.props.ariaDescription:this.props.infoProps&&this.props.infoProps.calloutContentProps&&this.props.infoProps.calloutContentProps.calloutMarkdown&&(n=this.props.infoProps.calloutContentProps.calloutMarkdown),n?i.createElement("div",{className:"input-field-description hidden",id:this.getInputFieldDescriptionElementId(!0)},n):void 0},t.prototype._doesDescriptionExists=function(){return this.props.ariaDescription||this.props.infoProps&&this.props.infoProps.calloutContentProps&&this.props.infoProps.calloutContentProps.calloutMarkdown?!0:!1},t.prototype.componentDidMount=function(){this._mounted=!0},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.getInputClassName=function(){return"input-field-component"},t.prototype.getAdditonalLabelControls=function(){return null},t.prototype.addLabelControl=function(){return!!this.props.label},t.prototype.getInputValue=function(){return this.state.value},t.prototype.getContainer=function(){return this._container},t.prototype._getFooter=function(){if(this.props.getFooterElement)return i.createElement("div",{ref:this._resolveRef("_inputbaseFooterContainer"),"aria-live":"polite"})},t.prototype._renderFooterElement=function(n){var t=this.props.getFooterElement(n,this.getFooterDescriptionElementId());t&&r.render(t,this._inputbaseFooterContainer)},t.prototype.getStringValue=function(n){var t=null;return typeof n!="object"?t=n.toString():v.logError("Input with label "+this.props.label+" has value that cannot be converted to a string, it should have getStringValue implementation.\n                      Input validation cannot be performed."),t},t.prototype.getInputFieldLabelElementId=function(){return"INPUT-FIELD-LABEL-"+this._domId},t.prototype.getInputFieldDescriptionElementId=function(n){if(n===void 0&&(n=!1),this._doesDescriptionExists()){var t="INPUT-FIELD-DESC-"+this._domId;return n||!this.props.getFooterElement||(t=t.concat(" ",this.getFooterDescriptionElementId())),t}return null},t.prototype.getFooterDescriptionElementId=function(){return"INPUT-FIELD-FOOTER-DESC-"+this._domId},t.prototype.getInputFieldControlElementId=function(){return"INPUT-FIELD-"+this._domId},t.prototype.getInputFieldComponentElementId=function(){return"INPUT-FIELD-CONTAINER-"+this._domId},t.c_defaultDeferredOnChangeDuration=500,t}(f.Component);t.InputBase=p});

define("DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase",["require","exports","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.InputBase);t.TextInputComponentBase=r});

define("DistributedTaskControls/Components/TooltipIfOverflow",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Utilities","VSS/Controls/PopupContent","VSS/Utils/Core"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.c_tooltipContentUpdateDelay=2e3,t.c_tooltipOpenDelay=1e3,t}return __extends(t,n),t.prototype.render=function(){var n=this;return i.createElement("div",{ref:function(t){n._element=t},className:u.css("dtc-text-tooltip-on-overflow-host",this.props.cssClass)},this.props.children)},t.prototype.shouldComponentUpdate=function(n){return this.props.targetElementClassName===n.targetElementClassName&&this.props.containerClassName===n.containerClassName&&this.props.tooltip===n.tooltip&&!n.forceUpdate?!1:!0},t.prototype.componentDidMount=function(){if(this._element){var n=this._element.getElementsByClassName(this.props.targetElementClassName);n.length>0&&(this._targetElement=n[0]);this.props.containerClassName&&(n=this._element.getElementsByClassName(this.props.containerClassName),n.length>0&&(this._container=n[0]))}this._updateToolTipIfTitleOverflow()},t.prototype.componentDidUpdate=function(){var n=this;this._isTitleTooptipUpdateInProcess||(this._isTitleTooptipUpdateInProcess=!0,e.delay(this,this.c_tooltipContentUpdateDelay,function(){n._updateToolTipIfTitleOverflow();n._isTitleTooptipUpdateInProcess=!1}))},t.prototype.componentWillUnmount=function(){this._tooltip&&(this._tooltip.dispose(),this._tooltip=null)},t.prototype._updateToolTipIfTitleOverflow=function(){this._targetElement&&(this._tooltip&&this._tooltip.dispose(),this.props.tooltip&&(this._tooltip=f.RichContentTooltip.addIfOverflow(this.props.tooltip,this._targetElement,{openCloseOnHover:!0,showOnFocus:!0,openDelay:this.c_tooltipOpenDelay,topOffsetPixels:5,setAriaDescribedBy:!0,menuContainer:this._container?$(this._container):$(this._targetElement),coreCssClass:"rich-content-tooltip auto-width"})))},t}(r.Component);t.TooltipIfOverflow=o});

define("DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox","DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField","DistributedTaskControls/Components/TooltipIfOverflow","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onValueChanged=function(n){if(t._delayedOnChange)t._delayedOnChange(n);else t.onValueChanged(n)},t._forceUpdate=!1,t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_STRING},t.prototype.setFocus=function(){this._textField&&this._textField.focus()},t.prototype.componentDidMount=function(){var i,r;n.prototype.componentDidMount.call(this);i=0;i=this.props.deferredOnChangeTimeInMs===undefined?t.c_defaultDeferredOnChangeTime:this.props.deferredOnChangeTimeInMs;i>0&&(r=new s.Async,this._delayedOnChange=r.debounce(this.onValueChanged,i))},t.prototype.componentWillReceiveProps=function(t){n.prototype.componentWillReceiveProps.call(this,t);this._forceUpdate=t.forceUpdate||!c.equals(this.props,t)},t.prototype.getControl=function(){return h.logVerbose("[StringInputComponent.getControl]: Method called."),this.props.isMultilineExpandable&&this.props.rows===1?this._renderExpandableTextBox():this._renderSimpleTextBox()},t.prototype._renderExpandableTextBox=function(){var n=this;return i.createElement(u.Component,{textFieldRef:function(t){n._textField=t},id:this.props.id||this.getInputFieldControlElementId(),ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),required:this.props.required,value:this.state.value,onChanged:this._onValueChanged,disabled:this.props.disabled,onGetErrorMessage:this.getErrorMessage,type:this.props.type,onBlur:this.props.onBlur,inputClassName:this.props.inputClassName,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype._renderSimpleTextBox=function(){var n=this;return i.createElement(o.TooltipIfOverflow,{tooltip:this.state.value,forceUpdate:this._forceUpdate,targetElementClassName:"string-input-component-input",containerClassName:"string-input-component-input-container"},i.createElement("div",{className:"string-input-component-input-container"},i.createElement(e.ValidatableTextField,{borderless:this.props.borderless,ref:function(t){n._textField=t},id:this.props.id||this.getInputFieldControlElementId(),"aria-labelledby":this.props.ariaLabelledBy||(!this.props.label?null:this.getInputFieldLabelElementId()),"aria-describedby":this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),"aria-required":this.props.required,ariaLabel:this.props.ariaLabel,"aria-disabled":this.props.disabled,value:this.state.value,className:s.css("input-textfield",this.props.cssClass),onChanged:this._onValueChanged,disabled:this.props.disabled,deferredValidationTime:this.props.deferredValidationTime,onGetErrorMessage:this.getErrorMessage,readOnly:this.props.readOnly,type:this.props.type,multiline:this.props.isMultilineExpandable,resizable:this.props.isResizable,autoAdjustHeight:this.props.noAutoAdjustHeight?!this.props.noAutoAdjustHeight:this.props.isMultilineExpandable,rows:this.props.rows,onBlur:this.props.onBlur,inputClassName:s.css("string-input-component-input",this.props.inputClassName),errorMessage:this.props.errorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})))},t.c_defaultDeferredOnChangeTime=500,t}(f.TextInputComponentBase);t.StringInputComponent=l});

define("DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","OfficeFabric/Dropdown","OfficeFabric/Utilities","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n,i){t.onValueChanged({index:i,option:n})},t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_DROPDOWN},t.prototype.getControl=function(){var n=this;return i.createElement(f.Dropdown,{ref:function(t){n._dropdown=t},id:this.getInputFieldControlElementId(),className:e.css("input-control-drop-down",this.props.cssClass),label:o.empty,ariaLabel:this.props.ariaLabel||this.props.label,options:this.props.options,selectedKey:this.props.selectedKey,onChanged:this._onChanged,"aria-disabled":this.props.disabled,"aria-describedby":this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),required:this.props.required,disabled:this.props.disabled,errorMessage:this.props.errorMessage,dropdownWidth:this.props.dropdownWidth,calloutProps:{className:this.props.calloutClassName}})},t.prototype.setFocus=function(){this._dropdown&&this._dropdown.focus()},t.prototype.getInputClassName=function(){return this.props.dropDownClassName||n.prototype.getInputClassName.call(this)},t}(r.InputBase);t.DropDownInputControl=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","VSS/Diag","VSS/Utils/String","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l){var y,a,v;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.MinutesInDay=1440;n.MinutesInMonth=43200;n.MinutesInHour=60;n.MinutesInYear=525600;n.HoursInYear=8760;n.HoursInDay=24;n.DaysInYear=365;n.DaysInMonth=30}(y=t.TimeConstants||(t.TimeConstants={})),function(n){n[n.Minutes=1]="Minutes";n[n.Hours=2]="Hours";n[n.Days=3]="Days"}(a=t.TimeUnits||(t.TimeUnits={}));v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onValueChanged=function(n){var i={value:n,unit:t.state.value.unit};t.setState({errorMessage:c.empty},function(){t.onValueChanged(i)})},t._onUnitChanged=function(n){var i={value:t.state.value.value,unit:n.key};t.setState({errorMessage:c.empty},function(){t.onValueChanged(i)})},t.errorElementId=c.format("{0}{1}{2}",t.getType(),"-errorcomponent-",c.generateUID()),t}return __extends(t,n),t.prototype.componentDidMount=function(){this.setState({value:this.props.value,errorMessage:this.props.errorMessage})},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value,errorMessage:n.errorMessage})},t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_DURATION_CONTROL},t.prototype.getControl=function(){return h.logVerbose("[DurationInputComponent.getControl]: Method called."),this._renderTimeComponent()},t.prototype._renderTimeComponent=function(){return!this.props.showDay&&!this.props.showHour&&!this.props.showMinute?null:i.createElement("div",{className:"time-container"},i.createElement("div",{className:"time-container-content"},this._getTimeValueInputContainer(),this._getTimeUnitContainer()),this._getErrorMessageElement())},t.prototype._getTimeValueInputContainer=function(){var n=this._getSelectedUnit(),t=!this.props.inputAriaLabel?c.empty:c.format(this.props.inputAriaLabel,n);return i.createElement("div",{className:"time-value-input-container"},i.createElement(e.StringInputComponent,{borderless:!0,inputClassName:l.css("time-input-textfield",{invalid:!!this.state.errorMessage}),value:!this.state.value?c.empty:this.state.value.value,onValueChanged:this._onValueChanged,ariaDescription:this.props.inputAriaDescription,ariaDescribedBy:this.state.errorMessage?this.errorElementId:null,ariaLabel:t,disabled:this.props.disabled}))},t.prototype._getTimeUnitContainer=function(){var n=this,t=this._getSelectedUnit();return i.createElement("div",{className:"time-unit-container"},this._showDropDown()?i.createElement(s.DropDownInputControl,{cssClass:"timeunit-dropdown",options:this._getTimeUnits(),onValueChanged:function(t){n._onUnitChanged(t.option,t.index)},selectedKey:!this.state.value?this._getTimeUnits()[0].key:this.state.value.unit,disabled:this.props.disabled,ariaLabel:this.props.unitAriaLabel}):i.createElement("div",null,t))},t.prototype._getTimeUnits=function(){var n=[];return!this.props.showDay||n.push({key:a.Days,text:f.Days}),!this.props.showHour||n.push({key:a.Hours,text:f.Hours}),!this.props.showMinute||n.push({key:a.Minutes,text:f.Minutes}),n},t.prototype._getErrorMessageElement=function(){return!this.state.errorMessage?null:i.createElement(r.ErrorComponent,{errorMessage:this.state.errorMessage,id:this.errorElementId})},t.prototype._showDropDown=function(){var n=0;return this.props.showDay&&n++,this.props.showHour&&n++,this.props.showMinute&&n++,n>1?!0:!1},t.prototype._getSelectedUnit=function(){if(!this.state.value)return this._getTimeUnits()[0].text;switch(this.state.value.unit){case a.Days:return f.Days;case a.Hours:return f.Hours;case a.Minutes:return f.Minutes}},t}(o.InputBase);t.DurationInputComponent=v});

define("DistributedTaskControls/Common/Utilities",["require","exports","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/Common/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/TFS.Tasks.Models","VSS/Common/Contracts/Platform","VSS/Context","VSS/Context","VSS/FeatureAvailability/Services","VSS/FeatureManagement/Services","VSS/Navigation/HubsService","VSS/Navigation/Services","VSS/Service","VSS/Utils/Array","VSS/Utils/Number","VSS/Utils/String","VSS/Utils/UI","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){Object.defineProperty(t,"__esModule",{value:!0});var ot=function(){function n(){}return n.getCurrentUser=function(){var n=b.getDefaultWebContext();return n?{displayName:n.user.name,id:n.user.id,isAadIdentity:n.host.isAADAccount,isContainer:!1,uniqueName:n.user.uniqueName,url:n.host.uri}:null},n.getTaskFromTaskDefinition=function(t){var i=!1,r=!1,u=v.getMajorVersionSpec(t.version),f;return t.definitionType===a.DefinitionType.metaTask&&(i=!0,r=!0,y.TaskDefinitionCache.getTaskDefinitionCache().cacheMetaTaskDemandsFromServer(t.id,u)),f={id:t.id,versionSpec:u,definitionType:t.definitionType},{displayName:"",refName:null,enabled:!0,continueOnError:i,timeoutInMinutes:0,alwaysRun:r,inputs:n.convertTaskDefinitionInputsToTaskInstanceInputs(t.inputs),task:f}},n.convertTaskDefinitionInputsToTaskInstanceInputs=function(n){for(var t,r={},i=0,u=n;i<u.length;i++)t=u[i],t.defaultValue!==undefined&&(r[t.name]=t.defaultValue);return r},n.getTaskInputType=function(n){var t=n.type.split(":")[0];return t&&(t=t.toLowerCase()),t},n.getUniqueInstanceId=function(){return ut.format(n._formatString,"object-instance-id",ut.generateUID())},n.createInputDefinitionCopy=function(n){return!n?n:{name:n.name,defaultValue:n.defaultValue,groupName:n.groupName,helpMarkDown:n.helpMarkDown,label:n.label,required:n.required,type:n.type,visibleRule:n.visibleRule,options:f.JQueryWrapper.extend({},n.options),properties:f.JQueryWrapper.extend({},n.properties)}},n.getDefaultName=function(n,t){var r=1,u=!1,i;t=t||[];do i=ut.format(n,r),u=it.arrayContains(i,t,function(n,t){return ut.equals(n,t,!0)}),r++;while(u);return i},n.createSourceDefinitionCopy=function(n){return!n?n:{authKey:n.authKey,endpoint:n.endpoint,keySelector:n.keySelector,selector:n.selector,target:n.target}},n.createDataSourceBindingCopy=function(n){return!n?n:{dataSourceName:n.dataSourceName,endpointId:n.endpointId,endpointUrl:n.endpointUrl,resultSelector:n.resultSelector,resultTemplate:n.resultTemplate,target:n.target,parameters:f.JQueryWrapper.extend({},n.parameters)}},n.containsProcessParameter=function(t){return n.oldProcParamRegex.test(t)||n.newProcParamRegex.test(t)},n.resolveTaskInputValueByProcessParameters=function(t,i){var r=n._resolveTaskInputValueByProcessParameters(t,i,n.oldProcParamRegex);return r.isResolved?r:n._resolveTaskInputValueByProcessParameters(t,i,n.newProcParamRegex)},n.getProcParamNameFromVariableName=function(n){var i=new RegExp("(^\\s*)("+u.ProcessParameterConstants.NewProcessParameterPrefix+")(\\.)(.*)(\\s*$)","i"),t=i.exec(n);return!!t&&t.length===6?t[4]?t[4].trim():ut.empty:n},n.getProcParamNameFromProcessParameter=function(t){var u=t?t.trim():ut.empty,f=n.newProcParamRegex,r=null,i=f.exec(u);return!i||i.length!==7||(r=i[5]?i[5].trim():ut.empty),r},n.convertSerializedDemandToDemandData=function(t){var r=[];return t&&t.length>0&&t.forEach(function(t){var f={name:ut.empty,condition:ut.empty,value:ut.empty},s,o;i.AppContext.instance().isCapabilitySupported(i.AppCapability.GreaterThanConditionInDemand)?e.DemandEqualsRegEx.test(t)?(f.condition=u.DemandCondition.Equals,s=t.split(e.DemandEqualsRegEx),s&&(f.name=s[0]==null?ut.empty:s[0],f.value=s[1]==null?ut.empty:s[1])):(f.name=t,f.condition=u.DemandCondition.Exists):(o=n._demandRegex.exec(t),o&&(f.name=o[1]?o[1]:ut.empty,f.value=o[4]?o[4]:ut.empty,f.condition=ut.equals(u.DemandCondition.Equals,o[3])?u.DemandCondition.Equals:u.DemandCondition.Exists));r.push(f)}),r},n.convertSerializedDemandToDeploymentGroupDemandData=function(t){var i=[];return n.convertSerializedDemandToDemandData(t).forEach(function(n){n&&i.push({name:n.name,value:n.condition===u.DemandCondition.Exists?n.condition:n.value,machinesMissingDemand:[]})}),i},n.convertDemandDataToSerializedDemand=function(t){var i=[];return t&&t.length>0&&t.forEach(function(t){switch(t.condition){case u.DemandCondition.Exists:i.push(t.name.trim());break;case u.DemandCondition.Equals:i.push(ut.localeFormat(n._formatEqualsString,t.name.trim(),t.value.trim()))}}),i},n.isQualifiedMachine=function(n,t){if(!n)return!(t&&t.length>0);return t.every(function(t){return it.contains(n,t,ut.localeIgnoreCaseComparer)?!0:!1})},n.removeItemFromList=function(n,t){var i={items:null,removedItem:null,nextItem:null};return i.items=n.filter(function(r,u){if(ut.equals(r.getKey(),t)){i.removedItem=r;var f=u===n.length-1?u-1:u+1;return f>=0&&(i.nextItem=n[f]),!1}return!0}),i},n.scrollElementToView=function(n,t,i){window.requestAnimationFrame&&window.requestAnimationFrame(function(){n&&(ft.Positioning.scrollIntoViewVertical($(n),t||ft.Positioning.VerticalScrollBehavior.Default),i&&i())})},n.isNumberInRange=function(n,t,i,r){return n===null||n===undefined?!1:r&&!rt.isPositiveNumber(n)?!1:rt.defaultComparer(n,t)>=0&&rt.defaultComparer(n,i)<=0},n.isValidNonNegativeNumberInRange=function(n,t,i){if(t===void 0&&(t=0),n===null||n===undefined)return r.InputState.Invalid_NonPositiveNumber;var u=parseInt(n,10),f=u.toString()===n&&this.isNumberInRange(u,t,i);return f?r.InputState.Valid:r.InputState.Invalid_NonPositiveNumber},n.isValidNumber=function(n){if(!n)return!1;var t=parseInt(n,10);return t.toString()===n},n.isValidNonNegativeIntegerInRange=function(n,t,i,u){var f,e;return(t===void 0&&(t=0),u===void 0&&(u=!1),f=this.getInteger(n),isNaN(f)||u&&f.toString()!==n)?r.InputState.Invalid_NonPositiveNumber:(e=this.isNumberInRange(f,t,i),e?r.InputState.Valid:r.InputState.Invalid_NonPositiveNumber)},n.isValidInteger=function(n,t,i){var r=this.getInteger(n);return isNaN(r)?!1:t&&!rt.isPositiveNumber(n)?!1:i&&r.toString()!==n?!1:!0},n.areIntegersEqual=function(n,t){var i=this.getInteger(n),r=this.getInteger(t);return isNaN(i)&&isNaN(r)||i===r},n.getInteger=function(n){return(n=n?n.trim():null,!n||!this.validIntegerRegex.test(n))?NaN:parseInt(n,10)},n.isValueInVariableFormat=function(n){return n===null||n===undefined?!1:n.match(this._variableFormatRegex)===null?!1:!0},n.getValueForCaseInsensitiveKey=function(n,t){var i=Object.keys(n);return i.forEach(function(n){if(ut.ignoreCaseComparer(n,t)===0)return t=n,!1}),n[t]},n.getUrlForExtension=function(n,t,i,r){var u=w.getPageContext(),o=u.webContext.collection.uri,s=u.webContext.project.name,f="",e;return u.navigation.topMostLevel===p.NavigationContextLevels.Team&&(f=w.getPageContext().webContext.team.name),e=o+s+(!f?"":"/"+f),this._getExtensionActionUrlFragment(e,n,t,i,r).replace("#","?")},n.fixEmptyAndRecurringStringValuesInArray=function(n){n=n||[];var t={},i=[];return n.forEach(function(n){var r=n.trim(),u;!r||(u=r.toLowerCase(),t[u]||(t[u]=!0,i.push(r)))}),i},n.fixEmptyAndRecurringValuesInDelimitedString=function(n){var t=n.split(u.CommaSeparator);return(this.fixEmptyAndRecurringStringValuesInArray(t)||[]).join(u.CommaSeparator)},n.isURLType=function(n){return this._absolutePathRegex.test(n)},n.getBoolValue=function(n){return ut.ignoreCaseComparer(n,"true")===0?!0:!1},n.getTaskInOrder=function(n,t){var i=[];return t?(t.forEach(function(t){it.contains(n,t)&&i.push(t)}),i):i},n.isTaskSupportedForTaskGroup=function(n,t){switch(n){case a.TaskGroupType.RunOnAgent:return this._canTaskRunOnAgent(t);case a.TaskGroupType.RunOnServer:return this.canTaskRunOnServer(t);case a.TaskGroupType.RunOnMachineGroup:return this._canTaskRunOnMachineGroup(t);case a.TaskGroupType.RunOnAny:return!0;case a.TaskGroupType.RunsOnServerGate:return this._canTaskRunOnServerGate(t)}return!1},n.getRefFriendlyName=function(t){return t&&t&&t.indexOf(n._headsRef)===0?t.substring(n._headsRef.length):t},n.getFullRefNameFromBranch=function(n){return this._getFullRefName(n,h.BranchFilterType.BranchName)},n.getFullRefNameFromTag=function(n){return this._getFullRefName(n,h.BranchFilterType.TagName)},n.isNullOrWhiteSpace=function(n){return!n||n.trim().length===0},n.isValidStringLength=function(n,t){return!(this.isNullOrWhiteSpace(n)||n.length>t)},n.checkValidStringLengthErrorMessage=function(n,t,i){return this.isNullOrWhiteSpace(n)?c.RequiredInputErrorMessage:n.length>t?i:ut.empty},n.getRunThisTaskInputDefinition=function(){var n={defaultValue:ut.empty,groupName:u.CONTROL_OPTIONS_GROUP,helpMarkDown:c.ConditionSelectorTooltip,label:c.ConditionSelectorLabelText,name:u.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector,options:{},properties:{},required:!1,type:r.INPUT_TYPE_PICK_LIST,visibleRule:undefined};return n.options[u.TaskConditions.Succeeded]=c.ConditionSelector_AllSucceeded,n.options[u.TaskConditions.SucceededOrFailed]=i.AppContext.instance().isCapabilitySupported(i.AppCapability.Build)?c.ConditionSelector_SucceededOrFailedInBuild:c.ConditionSelector_SucceededOrFailedInRelease,n.options[u.TaskConditions.Always]=i.AppContext.instance().isCapabilitySupported(i.AppCapability.Build)?c.ConditionSelector_RunAlwaysInBuild:c.ConditionSelector_RunAlwaysInRelease,n.options[u.TaskConditions.Failed]=c.ConditionSelector_Failed,n.options[u.TaskConditions.Custom]=c.ConditionSelector_CustomCondition,n},n.getCustomConditionInputDefinition=function(){return{defaultValue:ut.empty,groupName:u.CONTROL_OPTIONS_GROUP,helpMarkDown:c.ConditionSelectorCustomConditionTooltip,label:c.ConditionSelectorCustomInputLabel,name:u.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor,options:{},properties:{},required:!1,type:r.INPUT_TYPE_STRING,visibleRule:ut.format("{0} = {1}",u.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector,u.TaskConditions.Custom),validation:{}}},n.getTaskConditionOptions=function(){return[u.TaskConditions.Succeeded,u.TaskConditions.SucceededOrFailed,u.TaskConditions.Always,u.TaskConditions.Failed,u.TaskConditions.Custom]},n.canTaskRunOnServer=function(n){return!!n&&it.contains(n,a.TaskRunsOnConstants.RunsOnServer,ut.localeIgnoreCaseComparer)},n.isFeatureFlagEnabled=function(n){return!!n&&k.FeatureAvailabilityService.isFeatureEnabled(n,!1)},n.isFeatureStateEnabled=function(n){return!!n&&tt.getService(d.FeatureManagementService).isFeatureEnabled(n)},n.registertShortcuts=function(){et.using(["VSS/Controls/KeyboardShortcuts"],function(n){var t=n.ShortcutManager.getInstance();t.registerShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.HelpShortKey,{description:c.HelpShortKey,action:function(){},element:document.body,allowPropagation:!0});i.AppContext.instance().isCapabilitySupported(i.AppCapability.LinkProcessParameters)&&t.registerShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.LinkShortKey,{description:c.TaskInputLinkShortKey,action:function(){},element:document.body,allowPropagation:!0});t.registerShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemUp,{description:i.AppContext.instance().isCapabilitySupported(i.AppCapability.MultiplePhases)?c.ShiftTaskOrPhaseUpShortKey:c.ShiftTaskUpShortKey,action:function(){},element:document.body,allowPropagation:!0});t.registerShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemDown,{description:i.AppContext.instance().isCapabilitySupported(i.AppCapability.MultiplePhases)?c.ShiftTaskOrPhaseDownShortKey:c.ShiftTaskDownShortKey,action:function(){},element:document.body,allowPropagation:!0})})},n.unregisterShortcuts=function(){et.using(["VSS/Controls/KeyboardShortcuts"],function(n){var t=n.ShortcutManager.getInstance();t.unRegisterShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.HelpShortKey);i.AppContext.instance().isCapabilitySupported(i.AppCapability.LinkProcessParameters)&&t.unRegisterShortcut(c.EditorShortKeyGroup,o.InputControlShortKeys.LinkShortKey);t.unRegisterShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemUp);t.unRegisterShortcut(c.EditorShortKeyGroup,s.ItemListShortKeys.MoveSelectedItemDown)})},n.prefetchModulesInAsyncMode=function(n){et.using(n,function(){})},n.insertItemInList=function(n,t){if(n&&n.sourceItem&&n.sourceItem.data){var i=0;return n.targetItem&&n.targetItem.data&&(i=it.findIndex(t,function(t){return t&&t.getKey()===n.targetItem.data.getKey()}),n.shouldInsertBefore||(i=i+1)),t.splice(i,0,n.sourceItem.data),t}return null},n.removeInvalidRefNameCharacters=function(n){var r=ut.empty,i,t;if(n)for(i=0;i<n.length;i++)t=n.charAt(i),(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_")&&(r=r+t);return r},n.isValidRefName=function(n){var i,t;if(n){for(i=0;i<n.length;i++)if(t=n.charAt(i),!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_"))return!1}else return!1;return!0},n.isSimplePicklistValueInvalidOption=function(t,i,u){return!(t&&(t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT]&&t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT].toLowerCase()===r.BOOLEAN_TRUE||t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&t[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST].toLowerCase()===r.BOOLEAN_TRUE||t[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS]&&t[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS].toLowerCase()===r.BOOLEAN_TRUE))&&!n.isValuePresentInOptions(i,u)?!0:!1},n.isValuePresentInOptions=function(n,t){var i,r;if(!n)return!1;t=t||ut.empty;i=!1;for(r in n)if(n.hasOwnProperty(r)){if(ut.localeIgnoreCaseComparer(r,t)===0){i=!0;break}if(ut.localeIgnoreCaseComparer(n[r],t)===0){i=!0;break}}return i},n.resolveProcessParameterEndpoint=function(n,t){var r=null,i;return n&&n.inputs&&n.inputs.length>0&&(i=it.first(n.inputs,function(n){return ut.ignoreCaseComparer(n.name,t)===0}),i&&(r=i.defaultValue)),r},n.convertMinutesToDuration=function(n,t){return t=t===undefined||t===null||t>l.TimeUnits.Days?l.TimeUnits.Days:t,t<l.TimeUnits.Minutes&&(t=l.TimeUnits.Minutes),n!==null&&n!==undefined?n%l.TimeConstants.MinutesInDay==0&&t>=l.TimeUnits.Days?{value:(n/l.TimeConstants.MinutesInDay).toString(),unit:l.TimeUnits.Days}:n%l.TimeConstants.MinutesInHour==0&&t>=l.TimeUnits.Hours?{value:(n/l.TimeConstants.MinutesInHour).toString(),unit:l.TimeUnits.Hours}:{value:n.toString(),unit:l.TimeUnits.Minutes}:void 0},n.convertToDuration=function(t){return n.convertMinutesToDuration(t)},n.convertToTimeoutInMinutes=function(t){if(!!t&&!!t.value&&t.unit!==null&&t.unit!==undefined){if(n.isValidInteger(t.value)){var i=n.getInteger(t.value);switch(t.unit){case l.TimeUnits.Days:return(i*l.TimeConstants.MinutesInDay).toString();case l.TimeUnits.Hours:return(i*l.TimeConstants.MinutesInHour).toString();case l.TimeUnits.Minutes:return i.toString();default:return i.toString()}}return t.value}},n.getDurationDiffInMinutes=function(t,i){var r=n.convertDurationToNumberInMinutes(t),u=n.convertDurationToNumberInMinutes(i);return isNaN(r)||isNaN(u)?NaN:r-u},n.convertDurationToNumberInMinutes=function(t){return n.getInteger(n.convertToTimeoutInMinutes(t))},n.convertMinutesToValidDuration=function(t,i,r,u,f,e){u===void 0&&(u=0);f===void 0&&(f=l.TimeUnits.Minutes);u=u===undefined||u===null?0:u;f=f===undefined||f===null?l.TimeUnits.Minutes:f;var o={value:u.toString(),unit:f};return t!==undefined&&t!==null&&n.isNumberInRange(t,i,r)&&(o=t===0?{value:t.toString(),unit:f}:n.convertMinutesToDuration(t,e)),o},n.isDurationInMinutesRange=function(t,i,r){return n.isNumberInRange(n.convertDurationToNumberInMinutes(t),i,r)},n.isDurationInRange=function(t,i,r){return n.isDurationInMinutesRange(t,i,r)},n.isRetryableError=function(n){return!!n&&(n===502||n===503||n===504)},n.isTaskInputSearchable=function(n){return n&&n.properties&&(ut.equals(n.properties[r.Properties.IsSearchable],"true",!0)||n.properties[r.Properties.SearchDataSourceName])?!0:!1},n.getSearchDataSourceName=function(n){var t=ut.empty;return n&&n.properties&&n.properties[r.Properties.SearchDataSourceName]&&(t=n.properties[r.Properties.SearchDataSourceName]),t},n._resolveTaskInputValueByProcessParameters=function(n,t,i){var o=n?n.toString().trim():ut.empty,r={actualValue:n,resolvedValue:n,isResolved:!1},u=i.exec(o),f,e;return!u||u.length!==7||(f=u[5]?u[5].trim():ut.empty,f&&(e=f.toLowerCase(),t.hasOwnProperty(e)&&(r.isResolved=!0,r.resolvedValue=t[e],r.boundProcessParameterName=f))),r},n._canTaskRunOnAgent=function(n){return!n||n.length===0||it.contains(n,a.TaskRunsOnConstants.RunsOnAgent,ut.localeIgnoreCaseComparer)},n._canTaskRunOnMachineGroup=function(n){return!!n&&(it.contains(n,a.TaskRunsOnConstants.RunsOnMachineGroup,ut.localeIgnoreCaseComparer)||it.contains(n,a.TaskRunsOnConstants.RunsOnDeploymentGroup,ut.localeIgnoreCaseComparer))},n._canTaskRunOnServerGate=function(n){return!!n&&it.contains(n,a.TaskRunsOnConstants.RunsOnServerGate,ut.localeIgnoreCaseComparer)},n._getExtensionActionUrlFragment=function(n,t,i,r,u){var e=nt.getHistoryService().getFragmentActionLink(i,r),f;return u&&(f=tt.getLocalService(g.HubsService).getHubById(t),!!f&&!!f.uri)?f.uri+e:n+this._getExtensionUrl(t)+e},n._getExtensionUrl=function(n){return"/_apps/hub/"+n},n._getFullRefName=function(n,t){var i=this._getTrimmedValue(n),r=i;return(i.indexOf("refs/")!==0||i.indexOf("*")<0)&&(t===h.BranchFilterType.TagName?r=this._getFullRefNameFromTag(i):t===h.BranchFilterType.BranchName&&(r=this._getFullRefNameFromBranch(i))),r},n._getTrimmedValue=function(n){var t=n||ut.empty;return t.trim()},n._getFullRefNameFromBranch=function(n){return this._headsRef+n},n._getFullRefNameFromTag=function(n){return this._tagsRef+n},n._absolutePathRegex=/^(?:\/|[A-Za-z]+:\/\/)/,n._demandRegex=/^([^\s]+)(\s+\-([^\s]+)\s+(.*))?/,n._variableFormatRegex=new RegExp("(^\\$\\()(\\s*)(.+)(\\)$)"),n.oldProcParamRegex=new RegExp("(^\\$\\()(\\s*)("+u.ProcessParameterConstants.OldProcessParameterPrefix+")(\\.)(.*)(\\)$)","i"),n.newProcParamRegex=new RegExp("(^\\$\\()(\\s*)("+u.ProcessParameterConstants.NewProcessParameterPrefix+")(\\.)(.*)(\\)$)","i"),n.validIntegerRegex=/^(\+|\-)?\d+(\.[0]*)?$/,n._formatString="{0}-{1}",n._formatEqualsString="{0} -equals {1}",n._headsRef="refs/heads/",n._tagsRef="refs/tags/",n}();t.DtcUtils=ot});

define("DistributedTaskControls/ProcessManagement/Types",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.None=0]="None";n[n.EditProcess=1]="EditProcess";n[n.EditProcessInputs=2]="EditProcessInputs";n[n.EditPhases=4]="EditPhases";n[n.EditPhaseInputs=8]="EditPhaseInputs";n[n.EditTasks=16]="EditTasks";n[n.EditTaskInputs=32]="EditTaskInputs";n[n.EditTaskGroups=64]="EditTaskGroups";n[n.All=127]="All"})(i=t.ProcessManagementCapabilities||(t.ProcessManagementCapabilities={}))});

define("VSS/Identities/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.None=0]="None";n[n.ServiceIdentity=1]="ServiceIdentity";n[n.AggregateIdentity=2]="AggregateIdentity";n[n.ImportedIdentity=3]="ImportedIdentity"}(i=t.FrameworkIdentityType||(t.FrameworkIdentityType={})),function(n){n[n.Generic=0]="Generic";n[n.ServiceHost=1]="ServiceHost";n[n.TeamProject=2]="TeamProject"}(r=t.GroupScopeType||(t.GroupScopeType={})),function(n){n[n.None=0]="None";n[n.Direct=1]="Direct";n[n.Expanded=2]="Expanded";n[n.ExpandedUp=3]="ExpandedUp";n[n.ExpandedDown=4]="ExpandedDown"}(u=t.QueryMembership||(t.QueryMembership={})),function(n){n[n.None=0]="None";n[n.FilterIllegalMemberships=1]="FilterIllegalMemberships"}(f=t.ReadIdentitiesOptions||(t.ReadIdentitiesOptions={}));t.TypeInfo={CreateScopeInfo:{},FrameworkIdentityInfo:{},FrameworkIdentityType:{enumValues:{none:0,serviceIdentity:1,aggregateIdentity:2,importedIdentity:3}},GroupScopeType:{enumValues:{generic:0,serviceHost:1,teamProject:2}},IdentityBatchInfo:{},IdentityScope:{},IdentitySnapshot:{},QueryMembership:{enumValues:{none:0,direct:1,expanded:2,expandedUp:3,expandedDown:4}},ReadIdentitiesOptions:{enumValues:{none:0,filterIllegalMemberships:1}}};t.TypeInfo.CreateScopeInfo.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}};t.TypeInfo.FrameworkIdentityInfo.fields={identityType:{enumType:t.TypeInfo.FrameworkIdentityType}};t.TypeInfo.IdentityBatchInfo.fields={queryMembership:{enumType:t.TypeInfo.QueryMembership}};t.TypeInfo.IdentityScope.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}};t.TypeInfo.IdentitySnapshot.fields={scopes:{isArray:!0,typeInfo:t.TypeInfo.IdentityScope}}});

define("VSS/Graph/Contracts",["require","exports","VSS/Identities/Contracts"],function(n,t,i){"use strict";var r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.PrincipalName=0]="PrincipalName";n[n.DisplayName=1]="DisplayName";n[n.AdministratorsGroup=2]="AdministratorsGroup";n[n.Identifier=3]="Identifier";n[n.MailAddress=4]="MailAddress";n[n.General=5]="General";n[n.Alias=6]="Alias";n[n.DirectoryAlias=8]="DirectoryAlias"}(r=t.GraphMemberSearchFactor||(t.GraphMemberSearchFactor={})),function(n){n[n.Unknown=0]="Unknown";n[n.Down=1]="Down";n[n.Up=2]="Up"}(u=t.GraphTraversalDirection||(t.GraphTraversalDirection={}));t.TypeInfo={GraphMemberSearchFactor:{enumValues:{principalName:0,displayName:1,administratorsGroup:2,identifier:3,mailAddress:4,general:5,alias:6,directoryAlias:8}},GraphScope:{},GraphScopeCreationContext:{},GraphTraversalDirection:{enumValues:{unknown:0,down:1,up:2}},GraphUser:{},PagedGraphUsers:{}};t.TypeInfo.GraphScope.fields={scopeType:{enumType:i.TypeInfo.GroupScopeType}};t.TypeInfo.GraphScopeCreationContext.fields={scopeType:{enumType:i.TypeInfo.GroupScopeType}};t.TypeInfo.GraphUser.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.PagedGraphUsers.fields={graphUsers:{isArray:!0,typeInfo:t.TypeInfo.GraphUser}}});

define("VSS/Profile/Contracts",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(i=t.AvatarSize||(t.AvatarSize={})),function(n){n[n.Custom=0]="Custom";n[n.CustomReadOnly=1]="CustomReadOnly";n[n.ReadOnly=2]="ReadOnly"}(r=t.ProfileState||(t.ProfileState={}));t.TypeInfo={AttributesContainer:{},Avatar:{},AvatarSize:{enumValues:{small:0,medium:1,large:2}},CoreProfileAttribute:{},CreateProfileContext:{},Profile:{},ProfileAttribute:{},ProfileAttributeBase:{},ProfileState:{enumValues:{custom:0,customReadOnly:1,readOnly:2}}};t.TypeInfo.AttributesContainer.fields={attributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ProfileAttribute}};t.TypeInfo.Avatar.fields={size:{enumType:t.TypeInfo.AvatarSize},timeStamp:{isDate:!0}};t.TypeInfo.CoreProfileAttribute.fields={timeStamp:{isDate:!0}};t.TypeInfo.CreateProfileContext.fields={profileState:{enumType:t.TypeInfo.ProfileState}};t.TypeInfo.Profile.fields={applicationContainer:{typeInfo:t.TypeInfo.AttributesContainer},coreAttributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.CoreProfileAttribute},profileState:{enumType:t.TypeInfo.ProfileState},timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttribute.fields={timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttributeBase.fields={timeStamp:{isDate:!0}}});

define("VSS/Graph/RestClient",["require","exports","VSS/Graph/Contracts","VSS/Profile/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function k(n){return window.VSS&&window.VSS.VssSDKRestVersion&&w[window.VSS.VssSDKRestVersion]?u.getClient(w[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(o,undefined,undefined,undefined,n)}var s,h,e,c,o,l,a,v,y,p,b,w;Object.defineProperty(t,"__esModule",{value:!0});s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDescriptor=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"048aee0a-7072-4cde-ab73-7af77b1e0b4e",resource:"Descriptors",routeTemplate:"_apis/{area}/{resource}/{storageKey}",routeValues:{storageKey:n},apiVersion:this.descriptorsApiVersion})},t}(f.VssHttpClient);t.CommonMethods3_1To5_1=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateUser=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,routeValues:{userDescriptor:t},apiVersion:this.usersApiVersion,data:n})},t.prototype.listUsers=function(n,t){var r={subjectTypes:n&&n.join(","),continuationToken:t};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,responseIsCollection:!0,queryParams:r,apiVersion:this.usersApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphUsers:i,continuationToken:t?t.split(","):[]}})},t.prototype.getUser=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,routeValues:{userDescriptor:n},apiVersion:this.usersApiVersion})},t.prototype.deleteUser=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",routeValues:{userDescriptor:n},apiVersion:this.usersApiVersion})},t.prototype.createUser=function(n,t){var r={groupDescriptors:t&&t.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,queryParams:r,apiVersion:this.usersApiVersion,data:n})},t.prototype.getSubject=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1d44a2ac-4f8a-459e-83c2-1c92626fb9c6",resource:"Subjects",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.subjectsApiVersion})},t.prototype.lookupSubjects=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"4dd4d168-11f2-48c4-83e8-756fa0de027c",resource:"SubjectLookup",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.subjectLookupApiVersion,data:n})},t.prototype.getStorageKey=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"eb85f8cc-f0f6-4264-a5b1-ffe2e4d4801f",resource:"StorageKeys",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.storageKeysApiVersion})},t.prototype.updateScope=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",routeValues:{scopeDescriptor:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.scopesApiVersion,data:t})},t.prototype.getScope=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",responseType:i.TypeInfo.GraphScope,routeValues:{scopeDescriptor:n},apiVersion:this.scopesApiVersion})},t.prototype.deleteScope=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",routeValues:{scopeDescriptor:n},apiVersion:this.scopesApiVersion})},t.prototype.createScope=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",requestType:i.TypeInfo.GraphScopeCreationContext,responseType:i.TypeInfo.GraphScope,routeValues:{scopeDescriptor:t},apiVersion:this.scopesApiVersion,data:n})},t.prototype.traverseMemberships=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"5d59d874-746f-4f9b-9459-0e571f1ded8c",resource:"MembershipTraversals",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.membershipTraversalsApiVersion})},t.prototype.lookupMembershipTraversals=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"5d59d874-746f-4f9b-9459-0e571f1ded8c",resource:"MembershipTraversals",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",responseIsCollection:!0,queryParams:r,apiVersion:this.membershipTraversalsApiVersion,data:n})},t.prototype.getMembershipState=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1ffe5c94-1144-4191-907b-d0211cad36a8",resource:"MembershipStates",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.membershipStatesApiVersion})},t.prototype.listMemberships=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e34b6394-6b30-4435-94a9-409a5eef3e31",resource:"MembershipsBatch",routeTemplate:"_apis/{area}/Memberships/{subjectDescriptor}",responseIsCollection:!0,routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.membershipsBatchApiVersion})},t.prototype.removeMembership=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.getMembership=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.checkMembershipExistence=function(n,t){return this._beginRequest({httpMethod:"HEAD",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion}).then(function(){return!0},function(n){if(n.status===404)return!1;throw n;})},t.prototype.addMembership=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.getMemberByDescriptor=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"b9af63a7-5db6-4af8-aae7-387f775ea9c6",resource:"Members",routeTemplate:"_apis/{area}/{resource}/{memberDescriptor}",routeValues:{memberDescriptor:n},apiVersion:this.membersApiVersion})},t.prototype.lookupMembers=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"3d74d524-ae3d-4d24-a9a7-f8a5cf82347a",resource:"MemberLookup",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.memberLookupApiVersion,data:n})},t.prototype.updateGroup=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.groupsApiVersion,data:t})},t.prototype.listGroups=function(n,t,i){var r={scopeDescriptor:n,subjectTypes:t&&t.join(","),continuationToken:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",responseIsCollection:!0,queryParams:r,apiVersion:this.groupsApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphGroups:i,continuationToken:t?t.split(","):[]}})},t.prototype.getGroup=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},apiVersion:this.groupsApiVersion})},t.prototype.deleteGroup=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},apiVersion:this.groupsApiVersion})},t.prototype.createGroup=function(n,t,i){var r={scopeDescriptor:t,groupDescriptors:i&&i.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",queryParams:r,apiVersion:this.groupsApiVersion,data:n})},t.prototype.getCachePolicies=function(){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"beb83272-b415-48e8-ac1e-a9b805760739",resource:"CachePolicies",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.cachePoliciesApiVersion})},t}(s);t.CommonMethods3_2To5_1=h;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getProviderInfo=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1e377995-6fa2-4588-bd64-930186abdcfa",resource:"ProviderInfo",routeTemplate:"_apis/{area}/Users/{userDescriptor}/{resource}",routeValues:{userDescriptor:n},apiVersion:this.providerInfoApiVersion})},t}(h);t.CommonMethods4To5_1=e;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getFederatedProviderData=function(n,t,i){var r={providerName:t,versionHint:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"5dcd28d6-632d-477f-ac6b-398ea9fc2f71",resource:"FederatedProviderData",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.federatedProviderDataApiVersion})},t}(e);t.CommonMethods5To5_1=c;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.providerInfoApiVersion=r.scopesApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.1-preview.1",r}return __extends(t,n),t.prototype.deleteAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",routeValues:{subjectDescriptor:n},apiVersion:"5.1-preview.1"})},t.prototype.getAvatar=function(n,t,i){var u={size:t,format:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",responseType:r.TypeInfo.Avatar,routeValues:{subjectDescriptor:n},queryParams:u,apiVersion:"5.1-preview.1"})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",requestType:r.TypeInfo.Avatar,routeValues:{subjectDescriptor:t},apiVersion:"5.1-preview.1",data:n})},t.prototype.requestAccess=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Graph",locationId:"8d54bf92-8c99-47f2-9972-b21341f1722e",resource:"RequestAccess",routeTemplate:"_apis/{area}/{resource}",apiVersion:"5.1-preview.1",data:n})},t}(c);t.GraphHttpClient5_1=o;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.providerInfoApiVersion=r.scopesApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.0-preview.1",r}return __extends(t,n),t}(c);t.GraphHttpClient5=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.providerInfoApiVersion=r.scopesApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="4.1-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient4_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.providerInfoApiVersion=r.scopesApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="4.0-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient4=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="3.2-preview.1",r}return __extends(t,n),t}(h);t.GraphHttpClient3_2=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion="3.1-preview.1",r}return __extends(t,n),t}(s);t.GraphHttpClient3_1=p;b=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.GraphHttpClient=b;w={"5.1":o,"5.0":l,"4.1":a,"4.0":v,"3.2":y,"3.1":p};t.getClient=k});

define("DistributedTasksCommon/ServiceEndpoints/VstsAadAuthorizer",["require","exports","q","VSS/Service","VSS/Utils/Core","VSS/VSS","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._monitorAuthProgress=null,t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._distributedTaskClient=t.getService(o.ConnectedServicesClientService)},t.prototype.authorize=function(n,t,r,u,f,o){var h=this,s;return u===void 0&&(u=e.empty),f===void 0&&(f=!1),s=i.defer(),this._getAadOAuthLoginUrl(n,t,r,u,f,o).then(function(n){n=n.value||n;h.authWindow=window.open(n,"","width = 960, height = 600, location = true, menubar = false, toolbar = false");u===e.empty?h._pollAuthWindow().then(function(n){s.resolve(n)},function(n){s.reject(n)}):s.resolve(e.empty)},function(n){s.reject(n)}),s.promise},t.prototype._pollAuthWindow=function(){var n=this,t=i.defer();return this._monitorAuthProgress=new u.DelayedFunction(this,1e3,"monitorAuthProgress",function(){try{if(n.authWindow)if(n.authWindow.closed)t.reject(""),n._cleanupAuthWindow();else try{n.authWindow.vstsaadoauthcompleted?(n.authWindow.vstsaadoautherrormessage?t.reject(n.authWindow.vstsaadoautherrormessage):n.authWindow.vstsaadoauthaccesstokenkey?t.resolve(n.authWindow.vstsaadoauthaccesstokenkey):t.reject(s.SpnAuthorizationFailedError),n._cleanupAuthWindow()):n._monitorAuthProgress.reset()}catch(r){n._monitorAuthProgress.reset()}else t.reject(s.CouldNotAuthenticateAAD),n._cleanupAuthWindow()}catch(i){t.reject(i);n._cleanupAuthWindow()}}),this._monitorAuthProgress.start(),t.promise},t.prototype._cleanupAuthWindow=function(){if(this.authWindow)try{this.authWindow.close();this.authWindow=null}catch(n){}this._monitorAuthProgress&&(this._monitorAuthProgress.cancel(),delete this._monitorAuthProgress)},t.prototype._getAadOAuthLoginUrl=function(n,t,r,u,f,o){return u===void 0&&(u=e.empty),f===void 0&&(f=!1),o?i.resolve(o):this._distributedTaskClient.beginCreateOAuthRequest(n,t,r,u,f)},t}(r.VssService);t.VstsAadAuthorizer=h;f.tfsModuleLoaded("AzureAuthenticationHelper",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices",["require","exports","q","VSS/VSS","VSS/Utils/String","VSS/Utils/Array","VSS/WebApi/RestClient","VSS/WebApi/Constants","VSS/Security/RestClient","VSS/Common/Contracts/Platform","VSS/Service","VSS/Context","VSS/Graph/RestClient","DistributedTaskControls/Clients/TaskAgentRestClient","TFS/ServiceEndpoint/ServiceEndpointRestClient","DistributedTasksCommon/ServiceEndpoints/VstsAadAuthorizer","TFS/DistributedTask/Contracts","ReleaseManagement/Core/RestClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","TFS/Build/Contracts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt;Object.defineProperty(t,"__esModule",{value:!0});tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/TestManagement/RestClient"],function(n){f._httpClient=t.getHttpClient(n.TestHttpClient,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.getTestResultDetailsForRelease=function(n,t,i,r,u){var f=this;return this._scriptLoadPromise.then(function(){return f._httpClient.getTestResultDetailsForRelease(f._getProjectName(),n,t,i,r,u)})},t.prototype.queryTestResultsSummaryForReleases=function(n){var t=this;return this._scriptLoadPromise.then(function(){return t._httpClient.queryTestResultsSummaryForReleases(n,t._getProjectName())})},t.prototype._getProjectName=function(){return this.getWebContext().project.name},t}(c.VssService);t.TestManagementService=tt;it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/WorkItemTracking/RestClient"],function(n){f._httpClient=t.getHttpClient(n.WorkItemTrackingHttpClient,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.beginGetWorkItems=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){var r=n.map(function(n){return parseInt(n.id)});return i._httpClient.getWorkItems(r,t)})},t.prototype.beginGetWorkItemsInCurrentProject=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){var r=n.map(function(n){return parseInt(n.id)});return i._httpClient.getWorkItems(r,t,null,null,null,i._getProjectName())})},t.prototype.beginGetWorkItemIcons=function(){var n=this;return this._scriptLoadPromise.then(function(){var t=[];return t.push(n._getProjectName()),n._httpClient.getWorkItemTypeColorAndIcons(t)})},t.prototype._getProjectName=function(){return this.getWebContext().project.name},t}(c.VssService);t.WorkItemService=it;rt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var u=this,f;n.prototype.initializeConnection.call(this,t);f=i.defer();this._scriptLoadPromise=f.promise;r.using(["TFS/Build/RestClient"],function(n){u._httpClient=t.getHttpClient(n.BuildHttpClient2_2,o.ServiceInstanceTypes.TFS);u._httpClient23=t.getHttpClient(n.BuildHttpClient2_3,o.ServiceInstanceTypes.TFS);u._httpClient3=t.getHttpClient(n.BuildHttpClient3,o.ServiceInstanceTypes.TFS);f.resolve(!0)})},t.prototype.beginGetBuildDefinition=function(n,t,i){var r=this;return this._scriptLoadPromise.then(function(){return r._httpClient.getDefinition(n,t,null,null,i)})},t.prototype.beginGetBuildDefinitions=function(n,t,i){var r=this;return this._scriptLoadPromise.then(function(){return r._httpClient.getDefinitions(n,t,i)})},t.prototype.beginGetBuildDefinitions_2_3=function(n,t,i){var r=this;return this._scriptLoadPromise.then(function(){return r._httpClient23.getDefinitions(n,t,i)})},t.prototype.beginGetBuildDefinitionsWithFilters=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient3.getDefinitions(n,null,null,null,null,null,null,null,null,null,null,null,null,null,t)})},t.prototype.beginGetBuild=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient.getBuild(n,t)})},t.prototype.beginGetBuilds=function(n,t,i,r,u,f,e){var o=this;return this._scriptLoadPromise.then(function(){return o._httpClient.getBuilds(n,t,null,null,null,null,null,null,i,null,null,null,null,u,null,null,null,nt.BuildQueryOrder.FinishTimeDescending,e)})},t.prototype.beginGetBuildCommits=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient.getBuildChanges(n,t)})},t.prototype.beginGetProjectTags=function(n){var t=this;return this._scriptLoadPromise.then(function(){return t._httpClient.getTags(n)})},t.prototype.beginGetBuildsById=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient3.getBuilds(n,null,null,null,null,null,null,null,null,null,null,null,null,null,null,nt.QueryDeletedOption.ExcludeDeleted,null,null,t)})},t}(c.VssService);t.BuildService=rt;ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._branchesCache=null,t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/VersionControl/GitRestClient"],function(n){f._httpClient=t.getHttpClient(n.GitHttpClient,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.getBranchNames=function(n){var t=this;return this._scriptLoadPromise.then(function(){return t._branchesCache=i.defer(),t._httpClient.getRefs(n,null,"heads").then(function(n){n.sort(d.GitHelper.compareRefs);t._branchesCache.resolve(n)}),t._branchesCache.promise})},t.prototype.getMyBranchNames=function(n){var t=this;return this._scriptLoadPromise.then(function(){var r=function(n){return n.name.indexOf("refs/heads/")===0};return t._branchesCache=i.defer(),t._httpClient.getRefs(n,null,null,!1,!1,!0).then(function(n){n=n.filter(r);n.sort(d.GitHelper.compareRefs);t._branchesCache.resolve(n)}),t._branchesCache.promise.then(d.GitHelper.refsToFriendlyNames)})},t}(c.VssService);t.GitService=ut;ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/Dashboards/RestClient"],function(n){f._dashboardClient=t.getHttpClient(n.DashboardHttpClient2_2,o.ServiceInstanceTypes.TFS);u.resolve(!0)})},t.prototype.getDashboardGroup=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._dashboardClient.getDashboardGroup(n,t)})},t.prototype.createWidget=function(n,t,i,r){var u=this;return this._scriptLoadPromise.then(function(){return u._dashboardClient.createWidget(n,t,i,r)})},t}(c.VssService);t.DashboardService=ft;et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._vstsAadAuthorizerClient=t.getService(p.VstsAadAuthorizer)},t.prototype.authorize=function(n,t,i,r){return i===void 0&&(i=w.AadLoginPromptOption.FreshLogin),this._vstsAadAuthorizerClient.authorize(n,t,i,u.empty,!1,r)},t}(c.VssService);t.VstsAadAuthorizerService=et;ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=l.getPageContext().webAccessConfiguration.isHosted?t.getHttpClient(s.SecurityHttpClient,b.ReleaseHttpClient.serviceInstanceId):t.getHttpClient(s.SecurityHttpClient)},t.prototype.hasPermission=function(n,t,i,r){return this._httpClient.hasPermissions(t,i,n,r).then(function(n){return n[0]})},t.prototype.listPermissions=function(n,t,r,u){var f=i.defer(),e,o;return g.ArrayHelper.hasItems(n)?(e=n.map(function(n){return{permissions:r,securityNamespaceId:t,token:n}}),o={alwaysAllowAdministrators:u||!1,evaluations:e},this._httpClient.hasPermissionsBatch(o).then(function(n){var t=n.evaluations.map(function(n){return n.value});f.resolve(t)},function(n){f.reject(n)})):f.resolve([]),f.promise},t}(c.VssService);t.SecurityPermissionsService=ot;st=function(){function n(){}return n.getCollectionTaskAgentClient=function(){if(!n._collectionDistributedTaskClient){var t=new c.VssConnection(l.getDefaultWebContext(),h.ContextHostType.ProjectCollection);n._collectionDistributedTaskClient=t.getHttpClient(v.TaskAgentRestClient,o.ServiceInstanceTypes.TFS)}return n._collectionDistributedTaskClient},n.getCollectionServiceEndpointClient=function(){if(!n._collectionServiceEndpointClient){var t=new c.VssConnection(l.getDefaultWebContext(),h.ContextHostType.ProjectCollection);n._collectionServiceEndpointClient=t.getHttpClient(y.ServiceEndpointHttpClient,o.ServiceInstanceTypes.TFS)}return n._collectionServiceEndpointClient},n.getTaskDefinitionsPromise=function(r){return r===void 0&&(r=!1),!t.initialServiceData||!t.initialServiceData.taskDefinitionsCache||!g.ArrayHelper.hasItems(t.initialServiceData.taskDefinitionsCache)||r||(n._taskDefinitionsPromise=i.resolve(t.initialServiceData.taskDefinitionsCache.filter(function(n){return n.definitionType!=="metaTask"})),f.removeWhere(t.initialServiceData.taskDefinitionsCache,function(n){return n.definitionType!=="metaTask"})),(!n._taskDefinitionsPromise||r)&&(n._taskDefinitionsPromise=n.getCollectionTaskAgentClient().getTaskDefinitions(null,[],null)),n._taskDefinitionsPromise},n}();t.DistributedTaskAgentClient=st;ht=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetPackage=function(n){return this._beginRequest({httpMethod:"GET",area:"distributedtask",locationId:"8ffcd551-079c-493a-9c02-54346299d144",routeValues:{packageType:n}})},t}(e.VssHttpClient);t.AgentPackageClient=ht;ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){var f=this,u;n.prototype.initializeConnection.call(this,t);u=i.defer();this._scriptLoadPromise=u.promise;r.using(["TFS/DistributedTask/TaskRestClient"],function(n){f._httpClient=t.getHttpClient(n.TaskHttpClient,b.ReleaseHttpClient.serviceInstanceId);u.resolve(!0)})},t.prototype.beginGetPlanAttachments=function(n,t){var r=this;return u.isEmptyGuid(n)?i.resolve([]):this._scriptLoadPromise.then(function(){var i=l.getDefaultWebContext().project.id;return r._httpClient.getPlanAttachments(i,k.ReleasesHub,n,t)})},t.prototype.getQueuedPlanGroups=function(n,t){var i=this,r=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return i._httpClient.getQueuedPlanGroups(r,k.ReleasesHub,n,t)})},t.prototype.getQueuedPlanGroup=function(n){var t=this,i=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return t._httpClient.getQueuedPlanGroup(i,k.ReleasesHub,n)})},t.prototype.getPlanGroupsQueueMetrics=function(){var n=this,t=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return n._httpClient.getPlanGroupsQueueMetrics(t,k.ReleasesHub)})},t.prototype.beginGetAttachmentContent=function(n,t){var r=this;return u.isEmptyGuid(n)||!t?i.resolve(u.empty):this._scriptLoadPromise.then(function(){var i=l.getDefaultWebContext().project.id;return r._httpClient.getAttachmentContent(i,k.ReleasesHub,n,t.timelineId,t.recordId,t.type,t.name).then(function(n){try{return d.FileEncoding.getStringFromArrayBuffer(n)}catch(t){return"Error Message: "+t}})})},t.prototype.beginGetTimelines=function(n,t){var i=this,r=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return i._httpClient.getTimelines(r,n,t)})},t.prototype.beginGetTimelineRecords=function(n,t,i){var r=this,u=l.getDefaultWebContext().project.id;return this._scriptLoadPromise.then(function(){return r._httpClient.getRecords(u,n,t,i)})},t}(c.VssService);t.DistributedTaskService=ct;lt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t,u,f){var s=this,e;u===void 0&&(u=o.ServiceInstanceTypes.TFS);f===void 0&&(f=k.BuildsHub);n.prototype.initializeConnection.call(this,t);this._hubName=f;e=i.defer();this._scriptLoadPromise=e.promise;r.using(["TFS/DistributedTask/TaskRestClient"],function(n){var i=h.ContextHostType.ProjectCollection;t.getHostType()!==i&&(t=new c.VssConnection(l.getDefaultWebContext(),i));s._httpClient=t.getHttpClient(n.TaskHttpClient,u);e.resolve(!0)})},t.prototype.getQueuedPlanGroups=function(n,t){var i=this;return this._scriptLoadPromise.then(function(){return i._httpClient.getQueuedPlanGroups(null,i._hubName,n,t)})},t}(c.VssService);t.TaskHttpClientService=lt;at=function(){function n(n){this._releaseManagementService=n}return n.prototype.getArtifactTypes=function(){return n._getArtifactTypesPromise||(n._getArtifactTypesPromise=!t.initialServiceData||!t.initialServiceData.artifactTypesCache?this._releaseManagementService.beginGetArtifactTypes():i.resolve(t.initialServiceData.artifactTypesCache)),n._getArtifactTypesPromise},n.prototype.queryInputValues=function(n){return this._releaseManagementService.beginPostInputValuesQuery(n)},n}();t.ArtifactTypesService=at;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=t.getHttpClient(a.GraphHttpClient,o.ServiceInstanceTypes.SPS)},t.prototype.beginCreateGroup=function(n){return this._httpClient.createGroup({originId:n})},t.prototype.beginCreateUser=function(n){return this._httpClient.createUser({originId:n})},t.prototype.beginGetStorageKey=function(n){return this._httpClient.getStorageKey(n)},t}(c.VssService);t.GraphService=vt;r.tfsModuleLoaded("TFS.ReleaseManagement.WebApiServices",t)});

define("PipelineWorkflow/Scripts/Editor/Service/VstsAadAuthorizerServiceClient",["require","exports","TFS/DistributedTask/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices","VSS/Service","VSS/Context"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(){}return n.getKey=function(){return"SERVICE_CLIENT_KEY_VSTS_AAD_AUTHORIZER_SERVICE_CLIENT"},n.prototype.initialize=function(){var n=f.getDefaultWebContext(),t=new u.VssConnection(n);this._service=t.getService(r.VstsAadAuthorizerService)},n.prototype.authorize=function(n,t,r){return r===void 0&&(r=i.AadLoginPromptOption.FreshLogin),this._service.authorize(n,t,r)},n}();t.VstsAadAuthorizerServiceClient=e});

define("PipelineWorkflow/Scripts/Editor/Sources/AadAuthorizerSource",["require","exports","DistributedTaskControls/Common/Service/ServiceClientManager","q","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Editor/Service/VstsAadAuthorizerServiceClient","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","TFS/DistributedTask/Contracts","VSS/Context","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,[]);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._authorizerClient=i.ServiceClientManager.GetServiceClient(e.VstsAadAuthorizerServiceClient),t}return __extends(t,n),t.getKey=function(){return"AadAuthorizerSource"},t.instance=function(){return f.SourceManager.getSource(t)},t.prototype.authorize=function(n){var t=h.getDefaultWebContext(),u=t.collection.uri,f=t.project.id,e=""+u+f+"/_admin/_services/completecallback",l=n?n.tenantId:c.empty,i=s.AadLoginPromptOption.FreshLogin;return o.FeatureFlagUtils.isDistributedTaskRevalidateIdentityFeatureEnabled()&&(i=s.AadLoginPromptOption.FreshLoginWithMfa),this._authorizerClient.authorize(l,e,i).then(function(t){return n.vstsAccessTokenKey=t,r.resolve(n)})},t}(u.SourceBase);t.AadAuthorizerSource=l});

define("DistributedTaskControls/Phase/Types",["require","exports"],function(n,t){function i(n){return n.reduce(function(n,t){return n[t]=t,n},Object.create(null))}var r,u,f,e,o,s,h,c;Object.defineProperty(t,"__esModule",{value:!0});t.DeployPhaseTypes=i(["Undefined","AgentBasedDeployment","RunOnServer","MachineGroupBasedDeployment","DefaultPhase"]),function(n){n[n.None=0]="None";n[n.MultiConfiguration=1]="MultiConfiguration";n[n.MultiMachine=2]="MultiMachine"}(r=t.ParallelExecutionTypes||(t.ParallelExecutionTypes={})),function(n){n.DeploymentTargetsKey="DeploymentTargets";n.DependenciesKey="Dependencies";n.AdditionalOptionsKey="AdditionalOptions";n.AgentSelectionKey="AgentSelection";n.ExecutionPlanKey="ExecutionPlan";n.NameDeferredValidationTime=500;n.NameMaxLength=256;n.MinJobCancelTimeout=1;n.MaxJobCancelTimeout=60}(u=t.DeployPhaseSectionConstants||(t.DeployPhaseSectionConstants={})),function(n){n.MinValidAgentsCount=1;n.MaxValidAgentsCount=99;n.MinTimeout=0;n.ServerPhaseDefaultAgentCount=50}(f=t.ExecutionPlanConstants||(t.ExecutionPlanConstants={})),function(n){n.HealthPercentMaxValue=100;n.HealthPercentMinValue=0;n.MinimumNumberOfHealthyTargets=1;n.HealthyTargetSliderStep=1;n.MachineGroupHubId="ms.vss-releaseManagement-web.hub-machinegroup"}(e=t.RunOnMachineGroupPhaseConstants||(t.RunOnMachineGroupPhaseConstants={})),function(n){n.None="None";n.MultiConfiguration="MultiConfiguration";n.MultiMachine="MultiMachine"}(o=t.ParallelExecutionTypeKeys||(t.ParallelExecutionTypeKeys={})),function(n){n.Succeeded="succeeded()";n.SucceededOrFailed="succeededOrFailed()";n.Failed="failed()";n.Custom=""}(s=t.PhaseConditionTypeKeys||(t.PhaseConditionTypeKeys={})),function(n){n.AllTargetsInParallel="AllTargetsInParallel";n.HalfOfTargetsInParallel="HalfOfTargetsInParallel";n.QuarterOfTargetsInParallel="QuarterOfTargetsInParallel";n.OneTargetAtATime="OneTargetAtATime";n.Custom="Custom"}(h=t.DeploymentHealthOptionConstants||(t.DeploymentHealthOptionConstants={})),function(n){n.Completed="Completed"}(c=t.PhaseDependencyEventTypes||(t.PhaseDependencyEventTypes={}))});

define("DistributedTaskControls/Components/Canvas/Types",["require","exports"],function(n,t){function r(n){return n*i.depthScaleMultiplier+i.depthScaleOffset}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.verticalDisplacement=30,n.depthScaleMultiplier=4,n.depthScaleOffset=2,n.minOffset=5,n.svgRightMargin=20,n.svgBottomMargin=20,n.verticalDisplacementOffsetIncrementForCrossStageEdges=5,n.horizontalDisplacementOffsetIncrementForCrossStageEdges=10,n.negativeNodeRank=-1,n.graphLeftMargin=80,n.edgeQuadraticBezierScaleDownFactor=2.5,n}();t.Constants=i;t.depthScaleModifier=r});

define("DistributedTaskControls/Components/Canvas/GraphLayoutHelper",["require","exports","DistributedTaskControls/Components/Canvas/Types","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Utils/String","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function n(){}return n.validateNodesAndEdges=function(n,t){var f=this._createNodeKeyToNodeMap(n),i=s.empty,r,u;for(r in t)if(t.hasOwnProperty(r)){if(!f[r]&&(i=r,i))break;for(u in t[r])if(t[r].hasOwnProperty(u)&&!f[u]&&(i=u,i))break}if(i)throw new Error(s.format("Graph does not have node corresponding to edge end {0}. Please ensure that node and edge inputs to graph is proper",i));},n.createStagingOrderAndDependencies=function(n,t){var i=this._createAndInitializeNodesForLayout(n),r=this._createNodeKeyToNodeMap(i),u=this._extractDependencies(i,t,r),f=this._getStagingOrder(i,u,r),e=f.stagingOrder,o=f.layoutError;return{stagingOrder:e,dependencies:u,layoutError:o}},n.splitGraph=function(n,t){for(var v,o,s,r,h,y,p,i=this._createNodeKeyToNodeMap(n),c=this._extractDependencies(n,t,i),u=this.getDisjointTreeFromEdges(c),w=this._createNodeToGraphIndexMap(u),f=[],l=!1,e=0,a=u;e<a.length;e++)if(v=a[e],o=this._getMinRankNodeKeyInFirstStage(v,c,i),o)f.push(o);else{l=!0;break}if(l)return[{nodes:n,edges:t}];for(this._sortNodes(f,i),s=[],r=0,h=f;r<h.length;r++)y=h[r],p=w[y],s.push(this._createGraph(u[p],i,t));return s},n.getDependencies=function(n,t){var i=this._createNodeKeyToNodeMap(n);return this._extractDependencies(n,t,i)},n.getIncomingEdgeLayouts=function(t,i){for(var e,a,r,o,s,h,u=0,c=[],v={x:0,y:t.nodeHeight/2},y=n.resolveGraphLeftMargin(t.leftMargin),f=0,l=i;f<l.length;f++){for(e=l[f],a=e.getPositionOfIncomingNodes(),r=0,o=a;r<o.length;r++)s=o[r],h={x:s.x+y,y:s.y+u},c.push({from:v,to:h,fromDepth:0,key:h.y.toString()});u=u+e.getGraphSize().height}return c},n._getMinRankNodeKeyInFirstStage=function(n,t,i){var r=Infinity,u;return n.forEach(function(n){if(!t[n]||t[n].length===0){var f=i[n],e=f.nodeRankHint;e<r&&(r=e,u=f.key)}}),u},n._createGraph=function(n,t,i){return{nodes:n.map(function(n){return t[n]}),edges:this._filterEdges(n,i)}},n._sortNodes=function(n,t){n.sort(function(n,i){var r=t[n],u=t[i];return r.nodeRankHint-u.nodeRankHint})},n._createNodeToGraphIndexMap=function(n){var t={};return n.forEach(function(n,i){n.forEach(function(n){return t[n]=i})}),t},n._filterEdges=function(n,t){var r={},f={},i,u;n.forEach(function(n){return f[n]=!0});for(i in t)if(t.hasOwnProperty(i))for(u in t[i])t[i].hasOwnProperty(u)&&(f[i]||i===s.empty)&&f[u]&&(r[i]||(r[i]={}),r[i][u]=!0);return r},n.isFromNodeNotParentButAncestorOfToNode=function(n,t,i,r){var e=this,u=[],f=i[t];return f&&f.length>0&&f.forEach(function(t){t!==n&&(u=u.concat(e._getAncestors(t,i,r)),u=h.uniqueSort(u))}),u.filter(function(t){return t===n}).length>0},n.getNodeDataForLayout=function(n,t,i,r){for(var c,f,e,u,l=this._getMaxRowsInStagingOrder(n),s=[],h=0,o=0;o<l;o++){for(c=n.length,f=0,e=0;e<c;e++)u=n[e][o],u&&((!u.nodeHeightHint||u.nodeHeightHint<0)&&(u.nodeHeightHint=t.nodeHeight),u.topLeftPosition={x:e*(t.nodeWidth+t.horizontalMargin)+i,y:o*t.verticalMargin+h},u.midPoints=this._getNodeMidPoints(u.topLeftPosition,t.nodeHeight,t.nodeWidth),s.push(u),r.x=Math.max(r.x,u.topLeftPosition.x+t.nodeWidth),r.y=Math.max(r.y,u.topLeftPosition.y+u.nodeHeightHint),u.nodeHeightHint>f&&(f=u.nodeHeightHint));f||(f=t.nodeHeight);h+=f}return s},n._getMaxRowsInStagingOrder=function(n){for(var r,t=0,i=0,u=n;i<u.length;i++)r=u[i],r.length>t&&(t=r.length);return t},n.getEdgeDataForLayout=function(t,i,r,f,e,o){var y=this,l,a;o===void 0&&(o={});var p=t.length,s=[],v=[],h={},c=u.JQueryWrapper.extendDeep({},r),w=function(n){var r=t[n],u=t[n+1],i=0;r.forEach(function(n){h[n.key]=n;u.forEach(function(t){if(h[t.key]=t,c[n.key]&&c[n.key][t.key]){var f=n.midPoints.right,o=t.midPoints.left,r=y._shouldHighlightEdge(n.key,t.key,e),u={from:f,to:o,key:n.key+"."+t.key,fromDepth:i,highlightEdge:r};r?v.push(u):s.push(u);c[n.key][t.key]=!1}});i++})};for(l=0;l<p-1;l++)w(l);return s.push.apply(s,v),a=t[0],a&&a.forEach(function(n){return h[n.key]=n}),this._populateCrossStageEdges(s,c,h,i,f,o,e),n.resolveGraphLeftMargin(f.leftMargin)&&this._populateInputEdgesOfGraph(s,c,h,f),s},n.getDisjointTreeFromEdges=function(n){var t=this._getAdjacencyList(n),r={},u=[],i,f;if(t)for(i in t)t.hasOwnProperty(i)&&!r[i]&&(f=this._breadthFirstTraversal(i,t,r),u.push(f));return u},n.resolveGraphLeftMargin=function(n){return n===undefined||n===null?i.Constants.graphLeftMargin:n},n._getAdjacencyList=function(n){var i=u.JQueryWrapper.extendDeep({},n),t={},r,f;if(i){r=function(n){if(i.hasOwnProperty(n)){var r=i[n];t[n]?r.forEach(function(i){t[n].push(i)}):t[n]=r;r.forEach(function(i){t[i]?t[i].push(n):t[i]=[n]})}};for(f in i)r(f)}return t},n._breadthFirstTraversal=function(n,t,i){var u=[],r=[],f;for(r.push(n),i[n]=!0;r.length>0;)n=r.shift(),u.push(n),f=t[n],f.forEach(function(n){i[n]||(r.push(n),i[n]=!0)});return u},n._populateCrossStageEdges=function(t,i,r,u,f,e,o){var c,s,a,h;for(s in i)if(s&&i.hasOwnProperty(s)){a=i[s];for(h in a)if(a.hasOwnProperty(h)&&a[h]){if(!n.isFromNodeNotParentButAncestorOfToNode(s,h,u,e)&&r[s]&&r[h]){c||(c=this._getDisplacementOffsetMap(r));var l=r[s].midPoints.right,v=r[h].midPoints.left,y=0;this._doesAnyNodeExistInPath(l,v,r)&&(y=f.verticalMargin/2+f.nodeHeight/2+c[s].y);var w=Math.max(l.x+f.horizontalMargin-c[s].x,l.x),p={x:w,y:l.y+y},b=Math.min(v.x-f.horizontalMargin+c[s].x,v.x),k={x:b,y:p.y},d=this._shouldHighlightEdge(s,h,o),g=this._getCrossStageEdges(s+"."+h,d,l,p,k,v);g.forEach(function(n){t.push(n)})}i[s][h]=!1}}},n._shouldHighlightEdge=function(n,t,i){return i&&(s.equals(n,i,!0)||s.equals(t,i,!0))},n._populateInputEdgesOfGraph=function(n,t,i,r){var f=t[s.empty],e,u;if(f){e=r.nodeHeight/2;for(u in f)if(f.hasOwnProperty(u)){var o=i[u],h={x:0,y:e},c={x:o.midPoints.left.x,y:o.midPoints.left.y};n.push({from:h,to:c,key:"entry."+u,fromDepth:0})}}},n._doesAnyNodeExistInPath=function(n,t,i){function f(t){return t.midPoints.left.y===n.y}function e(t){return t.midPoints.left.x>n.x}function o(n){return n.midPoints.left.x<t.x}var u=this._getNodeListFromNodeKeyToNodeNameMap(i),r=u.filter(function(n){return f(n)&&e(n)&&o(n)});return r&&r.length>0},n._getDisplacementOffsetMap=function(n){var f=this._getNodeListFromNodeKeyToNodeNameMap(n);f.sort(function(n,t){return n.topLeftPosition.x-t.topLeftPosition.x});var t={},r=0,u=-1;return f.forEach(function(n){n.topLeftPosition.x!==u&&(r+=i.Constants.verticalDisplacementOffsetIncrementForCrossStageEdges,u=n.topLeftPosition.x);t[n.key]||(t[n.key]={x:0,y:0});t[n.key].y=r}),r=0,u=-1,f.sort(function(n,t){return n.topLeftPosition.y-t.topLeftPosition.y}),f.forEach(function(n){n.topLeftPosition.y!==u&&(r+=i.Constants.horizontalDisplacementOffsetIncrementForCrossStageEdges,u=n.topLeftPosition.y);t[n.key].x=r}),t},n._getNodeListFromNodeKeyToNodeNameMap=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t},n._getCrossStageEdges=function(n,t){for(var f,i,e,r=[],u=2;u<arguments.length;u++)r[u-2]=arguments[u];for(f=[],i=0,e=r.length;i<e-1;i++)f.push({from:r[i],to:r[i+1],key:n+"-part"+(i+1).toString(),isCrossStage:!0,fromDepth:0,highlightEdge:t});return f},n._getNodeMidPoints=function(n,t,i){var r={};return r.left={x:n.x,y:n.y+t/2},r.right={x:n.x+i,y:n.y+t/2},r},n._getAncestors=function(n,t,i){var e=this,u=[],f=t[n];return o.FeatureAvailabilityService.isFeatureEnabled(r.FeatureFlag_CanvasGraphPerformanceImprovement,!1)&&i[n]?i[n]:(f&&f.length>0&&f.forEach(function(n){u=u.concat(n,e._getAncestors(n,t,i));u=h.uniqueSort(u)}),i[n]=u,u)},n._getStagingOrder=function(n,t){for(var o=this,i=[],f={},r=0,u,e;;){if(n.forEach(function(n){if(!f[n.key]){var u=o._areAllDependenciesStaged(n.key,t,f);u&&(i[r]||(i[r]=[]),i[r].push(n))}}),i[r])i[r].forEach(function(n){f[n.key]=!0}),r++;else break;if(r>this.c_maxIterationCount)throw new Error(s.format("Could not layout graph in {0} iterations. There is a bug in the layout logic",this.c_maxIterationCount));}return u=this._getNodesThatAreNotStaged(n,f),e=s.empty,u&&u.length>0&&(e=this._getCyclicDependencyError(u),i[0]||(i[0]=[]),u.forEach(function(n){i[0].push(n)})),this._sortNodesInStages(i),{stagingOrder:i,layoutError:e}},n._getNodesThatAreNotStaged=function(n,t){return n.filter(function(n){return!t[n.key]})},n._getCyclicDependencyError=function(n){if(n.length>0){var t=n.map(function(n){return n.friendlyName||n.key});return s.localeFormat(f.CyclicDependencyErrorMessage,t.join(f.CyclicDependencyErrorMessageNodeSeparator))}return s.empty},n._sortNodesInStages=function(n){for(var t=n.length-1;t>=0;t--)n[t].sort(function(n,t){return n.nodeRank-t.nodeRank})},n._areAllDependenciesStaged=function(n,t,i){var r=!0;return t[n]&&t[n].forEach(function(n){if(!i[n]){r=!1;return}}),r},n._createAndInitializeNodesForLayout=function(n){return n.map(function(n){var t=u.JQueryWrapper.extendDeep({},n);return n.nodeRankHint!==undefined?t.nodeRank=n.nodeRankHint:(e.logError("Node should have a rank hint"),t.nodeRank=0),t})},n._createNodeKeyToNodeMap=function(n){var t={};return n.forEach(function(n){t[n.key]=n}),t},n._extractDependencies=function(n,t){var i={};return n.forEach(function(r){i[r.key]||(i[r.key]=[]);n.forEach(function(n){t[r.key]&&t[r.key][n.key]&&(i[n.key]||(i[n.key]=[]),i[n.key].push(r.key))})}),i},n.c_maxIterationCount=1e4,n}();t.GraphLayoutHelper=c});

define("PipelineWorkflow/Scripts/Common/NavigationStateUtils",["require","exports","VSS/Utils/String","VSS/Navigation/Services"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.geSourceId=function(){return this._getIntValueFromState(this.c_sourceIdKey)},n.getDefinitionId=function(){return this._getIntValueFromState(this.c_definitionIdKey)},n.getPath=function(){return this._getStringValueFromState(this.c_pathKey)},n.getEnvironmentId=function(){return this._getIntValueFromState(this.c_environmentIdKey)},n.getExtensionId=function(){return this._getStringValueFromState(this.c_extensionIdKey)},n.getBuildDefinitionId=function(){return this._getIntValueFromState(this.c_buildDefinitionIdKey)},n.getDeploymentGroupPhaseId=function(){return this._getIntValueFromState(this.c_deploymentGroupPhaseIdKey)},n.getBuildDefinitionName=function(){return this._getStringValueFromState(this.c_buildDefinitionNameKey)},n.getProjectId=function(){return this._getStringValueFromState(this.c_projectIdKey)},n.getProjectName=function(){return this._getStringValueFromState(this.c_projectNameKey)},n.getReleaseId=function(){return this._getIntValueFromState(this.c_releaseId)},n.getTemplateId=function(){return this._getStringValueFromState(this.c_templateIdKey)},n.canCustomizeCanvas=function(){return i.equals(this._getStringValueFromState(this.c_customizeCanvas),"True",!0)},n.splitGraph=function(){return!i.equals(this._getStringValueFromState(this.c_splitGraph),"False",!0)},n.canZoomCanvas=function(){return i.equals(this._getStringValueFromState(this.c_zoomCanvas),"True",!0)},n.showEnvironmentRank=function(){return i.equals(this._getStringValueFromState(this.c_showEnvironmentRank),"True",!0)},n.getRequestSource=function(){return this._getStringValueFromState(this.c_source)},n.getAgentName=function(){return this._getStringValueFromState(this.c_agentName)},n.getJobStates=function(){return this._getStringValueFromState(this.c_jobStates)},n.getGateSampleRank=function(){return this._getIntValueFromState(this.c_gateSampleRank)},n.getGateName=function(){return this._getStringValueFromState(this.c_gateName)},n.selectGatesItemInLogsView=function(){return i.equals(this._getStringValueFromState(this.c_selectGatesItemInLogsView),"True",!0)},n.isPreDeploymentGatesSelected=function(){return i.equals(this._getStringValueFromState(this.c_isPreDeploymentGatesSelected),"True",!0)},n.getJobTimelineRecordIdToSelect=function(){return this._getStringValueFromState(this.c_jobTimelineRecordIdToSelect)},n.getAction=function(){var n=r.getHistoryService().getCurrentState();return n&&n.action?n.action:i.empty},n.selectFirstErrorFromAllPhases=function(){return i.equals(this._getStringValueFromState(this.c_selectFirstErrorFromAllPhases),"True",!0)},n._getIntValueFromState=function(n){var t=r.getHistoryService().getCurrentState(),i=0;return t&&t[n]&&(i=parseInt(t[n],10)),i},n._getStringValueFromState=function(n){var t=r.getHistoryService().getCurrentState();return t[n]},n.getTaskIndexToSelect=function(){var n=r.getHistoryService().getCurrentState(),t;return n&&n[this.c_taskIndexToSelect]&&(t=parseInt(n[this.c_taskIndexToSelect],10)),t},n.c_projectIdKey="projectId",n.c_buildDefinitionIdKey="buildDefinitionId",n.c_deploymentGroupPhaseIdKey="deploymentGroupPhaseId",n.c_buildDefinitionNameKey="buildDefinitionName",n.c_projectNameKey="projectName",n.c_definitionIdKey="definitionId",n.c_pathKey="path",n.c_sourceIdKey="sourceId",n.c_environmentIdKey="environmentId",n.c_extensionIdKey="extensionId",n.c_templateIdKey="templateId",n.c_customizeCanvas="customizeCanvas",n.c_splitGraph="splitGraph",n.c_zoomCanvas="zoomCanvas",n.c_showEnvironmentRank="showEnvironmentRank",n.c_releaseId="releaseId",n.c_source="source",n.c_mergeUpdatedRelease="mergeRelease",n.c_selectFirstErrorFromAllPhases="selectFirstError",n.c_agentName="agentName",n.c_taskIndexToSelect="selectTaskWithIndex",n.c_jobStates="jobStates",n.c_gateSampleRank="gateSampleRank",n.c_gateName="gateName",n.c_selectGatesItemInLogsView="selectGatesItemInLogsView",n.c_isPreDeploymentGatesSelected="isPreDeploymentGatesSelected",n.c_jobTimelineRecordIdToSelect="jobTimelineRecordIdToSelect",n}();t.NavigationStateUtils=u});

define("PipelineWorkflow/Scripts/Editor/Common/Types",["require","exports","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Constants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.PipelineDefinitionRequestCreationSource_Type=r.ReleaseDefinitionCreationSource;t.PipelineDefinitionSource=i.ReleaseDefinitionSource;t.PipelineTriggerType=i.ReleaseTriggerType;t.PipelineEnvironmentTriggerConditionType=i.ConditionType;t.PipelineEnvironmentTriggerTypeConstants=r.EnvironmentDeploymentConditionsTriggerTypeConstants;t.PipelineEnvironmentTriggerConditionEnvironmentStatus=i.EnvironmentStatus;t.PipelineConstants=r.ReleaseDefinitionConstants;t.PipelineArtifactConstants=r.ArtifactDefaultVersionConstants;t.PipelineArtifactTypes=r.ArtifactTypes;t.PipelineArtifactDefinitionConstants=u.ArtifactDefinitionConstants;t.PipelineStringConstants=r.StringConstants;t.PipelineRunOptionsConstants=u.RunOptionsConstants;t.PipelineReleaseEditorActions=r.ReleaseEditorAction;t.PipelineDefinitionDesignerActions=r.DefinitionDesignerActions;t.PipelineExtensionAreas=r.ExtensionArea;t.PipelineDeployPhaseTypes=i.DeployPhaseTypes;t.ReleaseDefinitionQueryOrder=i.ReleaseDefinitionQueryOrder;t.ReleaseDefinitionExpands=i.ReleaseDefinitionExpands;t.PipelineDefinitionContractMetadata=i.TypeInfo.ReleaseDefinition;t.PipelinePullRequestTriggerContractMetadata=i.TypeInfo.PullRequestTrigger;t.PipelineAuthorizationHeaderType=i.AuthorizationHeaderFor;t.DeploymentGatesPhaseTypeString="DeploymentGates";var f;(function(n){n[n.None=0]="None";n[n.TextBox=10]="TextBox";n[n.PasswordBox=20]="PasswordBox";n[n.Combo=30]="Combo";n[n.RadioButtons=40]="RadioButtons";n[n.CheckBox=50]="CheckBox";n[n.TextArea=60]="TextArea";n[n.PickList=70]="PickList";n[n.Tags=80]="Tags"})(f=t.InputMode||(t.InputMode={}))});

define("DistributedTaskControls/Phase/Actions/DeployPhaseActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.DeployPhaseActions},t.prototype.initialize=function(){this._updateEnableAccessToken=new i.Action;this._updatePhaseName=new i.Action;this._updateSkipArtifactsDownload=new i.Action;this._updatePhaseCondition=new i.Action;this._updateTimeout=new i.Action;this._updateJobCancelTimeout=new i.Action;this._updateTypeOfParallelism=new i.Action;this._updateMaximumNumberOfAgents=new i.Action;this._updateContinueOnError=new i.Action;this._updateMultipliers=new i.Action;this._updateDeploymentMachineGroup=new i.Action;this._updateDeploymentHealthOption=new i.Action;this._updateHealthPercent=new i.Action;this._updateTags=new i.Action;this._updatePhase=new i.Action;this._updateExecutionPlan=new i.Action;this._markPhaseAsDeleting=new i.Action},Object.defineProperty(t.prototype,"updateEnableAccessToken",{get:function(){return this._updateEnableAccessToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updatePhaseName",{get:function(){return this._updatePhaseName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateSkipArtifactsDownload",{get:function(){return this._updateSkipArtifactsDownload},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updatePhaseCondition",{get:function(){return this._updatePhaseCondition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateTimeout",{get:function(){return this._updateTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateJobCancelTimeout",{get:function(){return this._updateJobCancelTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateTypeOfParallelism",{get:function(){return this._updateTypeOfParallelism},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateMaximumNumberOfAgents",{get:function(){return this._updateMaximumNumberOfAgents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContinueOnError",{get:function(){return this._updateContinueOnError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateMultipliers",{get:function(){return this._updateMultipliers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDeploymentMachineGroup",{get:function(){return this._updateDeploymentMachineGroup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDeploymentHealthOption",{get:function(){return this._updateDeploymentHealthOption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateHealthPercent",{get:function(){return this._updateHealthPercent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateTags",{get:function(){return this._updateTags},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updatePhase",{get:function(){return this._updatePhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateExecutionPlan",{get:function(){return this._updateExecutionPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markPhaseAsDeleting",{get:function(){return this._markPhaseAsDeleting},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.DeployPhaseActionsHub=u});

define("DistributedTaskControls/Phase/Actions/DeployPhaseListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.DeployPhaseListActions},t.prototype.initialize=function(){this._addPhase=new i.Action;this._deletePhase=new i.Action;this._updatePhases=new i.Action;this._shiftPhase=new i.Action;this._insertPhase=new i.Action;this._startDragPhase=new i.Action;this._endDragPhase=new i.Action;this._completePhaseAddition=new i.Action},Object.defineProperty(t.prototype,"addPhase",{get:function(){return this._addPhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deletePhase",{get:function(){return this._deletePhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updatePhases",{get:function(){return this._updatePhases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftPhase",{get:function(){return this._shiftPhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insertPhase",{get:function(){return this._insertPhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDragPhase",{get:function(){return this._startDragPhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDragPhase",{get:function(){return this._endDragPhase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completePhaseAddition",{get:function(){return this._completePhaseAddition},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.DeployPhaseListActionsHub=u});

define("DistributedTaskControls/Actions/ItemSelectorActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.CNTRL_KEY="ctrl-key";t.SHIFT_KEY="shift-key";var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._selectItem=new u.Action;this._deselectItem=new u.Action;this._multiSelectItem=new u.Action;this._updateSelection=new u.Action;this._updateKeyDownState=new u.Action;this._clearSelection=new u.Action;this._updateItem=new u.Action;this._updateItemList=new u.Action;this._setFocusOnLastSelectedItem=new u.Action},t.getKey=function(){return r.ActionsKeys.ItemSelectorActions},Object.defineProperty(t.prototype,"selectItem",{get:function(){return this._selectItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deselectItem",{get:function(){return this._deselectItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiSelectItem",{get:function(){return this._multiSelectItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateSelection",{get:function(){return this._updateSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateKeyDownState",{get:function(){return this._updateKeyDownState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateItem",{get:function(){return this._updateItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateItemList",{get:function(){return this._updateItemList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearSelection",{get:function(){return this._clearSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocusOnLastSelectedItem",{get:function(){return this._setFocusOnLastSelectedItem},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.Actions=f});

define("DistributedTaskControls/Actions/TaskListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._addTask=new u.Action;this._removeTask=new u.Action;this._updateTasks=new u.Action;this._shiftTask=new u.Action;this._cloneTasks=new u.Action;this._metaTaskCreated=new u.Action;this._clearAddTaskLocation=new u.Action;this._insertTask=new u.Action;this._completeTaskAddition=new u.Action},t.getKey=function(){return r.ActionsKeys.TaskListActions},Object.defineProperty(t.prototype,"addTask",{get:function(){return this._addTask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeTask",{get:function(){return this._removeTask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateTasks",{get:function(){return this._updateTasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftTask",{get:function(){return this._shiftTask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearAddTaskLocation",{get:function(){return this._clearAddTaskLocation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneTasks",{get:function(){return this._cloneTasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metaTaskCreated",{get:function(){return this._metaTaskCreated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insertTask",{get:function(){return this._insertTask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completeTaskAddition",{get:function(){return this._completeTaskAddition},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.TaskListActions=f});

define("DistributedTaskControls/Stores/ItemSelectionStore",["require","exports","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","VSS/Diag","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleSelectItem=function(n){n.data&&e.logInfo("[ItemSelectionStore._handleSelectItem]: Selecting a new item. ItemKey - "+n.data.getKey());i._singleSelectItem(n);i.emitChanged()},i._updateSelection=function(n){i._state.previouslySelectedItems=[];i._state.previouslySelectedItems.push.apply(i._state.previouslySelectedItems,i._state.selectedItems);i._state.selectedItems=[];n&&n.length>0?i._state.selectedItems.push.apply(i._state.selectedItems,n):i._defaultSelection&&i._defaultSelection.length>0&&i._state.selectedItems.push(i._defaultSelection[0]);i.emitChanged()},i._handleDeselectItem=function(n){i.isItemInSelectedGroup(n.data)?(e.logInfo("[ItemSelectionStore._handleDeselectItem]: Deselecting an item. ItemKey - "+n.data.getKey()),i._state.previouslySelectedItems.push(n),i._state.selectedItems=i._state.selectedItems.filter(function(t){return t.data.getKey()!==n.data.getKey()}),i.emitChanged()):e.logWarning("[ItemSelectionStore._handleDeselectItem]: Atempt to deselect and item which is not part of selected item group. ItemKey - "+n.data.getKey())},i._handleMultiSelectItem=function(n){var e,t,r,f;i._isFirstSelectedItemMultiSelectable(n)?i._items.length>0&&i._multiSelectKeysState[u.SHIFT_KEY]?(e=[],t=[],i._state.previouslySelectedItems=[],r=o.findIndex(i._items,function(t){return t.getKey()===n.data.getKey()}),f=o.findIndex(i._items,function(n){return n.getKey()===i._state.selectedItems[0].data.getKey()}),f>r?(t=i._items.slice(r,f+1),t.reverse()):t=i._items.slice(f,r+1),t.map(function(n){e.push({data:n,canParticipateInMultiSelect:!0})}),i._updateSelection(e)):i.isItemInSelectedGroup(n.data)?i._handleDeselectItem(n):i._state.selectedItems.push(n):i._singleSelectItem(n);i.emitChanged()},i._updateKeyDownState=function(n){i._multiSelectKeysState[n.key]=n.state},i._updateItemList=function(n){i._items=n},i._updateItem=function(n){var t=i._updateSelectedItems(i._state.selectedItems,n),r=i._updateItems(i._items,n);(t||r)&&i.emitChanged()},i._clearSelection=function(){i._state.selectedItems=[];i._state.previouslySelectedItems=[];i.emitChanged()},i._setFocusOnLastSelectedItem=function(n){i._state.setFocusOnLastSelectedItem=n},i._items=[],i._multiSelectKeysState={},i._state={},i._multiSelectKeysState[u.CNTRL_KEY]=!1,i._multiSelectKeysState[u.SHIFT_KEY]=!1,i._defaultSelection=t.defaultSelection||[],i._state={selectedItems:i._defaultSelection,previouslySelectedItems:[],setFocusOnLastSelectedItem:t.setFocusOnLastSelectedItem},i}return __extends(t,n),t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(i.Actions,n);this._actions.selectItem.addListener(this._handleSelectItem);this._actions.deselectItem.addListener(this._handleDeselectItem);this._actions.updateSelection.addListener(this._updateSelection);this._actions.multiSelectItem.addListener(this._handleMultiSelectItem);this._actions.updateKeyDownState.addListener(this._updateKeyDownState);this._actions.updateItem.addListener(this._updateItem);this._actions.updateItemList.addListener(this._updateItemList);this._actions.clearSelection.addListener(this._clearSelection);this._actions.setFocusOnLastSelectedItem.addListener(this._setFocusOnLastSelectedItem)},t.prototype.disposeInternal=function(){this._actions.selectItem.removeListener(this._handleSelectItem);this._actions.deselectItem.removeListener(this._handleDeselectItem);this._actions.updateSelection.removeListener(this._updateSelection);this._actions.multiSelectItem.removeListener(this._handleMultiSelectItem);this._actions.updateKeyDownState.removeListener(this._updateKeyDownState);this._actions.updateItem.removeListener(this._updateItem);this._actions.updateItemList.removeListener(this._updateItemList);this._actions.clearSelection.removeListener(this._clearSelection);this._actions.setFocusOnLastSelectedItem.removeListener(this._setFocusOnLastSelectedItem)},t.getKey=function(){return"Common.ItemSelectionStore"},t.prototype.getState=function(){return this._state},t.prototype.getSelectedItem=function(){return this._getLastItem(this.getState().selectedItems)},t.prototype.getPreviouslySelectedItem=function(){return this._getLastItem(this.getState().previouslySelectedItems)},t.prototype.isItemInSelectedGroup=function(n){return n?!!this._state.selectedItems&&this._state.selectedItems.length>0&&this._state.selectedItems.some(function(t){return!!t.data&&t.data.getKey()===n.getKey()}):!1},t.prototype.isItemInPreviouslySelectedGroup=function(n){return n?!!this._state.previouslySelectedItems&&this._state.previouslySelectedItems.length>0&&this._state.previouslySelectedItems.some(function(t){return!!t.data&&t.data.getKey()===n.getKey()}):!1},t.prototype.getKeyDownState=function(n){return this._multiSelectKeysState[n]},t.prototype.shouldClearSelection=function(){return this._state.selectedItems&&this._state.selectedItems.length===0&&this._state.previouslySelectedItems&&this._state.previouslySelectedItems.length===0},t.prototype._getLastItem=function(n){return!n||n.length===0?null:n[0].data},t.prototype._isFirstSelectedItemMultiSelectable=function(n){return this._state.selectedItems&&this._state.selectedItems[0]&&!!this._state.selectedItems[0].canParticipateInMultiSelect&&!!n.canParticipateInMultiSelect},t.prototype._singleSelectItem=function(n){if(!n.data){this._state.selectedItems=[];return}this._state.selectedItems&&this._state.selectedItems.length===1&&this._state.selectedItems[0].data.getKey()===n.data.getKey()||(this._state.previouslySelectedItems=[],this._state.previouslySelectedItems.push.apply(this._state.previouslySelectedItems,this._state.selectedItems),this._state.selectedItems=[],this._state.selectedItems.push(n))},t.prototype._updateItems=function(n,t){var i=-1,r=n.filter(function(n,r){var u=n.getKey()===t.getKey();return u&&(i=r),u});return i>-1?(n[i]=t,!0):!1},t.prototype._updateSelectedItems=function(n,t){var i=-1,r=n.filter(function(n,r){var u=n.data&&n.data.getKey()===t.getKey();return u&&(i=r),u});return i>-1?(n[i]={data:t},!0):!1},t}(f.StoreBase);t.Store=s});

define("DistributedTaskControls/Components/SelectableBase",["require","exports","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Stores/ItemSelectionStore","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/StoreManager"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onchange=function(){var n=t.getItem(),i=t._itemSelectionStore.isItemInSelectedGroup(n);i||t._itemSelectionStore.isItemInPreviouslySelectedGroup(n)?(t._trySetFocus=!0,t.setState({isSelected:i})):t._itemSelectionStore.shouldClearSelection()&&t.setState({isSelected:!1})},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._itemSelectionStore=e.StoreManager.GetStore(r.Store,this.props.instanceId);this._itemSelectorActions=f.ActionsHubManager.GetActionsHub(u.Actions,this.props.instanceId);this.setState({isSelected:this._itemSelectionStore.isItemInSelectedGroup(this.getItem())})},t.prototype.componentDidMount=function(){this._itemSelectionStore.addChangedListener(this._onchange);this._focusLastSelectedItem()},t.prototype.componentWillUnmount=function(){this._itemSelectionStore.removeChangedListener(this._onchange)},t.prototype.componentDidUpdate=function(){this._trySetFocus&&(this._focusLastSelectedItem(),this._trySetFocus=!1)},t.prototype.getItemSelectionStore=function(){return this._itemSelectionStore},t.prototype.getItemSelectorActions=function(){return this._itemSelectorActions},t.prototype._focusLastSelectedItem=function(){if(this._itemSelectionStore.getState().setFocusOnLastSelectedItem){var n=this._itemSelectionStore.getState().selectedItems;n&&n.length!==0&&(!n[n.length-1].data||n[n.length-1].data.getKey()!==this.getItem().getKey()||this._setFocus())}},t.prototype._setFocus=function(){var n=this;document.activeElement!==this.getElement()&&!!this.getElement()&&this.state.isSelected&&(this.getElement().setAttribute("tabindex","-1"),setTimeout(function(){!n.getElement()||n.getElement().focus()},10))},t}(i.Component);t.SelectableBase=o});

define("DistributedTaskControls/Components/Selectable",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/SelectableBase","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Check","OfficeFabric/ContextualMenu","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Selectable"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._selectableItemKeyUpHandler=function(n){switch(n.keyCode){case s.KeyCode.SPACE:t._onMultiSelect()}},t._onMouseDown=function(n){t._validateAndFixKeyboardCache(n.ctrlKey,n.shiftKey);n.ctrlKey&&t._onMultiSelect()},t._onGripperMouseDown=function(){t._handleFocus()},t._handleFocus=function(){t.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY)?t._onMultiSelect():t.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY)||t.state.isSelected||t.getItemSelectorActions().selectItem.invoke({data:t.props.item,canParticipateInMultiSelect:t.props.canParticipateInMultiSelect||!1})},t._onContextMenu=function(n){!n||(n.persist(),n.preventDefault(),t._contextMenuItems=!t.props.getContextMenuItems?[]:t.props.getContextMenuItems(),t._contextMenuItems.length>0&&t.setState({isContextMenuVisible:!0,contextMenuTarget:n}))},t._onContextMenuDismiss=function(){t.setState({isContextMenuVisible:!1})},t._onMultiSelect=function(){t.getItemSelectionStore().getState().selectedItems.length===1&&t.getItemSelectionStore().getState().selectedItems[0].data.getKey()===t.props.item.getKey()||t.getItemSelectorActions().multiSelectItem.invoke({data:t.props.item,canParticipateInMultiSelect:t.props.canParticipateInMultiSelect||!1})},t._keyDownHandler=function(n){switch(n.keyCode){case s.KeyCode.CONTROL:t.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY)||t.getItemSelectorActions().updateKeyDownState.invoke({key:r.CNTRL_KEY,state:n.ctrlKey});break;case s.KeyCode.SHIFT:t.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY)||t.getItemSelectorActions().updateKeyDownState.invoke({key:r.SHIFT_KEY,state:n.shiftKey})}},t._keyUpHandler=function(n){t._validateAndFixKeyboardCache(n.ctrlKey,n.shiftKey);switch(n.keyCode){case s.KeyCode.CONTROL:t.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY)&&t._updateKeyDownState(r.CNTRL_KEY,n.ctrlKey);break;case s.KeyCode.SHIFT:t.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY)&&t._updateKeyDownState(r.SHIFT_KEY,n.shiftKey)}},t._contextMenuItems=[],t}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);$(window).on("keydown",this._keyDownHandler);$(window).on("keyup",this._keyUpHandler)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);$(window).off("keydown",this._keyDownHandler);$(window).off("keyup",this._keyUpHandler)},t.prototype.render=function(){var r=this,t="two-panel-selector-selectable",n;return this.state.isSelected&&(t+=" selected"),n={},this.props.ariaProps&&(this.props.ariaProps.labelledBy&&(n["aria-labelledby"]=this.props.ariaProps.labelledBy),this.props.ariaProps.level&&(n["aria-level"]=this.props.ariaProps.level),this.props.ariaProps.expanded&&(n["aria-expanded"]=this.props.ariaProps.expanded),this.props.ariaProps.setSize&&(n["aria-setsize"]=this.props.ariaProps.setSize),this.props.ariaProps.positionInSet&&(n["aria-posinset"]=this.props.ariaProps.positionInSet),this.props.ariaProps.describedBy&&(n["aria-describedby"]=this.props.ariaProps.describedBy)),n["aria-selected"]=this.state.isSelected,i.createElement("div",{className:t},i.createElement("div",__assign({ref:function(n){return r._element=n},className:"selectable-item-section left",onMouseDown:this._onMouseDown,onFocus:this._handleFocus,onClick:this._handleFocus,onKeyUp:this._selectableItemKeyUpHandler,onContextMenu:this._onContextMenu,role:this.props.ariaProps?this.props.ariaProps.role:null,"data-is-focusable":!0},n),this.props.children,!!this.state.isContextMenuVisible&&this._contextMenuItems.length>0&&i.createElement(o.ContextualMenu,{className:"two-panel-selectable-item-context-menu",target:this.state.contextMenuTarget,items:this._contextMenuItems,onDismiss:this._onContextMenuDismiss,ariaLabel:f.ContextMenuText,isBeakVisible:!0,directionalHint:5})),i.createElement("div",{className:"controls-section right",onContextMenu:function(n){n.persist();n.preventDefault()}},this.props.controlSection,this.props.canParticipateInMultiSelect&&i.createElement("div",{className:"multi-select-check-box left",title:f.SelectTitle,onClick:this._onMultiSelect},i.createElement(e.Check,{checked:this.state.isSelected})),this.props.isDraggable&&i.createElement("i",{className:"bowtie-icon bowtie-resize-grip overview-gripper-icon right",onMouseDown:this._onGripperMouseDown})))},t.prototype.getItem=function(){return this.props.item},t.prototype.getElement=function(){return this._element},t.prototype._updateKeyDownState=function(n,t){this.getItemSelectorActions().updateKeyDownState.invoke({key:n,state:t})},t.prototype._validateAndFixKeyboardCache=function(n,t){var i=this.getItemSelectionStore().getKeyDownState(r.SHIFT_KEY),u=this.getItemSelectionStore().getKeyDownState(r.CNTRL_KEY);n!==u&&this._updateKeyDownState(r.CNTRL_KEY,n);t!==i&&this._updateKeyDownState(r.SHIFT_KEY,t)},t}(u.SelectableBase);t.Selectable=h});

define("DistributedTaskControls/Components/TwoPanelOverviewComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/Selectable","DistributedTaskControls/Components/TooltipIfOverflow","DistributedTaskControls/SharedControls/InputControls/Utilities","DistributedTaskControls/Stores/ItemSelectionStore","OfficeFabric/Image","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/TwoPanelOverview"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleSelectionChange=function(){t._itemSelectionStore.isItemInSelectedGroup(t.props.item)?t.setState({isSelected:!0}):t._itemSelectionStore.isItemInPreviouslySelectedGroup(t.props.item)&&t.setState({isSelected:!1})},t._windowResizeHandler=function(){t._adjustOverviewWidth()},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._overviewNameId=o.InputControlUtils.getId("TwoPanel");this._overviewAriaDescriptionContainerId=o.InputControlUtils.getId("TwoPanelOverviewAriaDescriptionContainer");this._itemSelectionStore=u.StoreManager.GetStore(s.Store,this.props.instanceId)},t.prototype.componentDidMount=function(){this._itemSelectionStore.addChangedListener(this._handleSelectionChange);$(window).on("resize",this._windowResizeHandler);this._adjustOverviewWidth()},t.prototype.componentWillUnmount=function(){this._itemSelectionStore.removeChangedListener(this._handleSelectionChange);$(window).off("resize",this._windowResizeHandler)},t.prototype.render=function(){var u=this,s="",t,n,r;s=(this.props.src?"overview-icon-png":"overview-icon-svg")+(" "+this.props.iconClassName+" left");var v=!this.props.iconClassName?null:i.createElement(h.Image,{className:s,src:this.props.src,imageFit:h.ImageFit.contain,alt:c.empty}),y="overview-body "+this.props.overviewClassName+" left",a="overview-description ms-font-s";return a+=" "+(this.state.isSelected?"ms-fontColor-neutralSecondary":"ms-fontColor-neutralTertiary"),t="two-panel-overview"+(!this.props.cssClass?"":" "+this.props.cssClass),l.BrowserCheckUtils.isIE()&&(t+=" ie-browser-bugfix-695231"),n=this.props.ariaProps||{},n.role=n.role||"tab",n.describedBy=n.describedBy||this._overviewAriaDescriptionContainerId,r=o.InputControlUtils.getId("two-panel-overview-describedby"),i.createElement(f.Selectable,{item:this.props.item,instanceId:this.props.instanceId,canParticipateInMultiSelect:this.props.canParticipateInMultiSelect,isDraggable:this.props.isDraggable,controlSection:this.props.controlSection,getContextMenuItems:this.props.getContextMenuItems,ariaProps:n},i.createElement("div",{ref:function(n){return u._overviewElement=n},className:t},v,i.createElement("div",{ref:function(n){return u._overviewBody=n},className:y},i.createElement(e.TooltipIfOverflow,{tooltip:this.props.title,targetElementClassName:"overview-title"},i.createElement("div",{className:"overview-title",id:this._overviewNameId,"aria-describedby":r},this.props.title),i.createElement("div",{className:"hidden",id:r},this.props.ariaDescription)),i.createElement("div",{className:a},this.props.view),i.createElement("div",{className:"hidden",id:this._overviewAriaDescriptionContainerId},this.props.overviewDescription))))},t.prototype._adjustOverviewWidth=function(){var n=$(this._overviewElement).width()*80/100;this.props&&this.props.isDraggable&&(!this.props.isDraggable||(n-=40),!this.props.canParticipateInMultiSelect||(n-=40));$(this._overviewBody).width(n)},t}(r.Component);t.TwoPanelOverviewComponent=a});

define("DistributedTaskControls/Actions/TaskExtensionItemListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateExtensionItemList=new u.Action;this._filterExtensionItemList=new u.Action},t.getKey=function(){return r.ActionsKeys.ExtensionItemListActions},Object.defineProperty(t.prototype,"updateExtensionItemList",{get:function(){return this._updateExtensionItemList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterExtensionItemList",{get:function(){return this._filterExtensionItemList},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.TaskExtensionItemListActions=f});

define("VSS/Contributions/RestClient",["require","exports","VSS/Contributions/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function tt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&g[window.VSS.VssSDKRestVersion]?r.getClient(g[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(c,undefined,undefined,undefined,n)}var o,s,e,f,h,c,l,a,v,y,p,w,b,k,d,nt,g;Object.defineProperty(t,"__esModule",{value:!0});o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getInstalledExtensions=function(n,t,r){var u={contributionIds:n&&n.join(";"),includeDisabledApps:t,assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"Contribution",locationId:"2648442b-fd63-4b9a-902f-0c913510f139",resource:"InstalledApps",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,queryParams:u,apiVersion:this.installedAppsApiVersion})},t}(u.VssHttpClient);t.CommonMethods2To5_1=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getInstalledExtensionByName=function(n,t,r){var u={assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"Contribution",locationId:"3e2f6668-0798-4dcb-b592-bfe2fa57fde2",resource:"InstalledApps",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedAppsApiVersion_3e2f6668})},t}(o);t.CommonMethods2_1To5_1=s;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryDataProviders=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Contribution",locationId:"738368db-35ee-4b85-9f94-77ed34af2b0d",resource:"dataProvidersQuery",routeTemplate:"_apis/{area}/dataProviders/query/{scopeName}/{scopeValue}",routeValues:{scopeName:t,scopeValue:i},apiVersion:this.dataProvidersQueryApiVersion,data:n})},t}(s);t.CommonMethods2_2To5_1=e;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryContributionNodes=function(n){return this._beginRequest({httpMethod:"POST",area:"Contribution",locationId:"db7f2146-2309-4cee-b39c-c767777a1c55",resource:"ContributionNodeQuery",routeTemplate:"_apis/{area}/nodes/query",requestType:i.TypeInfo.ContributionNodeQuery,apiVersion:this.contributionNodeQueryApiVersion,data:n})},t}(e);t.CommonMethods3_1To5_1=f;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="5.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient5_1=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="5.0-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient5=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="4.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient4_1=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="4.0-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient4=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.2-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient3_2=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.contributionNodeQueryApiVersion=r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.1-preview.1",r}return __extends(t,n),t}(f);t.ContributionsHttpClient3_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="3.0-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient3=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.3-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient2_3=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataProvidersQueryApiVersion=r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.2-preview.1",r}return __extends(t,n),t}(e);t.ContributionsHttpClient2_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.installedAppsApiVersion=r.installedAppsApiVersion_3e2f6668="2.1-preview.1",r}return __extends(t,n),t}(s);t.ContributionsHttpClient2_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.installedAppsApiVersion="2.0-preview.1",r}return __extends(t,n),t}(o);t.ContributionsHttpClient2=d;nt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(h);t.ContributionsHttpClient=nt;g={"5.1":h,"5.0":c,"4.1":l,"4.0":a,"3.2":v,"3.1":y,"3.0":p,"2.3":w,"2.2":b,"2.1":k,"2.0":d};t.getClient=tt});

define("DistributedTaskControls/Common/MarketplaceLinkHelper",["require","exports","q","DistributedTaskControls/Common/Common","VSS/Context","VSS/Diag","VSS/Service","VSS/Contributions/RestClient"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function n(){}return n.getMarketplaceLink=function(){var t=i.defer(),n=r.HelpLinks.DefaultMarketplaceLink+"&utm_source=vstsproduct&utm_medium=TaskGallery";return u.getPageContext().webAccessConfiguration.isHosted?t.resolve(n):this.beginGetMarketPlaceData().then(function(i){i?n=n+"&serverKey="+encodeURIComponent(i.serverKey):f.logError("Marketplace data provider is returning null on onprem");t.resolve(n)},function(){t.resolve(n)}),t.promise},n.beginGetMarketPlaceData=function(){var u=this,n=i.defer(),t,r;return this._dataPromise||(t=e.VssConnection.getConnection().getHttpClient(o.ContributionsHttpClient),r={context:{properties:{}},contributionIds:["ms.vss-tfs.marketplace-data-provider"]},t.queryDataProviders(r).then(function(t){var i=t.data["ms.vss-tfs.marketplace-data-provider"];i?n.resolve({serverKey:i.serverKey,marketplaceUrl:i.marketplaceUrl}):n.resolve(null)},function(t){n.reject(t);u._dataPromise=null}),this._dataPromise=n.promise),this._dataPromise},n}();t.MarketplaceLinkHelper=s});

define("DistributedTaskControls/Sources/ExtensionDefinitionSource",["require","exports","q","DistributedTaskControls/Common/MarketplaceLinkHelper","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","VSS/Common/Contracts/Platform","VSS/Context","VSS/Diag","VSS/Gallery/Contracts","VSS/Locations","VSS/Service","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._category="Build and release",t}return __extends(t,n),t.getKey=function(){return"ExtensionDefinitionSource"},t.prototype.getExtensionsList=function(n){var t=this,r=i.defer();return(n||!this._extensionsPromise)&&(this.getMarketplaceData().then(function(n){if(n){var i=t.getExtensions(n.marketplaceUrl,t._category);i.then(function(n){r.resolve(n)},function(n){r.reject(n);t._extensionsPromise=null})}else s.logError("Unexpected Error: Marketplace data provider is returning null.")},function(n){r.reject(n);t._extensionsPromise=null;s.logError(n)}),this._extensionsPromise=r.promise),this._extensionsPromise},t.prototype.getInstalledExtensionsList=function(n){var u=this,t=i.defer(),r;return(n||!this._installedExtensionsPromise)&&(r=this.getInstalledExtensions(),r.then(function(n){t.resolve(n)},function(n){t.reject(n);u._installedExtensionsPromise=null}),this._installedExtensionsPromise=t.promise),this._installedExtensionsPromise},t.prototype.getRequestedExtensionsList=function(n){var u=this,t=i.defer(),r;return(n||!this._requestedExtensionsPromise)&&(r=this.getRequestedExtensions(),r.then(function(n){t.resolve(n)},function(n){t.reject(n);u._requestedExtensionsPromise=null}),this._requestedExtensionsPromise=t.promise),this._requestedExtensionsPromise},t.prototype.getMarketplaceData=function(){var n=i.defer();return o.getPageContext().webAccessConfiguration.isHosted?this._getGalleryLocation().then(function(t){n.resolve({marketplaceUrl:t,serverKey:null})},function(t){n.reject(t)}):this._beginGetMarketPlaceData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise},t.instance=function(){return f.SourceManager.getSource(t)},t.prototype._getGalleryLocation=function(){var t=this,n=i.defer();return this._galleryLocationPromise||(a.using(["VSS/Gallery/RestClient"],function(i){var r=i.GalleryHttpClient.serviceInstanceId;c.beginGetServiceLocation(r,e.ContextHostType.Deployment).then(function(t){n.resolve(t)},function(){t._beginGetMarketPlaceData().then(function(t){t?n.resolve(t.marketplaceUrl):s.logError("Unexpected Error: Marketplace data provider is returning null.")},function(i){n.reject(i);t._galleryLocationPromise=null})})},function(i){n.reject(i);t._galleryLocationPromise=null}),this._galleryLocationPromise=n.promise),this._galleryLocationPromise},t.prototype._beginGetMarketPlaceData=function(){var n=i.defer();return r.MarketplaceLinkHelper.beginGetMarketPlaceData().then(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise},t.prototype.getExtensions=function(n,t){var r=i.defer(),u={filters:[],assetTypes:["Microsoft.VisualStudio.Services.Icons.Small"],flags:h.ExtensionQueryFlags.IncludeCategoryAndTags|h.ExtensionQueryFlags.IncludeFiles|h.ExtensionQueryFlags.IncludeInstallationTargets|h.ExtensionQueryFlags.IncludeLatestVersionOnly|h.ExtensionQueryFlags.IncludeStatistics|h.ExtensionQueryFlags.ExcludeNonValidated};return u.filters.push({criteria:[{filterType:h.ExtensionQueryFilterType.Category,value:t},{filterType:h.ExtensionQueryFilterType.InstallationTarget,value:"Microsoft.VisualStudio.Services.Cloud"},{filterType:h.ExtensionQueryFilterType.ExcludeWithFlags,value:this._getExtensionFlagValue()},],sortBy:h.SortByType.InstallCount,sortOrder:h.SortOrderType.Descending}),this._queryExtensions(n,u).then(function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype._queryExtensions=function(n,t){var r=i.defer();return a.requireModules(["VSS/Gallery/RestClient"]).spread(function(i){var u=new i.GalleryHttpClient3_1(n);u.forceOptionsCallForAutoNegotiate=!1;u.queryExtensions(t).then(function(n){r.resolve(n.results[0].extensions)},function(n){r.reject(n)})}),r.promise},t.prototype.getInstalledExtensions=function(){var n=i.defer();return this._getExtensionManagementClient().then(function(t){t.getInstalledExtensions().then(function(t){n.resolve(t)},function(t){n.reject(t)})},function(t){n.reject(t)}),n.promise},t.prototype.getRequestedExtensions=function(){var n=i.defer();return this._getExtensionManagementClient().then(function(t){t.getRequests().then(function(t){n.resolve(t)},function(t){n.reject(t)})},function(t){n.reject(t)}),n.promise},t.prototype._getExtensionManagementClient=function(){var n=i.defer();return this._extensionManagementClientPromise||(a.requireModules(["VSS/ExtensionManagement/RestClient"]).spread(function(t){n.resolve(l.getClient(t.ExtensionManagementHttpClient))},function(t){n.reject(t)}),this._extensionManagementClientPromise=n.promise),this._extensionManagementClientPromise},t.prototype._getExtensionFlagValue=function(){return(h.PublishedExtensionFlags.BuiltIn|h.PublishedExtensionFlags.System|h.PublishedExtensionFlags.Unpublished).toString()},t}(u.SourceBase);t.ExtensionDefinitionSource=v});

define("DistributedTaskControls/Common/ExtensionUtils",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Sources/ExtensionDefinitionSource","VSS/Context","VSS/FeatureAvailability/Services","VSS/Gallery/Contracts","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function n(){}return n.mapExtensionDefinitionToIExtensionDefinitionItem=function(n,t,i,u){return{id:n.extensionId,friendlyName:n.displayName,name:n.extensionName,iconUrl:this._getExtensionIconUrl(n.versions[0].files),description:n.shortDescription,author:n.publisher.displayName,extensionStatusText:this._getExtensionStatusText(n,t,i,this._getCurrentUserId()),extensionUrl:this._getExtensionUrl(n,u),definitionType:r.TaskItemType.Extension,installCount:this._getExtensionInstallCount(n),tags:n.tags||[]}},n.prefetchExtensions=function(){f.ExtensionDefinitionSource.instance().getExtensionsList();f.ExtensionDefinitionSource.instance().getInstalledExtensionsList();f.ExtensionDefinitionSource.instance().getRequestedExtensionsList()},n.createExtensionIdentifier=function(n,t){return n+"."+t},n._getExtensionInstallCount=function(n){var i=h.first(n.statistics,function(n){return c.ignoreCaseComparer(n.statisticName,r.ExtensionStatisticName.Install)===0}),u=h.first(n.statistics,function(n){return c.ignoreCaseComparer(n.statisticName,r.ExtensionStatisticName.OnpremDownloads)===0}),t=0;return i&&(t+=i.value),u&&(t+=u.value),t},n._getExtensionIconUrl=function(n){var t=h.first(n,function(n){return c.ignoreCaseComparer(n.assetType,"Microsoft.VisualStudio.Services.Icons.Small")===0});return t?t.source:c.empty},n._getExtensionStatusText=function(n,t,i,r){return this._isExtensionInstalled(n,t)?u.InstalledText:this._isExtensionRequested(n,i,r)?u.RequestedText:this.isFirstPartyPaid(n)||this.isThirdPartyPaid(n)?u.GetText:u.GetItFreeText},n._isExtensionInstalled=function(n,t){return n?h.contains(t,this.createExtensionIdentifier(n.publisher.publisherName,n.extensionName),this._extensionIdentityComparer):!1},n._isExtensionRequested=function(n,t,i){for(var f,r,e,s,h=this.createExtensionIdentifier(n.publisher.publisherName,n.extensionName),u=0,o=t;u<o.length;u++)if(f=o[u],c.ignoreCaseComparer(f.id,h)===0)for(r=0,e=f.requestedBy;r<e.length;r++)if(s=e[r],c.equals(i,s.id))return!0;return!1},n._getCurrentUserId=function(){return e.getDefaultWebContext().user.id},n._getExtensionUrl=function(n,t){var u,r,f;return n&&t?(u=t.marketplaceUrl,c.endsWith(u,"/")&&(u=u.slice(0,u.length-1)),r=c.format(this._marketplaceExtensionItemUrlFormat,u,n.publisher.publisherName,n.extensionName),e.getPageContext().webAccessConfiguration.isHosted?(r=c.format(this._marketplaceExtensionItemUrlFormatWithTargetId,r,e.getDefaultWebContext().host.id),o.FeatureAvailabilityService.isFeatureEnabled(i.FeatureFlag_EnableIdentityNavigation,!1)&&(f=e.getDefaultWebContext().host.uri,c.endsWith(f,"/")&&(f=f.slice(0,f.length-1)),r=c.format(this._marketplaceRedirectUrlFormat,f,encodeURIComponent(r))),r):t.serverKey?c.format(this._marketplaceExtensionItemUrlFormatWithSeverKey,r,t.serverKey):r):c.empty},n.isFirstPartyPaid=function(n){return n.publisher.displayName===this._microsoftText&&!this.isPreview(n)&&this.isPaidExtension(n)},n.isThirdPartyPaid=function(n){return n.publisher.displayName!==this._microsoftText&&this.isPaidExtension(n)},n.isPaidExtension=function(n){if((n.flags&s.PublishedExtensionFlags.Paid)!=0)return!0;var t=!1;return n&&n.tags&&h.arrayContains(this._paidTag,n.tags,function(n,t){return c.ignoreCaseComparer(n,t)===0})&&(t=!0),t},n.isPreview=function(n){var t=!1;return t=h.arrayContains(this._previewTag,n.tags,function(n,t){return c.ignoreCaseComparer(n,t)===0}),t||(n.flags&s.PublishedExtensionFlags.Preview)!=0},n._extensionIdentityComparer=function(n,t){return c.ignoreCaseComparer(n,t)},n.extensionsIdentifierText="_extensions",n._marketplaceExtensionItemUrlFormat="{0}/items?itemName={1}.{2}",n._marketplaceExtensionItemUrlFormatWithSeverKey="{0}&serverKey={1}",n._marketplaceExtensionItemUrlFormatWithTargetId="{0}&targetId={1}",n._marketplaceRedirectUrlFormat="{0}/_redirect?target={1}",n._paidTag="$IsPaid",n._previewTag="$preview",n._microsoftText="Microsoft",n}();t.ExtensionUtils=l});

define("DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.LoadableComponentActions},t.prototype.initialize=function(){this._showLoadingExperience=new i.Action;this._hideLoadingExperience=new i.Action},Object.defineProperty(t.prototype,"showLoadingExperience",{get:function(){return this._showLoadingExperience},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideLoadingExperience",{get:function(){return this._hideLoadingExperience},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.LoadableComponentActionsHub=u});

define("DistributedTaskControls/Actions/TaskExtensionItemListActionsCreator",["require","exports","q","DistributedTaskControls/Actions/TaskExtensionItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/ExtensionUtils","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub","DistributedTaskControls/Sources/ExtensionDefinitionSource","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.ActionCreatorKeys.ExtensionActionsCreator},t.prototype.initialize=function(n){this._instanceId=n.concat(o.ExtensionUtils.extensionsIdentifierText);this._installedExtensionsIdentifierArray=[];this._requestedExtensionsData=[];this._actions=u.ActionsHubManager.GetActionsHub(r.TaskExtensionItemListActions);this._loadableComponentActionsHub=u.ActionsHubManager.GetActionsHub(h.LoadableComponentActionsHub,this._instanceId)},t.prototype.getExtensions=function(n){var t=this,r,u;return n===void 0&&(n=!1),r=c.ExtensionDefinitionSource.instance(),this._loadableComponentActionsHub.showLoadingExperience.invoke({}),u=Date.now(),i.all([r.getMarketplaceData(),r.getExtensionsList(n)]).spread(function(i,r){t._clearFilter(n);t.updateExtensions(n,i,r,u)},function(){t._clearFilter(n);t._actions.updateExtensionItemList.invoke({isExtensionFetched:!1});t._loadableComponentActionsHub.hideLoadingExperience.invoke({});t._publishMarketplaceExtensionFailedTelemetry()})},t.prototype.filterExtensionItemList=function(n){this._actions.filterExtensionItemList.invoke(n)},t.prototype.updateExtensions=function(n,t,r,u){var f=this,e=c.ExtensionDefinitionSource.instance(),s=e.getInstalledExtensionsList(n),h=e.getRequestedExtensionsList(n);return i.allSettled([s,h]).then(function(n){var i,e;n[0].state==="fulfilled"?(i=n[0].value,f._installedExtensionsIdentifierArray=i.map(function(n){return o.ExtensionUtils.createExtensionIdentifier(n.publisherId,n.extensionId)})):f._publishEMSExtensionFailedTelemetry("Installed");n[1].state==="fulfilled"?(e=n[1].value,f._requestedExtensionsData=e.map(function(n){return f._getRequestedExtensionData(n)})):f._publishEMSExtensionFailedTelemetry("Requested");f._extensionItems=r.map(function(n){return o.ExtensionUtils.mapExtensionDefinitionToIExtensionDefinitionItem(n,f._installedExtensionsIdentifierArray,f._requestedExtensionsData,t)});f._actions.updateExtensionItemList.invoke({extensionItems:f._extensionItems,isExtensionFetched:!0});f._loadableComponentActionsHub.hideLoadingExperience.invoke({});f._publishMarketplaceExtensionResolvedTelemetry(u)})},t.prototype._getRequestedExtensionData=function(n){return{id:o.ExtensionUtils.createExtensionIdentifier(n.publisherName,n.extensionName),requestedBy:this._getExtensionRequestedByArray(n.extensionRequests)}},t.prototype._getExtensionRequestedByArray=function(n){return n.map(function(n){return n.requestedBy})},t.prototype._publishMarketplaceExtensionResolvedTelemetry=function(n){s.Telemetry.instance().publishEvent(s.Feature.MarketplaceExtensionLoad,{},null,!1,n)},t.prototype._publishMarketplaceExtensionFailedTelemetry=function(){s.Telemetry.instance().publishEvent(s.Feature.MarketplaceExtensionFailed)},t.prototype._publishEMSExtensionFailedTelemetry=function(n){var t={};t[s.Properties.extensionStatus]=n;s.Telemetry.instance().publishEvent(s.Feature.EMSExtensionFailed,t)},t.prototype._clearFilter=function(n){n||this.filterExtensionItemList(l.empty)},t}(f.ActionCreatorBase);t.TaskExtensionItemListActionsCreator=a});

define("DistributedTaskControls/Actions/TaskItemListActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateTaskItemList=new u.Action;this._filterTaskItemList=new u.Action},t.getKey=function(){return r.ActionsKeys.TaskItemListActions},Object.defineProperty(t.prototype,"updateTaskItemList",{get:function(){return this._updateTaskItemList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterTaskItemList",{get:function(){return this._filterTaskItemList},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.TaskItemListActions=f});

define("DistributedTaskControls/Common/TaskItemUtilities",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.mapTaskDefinitionToITaskDefinitionItem=function(n){return{id:n.id,friendlyName:n.friendlyName,name:n.name,iconUrl:n.iconUrl,description:n.description,author:n.author,category:n.category,deprecated:n.deprecated,helpMarkDown:n.helpMarkDown,definitionType:n.definitionType,version:n.version,inputs:n.inputs}},n.tasksIdentifierText="_tasks",n}();t.TaskItemUtils=i});

define("DistributedTaskControls/Actions/TaskItemListActionsCreator",["require","exports","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Actions/TaskItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/TaskItemUtilities","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub","DistributedTaskControls/Sources/TaskDefinitionSource","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.ActionCreatorKeys.TaskActionsCreator},t.prototype.initialize=function(n){this._instanceId=n.concat(o.TaskItemUtils.tasksIdentifierText);this._actions=u.ActionsHubManager.GetActionsHub(r.TaskItemListActions);this._loadableComponentActionsHub=u.ActionsHubManager.GetActionsHub(l.LoadableComponentActionsHub,this._instanceId)},t.prototype.updateTaskItemList=function(n,t,i){var r=this,u,f;i===void 0&&(i=!1);u=Date.now();f=a.TaskDefinitionSource.instance().getTaskDefinitionList(!1,n,i);this._loadableComponentActionsHub.showLoadingExperience.invoke({});f.then(function(n){r._clearFilter(i);r._updateTasks(n,t);r._loadableComponentActionsHub.hideLoadingExperience.invoke({});r._publishTasksResolvedTelemetry(u)},function(){r._clearFilter(i);r._actions.updateTaskItemList.invoke({isTaskFetched:!1});r._loadableComponentActionsHub.hideLoadingExperience.invoke({});r._publishTasksFailedTelemetry()})},t.prototype.filterTaskItemList=function(n){this._actions.filterTaskItemList.invoke(n)},t.prototype._updateTasks=function(n,t){var r=n.filter(function(n){return h.DtcUtils.isTaskSupportedForTaskGroup(t,n.runsOn)}),u;(r||[]).forEach(function(n){if(n.definitionType===i.DefinitionType.metaTask&&n.version.isTest){var t=v.localeFormat("({0})",c.DraftText);n.friendlyName&&!v.endsWith(n.friendlyName,t,v.localeIgnoreCaseComparer)&&(n.friendlyName=v.localeFormat(c.DraftedTaskDefinitionFriendlyName,n.friendlyName,t))}});u=r.map(function(n){return o.TaskItemUtils.mapTaskDefinitionToITaskDefinitionItem(n)});this._actions.updateTaskItemList.invoke({taskItems:u,isTaskFetched:!0})},t.prototype._publishTasksResolvedTelemetry=function(n){s.Telemetry.instance().publishEvent(s.Feature.TasksLoad,{},null,!1,n)},t.prototype._publishTasksFailedTelemetry=function(){s.Telemetry.instance().publishEvent(s.Feature.TasksFailed)},t.prototype._clearFilter=function(n){n||this.filterTaskItemList(v.empty)},t}(f.ActionCreatorBase);t.TaskItemListActionsCreator=y});

define("DistributedTaskControls/Actions/ProcessParameterActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateInput=new i.Action;this._updateInputError=new i.Action;this._updateInputOptions=new i.Action;this._createProcessParameter=new i.Action;this._initializeProcessParameters=new i.Action;this._unlinkProcessParameter=new i.Action;this._updateReferenceCount=new i.Action;this._removeAllProcessParameters=new i.Action},t.getKey=function(){return u.ActionsKeys.ProcessParameterActions},Object.defineProperty(t.prototype,"updateInput",{get:function(){return this._updateInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateInputError",{get:function(){return this._updateInputError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateInputOptions",{get:function(){return this._updateInputOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"createProcessParameter",{get:function(){return this._createProcessParameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initializeProcessParameters",{get:function(){return this._initializeProcessParameters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateReferenceCount",{get:function(){return this._updateReferenceCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unlinkProcessParameter",{get:function(){return this._unlinkProcessParameter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeAllProcessParameters",{get:function(){return this._removeAllProcessParameters},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.ProcessParameterActions=f});

define("DistributedTaskControls/Actions/TaskListActionsCreator",["require","exports","q","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Actions/TaskListActions","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Sources/TaskDefinitionSource"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return o.ActionCreatorKeys.TaskListActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(u.TaskListActions,n)},t.prototype.addTask=function(n){this._actions.addTask.invoke({task:h.DtcUtils.getTaskFromTaskDefinition(n)})},t.prototype.removeTask=function(n,t,i){t===void 0&&(t=!0);this._actions.removeTask.invoke({taskItemId:n,disposeTaskItem:t});t&&i&&this._updateProcessParametersReference(i)},t.prototype._updateProcessParametersReference=function(n){var t=r.ActionsHubManager.GetActionsHub(f.ProcessParameterActions,n.processInstanceId);t.updateReferenceCount.invoke(n.processParameterReferencePayload)},t.prototype.shiftTask=function(n,t){this._actions.shiftTask.invoke({itemKey:n,shiftBy:t})},t.prototype.clearAddTaskLocation=function(){this._actions.clearAddTaskLocation.invoke(null)},t.prototype.cloneTasks=function(n,t){this._actions.cloneTasks.invoke(n);this._updateProcessParametersReference(t)},t.prototype.createMetaTask=function(n,t,r,u){var f=this;return c.TaskDefinitionSource.instance().saveMetaTaskDefinition(n,r).then(function(n){u(n.id,n.name);var r=h.DtcUtils.getTaskFromTaskDefinition(n);return f._actions.metaTaskCreated.invoke({metaTask:r,taskItemIdList:t}),f._publishCreateTaskGroupTelemetery(n),i.resolve(n)},function(n){return i.reject(n)})},t.prototype.insertTask=function(n,t,i){this._actions.insertTask.invoke(n);t&&i&&this._updateProcessParametersReference(i)},t.prototype._publishCreateTaskGroupTelemetery=function(n){var t={};t[s.Properties.TaskCategory]=n.category;n.tasks&&(t[s.Properties.SelectedTasksLength]=n.tasks.length);s.Telemetry.instance().publishEvent(s.Feature.CreateTaskGroup,t)},t.prototype.completeTaskAddition=function(){this._actions.completeTaskAddition.invoke(null)},t}(e.ActionCreatorBase);t.TaskListActionsCreator=l});

define("DistributedTaskControls/Utilities/MessageBarComponentUtils",["require","exports","VSS/Resources/VSS.Resources.Common","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.getErrorMessage=function(n){return n===0?i.NetworkConnectionUnavailable:r.empty},n}();t.MessageBarComponentUtils=u});

define("DistributedTaskControls/Components/MessageBarComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Utilities/MessageBarComponentUtils","OfficeFabric/MessageBar"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.dismissButtonAriaLabel?this.props.dismissButtonAriaLabel:this._getCloseButtonAriaLabel(this.props.messageBarType);return i.createElement(e.MessageBar,__assign({},this.props,{dismissButtonAriaLabel:n}),f.MessageBarComponentUtils.getErrorMessage(this.props.errorStatusCode)||this.props.children)},t.prototype._getCloseButtonAriaLabel=function(n){return n===e.MessageBarType.error?u.ARIALabelDismissErrorMessage:n===e.MessageBarType.warning||n===e.MessageBarType.severeWarning?u.ARIALabelDismissWarningMessage:u.CloseMessageBarButtonText},t}(r.Component);t.MessageBarComponent=o});

define("DistributedTaskControls/Components/ExternalLink",["require","exports","react","DistributedTaskControls/Components/SafeLink","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ExternalLink"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){return i.createElement("span",{className:n.className},i.createElement(r.SafeLink,{href:n.href,target:n.newTab?"_blank":"_self",onClick:n.onClick},n.text,i.createElement("span",{className:"external-link-icon bowtie-icon bowtie-navigate-external"})))},e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.className;return i.createElement(f,__assign({},this.props,{className:u.css("external-link",n)}))},t.prototype.shouldComponentUpdate=function(n){return n.text!==this.props.text||n.href!==this.props.href||n.className!==this.props.className},t}(i.Component);t.ExternalLink=e});

define("DistributedTaskControls/Components/ExtensionDefinitionItem",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/ExternalLink","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Utilities","OfficeFabric/Button","OfficeFabric/Image","OfficeFabric/FocusZone","OfficeFabric/Utilities","VSS/Utils/String","VSSUI/VssIcon","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ExtensionDefinitionItem"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._publishExtensionLearnMoreButtonClickedTelemetry=function(){var n={};n[u.Properties.TaskId]=t.props.task?t.props.task.id:a.empty;n[u.Properties.PositionInSet]=t.props.posInSet?t.props.posInSet:a.empty;n[u.Properties.SizeOfSet]=t.props.sizeOfSet?t.props.sizeOfSet:a.empty;u.Telemetry.instance().publishEvent(u.Feature.MarketplaceExtensionLearnMoreButtonClicked,n)},t._publishExtensionInstallButtonClickedTelemetry=function(){var n={};n[u.Properties.TaskId]=t.props.task?t.props.task.id:a.empty;n[u.Properties.PositionInSet]=t.props.posInSet?t.props.posInSet:a.empty;n[u.Properties.SizeOfSet]=t.props.sizeOfSet?t.props.sizeOfSet:a.empty;u.Telemetry.instance().publishEvent(u.Feature.MarketplaceExtensionInstallButtonClicked,n)},t._onSelect=function(n){var i=n.nativeEvent.target;if(t.props.onSelect&&!(i&&i.classList&&(i.classList.contains(t._installExtensionButtonClassName)||i.classList.contains(t._learnMoreButtonClassName))))t.props.onSelect(t.props.task.id)},t._installExtensionButtonClassName="dtc-extension-install-button",t._learnMoreButtonClassName="dtc-extension-learn-more-button",t}return __extends(t,n),t.prototype.componentWillMount=function(){this._extensionNameId=o.InputControlUtils.getId("ExtensionDefinition")},t.prototype.render=function(){var n=i.createElement(f.ExternalLink,{className:this._learnMoreButtonClassName,text:e.LearnMore,href:this.props.task.extensionUrl,onClick:this._publishExtensionLearnMoreButtonClickedTelemetry,newTab:!0});return i.createElement("div",{className:l.css("dtc-extension-item",{"is-selected":this.props.isSelected}),"data-is-focusable":!0,"aria-labelledby":this._extensionNameId,onFocus:this._onSelect,role:"option","aria-posinset":this.props.posInSet,"aria-setsize":this.props.sizeOfSet,"aria-selected":this.props.isSelected},i.createElement(c.FocusZone,{direction:c.FocusZoneDirection.horizontal,isCircularNavigation:!0},i.createElement("div",{className:"dtc-extension-container"},i.createElement("div",{className:"dtc-extension-details"},i.createElement(h.Image,{className:"dtc-extension-icon",src:this.props.task.iconUrl,imageFit:h.ImageFit.contain,alt:a.empty}),i.createElement("div",{className:"dtc-extension-info"},i.createElement("div",{className:"info-name",id:this._extensionNameId},this.props.task.friendlyName),i.createElement("div",{className:"info-description"},this.props.task.description))),i.createElement(s.PrimaryButton,{className:l.css(this._installExtensionButtonClassName,{"is-action-button-enabled":!this._isButtonDisabled()}),disabled:this._isButtonDisabled(),href:this.props.task.extensionUrl,target:"_blank",onClick:this._publishExtensionInstallButtonClickedTelemetry,ariaLabel:this.props.task.extensionStatusText,ariaDescription:a.localeFormat(e.GetExtensionAriaDescription,this.props.task.friendlyName)},this.props.task.extensionStatusText)),i.createElement("div",{className:"dtc-extension-footer"},i.createElement("div",{className:"dtc-extension-footer-left"},i.createElement("div",{className:"dtc-extension-author"},a.format("{0} {1}",e.ByText,this.props.task.author)),i.createElement("div",{className:"separator"}),this._getExtensionInstallCountElement()),n)))},t.prototype._getExtensionInstallCountElement=function(){return i.createElement("div",null,i.createElement(v.VssIcon,{iconName:"bowtie-install",iconType:1}),i.createElement("span",{className:"extension-install-count-text"},a.localeFormat(e.InstallCountText,this.props.task.installCount)))},t.prototype._isButtonDisabled=function(){return a.equals(this.props.task.extensionStatusText,e.InstalledText,!0)||a.equals(this.props.task.extensionStatusText,e.RequestedText,!0)},t}(r.Component);t.ExtensionDefinitionItem=y});

define("DistributedTaskControls/Components/LoadingComponent",["require","exports","react","OfficeFabric/Spinner","OfficeFabric/Overlay","OfficeFabric/Utilities","VSS/Flux/Component","VSS/Utils/Core"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.state={show:!1},t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this;this._waitHandle=o.delay(this,this.props.wait?this.props.wait:t.c_defaultWaitTime,function(){n._waitHandle=null;n.setState({show:!0})})},t.prototype.componentWillUnmount=function(){this._waitHandle&&this._waitHandle.cancel()},t.prototype.render=function(){var n=i.createElement(r.Spinner,{key:"Spinner",size:this.props.size,className:f.css("dt-loading-spinner",this.props.className),label:this.props.label,ariaLabel:this.props.ariaLabel});return this.state.show?this.props.blocking?i.createElement(u.Overlay,null,n):n:null},t.c_defaultWaitTime=100,t}(e.Component);t.LoadingComponent=s});

define("DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentActionsHub"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleShowLoadingExperience=function(){t._state.isLoading=!0;t.emitChanged()},t._handleHideLoadingExperience=function(){t._state.isLoading=!1;t.emitChanged()},t._state={isLoading:!0},t}return __extends(t,n),t.getKey=function(){return r.StoreKeys.LoadableComponentStore},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._loadableComponentActionsHub=i.ActionsHubManager.GetActionsHub(f.LoadableComponentActionsHub,t);this._loadableComponentActionsHub.showLoadingExperience.addListener(this._handleShowLoadingExperience);this._loadableComponentActionsHub.hideLoadingExperience.addListener(this._handleHideLoadingExperience)},t.prototype.getState=function(){return this._state},t.prototype.disposeInternal=function(){this._loadableComponentActionsHub.showLoadingExperience.removeListener(this._handleShowLoadingExperience);this._loadableComponentActionsHub.hideLoadingExperience.removeListener(this._handleHideLoadingExperience)},t}(u.StoreBase);t.LoadableComponentStore=e});

define("DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/LoadingComponent","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponentStore"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleStoreChange=function(){t.setState(t._store.getState())},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=u.StoreManager.GetStore(e.LoadableComponentStore,this.props.instanceId);this._store.addChangedListener(this._handleStoreChange);this.setState(this._store.getState())},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._handleStoreChange)},t.prototype.render=function(){return i.createElement("div",{className:"cd-release-progress-loading-container-class"},this.state.isLoading?this._getLoadingComponent():this.props.children)},t.prototype._getLoadingComponent=function(){return i.createElement(f.LoadingComponent,{label:this.props.label,className:this.props.className,wait:this.props.wait,ariaLabel:this.props.ariaLabel})},t}(r.Component);t.LoadableComponent=o});

define("DistributedTaskControls/Components/ExtensionItemList",["require","exports","react","DistributedTaskControls/Actions/TaskExtensionItemListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/ExtensionUtils","DistributedTaskControls/Components/MessageBarComponent","DistributedTaskControls/Components/ExtensionDefinitionItem","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent","OfficeFabric/MessageBar","OfficeFabric/List","OfficeFabric/Utilities","VSS/Utils/Array","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ExtensionItemList"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onRenderListItem=function(n,r){return i.createElement(s.ExtensionDefinitionItem,{key:n.id,task:n,posInSet:r+1,sizeOfSet:t.props.extensions.length,onSelect:t._onSelect,isSelected:t.props.onItemSelect?t.props.selectedItemId===n.id:t.state.selectedExtension===n.id})},t._onSelect=function(n){if(t.props.onItemSelect)t.props.onItemSelect(n);else t.setState({selectedExtension:n})},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._actionCreator=u.ActionCreatorManager.GetActionCreator(r.TaskExtensionItemListActionsCreator,this.props.instanceId)},t.prototype.render=function(){return i.createElement("div",{className:v.css("dtc-extension-list",this.props.className)},i.createElement(c.LoadableComponent,{instanceId:this.props.instanceId.concat(e.ExtensionUtils.extensionsIdentifierText),label:h.FetchingExtensionsText},i.createElement("div",null,!this.props.isExtensionFetched&&this._getErrorElement(),this._getExtensions())))},t.prototype._getExtensions=function(){return this.props.extensions.length>0?this._getExtensionsList():this.props.isExtensionFetched?this._getNoExtensionAvailableElement():null},t.prototype._getErrorElement=function(){return i.createElement(o.MessageBarComponent,{className:"extension-error-element",messageBarType:l.MessageBarType.error},h.ExtensionCallFailedDisplayErrorMessage)},t.prototype._getNoExtensionAvailableElement=function(){return i.createElement("div",{className:"no-extension-available"},h.NoExtensionAvailableText)},t.prototype._getExtensionsList=function(){return i.createElement(a.List,{items:y.clone(this.props.extensions),onRenderCell:this._onRenderListItem,role:"listbox"})},t}(f.Component);t.ExtensionItemList=p});

define("DistributedTaskControls/Components/NoSearchResults",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/NoSearchResults"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"no-search-results-section"},i.createElement("div",{className:"info-name"},i.createElement("i",{className:"bowtie-icon bowtie-status-info-outline no-search-results-warning-icon"}),u.NoSearchResultsFoundText,i.createElement("span",{className:"search-text"},this.props.searchText)),i.createElement("div",{className:"info-description"},u.NoSearchResultsFoundDescription))},t}(r.Component);t.NoSearchResults=f});

define("DistributedTaskControls/Common/DragDropManager",["require","exports","DistributedTaskControls/Common/Factory","DistributedTaskControls/Common/Types","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f){var e,o;Object.defineProperty(t,"__esModule",{value:!0});t.LocationLineTopClassName="location-line-top";t.LocationLineBottomClassName="location-line-bottom";t.ScrollTolerance=20,function(n){n[n.None=0]="None";n[n.Rejected=1]="Rejected";n[n.Accepted=2]="Accepted";n[n.Failed=3]="Failed"}(e=t.DropStatus||(t.DropStatus={}));o=function(n){function i(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isCustomScrollingPerformed=!1,t}return __extends(i,n),i.instance=function(){return n.getInstance.call(this,i)},i.dispose=function(){return this.instance()._dropAbove=!1,this.instance()._insertMap=null,this.instance()._removeMap=null,this.instance()._sourceData=null,this.instance()._targetData=null,n.dispose.call(this)},i.prototype.registerInsertCallback=function(n,t){this._insertMap||(this._insertMap={});this._insertMap[n.toLowerCase()]=t},i.prototype.registerRemoveCallback=function(n,t){this._removeMap||(this._removeMap={});this._removeMap[n.toLowerCase()]=t},i.prototype.unregisterInsertCallback=function(n){this._insertMap&&delete this._insertMap[n.toLowerCase()]},i.prototype.unregisterRemoveCallback=function(n){this._removeMap&&delete this._removeMap[n.toLowerCase()]},i.prototype.getSource=function(){return this._sourceData},i.prototype.setSource=function(n){this._sourceData=n},i.prototype.getTarget=function(){return this._targetData},i.prototype.setTarget=function(n,t){this._targetData=n;this._dropAbove=t},i.prototype.isCopyAction=function(){return this._isCopyAction},i.prototype.executeDragDrop=function(){if(!this._insertMap||!this._removeMap||!this._targetData||!this._sourceData){this._sourceData=null;this._targetData=null;this._dropAbove=!1;this._dropStatus=this._dropStatus===e.Accepted?e.Failed:this._dropStatus;return}var n=null;this._isCopyAction?(n={sourceItem:this._sourceData,targetItem:this._targetData,shouldInsertBefore:this._dropAbove,shouldInsertCopy:!0},this._insertMap[this._targetData.listId.toLowerCase()](n)):this._sourceData.key!==this._targetData.key&&(this._removeMap[this._sourceData.listId.toLowerCase()]&&this._removeMap[this._sourceData.listId.toLowerCase()](this._sourceData.data),this._insertMap[this._targetData.listId.toLowerCase()]&&(n={sourceItem:this._sourceData,targetItem:this._targetData,shouldInsertBefore:this._dropAbove,shouldInsertCopy:!1},this._insertMap[this._targetData.listId.toLowerCase()](n)));this._sourceData=null;this._targetData=null;this._dropAbove=!1;this._isCopyAction=!1},i.prototype.onDragStart=function(n,t,i,r){this._dropStatus=e.None;n.dataTransfer&&(n.dataTransfer.setData("text",u.empty),n.dataTransfer.effectAllowed=r?r:"copymove");this._isCopyAction=i;this.setSource(t)},i.prototype.onDragOver=function(n,t){this._allowParentScroll=!0;this._scrollIfNeeded(n);t(this.getSource(),this._isCopyAction)?(this._stop(n),this._setDropEffect(n),this._setDraggedOverRegionIndicator(n.currentTarget,this._getDraggedOverRegion(n))):this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None)},i.prototype.onDragLeave=function(n,t){t(this.getSource(),this._isCopyAction)?(this._stop(n),this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None)):this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None)},i.prototype.onDrop=function(n,t,i){if(this._allowParentScroll=!1,i(this.getSource(),this._isCopyAction||n.ctrlKey)){this._stop(n);this._isCopyAction=this._isCopyAction||n.ctrlKey;this._setDropEffect(n);var u=this._getDraggedOverRegion(n);this.setTarget(t,u===r.DraggedOverRegion.Top);this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None);this._dropStatus=e.Accepted}else this._setDraggedOverRegionIndicator(n.currentTarget,r.DraggedOverRegion.None);this._dropStatus=e.Rejected},i.prototype.onDragEnd=function(){return this.executeDragDrop(),this._dropStatus},i.prototype._stop=function(n){n.preventDefault();n.stopPropagation()},i.prototype._setDraggedOverRegionIndicator=function(n,i){switch(i){case r.DraggedOverRegion.Top:n.classList.remove(t.LocationLineBottomClassName);this._addClassToTarget(n,t.LocationLineTopClassName);break;case r.DraggedOverRegion.Bottom:n.classList.remove(t.LocationLineTopClassName);this._addClassToTarget(n,t.LocationLineBottomClassName);break;default:this._clearDragOverClasses(n)}},i.prototype._addClassToTarget=function(n,t){n.classList.contains(t)||n.classList.add(t)},i.prototype._clearDragOverClasses=function(n){n.classList.remove(t.LocationLineTopClassName);n.classList.remove(t.LocationLineBottomClassName)},i.prototype._getDraggedOverRegion=function(n){var i=r.DraggedOverRegion.Bottom,t;return!isNaN(n.clientY)&&n.currentTarget&&(t=n.currentTarget.getBoundingClientRect(),i=n.clientY-t.top>t.height/2?r.DraggedOverRegion.Bottom:r.DraggedOverRegion.Top),i},i.prototype._setDropEffect=function(n){var i=n.dataTransfer,t;if(i){t=n.ctrlKey||this._isCopyAction?"copy":"move";try{i.dropEffect=f.BrowserCheckUtils.isSafari()&&t==="copy"?"all":t}catch(r){}}},i.prototype._scrollIfNeeded=function(n){if(f.BrowserCheckUtils.isIE()&&n.currentTarget){var i=n.currentTarget.getBoundingClientRect(),r=n.currentTarget.offsetParent.getBoundingClientRect();this._allowParentScroll&&(i.top-r.top<t.ScrollTolerance?this._scroll(-1,n.currentTarget.offsetParent):r.bottom-i.bottom<t.ScrollTolerance?this._scroll(1,n.currentTarget.offsetParent):this._allowParentScroll=!1)}},i.prototype._scroll=function(n,t){var u=this,i,r;this._isCustomScrollingPerformed=!0;i=$(t);r=i.scrollTop();i.scrollTop(r+n);this._allowParentScroll&&setTimeout(function(){u._scroll(n,t)},20)},i.prototype.isCustomScrollingPerformed=function(){return this._isCustomScrollingPerformed},i}(i.Singleton);t.DragDropManager=o});

define("DistributedTaskControls/Components/ButtonCallout",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/CalloutComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","OfficeFabric/Utilities","OfficeFabric/Button","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ButtonCallout"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._toggleButtonCalloutState=function(){t.setState({isCalloutVisible:!t.state.isCalloutVisible})},t._onCalloutDismiss=function(){t.setState({isCalloutVisible:!1})},t._onCalloutFooterOnClick=function(){t.setState({isCalloutVisible:!1});t.props.calloutContent.calloutFooterOnClick&&t.props.calloutContent.calloutFooterOnClick()},t}return __extends(t,n),t.prototype.render=function(){var t=o.css("dtc-button-callout",this.props.cssClass),r=this.props.calloutContent.calloutContentAriaLabel?this.props.calloutContent.calloutContentAriaLabel:this.props.calloutContent.calloutHeader?h.format(f.InfoCalloutAriaLabel,this.props.calloutContent.calloutHeader):this.props.buttonTextAriaLabel?this.props.buttonTextAriaLabel:f.MoreInformation,n=e.JQueryWrapper.extendDeep({},this.props.calloutContent);return n.calloutContentAriaLabel=r,n.calloutFooterOnClick=this._onCalloutFooterOnClick,!!this.props.buttonText||!!this.props.iconClassName?i.createElement("div",{className:t,ref:this._resolveRef("_buttonElement")},i.createElement(s.ActionButton,__assign({className:this.props.buttonClassName},!!this.props.iconClassName&&{iconProps:{className:this.props.iconClassName}},!!this.props.buttonText&&{text:this.props.buttonText},{onClick:this._toggleButtonCalloutState,ariaLabel:this.props.buttonTextAriaLabel,ariaDescription:this.props.buttonAriaDescription,tabIndex:0})),this.state.isCalloutVisible&&i.createElement(u.CalloutComponent,{targetElement:this._buttonElement,calloutDismissDelegate:this._onCalloutDismiss,calloutContentProps:n})):null},t.prototype.isCalloutVisible=function(){return this.state.isCalloutVisible},t}(r.Component);t.ButtonCallout=c});

define("DistributedTaskControls/Components/TaskDefinitionItem",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Components/ButtonCallout","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Utilities","OfficeFabric/Button","OfficeFabric/Image","OfficeFabric/FocusZone","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/TaskDefinitionItem"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onAddTask=function(){if(t.props.onAddTask)t.props.onAddTask(t.props.task)},t._onSelect=function(n){var i=n.nativeEvent.target;if(!(i&&i.classList&&(i.classList.contains(t._addTaskButtonClassName)||i.classList.contains(t._learnMoreButtonClassName))))t.props.onSelect(t.props.task.id)},t._onDragStart=function(n){t.props.onDragTask();f.DragDropManager.instance().onDragStart(n,{listId:t.props.taskListStoreInstanceId,key:u.TASK_DEFINITION_DATA_KEY,data:t.props.task},!0)},t._onDragEnd=function(n){var i=f.DragDropManager.instance().onDragEnd(n);if(i===f.DropStatus.Accepted)t.props.onAddTaskByDragDrop(t.props.task,!0);else if(i===f.DropStatus.Rejected)t.props.onAddTaskByDragDrop(t.props.task,!1)},t._handleKeyDown=function(n){if(n){var i=n.nativeEvent.target;if(i&&i.classList&&(i.classList.contains(t._addTaskButtonClassName)||i.classList.contains(t._learnMoreButtonClassName)))n.shiftKey&&n.keyCode===y.KeyCode.TAB&&(n.currentTarget.tabIndex=-1);else if(n.keyCode===y.KeyCode.ENTER&&t.props.onAddTask)t.props.onAddTask(t.props.task)}},t._addTaskButtonClassName="dtc-task-list-item-buttons",t._learnMoreButtonClassName="dtc-task-learn-more-button",t}return __extends(t,n),t.prototype.componentWillMount=function(){this._taskNameId=s.InputControlUtils.getId("TaskDefinition")},t.prototype.render=function(){var n=this,t;return this.props.task.helpMarkDown&&(t=i.createElement("div",{className:"dtc-task-learn-more"},i.createElement(e.ButtonCallout,{iconClassName:"bowtie-icon bowtie-status-info-outline dtc-task-learn-more-info-icon",buttonClassName:this._learnMoreButtonClassName,buttonText:o.TaskLearnMoreText,calloutContent:{calloutMarkdown:this.props.task.helpMarkDown},buttonTextAriaLabel:o.TaskLearnMoreText,buttonAriaDescription:v.localeFormat(o.TaskLearnMoreDescription,this.props.task.friendlyName)}))),i.createElement("div",{className:a.css("dtc-task-item",{"is-selected":this.props.isSelected}),"data-is-focusable":!0,"aria-labelledby":this._taskNameId,onFocus:this._onSelect,role:"option","aria-posinset":this.props.posInSet,"aria-setsize":this.props.sizeOfSet,"aria-selected":this.props.isSelected,onKeyDown:function(t){n._handleKeyDown(t)}},i.createElement(l.FocusZone,{direction:l.FocusZoneDirection.horizontal,isCircularNavigation:!0},i.createElement("div",{className:"dtc-task-details"},i.createElement("div",{className:"dtc-task-draggable",draggable:!0,onDragStart:this._onDragStart,onDragEnd:this._onDragEnd,ref:function(t){return n._elementInstance=t}},i.createElement("i",{className:"bowtie-icon bowtie-resize-grip left gripper-icon"}),i.createElement(c.Image,{className:"dtc-task-icon",src:this.props.task.iconUrl,imageFit:c.ImageFit.contain,alt:v.empty}),i.createElement("div",{className:"dtc-task-info"},i.createElement("div",{className:"info-name",id:this._taskNameId},this.props.task.friendlyName),i.createElement("div",{className:"info-description"},this.props.task.description))),i.createElement(h.PrimaryButton,{className:this._addTaskButtonClassName,onClick:this._onAddTask,ariaLabel:o.AddTaskLinkText,ariaDescription:v.localeFormat(o.AddTaskDescription,this.props.task.friendlyName)},o.AddTaskLinkText)),i.createElement("div",{className:"dtc-task-footer"},i.createElement("div",{className:"dtc-task-author"},v.format("{0} {1}",o.ByText,this.props.task.author)),t)))},t}(r.Component);t.TaskDefinitionItem=p});

define("DistributedTaskControls/SharedControls/Collapsible/Collapsible",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/SafeLink","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Utilities","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/Collapsible/Collapsible"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v,y;Object.defineProperty(t,"__esModule",{value:!0});v=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.showContent=function(n){r.props.expanded===undefined&&r.setState({expanded:n})},r._toggle=function(){var n=!r.isExpanded();if(r.props.expanded===undefined&&r.setState({expanded:n}),r.props.onHeaderClick)r.props.onHeaderClick(n)},r._handleKeyPress=function(n){(n.keyCode===a.KeyCode.SPACE||n.keyCode===a.KeyCode.ENTER)&&(r._toggle(),n.preventDefault(),n.stopPropagation())},r._getDefaultSectionHeaderLabel=function(n){var t=n.label,f=n.addSectionHeaderLine,u=r.isExpanded(),e=l.format("chevron bowtie-icon bowtie-chevron-{0}-light",u?"up":"down"),s=r._getBowtieHeader(n),a=u?o.ExpandText:o.CollapseText;return i.createElement("div",{tabIndex:0,className:"collapsible-section-header",role:"button",onClick:r._toggle,onKeyDown:r._handleKeyPress,id:r._titleId,"aria-label":t,"aria-expanded":u,"aria-controls":r._contentId,"data-first-focus-element":!0},i.createElement("div",{className:c.css(r.props.headerLabelCssClass,"collapsible-section-label")},s,r.props.customLabel?r.props.customLabel:i.createElement(h.TooltipHost,{content:t,overflowMode:h.TooltipOverflowMode.Parent},t)),i.createElement("div",{className:c.css(r.props.headerChevronCssClass,e),"aria-label":a}),f&&i.createElement("div",{className:"collapsible-section-line"},i.createElement("hr",null)))},r._titleId=t.titleId?t.titleId:s.InputControlUtils.getId("Collapsible"),r._contentId=s.InputControlUtils.getId("CollapsibleContent"),r.state={expanded:!!(t.expanded!==undefined?t.expanded:t.initiallyExpanded)},r}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.expanded!==undefined&&this.setState({expanded:!!n.expanded})},t.prototype.componentDidUpdate=function(n,t){this._contentContainer&&(this.props.expanded?n&&n.expanded===this.props.expanded||f.DtcUtils.scrollElementToView(this._contentContainer,this.props.scrollBehavior):this.state&&this.state.expanded&&(t&&t.expanded===this.state.expanded||f.DtcUtils.scrollElementToView(this._contentContainer,this.props.scrollBehavior)))},t.prototype.render=function(){var r="collapsible-description-"+f.DtcUtils.getUniqueInstanceId(),u=this._getHeaderContent(),e=this._getDescriptionContent(),n=this.props,o=n.cssClass,s=n.headingLevel,h=n.addSeparator,l=n.children,t=this.isExpanded(),a=this._getDescription();return i.createElement("div",{className:c.css("dtc-collapsible",o),ref:this._resolveRef("_contentContainer")},i.createElement("div",{className:c.css(this.props.headerContainerCssClass,"title-container",t?"dtc-collapsible-expanded":"dtc-collapsible-collapsed"),role:"heading","aria-expanded":t,"aria-level":s,"aria-describedby":r},i.createElement("div",{className:"hidden",id:r},a),u,e),i.createElement("div",{id:this._contentId},t&&i.createElement("div",{className:"content-container"},l)),h&&i.createElement(y,null))},t.prototype.isExpanded=function(){var n=!1;return n=this.props.expanded===undefined?this.state?this.state.expanded:this.props.initiallyExpanded:this.props.expanded,!!n},t.prototype._getHeaderContent=function(){return this.props.onRenderHeader?this.props.onRenderHeader(this.props,this._getDefaultSectionHeaderLabel):this._getDefaultSectionHeaderLabel(this.props)},t.prototype._getDescriptionContent=function(){var n=this._getDescription(),u=this._getDescriptionInfoButton(),r=this._getDescriptionHelpLinkContent(),t;return typeof n=="string"&&r&&(n=l.localeFormat("{0} ",n)),t=null,n&&(t=i.createElement("div",{className:"description-container"},n,r,u)),t},t.prototype._getDescriptionInfoButton=function(){var n=null;return!this.props.descriptionInfoText||(n=i.createElement(u.Component,{calloutContent:s.InputControlUtils.getCalloutContentProps(this.props.descriptionInfoText),cssClass:"description-info-button",isIconFocusable:!0,iconAriaLabel:o.InfoIconAriaLabel})),n},t.prototype._getDescriptionHelpLinkContent=function(){var n=null;return this.props.helpLink&&(n=i.createElement(e.SafeLink,{className:"description-help-link",target:"_blank",href:this.props.helpLink},o.CollapsibleDescriptionLearnMore)),n},t.prototype._getDescription=function(){var t=!this.isExpanded(),n=this.props.description?this.props.description:l.empty;return t&&this.props.descriptionOnCollapse&&(n=this.props.descriptionOnCollapse),n},t.prototype._getBowtieHeader=function(n){var t=n.bowtieIconName?c.css("collapsible-section-icon","bowtie-icon",n.bowtieIconName):l.empty;return n.bowtieIconName&&i.createElement("i",{className:t})},t}(r.Component);t.Collapsible=v;y=function(){return i.createElement("div",{className:"empty-separator"})}});

define("DistributedTaskControls/Components/TaskItemList",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/TaskItemUtilities","DistributedTaskControls/Components/ExtensionItemList","DistributedTaskControls/Components/MessageBarComponent","DistributedTaskControls/Components/TaskDefinitionItem","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Collapsible/Collapsible","DistributedTaskControls/SharedControls/LoadableComponent/LoadableComponent","OfficeFabric/MessageBar","OfficeFabric/FocusZone","OfficeFabric/List","OfficeFabric/Utilities","VSS/Utils/Array","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/TaskItemList"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){Object.defineProperty(t,"__esModule",{value:!0});var b=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onRenderListItem=function(n,r){return i.createElement(o.TaskDefinitionItem,{key:n.id,task:n,posInSet:r+1,sizeOfSet:n.deprecated?t.props.deprecatedTasks.length:t.props.tasks.length,onAddTask:t.props.onAddTask,onSelect:t._onSelect,isSelected:t.state.selectedTask===n.id,taskListStoreInstanceId:t.props.taskListStoreInstanceId,onDragTask:t.props.onDragTask,onAddTaskByDragDrop:t.props.onAddTaskByDragDrop})},t._onSelect=function(n){t.setState({selectedTask:n})},t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:y.css("dtc-task-list",this.props.cssClass)},i.createElement(c.LoadableComponent,{instanceId:this.props.taskListStoreInstanceId.concat(u.TaskItemUtils.tasksIdentifierText),label:s.FetchingTasksText},i.createElement("div",null,!this.props.isTaskFetched&&this._getErrorComponent(),this._getTaskListComponent())))},t.prototype._getTaskListComponent=function(){return i.createElement(a.FocusZone,{direction:a.FocusZoneDirection.vertical,isInnerZoneKeystroke:function(n){return n.which===y.getRTLSafeKeyCode(39)}},i.createElement(v.List,{items:p.clone(this.props.tasks),onRenderCell:this._onRenderListItem,role:"listbox"}),this.props.showExtension&&i.createElement(h.Collapsible,{label:s.Task_MarketplaceCategoryText,initiallyExpanded:!0,headingLevel:2,scrollBehavior:w.Positioning.VerticalScrollBehavior.Top,addSectionHeaderLine:!0},i.createElement(f.ExtensionItemList,{instanceId:this.props.taskListStoreInstanceId,extensions:this.props.extensions,isExtensionFetched:this.props.isExtensionFetched,onItemSelect:this._onSelect,selectedItemId:this.state.selectedTask,className:"dtc-task-extension-list"})),(this.props.deprecatedTasks||[]).length>0&&i.createElement(h.Collapsible,{label:s.DeprecatedTasksText,initiallyExpanded:!1,headingLevel:2,addSeparator:!0,scrollBehavior:w.Positioning.VerticalScrollBehavior.Top,addSectionHeaderLine:!0},i.createElement(v.List,{items:p.clone(this.props.deprecatedTasks),onRenderCell:this._onRenderListItem,role:"listbox"})))},t.prototype._getErrorComponent=function(){return i.createElement(e.MessageBarComponent,{className:"task-error-element",messageBarType:l.MessageBarType.error},s.TaskCallFailedDisplayErrorMessage)},t}(r.Component);t.TaskItemList=b});

define("DistributedTaskControls/Common/FilteringUtils",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.performFilteringWithScore=function(t,r,u,f,e){var c=[],s=[],o,l,h;if(u){if(!i.equals(u,f,!0)&&(c=f&&u.length>f.length&&u.indexOf(f)>=0?t:r,!!c))for(o=u.split(n._stringSpace),s=c.map(function(n){return{item:n,score:e(n,u,!0)}}),l=function(n){o[n]!==i.empty&&(s=s.filter(function(t){return e(t.item,o[n])!==0}).map(function(t){var i=e(t.item,o[n]);return{item:t.item,score:t.score+i}}))},h=0;h<o.length;h++)l(h)}else return r;return s.sort(function(n,t){return t.score-n.score}).map(function(n){return n.item})},n.getStringMatchScore=function(n,t,r){var f,u,e;if(r===void 0&&(r=!1),f=t?t.length:0,n=n?n.toLowerCase().trim():i.empty,f<=0||!n)return 0;for(u=0,e=f;u<f;u++,e--)if(t[u]=t[u]?t[u].toLowerCase().trim():i.empty,t[u]){if(!!r&&i.equals(t[u],n,!0))return e+f;if(!r&&t[u].indexOf(n)>=0)return e}return 0},n._stringSpace=" ",n}();t.FilteringUtils=r});

define("DistributedTaskControls/Stores/TaskExtensionItemListStore",["require","exports","DistributedTaskControls/Actions/TaskExtensionItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/FilteringUtils","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Stores/Base","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateExtensionItemList=function(n){n&&(n.extensionItems&&(t._completeExtensionItemList=n.extensionItems,t._extensionItemList=t._lastFilter?f.FilteringUtils.performFilteringWithScore([],t._completeExtensionItemList,t._lastFilter,s.empty,t._getMatchScore)||[]:t._completeExtensionItemList),t._isExtensionFetched=n.isExtensionFetched,t.emitChanged())},t._handleFilterExtensionItemList=function(n){t._extensionItemList=f.FilteringUtils.performFilteringWithScore(t._extensionItemList,t._completeExtensionItemList,n,t._lastFilter,t._getMatchScore)||[];t._publishFilteredExtensionTelemetry(t._extensionItemList.length);t.emitChanged();t._lastFilter=n},t._lastFilter="",t._extensionItemList=[],t._completeExtensionItemList=[],t._isExtensionFetched=!1,t}return __extends(t,n),t.prototype.initialize=function(){this._extensionItemListActions=r.ActionsHubManager.GetActionsHub(i.TaskExtensionItemListActions);this._extensionItemListActions.updateExtensionItemList.addListener(this._handleUpdateExtensionItemList);this._extensionItemListActions.filterExtensionItemList.addListener(this._handleFilterExtensionItemList)},t.prototype.disposeInternal=function(){this._extensionItemListActions.updateExtensionItemList.removeListener(this._handleUpdateExtensionItemList);this._extensionItemListActions.filterExtensionItemList.removeListener(this._handleFilterExtensionItemList)},t.getKey=function(){return u.StoreKeys.ExtensionItemListStore},t.prototype.getExtensionItemList=function(){return this._extensionItemList},t.prototype.isExtensionFetched=function(){return this._isExtensionFetched},t.prototype._publishFilteredExtensionTelemetry=function(n){var t={};t[e.Properties.Length]=n;e.Telemetry.instance().publishEvent(e.Feature.MarketplaceExtensionInSearch,t)},t.prototype._getMatchScore=function(n,t,i){var r=n.friendlyName||n.name||s.empty,u=n.description||s.empty;return f.FilteringUtils.getStringMatchScore(t,[r,u,n.tags.join(" ")],i)},t}(o.StoreBase);t.TaskExtensionItemListStore=h});

define("DistributedTaskControls/Stores/TaskItemListStore",["require","exports","DistributedTaskControls/Actions/TaskItemListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/FilteringUtils","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){function h(n){return n&&s.localeIgnoreCaseComparer(n,s.empty)!==0?(n=n.trim(),n.toLowerCase()):null}function c(n,t){n[t]||(n[t]={tasks:[],deprecatedTasks:[]})}Object.defineProperty(t,"__esModule",{value:!0});t.PreDefinedTaskListCategories={all:o.TaskItemListAllText,build:o.Task_BuildCategoryText,utility:o.Task_UtilityCategoryText,test:o.Task_TestCategoryText,package:o.Task_PackageCategoryText,deploy:o.Task_DeployCategoryText,tool:o.Task_ToolCategoryText,marketplace:o.Task_MarketplaceCategoryText};t.Key_PreDefinedTaskListCategories_MarketplaceTasks="marketplace";t.Key_PreDefinedTaskListCategories_AllTasks="all";var l=function(n){function e(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateTaskItemList=function(n){if(n){if(n.taskItems){var i=[],r=[];(n.taskItems||[]).forEach(function(n){n.deprecated?r.push(n):i.push(n)});t._completeTaskItemList=i;t._completeDeprecatedTaskItemList=r;t._taskItemList=t._lastFilter?f.FilteringUtils.performFilteringWithScore([],t._completeTaskItemList,t._lastFilter,s.empty,t._getMatchScore)||[]:t._completeTaskItemList;t._deprecatedTaskItemList=t._lastFilter?f.FilteringUtils.performFilteringWithScore([],t._completeDeprecatedTaskItemList,t._lastFilter,s.empty,t._getMatchScore)||[]:t._completeDeprecatedTaskItemList}t._isTaskFetched=n.isTaskFetched;t.emitChanged()}},t._handleFilterTaskItemList=function(n){t._taskItemList=f.FilteringUtils.performFilteringWithScore(t._taskItemList,t._completeTaskItemList,n,t._lastFilter,t._getMatchScore)||[];t._deprecatedTaskItemList=f.FilteringUtils.performFilteringWithScore(t._deprecatedTaskItemList,t._completeDeprecatedTaskItemList,n,t._lastFilter,t._getMatchScore)||[];t.emitChanged();t._lastFilter=n},t._lastFilter="",t._deprecatedTaskItemList=[],t._taskItemList=[],t._completeDeprecatedTaskItemList=[],t._completeTaskItemList=[],t._isTaskFetched=!1,t}return __extends(e,n),e.prototype.initialize=function(){this._taskItemListActions=r.ActionsHubManager.GetActionsHub(i.TaskItemListActions);this._taskItemListActions.updateTaskItemList.addListener(this._handleUpdateTaskItemList);this._taskItemListActions.filterTaskItemList.addListener(this._handleFilterTaskItemList)},e.prototype.disposeInternal=function(){this._taskItemListActions.updateTaskItemList.removeListener(this._handleUpdateTaskItemList);this._taskItemListActions.filterTaskItemList.removeListener(this._handleFilterTaskItemList)},e.getKey=function(){return u.StoreKeys.TaskItemListStore},e.prototype.getDeprecatedTaskItemList=function(){return this._deprecatedTaskItemList},e.prototype.getTaskItemList=function(){return this._taskItemList},e.prototype.isTaskFetched=function(){return this._isTaskFetched},e.prototype.getTaskListPerCategory=function(){var n={},t;this._categorize(n);for(t in n)(n[t].tasks||[]).sort(function(n,t){return s.localeIgnoreCaseComparer(n.friendlyName,t.friendlyName)}),(n[t].deprecatedTasks||[]).sort(function(n,t){return s.localeIgnoreCaseComparer(n.friendlyName,t.friendlyName)});return n},e.prototype._categorize=function(n){n[t.Key_PreDefinedTaskListCategories_AllTasks]={tasks:[],deprecatedTasks:[]};this._taskItemList.forEach(function(i){var r=h(i.category);r&&(c(n,r),n[t.Key_PreDefinedTaskListCategories_AllTasks].tasks.push(i),n[r].tasks.push(i))});this._deprecatedTaskItemList.forEach(function(i){var r=h(i.category);r&&(c(n,r),n[t.Key_PreDefinedTaskListCategories_AllTasks].deprecatedTasks.push(i),n[r].deprecatedTasks.push(i))})},e.prototype._getMatchScore=function(n,t,i){var r=n.friendlyName||n.name||s.empty,u=n.description||s.empty;return f.FilteringUtils.getStringMatchScore(t,[r,u],i)},e}(e.StoreBase);t.TaskItemListStore=l});

define("DistributedTaskControls/ControllerViews/TaskItemListControllerView",["require","exports","react","DistributedTasksCommon/TFS.Tasks.Types","DistributedTaskControls/Actions/TaskExtensionItemListActionsCreator","DistributedTaskControls/Actions/TaskItemListActionsCreator","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/MarketplaceLinkHelper","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/ExtensionItemList","DistributedTaskControls/Components/ExternalLink","DistributedTaskControls/Components/NoSearchResults","DistributedTaskControls/Components/TaskItemList","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/TaskExtensionItemListStore","DistributedTaskControls/Stores/TaskItemListStore","OfficeFabric/Button","OfficeFabric/Fabric","OfficeFabric/FocusZone","OfficeFabric/SearchBox","OfficeFabric/Utilities","VSS/Diag","VSSUI/PivotBar","VSS/Utils/Accessibility","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/ControllerViews/TaskItemListControllerView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){Object.defineProperty(t,"__esModule",{value:!0});var ht=function(n){var t=n.marketplaceLink;return i.createElement("div",{className:"dtc-task-list-description"},i.createElement("span",null,k.TaskItemListDescription," "),i.createElement(p.ExternalLink,{className:"dtc-task-list-description-link",text:k.CheckoutMarketPlaceText,href:t,newTab:!0}))},ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onPivotClicked=function(n,i){t.setState({selectedPivotkey:i});t._publishTaskTabClickedTelemetry(i)},t._updateExtensionList=function(){t.setState({extensions:t._extensionListStore.getExtensionItemList(),isExtensionFetched:t._extensionListStore.isExtensionFetched()})},t._updateTaskList=function(){ft.logVerbose("[TasksControllerView._updateTasksList]: method called");t.setState({currentTasks:t._store.getTaskItemList(),currentDeprecatedTasks:t._store.getDeprecatedTaskItemList(),taskListPerCategory:t._store.getTaskListPerCategory(),isTaskFetched:t._store.isTaskFetched()})},t._onAddTask=function(n){ft.logVerbose("[TasksControllerView._onAddTask]: method called");t._taskListActionCreator.addTask(n);ot.announce(k.TaskAdded,!0);t._publishAddTaskTelemetry(n,!1,!0)},t._onDragTask=function(){ft.logVerbose("[TasksControllerView._onDragTask]: method called");t._taskListActionCreator.clearAddTaskLocation()},t._onAddTaskByDragDrop=function(n,i){ft.logVerbose("[TasksControllerView._onAddTaskByDragDrop]: method called");t._publishAddTaskTelemetry(n,!0,i)},t._onValueChanged=function(n){t._delayedOnChange(n)},t._onFilterTextChanged=function(n){ft.logVerbose("[TasksControllerView._onFilterTextChanged]: method called");t._filterText=n;t._extensionActionCreator.filterExtensionItemList(n);t._actionCreator.filterTaskItemList(n)},t._onRefresh=function(){t._actionCreator.updateTaskItemList(t.props.visibilityFilter,t.props.taskGroupType?t.props.taskGroupType:r.TaskGroupType.RunOnAny,!0);t._extensionActionCreator.getExtensions(!0);t._publishRefreshTaskTelemetry()},t._filterText=st.empty,t}return __extends(t,n),t.prototype.componentWillMount=function(){this._actionCreator=o.ActionCreatorManager.GetActionCreator(f.TaskItemListActionsCreator,this.props.taskListStoreInstanceId);this._extensionActionCreator=o.ActionCreatorManager.GetActionCreator(u.TaskExtensionItemListActionsCreator,this.props.taskListStoreInstanceId);this._store=a.StoreManager.GetStore(g.TaskItemListStore);this._extensionListStore=a.StoreManager.GetStore(d.TaskExtensionItemListStore);this._taskListActionCreator=o.ActionCreatorManager.GetActionCreator(e.TaskListActionsCreator,this.props.taskListStoreInstanceId);this._actionCreator.updateTaskItemList(this.props.visibilityFilter,this.props.taskGroupType?this.props.taskGroupType:r.TaskGroupType.RunOnAny);this._isMarketplaceCapabilitySupported=h.AppContext.instance().isCapabilitySupported(h.AppCapability.MarketplaceExtensions);this._isMarketplaceCapabilitySupported&&this._extensionActionCreator.getExtensions();this.setState({currentTasks:this._store.getTaskItemList(),currentDeprecatedTasks:this._store.getDeprecatedTaskItemList(),extensions:this._extensionListStore.getExtensionItemList(),isExtensionFetched:this._extensionListStore.isExtensionFetched(),taskListPerCategory:this._store.getTaskListPerCategory(),selectedPivotkey:g.Key_PreDefinedTaskListCategories_AllTasks,isTaskFetched:this._store.isTaskFetched()})},t.prototype.componentDidMount=function(){var t=this,n;ft.logVerbose("[TasksControllerView.componentDidMount]: method called");this._store.addChangedListener(this._updateTaskList);this._extensionListStore.addChangedListener(this._updateExtensionList);n=new ut.Async;this._delayedOnChange=n.debounce(this._onFilterTextChanged,500);this._searchButton&&this._searchButton.focus();this._isMarketplaceCapabilitySupported||l.MarketplaceLinkHelper.getMarketplaceLink().then(function(n){t.setState({marketplaceLink:n})})},t.prototype.componentWillUnmount=function(){ft.logVerbose("[TasksControllerView.componentWillUnmount]: method called");this._store.removeChangedListener(this._updateTaskList);this._extensionListStore.removeChangedListener(this._updateExtensionList)},t.prototype.render=function(){var e,u,r,n,t,f;if(ft.logVerbose("[TasksControllerView.render]: method called"),this._filterText)e=this.state.currentTasks.length>0||this.state.currentDeprecatedTasks.length>0||!this._isExtensionListEmpty()?i.createElement(b.TaskItemList,{key:g.Key_PreDefinedTaskListCategories_AllTasks,tasks:this.state.currentTasks,deprecatedTasks:this.state.currentDeprecatedTasks,extensions:this.state.extensions,isExtensionFetched:this.state.isExtensionFetched,isTaskFetched:this.state.isTaskFetched,showExtension:!this._isExtensionListEmpty(),taskListStoreInstanceId:this.props.taskListStoreInstanceId,onAddTask:this._onAddTask,onDragTask:this._onDragTask,onAddTaskByDragDrop:this._onAddTaskByDragDrop,cssClass:"dtc-filtered-task-list"}):i.createElement("div",{className:"dtc-tasks-no-search-results"},i.createElement(w.NoSearchResults,{searchText:this._filterText}));else{u=this.state.taskListPerCategory;r=[];for(n in g.PreDefinedTaskListCategories)g.PreDefinedTaskListCategories.hasOwnProperty(n)&&!!u&&u.hasOwnProperty(n)&&(t=this._getCategoryTitle(n),f=this._getTaskItemList(n,u[n]),r.push(i.createElement(et.PivotBarItem,{key:n,itemKey:n,name:t,className:"pivot-item-class",ariaLabel:t},f)));this._isMarketplaceCapabilitySupported&&(t=this._getCategoryTitle(g.Key_PreDefinedTaskListCategories_MarketplaceTasks),f=this._getMarketplaceTabItem(),r.push(i.createElement(et.PivotBarItem,{key:g.Key_PreDefinedTaskListCategories_MarketplaceTasks,itemKey:g.Key_PreDefinedTaskListCategories_MarketplaceTasks,name:t,className:"pivot-item-class",ariaLabel:t},f)));r.length>0&&(e=i.createElement(tt.Fabric,{className:"dtc-task-pivot-bar-container"},i.createElement(et.PivotBar,{className:"add-task-pivot-bar",selectedPivot:this.state.selectedPivotkey,onPivotClicked:this._onPivotClicked},r)))}return i.createElement("div",{className:"dtc-add-task-container"},i.createElement("div",{className:"dtc-task-item-list-top-strip"},i.createElement("div",{className:"dtc-task-list-header"},i.createElement("div",{className:"dtc-task-list-header-content"},i.createElement("div",{className:"dtc-task-list-title"},k.TaskItemListTitle),this._isMarketplaceCapabilitySupported&&i.createElement("div",{className:"add-task-refresh-separator"},i.createElement("div",{className:"separator"}),i.createElement(nt.ActionButton,{className:"refresh-button",iconProps:{className:"bowtie-icon bowtie-navigate-refresh"},text:k.Refresh,onClick:this._onRefresh}))),!this._isMarketplaceCapabilitySupported&&i.createElement(ht,{marketplaceLink:this.state.marketplaceLink||s.HelpLinks.DefaultMarketplaceLink})),i.createElement("div",{className:"dtc-task-list-search fabric-style-overrides",role:"search","aria-label":k.SearchTaskAriaLabel},i.createElement(rt.SearchBox,{componentRef:this._resolveRef("_searchButton"),placeholder:k.SearchLabel,onChange:this._onValueChanged}))),i.createElement("div",{className:"dtc-task-item-list-content"},e))},t.prototype._isExtensionListEmpty=function(){return this._isMarketplaceCapabilitySupported?this.state.isExtensionFetched&&this.state.extensions.length===0:!0},t.prototype._getMarketplaceTabItem=function(){return i.createElement(it.FocusZone,{direction:it.FocusZoneDirection.vertical,isInnerZoneKeystroke:function(n){return n.which===ut.getRTLSafeKeyCode(39)}},i.createElement(y.ExtensionItemList,{extensions:this.state.extensions,isExtensionFetched:this.state.isExtensionFetched,instanceId:this.props.taskListStoreInstanceId,className:"dtc-task-item-list"}))},t.prototype._getTaskItemList=function(n,t){var r=!1;return this._isMarketplaceCapabilitySupported&&(r=st.equals(n,g.Key_PreDefinedTaskListCategories_AllTasks,!0)),i.createElement(b.TaskItemList,{key:n,cssClass:"dtc-task-item-list",tasks:t.tasks,deprecatedTasks:t.deprecatedTasks,extensions:this.state.extensions,isExtensionFetched:this.state.isExtensionFetched,isTaskFetched:this.state.isTaskFetched,showExtension:r,taskListStoreInstanceId:this.props.taskListStoreInstanceId,onAddTask:this._onAddTask,onDragTask:this._onDragTask,onAddTaskByDragDrop:this._onAddTaskByDragDrop})},t.prototype._getCategoryTitle=function(n){var t=g.PreDefinedTaskListCategories[n];return st.toSentenceCase(t)},t.prototype._publishAddTaskTelemetry=function(n,t,i){var u={},f=v.Source.CommandButton;t&&(f=v.Source.DragAndDrop);u[v.Properties.TaskCategory]=n.category;u[v.Properties.SelectedCategoryTab]=this.state.selectedPivotkey;n.definitionType!==r.DefinitionType.metaTask&&(u[v.Properties.TaskId]=n.id);u[v.Properties.TaskDefinitionType]=n.definitionType;u[v.Properties.TaskAccepted]=i;v.Telemetry.instance().publishEvent(v.Feature.AddTask,u,f)},t.prototype._publishRefreshTaskTelemetry=function(){v.Telemetry.instance().publishEvent(v.Feature.RefreshTask)},t.prototype._publishTaskTabClickedTelemetry=function(n){var t={};t[v.Properties.selectedTab]=n;v.Telemetry.instance().publishEvent(v.Feature.TaskTab,t)},t}(c.Component);t.TaskItemListControllerView=ct});

define("DistributedTaskControls/Components/Task/AddTaskItem",["require","exports","react","DistributedTaskControls/Components/TwoPanelOverviewComponent","DistributedTaskControls/ControllerViews/TaskItemListControllerView","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/AddTaskItem"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n){this._itemDetails=n}return n.prototype.getOverview=function(n){if(this._itemDetails.hideOverview)return null;if(!this._overView){var t={title:f.AddTask,view:null,item:this,instanceId:n,iconClassName:"bowtie-icon bowtie-math-plus add-task-icon",overviewClassName:"add-task-item-overview-body"};this._overView=i.createElement("div",{className:"addtask-item-overview"},i.createElement(r.TwoPanelOverviewComponent,__assign({},t)))}return this._overView},n.prototype.getDetails=function(){return this._details||(this._details=i.createElement(u.TaskItemListControllerView,{key:this.getKey(),taskListStoreInstanceId:this._itemDetails.taskListStoreInstanceId,visibilityFilter:this._itemDetails.visibilityFilter,taskGroupType:this._itemDetails.taskGroupType})),this._details},n.prototype.getAddTaskItemDetails=function(){return this._itemDetails},n.prototype.getKey=function(){return"common.addtaskitem"+this._itemDetails.taskListStoreInstanceId},n}();t.AddTaskItem=e});

define("DistributedTaskControls/Components/Task/TaskActionsCreatorBase",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){return},t.getKey=function(){return r.ActionCreatorKeys.TaskDetailsActionsCreator},t.prototype.updateTaskInputValue=function(){throw new Error("Error: This should be invoked in derived class.");},t.prototype.updateTaskInputError=function(){throw new Error("Error: This should be invoked in derived class.");},t.prototype.updateTaskInputOptions=function(){throw new Error("Error: This should be invoked in derived class.");},t}(i.ActionCreatorBase);t.TaskActionsCreatorBase=u});

define("DistributedTaskControls/Components/Task/TaskActionsCreator",["require","exports","VSS/Flux/Action","DistributedTaskControls/Components/Task/TaskActionsCreatorBase","DistributedTaskControls/Sources/TaskDefinitionSource"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this.renameTaskAction=new i.Action;this.updateTaskRefNameAction=new i.Action;this.updateTaskStateAction=new i.Action;this.updateTaskInputErrorAction=new i.Action;this.updateTaskInputValueAction=new i.Action;this.updateTaskInputOptionsAction=new i.Action;this.addTaskEnvironmentVariableAction=new i.Action;this.updateTaskEnvironmentVariableNameAction=new i.Action;this.updateTaskEnvironmentVariableValueAction=new i.Action;this.deleteTaskEnvironmentVariableAction=new i.Action;this.linkToProcessParameterAction=new i.Action;this.unlinkFromProcessParameterAction=new i.Action;this.updateTaskDefinitionAction=new i.Action;this.markTaskAsDeletingAction=new i.Action},t.prototype.renameTask=function(n){this.renameTaskAction.invoke(n)},t.prototype.updateTaskRefName=function(n){this.updateTaskRefNameAction.invoke(n)},t.prototype.updateTaskState=function(n){this.updateTaskStateAction.invoke(n)},t.prototype.updateTaskInputError=function(n,t,i){this.updateTaskInputErrorAction.invoke({name:n,message:t,value:i})},t.prototype.updateTaskInputValue=function(n,t){this.updateTaskInputValueAction.invoke({name:n,value:t})},t.prototype.updateTaskInputOptions=function(n,t){this.updateTaskInputOptionsAction.invoke({name:n,options:t})},t.prototype.addTaskEnvironmentVariable=function(){this.addTaskEnvironmentVariableAction.invoke({})},t.prototype.updateTaskEnvironmentVariableName=function(n,t){this.updateTaskEnvironmentVariableNameAction.invoke({index:n,name:t})},t.prototype.updateTaskEnvironmentVariableValue=function(n,t){this.updateTaskEnvironmentVariableValueAction.invoke({index:n,value:t})},t.prototype.deleteTaskEnvironmentVariable=function(n,t){this.deleteTaskEnvironmentVariableAction.invoke({index:n,name:t})},t.prototype.linkToProcessParameter=function(n,t){this.linkToProcessParameterAction.invoke({inputName:n,processParametername:t})},t.prototype.unlinkFromProcessParameter=function(n){this.unlinkFromProcessParameterAction.invoke(n)},t.prototype.updateTaskDefinition=function(n,t){var i=u.TaskDefinitionSource.instance().getTaskDefinition(n,t||"*");this.updateTaskDefinitionAction.invoke(i)},t.prototype.markTaskAsDeleting=function(){this.markTaskAsDeletingAction.invoke({})},t}(r.TaskActionsCreatorBase);t.TaskActionCreator=f});

define("DistributedTaskControls/Common/InputValidation",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){this._inputInvalidStates={};this._inputLatestValue={};this._pendingInputErrorPayloadDispatch={}}return n.prototype.updateInputValue=function(n,t){this._inputLatestValue[n]=t},n.prototype.isValid=function(n){return!this._inputInvalidStates[n]},n.prototype.clear=function(n){delete this._inputInvalidStates[n];delete this._inputLatestValue[n]},n.prototype.tryHandlePendingInputErrorDispatch=function(n){var t=this._pendingInputErrorPayloadDispatch[n];if(!t)return!1;this._tryUpdateInputValidationInvalidState(t);delete this._pendingInputErrorPayloadDispatch[t.name]},n.prototype.tryHandleUpdateInputError=function(n){return this._tryUpdateInputValidationInvalidState(n)?!0:(this._pendingInputErrorPayloadDispatch[n.name]=n,!1)},n.prototype._tryUpdateInputValidationInvalidState=function(n){var t=!1;return n.value===this._inputLatestValue[n.name]&&(this._updateInputInvalidState(n),t=!0),t},n.prototype._updateInputInvalidState=function(n){n.message?this._inputInvalidStates[n.name]=!!n.message:delete this._inputInvalidStates[n.name]},n}();t.InputValidation=i});

define("DistributedTaskControls/Components/Task/VisibilityHelper",["require","exports","VSS/Utils/String","VSS/Utils/Array"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u="&&",f="||",e=function(){function n(){}return n.getVisibilityRule=function(n){var t=null,i,r,e;return n&&(n.indexOf(u)!==-1?(i=n.split(u),r=i.map(this.getPredicateRule),t={operator:u,predicateRules:r}):n.indexOf(f)!==-1?(i=n.split(f),r=i.map(this.getPredicateRule),t={operator:f,predicateRules:r}):(e=this.getPredicateRule(n),t={operator:null,predicateRules:[e]})),t},n.getPredicateRule=function(n){var i=null,t=/([a-zA-Z0-9 ]+)([!=<>]+)([a-zA-Z0-9. ]+)|([a-zA-Z0-9 ]+(?=NotContains|NotEndsWith|NotStartsWith))(NotContains|NotEndsWith|NotStartsWith)([a-zA-Z0-9. ]+)|([a-zA-Z0-9 ]+(?=Contains|EndsWith|StartsWith))(Contains|EndsWith|StartsWith)([a-zA-Z0-9. ]+)/g.exec(n);return t&&t.length===10&&(i=t[1]?{inputName:t[1].trim(),condition:t[2].trim(),expectedValue:t[3].trim()}:t[4]?{inputName:t[4].trim(),condition:t[5].trim(),expectedValue:t[6].trim()}:{inputName:t[7].trim(),condition:t[8].trim(),expectedValue:t[9].trim()}),i},n.isSourcedInput=function(n,t){var i=!1;return Object.keys(t).forEach(function(r){var u=t[r].some(function(t){return t===n});u&&(i=!0)}),i},n.getVisibility=function(n,t,f,e){for(var l,o=n.operator===u,a=function(u){var l=n.predicateRules[u],h=r.first(t,function(n){return i.equals(n.inputName,l.inputName,!0)}),c,a;if(h)c=i.equals(h.inputName,e,!0)||!h.isHidden()||f&&s.isSourcedInput(h.inputName,f),c?(a=s._getPredicateResult(l,h.inputValue),o=s._evaluate(o,a,n.operator)):o=s._evaluate(o,c,n.operator);else return o=!1,"break"},s=this,h=0,c=n.predicateRules.length;h<c;h++)if(l=a(h,c),l==="break")break;return o},n._getPredicateResult=function(n,t){var r=!1,f=t?t.toString().toLowerCase():t,u;if(n){u=n.expectedValue?n.expectedValue.toString().toLowerCase():n.expectedValue;switch(n.condition){case"=":case"==":r=f===u;break;case"!=":r=f!==u;break;case"<":r=f<u;break;case">":r=f>u;break;case"<=":r=f<=u;break;case">=":r=f>=u;break;case"Contains":r=t&&t.indexOf(u)>=0;break;case"StartsWith":r=t&&i.startsWith(t,u,i.ignoreCaseComparer);break;case"EndsWith":r=t&&i.endsWith(t,u,i.ignoreCaseComparer);break;case"NotContains":r=!(t&&t.indexOf(u)>=0);break;case"NotStartsWith":r=!(t&&i.startsWith(t,u,i.ignoreCaseComparer));break;case"NotEndsWith":r=!(t&&i.endsWith(t,u,i.ignoreCaseComparer))}}return r},n._evaluate=function(n,t,i){return i===u?n&&t:i===f?n||t:i===null?t:void 0},n}();t.VisibilityHelper=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility",["require","exports","q","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Common/Utilities","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/TFS.Tasks.Common.Variables","VSS/Utils/String","VSS/Context"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(){}return n.getDataSourceBindingDependency=function(t,i){var u=[],r,f,e;if(!t)return u;for(f in t.parameters)t.parameters.hasOwnProperty(f)&&(r=t.parameters[f].match(n._parameterRegex),r?(e=r[1]||r[2],u.push(e)):i&&(i[f]=t.parameters[f]));return r=t.endpointId.match(n._parameterRegex),!r||(e=r[1]||r[2],u.push(e)),!t.endpointUrl||(u=u.concat(n._getSourceDefinitionDependency(t.endpointUrl))),u},n._getSourceDefinitionDependency=function(t){for(var i,r=[],u;(i=n._parameterRegex_ig.exec(t))!==null;)u=i[1]||i[2],r.push(u);return r},n._getUnmatchedDataSourceBindingInputParameters=function(t,i,r){var f,h=i||{},o={},u,e,s;if(!r)return o;for(u in r.parameters)r.parameters.hasOwnProperty(u)&&(f=r.parameters[u].match(n._parameterRegex),!f||(e=f[1]||f[2],!!t&&t.hasOwnProperty(e)&&e!==u&&(s=n._getResolvedValueOfInput(t[e],h),s&&(o[u]=s.trim()))));return o},n.refreshDataSourceBindingPickList=function(t,u,f,e,s){var c={},k=n.getDataSourceBindingDependency(f,c),p=!0,h=i.defer(),v,y,l,b;if(k.forEach(function(i){if(t.hasOwnProperty(i)){var r=n._getResolvedValueOfInput(t[i],u);r?c[i]=r.trim():p=!1}}),p){v=n._getUnmatchedDataSourceBindingInputParameters(t,u,f);for(y in v)c[y]=v[y];if(l=n._getSourceTokenValue(t,u,f.endpointId),!(l==="")){var d={dataSourceName:f.dataSourceName,dataSourceUrl:f.endpointUrl,resourceUrl:o.empty,requestContent:f.requestContent,requestVerb:f.requestVerb,parameters:c,resultSelector:f.resultSelector,headers:f.headers,initialContextTemplate:f.initialContextTemplate},g={resultTemplate:f.resultTemplate,callbackContextTemplate:f.callbackContextTemplate,callbackRequiredTemplate:f.callbackRequiredTemplate},w={serviceEndpointDetails:null,dataSourceDetails:d,resultTransformationDetails:g},a=void 0;e?(b=void 0,a=n.recursivelyExecuteServiceEndpointRequest(w,l,b),a.then(function(n){var t=n.result;h.resolve(t)},function(n){h.reject(n)})):(a=r.ConnectedServiceEndpointSource.instance().executeServiceEndpointRequest(w,l),a.then(function(n){o.equals(n.statusCode,"ok",!0)?(!s||(s.isMoreDataAvailable=n.callbackRequired),h.resolve(n.result)):h.resolve(n.result)},function(n){h.reject(n)}))}}else h.resolve([]);return h.promise},n.prepareServiceEndpointExecution=function(t,u,f,e){var c={},y=n.getDataSourceBindingDependency(f,c),s=i.defer(),h=jQuery.extend(!0,{},t),l,a,v;h.searchText=e;h.name=e;y.forEach(function(t){if(h.hasOwnProperty(t)){var i=n._getResolvedValueOfInput(h[t],u);i?c[t]=i.trim():s.resolve([])}});l=n._getUnmatchedDataSourceBindingInputParameters(h,u,f);for(a in l)c[a]=l[a];if(v=n._getSourceTokenValue(t,u,f.endpointId),!(v===o.empty)){var p={dataSourceName:f.dataSourceName,dataSourceUrl:f.endpointUrl,resourceUrl:o.empty,requestContent:f.requestContent,requestVerb:f.requestVerb,parameters:c,resultSelector:f.resultSelector,headers:f.headers,initialContextTemplate:f.initialContextTemplate},w={resultTemplate:f.resultTemplate,callbackContextTemplate:f.callbackContextTemplate,callbackRequiredTemplate:f.callbackRequiredTemplate},b={serviceEndpointDetails:null,dataSourceDetails:p,resultTransformationDetails:w},k=r.ConnectedServiceEndpointSource.instance().executeServiceEndpointRequest(b,v);k.then(function(n){o.equals(n.statusCode,"ok",!0)?s.resolve(n.result):s.resolve(n.result)},function(n){s.reject(n)})}return s.promise},n.recursivelyExecuteServiceEndpointRequest=function(n,t,u){var e=this,f=i.defer(),s=r.ConnectedServiceEndpointSource.instance().executeServiceEndpointRequest(n,t);return s.then(function(i){if(u=e.updateResultSet(i,u),i.callbackRequired){for(var r in i.callbackContextParameters)n.dataSourceDetails.parameters[r]=i.callbackContextParameters[r];n.dataSourceDetails.parameters=Object.assign(n.dataSourceDetails.parameters,i.callbackContextParameters);e.recursivelyExecuteServiceEndpointRequest(n,t,u).then(function(n){f.resolve(n)},function(n){f.reject(n)})}else o.equals(i.statusCode,"ok",!0)?(i.result=u,f.resolve(i)):f.resolve(i)},function(n){f.reject(n)}),f.promise},n.updateResultSet=function(n,t){var i=n.result;return i&&i.length>0&&(t=t?t.concat(n.result):n.result),t},n.refreshSourceDefinitionPickList=function(t,u,f,e){var h=[],s=e.endpoint,c;return s=n._expandImplicitVariables(s),c=this._getSourceDefinitionDependency(s),c.length===0?n._queryOnRefresh(t,u,f,e,s):(c.forEach(function(f){var y="\\{\\$"+f+"\\}|\\$\\("+f+"\\)",v=new RegExp(y,"ig"),c,l,a;if(t.hasOwnProperty(f))c=n._getResolvedValueOfInput(t[f],u),c&&(s=s.replace(v,c.trim()),h.push(i.resolve(s)));else if(l=n._getAuthKeyInputName(f,e.authKey),t.hasOwnProperty(l)){if(a=n._getResolvedValueOfInput(t[l],u),!a)return i.resolve([]);h.push(r.ConnectedServiceEndpointSource.instance().getServiceEndpoint(a).then(function(n){var t,i;if(n)return t=f.split(".")[1],n.data[t]||(t=t[0].toLowerCase()+t.substring(1)),i=!n.data[t]?o.empty:n.data[t],o.ignoreCaseComparer(t,"subscriptionId")===0&&(i=i.toLowerCase()),s=s.replace(v,i.trim())},function(n){return i.reject(n)}))}}),h.length?i.all(h).then(function(){return n._queryOnRefresh(t,u,f,e,s)},function(n){return i.reject(n)}):i.resolve([]))},n._getAuthKeyInputName=function(t,i){var u="",f=t.split(".")[0],e,r;return(o.equals(f,"authKey",!0)||o.equals(f,"endpoint",!0))&&(e=i||"",r=e.match(n._parameterRegex),r&&(u=r[1]||r[2])),u},n._queryOnRefresh=function(t,u,f,e,o){var s=n._getSourceTokenValue(t,u,e.authKey);return s===""?i.resolve([]):r.ConnectedServiceEndpointSource.instance().queryEndpoint({url:o,selector:e.selector,connectionId:s,scope:null,taskId:f,keySelector:e.keySelector})},n._expandImplicitVariables=function(n){var t="\\$\\("+e.ImplicitVariableNames.TeamProject+"\\)",i=e.ImplicitVariables.GetImplicitVariables(s.getDefaultWebContext()).filter(function(n){return o.localeIgnoreCaseComparer(n.name,e.ImplicitVariableNames.TeamProject)===0})[0],r=new RegExp(t,"ig");return n.replace(r,i.value)},n.getInternalServiceDetailsMap=function(){var t="tfs:",n={};return n["tfs:devtestlabs"]={authKey:t+"0000000e-0000-8888-8000-000000000000",manageLink:f.ActionUrlResolver.getActionUrl(null,null,"machines")},n["tfs:teamfoundation"]={authKey:t+"00025394-6065-48CA-87D9-7F5672854EF7",manageLink:f.ActionUrlResolver.getActionUrl(null,null,"testmanagement")},n["tfs:feed"]={authKey:t+"00000036-0000-8888-8000-000000000000",manageLink:null},n["tfs:governance"]={authKey:t+"00000049-0000-8888-8000-000000000000",manageLink:null},n["tfs:rm"]={authKey:t+"0000000D-0000-8888-8000-000000000000",manageLink:null},n["tfs:ems"]={authKey:t+"00000028-0000-8888-8000-000000000000",manageLink:null},n},n._getSourceTokenValue=function(t,i,r){var f,u,e;return r=r||"",f=r.match(n._parameterRegex),u="",f?(u=f[1]||f[2],t.hasOwnProperty(u)&&(u=n._getResolvedValueOfInput(t[u],i))):(e=n.getInternalServiceDetailsMap()[r.toLowerCase()],e&&(u=e.authKey)),o.startsWith(u,"$(")||o.ignoreCaseComparer(u,"$")===0?o.empty:u},n.getDependencyToTargetsMap=function(t,i,r){var u={};return!i||i.forEach(function(i){var r=n.getDataSourceBindingDependency(i);r.forEach(function(n){t.hasOwnProperty(n)&&(u.hasOwnProperty(n)||(u[n]=[]),u[n].push(i.target))})}),!r||r.forEach(function(i){var r=n._getSourceDefinitionDependency(n._expandImplicitVariables(i.endpoint));r.forEach(function(r){if(t.hasOwnProperty(r))u.hasOwnProperty(r)||(u[r]=[]),u[r].push(i.target);else{var f=n._getAuthKeyInputName(r,i.authKey);t.hasOwnProperty(f)&&(u.hasOwnProperty(f)||(u[f]=[]),u[f].push(i.target))}})}),u},n.getInputNameToDependentParentNamesMap=function(t,i,r,u){var e={},f=n.getDependencyToTargetsMap(i,r,u);return t&&t.length>0&&t.forEach(function(n){e[n]||(e[n]=[]);f&&Object.keys(f).length>0&&Object.keys(f).forEach(function(t){f[t]&&f[t].length>0&&f[t].forEach(function(i){o.ignoreCaseComparer(i,n)===0&&e[n].push(t)})})}),e},n._getResolvedValueOfInput=function(n,t){var i=u.DtcUtils.resolveTaskInputValueByProcessParameters(n,t);return i&&i.resolvedValue},n._parameterRegex=/\{\$(.*?)\}|\$\((.*?)\)/,n._parameterRegex_ig=/\{\$(.*?)\}|\$\((.*?)\)/ig,n}();t.DataSourceBindingUtility=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility",["require","exports","q","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Common/Common","VSS/Diag","DistributedTaskControls/Common/Utilities","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(){}return n.getPickListOptions=function(t,i,u,e){var h={sourceDefintion:null,dataSourceBinding:null,enableRefresh:!1,manageLink:null,enableManage:!1},y=o.DtcUtils.isTaskInputSearchable(t),a=o.DtcUtils.getSearchDataSourceName(t),v=t.name,p=y&&e,c,l;return p&&a&&(v=a),!i||i.forEach(function(i){if(s.equals(v,i.target,!0)){var u=r.DataSourceBindingUtility.getInternalServiceDetailsMap()[i.endpointId.toLowerCase()];n._updatePickListOptions(t,u,h);h.dataSourceBinding=i;h.enableRefresh=!0}}),!u||u.forEach(function(i){var u,f;s.equals(t.name,i.target,!0)&&(u=r.DataSourceBindingUtility.getInternalServiceDetailsMap()[i.authKey.toLowerCase()],n._updatePickListOptions(t,u,h),f=u&&u.manageLink,f&&(h.enableRefresh=!0),h.sourceDefintion=i)}),t&&t.properties&&(c=t.properties[f.INPUT_TYPE_PROPERTY_ENABLE_MANAGE],c&&c.toLowerCase()==="true"&&(h.enableManage=!0,l=t.properties[f.INPUT_TYPE_PROPERTY_MANAGE_LINK],l&&(h.manageLink=l))),h},n.onRefresh=function(t,u){var f=n.getPickListOptions(t,u.dataSourceBindings,u.sourceDefinitions,s.empty),o;return f.sourceDefintion?(o=u.taskDefinitionId,!o)?(e.logWarning("[PickListInputComponent._onRefresh]: No taskDefinitionId found for input: "+t.name),i.resolve({})):r.DataSourceBindingUtility.refreshSourceDefinitionPickList(u.taskInputToValueMap,u.processParametersToValueMap,o,f.sourceDefintion).then(function(t){var r={};return t&&t.forEach(function(t){var e=t,u=t,i;n.isEmpty(f.sourceDefintion.keySelector)||(i=n.extractKeyAndValue(u),i.length>=2&&(e=i[0],u=i[1]));r[e]=u}),i.resolve(r)},function(n){return i.reject(n)}):f.dataSourceBinding?r.DataSourceBindingUtility.refreshDataSourceBindingPickList(u.taskInputToValueMap,u.processParametersToValueMap,f.dataSourceBinding,!0,null).then(function(t){var r={};return t&&t.forEach(function(t){var u=t,o=t,i;if(!n.isEmpty(f.dataSourceBinding.resultTemplate))try{i=JSON.parse(t);u=i.Value.toString();o=i.DisplayValue.toString()}catch(s){e.logWarning("[PickListInputComponent._onRefresh]: json parse failed. Option: "+t)}r[u]=o}),i.resolve(r)},function(n){return i.reject(n)}):i.resolve({})},n.onSearch=function(t,u,f){var s=n.getPickListOptions(t,u.dataSourceBindings,u.sourceDefinitions,f),o=i.defer();return r.DataSourceBindingUtility.prepareServiceEndpointExecution(u.taskInputToValueMap,u.processParametersToValueMap,s.dataSourceBinding,f).then(function(n){var t={};n&&n.forEach(function(n){var r=n,u=n,i;try{i=JSON.parse(n);r=i.Value.toString();u=i.DisplayValue.toString()}catch(f){e.logWarning("[SearchableComboboxInputComponent._onRefresh]: json parse failed. Option: "+n)}t[r]=u});o.resolve(t)},function(n){o.reject(n)}),o.promise},n.searchableComboboxOnRefresh=function(t,u,f){var o=n.getPickListOptions(t,u.dataSourceBindings,u.sourceDefinitions,s.empty),h=i.defer();return o.dataSourceBinding?(r.DataSourceBindingUtility.refreshDataSourceBindingPickList(u.taskInputToValueMap,u.processParametersToValueMap,o.dataSourceBinding,!1,f).then(function(t){var i={};t&&t.forEach(function(t){var u=t,f=t,r;if(!n.isEmpty(o.dataSourceBinding.resultTemplate))try{r=JSON.parse(t);u=r.Value.toString();f=r.DisplayValue.toString()}catch(s){e.logWarning("[PickListInputComponent._onRefresh]: json parse failed. Option: "+t)}i[u]=f});h.resolve(i)},function(n){h.reject(n)}),h.promise):i.resolve({})},n.getDependentInputsToValueMap=function(n,t,i,u){var f=this.getPickListOptions(n,t,i,s.empty),e={},o;return!f.dataSourceBinding||(o=r.DataSourceBindingUtility.getDataSourceBindingDependency(f.dataSourceBinding),o.forEach(function(n){e[n]=u[n]})),e},n.areDataSourceDependentValuesMapEqual=function(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(var i in n)if(n.hasOwnProperty(i)&&n[i]!==t[i])return!1;return!0},n.enableRefresh=function(t,i,r){var u=n.getPickListOptions(t,i,r,s.empty);return u.enableRefresh},n.enableManageLink=function(t,i,r){var u=n.getPickListOptions(t,i,r,s.empty);return u.enableManage},n.onManageLink=function(t,i,r){var f=n.getPickListOptions(t,i,r,s.empty);u.UrlUtilities.openInNewWindow(f.manageLink,!0)},n.extractKeyAndValue=function(t){var i=[],r=n._getDelimiterIndex(t);if(r===-1)i.push(t),i.push(t);else{var f=t.substr(0,r+1),u=r+n._delimStr.length+1,e=t.substr(u,t.length-u);i.push(n._unescapeDelimiter(f));i.push(n._unescapeDelimiter(e))}return i},n.isEmpty=function(n){return!n||0===n.length},n.tryParseJSON=function(n){try{var t=JSON.parse(n);return t&&typeof t=="object"&&t!==null?{error:!1,jsonObject:t}:{error:!0,jsonObject:null}}catch(i){return{error:!0,jsonObject:null}}},n.findIds=function(t,i){for(var e,u,f=[],r=0,o=t.length;r<o;r++)e=t[r].split("\\")||[],u=n.getIdsFromNestedObject(i,e,0),u!==-1&&f.push(u);return f},n.getIdsFromNestedObject=function(t,i,r){if(t&&t.length>0)for(var u=0,f=t.length;u<f;u++)if(t[u].text===i[r])return r===i.length-1?t[u].id:n.getIdsFromNestedObject(t[u].children,i,r+1);return-1},n.findItems=function(t,i){var f=[],r,e,u;if(t&&t.length>0)for(r=0,e=t.length;r<e;r++)u=n.getItemNamesFromNestedObject(i,t[r]),u&&f.push(u);return f},n.getItemNamesFromNestedObject=function(t,i){var r,u,f;if(t&&t.length>0){for(r=0,u=t.length;r<u;r++)if(t[r].id===parseInt(i,10))return t[r].text;for(r=0,u=t.length;r<u;r++)if(t[r].children&&t[r].children.length>0&&(f=n.getItemNamesFromNestedObject(t[r].children,i),f))return t[r].text+"\\"+f}return null},n._getDelimiterIndex=function(t){var i=new RegExp(n._delimRegex,"g");return t.search(i)},n._unescapeDelimiter=function(t){var i=new RegExp(n._unescapeRegex,"g");return t.replace(i,n._delimStr)},n._updatePickListOptions=function(n,t,i){var r=t&&t.manageLink,u=n.properties&&n.properties.DisableManageLink&&n.properties.DisableManageLink.toLowerCase()==="true";i.enableManage=r&&!u?!0:!1;i.enableManage&&(i.manageLink=t.manageLink)},n.getMultiSelectType=function(n){var t;return n&&(n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT]&&n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT].toLowerCase()===f.BOOLEAN_TRUE?t=f.PICKLIST_MULTI_SELECT_TREE_TYPE:n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&n[f.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST].toLowerCase()===f.BOOLEAN_TRUE&&(t=f.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE)),t},n._delimStr="|",n._delimRegex="[^\\\\]\\|",n._unescapeRegex="\\\\\\|",n}();t.PickListInputUtility=h});

define("DistributedTaskControls/Components/Task/TaskStoreBase",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/VisibilityHelper","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._taskContext=t,i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.TaskDetailsStore},t.prototype.getTaskInputState=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getTaskContext=function(){return this._taskContext},t.prototype.setTaskContext=function(n){this._taskContext=n},t.prototype.getActionForInputField=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getSourceDefinitions=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getDataSourceBindings=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.disposeInternal=function(){return},t.prototype.getTaskDefinitionId=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getProcessParameterToValueMap=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.isVisible=function(n,t,i){var o=this,u=!0,r=e.VisibilityHelper.getVisibilityRule(n),f;return r&&(f=r.predicateRules.map(function(n){return o.getTaskInputState(n.inputName)}),u=e.VisibilityHelper.getVisibility(r,f,t,i)),u},t.prototype.getInputToValueMap=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.isDirty=function(){throw new Error("Error:Value should be given by derived class.");},t.prototype.getInputState=function(n,t){return!n?r.InputState.Valid:this._getInputState(n,t)},t.prototype.isInputValid=function(n){var i=!0,t=this.getTaskInputState(n.name),u,f;return t?(u=this.getInputState(n,t.inputValue),f=t.isHidden?t.isHidden():!1,f||u===r.InputState.Valid||(i=!1)):i=!1,i},t.prototype.canShowLinkOptions=function(){return this._taskContext.donotShowLinkOptions!==!0},t.prototype.canShowVersions=function(){return this._taskContext.donotShowVersions!==!0},t.prototype.canShowControlOptions=function(){return this._taskContext.donotShowControlOptions!==!0},t.prototype.canShowOutputVariables=function(){return this._taskContext.donotShowOutputVariables!==!0},t.prototype.canShowYAMLFeature=function(){return this._taskContext.donotShowYAMLFeature!==!0},t.prototype.canShowTaskGroupOptions=function(){return this._taskContext.donotShowTaskGroupOptions!==!0},t.prototype._getInputState=function(n,t){if(n.required&&(!t||t.trim()===h.empty))return r.InputState.Invalid_InputRequired;var i=f.DtcUtils.getTaskInputType(n);return h.ignoreCaseComparer(i,o.InputControlType.INPUT_TYPE_PICK_LIST)===0&&!s.PickListInputUtility.enableRefresh(n,this.getDataSourceBindings(),this.getSourceDefinitions())&&f.DtcUtils.isSimplePicklistValueInvalidOption(n.properties,n.options,t)?r.InputState.Invalid_SelectedOptionNotPresent:n.properties?this._validateInputDefinitionProperties(t,n.properties):r.InputState.Valid},t.prototype._validateInputDefinitionProperties=function(n,i){if(n){var u=f.DtcUtils.getValueForCaseInsensitiveKey(i,t._inputDefinitionNonNegativeProperties);if(h.ignoreCaseComparer(u,"true")===0)return f.DtcUtils.isValidNonNegativeIntegerInRange(n,0,r.MaxPositiveNumber,!0);if(u=f.DtcUtils.getValueForCaseInsensitiveKey(i,t._inputDefinitionIsVariableOrNonNegativeNumberProperties),h.ignoreCaseComparer(u,"true")===0)return f.DtcUtils.isValueInVariableFormat(n)===!0||f.DtcUtils.isValidNonNegativeIntegerInRange(n,0,r.MaxPositiveNumber,!0)===r.InputState.Valid?r.InputState.Valid:r.InputState.Invalid_VariableOrNonPositiveNumber}return r.InputState.Valid},t._inputDefinitionNonNegativeProperties="isNonNegativeNumber",t._inputDefinitionIsVariableOrNonNegativeNumberProperties="isVariableOrNonNegativeNumber",t}(u.StoreBase);t.TaskStoreBase=c});

define("DistributedTaskControls/Phase/PhaseCache",["require","exports","DistributedTaskControls/Common/Factory"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._defaultAgentQueueId=null,t._permissibleQueues=null,t._allQueues=null,t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.updateDefaultQueueIdIfUndefined=function(n){this._defaultAgentQueueId||(this._defaultAgentQueueId=n)},t.prototype.getDefaultAgentQueueId=function(){return this._defaultAgentQueueId},t.prototype.updatePermissibleQueues=function(n){this._permissibleQueues=n},t.prototype.getPermissibleQueues=function(){return this._permissibleQueues},t.prototype.updateAllQueues=function(n){this._allQueues=n},t.prototype.getAllQueues=function(){return this._allQueues},t}(i.Singleton);t.PhaseCache=r});

define("DistributedTaskControls/Phase/DeployPhaseUtilities",["require","exports","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Phase/PhaseCache","DistributedTaskControls/Phase/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Utilities","VSS/Context","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function n(){}return n.getPhaseTypeTitleString=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.DeploymentGroupPhaseTitle;break;case u.DeployPhaseTypes.RunOnServer:t=f.AgentlessPhaseTitle;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.AgentPhaseTitle}return t},n.getPhaseHelpMarkdown=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.DeploymentGroupPhaseHelpMarkDown;break;case u.DeployPhaseTypes.RunOnServer:t=f.RunOnServerPhaseHelpMarkDown;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.AgentPhaseHelpMarkDown}return t},n.getPhaseTypeTitleDescription=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.PhaseRunOnMachineGroupDeploymentTitle;break;case u.DeployPhaseTypes.RunOnServer:t=f.PhaseRunOnServerTitle;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.PhaseRunOnAgentDeploymentTitle}return t},n.getPhaseTypeDescription=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=f.RunOnMachineGroupDescriptionText;break;case u.DeployPhaseTypes.RunOnServer:t=f.RunOnServerDescriptionText;break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=f.RunOnAgentDescriptionText}return t},n.getPhaseTypeIconName=function(n){var t=s.empty;switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:t=e.css("bowtie-icon","bowtie-environment","left");break;case u.DeployPhaseTypes.RunOnServer:t=e.css("bowtie-icon","bowtie-server"," left");break;case u.DeployPhaseTypes.AgentBasedDeployment:default:t=e.css("bowtie-icon","bowtie-server-remote","left")}return t},n.createDeployPhaseCopy=function(n){return!n?n:i.JQueryWrapper.extendDeep({},n)},n.getParallelExecutionTypeKey=function(n){var t=s.empty;switch(n){case u.ParallelExecutionTypes.MultiConfiguration:t=u.ParallelExecutionTypeKeys.MultiConfiguration;break;case u.ParallelExecutionTypes.MultiMachine:t=u.ParallelExecutionTypeKeys.MultiMachine;break;case u.ParallelExecutionTypes.None:default:t=u.ParallelExecutionTypeKeys.None}return t},n.getParallelExecutionTypeString=function(n){var t=s.empty;switch(n){case u.ParallelExecutionTypes.MultiConfiguration:t=f.ParallelismMultiConfigurationOptionText;break;case u.ParallelExecutionTypes.MultiMachine:t=f.ParallelismMultiAgentsOptionText;break;case u.ParallelExecutionTypes.None:default:t=f.ParallelismNoneOptionText}return t},n.getPhaseConditionTypeText=function(n){var t=f.PhaseConditionOnSucceededText;if(n===undefined||n===null)return t;switch(n){case u.PhaseConditionTypeKeys.Succeeded:t=f.PhaseConditionOnSucceededText;break;case u.PhaseConditionTypeKeys.SucceededOrFailed:t=f.PhaseConditionAlwaysText;break;case u.PhaseConditionTypeKeys.Failed:t=f.PhaseConditionOnFailureText;break;default:t=f.PhaseConditionCustomConditionText}return t},n.getPhaseConditionTypeValue=function(n){var t=n;switch(n){case f.PhaseConditionOnSucceededText:t=u.PhaseConditionTypeKeys.Succeeded;break;case f.PhaseConditionAlwaysText:t=u.PhaseConditionTypeKeys.SucceededOrFailed;break;case f.PhaseConditionOnFailureText:t=u.PhaseConditionTypeKeys.Failed;break;case f.PhaseConditionCustomConditionText:t=s.empty}return t},n.getDefaultDeployPhase=function(n,t,i){var r,f=this.getDefaultJobCancelTimeout(i);switch(n){case u.DeployPhaseTypes.MachineGroupBasedDeployment:r=this._getDefaultMachineGroupBasedDeployPhase(f);break;case u.DeployPhaseTypes.RunOnServer:r=this._getDefaultRunOnServerDeployPhase(f);break;case u.DeployPhaseTypes.AgentBasedDeployment:case u.DeployPhaseTypes.DefaultPhase:r=this._getDefaultAgentBasedDeployPhase(f)}return t&&t.contributedPhaseInputs&&(r.phaseInputs={},t.contributedPhaseInputs.forEach(function(n){r.phaseInputs[n]={}})),r},n.getDefaultJobCancelTimeout=function(n){return n!==undefined&&n!==null?n:u.DeployPhaseSectionConstants.MinJobCancelTimeout},n.getPhaseCondition=function(n){var t=null,i=s.empty;return n.phaseType===u.DeployPhaseTypes.AgentBasedDeployment?(t=n.deploymentInput,i=t.condition):n.phaseType===u.DeployPhaseTypes.MachineGroupBasedDeployment?(t=n.deploymentInput,i=t.condition):n.phaseType===u.DeployPhaseTypes.RunOnServer&&(t=n.deploymentInput,i=t?t.condition:undefined),i},n._getDefaultAgentBasedDeployPhase=function(n){return{name:f.AgentPhaseTitle,refName:null,phaseType:u.DeployPhaseTypes.AgentBasedDeployment,rank:-1,tasks:[],deploymentInput:{demands:[],dependencies:[],condition:u.PhaseConditionTypeKeys.Succeeded,enableAccessToken:!1,queueId:r.PhaseCache.instance().getDefaultAgentQueueId(),skipArtifactsDownload:!1,timeoutInMinutes:0,jobCancelTimeoutInMinutes:n}}},n._getDefaultRunOnServerDeployPhase=function(n){return{name:f.AgentlessPhaseTitle,refName:null,phaseType:u.DeployPhaseTypes.RunOnServer,rank:-1,tasks:[],deploymentInput:{dependencies:[],condition:u.PhaseConditionTypeKeys.Succeeded,jobCancelTimeoutInMinutes:n}}},n._getDefaultMachineGroupBasedDeployPhase=function(n){return{name:f.DeploymentGroupPhaseTitle,phaseType:u.DeployPhaseTypes.MachineGroupBasedDeployment,rank:-1,tasks:[],deploymentInput:{demands:[],enableAccessToken:!1,queueId:0,skipArtifactsDownload:!1,timeoutInMinutes:0,healthPercent:0,deploymentHealthOption:u.DeploymentHealthOptionConstants.AllTargetsInParallel,tags:[],jobCancelTimeoutInMinutes:n}}},n.createDeploymentMachineGroupCopy=function(n){var t={id:n.id,name:n.name};return n.pool&&(t.pool={id:n.pool.id,name:n.pool.name}),t},n.createDeploymentMachineGroupListCopy=function(n){return!n?n:i.JQueryWrapper.extendDeep({},n)},n.getPhaseTypeAsEnum=function(n){return s.ignoreCaseComparer(u.DeployPhaseTypes[u.DeployPhaseTypes.AgentBasedDeployment],u.DeployPhaseTypes[n]||n.toString())===0?u.DeployPhaseTypes.AgentBasedDeployment:s.ignoreCaseComparer(u.DeployPhaseTypes[u.DeployPhaseTypes.RunOnServer],u.DeployPhaseTypes[n]||n.toString())===0?u.DeployPhaseTypes.RunOnServer:s.ignoreCaseComparer(u.DeployPhaseTypes[u.DeployPhaseTypes.MachineGroupBasedDeployment],u.DeployPhaseTypes[n]||n.toString())===0?u.DeployPhaseTypes.MachineGroupBasedDeployment:u.DeployPhaseTypes.Undefined},n.getPhaseOverrideInputs=function(n){var t={},i,r,f;switch(n.phaseType){case u.DeployPhaseTypes.AgentBasedDeployment:i=n;t=i.deploymentInput.overrideInputs?i.deploymentInput.overrideInputs:{};break;case u.DeployPhaseTypes.RunOnServer:r=n;t=r.deploymentInput.overrideInputs?r.deploymentInput.overrideInputs:{};break;case u.DeployPhaseTypes.MachineGroupBasedDeployment:f=n;t=f.deploymentInput.overrideInputs?f.deploymentInput.overrideInputs:{}}return t},n.getMachinePageUrl=function(n,t){if(!n||n<0)return s.empty;var i={};return i.project=o.getDefaultWebContext()&&o.getDefaultWebContext().project?o.getDefaultWebContext().project.name:s.empty,i.view="MachineGroupView",i.mgid=n.toString(),i.tab="Machines",t&&(i.machineid=t.toString()),h.ActionUrlResolver.getActionUrl(null,null,"machinegroup",i)},n}();t.DeployPhaseUtilities=c});

define("DistributedTaskControls/Stores/ProcessParameterStore",["require","exports","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/InputValidation","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskStoreBase","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Diag","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,w;Object.defineProperty(t,"__esModule",{value:!0});b=function(n){function t(t){var i=n.call(this,{isFileSystemBrowsable:t.appContext.isFileSystemBrowsable,taskDelegates:t.appContext.taskDelegates,processInstanceId:t.appContext.processInstanceId})||this;return i._handleRemoveAllProcessParameters=function(){i._handleInitializeProcessParameters({processParameters:{dataSourceBindings:[],inputs:[],sourceDefinitions:[]},phaseList:[]})},i._handleUpdateInputError=function(n){i._inputValidation.tryHandleUpdateInputError(n)&&i.emitChanged()},i._handleUpdateInput=function(n){i._inputValidation.updateInputValue(n.name,n.value);i._updateInput(n);i._inputValidation.tryHandlePendingInputErrorDispatch(n.name,n.value);i.emitChanged()},i._handleUpdateInputOptions=function(n){i._updateInputOptions(n);i.emitChanged()},i._handleUpdateReferenceUsage=function(n){!n||!n.processParameterReferenceData||(n.shouldReferencesIncrease?n.processParameterReferenceData.forEach(function(n){i._increaseProcessParameterNameToUsageCount(n.processParameterName,n.referenceCount)}):n.processParameterReferenceData.forEach(function(n){i._decreaseProcessParameterNameToUsageCount(n.processParameterName,n.referenceCount)}),i._pruneProcessParameters(),i.emitChanged())},i._handleCreateProcessParameter=function(n){if(n){if(i._increaseProcessParameterNameToUsageCount(n.input.name,1),i._currentState.inputs){var t=y.first(i._currentState.inputs,function(t){return p.equals(t.name,n.input.name,!0)});if(t){i._updateProcessParameterInputDefinition(t,n.input);return}}else i._currentState.inputs=[];i._nameToInputDefnMap[n.input.name]=s.DtcUtils.createInputDefinitionCopy(n.input);i._currentState.inputs.push(i._nameToInputDefnMap[n.input.name]);n.sourceDefinition&&(i._sourceDefinitions||(i._sourceDefinitions=[]),i._sourceDefinitions.push(s.DtcUtils.createSourceDefinitionCopy(n.sourceDefinition)));n.dataSourceBinding&&(i._dataSourceBindings||(i._dataSourceBindings=[]),i._dataSourceBindings.push(s.DtcUtils.createDataSourceBindingCopy(n.dataSourceBinding)));i._dependencyToTargetMap=l.DataSourceBindingUtility.getDependencyToTargetsMap(i.getInputToValueMap(),i.getDataSourceBindings(),i.getSourceDefinitions());i.emitChanged()}},i._handleInitializeProcessParameters=function(n){i.initializeProcessParameters(n.processParameters);i._initializeProcessParametersToUsageCount(n.phaseList);n.forceUpdate&&i.emitChanged()},i._handleRemoveTaskReference=function(n){n&&(i._decreaseProcessParameterNameToUsageCount(n.name,1),i._pruneProcessParameters(),i.emitChanged())},i._inputValidation=new e.InputValidation,i._currentState={inputs:null},i._originalState={inputs:null},i._nameToInputDefnMap={},!t.phaseList||i._handleInitializeProcessParameters({phaseList:t.phaseList,processParameters:t.processParameters}),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._processParameterActions=r.ActionsHubManager.GetActionsHub(i.ProcessParameterActions,t);this._processParameterActions.updateInput.addListener(this._handleUpdateInput);this._processParameterActions.updateInputError.addListener(this._handleUpdateInputError);this._processParameterActions.updateInputOptions.addListener(this._handleUpdateInputOptions);this._processParameterActions.createProcessParameter.addListener(this._handleCreateProcessParameter);this._processParameterActions.initializeProcessParameters.addListener(this._handleInitializeProcessParameters);this._processParameterActions.unlinkProcessParameter.addListener(this._handleRemoveTaskReference);this._processParameterActions.updateReferenceCount.addListener(this._handleUpdateReferenceUsage);this._processParameterActions.removeAllProcessParameters.addListener(this._handleRemoveAllProcessParameters)},t.prototype.initializeProcessParameters=function(n){var t=this;!n||(n.inputs?(this._updateOptionsIfRequired(n.inputs),this._originalState={inputs:n.inputs.map(function(n){return s.DtcUtils.createInputDefinitionCopy(n)})},this._nameToInputDefnMap={},this._currentState={inputs:n.inputs.map(function(n){return t._nameToInputDefnMap[n.name]=s.DtcUtils.createInputDefinitionCopy(n),t._nameToInputDefnMap[n.name]})}):(this._currentState={inputs:null},this._originalState={inputs:null}),this._sourceDefinitions=n.sourceDefinitions,this._dataSourceBindings=n.dataSourceBindings,this._dependencyToTargetMap=l.DataSourceBindingUtility.getDependencyToTargetsMap(this.getInputToValueMap(),this.getDataSourceBindings(),this.getSourceDefinitions()))},t.prototype.getProcessParameters=function(){var n;return!this._currentState||!this._currentState.inputs||(n=this._currentState.inputs.map(function(n){return s.DtcUtils.createInputDefinitionCopy(n)})),this._removeInputOptionsIfRequired(n),{inputs:n,sourceDefinitions:this._sourceDefinitions,dataSourceBindings:this._dataSourceBindings}},t.prototype.getProcessParameterToValueMap=function(){return{}},t.prototype.getInputToValueMap=function(){var t={};for(var n in this._nameToInputDefnMap)this._nameToInputDefnMap.hasOwnProperty(n)&&(t[n]=this._nameToInputDefnMap[n].defaultValue);return t},t.prototype.getSourceDefinitions=function(){return this._sourceDefinitions},t.prototype.getDataSourceBindings=function(){return this._dataSourceBindings},t.prototype.getState=function(){return this._currentState},t.prototype.getInputDefinition=function(n){return this._nameToInputDefnMap[n]},t.prototype.getInputState=function(t,i){var r=n.prototype.getInputState.call(this,t,i);return r!==f.InputState.Valid||this._inputValidation.isValid(t.name)||(r=f.InputState.Invalid),r},t.prototype.isDirty=function(){return!this._currentState||!this._originalState||!this._currentState.inputs||!this._originalState.inputs?!1:!y.arrayEquals(this._originalState.inputs,this._currentState.inputs,function(n,t){return p.equals(n.name,t.name,!0)&&p.equals(n.defaultValue,t.defaultValue)})},t.prototype.isValid=function(){var n=this,t=!0;return this._currentState&&this._currentState.inputs&&this._currentState.inputs.length>0&&this._currentState.inputs.forEach(function(i){if(n.isVisible(i.visibleRule,n._dependencyToTargetMap,i.name)&&n.getInputState(i,i.defaultValue)!==u.InputState.Valid){t=!1;return}}),t},t.prototype.getTaskInputState=function(n){var t=this;return{inputName:n,inputValue:this._getTaskInputValue(n),options:this._getTaskInputOptions(n),isHidden:function(){return v.logVerbose("InputName: "+n),t._nameToInputDefnMap[n]?!t.isVisible(t._nameToInputDefnMap[n].visibleRule,t._dependencyToTargetMap,n):!1}}},t.prototype.getActionForInputField=function(){return o.ActionForTaskInput.NavigateToVariablesTab},t.prototype.getDependencyToTargetsMap=function(){return this._dependencyToTargetMap},t.prototype.getInputNameToUsageCount=function(n){if(n)return this._nameToUsageCount[n.toLowerCase()]},t.prototype.disposeInternal=function(){this._processParameterActions.updateInput.removeListener(this._handleUpdateInput);this._processParameterActions.updateInputError.removeListener(this._handleUpdateInputError);this._processParameterActions.updateInputOptions.removeListener(this._handleUpdateInputOptions);this._processParameterActions.createProcessParameter.removeListener(this._handleCreateProcessParameter);this._processParameterActions.initializeProcessParameters.removeListener(this._handleInitializeProcessParameters);this._processParameterActions.unlinkProcessParameter.removeListener(this._handleRemoveTaskReference);this._processParameterActions.updateReferenceCount.removeListener(this._handleUpdateReferenceUsage);this._processParameterActions.removeAllProcessParameters.removeListener(this._handleRemoveAllProcessParameters)},t.prototype._getTaskInputValue=function(n){return this._nameToInputDefnMap&&this._nameToInputDefnMap[n]?this._nameToInputDefnMap[n].defaultValue:p.empty},t.prototype._getTaskInputOptions=function(n){return this._nameToInputDefnMap&&this._nameToInputDefnMap[n]?this._nameToInputDefnMap[n].options:{}},t.prototype._updateInput=function(n){this._nameToInputDefnMap&&this._nameToInputDefnMap[n.name]&&(this._nameToInputDefnMap[n.name].defaultValue=n.value)},t.prototype._updateInputOptions=function(n){this._nameToInputDefnMap&&this._nameToInputDefnMap[n.name]&&(this._nameToInputDefnMap[n.name].options=n.options)},t.prototype._removeInputOptionsIfRequired=function(n){var t=this;n&&n.forEach(function(n){var r=s.DtcUtils.getTaskInputType(n),i;switch(r){case f.INPUT_TYPE_CONNECTED_SERVICE:case f.INPUT_TYPE_AZURE_CONNECTION:n.options=null;break;case f.INPUT_TYPE_PICK_LIST:i=a.PickListInputUtility.getPickListOptions(n,t.getDataSourceBindings(),t.getSourceDefinitions(),p.empty);!i.dataSourceBinding&&!i.sourceDefintion||(n.options=null)}})},t.prototype._updateOptionsIfRequired=function(n){var t=this;n&&this._nameToInputDefnMap&&n.forEach(function(n){n.options&&Object.keys(n.options).length!==0||t._nameToInputDefnMap.hasOwnProperty(n.name)&&(n.options=t._nameToInputDefnMap[n.name].options)})},t.prototype._updateProcessParameterInputDefinition=function(n,t){n&&t&&(n.required=!!n.required||!!t.required)},t.prototype._initializeProcessParametersToUsageCount=function(n){n&&(this._nameToUsageCount={},this._updateProcParamNameToUsageMap(n),this._pruneProcessParameters())},t.prototype._updateProcParamNameToUsageMap=function(n){var t=this;this._currentState&&this._currentState.inputs&&n&&this._currentState.inputs.map(function(i){var r=p.format(f.ProcessParameterConstants.NewProcessParameterBoundInputValueFormat,i.name);n.map(function(n){w.searchPhaseProcessParametersReferences(n,r,function(){t._increaseProcessParameterNameToUsageCount(i.name,1)});n.tasks&&n.tasks.map(function(n){w.searchTaskInputProcessParametersReferences(n,r,function(){t._increaseProcessParameterNameToUsageCount(i.name,1)})})})})},t.prototype._pruneProcessParameters=function(){var t=this,n;this._nameToUsageCount&&this._currentState&&this._currentState.inputs&&(n=[],this._currentState.inputs.map(function(i){t._nameToUsageCount[i.name.toLowerCase()]&&t._nameToUsageCount[i.name.toLowerCase()]>0&&n.push(i)}),this._currentState.inputs=n)},t.prototype._increaseProcessParameterNameToUsageCount=function(n,t){this._nameToUsageCount||(this._nameToUsageCount={});var i=n.toLowerCase();this._nameToUsageCount[i]||(this._nameToUsageCount[i]=0);this._nameToUsageCount[i]=this._nameToUsageCount[i]+t},t.prototype._decreaseProcessParameterNameToUsageCount=function(n,t){var i=n.toLowerCase();this._nameToUsageCount&&this._nameToUsageCount[i]&&(this._nameToUsageCount[i]=this._nameToUsageCount[i]-t,this._nameToUsageCount[i]<=0&&delete this._nameToUsageCount[i])},t}(h.TaskStoreBase);t.ProcessParameterStore=b;w=function(){function n(){}return n.searchPhaseProcessParametersReferences=function(t,i,r){var u=c.DeployPhaseUtilities.getPhaseOverrideInputs(t);return n.searchProcessParametersInInputs(u,i,r)},n.searchTaskInputProcessParametersReferences=function(t,i,r){var u=t.inputs;return n.searchProcessParametersInInputs(u,i,r)},n.searchProcessParametersInInputs=function(n,t,i){var r,u;for(r in n)n.hasOwnProperty(r)&&(u=n[r],p.equals(t,u,!0)&&i())},n}();t.ProcessParametersUtilities=w});

define("DistributedTaskControls/Actions/ProcessParameterActionsCreator",["require","exports","DistributedTaskControls/Components/Task/TaskActionsCreatorBase","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTaskControls/Common/Stores/StoreManager","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._actions=u.ActionsHubManager.GetActionsHub(r.ProcessParameterActions,n);this._instanceId=n},t.prototype.createProcessParameter=function(n){this._actions.createProcessParameter.invoke(n)},t.prototype.removeAllProcessParameters=function(){this._actions.removeAllProcessParameters.invoke(null)},t.prototype.updateTaskInputError=function(n,t,i){this._actions.updateInputError.invoke({name:n,message:t,value:i})},t.prototype.updateTaskInputValue=function(n,t){var r=this,i;this._actions.updateInput.invoke({name:n,value:t});this._processParameterStore||(this._processParameterStore=o.StoreManager.GetStore(e.ProcessParameterStore,this._instanceId));i=this._processParameterStore.getDependencyToTargetsMap();i&&i.hasOwnProperty(n)&&i[n].forEach(function(n){var t=r._processParameterStore.getTaskInputState(n);t&&t.inputValue&&(r._actions.updateInput.invoke({name:n,value:s.empty}),r._actions.updateInputOptions.invoke({name:n,options:null}))})},t.prototype.updateTaskInputOptions=function(n,t){this._actions.updateInputOptions.invoke({name:n,options:t})},t.prototype.unlinkProcessParameter=function(n){this._actions.unlinkProcessParameter.invoke({name:n})},t.prototype.initializeProcessParameters=function(n,t,i){this._actions.initializeProcessParameters.invoke({processParameters:n,phaseList:t,forceUpdate:i})},t.prototype.updateReferenceCount=function(n){this._actions.updateReferenceCount.invoke(n)},t.getKey=function(){return f.ActionCreatorKeys.ProcessParameterActionsCreator},t}(i.TaskActionsCreatorBase);t.ProcessParameterActionsCreator=h});

define("DistributedTaskControls/Components/Task/PredicateExpressionHelper",["require","exports","DistributedTaskControls/Common/RegexConstants"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r="&&",u="||",f=function(){function n(){}return n.getPredicateExpression=function(n){var t=null,i,f,e;return n&&(n.indexOf(r)!==-1?(i=n.split(r),f=i.map(this.getPredicateRule),t={operator:r,predicateRules:f}):n.indexOf(u)!==-1?(i=n.split(u),f=i.map(this.getPredicateRule),t={operator:u,predicateRules:f}):(e=this.getPredicateRule(n),t={operator:null,predicateRules:[e]})),t},n.getPredicateRule=function(n){var r=i.PredicateRuleRegEx,u=null,t;return!n||!n.trim()?null:(r.lastIndex=0,n=n.trim(),t=r.exec(n),t&&t.length===4&&(u={inputName:t[1].trim(),condition:t[2].trim(),expectedValue:t[3].trim()}),u)},n.getPredicateResult=function(n,t){var i=!1,u=t?t.toLowerCase():t,r;if(n){r=n.expectedValue?n.expectedValue.toLowerCase():n.expectedValue;switch(n.condition){case"=":case"==":i=u===r;break;case"!=":i=u!==r;break;case"<":i=u<r;break;case">":i=u>r;break;case"<=":i=u<=r;break;case">=":i=u>=r}}return i},n.evaluate=function(n,t,i){return i===r?n&&t:i===u?n||t:i===null?t:void 0},n}();t.PredicateExpressionHelper=f});

define("DistributedTaskControls/Components/Task/FilterHelper",["require","exports","DistributedTaskControls/Components/Task/PredicateExpressionHelper"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r="&&",u=function(){function n(){}return n.getValueToCheck=function(n,t){var i=n.inputName;return this.getPropertyValue(t,i)},n.getFilteredObjects=function(n,t){var l=[],u=i.PredicateExpressionHelper.getPredicateExpression(n),f,h,c,e,o,s,a,v;if(!u)return t;for(f=0,h=t;f<h.length;f++){for(c=h[f],e=u.operator===r?!0:!1,o=0;o<u.predicateRules.length;o++)s=u.predicateRules[o],!s||(a=this.getValueToCheck(s,c),v=i.PredicateExpressionHelper.getPredicateResult(s,a),e=i.PredicateExpressionHelper.evaluate(e,v,u.operator));e&&l.push(c)}return l},n.getPropertyValue=function(n,t){var i=null,u,f,r;if(!n)return i;if(n instanceof Array){for(u=0;u<n.length;u++)if(i=this.getPropertyValue(n[u],t),i)return i}else for(f in n)if(n.hasOwnProperty(f))if(r=n[f],r instanceof Object||r instanceof Array){if(i=this.getPropertyValue(r,t),i)return i}else if(f.trim().toLowerCase()===t.trim().toLowerCase())return r;return i},n}();t.FilterHelper=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility",["require","exports","q","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/Task/FilterHelper","VSS/Utils/String","VSS/Utils/Array","VSS/VSS","VSS/Diag","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w,b;Object.defineProperty(t,"__esModule",{value:!0});p=function(){function n(){}return n.Subscription="Subscription",n.EndpointFilterRule="EndpointFilterRule",n.AzureRMEndpointDefaultFilterRule="ScopeLevel != ManagementGroup && ScopeLevel != AzureMLWorkspace",n}();t.ConnectedServiceComponentUtilityConstants=p;w="?resourceId=";b=function(){function n(){}return n.getConnectedServiceOptions=function(t,e,h,l,y){var w=i.defer(),k=!y?null:y[p.EndpointFilterRule],g;c.equals(h,u.ServiceEndpointType.AzureRM,!0)&&!k&&(k=p.AzureRMEndpointDefaultFilterRule);l&&(g=l.split(","));var d=t,b={},nt=e?o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(h,g):o.ConnectedServiceEndpointSource.instance().beginGetSubscriptionNames();return nt.then(function(i){var u=e?n._getMapForServiceEndPoints(i,k):n._getMapForServiceMetaData(i),y=t.split(s.CommaSeparator),h=[],l=[];y.forEach(function(n){!n||u[n]||r.VariableExtractor.containsVariable(n)||f.DtcUtils.containsProcessParameter(n)?l.push(n):h.push(n)});h.length>0?o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(undefined,undefined,h).then(function(n){n.forEach(function(n){if(n){var t=n.id;u[t]=n.name;l.push(t)}});b=u;d=l.join(s.CommaSeparator);w.resolve({optionsMap:b,value:d})},function(n){w.reject(n);v.logError(n);a.handleError({name:c.empty,message:n})}):(b=u,w.resolve({optionsMap:b,value:d}))},function(n){w.reject(n);v.logError(n);a.handleError(n)}),w.promise},n.getConnectedServiceType=function(n){return n.type.split(":")[1]||c.empty},n.getConnectedServiceAuthSchemes=function(n){return n.type.split(":")[2]||c.empty},n.openManageLink=function(n){var t=r.ActionUrlResolver.getActionUrl(null,null,"services",{area:"admin"});!!n&&t&&(t=t.concat(w,n));e.UrlUtilities.openInNewWindow(t,!0)},n.showAddServiceEndpointLink=function(t,r){var f=this,e;return c.equals(t,u.ServiceEndpointType.GitHub,!0)?i.resolve({showAddServiceEndpointLink:!0}):n._isAddServiceConnectionNotSupported(t)?this._hideAddServiceEndpointLink():(r&&(e=r.split(",")),o.ConnectedServiceEndpointSource.instance().getServiceEndpointTypes(t).then(function(n){var t,r;return!!n&&n.length>=1?(t=n[0],e&&t.authenticationSchemes&&(t.authenticationSchemes=t.authenticationSchemes.filter(function(n){return l.contains(e,n.scheme,c.localeIgnoreCaseComparer)})),!!t.authenticationSchemes&&t.authenticationSchemes.length>=1?(r={showAddServiceEndpointLink:!0,endpointType:t},i.resolve(r)):f._hideAddServiceEndpointLink()):f._hideAddServiceEndpointLink()},function(n){return v.logError(n),f._hideAddServiceEndpointLink()}))},n._getMapForServiceEndPoints=function(n,t){for(var r,u={},e=h.FilterHelper.getFilteredObjects(t,n),i=0,f=e;i<f.length;i++)r=f[i],u[r.id]=r.name;return u},n._getMapForServiceMetaData=function(n){var t={};return n.forEach(function(n){t[n.name]=n.friendlyName}),t},n._isAddServiceConnectionNotSupported=function(n){return c.equals(n,u.ServiceEndpointType.Generic,!0)||c.equals(n,u.ServiceEndpointType.ExternalGit,!0)||c.equals(n,u.ServiceEndpointType.SSH,!0)||c.equals(n,u.ServiceEndpointType.Subversion,!0)||y.getPageContext().webAccessConfiguration.isHosted&&c.equals(n,u.ServiceEndpointType.AzureRM,!0)},n._hideAddServiceEndpointLink=function(){return i.resolve({showAddServiceEndpointLink:!1})},n.getSourceFromMap=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t.sort(c.ignoreCaseComparer)},n.getKeyFromValue=function(n,t){var i,u;if(r.VariableExtractor.containsVariable(t)||f.DtcUtils.containsProcessParameter(t))return t;i=c.empty;for(u in n)if(n[u]===t){i=u;break}return i},n.getValueFromKey=function(n,t){var i,u;if(r.VariableExtractor.containsVariable(t)||f.DtcUtils.containsProcessParameter(t))return t;i=c.empty;for(u in n)if(u===t){i=n[t];break}return i},n}();t.ConnectedServiceComponentUtility=b});

define("DistributedTaskControls/Actions/SecureFileActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateSecureFiles=new u.Action;this._secureFileUploaded=new u.Action},Object.defineProperty(t.prototype,"updateSecureFiles",{get:function(){return this._updateSecureFiles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secureFileUploaded",{get:function(){return this._secureFileUploaded},enumerable:!0,configurable:!0}),t.getKey=function(){return r.ActionsKeys.SecureFileActions},t}(i.ActionsHubBase);t.SecureFileActions=f});

define("DistributedTaskControls/Stores/SecureFilesStore",["require","exports","DistributedTaskControls/Actions/SecureFileActions","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","VSS/Utils/String"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._secureFiles=[],t._onUpdateSecureFiles=function(n){t._secureFiles=n.secureFiles||[];t._errorMessage=n.errorMessage;t.emitChanged()},t._onSecureFileUploaded=function(n){if(t._errorMessage=n.errorMessage,!!n.secureFile){for(var i=0,r=t._secureFiles.length;i<r;++i)if(e.localeComparer(t._secureFiles[i].name,n.secureFile.name)>0)break;t._secureFiles.splice(i,0,n.secureFile)}t.emitChanged()},t}return __extends(t,n),t.getKey=function(){return r.StoreKeys.SecureFilesStore},t.prototype.getSecureFiles=function(){return this._secureFiles},t.prototype.getErrorMessage=function(){return this._errorMessage||e.empty},t.prototype.initialize=function(n){this._actionHub=u.ActionsHubManager.GetActionsHub(i.SecureFileActions,n);this._actionHub.updateSecureFiles.addListener(this._onUpdateSecureFiles);this._actionHub.secureFileUploaded.addListener(this._onSecureFileUploaded)},t.prototype.disposeInternal=function(){this._actionHub&&(this._actionHub.updateSecureFiles.removeListener(this._onUpdateSecureFiles),this._actionHub.secureFileUploaded.removeListener(this._onSecureFileUploaded))},t}(f.ViewStoreBase);t.SecureFilesStore=o});

define("VSS/Utils/Clipboard",["require","exports","VSS/VSS"],function(n,t,i){function r(n,t){var u=!1,r,f,i;if(t||window.clipboardData===undefined){i=$("<div/>");try{i.css("background-color","inherit");t?i.append(n):(i.css("white-space","pre"),i.text(n));document.body.createTextRange?(i.prependTo($("body")),r=document.body.createTextRange(),r.moveToElementText(i[0]),r.select(),u=r.execCommand("copy")):document.createRange&&window.getSelection&&(i.appendTo($("body")),r=document.createRange(),f=window.getSelection(),f.removeAllRanges(),r.selectNodeContents(i[0]),f.addRange(r),u=document.execCommand("copy"))}finally{i.remove()}}else window.clipboardData.setData(o,n),u=!0;return u}function u(n,t){var r;t&&t.copyDialogOptions?(r=t.copyDialogOptions,r.data=n,r.copyAsHtml=t.copyAsHtml):(r={data:n},t&&(r.copyAsHtml=t.copyAsHtml));i.using(["VSS/Controls/Dialogs"],function(n){n.show(n.CopyContentDialog,r)})}function s(n,t){if(n&&typeof n=="string")if(t&&t.showCopyDialog)u(n,t);else{var i=!1;if(t&&t.copyAsHtml){if(e())try{i=r(n,!0)}catch(o){}}else if(f())try{i=r(n,!1)}catch(o){}i||u(n,t)}}function f(){return document.queryCommandSupported("copy")||window.clipboardData!==undefined}function e(){return document.body.createTextRange!==undefined||document.queryCommandSupported("copy")&&document.createRange!==undefined}Object.defineProperty(t,"__esModule",{value:!0});var o="text";t.copyToClipboard=s;t.supportsNativeCopy=f;t.supportsNativeHtmlCopy=e});

define("DistributedTaskControls/Common/YamlHelper",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/SecureFilesStore","DistributedTasksCommon/TFS.Tasks.Types","VSS/Controls/Dialogs","VSS/Utils/Clipboard","VSS/Utils/Number","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/CopyDialogueStyles"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function g(n,t){ut(r.Feature.CopyYaml,n);var u=v.show(v.CopyContentDialog,{dialogLabel:f.CopyContentHelpText,dialogLabelExtend:w.format(f.CopyContentHelpDocsLink,f.CopyContentHelpDocsLinkTitle),data:t,disableEdit:!0,textAreaCopyClass:"dtc-copy-dialogue-text-area",buttons:[{id:i.KEY_COPY_AS_YAML,text:f.CopyToClipboard,click:function(){y.copyToClipboard(t);ut(r.Feature.ViewAsYaml,n);u.close()}}]})}function ut(n,t){var i={};t&&(i[r.Properties.ViewYamlArtifact]=t);r.Telemetry.instance().publishEvent(n,i,r.Source.CommandButton)}function et(n,t,i,r,u){ft(n,t,i,r,u).then(function(n){g(b.ProcessCIKey,n)})}function ot(n,t,i,r,u,f,e,o,s,h,c){var l=new it(n,t,i,r,u,f,e,o,s,h,c);l.getValue(!1).then(function(n){g(b.jobCIKey,n)})}function ft(n,t,i,r,u){var f="",o=[],e;return n=n||[],n.forEach(function(t){o.push(t.getValue(n.length>1))}),t!==s.Boolean.trueString&&(f+=b.resourcesKey+b.colon+w.newLine+b.repoKey+b.colon+b.singleSpace+b.syncSourcesValue+w.newLine,i&&i!==s.Boolean.falseString&&(f+=k(b.cleanOption)+b.colon+b.singleSpace+i+w.newLine),r===s.Boolean.trueString&&(f+=k(b.lfsOption)+b.colon+b.singleSpace+r+w.newLine),e=u?p.parseInvariant(u):0,e>0&&(f+=k(b.fetchDepthOption)+b.colon+b.singleSpace+e+w.newLine),f+=w.newLine),n.length>1&&(f+=b.jobsProperty+w.newLine+w.newLine),Promise.all(o).then(function(n){return n.forEach(function(n){f+=n+w.newLine}),f})}function st(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=new rt(n,t,i,r,u,f,e,o,s,h,c,l,a,!1,0,v);y.getValue(!0).then(function(n){g(b.TaskCIKey,n)})}function k(n,t){if(t){while(t>0)n=b.singleSpace+n,t--;return n}return b.spaces+n}function d(n){return n+b.spaces}function tt(n){return/[^A-Za-z0-9\./.]/.test(n)?"'"+n.replace("'","''")+"'":n}var it,rt,nt,b;Object.defineProperty(t,"__esModule",{value:!0});t.showCopyDialog=g;t.handleViewProcessAsYaml=et;t.handleViewJobAsYaml=ot;t.getProcessSnippet=ft;t.handleViewTaskAsYaml=st;it=function(){function n(n,t,i,r,u,f,e,o,s,h,c){this._timeoutInMinutes=0;this._variables={};this._variablesComments="";this._dependencies=[];this._condition=w.empty;this._refName=n.replace(new RegExp(" "),"_");this._name=t;this._jobType=i;this._tasks=r||[];this._demands=u;this._poolName=f;this._poolIsHosted=e;this._timeoutInMinutes=o;this._dependencies=s;this._condition=h;this._executionPlanType=c}return n.prototype.getValue=function(n){var u=this,t=this._getExecutionPlanTypeComment(),r,i;return n&&(t+=b.jobProperty+this._refName+w.newLine,t+=k(b.displayNameProperty)+b.colon+b.singleSpace+this._name+w.newLine),r=this._getDependencies(n),t+=r,this._condition&&this._condition!==w.empty&&n&&(t+=d(""),t+=b.conditionProperty+b.colon+b.singleSpace+this._condition+w.newLine),n&&(t+=d("")),this._jobType===c.DeployPhaseTypes.RunOnServer?t+=b.poolProperty+b.singleSpace+b.serverValue+w.newLine:(t+=b.poolProperty+w.newLine,n&&(t+=d("")),t+=k(b.nameProperty)+this._poolName+w.newLine),i=this._getDemands(n),t+=i,i&&i!==w.empty&&(t+=w.newLine),this._timeoutInMinutes>0&&(n&&(t+=d("")),t+=k(b.timeoutInMinutesProperty)+b.colon+b.singleSpace+this._timeoutInMinutes+w.newLine+w.newLine),this._getTasks().then(function(i){return t+u._getVariablesText(n)+i})},n.prototype._getDemands=function(n){var t="",i;return this._demands&&this._demands.length>0&&(i=this._demands.length>1,n&&(t=d(t)),t+=k(b.demandsProperty+b.colon),i&&(t+=w.newLine),this._demands.forEach(function(r){r!==w.empty&&r.length>0&&(i&&(t+=k("-",n?4:2)),t+=b.singleSpace+r+w.newLine)})),t},n.prototype._getDependencies=function(n){var t="",i;return this._dependencies&&this._dependencies.length>0&&(i=this._dependencies.length>1,n&&(t=d(t)),t+=b.dependencyProperty+b.colon,i&&(t+=w.newLine),this._dependencies.forEach(function(r){r!==w.empty&&r.length>0&&(i&&(t+=k("-",n?2:undefined)),t+=b.singleSpace+r+w.newLine)})),t},n.prototype._getTasks=function(){var n=this,t="",i,r;return this._tasks&&this._tasks.length>0?(i=[],r=0,this._tasks.forEach(function(n){i.push(n.getValue());r++}),Promise.all(i).then(function(i){return i.forEach(function(n){t+=n+w.newLine}),n._tasks.forEach(function(t){var r,u,i;n._variablesComments+=t.getVariablesComments();r=t.getVariables();u=Object.keys(n._variables);for(i in r)u.length!==0&&!n._variables[i]||(n._variables[i]=r[i])}),t})):Promise.resolve(t)},n.prototype._getVariablesText=function(n){var r=this,t="",i=Object.keys(this._variables);return i.length>0&&(n&&(t=d(t)),t+=b.VariablesProperty+b.colon+w.newLine,i.forEach(function(i){n&&(t=d(t));t+=k(i)+b.colon+b.singleSpace+"'"+r._variables[i].replace("'","''")+"'"+w.newLine})),this._variablesComments||t?this._variablesComments+t+w.newLine:""},n.prototype._getExecutionPlanTypeComment=function(){return this._executionPlanType!==c.ParallelExecutionTypes.None?"#"+f.ParallelExecutionYamlComment+w.newLine+w.newLine:w.empty},n}();t.YamlJob=it;rt=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,v,y,p,b){this._isTaskGroup=!1;this._multiplePhases=!1;this._enabled=!0;this._continueOnError=!1;this._timeout=0;this._taskIndex=0;this._usedVariables={};this._variablesComments="";this._hasAlias=!1;this._skipSyncSources=!1;this._majorVersion=this._getTaskVersion(u);this._inputs=n;this._taskDefinition=t;this._enabled=f;this._continueOnError=e;this._condition=o;this._timeout=s;this._multiplePhases=y;this._taskIndex=p;this._inputsStates=h;this._variables=c;this._processParameters=l;this._displayName=r;this._environmentVariables=v;this._skipSyncSources=b;this._name=this._taskDefinition.contributionIdentifier&&this._taskDefinition.contributionIdentifier!==w.empty?this._taskDefinition.contributionIdentifier+"."+this._taskDefinition.name:this._taskDefinition?this._taskDefinition.name:i;this._taskDefinition&&this._taskDefinition.definitionType===a.DefinitionType.metaTask&&(this._isTaskGroup=!0)}return n.prototype.getValue=function(n){var s=this,t="",i,u,r,e,o;return this._isTaskGroup?(t+="#"+f.TaskGroupViewYamlError+w.newLine,Promise.resolve(t)):(this._taskIndex===0&&(this._multiplePhases&&(t=d(t)),t+=b.stepsProperty+b.colon+w.newLine,this._skipSyncSources&&(t+=b.skipSyncKey+b.colon+b.singleSpace+b.skipSyncValue+w.newLine)),this._multiplePhases&&(t=d(t)),i=this._name+"@"+this._majorVersion,u=this._resolveTaskName(i),i===u?t+=b.taskProperty+b.colon+b.singleSpace+i+w.newLine:(t+=u+b.colon+b.singleSpace,this._hasAlias=!0),r="",this._hasAlias?(this._multiplePhases&&(r+=d("")),r+=k(b.displayNameProperty)+b.colon+b.singleSpace+tt(this._displayName)+w.newLine):(this._multiplePhases&&(t=d(t)),t+=k(b.displayNameProperty)+b.colon+b.singleSpace+tt(this._displayName)+w.newLine),e=this._getControlOptions(),o=this._getEnvironmentVariables(),this._getInputs().then(function(i){var u="";return n&&(u=s._getVariablesText()),u+t+i+r+e+o}))},n.prototype.getVariables=function(){return this._usedVariables},n.prototype.getVariablesComments=function(){return this._variablesComments},n.prototype._resolveTaskName=function(n){var t=b.TasksAliasLookup[n];return(n==="PowerShell@2"||n==="Bash@3")&&this._inputs[b.TargetTypeInputName]&&this._inputs[b.TargetTypeInputName]===b.TargetTypeInputFilePathValue?n:t?t:n},n.prototype._getControlOptions=function(){var u="",n,t,r;return this._enabled||(this._multiplePhases&&(u=d(u)),u+=k(b.enabledProperty)+b.colon+b.singleSpace+this._enabled+w.newLine),n="",this._continueOnError&&(this._multiplePhases&&(n=d(n)),n+=k(b.continueOnErrorProperty)+b.colon+b.singleSpace+this._continueOnError+w.newLine),t="",this._condition&&this._condition!==i.TaskConditions.Succeeded&&(this._multiplePhases&&(t=d(t)),t+=k(b.conditionProperty)+b.colon+b.singleSpace+this._condition+w.newLine),r="",this._timeout>0&&(this._multiplePhases&&(r=d(r)),r+=k(b.timeoutInMinutesProperty)+b.colon+b.singleSpace+this._timeout+w.newLine),u+n+t+r},n.prototype._getVariablesText=function(){var i=this,n="",t=Object.keys(this._usedVariables);return t.length>0&&(n+=b.VariablesProperty+b.colon+w.newLine,t.forEach(function(t){n+=k(t)+b.colon+b.singleSpace+"'"+i._usedVariables[t].replace("'","''")+"'"+w.newLine})),this._variablesComments||n?this._variablesComments+n+w.newLine:""},n.prototype._getEnvironmentVariables=function(){var t=this,n="";return this._environmentVariables&&Object.keys(this._environmentVariables).length>0&&(n+=k(b.environmentVariablesProperty)+b.colon+w.newLine,Object.keys(this._environmentVariables).forEach(function(i){n+=k(k(i))+b.colon+b.singleSpace+t._environmentVariables[i]+w.newLine})),n},n.prototype._getInputs=function(){var n=this,t="",i;return this._inputs&&Object.keys(this._inputs).length>0?(i=[],Object.keys(this._inputs).forEach(function(t){if(t&&t!==w.empty&&n._inputs.hasOwnProperty(t)&&n._inputs[t]&&n._inputs[t]!==w.empty&&!n._inputsStates[t]){var r=n._getInputDefinition(t),u=r&&r.defaultValue?r.defaultValue===n._inputs[t]:!1,f=t===b.TargetTypeInputName&&n._inputs[t]===b.TargetTypeInputInlineValue;(t!==b.TargetTypeInputName||!u)&&(u||f)||i.push(n._getInputValue(t,r))}}),Promise.all(i).then(function(i){return i.forEach(function(i){var e=i.getName(),a=e.toLowerCase()===b.ScriptInputName,v=e===b.TargetTypeInputName,y=e===b.TargetTypeInputFilePathValue,u,s,o,h,c,r,l;if(n._hasAlias&&(a||v||y)?t+=i.getValue()+w.newLine:(u=k(e),n._hasAlias?n._multiplePhases&&(u=k(u)):u=n._multiplePhases?k(u,4):k(u),t+=u+b.colon+b.singleSpace+i.getValue()+w.newLine),s=n._removeCharsFromBegining(i.getValue()),o=n._removeFromEnd(s,s.length-1),o&&o.indexOf(b.VariablePrefix)>=0){h=n._getVariableNames(o);for(c in h)r=h[c],l=Object.keys(n._usedVariables),l.length!==0&&n._usedVariables[r]||(n._variables&&!!n._variables[r]?n._variables[r].isSecret||n._variables[r].allowOverride?n._variablesComments+=n._variables[r].isSecret?"#"+w.format(f.SecretVariableYamlComment,r)+w.newLine:"#"+w.format(f.OverrideVariableYamlComment,r)+w.newLine:n._usedVariables[r]=n._variables[r].value:n._processParameters&&!!n._processParameters[r]?n._usedVariables[r]=n._processParameters[r]:n._isPredefinedVariable(r)||(n._variablesComments+="#"+w.format(f.UndefinedVariableYamlComment,r)+w.newLine))}}),t!==w.empty&&(n._hasAlias||(t=k(b.inputsProperty)+b.colon+w.newLine+t),n._multiplePhases&&!n._hasAlias&&(t=k(t))),t})):Promise.resolve(t)},n.prototype._isPredefinedVariable=function(n){var t=!1;return b.PredefinedVariablesPrefixes.some(function(i){if(w.startsWith(n,i,w.ignoreCaseComparer))return t=!0,!0}),t},n.prototype._removeCharsFromBegining=function(n,t){if(t===void 0&&(t=1),!n)return n;while(t>0&&n)n=n.substr(1),t--;return n},n.prototype._removeFromEnd=function(n,t){return!n||n.length<=t||t===-1?n:n.substr(0,t)},n.prototype._getVariableNames=function(n){var u=[],t,r,i;if(n)for(t=n.indexOf("$("),r=0;t!==-1&&r<n.length;)r++,i=n.substr(t),i=this._removeCharsFromBegining(i,2),t=i.indexOf(")"),u.push(this._removeFromEnd(i,t)),t=n.indexOf(")"),t!==-1&&(n=n.substr(t+1),t=n.indexOf("$("));return u},n.prototype._getInputDefinition=function(n){var t=null;return this._taskDefinition&&this._taskDefinition.inputs&&this._taskDefinition.inputs.forEach(function(i){i.name===n&&(t=i)}),t},n.prototype._getInputType=function(n){return n?u.DtcUtils.getTaskInputType(n):""},n.prototype._getInputValue=function(n,t){var i=this._inputs[n],r=this._getInputType(t);if(r===e.InputControlType.INPUT_TYPE_CONNECTED_SERVICE.toLowerCase()||r===e.InputControlType.INPUT_TYPE_AZURE_CONNECTION.toLowerCase())return this._getConnectedServiceInputValue(t);if(r===e.InputControlType.INPUT_TYPE_SECURE_FILE.toLowerCase()){var u=h.StoreManager.GetStore(l.SecureFilesStore),f=u&&u.getSecureFiles(),o=f&&f.find(function(n){return n.id===i}),s=o&&o.name||i;return Promise.resolve(new nt(t,s,this._multiplePhases,this._hasAlias))}return n===b.TargetTypeInputFilePathValue&&this._inputs[b.TargetTypeInputName]===b.TargetTypeInputFilePathValue&&i&&!i.trim().startsWith("./")&&(i="./"+i),Promise.resolve(new nt(t,i,this._multiplePhases,this._hasAlias))},n.prototype._getConnectedServiceInputValue=function(n){var t=this,r=n.name,u=this._inputs[r].split(","),i=[];return u.forEach(function(n){n&&n.trim()!==w.empty&&i.push(t._getSingleConnectionServiceEndpointName(n.trim()))}),Promise.all(i).then(function(i){var r=w.empty;return i.forEach(function(n){r!==w.empty&&(r+=", ");r+=n}),new nt(n,r,t._multiplePhases,t._hasAlias)})},n.prototype._getSingleConnectionServiceEndpointName=function(n){return o.ConnectedServiceComponentUtility.getConnectedServiceOptions(n,!0,"Generic","",{}).then(function(t){return o.ConnectedServiceComponentUtility.getValueFromKey(t.optionsMap,n)},function(){return w.empty})},n.prototype._getTaskVersion=function(n){var i="",t;return n&&(t=n.indexOf("."),i=t>-1?n.substr(0,t):n),i},n}();t.YamlTask=rt;nt=function(){function n(n,t,i,r){this._name=n.aliases&&n.aliases.length>0?n.aliases[0]:n.name;this._value=this._formatInputValue(t,i,r)}return n.prototype.getName=function(){return this._name},n.prototype.getValue=function(){return this._value},n.prototype._formatInputValue=function(n,t,i){var r,u;return n.indexOf(w.lineFeed)>-1?(r="|",t&&(r=d(r)),u=n.split(w.lineFeed),u.forEach(function(n){r+=i&&!t?w.lineFeed+k(n,3):t?w.lineFeed+k(n,7):w.lineFeed+k(n,5)}),r):tt(n)},n}(),function(n){n.spaces="  ";n.singleSpace=" ";n.jobProperty="- job: ";n.poolProperty="pool:";n.serverValue="server";n.nameProperty="name: ";n.vmImageProperty="vmImage: ";n.jobsProperty="jobs:";n.demandsProperty="demands";n.dependencyProperty="dependsOn";n.stepsProperty="steps";n.inputsProperty="inputs";n.environmentVariablesProperty="env";n.enabledProperty="enabled";n.continueOnErrorProperty="continueOnError";n.conditionProperty="condition";n.timeoutInMinutesProperty="timeoutInMinutes";n.displayNameProperty="displayName";n.taskProperty="- task";n.colon=":";n.resourcesKey="resources";n.ProcessCIKey="process";n.repoKey="- repo";n.cleanOption="clean";n.lfsOption="lfs";n.fetchDepthOption="fetchDepth";n.jobCIKey="job";n.skipSyncKey="- checkout";n.skipSyncValue="none";n.syncSourcesValue="self";n.TaskCIKey="task";n.VariablesProperty="variables";n.VariablePrefix="$";n.ProcessParametersPrefix="Parameters.";n.TasksAliasLookup={"CmdLine@2":"- script","PowerShell@2":"- powershell","Bash@3":"- bash"};n.TargetTypeInputName="targetType";n.TargetTypeInputInlineValue="inline";n.TargetTypeInputFilePathValue="filePath";n.PredefinedVariablesPrefixes=["agent.","build.","common.","release.","system."];n.ScriptInputName="script"}(b||(b={}));t.escapeValue=tt});

define("VSS/Controls/Validation",["require","exports","VSS/Controls","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){function d(n,t,i){function u(t,i,u,f){u&&u!=="*"&&u!==n||f||r.push(i)}var r=[];return $(i||window.document.body).bind(h.EVENT_VALIDATE_STATUS,u),$(i||window.document.body).trigger(h.EVENT_VALIDATE,[n]),$(i||window.document.body).unbind(h.EVENT_VALIDATE_STATUS,u),r.length&&t&&$.each(r,function(n,i){t.push(i)}),r.length===0}var c,h,a,v,y,p,w,b,k,l;Object.defineProperty(t,"__esModule",{value:!0});c=u.delegate;h=function(n){function t(r){var u=__construct(this,n,[r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);if(u.getType()===t)throw new Error("You cannot instantiate an abstract type.");return u.instanceId="val_"+i.getId(),u}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({invalidCssClass:"invalid",message:"Invalid input value!",group:"*",allowEmptyString:!1},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind("change",c(this,this.onChanged));this._onValidationRequiredDelegate=c(this,this.onValidationRequired);this._bind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);this._options.bindtokeystrokes&&this._bind("keyup",c(this,this.onKeyUp))},t.prototype.dispose=function(){this._onValidationRequiredDelegate&&this._unbind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);n.prototype.dispose.call(this)},t.prototype.getValue=function(){return this._element.val()},t.prototype.isValid=function(){return!0},t.prototype.getValidationGroup=function(){return this._options.group},t.prototype.getMessage=function(){var n=this._options.message;return n&&typeof n=="function"&&(n=n.call(this)),n},t.prototype.onKeyUp=function(){this.validate()},t.prototype.onChanged=function(){this.validate()},t.prototype.onValidationRequired=function(n,t){t&&t!=="*"&&t!==this._options.group||this.validate()},t.prototype.validate=function(){var n,i;this._disposed||(n=this._testEmptyString()||this.isValid(),i=this.getValidationGroup(),this._element.toggleClass(this._options.invalidCssClass,!n),this._fire(t.EVENT_VALIDATE_STATUS,[this,i,n]))},t.prototype._testEmptyString=function(){return this._options.allowEmptyString&&this.getValue()===""},t.optionsPrefix="validator",t.EVENT_VALIDATE="validate",t.EVENT_VALIDATE_STATUS="validate-status",t}(i.Enhancement);t.BaseValidator=h;s.initClassPrototype(h,{instanceId:null});a=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value cannot be empty!"},t))},t.prototype.isValid=function(){return $.trim(this.getValue())?!0:!1},t.optionsPrefix="requiredValidator",t}(h);t.RequiredValidator=a;i.Enhancement.registerEnhancement(a,".validate.required");v=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Out of range"},t))},t.prototype.isValid=function(){var n=this.getValue(),t=this._element.data("rangeValidator-min"),i=this._element.data("rangeValidator-max");return n>=t&&n<=i},t.prototype.getMessage=function(){var n=this.getValue(),t=this._element.data("rangeValidator-min"),i=this._element.data("rangeValidator-max");return n<t?"Input cannot be smaller than "+t:n>i?"Input cannot be greater than "+i:void 0},t.optionsPrefix="rangeValidator",t}(h);t.RangeValidator=v;i.Enhancement.registerEnhancement(v,".validate.range");y=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't match regex",testEmptyString:!0},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.regex||this._element.data("regexValidator-regex"),t&&(n=this.getValue(),this._options.testEmptyString||$.trim(n)))?new RegExp(t).test(n):!0},t.prototype.getMessage=function(){return this._element.data("regexValidator-message")||this._options.message},t.optionsPrefix="regexValidator",t}(h);t.RegexValidator=y;i.Enhancement.registerEnhancement(y,".validate.regex");p=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't satisfy function",testEmptyString:!0,validate:function(){return!0}},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.validate,typeof t=="function"&&(n=this.getValue(),this._options.testEmptyString||$.trim(n)))?t(n):!0},t.prototype.setValidate=function(n){this._options.validate=n},t.prototype.getMessage=function(){return this._element.data("customValidator-message")||this._options.message},t.optionsPrefix="customValidator",t}(h);t.CustomValidator=p;i.Enhancement.registerEnhancement(p,".validate.custom");w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value must be a valid date",parseFormat:""},t))},t.prototype.isValid=function(){var t=$.trim(this.getValue()),n;if(t)n=f.parseDateString(t,this._options.parseFormat);else return!0;return n instanceof Date&&!isNaN(n.getTime())},t.prototype.getMessage=function(){return this._element.data("dateValidator-message")||this._options.message},t.optionsPrefix="dateValidator",t}(h);t.DateValidator=w;i.Enhancement.registerEnhancement(w,".validate.date");b=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.isValid=function(){var t=this.getValue(),n=this._getBounds();return this.isWithinBounds(t,n.max,n.min)},t.prototype.isWithinBounds=function(n,t,i){var u=e.parseLocale(n),f=!1,r=parseInt(""+u,10),o=parseFloat(""+u);return!isNaN(u)&&r===o&&isFinite(r)&&i<=r&&t>=r&&(f=!0),f},t.prototype.getMessage=function(){var n=this._getBounds();return o.format(r.Validation_IntegerRange,n.min,n.max)},t.prototype._getBounds=function(){var n,t;return n=this._options.minValue!==undefined?this._options.minValue:Number(this._element.data("integerRangeValidator-min")),t=this._options.maxValue!==undefined?this._options.maxValue:Number(this._element.data("integerRangeValidator-max")),{min:n,max:t}},t.optionsPrefix="integerRangeValidator",t}(h);t.IntegerRangeValidator=b;i.Enhancement.registerEnhancement(b,".validate.integerRange");k=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:o.format("Input cannot exceed {0} characters.",t.maxLength)},t))},t.prototype.isValid=function(){return this.getValue().length>this._options.maxLength?!1:!0},t.optionsPrefix="maxLengthValidator",t}(h);t.MaxLengthValidator=k;i.Enhancement.registerEnhancement(k,".validate.maxlength");l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._messages={},t.fixedHeight&&(i._fixedHeight=!0),t.singleMessage&&(i._singleMessage=!0),t.showAsWarning&&(i._showAsWarning=!0),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"validation-summary",group:"*"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind(this._options.context||window.document.body,h.EVENT_VALIDATE_STATUS,c(this,this.onValidationStatus),!0)},t.prototype.onValidationStatus=function(n,t,i,r){delete this._messages[t.instanceId];i&&i!=="*"&&i!==this._options.group||(r||(this._messages[t.instanceId]=t.getMessage()),this._updateUI())},t.prototype.validate=function(){try{this._messages={};this._ignoreUIUpdate=!0;this._fire(this._options.context||window.document.body,h.EVENT_VALIDATE,[this._options.group])}finally{this._ignoreUIUpdate=!1}this._updateUI()},t.prototype._updateUI=function(){var n=this,t=!1,i;this._ignoreUIUpdate||(this._element.empty(),$.each(this._messages,function(i,r){return(t=!0,n._element.append($("<div />").text(r||"")),n._singleMessage)?!1:!0}),i=n._showAsWarning?"invalid-warning":"invalid",this._element.toggleClass(i,t),this._element.toggleClass("fixed-height",n._fixedHeight))},t}(i.Control);t.ValidationSummary=l;s.initClassPrototype(l,{_messages:null,_ignoreUIUpdate:!1,_fixedHeight:!1,_singleMessage:!1,_showAsWarning:!1});i.Enhancement.registerEnhancement(l,".validation-summary");t.validateGroup=d;s.tfsModuleLoaded("VSS.UI.Controls.Validation",t)});

define("VSS/Controls/Virtualization",["require","exports","VSS/Controls","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls/PopupContent","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=r.delegate,o=u.domElem,s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._firstVisible=0,t._selectedIndex=-1,t._rowHeight=20,t._ignoreScrollEvent=!1,t._enableMouseOver=!0,t._prevMousePos="",t.visibleRowCount=1,t._pointerDownY=null,t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"virtualizing-list-view",maxRowCount:8,selectedIndex:-1},t))},t.prototype.initialize=function(){this._bind("click",e(this,this._onClick));this._itemsContainer=$(o("ul","items"));this._itemsContainer.attr("role",this._options.virtualizingListViewRole||"listbox");this._itemsContainer.attr("id",i.getId());this._bind(this._itemsContainer,"mouseover",e(this,this._onMouseOver));this._bind(this._itemsContainer,"mousemove",e(this,this._onMouseMove));this._options.preventMouseDown&&this._bind(this._itemsContainer,"mousedown",function(n){return n.preventDefault()});this._bind(this._itemsContainer,u.BrowserCheckUtils.isFirefox()?"DOMMouseScroll":"mousewheel",e(this,this._onMouseWheel));this._bind(this._itemsContainer,"pointerdown",this._onPointerDown.bind(this));this._bind(this._itemsContainer,"pointerleave",this._onPointerLeave.bind(this));this._bind(this._itemsContainer,"pointermove",this._onPointerMove.bind(this));this._element.append(this._itemsContainer);this._scrollContainer=$(o("div","scroller"));this._bind(this._scrollContainer,"scroll",e(this,this._onScroll));this._scrollSpacer=$(o("div","content-spacer"));this._scrollContainer.append(this._scrollSpacer);this._element.append(this._scrollContainer);this._dataSource=this._options.dataSource;this._selectedIndex=this._options.selectedIndex;this.update();this._enableMouseOver=!0;n.prototype.initialize.call(this)},t.prototype.update=function(){var t=this._dataSource.getCount(),n;this.visibleRowCount=Math.min(t,this._options.maxRowCount);this._selectedIndex>=0&&(this._selectedIndex=Math.min(this._selectedIndex,t-1));this._setVisibleBounds(this._selectedIndex);this._drawItems();n=this._itemsContainer.outerHeight();this._element.height(n);this._setupScrollbar(n)},t.prototype.scrollItemIntoView=function(n){var t=this._firstVisible;this._setVisibleBounds(n);this._firstVisible!==t?(this._drawItems(),this._updateScrollbar()):this._updateItemStyles()},t.prototype.selectNext=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,n?this.visibleRowCount:1,null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.selectPrev=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,-(n?this.visibleRowCount:1),null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t.prototype.getSelectedItem=function(){return this._itemsContainer.children("li.selected")},t.prototype.setSelectedIndex=function(n,t){this._selectedIndex!==n&&(this._selectedIndex=n,t||this.scrollItemIntoView(n))},t.prototype._setVisibleBounds=function(n){n=n||0;n<=this._firstVisible?this._firstVisible=Math.max(0,n):n>=this._firstVisible+this.visibleRowCount&&(this._firstVisible=Math.max(0,Math.min(n,this._dataSource.getCount()-this.visibleRowCount)));this._firstVisible=Math.max(0,Math.min(this._firstVisible,this._dataSource.getCount()-this.visibleRowCount))},t.prototype._createItem=function(n){var r=this._dataSource.getItemText(n)||"",t=$(o("li",this._options.itemCss));return t.attr({id:i.getId(),role:"option","aria-posinset":n+1,"aria-setsize":this._dataSource.getCount()}),r&&$.isFunction(this._options.getItemContents)?t.append(this._options.getItemContents(r)):t.text(r),(this._options.setTitleOnlyOnOverflow===!1||u.contentsOverflow(t[0]))&&f.RichContentTooltip.add(r,t,{useStrictTarget:!0}),t},t.prototype._drawItems=function(){var n,t,r;this._itemsContainer.empty();var e=this._options.createItem||this._createItem,i=this._firstVisible,o=Math.min(i+this.visibleRowCount,this._dataSource.getCount());for(n=i;n<o;n++)t=e.call(this,n),t.data("index",n),t.attr("data-id",n),this._itemsContainer.append(t),r=this._dataSource.getItemText(n)||"",(this._options.setTitleOnlyOnOverflow===!1||u.contentsOverflow(t))&&f.RichContentTooltip.add(r,t,{useStrictTarget:!0});this._updateItemStyles();this._updateAriaAttributes();this._enableMouseOver=!1;this._fireItemsUpdated()},t.prototype._updateItemStyles=function(){var n=this._firstVisible,t=this._selectedIndex;this._itemsContainer.children("li").each(function(i){$(this).toggleClass("selected",i+n===t)})},t.prototype._updateAriaAttributes=function(){var n=this._selectedIndex;this._itemsContainer.children("li").each(function(t){$(this).attr("aria-selected",""+(t===n))})},t.prototype._setupScrollbar=function(n){var t=this._dataSource.getCount(),i=this.visibleRowCount<t;this._element.toggleClass("scroll",i);i&&(this._rowHeight=(n||this._itemsContainer.outerHeight())/this.visibleRowCount,this._scrollSpacer.height(this._rowHeight*t),this._updateScrollbar())},t.prototype._updateScrollbar=function(){try{this._ignoreScrollEvent=!0;this._scrollContainer.scrollTop(Math.ceil(this._rowHeight*this._firstVisible))}finally{this._ignoreScrollEvent=!1}},t.prototype._onScroll=function(){var n=this._dataSource.getCount();return this._ignoreScrollEvent||(this._firstVisible=Math.max(0,Math.min(Math.round(this._scrollContainer.scrollTop()/this._rowHeight),n-this.visibleRowCount)),this._drawItems()),!1},t.prototype._onMouseMove=function(n){var t=n.screenX+"-"+n.screenY;this._prevMousePos&&this._prevMousePos===t||(this._prevMousePos=t,this._enableMouseOver=!0)},t.prototype._onMouseOver=function(n){var t=this,i=$(n.target);r.delay(this,10,function(){if(t._enableMouseOver&&t._pointerDownY===null){t._enableMouseOver=!1;var n=i.closest("li");n.length&&(t._selectedIndex=n.data("index"),t._updateItemStyles())}})},t.prototype._onPointerDown=function(n){var t=n.originalEvent;t.pointerType==="touch"&&t.isPrimary&&(this._pointerDownY=t.pageY,this._pointerDownFirstVisible=this._firstVisible)},t.prototype._onPointerLeave=function(n){var t=n.originalEvent;t.pointerType==="touch"&&t.isPrimary&&(this._pointerDownY=null)},t.prototype._onPointerMove=function(n){var r=n.originalEvent,u,i,t;r.pointerType==="touch"&&r.isPrimary&&this._pointerDownY!==null&&(u=this._dataSource.getCount(),i=(this._pointerDownY-r.pageY)/this._rowHeight,i-=i%1,t=this._pointerDownFirstVisible+i,t=Math.max(t,0),t=Math.min(t,u-this.visibleRowCount),this._firstVisible!==t&&(this._firstVisible=t,this._drawItems(),this._updateScrollbar()))},t.prototype._onMouseWheel=function(n){var t=u.getWheelDelta(n);if(t!==0)return this._firstVisible=Math.max(0,Math.min(this._firstVisible+(t>0?-1:1),this._dataSource.getCount()-this.visibleRowCount)),this._drawItems(),this._updateScrollbar(),!1},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("li"),i;if(t.length){if(i=t.data("index"),this._options.itemClick&&this._options.itemClick.call(this,n,i,r,t)===!1)return!1;this.setSelectedIndex(i);this._updateItemStyles();this._fireSelectionChanged(!0)}},t.prototype._fireSelectionChanged=function(n){this._options.selectionChange&&this._options.selectionChange.call(this,this._selectedIndex,n)},t.prototype._fireItemsUpdated=function(){this._options.itemsUpdated&&this._options.itemsUpdated.call(this)},t}(i.BaseControl);t.VirtualizingListView=s});

define("VSS/Controls/Combos",["require","exports","VSS/Controls","VSS/Controls/PopupContent","VSS/Utils/Culture","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Validation","VSS/Controls/Virtualization","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ut(n,t){var i=$.extend({},n);return t&&$.each(t,function(n,t){delete i[t]}),i}var ft,d,g,nt,yt,et,w,tt,it,vt,b,ot,st,ht,ct,lt,at;Object.defineProperty(t,"__esModule",{value:!0});var p=s.delegate,k=l.domElem,y=l.KeyCode,rt;(function(n){function t(t){var i=$("<div/>").attr("id",n._PROBE_ID).css("position","absolute").css("left","-50000px").css("top","-50000px").css("width","9em").css("height","18ex").css("overflow","auto").appendTo(t);return $("<div><\/div>").css("width","3in").css("height","36ex").appendTo(i),i}function i(t){t=t||$(document.body);var i=t.children("#"+n._PROBE_ID);return i.length===0&&(i=n._createProbe(t)),i}function r(){return n._getProbe().width()/9}function u(){return n._getProbe().height()/18}function f(){return $("div",n._getProbe()).width()/3}function e(t){var i=n._getProbe(t);return i.width()-i[0].clientWidth}function o(t){var i=n._getProbe(t);return i.height()-i[0].clientHeight}function s(t){t=t.toLowerCase();var i=parseInt(t,10);return t.indexOf("px")>0?i=Math.round(parseFloat(t)):t.indexOf("em")>0?i=Math.round(parseFloat(t)*n.getUnitEm()):t.indexOf("ex")>0?i=Math.round(parseFloat(t)*n.getUnitEx()):t.indexOf("in")>0?i=Math.round(parseFloat(t)*n.getUnitIn()):t.indexOf("mm")>0?i=Math.round(parseFloat(t)*n.getUnitIn()/25.4):t.indexOf("cm")>0&&(i=Math.round(parseFloat(t)*n.getUnitIn()/2.54)),i}n._PROBE_ID="tfs-measurement-probe";n._createProbe=t;n._getProbe=i;n.getUnitEm=r;n.getUnitEx=u;n.getUnitIn=f;n.getScrollbarWidth=e;n.getScrollbarHeight=o;n.getUnitAsPixel=s})(rt||(rt={}));t.extendWithout=ut;ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.BaseDataSource);t.ListDataSource=ft;d=function(){function n(n,t){this.combo=n;this._options=t||{};this._onForceHideDropPopupDelegate=p(this,this.onForceHideDropPopup);this._onParentsScrollDelegate=p(this,this.onParentsScroll);this._onWheelDelegate=function(){}}return n.prototype.initialize=function(){this._options.source&&this.setSource(this._options.source)},n.prototype.dispose=function(){this.hideDropPopup()},n.prototype.setMode=function(n){this._options.mode=n},n.prototype.canType=function(){return!0},n.prototype.getAriaAutocomplete=function(){return this._options.autoComplete===!1?"none":"both"},n.prototype.getAriaDescription=function(){return null},n.prototype.getValue=function(){return null},n.prototype.getDropPopup=function(){return this._dropPopup},n.prototype.getDataSource=function(){return this._dataSource},n.prototype.getDropOptions=function(){return $.extend({combo:this.combo,anchor:this.combo.getElement(),host:this.combo.getElement(),width:this.getDropWidth(),dropElementAlign:"left-top",dropBaseAlign:"left-bottom",dataSource:this._dataSource,setTitleOnlyOnOverflow:this._options.setTitleOnlyOnOverflow},this._options.dropOptions)},n.prototype.getDropWidth=function(){return this.combo.getElement().innerWidth()},n.prototype.showDropPopup=function(){var t=this._options.dropControlType,n;return(this._dropPopup&&this.hideDropPopup(),t)?(n=this.getDropOptions(),n.width=this.getDropWidth(),this._attachGlobalEvents(),this._dropPopup=i.BaseControl.createIn(t,n.host||$(document.body),n),this._options.dropShow&&this._options.dropShow(this._dropPopup),!0):!1},n.prototype.hideDropPopup=function(){if(this._dropPopup){if(this._detachGlobalEvents(),!this._options.dropHide||this._options.dropHide(this._dropPopup))return this._dropPopup.dispose(),this._dropPopup=null,!0;this._dropPopup=null}return!1},n.prototype.toggleDropDown=function(){this._dropPopup?this.hideDropPopup():this.showDropPopup()},n.prototype.isDropVisible=function(){return Boolean(this._dropPopup)},n.prototype.setSource=function(n){this._dataSource&&this._dataSource.setSource(n)},n.prototype.getSelectedIndex=function(){return-1},n.prototype.setSelectedIndex=function(){},n.prototype.getText=function(){return this.combo.getInputText()},n.prototype.setText=function(n,t){typeof n!="undefined"&&this.combo.setInputText(n,t)},n.prototype.upKey=function(n){if(n.altKey)return this.isDropVisible()&&this.hideDropPopup(),!1},n.prototype.downKey=function(n){if(n.altKey)return this.isDropVisible()||this.showDropPopup(),!1},n.prototype.pageUpKey=function(){},n.prototype.pageDownKey=function(){},n.prototype.leftKey=function(){},n.prototype.rightKey=function(){},n.prototype.keyDown=function(){},n.prototype.keyPress=function(){},n.prototype.keyUp=function(){},n.prototype.onForceHideDropPopup=function(){this.hideDropPopup()},n.prototype.onParentsScroll=function(n){if(n&&n.target){var t=$(n.target);if(t.css("overflow-x")==="hidden"&&t.css("overflow-y")==="hidden"&&t.css("overflow")==="hidden"){n.stopPropagation();return}}this.onForceHideDropPopup(n)},n.prototype.getItemText=function(n,t){return $.isFunction(this._options.getItemText)?this._options.getItemText(this._dataSource.getItem(n,!0)):this._dataSource.getItemText(n,t)},n.prototype._attachGlobalEvents=function(){this.combo._bind(this.combo.getElement().parents(),"scroll resize",this._onParentsScrollDelegate);this.combo._bind(this.combo.getElement().parents(),"wheel",this._onWheelDelegate);e.getService().attachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n.prototype._detachGlobalEvents=function(){this.combo._unbind(this.combo.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate);this.combo._unbind(this.combo.getElement().parents(),"wheel",this._onWheelDelegate);e.getService().detachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n}();t.BaseComboBehavior=d;g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.combo=i._options.combo,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"combo-drop-popup"},t))},t.prototype.initialize=function(){this._bind("mousedown",p(this,this._onMouseDown));this.setPosition();this.getElement().attr("title","");n.prototype.initialize.call(this)},t.prototype.setPosition=function(){l.Positioning.position(this.getElement(),this._options.anchor,{elementAlign:this._options.dropElementAlign,baseAlign:this._options.dropBaseAlign});this.getElement().css("opacity","1")},t.prototype.getSelectedIndex=function(){return-1},t.prototype.getSelectedValue=function(){return""},t.prototype.getSelectedItem=function(){return undefined},t.prototype.setSelectedValue=function(){},t.prototype.selectNext=function(){return!1},t.prototype.selectPrev=function(){return!1},t.prototype.update=function(){},t.prototype.dispose=function(){var i=this,t;if(!this.isDisposed())if(t=this.getElement(),t[0]&&!t[0].style.transition)n.prototype.dispose.call(this);else this.getElement().css("opacity","0").on("transitionend",function(){n.prototype.dispose.call(i)})},t.prototype._onMouseDown=function(){this.combo.blockBlur()},t}(i.BaseControl);t.BaseComboDropPopup=g;nt={},function(n){n.ListType="list";n.DateTimeType="date-time";n.MultiValueType="multi-value";n.TreeType="tree";n.TreeSearchType="treesearch"}(yt=t.ComboTypeOptionsConstants||(t.ComboTypeOptionsConstants={}));et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._currentText="",t}return __extends(t,n),t.registerBehavior=function(n,t){nt[n]=t},t.attachBehavior=function(n,t){var i=nt[n._options.type];return i=n._options.type?nt[n._options.type]:d,i?new i(n,t):null},t.prototype.focus=function(){this._input.focus()},t.prototype.initializeOptions=function(t){var i=this,r,u;t=$.extend({allowEdit:!0,type:"list",treeLevel:1,mode:"drop",dropWidth:"dynamic",dropCount:8,invalidCss:"invalid",disabledCss:"disabled",dropButtonHoverCss:"hover",inputCss:undefined,coreCssClass:"combo input-text-box",enabled:!0},t);r=t.dropHide;t.dropHide=function(n){var t=!0;return r&&(t=r(n)),t&&(i.updateAriaAttributes(!1),s.delay(i,1,i._updateTooltip)),t};u=t.dropShow;t.dropShow=function(n){u&&u(n);s.delay(i,1,i._updateTooltip);i.updateAriaAttributes(!0)};n.prototype.initializeOptions.call(this,t)},t.prototype._dispose=function(){this._disposeBehavior();n.prototype._dispose.call(this)},t.prototype._disposeBehavior=function(){this._behavior&&(typeof this._behavior.dispose=="function"&&this._behavior.dispose(),this._behavior=null)},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._input=$(k("input")).attr("type","text");this._options.id&&this._input.attr("id",this._options.id+"_txt");typeof this._options.value!="undefined"&&(this._input.val(this._options.value),this._currentText=this.getInputText());this._decorate()},t.prototype._enhance=function(n){this._createElement();this._input=n;n.after(this.getElement());this._decorate();this._currentText=this.getInputText()},t.prototype.initialize=function(){this._ensureBehavior();n.prototype.initialize.call(this)},t.prototype.getBehavior=function(){return this._behavior},t.prototype.getText=function(){return this._behavior.getText()},t.prototype.setText=function(n,t){this._behavior&&this._behavior.setText(n,t)},t.prototype.getDropButton=function(){return this._dropButton},t.prototype.getInput=function(){return this._input},t.prototype.getInputText=function(){return this._input.val()},t.prototype._updateTooltip=function(){!this._input||!this._input[0]||this._behavior&&this._behavior.isDropVisible()?this._tooltip&&this._tooltip.disable():(this._tooltip||(this._tooltip=r.RichContentTooltip.addIfOverflow("",this._input[0])),this._tooltip.enable(),this._tooltip.setTextContent(this._input[0].value))},t.prototype.setInputText=function(n,t){this._input.val()!==n&&this._input.val(n);this._updateTooltip();t?this.fireChangeIfNecessary(n):this._currentText=n;this.updateAriaActiveDescendant();this._updateStyles()},t.prototype.getSelectedIndex=function(){return this._behavior.getSelectedIndex()},t.prototype.setSelectedIndex=function(n,t){this._behavior.setSelectedIndex(n,t)},t.prototype.getValue=function(){return this._behavior.getValue()},t.prototype.fireChangeIfNecessary=function(n){return typeof n=="undefined"&&(n=this.getText()),this._currentText!==n?(this._currentText=n,this._updateTooltip(),this._fireChange()):void 0},t.prototype.toggleDropDown=function(){this._behavior.toggleDropDown();this._input.focus();var n=this.getElement();n&&this._fire("dropDownToggled",{isDropVisible:this.isDropVisible(),target:n})},t.prototype.showDropPopup=function(){this._behavior.showDropPopup();this._input.focus()},t.prototype.hideDropPopup=function(){return this._behavior.hideDropPopup()},t.prototype.isDropVisible=function(){return this._behavior?this._behavior.isDropVisible():!1},t.prototype.isBlockingBlur=function(){return this._blockBlur},t.prototype.blockBlur=function(){this._blockBlur=!0;this.delayExecute("blockBlur",200,!0,function(){this.cancelBlockBlur()})},t.prototype.cancelBlockBlur=function(){this._blockBlur=!1;this.cancelDelayedFunction("blockBlur")},t.prototype._onInputKeyDown=function(n){if(this._options.onKeyDown&&this._options.onKeyDown.call(this,n),this._behavior.keyDown(n)===!1)return!1;switch(n.keyCode){case y.BACKSPACE:if(!this._options.allowEdit)return n.stopPropagation(),n.preventDefault(),!1;break;case y.PAGE_UP:return this._options.enabled?this._behavior.pageUpKey(n):!1;case y.UP:return this._options.enabled?this._behavior.upKey(n):!1;case y.PAGE_DOWN:return this._options.enabled?this._behavior.pageDownKey(n):!1;case y.DOWN:return this._options.enabled?this._behavior.downKey(n):!1;case y.LEFT:return this._options.enabled?this._behavior.leftKey(n):!1;case y.RIGHT:return this._options.enabled?this._behavior.rightKey(n):!1;case y.TAB:this.cancelBlockBlur();break;case y.ENTER:case y.ESCAPE:if(this.fireChangeIfNecessary(),this.hideDropPopup())return!1;break;default:if(!this._behavior.canType())return!1}},t.prototype.setTextSelection=function(n){var t=this._input[0],i;t.setSelectionRange?t.setSelectionRange(n,t.value.length):t.createTextRange&&(i=t.createTextRange(),i.moveStart("character",n),i.select())},t.prototype.setSource=function(n){this._behavior&&this._behavior.setSource(n)},t.prototype.getEnabled=function(){return this._options.enabled===!0},t.prototype.setEnabled=function(n){this._options.enabled=n===!0;this._updateStyles()},t.prototype.getMode=function(){return this._options.mode},t.prototype.setMode=function(n){this._options.mode=n;this._behavior.setMode(n);this._updateStyles()},t.prototype.setType=function(n){this._options.type!==n&&(this.hideDropPopup(),this.getElement().removeClass(this._options.type),this._options.type=n,this._ensureBehavior(),this._updateStyles())},t.prototype.getComboType=function(){return this._options?this._options.type:null},t.prototype.setInvalid=function(n){if(this.getElement().toggleClass(this._options.invalidCss,n),this._input.attr(t.invalidAttribute,n?"true":"false"),this._options.errorMessage&&(this._errorAriaDescription&&this._errorAriaDescription.remove(),n)){var r=String(i.getId());this._errorAriaDescription=$("<div />").attr("id",r).attr("role","alert").hide().text(this._options.errorMessage).appendTo(this._element);this._input.attr("aria-describedby",r)}},t.prototype.isValid=function(){return c.ignoreCaseComparer(this._input.attr(t.invalidAttribute),"true")!==0},t.prototype._ensureBehavior=function(){var n,t;if(this._disposeBehavior(),this._behavior=w.attachBehavior(this,this._options),!this._behavior)throw new Error(c.format("Unsupported combo behavior '{0}'.",this._options.type));this._behavior.initialize();n=this._behavior.getAriaDescription();n?(this._ariaDescription&&this._ariaDescription.remove(),t=String(i.getId()),this._ariaDescription=$("<div />").attr("id",t).hide().text(n).appendTo(this._element),this._input.attr("aria-describedby",t)):this._input.attr("aria-describedby",null);this._input.attr("aria-autocomplete",this._options.mode!="text"?this._behavior.getAriaAutocomplete():null)},t.prototype._decorate=function(){var f=this,u=this,t=this._options,i=this.getElement(),n=this._input,r;i.val=function(){return arguments.length?u.setText(arguments[0],!1):u.getText()};n.attr("autocomplete","off");this._setAriaAttributes();this._bind("mousedown",p(this,this._onMouseDown));this._bind(n,"keydown",p(this,this._onInputKeyDown));this._bind(n,"keypress",p(this,this._onInputKeyPress));this._bind(n,"keyup",p(this,this._onInputKeyUp));this._bind(n,"focus",p(this,this._onInputFocus));this._bind(n,"blur",p(this,this._onInputBlur));this._bind(n,"click",p(this,this._onInputClick));this._bind(n,"focus",function(){f.getEnabled()&&i.addClass("focus")});this._bind(n,"blur",function(){i.removeClass("focus")});t.allowEdit||(n.attr("readonly","readonly"),i.addClass("no-edit"));t.inputCss&&n.addClass(t.inputCss);t.placeholderText&&n.attr("placeholder",t.placeholderText);n.bind("change input",function(){return u.fireChangeIfNecessary()});this._input.attr("title","");this._updateTooltip();t.noDropButton&&i.addClass("no-background");r=$(k("div","wrap"));r.append(n);this._options.label&&n.attr("aria-label",this._options.label);t.iconCss&&($(k("div","preWrapIcon")).addClass(t.iconCss).appendTo(i),r.addClass("withIcon"));i.append(r);this._dropButton=$(k("div","drop"));this._dropButton.attr({role:"button"});this._bind(this._dropButton,"mouseenter",function(){$(this).addClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"mouseleave",function(){$(this).removeClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"click",p(this,this._onDropButtonClick));i.append(this._dropButton);this._updateStyles()},t.prototype._setAriaAttributes=function(){this._input&&n.prototype._setAriaAttributes.call(this,this._input)},t.prototype._updateStyles=function(){var t=this.getElement(),n=this._input,i,r;t.addClass(this._options.type);this._dropButton.removeClass(c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-chevron-down-light":"bowtie-icon bowtie-calendar");this._dropButton.addClass(c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-calendar":"bowtie-icon bowtie-chevron-down-light");this._dropButton.attr("aria-label",c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?o.CalendarComboExpandButtonLabel:o.ComboExpandButtonLabel);i=this._options.enabled;i&&this._options.allowEdit?n.removeAttr("readonly"):n.attr("readonly","readonly");n.toggleClass(this._options.disabledCss,!i);t.children("div").toggleClass(this._options.disabledCss,!i);i?(t.removeAttr("readonly"),n.removeAttr("disabled"),this._options.isFocusableWhenDisabled||(n.removeAttr("tabindex"),n.removeAttr("aria-disabled"))):(this._currentText===""?(n.removeAttr("readonly"),n.attr("disabled","disabled")):(n.removeAttr("disabled"),n.attr("readonly","readonly")),t.attr("readonly","readonly"),this._options.isFocusableWhenDisabled||n.attr({tabindex:-1,"aria-disabled":!0}));r=i&&this._options.mode==="drop";t.toggleClass("drop",r&&!this._options.noDropButton);t.toggleClass("text",!r);this._options.mode==="text"?this._input.attr({"aria-autocomplete":null,"aria-expanded":null,role:null}):(this._input.attr({"aria-expanded":"false"}),this._input.attr("role")!=="combobox"&&this._input.attr({role:"combobox"}),this._behavior&&this._input.attr("aria-autocomplete",this._behavior.getAriaAutocomplete()))},t.prototype._onDropButtonClick=function(){return this.toggleDropDown(),!1},t.prototype._onInputClick=function(){return!this._options.allowEdit&&this._options.enabled&&this.toggleDropDown(),!1},t.prototype._onInputFocus=function(){if(!this._onInputFocusInProgress)try{this._onInputFocusInProgress=!0;this._blockBlur||this._options.disableTextSelectOnFocus||this._input.select();$.isFunction(this._options.focus)&&this._options.focus.apply(this,arguments)}finally{this._onInputFocusInProgress=!1}},t.prototype._onInputBlur=function(){this._disposed||(this.fireChangeIfNecessary(),this._blockBlur?this._input.focus(10):this.hideDropPopup(),$.isFunction(this._options.blur)&&this._options.blur.apply(this,arguments))},t.prototype._onMouseDown=function(){this.blockBlur()},t.prototype._onInputKeyPress=function(n){return this._behavior.keyPress(n)},t.prototype._onInputKeyUp=function(n){var i=this._behavior.keyUp(n),t;return this.fireChangeIfNecessary(),t=this._behavior&&this._behavior.getDropPopup(),t&&t.setPosition(),i},t.prototype.updateAriaAttributes=function(n){if(n===void 0&&(n=this.isDropVisible()),n){var t=this._behavior.getDropPopup();this._input.attr({"aria-expanded":"true","aria-owns":t?t.getId():null});this.updateAriaActiveDescendant()}else this._input.attr({"aria-expanded":"false","aria-owns":null,"aria-activedescendant":null})},t.prototype.updateAriaActiveDescendant=function(){var n=this._behavior.getDropPopup(),t=n&&n.getSelectedItem();this._input.attr("aria-activedescendant",t?t.attr("id"):null)},t.invalidAttribute="aria-invalid",t.enhancementTypeName="tfs.combo",t}(i.Control);t.ComboO=et;w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(et);t.Combo=w;i.Enhancement.registerJQueryWidget(w,"comboList",{type:"list"});i.Enhancement.registerJQueryWidget(w,"comboTree",{type:"tree"});tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({itemCss:""},t))},t.prototype.initialize=function(){this._dataSource=this._options.dataSource;this._initializeVirtualization();n.prototype.initialize.call(this)},t.prototype._initializeVirtualization=function(){var r=this,n=$.extend(ut(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount,itemsUpdated:function(){r.combo.updateAriaAttributes()}}),t=this._options.combo._enhancementOptions.ariaAttributes;t&&t.label&&(n.ariaAttributes||(n.ariaAttributes={}),n.ariaAttributes.label=t.label);this.virtualizingListView=i.Enhancement.enhance(v.VirtualizingListView,this.getElement(),n)},t.prototype.selectPrev=function(n){return this.virtualizingListView.selectPrev(n)},t.prototype.selectNext=function(n){return this.virtualizingListView.selectNext(n)},t.prototype.getSelectedIndex=function(){return this.virtualizingListView.getSelectedIndex()},t.prototype.getSelectedValue=function(){return this._dataSource.getItemText(this.virtualizingListView.getSelectedIndex())},t.prototype.setSelectedValue=function(n){var t=n?this._dataSource.getItemIndex(n):-1;this.virtualizingListView.setSelectedIndex(t)},t.prototype.getSelectedItem=function(){return this.virtualizingListView.getSelectedItem()},t.prototype.getDataSource=function(){return this._dataSource},t.prototype.update=function(){this.virtualizingListView.update()},t}(g);t.ComboListDropPopup=tt;it=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:tt},i))||this}return __extends(t,n),t.prototype.initialize=function(){this._dataSource=this._createDataSource();n.prototype.initialize.call(this)},t.prototype.setSource=function(t){n.prototype.setSource.call(this,t);this._maxItemLength=null},t.prototype.getDropOptions=function(){return $.extend(n.prototype.getDropOptions.call(this),{selectedIndex:this._dataSource.getItemIndex(this.combo.getText()),selectionChange:p(this,this._dropSelectionChanged)})},t.prototype.getValue=function(){return this.getText()},t.prototype.getMaxItemLength=function(){var n;if(this._maxItemLength===null){var r=this._dataSource.getCount(!0),i=void 0,t=0;for(n=0;n<r;n++)i=this.getItemText(n,!0),t=Math.max(i.length,t);this._maxItemLength=t}return this._maxItemLength},t.prototype.getDropWidth=function(){var i=n.prototype.getDropWidth.call(this),t;return this._options.fixDropWidth?i:(t=this.getMaxItemLength()*rt.getUnitEx(),t*=1.2,this._options.maxAutoExpandDropWidth!=null&&t>i?Math.min(Math.max(this._options.maxAutoExpandDropWidth,i),t):Math.max(i,t))},t.prototype.getSelectedIndex=function(n,t){return this._dataSource.getItemIndex(n||this.getText(),!1,t)},t.prototype.setSelectedIndex=function(n,t){this._setSelectedIndex(n,t)},t.prototype.setText=function(t,i){var r=t!==this.getText(),u=this.getDropPopup();n.prototype.setText.call(this,t,i);i&&r&&this._options.indexChanged&&this._options.indexChanged.call(this,this.getSelectedIndex(t,!0));u&&r&&u.update()},t.prototype.upKey=function(t){if(this._options.mode!=="text")return n.prototype.upKey.call(this,t)===!1?!1:this.selectPrev()},t.prototype.downKey=function(t){if(this._options.mode!=="text")return n.prototype.downKey.call(this,t)===!1?!1:this.selectNext()},t.prototype.pageUpKey=function(t){if(this._options.mode!=="text")return n.prototype.pageUpKey.call(this,t)===!1?!1:this.selectPrev(!0)},t.prototype.pageDownKey=function(t){if(this._options.mode!=="text")return n.prototype.pageDownKey.call(this,t)===!1?!1:this.selectNext(!0)},t.prototype.keyDown=function(n){if(this._options.mode!=="text")if(n.keyCode===229)this._enableAutoFill=!1;else if(n.ctrlKey&&(n.keyCode===89||n.keyCode===90))return!1},t.prototype.keyPress=function(n){if(this._options.mode!=="text")return n.metaKey||(this._enableAutoFill=typeof this._options.autoComplete=="undefined"?!0:this._options.autoComplete),!0},t.prototype.keyUp=function(n){var t;if(this._options.mode!=="text")return t=n.keyCode||n.charCode,this._options.enableFilter===!0&&(t>=47||t===y.SPACE||t===y.BACKSPACE||t===y.DELETE)&&this._applyFilter(),this._enableAutoFill&&((t>=47||t===y.SPACE)&&this._tryAutoFill(),this._enableAutoFill=!1),this._options.keyUp&&this._options.keyUp.call(this),!0},t.prototype.selectPrev=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectPrev(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),-1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype.selectNext=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectNext(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype._createDataSource=function(){return new ft(this._options)},t.prototype._dropSelectionChanged=function(n,t){this.setText(this.getItemText(n,!1),!0);t&&this.hideDropPopup()},t.prototype._setSelectedIndex=function(n,t){this.setText(this.getItemText(n,!0),t)},t.prototype._tryAutoFill=function(){var n,t,i,r;f.logTracePoint("Combo._tryAutoFill.start");t=this.combo.getText();i=this._dataSource.getItemIndex(t,!0,!0);i>=0&&(n=this.getItemText(i,!0));n&&(this.combo.setText(n,!0),this.combo.setTextSelection(t.length));r=this.getDropPopup();r&&r.setSelectedValue(n);f.logTracePoint("Combo._tryAutoFill.complete")},t.prototype._applyFilter=function(){f.logTracePoint("Combo._applyFilter.start");this._filterData(this.combo.getText());var n=this.getDropPopup();n&&n.update();f.logTracePoint("Combo._applyFilter.complete")},t.prototype._filterData=function(n){var r=this,t,i;n?(t=this._dataSource.getItemIndexes(n,!0,!0),i=t.map(function(n){return r._dataSource.getItem(n,!0)}),this._dataSource.setItems(i,this._dataSource.getItems(!0))):this._dataSource.setItems(this._dataSource.getItems(!0))},t}(d);t.ComboListBehavior=it;w.registerBehavior("list",it);vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value is not allowed!"},t))},t.prototype.isValid=function(){var t=$.trim(this.getValue()),n;return t&&(n=i.Enhancement.getInstance(w,this.getElement()),n)?n.getSelectedIndex()>=0:!0},t}(a.BaseValidator);t.ComboControlValidator=vt;b=function(){function n(n){this._setDate(n||new Date)}return n.toGregorian=function(n,t,i){var r=u.getDateTimeFormat().Calendar.convert;return r?r.toGregorian(n,t,i):new Date(n,t,i)},n.fromGregorian=function(n){var t=u.getDateTimeFormat().Calendar.convert;if(t)return t.fromGregorian(n)},n.prototype.getBaseDate=function(){return this._baseDate},n.prototype.setTime=function(n){n=n instanceof Date?n:new Date(n);this._setDate(n)},n.prototype.getTime=function(){return this.getBaseDate().getTime()},n.prototype.getDay=function(){return this.getBaseDate().getDay()},n.prototype.getFullYear=function(n){return n===!0&&this._convertedDate?this._convertedDate[0]:this.getBaseDate().getFullYear()},n.prototype.getMonth=function(n){return n===!0&&this._convertedDate?this._convertedDate[1]:this.getBaseDate().getMonth()},n.prototype.getDate=function(n){return n===!0&&this._convertedDate?this._convertedDate[2]:this.getBaseDate().getDate()},n.prototype.jumpToMonthStart=function(){var i=this.getFullYear(),r=this.getMonth(),u=this.getDate(),t=new n(new Date(i,r,u,12));return this.setTime(t.getTime()-n.DAY_IN_MILLISECONDS*(t.getDate(!0)-1)),this},n.prototype.jumpToWeekStart=function(){var t=u.getDateTimeFormat().FirstDayOfWeek,i=(n.DAYS_IN_A_WEEK-t+this.getDay())%n.DAYS_IN_A_WEEK;return this.setTime(this.getTime()-i*n.DAY_IN_MILLISECONDS),this},n.prototype.nextDay=function(){return this.setTime(this.getTime()+n.DAY_IN_MILLISECONDS),this},n.prototype.prevMonth=function(){return this._increment(0,-1),this},n.prototype.nextMonth=function(){return this._increment(0,1),this},n.prototype.prevYear=function(){return this._increment(-1,0),this},n.prototype.nextYear=function(){return this._increment(1,0),this},n.prototype.equals=function(n){return this.getFullYear()===n.getFullYear()&&this.getMonth()===n.getMonth()&&this.getDate()===n.getDate()},n.prototype._setDate=function(t){this._baseDate=t;this._convertedDate=n.fromGregorian(t)},n.prototype._increment=function(t,i){var r=this.getMonth(!0),u=this.getFullYear(!0);i>0?++r>11&&(r=0,u++):i<0&&--r<0&&(r=11,u--);u+=t;this.setTime(n.toGregorian(u,r,1))},n.DAY_IN_MILLISECONDS=864e5,n.DAYS_IN_A_WEEK=7,n}();ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"date-panel",canTakeFocus:!1},t))},t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._date=this._selectedDate||h.getNowInUserTimeZone();this._bind("click",p(this,this._onClick));this._bind("keydown",p(this,this._onKeyDown));this._draw(this._date,"prev-month");n.prototype.initialize.call(this)},t.prototype.prevMonth=function(){var n=new b(this._date);this._date=n.prevMonth().getBaseDate();this._draw(this._date,"prev-month")},t.prototype.nextMonth=function(){var n=new b(this._date);this._date=n.nextMonth().getBaseDate();this._draw(this._date,"next-month")},t.prototype.prevYear=function(){var n=new b(this._date);this._date=n.prevYear().getBaseDate();this._draw(this._date,"prev-year")},t.prototype.nextYear=function(){var n=new b(this._date);this._date=n.nextYear().getBaseDate();this._draw(this._date,"next-year")},t.prototype.selectDate=function(n){this.setSelectedDate(n);this._options.onSelectDate&&this._options.onSelectDate()},t.prototype.setSelectedDate=function(n){this._selectedDate=this._date=n;this._draw(this._selectedDate);this._fireChange()},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.getSelectedItem=function(){return this._$selectedItem},t.prototype._draw=function(n,t){var f=this.getElement(),e=this._options.todayFormat||"d",u=$("<table />").attr("cellSpacing",0).attr("cellPadding",0).attr("border",0),i=$("<tr />").addClass("quick-nav"),r;$("<a />").addClass("prev-month").attr("href","#").attr("tabindex",-1).append($("<span/>").addClass("icon icon-drop-left")).appendTo($("<td/>").addClass("prev-month").appendTo(i));r=$("<td/>").addClass("month-year").appendTo(i);r.text(h.localeFormat(n,"y",!0));$("<a />").addClass("next-month").attr("href","#").attr("tabindex",-1).append($("<span/>").addClass("icon icon-drop-right")).appendTo($("<td/>").addClass("next-month").appendTo(i));u.append(i);i=$("<tr />");r=$("<td />").attr("colspan",6).addClass("days");r.append(this._drawCalendarTable(n));i.append(r);u.append(i);i=$("<tr />");r=$("<td />").attr("colspan",6).addClass("legend");$("<span/>").addClass("today").appendTo(r);$("<a />").addClass("today").attr("href","#").attr("tabindex",-1).append(c.format(o.TodayTitle,h.localeFormat(new Date,e))).appendTo(r);i.append(r);u.append(i);f.empty().append(u);t&&this._options.canTakeFocus&&$("."+t).focus()},t.prototype._drawCalendarTable=function(n){var a=h.getTodayInUserTimeZone(),o=u.getDateTimeFormat(),r=new b(n),v=r.getMonth(!0),s,e,c,f,l,t;for(r.jumpToMonthStart(),r.jumpToWeekStart(),s=$("<table />").attr("cellSpacing",0).attr("border",0),e=$("<tr />").addClass("day-names"),f=0;f<7;f++)t=$("<th />"),c=(o.FirstDayOfWeek+f)%b.DAYS_IN_A_WEEK,t.text(o.ShortestDayNames[c]),t.attr("aria-label",o.DayNames[c]),e.append(t);for(s.append(e),f=0;f<6;f++){for(e=$("<tr />").addClass("days"),l=0;l<b.DAYS_IN_A_WEEK;l++)t=$("<td />").addClass("date-cell").attr({id:i.getId(),"aria-label":h.localeFormat(r.getBaseDate(),o.LongDatePattern,!0)}),$("<span />").addClass("date").attr("href","#").attr("tabindex",-1).data("date",r.getTime()).text(r.getDate(!0)).appendTo(t),r.getMonth(!0)!==v&&t.addClass("other-month"),r.equals(a)&&t.addClass("today"),this._selectedDate instanceof Date?r.equals(this._selectedDate)&&(t.addClass("selected"),this._options.canTakeFocus&&t.focus(),this._$selectedItem=t):r.equals(n)&&(this._options.canTakeFocus&&t.focus(),t.addClass("selected")),e.append(t),r.nextDay();s.append(e)}return s},t.prototype._onKeyDown=function(n){return n.keyCode===y.ENTER||n.keyCode===y.SPACE?this._onClick(n):n.keyCode===y.LEFT||n.keyCode===y.RIGHT||n.keyCode===y.UP||n.keyCode===y.DOWN?!1:void 0},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("a"),i,u;return t.length?(t.hasClass("prev-month")?this.prevMonth():t.hasClass("next-month")?this.nextMonth():t.hasClass("prev-year")?this.prevYear():t.hasClass("next-year")?this.nextYear():t.hasClass("today")&&this.selectDate(h.getNowInUserTimeZone()),!1):(i=r.closest("span"),i.length)?(i.hasClass("date")&&this.selectDate(new Date(i.data("date"))),!1):(u=r.closest(".date-cell"),u.length)?(this.selectDate(new Date(u.find("span").data("date"))),!1):void 0},t}(i.BaseControl);t.DatePanel=ot;st=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._datePanel=i.BaseControl.createIn(ot,this.getElement(),$.extend(ut(this._options,["coreCssClass"]),{change:p(this,this._onChange)}));n.prototype.initialize.call(this)},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.getSelectedItem=function(){return this._datePanel.getSelectedItem()},t.prototype.setSelectedDate=function(n){this._selectedDate=n;this._datePanel&&this._datePanel.setSelectedDate(n)},t.prototype._onChange=function(){return this._selectedDate=this._datePanel.getSelectedDate(),this._fireChange(),!1},t}(g);t.ComboDateDropPopup=st;ht=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:st,dateTimeFormat:u.getDateTimeFormat().ShortDatePattern},i))||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._timeValue=this._options.defaultTimeOfDay||0},t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getAriaAutocomplete=function(){return"none"},t.prototype.getAriaDescription=function(){return o.ComboDateScreenReaderHelp},t.prototype.getValue=function(){return this.getSelectedDate()},t.prototype.getDropOptions=function(){var i=this,t=this.getSelectedDate();return!t&&this._options.getInitialDate&&(t=this._options.getInitialDate(this.combo)),$.extend(n.prototype.getDropOptions.call(this),{dropElementAlign:"right-top",dropBaseAlign:"right-bottom",selectedDate:t,onSelectDate:function(){i.hideDropPopup()},change:p(this,this._onChange)})},t.prototype.getDropWidth=function(){return undefined},t.prototype.getSelectedDate=function(){var i=$.trim(this.combo.getText()),n=null,t;return i&&(n=h.parseDateString(i,this._options.parseFormat,!0),n&&(t=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this._options.defaultTimeOfDay&&n.getTime()===t.getTime()?(n=new Date(n.getTime()+this._options.defaultTimeOfDay),this.setText(h.localeFormat(n,this._options.dateTimeFormat,!0),!1)):this._timeValue=n-t)),n},t.prototype.setSelectedDate=function(n,t){t===void 0&&(t=!0);n=new Date(n.getFullYear(),n.getMonth(),n.getDate());n=new Date(n.getTime()+(this._timeValue||0));this.setText(h.localeFormat(n,this._options.dateTimeFormat,!0),t)},t.prototype.upKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-7)),!1},t.prototype.keyDown=function(n){if(n&&n.keyCode===y.ENTER){var t=this.getDropPopup();if(t)t.setSelectedDate(this._getSelectedDate());else return this.combo.toggleDropDown(),!1}},t.prototype.downKey=function(t){if(n.prototype.downKey.call(this,t)===!1)return!1;var i=this.getDropPopup();if(i)return i.setSelectedDate(this._addDays(this._getSelectedDate(),7)),!1;this.combo.toggleDropDown()},t.prototype.pageUpKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,-1*this._getMonthLength(n.getMonth()-1,n.getFullYear()))),!1},t.prototype.pageDownKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,this._getMonthLength(n.getMonth(),n.getFullYear()))),!1},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-1)),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),1)),!1},t.prototype._onChange=function(){var t=this.getDropPopup(),n=t.getSelectedDate();return n&&this.setSelectedDate(n),!1},t.prototype._getSelectedDate=function(){var n=this.getDropPopup();return n.getSelectedDate()||new Date},t.prototype._addDays=function(n,t){var i=new Date;return i.setTime(n.getTime()+t*864e5),i},t.prototype._getMonthLength=function(n,t){n=(n+12)%12+1;switch(n){case 4:case 6:case 9:case 11:return 30;case 2:if(t%4==0){var i=new Date(t,1,29);if(i.getMonth()===1)return 29}return 28;default:return 31}},t}(d);t.ComboDateBehavior=ht;w.registerBehavior("date-time",ht);i.Enhancement.registerJQueryWidget(w,"comboDateTime",{type:"date-time"});ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({type:"date-time"},t))},t}(w);t.DatePicker=ct;i.Enhancement.registerJQueryWidget(ct,"datePicker");lt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._checkStates={},r._options.id||(r._options.id="cmvdp_"+i.getId()),r}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"multi-value",createItem:p(this,this._createItem),itemClick:p(this,this._onItemClick)},t))},t.prototype.initialize=function(){var t=this.combo.getText().split(this._options.sepChar),i=this;$.each(t,function(n,t){t=$.trim(t);t&&(i._checkStates[t]=!0)});n.prototype.initialize.call(this)},t.prototype.getCheckedItems=function(){var n=this;return $.map(this._dataSource.getItems(),function(t){if(n._checkStates[t])return t})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.joinChar||this._options.sepChar+" ")},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this._dataSource.getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype._createItem=function(n){var t=this._dataSource.getItemText(n),r=this._options.id+"_cb"+n,i=$(k("li",this._options.nodeCss)).attr("id",this._options.id+"_li"+n),u=$("<input />").data("value",t).attr("type","checkbox").attr("id",r).data("index",n).appendTo(i);return this._checkStates[t]&&u.prop("checked",!0),i.append($(k("label")).attr("for",r).text(t||"")),i},t.prototype._onItemClick=function(n,t,i,r){var f,u,e=this._dataSource.getItemText(t);f=Boolean(this._checkStates[e]);u=Boolean(r.find("input").prop("checked"));this._checkStates[e]=u;f!==u&&this._fireChange()},t}(tt);t.ComboMultiValueDropPopup=lt;at=function(n){function t(i,r){return n.call(this,i,$.extend({dropControlType:lt,sepChar:t.Default_Seperate_Char,joinChar:t.Default_Join_Char},r))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getValue=function(){var n=this.getDropPopup();return n.getCheckedItems()},t.prototype.getDropOptions=function(){var t=this;return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,selectedIndex:-1,selectionChange:function(){t.combo.updateAriaActiveDescendant()},change:p(this,this._onChange)})},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===y.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t.Default_Seperate_Char=",",t.Default_Join_Char=", ",t}(it);t.ComboMultiValueBehavior=at;w.registerBehavior("multi-value",at)});

define("VSS/Flux/PlatformComponent",["require","exports","VSS/Flux/Component","react"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var t=this,n={ref:function(n){t.onRef(n)}};return this.props.cssClass&&(n.className=this.props.cssClass),r.createElement(this.getTagName(),n,this.props.children)},t.prototype.onRef=function(n){n&&(this._control=this.createControl($(n)))},t.prototype.getTagName=function(){return"div"},t.prototype.shouldComponentUpdate=function(n){return n.shouldUpdate===!0},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._control&&(this._control.dispose(),this._control=null)},t.prototype.createControl=function(){return null},t}(i.Component);t.Component=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent",["require","exports","react","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","OfficeFabric/Icon","OfficeFabric/Utilities","VSS/Controls/Combos","VSS/Diag","VSS/Flux/PlatformComponent","VSS/Controls","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var d,g,b,nt,k;Object.defineProperty(t,"__esModule",{value:!0});d=function(n){var t=n.comboBoxContainerCssClass,r=n.props;return i.createElement("div",__assign({className:t},r))};g=function(n){var f=n.hideErrorMessage,e=n.errorMessageCss,t=n.errorMessageString,s=n.isComboBoxSearchable,h=n.required,u=n.value,c=n.errorMessageId,l=n.errorMessageKey,a=n.isValid;return i.createElement("div",{role:"alert"},(s||h&&!(u&&u.trim()))&&!f&&!a&&i.createElement("div",{className:e},i.createElement(o.Icon,{iconName:"Error",className:"combobox-input-component-error-icon"}),i.createElement("span",{id:c,key:l},t?t:r.ComboBoxInvalidErrorMessage)))},function(n){n[n.Editable=1]="Editable";n[n.Searchable=2]="Searchable"}(b=t.ComboBoxType||(t.ComboBoxType={}));nt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return e.InputControlType.INPUT_TYPE_COMBO_BOX},t.prototype.getControl=function(){return c.logVerbose("[ComboBoxInputComponent.getControl]: Method called."),i.createElement(k,__assign({ref:this._resolveRef("_comboBox"),required:!1,enabled:!this.props.disabled,ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId()},this.props))},t.prototype.getBehavior=function(){return this._comboBox.getBehavior()},t.prototype.getDropButton=function(){return this._comboBox.getDropButton()},t}(f.InputBase);t.ComboBoxInputComponent=nt;k=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleKeydown=function(n){var t,r;i.props.comboBoxType!==b.Editable&&(n.which===w.KeyCode.LEFT?(t=i._control.getInput()[0],t.setSelectionRange&&t.setSelectionRange(0,0)):n.which===w.KeyCode.RIGHT&&(t=i._control.getInput()[0],r=t.value?t.value.length:0,t.setSelectionRange&&t.setSelectionRange(r,r)))},i._handleInputChange=function(){if(i.props.onValueChanged)if(i.props.allowEdit!==!1&&i._delayedOnChange)i._delayedOnChange(i.getValue());else i.props.onValueChanged(i.getValue())},i._isValid=function(){return i._isComboBoxSearchable()&&i._control.getInputText().length>0?!!i.props.textfieldOnEmptySource&&i._control.getBehavior()&&i._control.getBehavior().getDataSource().getCount()===0?!0:!i.props.isCaseSensitive&&i._control.getBehavior()&&i._control.getBehavior().getDataSource().getItemIndex(i._control.getInputText())!==-1?!0:i.props.isCaseSensitive?i._isValidWithCaseSensitive():!1:!!i.props.required&&i._control.getInputText().trim().length===0?!1:!0},i._onFocus=function(){i.setState({isFocussed:!0})},i._onFocusLost=function(){i._checkValidity();i.setState({isFocussed:!1,isValid:i.state.isValid})},i._comboBoxDescribedById="combo-box-description",i._errorMessageId="combo-error-message",i._comboBoxId=p.generateUID(),i.state={isValid:!0,isFocussed:!1},i._errorMessageKey=p.generateUID(),i}return __extends(t,n),t.prototype.createControl=function(n){if(!this._control){var i={itemCss:s.css("combo-box-item",this._getDefaultValueOnUndefined(this.props.comboBoxDropOptions?this.props.comboBoxDropOptions.itemCss:null,p.empty)),maxRowCount:this._getDefaultValueOnUndefined(this.props.comboBoxDropOptions?this.props.comboBoxDropOptions.maxRowCount:undefined,undefined)},r=u.JQueryWrapper.extend(this.props.comboBoxDropOptions,i),f={type:this.props.type,enableFilter:this._getDefaultValueOnUndefined(this.props.enableFilter,!0),autoComplete:this._getDefaultValueOnUndefined(this.props.autoComplete,!1),enabled:this._getDefaultValueOnUndefined(this.props.enabled,!0),invalidCss:s.css("invalid-css",this._getDefaultValueOnUndefined(this.props.invalidCss,p.empty)),cssClass:s.css("combo-box-container",this._getDefaultValueOnUndefined(this.props.cssClass,p.empty)),inputCss:s.css("combo-box-input",this._getDefaultValueOnUndefined(this.props.inputCss,p.empty)),value:this._getDefaultValueOnUndefined(this.props.value,p.empty),dropOptions:r,onKeyDown:this._handleKeydown,ariaAttributes:__assign({},this.props.ariaLabel&&{label:this.props.ariaLabel},this.props.ariaLabelledBy&&{labelledby:this.props.ariaLabelledBy},this.props.ariaDescribedBy&&{describedby:this.props.ariaDescribedBy},this.props.required&&{required:this.props.required})},t=u.JQueryWrapper.extend(f,this.props);t.change=this._handleInputChange;this._control=a.create(h.Combo,n,t)}return this._control},t.prototype.getBehavior=function(){return this._control.getBehavior()},t.prototype.getDropButton=function(){return this._control.getDropButton()},t.prototype.render=function(){var t=this,r={ref:function(n){t.onRef(n)}},n=this._errorMessageId+this._comboBoxId,u=this._getDefaultValueOnUndefined(this.props.enabled,!0),f=s.css("combo-box-container-parent",{"combo-box-focus":this.state.isFocussed},{"is-disabled":!u},{"invalid-css":!this.state.isValid});return i.createElement("div",{className:this.props.comboBoxStyle,"aria-describedby":this._comboBoxDescribedById},i.createElement(d,{comboBoxContainerCssClass:f,props:r,"aria-describedby":n}),i.createElement("div",{className:"hidden",id:this._comboBoxDescribedById},this.props.ariaDescription),i.createElement(g,{errorMessageKey:this._errorMessageKey,errorMessageId:n,errorMessageCss:"combo-error-message",isValid:this.state.isValid,errorMessageString:this.props.errorMessage,hideErrorMessage:this.props.hideErrorMessage,isComboBoxSearchable:this._isComboBoxSearchable(),required:this.props.required,value:this.props.value}))},t.prototype.componentWillReceiveProps=function(n){this._control&&!this._control.isDisposed()&&(this._errorMessageKey=this.props.value!==n.value?p.generateUID():this._errorMessageKey,y.equals(this.props.source,n.source)||this._control.setSource(n.source),this._control.setText(this._getDefaultValueOnUndefined(n.value,p.empty)),this._control.setEnabled(this._getDefaultValueOnUndefined(n.enabled,!0)),this._setAriaLabel(n.ariaLabel),this._checkValidity())},t.prototype.shouldComponentUpdate=function(n){return this.props.allowEdit!==!1&&this.props.deferredOnChangeTime!==0&&this._async&&!v.arrayEquals(this.props.source,n.source)&&(this._delayedOnChange=this._async.debounce(this.props.onValueChanged,this.props.deferredOnChangeTime||t.c_defaultDeferredOnChangeTime)),!0},t.prototype.componentDidMount=function(){var t=this;n.prototype.componentDidMount.call(this);this._checkValidity();this._control.getInput().focus(function(){t._control.getEnabled()&&t._onFocus()});this._control.getInput().blur(function(){t._control.getEnabled()&&t._onFocusLost()});this._control.getInput().attr({"aria-describedby":this.props.ariaDescribedBy})},t.prototype.componentWillUnmount=function(){this._control.getInput().unbind("focus");this._control.getInput().unbind("blur");this._async&&this._async.dispose();n.prototype.componentWillUnmount.call(this)},t.prototype.componentWillMount=function(){this.props.allowEdit!==!1&&this.props.deferredOnChangeTime!==0&&(this._async=new s.Async,this._delayedOnChange=this._async.debounce(this.props.onValueChanged,this.props.deferredOnChangeTime||t.c_defaultDeferredOnChangeTime))},t.prototype.getValue=function(){return this._control.getValue()},t.prototype._setAriaLabel=function(n){this._control.getInput().attr("aria-label",n)},t.prototype._getDefaultValueOnUndefined=function(n,t){return n===undefined?t:n},t.prototype._isComboBoxSearchable=function(){return this.props.comboBoxType===b.Searchable},t.prototype._checkValidity=function(){this._control.getEnabled()&&(this._isValid()?(this._updateStateValidityInParent(!0),this._control.setInvalid(!1),this.setState({isValid:!0,isFocussed:this.state.isFocussed})):(this._updateStateValidityInParent(!1),this._control.setInvalid(!0),this.setState({isValid:!1,isFocussed:this.state.isFocussed})))},t.prototype._updateStateValidityInParent=function(n){if(this.props.onValidation)this.props.onValidation(n)},t.prototype._isValidWithCaseSensitive=function(){var n=this.props.source,t=this._control.getInputText();return n?!!v.first(n,function(n){return p.equals(t,n,!1)}):!1},t.c_defaultDeferredOnChangeTime=300,t}(l.Component);t.ComboBox=k});

define("DistributedTaskControls/Components/FlatViewDropdown",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","OfficeFabric/Utilities","OfficeFabric/Dropdown","VSS/Controls/Combos","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewDropdown"],function(n,t,i,r,u,f,e,o,s){var v;Object.defineProperty(t,"__esModule",{value:!0});var h="flat-view-table-dropdown-row",c="flat-view-table-dropdown-row-hover",l="flat-view-table-dropdown-row-error",a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.upKey=function(t){(t.altKey||this.isDropVisible())&&n.prototype.upKey.call(this,t)},t.prototype.downKey=function(t){(t.altKey||this.isDropVisible())&&n.prototype.downKey.call(this,t)},t.prototype.keyDown=function(n){if(n.keyCode===13){if(!this.isDropVisible())return this.showDropPopup(),!1}else n.keyCode===32&&this.toggleDropDown()},t.Type="dtc-flat-view-drop-down",t}(o.ComboListBehavior);o.Combo.registerBehavior(a.Type,a);v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(n){t.props.onValueChanged(n)},t._onDropdownValChanged=function(n){t._onChange(n.key.toString())},t._onDropdownKeyDown=function(n){t._dropdown&&(n.keyCode===40||n.keyCode===38)&&(n.altKey||n.preventDefault())},t._onKeyDown=function(n){if(t._comboBoxInputComponent){var i=t._comboBoxInputComponent.getBehavior();i.isDropVisible()&&n.stopPropagation()}},t}return __extends(t,n),t.prototype.render=function(){var t=this,n;return this._underLineRow(this._element,this.props.rowSelected),n=this.props.staticFlatViewDropdown?this._getStaticFlatViewDropdown():this._getDefaultFlatViewDropdown(),i.createElement("div",{className:"flatview-dropdown-container",onKeyDown:this._onKeyDown,ref:function(n){t._element=$(n)}},n)},t.prototype.componentDidMount=function(){if(this._underLineRow(this._element,this.props.rowSelected),this._comboBoxInputComponent){var n=this._comboBoxInputComponent.getDropButton();n.attr("data-is-visible","false")}},t.prototype.componentWillUnmount=function(){var n=!this._element?null:this._element.closest(".flat-view-table-cell");n.removeClass(h);n.removeClass(l);n.removeClass(c)},t.prototype._getDefaultFlatViewDropdown=function(){return i.createElement(u.ComboBoxInputComponent,{ref:this._resolveRef("_comboBoxInputComponent"),enabled:!this.props.isDisabled,value:this.props.selectedCondition,comboBoxType:this.props.type||u.ComboBoxType.Searchable,source:this.props.conditions,onValueChanged:this._onChange,enableFilter:this.props.enableFilter||!1,allowEdit:this.props.allowEdit||!1,hideErrorMessage:!0,ariaDescription:this.props.ariaDescription,ariaLabel:this.props.ariaLabel,type:this._getType(),maxAutoExpandDropWidth:this.props.maxAutoExpandDropWidth})},t.prototype._getStaticFlatViewDropdown=function(){var n=this.props.isDisabled?"flatview-dropdown-static-disabled":s.empty;return i.createElement(e.Dropdown,{"data-is-focusable":!0,ref:this._resolveRef("_dropdown"),className:f.css("flatview-dropdown-static",n),ariaLabel:this.props.ariaLabel,options:this._getDropdownOptions(),selectedKey:this.props.selectedCondition,onKeyDown:this._onDropdownKeyDown,onChanged:this._onDropdownValChanged,"aria-disabled":this.props.isDisabled,disabled:this.props.isDisabled,calloutProps:{className:"flatview-dropdown-static-callout-style"}})},t.prototype._getDropdownOptions=function(){var n=this,t=[];return this.props.conditions&&this.props.conditions.forEach(function(i){var r=!1;n.props.disabledConditions&&n.props.disabledConditions.indexOf(i)!==-1&&(r=!0);t.push({key:i,text:i,disabled:r})}),t},t.prototype._underLineRow=function(n,t){var i=!n?null:n.closest(".flat-view-table-cell"),r;!i||(r=h,this.props.hasErrors?r=l:t&&(r=c),i.removeClass(h),i.removeClass(l),i.removeClass(c),i.addClass(r))},t.prototype._getType=function(){var n;return this.props.allowEdit||(n=a.Type),n},t}(r.Component);t.FlatViewDropdown=v});

define("DistributedTaskControls/Components/Task/TaskStoreUtility",["require","exports","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(){}return n.createTaskInstanceCopy=function(n,t){var i={},r={},u={};return n===null?null:(n.inputs&&Object.keys(n.inputs).length>0&&Object.keys(n.inputs).forEach(function(t){i[t]=n.inputs[t]}),n.overrideInputs&&Object.keys(n.overrideInputs).length>0&&Object.keys(n.overrideInputs).forEach(function(t){r[t]=n.overrideInputs[t]}),n.environment&&Object.keys(n.environment).length>0&&Object.keys(n.environment).forEach(function(t){u[t]=n.environment[t]}),{displayName:n.displayName||t.friendlyName,refName:n.refName,enabled:n.enabled,continueOnError:n.continueOnError,timeoutInMinutes:n.timeoutInMinutes,alwaysRun:n.alwaysRun,condition:n.condition,order:n.order,inputs:i,overrideInputs:r,environment:u,task:{id:n.task.id,definitionType:n.task.definitionType,versionSpec:n.task.versionSpec}})},n.areTaskInstanceInputsEqual=function(n,t){if(Object.keys(n.inputs).length!==Object.keys(t.inputs).length)return!1;for(var i in n.inputs)if(n.inputs[i]!==t.inputs[i])return!1;return!0},n.areTaskInstanceOverrideInputsEqual=function(n,t){if(!n.overrideInputs&&!t.overrideInputs)return!0;if(n.overrideInputs&&t.overrideInputs&&Object.keys(n.overrideInputs).length===Object.keys(t.overrideInputs).length){for(var i in n.overrideInputs)if(!t.overrideInputs.hasOwnProperty(i)||!e.equals(n.overrideInputs[i],t.overrideInputs[i],!0))return!1;return!0}return!1},n.areVersionsEqual=function(n,t){return n.major===t.major&&n.minor===t.minor&&n.patch===t.patch&&n.isTest===t.isTest},n.getPickListRefreshOptions=function(n,t){return{sourceDefinitions:t.getSourceDefinitions(),dataSourceBindings:t.getDataSourceBindings(),taskInputToValueMap:t.getInputToValueMap(),processParametersToValueMap:t.getProcessParameterToValueMap(),taskDefinitionId:t.getTaskDefinitionId(n)}},n.mergeInputOptions=function(n,t){var r=this;n&&n.inputs&&t&&n.inputs.forEach(function(u){var f,o,s;r._doesInputSupportDynamicOptions(u,n)&&(f=t[u.name],f&&e.ignoreCaseComparer(i.DtcUtils.getTaskInputType(u),i.DtcUtils.getTaskInputType(f))===0&&(o=f.options,o&&(s={},Object.keys(o).forEach(function(n){s[n]=o[n]}),u.options=s)))})},n.isTaskSectionInitiallyCollapsed=function(n){var t=!1,i;return n&&n.isExpanded!==undefined?!n.isExpanded:(n&&n.displayName&&(i=n.displayName.trim().toLowerCase(),i&&(t=t||i.indexOf(r.ControlOptionsText.toLowerCase())!==-1,t||(t=t||i.indexOf(r.AdvancedOptionText.toLowerCase())!==-1))),t)},n._doesInputSupportDynamicOptions=function(n,t){var r=i.DtcUtils.getTaskInputType(n),o;return r===u.InputControlType.INPUT_TYPE_AZURE_CONNECTION||r===u.InputControlType.INPUT_TYPE_CONNECTED_SERVICE?!0:r===u.InputControlType.INPUT_TYPE_PICK_LIST&&(o=f.PickListInputUtility.getPickListOptions(n,t.dataSourceBindings,t.sourceDefinitions,e.empty),o.sourceDefintion||o.dataSourceBinding)?!0:!1},n}();t.TaskStoreUtility=o});

define("DistributedTaskControls/Components/Task/TaskStore",["require","exports","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/InputValidation","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStoreBase","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/Sources/TaskDefinitionSource","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut){Object.defineProperty(t,"__esModule",{value:!0});var ft=function(n){function t(t){var i=n.call(this,t.taskContext)||this;return i._updateTaskDefinition=function(n){y.TaskStoreUtility.mergeInputOptions(n,i._taskInputDefinitionMap);i._taskDefinition=n;i._setInputDefinitionMap();i._updateTaskInputsFromDefinition(!0);i._dependencyToTargetMap=b.DataSourceBindingUtility.getDependencyToTargetsMap(i.getTaskInstance().inputs,i.getDataSourceBindings(),i.getSourceDefinitions());i.emitChanged()},i._handleRenameTaskAction=function(n){n!==i._currentTaskInstance.displayName&&(i._currentTaskInstance.displayName=n,n!==i._getComputedInstanceNameAndInputName(i._currentTaskInstance).computedName&&(i._computeInstanceName=!1),i.emitChanged())},i._handleUpdateTaskRefNameAction=function(n){n!==i._currentTaskInstance.refName&&(i._currentTaskInstance.refName=n,i.emitChanged())},i._handleUpdateTaskStateAction=function(n){var t=!!n,r=!!i._currentTaskInstance.enabled;t!==r&&(i._currentTaskInstance.enabled=t,i.emitChanged())},i._handleUpdateTaskInputValue=function(n){i._inputValidation.updateInputValue(n.name,n.value);switch(n.name){case f.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun:i.getTaskInstance().alwaysRun=ut.ignoreCaseComparer(n.value,"true")===0;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError:i.getTaskInstance().continueOnError=ut.ignoreCaseComparer(n.value,"true")===0;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled:i.getTaskInstance().enabled=ut.ignoreCaseComparer(n.value,"true")===0;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut:i._timeOutStringValue=n.value;var t=i._getTimeOut(n.value);t===null&&i._timeOutStringValue?(i.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]=i._timeOutStringValue,i.getTaskInstance().timeoutInMinutes=i._originalTaskInstance.timeoutInMinutes):(i.getTaskInstance().timeoutInMinutes=t,delete i.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]);break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor:i.getTaskInstance().condition=n.value;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector:i.getTaskInstance().condition=n.value;i._inputValidation.clear(f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor);break;default:i.getTaskInstance().inputs[n.name]=n.value}i._inputsUsedForComputation[n.name]&&i._computeInstanceName&&(i._currentTaskInstance.displayName=i._getComputedInstanceNameAndInputName(i._currentTaskInstance).computedName);i._checkVisibilitychanged();i._removeInputOptionsIfRequired(n.name);i._inputValidation.tryHandlePendingInputErrorDispatch(n.name,n.value);i.emitChanged()},i._handleUpdateTaskInputError=function(n){i._inputValidation.tryHandleUpdateInputError(n)&&i.emitChanged()},i._handleUpdateTaskInputOptionsAction=function(n){var t=i._taskInputDefinitionMap&&i._taskInputDefinitionMap[n.name];t&&(t.options=n.options);i._checkVisibilitychanged();i.emitChanged()},i._handleAddEnvironmentVariable=function(){i._environmentVariableState==null&&(i._environmentVariableState=[]);i._environmentVariableState.push({name:ut.empty,value:ut.empty});i.emitChanged()},i._handleUpdateEnvironmentVariableName=function(n){n.name!==undefined&&n.name!==null&&(i._environmentVariableState[n.index].name=n.name,i._updateTaskInstanceEnvironmentVariables(),i.emitChanged())},i._handleUpdateEnvironmentVariableValue=function(n){n.value!==undefined&&n.value!==null&&(i._environmentVariableState[n.index].value=n.value,i._updateTaskInstanceEnvironmentVariables(),i.emitChanged())},i._handleDeleteEnvironmentVariable=function(n){i._environmentVariableState.splice(n.index,1);i._updateTaskInstanceEnvironmentVariables();i.emitChanged()},i._handleCreateProcessParameter=function(n){n&&n.input&&(i._processParameterToValueMap.hasOwnProperty(n.input.name.toLowerCase())||(i._processParameterToValueMap[n.input.name.toLowerCase()]=n.input.defaultValue))},i._handleUpdateProcessParameter=function(n){i._updateProcessParameterInput(n);i.emitChanged()},i._handleLinkToProcessParameter=function(n){var r=ut.format(f.ProcessParameterConstants.NewProcessParameterBoundInputValueFormat,n.processParametername),t;i._currentTaskInstance.inputs&&(i._currentTaskInstance.inputs[n.inputName]=r,i._inputToProcessParameterMap[n.inputName]=n.processParametername,t=n.processParametername.toLowerCase(),i._processParamToInputsMap[t]?i._processParamToInputsMap[t].push(n.inputName):i._processParamToInputsMap[t]=[n.inputName]);i.emitChanged()},i._handleUnlinkFromProcessParameter=function(n){i._unlinkFromProcessParameter(n);i.emitChanged()},i._handleRemoveAllProcessParameters=function(){i._inputToProcessParameterMap&&Object.keys(i._inputToProcessParameterMap).forEach(function(n){i._unlinkFromProcessParameter(n)});i.emitChanged()},i._handleMarkTaskAsDeleting=function(){i._isDeleting=!0;i.emitChanged()},i._instanceNameFormatRegex=/\$\((.+?)\)/g,i._isVisibilityChanged=!1,i._isDeprecated=!1,i._inputsUsedForComputation={},i._inputToProcessParameterMap={},i._processParamToInputsMap={},i._pendingTaskInputErrorPayloadDispatch={},i._inputValidation=new e.InputValidation,i._isDeleting=!1,i._taskInstance=t.taskInstance,i._taskDefinition=t.taskDefinition,i._processParameterToValueMap={},i._setInputDefinitionMap(),i._setTaskVersionList(t.taskVersionInfoList),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionCreator=r.ActionCreatorManager.GetActionCreator(a.TaskActionCreator,t);this._actionCreator.updateTaskDefinitionAction.addListener(this._updateTaskDefinition);this._actionCreator.renameTaskAction.addListener(this._handleRenameTaskAction);this._actionCreator.updateTaskRefNameAction.addListener(this._handleUpdateTaskRefNameAction);this._actionCreator.updateTaskStateAction.addListener(this._handleUpdateTaskStateAction);this._actionCreator.updateTaskInputErrorAction.addListener(this._handleUpdateTaskInputError);this._actionCreator.updateTaskInputValueAction.addListener(this._handleUpdateTaskInputValue);this._actionCreator.updateTaskInputOptionsAction.addListener(this._handleUpdateTaskInputOptionsAction);this._actionCreator.addTaskEnvironmentVariableAction.addListener(this._handleAddEnvironmentVariable);this._actionCreator.updateTaskEnvironmentVariableNameAction.addListener(this._handleUpdateEnvironmentVariableName);this._actionCreator.updateTaskEnvironmentVariableValueAction.addListener(this._handleUpdateEnvironmentVariableValue);this._actionCreator.deleteTaskEnvironmentVariableAction.addListener(this._handleDeleteEnvironmentVariable);this._actionCreator.markTaskAsDeletingAction.addListener(this._handleMarkTaskAsDeleting);var f=h.StoreManager.GetStore(d.ProcessParameterStore,this.getTaskContext().processInstanceId),e=f.getProcessParameters();this._updateProcessParametersValueMap(e);this._processParameterActions=u.ActionsHubManager.GetActionsHub(i.ProcessParameterActions,this.getTaskContext().processInstanceId);this._processParameterActions.updateInput.addListener(this._handleUpdateProcessParameter);this._processParameterActions.createProcessParameter.addListener(this._handleCreateProcessParameter);this._processParameterActions.removeAllProcessParameters.addListener(this._handleRemoveAllProcessParameters);this._createTaskInputToProcessParameterNameMap(this._taskInstance,this._processParameterToValueMap);this._taskInstance&&this._updateCurrentAndOriginalTaskInstances(this._taskInstance);this._dependencyToTargetMap=b.DataSourceBindingUtility.getDependencyToTargetsMap(this.getTaskInstance().inputs,this.getDataSourceBindings(),this.getSourceDefinitions());this._setVisibility();this._actionCreator.linkToProcessParameterAction.addListener(this._handleLinkToProcessParameter);this._actionCreator.unlinkFromProcessParameterAction.addListener(this._handleUnlinkFromProcessParameter)},t.prototype.isDirty=function(){return this.isTaskDefinitionValid()?this._currentTaskInstance&&!0?!(this._currentTaskInstance.displayName===this._originalTaskInstance.displayName&&this._currentTaskInstance.refName===this._originalTaskInstance.refName&&this._currentTaskInstance.alwaysRun===this._originalTaskInstance.alwaysRun&&this._currentTaskInstance.continueOnError===this._originalTaskInstance.continueOnError&&this._currentTaskInstance.enabled===this._originalTaskInstance.enabled&&this._currentTaskInstance.order===this._originalTaskInstance.order&&this._currentTaskInstance.timeoutInMinutes===this._originalTaskInstance.timeoutInMinutes&&this._currentTaskInstance.task.versionSpec===this._originalTaskInstance.task.versionSpec&&this._currentTaskInstance.condition===this._originalTaskInstance.condition&&!this._areTaskInputsDirty()&&!this._areTaskEnvironmentVariablesDirty()&&y.TaskStoreUtility.areTaskInstanceOverrideInputsEqual(this._currentTaskInstance,this._originalTaskInstance)):!1:!1},t.prototype.isDisabled=function(){var n=this.getTaskInstance();return n&&!n.enabled},t.prototype.isValid=function(){if(this.isDisabled())return!0;if(!this.isTaskDefinitionValid())return!1;var n=this._currentTaskInstance?this._currentTaskInstance.displayName:ut.empty;return(n&&n.trim())?this._hasValidControlOptions()?this._hasValidOutputVariableOptions()?this._hasValidEnvironmentVariables()?this._hasValidInputs():!1:!1:!1:!1},t.prototype.isValidForCreatingTaskGroup=function(){var n=this.isValid();for(var t in this._inputToProcessParameterMap)if(this._inputToProcessParameterMap.hasOwnProperty(t)){n=!1;break}return n},t.prototype.getProcessParameterToValueMap=function(){return this._processParameterToValueMap},t.prototype.getProcessParameterToInputsMap=function(){return this._processParamToInputsMap},t.prototype.getInputToValueMap=function(){return this.getTaskInstance().inputs},t.prototype.getInputToResolvedValueMap=function(){var i=this,n={},t=this.getInputToValueMap();return Object.keys(t).forEach(function(r){n[r]=l.DtcUtils.resolveTaskInputValueByProcessParameters(t[r],i._processParameterToValueMap).resolvedValue}),n},t.prototype.getTaskInstance=function(){return this._currentTaskInstance},t.prototype.getTaskPayload=function(){var t=this,n;return this.isMetaTask()?(n=y.TaskStoreUtility.createTaskInstanceCopy(this._currentTaskInstance,this._taskDefinition),this._taskDefinition.inputs.forEach(function(i){var r=t._currentTaskInstance.inputs[i.name];i.defaultValue!==r||nt.VariableExtractor.containsVariable(r)||(n.inputs[i.name]=ut.empty)}),n):this._currentTaskInstance},t.prototype.getClonedTaskInstance=function(){var n=y.TaskStoreUtility.createTaskInstanceCopy(this._currentTaskInstance,this._taskDefinition);return n.displayName=ut.format(p.CopyTaskDisplayNameFormat,n.displayName),n.refName=null,n},t.prototype.getTaskDefinition=function(){return this._taskDefinition},t.prototype.getTaskInputState=function(n){var t=this,r=l.DtcUtils.resolveTaskInputValueByProcessParameters(this.getTaskInstance().inputs[n],this._processParameterToValueMap),i=r.resolvedValue;return(i===undefined||i===null)&&(i=this._getControlOptionsInputValue(n)),{inputName:n,inputValue:i,isHidden:function(){return tt.logVerbose("InputName: "+n),t._taskInputDefinitionMap[n]?!t.isVisible(t._taskInputDefinitionMap[n].visibleRule,t._dependencyToTargetMap,n):!1},disabled:r.isResolved,options:this._taskInputDefinitionMap[n]?this._taskInputDefinitionMap[n].options:null}},t.prototype.getEnvironmentVariableState=function(){return this._environmentVariableState==null&&(this._environmentVariableState=[]),this._environmentVariableState||[]},t.prototype.getTaskInstanceId=function(){var n=this.getTaskInstance();return n?n.task.id:ut.empty},t.prototype.getVisibility=function(){return this._taskInputVisibility},t.prototype.getTaskDisplayName=function(){var n=this.getTaskInstance();return n?n.displayName:ut.empty},t.prototype.getTaskRefName=function(){var n=this.getTaskInstance();return n?n.refName:ut.empty},t.prototype.getTaskVersion=function(){return this._currentTaskInstance.task.versionSpec},t.prototype.getTaskVersionDisplaySpec=function(){var t=nt.isPreview(this._taskDefinition),n=this._currentTaskInstance?this._currentTaskInstance.task.versionSpec:"";return t?ut.format(p.Task_PreviewMajorVersionSpecFormat,n):n},t.prototype.getTaskVersionSpec=function(n){if(this._taskVersionSpecToInfo){var t=this._taskVersionSpecToInfo[n];if(t)return t.versionSpec}return null},t.prototype.getTaskVersionDisplaySpecs=function(){return this._taskVersionDisplaySpecs},t.prototype.getTaskItemOverviewState=function(){return{name:this.getTaskDisplayName(),refName:this.getTaskRefName(),isValid:this.isValid(),isDisabled:this.isDisabled(),isDefinitionValid:this.isTaskDefinitionValid(),isOnLatestMajorVersion:this.isTaskOnLatestMajorVersion(),isPreview:this.isPreview(),isTest:this.isTest(),isDeprecated:this.isDeprecated(),isDeleting:this.isDeleting()}},t.prototype.updateTask=function(n){n&&this._updateCurrentAndOriginalTaskInstances(n)},t.prototype.getActionForInputField=function(n){if(this._taskContext.processParametersNotSupported)return this._inputToProcessParameterMap[n]?c.ActionForTaskInput.NavigateToVariablesTab:c.ActionForTaskInput.None;if(this.isMetaTask())return c.ActionForTaskInput.None;switch(n){case f.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun:case f.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError:case f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled:case f.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut:case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector:case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor:return c.ActionForTaskInput.None}return this._inputToProcessParameterMap[n]?c.ActionForTaskInput.UnlinkFromProcessParameter:c.ActionForTaskInput.LinkToProcessParameter},t.prototype.getProcessParameterName=function(n){return this._inputToProcessParameterMap[n]},t.prototype.getInputNameToProcessParameterNameMap=function(){return this._inputToProcessParameterMap},t.prototype.disposeInternal=function(){this._actionCreator.updateTaskDefinitionAction.removeListener(this._updateTaskDefinition);this._processParameterActions.updateInput.removeListener(this._handleUpdateProcessParameter);this._processParameterActions.createProcessParameter.removeListener(this._handleCreateProcessParameter);this._processParameterActions.removeAllProcessParameters.removeListener(this._handleRemoveAllProcessParameters);this._actionCreator.updateTaskInputErrorAction.removeListener(this._handleUpdateTaskInputError);this._actionCreator.updateTaskInputValueAction.removeListener(this._handleUpdateTaskInputValue);this._actionCreator.renameTaskAction.removeListener(this._handleRenameTaskAction);this._actionCreator.updateTaskRefNameAction.removeListener(this._handleUpdateTaskRefNameAction);this._actionCreator.updateTaskStateAction.removeListener(this._handleUpdateTaskStateAction);this._actionCreator.linkToProcessParameterAction.removeListener(this._handleLinkToProcessParameter);this._actionCreator.unlinkFromProcessParameterAction.removeListener(this._handleUnlinkFromProcessParameter);this._actionCreator.updateTaskInputOptionsAction.removeListener(this._handleUpdateTaskInputOptionsAction);this._actionCreator.addTaskEnvironmentVariableAction.removeListener(this._handleAddEnvironmentVariable);this._actionCreator.updateTaskEnvironmentVariableNameAction.removeListener(this._handleUpdateEnvironmentVariableName);this._actionCreator.updateTaskEnvironmentVariableValueAction.removeListener(this._handleUpdateEnvironmentVariableValue);this._actionCreator.deleteTaskEnvironmentVariableAction.removeListener(this._handleDeleteEnvironmentVariable);this._actionCreator.markTaskAsDeletingAction.removeListener(this._handleMarkTaskAsDeleting);this._currentTaskInstance=null;this._originalTaskInstance=null;this._actionCreator=null;this._processParameterToValueMap=null;this._taskInputDefinitionMap=null;this._inputsUsedForComputation={};n.prototype.disposeInternal.call(this)},t.prototype.getSourceDefinitions=function(){return this.getTaskDefinition().sourceDefinitions},t.prototype.getDataSourceBindings=function(){return this.getTaskDefinition().dataSourceBindings},t.prototype.getTaskDefinitionId=function(){return this.getTaskDefinition().id},t.prototype.getTaskInputDefinitionMap=function(){return this._taskInputDefinitionMap},t.prototype.isDeprecated=function(){return this._isDeprecated},t.prototype.isPreview=function(){return this._taskDefinition&&this._taskDefinition.preview},t.prototype.isTest=function(){return this._taskDefinition&&this._taskDefinition.version&&this._taskDefinition.version.isTest},t.prototype.isTaskOnLatestMajorVersion=function(){return this._taskDefinition&&this._taskDefinition.version?this._taskDefinition.version.major===this._latestMajorTaskVersion:!0},t.prototype.isGroupOrInputVisible=function(n,t){return this.isVisible(n,this._dependencyToTargetMap,t)},t.prototype.getLatestMajorTaskVersionReleaseNotes=function(){return this._latestMajorTaskVersionReleaseNotes},t.prototype.getLatestMajorTaskVersionDisplaySpec=function(){return this._latestMajorTaskVersionDisplaySpec},t.prototype.isMetaTask=function(){return!!this._taskDefinition&&this._taskDefinition.definitionType===g.DefinitionType.metaTask},t.prototype.isTaskDefinitionValid=function(){return!!this._taskDefinition&&!!this._taskDefinition.id},t.prototype.getProcessParameterNameToReferenceCount=function(){var n=this.getProcessParameterToInputsMap(),t=[];return Object.keys(n).forEach(function(i){t.push({processParameterName:i,referenceCount:n[i].length})}),t},t.prototype.getInputState=function(t,i){var u=l.DtcUtils.resolveTaskInputValueByProcessParameters(this.getTaskInstance().inputs[t.name],this._processParameterToValueMap),e=u.isResolved?u.resolvedValue:i,r=n.prototype.getInputState.call(this,t,e);return r!==f.InputState.Valid||this._inputValidation.isValid(t.name)||(r=f.InputState.Invalid),r},t.prototype.isVisibilityChanged=function(){return this._isVisibilityChanged},t.prototype.getTaskTimeoutInMinutes=function(){var t=this.getTaskInstance(),n=this.getTaskInstance().overrideInputs&&this.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes];return n?l.DtcUtils.getInteger(n):this.getTaskInstance().timeoutInMinutes},t.prototype.getEnvironmentVariableNameInvalidErrorMessage=function(n){return!n?p.EnvironmentVariableNameEmptyErrorTooltip:n.trim()===ut.empty?p.EnvironmentVariableNameEmptyErrorTooltip:/\s/g.test(n.trim())?p.EnvironmentVariableNameSpaceErrorTooltip:ut.empty},t.prototype.getEnvironmentVariableValueInvalidErrorMessage=function(n){return!n?p.EnvironmentVariableValueEmptyErrorTooltip:n.trim()===ut.empty?p.EnvironmentVariableValueEmptyErrorTooltip:ut.empty},t.prototype._areTaskInputsDirty=function(){if(Object.keys(this._currentTaskInstance.inputs).length!==Object.keys(this._originalTaskInstance.inputs).length)return!0;for(var n in this._currentTaskInstance.inputs)if(!this._isInputHidden(n)&&this._currentTaskInstance.inputs[n]!==this._originalTaskInstance.inputs[n])return!0;return!1},t.prototype._areTaskEnvironmentVariablesDirty=function(){if(this._currentTaskInstance.environment==null&&this._originalTaskInstance.environment==null)return!1;if(this._currentTaskInstance.environment!=null&&this._originalTaskInstance.environment==null||this._currentTaskInstance.environment==null&&this._originalTaskInstance.environment!=null||Object.keys(this._currentTaskInstance.environment).length!==Object.keys(this._originalTaskInstance.environment).length)return!0;for(var n in this._currentTaskInstance.environment)if(this._currentTaskInstance.environment[n]!==this._originalTaskInstance.environment[n])return!0;return!1},t.prototype._isInputHidden=function(n){var i=!1,t=this.getTaskInputState(n);return t&&(i=t.isHidden?t.isHidden():!1),i},t.prototype._isGroupVisible=function(n){return this._taskInputVisibility.hasOwnProperty(n)?this._taskInputVisibility[n]:!0},t.prototype._setInputDefinitionMap=function(){var n=this;this._taskInputDefinitionMap={};this._taskDefinition.inputs.forEach(function(t){n._taskInputDefinitionMap[t.name]=l.DtcUtils.createInputDefinitionCopy(t)})},t.prototype._setVisibility=function(){this._taskInputVisibility={};this._updateVisbility()},t.prototype._updateTaskInputsFromDefinition=function(n){var r=this,t,i;n===void 0&&(n=!1);!this._currentTaskInstance||!this._originalTaskInstance||!this._taskDefinition||!this._taskDefinition.inputs||(t={},i={},this._taskDefinition.inputs.forEach(function(n){r._currentTaskInstance.inputs[n.name]===undefined||r._taskDefinition.definitionType===g.DefinitionType.metaTask&&r._currentTaskInstance.inputs[n.name]===ut.empty?(t[n.name]=n.defaultValue,i[n.name]=n.defaultValue):(t[n.name]=r._currentTaskInstance.inputs[n.name],i[n.name]=r._originalTaskInstance.inputs[n.name]);ut.equals(n.type,w.InputControlType.INPUT_TYPE_BOOLEAN,!0)&&(t[n.name]||(n.defaultValue?(t[n.name]=n.defaultValue,i[n.name]=n.defaultValue):(t[n.name]=o.Boolean.falseString,i[n.name]=o.Boolean.falseString)))}),this._currentTaskInstance.inputs=t,this._originalTaskInstance.inputs=!n?i:this._originalTaskInstance.inputs,this._currentTaskInstance.task.versionSpec=this._getMajorVersionString(this._taskDefinition.version),this._initializeInstanceName(this._currentTaskInstance))},t.prototype._updateProcessParametersValueMap=function(n){var t=this;!n||!n.inputs||(this._processParameterToValueMap={},n.inputs.forEach(function(n){var i=n.name.toLowerCase();t._processParameterToValueMap[i]=n.defaultValue}))},t.prototype._createTaskInputToProcessParameterNameMap=function(n,t){var i,u,f,r;if(n.inputs)for(i in n.inputs)n.inputs.hasOwnProperty(i)&&(u=l.DtcUtils.resolveTaskInputValueByProcessParameters(n.inputs[i],t),u.isResolved&&(f=u.boundProcessParameterName,r=f.toLowerCase(),this._inputToProcessParameterMap[i]=f,this._processParamToInputsMap[r]||(this._processParamToInputsMap[r]=[]),this._processParamToInputsMap[r].push(i)))},t.prototype._updateProcessParameterInput=function(n){var i=this,t;!this._processParameterToValueMap||(t=n.name.toLowerCase(),this._processParameterToValueMap[t]=n.value,this._processParamToInputsMap.hasOwnProperty(t)&&this._processParamToInputsMap[t].forEach(function(n){i._removeInputOptionsIfRequired(n)}),this._processParamToInputsMap[t]&&this._computeInstanceName&&this._processParamToInputsMap[t].forEach(function(n){if(i._inputsUsedForComputation[n]){i._currentTaskInstance.displayName=i._getComputedInstanceNameAndInputName(i._currentTaskInstance).computedName;return}}))},t.prototype._getControlOptionsInputValue=function(n){var u=this,t,i,r;switch(n){case f.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun:t=this.getTaskInstance().alwaysRun.toString();break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError:t=this.getTaskInstance().continueOnError.toString();break;case f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled:t=this.getTaskInstance().enabled.toString();break;case f.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut:i=this._getOverrideTimeoutValue();i?t=i:(r=this.getTaskInstance().timeoutInMinutes!==null&&this.getTaskInstance().timeoutInMinutes!==undefined?this.getTaskInstance().timeoutInMinutes.toString():ut.empty,t=!this._timeOutStringValue?r:this._timeOutStringValue);break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionSelector:this._taskInputDefinitionMap[n]||(this._taskInputDefinitionMap[n]=l.DtcUtils.getRunThisTaskInputDefinition());t=l.DtcUtils.getTaskConditionOptions().some(function(n){return n===u.getTaskInstance().condition})?this.getTaskInstance().condition:ut.empty;break;case f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor:this._taskInputDefinitionMap[n]||(this._taskInputDefinitionMap[n]=l.DtcUtils.getCustomConditionInputDefinition());t=this.getTaskInstance().condition||ut.empty}return t},t.prototype._getOverrideTimeoutValue=function(){return this.getTaskInstance().overrideInputs&&this.getTaskInstance().overrideInputs.hasOwnProperty(f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes)?this.getTaskInstance().overrideInputs[f.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]:ut.empty},t.prototype._hasValidControlOptions=function(){var n=!0,t=this._getOverrideTimeoutValue(),i;return t?n=l.DtcUtils.isValueInVariableFormat(t)||l.DtcUtils.isValidNonNegativeIntegerInRange(t,0,f.MaxPositiveNumber,!0)===f.InputState.Valid?!0:!1:(i=this.getTaskInstance().timeoutInMinutes,n=i!==null&&l.DtcUtils.isNumberInRange(i,0,f.MaxPositiveNumber)?!0:!1),n&&(n=this._inputValidation.isValid(f.TaskControlOptionsConstants.ControlOptionsInputName_ConditionEditor)),n},t.prototype._hasValidOutputVariableOptions=function(){if(it.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag_TaskShowOutputVariables,!1)&&it.FeatureAvailabilityService.isFeatureEnabled(f.FeatureFlag_TaskValidateOutputVariables,!1)){var n=this.getTaskRefName();return!n||l.DtcUtils.isValidRefName(n)}return!0},t.prototype._hasValidInputs=function(){var i=!0,n,r,t;if(!!this._currentTaskInstance.inputs)for(n in this._currentTaskInstance.inputs)if(this._currentTaskInstance.inputs.hasOwnProperty(n)&&(r=this._currentTaskInstance.inputs[n],t=this._taskInputDefinitionMap[n],t&&this.isVisible(t.visibleRule,this._dependencyToTargetMap,n)&&this._isGroupVisible(t.groupName)&&this.getInputState(t,r)!==f.InputState.Valid)){i=!1;break}return i},t.prototype._hasValidEnvironmentVariables=function(){var r=!0,n,t,i;if(!!this._environmentVariableState)for(n=0,t=this._environmentVariableState;n<t.length;n++)if(i=t[n],!!this.getEnvironmentVariableNameInvalidErrorMessage(i.name)||!!this.getEnvironmentVariableValueInvalidErrorMessage(i.value)){r=!1;break}return r},t.prototype._updateEnvironmentVariableState=function(){if(this._environmentVariableState=[],!!this._currentTaskInstance.environment)for(var n in this._currentTaskInstance.environment)this._environmentVariableState.push({name:n,value:this._currentTaskInstance.environment[n]})},t.prototype._updateTaskInstanceEnvironmentVariables=function(){var n=this;this.getTaskInstance().environment={};!this._environmentVariableState||this._environmentVariableState.forEach(function(t){n.getTaskInstance().environment[t.name.trim()]=t.value.trim()})},t.prototype._updateCurrentAndOriginalTaskInstances=function(n){this._initializeInstanceName(n);this._currentTaskInstance=y.TaskStoreUtility.createTaskInstanceCopy(n,this._taskDefinition);this._originalTaskInstance=y.TaskStoreUtility.createTaskInstanceCopy(n,this._taskDefinition);this._updateTaskInputsFromDefinition();this._updateTaskVersion();this._updateEnvironmentVariableState()},t.prototype._updateTaskVersion=function(){this._currentTaskInstance&&(this._currentTaskInstance.task.versionSpec=this._getMajorVersionString(this._taskDefinition.version));this._originalTaskInstance&&(this._originalTaskInstance.task.versionSpec=this._getMajorVersionString(this._taskDefinition.version))},t.prototype._initializeInstanceName=function(n){var i=this,t;n&&(t=this._getComputedInstanceNameAndInputName(n),t.inputsUsedForComputation.forEach(function(n){i._inputsUsedForComputation[n]=!0}),n.displayName&&t.computedName!==n.displayName||(this._computeInstanceName=!0,n.displayName=t.computedName))},t.prototype._getComputedInstanceNameAndInputName=function(n){var i=this,r=[],t=ut.empty;return this._taskDefinition.instanceNameFormat&&(t=this._taskDefinition.instanceNameFormat.replace(this._instanceNameFormatRegex,function(t,u){var f,e,o;return r.push(u),f=ut.empty,n.inputs&&(e=i._inputToProcessParameterMap[u],f=e?i._processParameterToValueMap[e.toLowerCase()]:n.inputs[u]),f||(o=i._taskInputDefinitionMap[u],o&&(f=o.defaultValue)),f||ut.empty})),t||(t=this._taskDefinition.friendlyName),{computedName:t.replace(s.TaskNameRegex," "),inputsUsedForComputation:r}},t.prototype._getTimeOut=function(n){return l.DtcUtils.isValidNonNegativeIntegerInRange(n,0,f.MaxPositiveNumber,!0)===f.InputState.Valid?l.DtcUtils.getInteger(n):null},t.prototype._unlinkFromProcessParameter=function(n){var r=this._inputToProcessParameterMap[n],t,i,u;r&&(t=r.toLowerCase(),i=this._processParameterToValueMap[t],this._currentTaskInstance.inputs&&(u=this._taskInputDefinitionMap[n]?this._taskInputDefinitionMap[n].defaultValue:ut.empty,this._currentTaskInstance.inputs[n]=i?i:u),delete this._inputToProcessParameterMap[n],this._processParamToInputsMap[t]&&this._processParamToInputsMap[t].length>0&&(rt.remove(this._processParamToInputsMap[t],n),this._processParamToInputsMap[t].length===0&&(delete this._processParamToInputsMap[t],delete this._processParameterToValueMap[t])))},t.prototype._removeInputOptionsIfRequired=function(n){var t=this;this._dependencyToTargetMap.hasOwnProperty(n)&&this._dependencyToTargetMap[n].forEach(function(n){var i=t._taskInputDefinitionMap[n];i&&(i.options=null,nt.VariableExtractor.containsVariable(t.getTaskInstance().inputs[i.name])||(t.getTaskInstance().inputs[i.name]=i.defaultValue))})},t.prototype._setTaskVersionList=function(n){var t=this;this._taskVersionDisplaySpecs=[];this._taskVersionSpecToInfo={};this._latestMajorTaskVersion=-1;this._latestMajorTaskVersionDisplaySpec=ut.empty;this._latestMajorTaskVersionReleaseNotes=ut.empty;n&&Object.keys(n).forEach(function(i){var r=n[i],f,u,e;r&&(f=nt.getMajorVersion(r.versionSpec),u=r.isPreview?ut.format(p.Task_PreviewMajorVersionSpecFormat,r.versionSpec):r.versionSpec,t._taskVersionDisplaySpecs.push(u),t._taskVersionSpecToInfo[u]=r,t._latestMajorTaskVersion<f&&(t._latestMajorTaskVersion=f,t._latestMajorTaskVersionDisplaySpec=u,e=k.TaskDefinitionSource.instance().getTaskDefinition(t._taskDefinition.id,t._latestMajorTaskVersion.toString()||"*"),e&&(t._latestMajorTaskVersionReleaseNotes=e.releaseNotes),t._isDeprecated=r.isDeprecated))});this._taskVersionDisplaySpecs.reverse()},t.prototype._getMajorVersionString=function(n){return n?nt.getMajorVersionSpec(n):"*"},t.prototype._checkVisibilitychanged=function(){var n=this;this._isVisibilityChanged=!1;this._taskDefinition&&this._taskDefinition.inputs&&this._taskDefinition.inputs.forEach(function(t){n._taskInputVisibility[t.name]!==n.isVisible(t.visibleRule,n._dependencyToTargetMap,t.name)&&(n._isVisibilityChanged=!0)});!this._isVisibilityChanged&&this._taskDefinition&&this._taskDefinition.groups&&this._taskDefinition.groups.forEach(function(t){n._taskInputVisibility[t.name]!==n.isVisible(t.visibleRule,n._dependencyToTargetMap)&&(n._isVisibilityChanged=!0)});this._updateVisbility()},t.prototype._updateVisbility=function(){var n=this;this._taskDefinition&&this._taskDefinition.inputs&&this._taskDefinition.inputs.forEach(function(t){n._taskInputVisibility[t.name]=!!n.isVisible(t.visibleRule,n._dependencyToTargetMap,t.name)});this._taskDefinition&&this._taskDefinition.groups&&this._taskDefinition.groups.forEach(function(t){n._taskInputVisibility[t.name]=!!n.isVisible(t.visibleRule,n._dependencyToTargetMap)})},t.prototype.isDeleting=function(){return this._isDeleting},t}(v.TaskStoreBase);t.TaskStore=ft});

define("DistributedTaskControls/ProcessManagement/ProcessManagementActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateCapabilities=new u.Action},t.getKey=function(){return r.ActionsKeys.ProcessManagementActions},Object.defineProperty(t.prototype,"updateCapabilities",{get:function(){return this._updateCapabilities},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.ProcessManagementActions=f});

define("DistributedTaskControls/ProcessManagement/ProcessManagementUtils",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){}return n.isCapabilitySupported=function(n,t){return(n&t)===t},n}();t.ProcessManagementUtils=i});

define("DistributedTaskControls/ProcessManagement/ProcessManagementStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/ProcessManagement/ProcessManagementActions","DistributedTaskControls/ProcessManagement/ProcessManagementUtils","DistributedTaskControls/ProcessManagement/Types"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleUpdateCapabilities=function(n){i._processManagementCapabilities=n;i.emitChanged()},i._processManagementCapabilities=t.processManagementCapabilities,i}return __extends(t,n),t.prototype.initialize=function(n){this._processManagementActions=i.ActionsHubManager.GetActionsHub(f.ProcessManagementActions,n);this._processManagementActions.updateCapabilities.addListener(this._handleUpdateCapabilities)},t.getKey=function(){return r.StoreKeys.ProcessManagementStore},Object.defineProperty(t.prototype,"processManagementCapabilities",{get:function(){return this._processManagementCapabilities},enumerable:!0,configurable:!0}),t.prototype.canEditProcess=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditProcess)},t.prototype.canEditProcessInputs=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditProcessInputs)},t.prototype.canEditPhases=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditPhases)},t.prototype.canEditPhaseInputs=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditPhaseInputs)},t.prototype.canEditTasks=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditTasks)},t.prototype.canEditTaskInputs=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditTaskInputs)},t.prototype.canEditTaskGroups=function(){return e.ProcessManagementUtils.isCapabilitySupported(this._processManagementCapabilities,o.ProcessManagementCapabilities.EditTaskGroups)},t.prototype.disposeInternal=function(){this._processManagementActions.updateCapabilities.removeListener(this._handleUpdateCapabilities)},t}(u.StoreBase);t.ProcessManagementStore=s});

define("DistributedTaskControls/Components/Task/TaskDetailsHeader",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/YamlHelper","DistributedTaskControls/Components/FlatViewDropdown","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/MarkdownRenderer","DistributedTaskControls/Components/SafeLink","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Components/TooltipIfOverflow","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/Stores/ItemSelectionStore","DistributedTaskControls/Variables/ProcessVariables/DataStore","OfficeFabric/Button","OfficeFabric/Label","OfficeFabric/Utilities","VSS/Context","VSS/Diag","VSS/Utils/Accessibility","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsHeader"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){Object.defineProperty(t,"__esModule",{value:!0});var et=function(n){function t(){var r=__construct(this,n,arguments);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._onNameChanged=function(n){r._actionCreator.renameTask(n)},r._onGetErrorMessage=function(n){return(n&&n.trim())?ft.empty:(r._actionCreator.renameTask(n),w.RequiredInputErrorMessage)},r._onVersionChanged=function(n){var t=r._store.getTaskVersionSpec(n);r._actionCreator.updateTaskDefinition(r._store.getTaskInstanceId(),t)},r._onRemove=function(){if(!r._store.getTaskContext().onRemoveDelegate)rt.logError("[TaskDetailsHeader._onRemove]: onRemoveDelegate has not been initialized.");else{r._store.getTaskContext().onRemoveDelegate(r.props.controllerInstanceId);ut.announce(w.TaskRemoved,!0);e.Telemetry.instance().publishEvent(e.Feature.RemoveTask,{},e.Source.CommandButton)}},r._onLinkSettingClicked=function(){r.props.onLinkSettingClicked?r.props.onLinkSettingClicked():rt.logError("[TaskDetailsHeader._onLinkSettingClicked]: onLinkSettingClicked method has not been initialized.")},r._onViewYAMLClicked=function(){var t=r._store.getInputToValueMap(),e=r._store.getTaskDefinition(),s=r._store.getTaskRefName(),h=r._store.getTaskVersion(),c=!r._store.isDisabled(),n=r._store.getTaskInstance(),l=n.continueOnError,a=n.condition,v=r._store.getTaskTimeoutInMinutes(),y=r._store.getTaskDisplayName(),i={};Object.keys(t).forEach(function(n){i[n]=r._store.getTaskInputState(n).isHidden()});var p=r._store.getProcessParameterToValueMap(),w=f.StoreManager.GetStore(d.ProcessVariablesStore),b=w.getVariableList(),k=n.environment,u={};b.forEach(function(n){u[n.name]=n.variable});o.handleViewTaskAsYaml(t,e,s,y,h,c,l,a,v,i,u,p,k,!1)},r._setState=function(){var n=r._itemSelectionStore.getState().selectedItems;r.setState({isTaskDisabled:r._store.isDisabled(),displayName:r._store.getTaskDisplayName(),version:r._store.getTaskVersionDisplaySpec(),isOnLatestMajorVersion:r._store.isTaskOnLatestMajorVersion(),isPreview:r._store.isPreview(),isMultipleTasksSelected:n&&n.length>1})},r._getTaskGroupLink=function(n,r){var u=it.getDefaultWebContext(),f=ft.format(t._taskGroupUrl,u.collection.uri+u.project.name,n);return i.createElement("p",null,i.createElement("span",{className:"callout-taskgroup-link"},w.View,i.createElement(l.SafeLink,{href:f,target:"_blank"},r)))},r}return __extends(t,n),t.prototype.componentWillMount=function(){this._domId=ft.generateUID();this._store=f.StoreManager.GetStore(v.TaskStore,this.props.controllerInstanceId);this._actionCreator=r.ActionCreatorManager.GetActionCreator(a.TaskActionCreator,this.props.controllerInstanceId);var n=this._store.getTaskContext().processInstanceId;this._processManagementStore=f.StoreManager.GetStore(p.ProcessManagementStore,n);this._itemSelectionStore=f.StoreManager.CreateStore(k.Store,n,{defaultSelection:[]});this._setState()},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._setState);this._processManagementStore.addChangedListener(this._setState);this._itemSelectionStore.addChangedListener(this._setState)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._setState);this._processManagementStore.removeChangedListener(this._setState);this._itemSelectionStore.removeChangedListener(this._setState)},t.prototype.render=function(){var t=this,r={calloutDescription:this.props.taskDescription,calloutMarkdown:this.props.taskHelpMarkDown,calloutAdditionalContent:function(){return t._getWhatsNewContent(t.props.taskVersionDisplaySpec,t.props.taskReleaseNotes)}},u={calloutAdditionalContent:function(){return t._getWhatsNewContent(t._store.getLatestMajorTaskVersionDisplaySpec(),t._store.getLatestMajorTaskVersionReleaseNotes(),w.Task_VersionSelectorHelp)}},n=this.props.taskType;return!this.state.isTaskDisabled||(n=ft.format("{0} ({1})",n,w.DisabledText)),this.state.isPreview&&(n=ft.format("{0} ({1})",n,w.PreviewText)),i.createElement("div",{className:"task-details-header"},i.createElement("div",{className:"heading-row"},i.createElement("div",{className:"task-type-label-container"},i.createElement(y.TooltipIfOverflow,{tooltip:n,targetElementClassName:"task-type-label"},i.createElement("label",{className:"task-type-label","aria-disabled":this.state.isTaskDisabled},n))),i.createElement(h.Component,{cssClass:"task-type-info",calloutContent:r,iconStyle:"task-type-info-icon",isIconFocusable:!0,iconAriaLabel:ft.format(w.InfoCalloutAriaLabel,n)}),i.createElement("div",{className:"float-right"},this._isLinkSettingsVisible()&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides","linkSettings-button"),ariaLabel:w.LinkSettings,iconProps:{iconName:"Link"},ariaDescription:w.LinkSettingsDescription,onClick:this._onLinkSettingClicked},w.LinkSettings),this._isYAMLFeatureVisible()&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides","linkSettings-button"),ariaLabel:w.MenuViewAsYaml,iconProps:{iconName:"Paste"},disabled:!this._store.isValid(),ariaDescription:w.ViewAsYamlDescription,onClick:this._onViewYAMLClicked},w.MenuViewAsYaml),this._store.canShowLinkOptions()&&this._processManagementStore.canEditTasks()&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides","remove-task-button"),ariaDescription:w.RemoveTaskDescription,ariaLabel:w.RemoveText,iconProps:{iconName:"Delete"},onClick:this._onRemove},w.RemoveText)),this._isVersionsSettingsVisible()&&i.createElement("span",{className:"task-version-span"},!this.state.isOnLatestMajorVersion&&i.createElement(h.Component,{calloutContent:u,cssClass:"task-version-upsell",iconName:"Flag",iconStyle:"task-version-upsell-icon",isIconFocusable:!0,iconAriaLabel:w.NewerVersionAvailableFlagAriaLabel}),i.createElement(nt.Label,{className:"task-version-dropdown-label"},w.Task_VersionSelectorLabel),i.createElement("span",{className:"task-version-dropdown"},i.createElement(s.FlatViewDropdown,{conditions:this.props.taskVersions,selectedCondition:this.state.version,rowSelected:!0,onValueChanged:this._onVersionChanged,ariaDescription:w.SelectVersionDescription,ariaLabel:w.Task_VersionSelectorLabel,isDisabled:!this._processManagementStore.canEditTasks()})))),i.createElement("div",{className:"task-name"},i.createElement(b.StringInputComponent,{label:w.DisplayNameText,value:this.state.displayName,onValueChanged:this._onNameChanged,required:!0,getErrorMessage:this._onGetErrorMessage,deferredValidationTime:500,disabled:!this._processManagementStore.canEditTaskInputs()})))},t.prototype._isYAMLFeatureVisible=function(){return this._store.canShowYAMLFeature()&&!this.state.isMultipleTasksSelected},t.prototype._isVersionsSettingsVisible=function(){return this._store.canShowVersions()&&this._store.isTaskDefinitionValid()},t.prototype._isLinkSettingsVisible=function(){return this._store.canShowLinkOptions()&&!this._store.isMetaTask()&&this._store.isTaskDefinitionValid()&&!this.props.processParametersNotSupported&&this._processManagementStore.canEditProcess()},t.prototype._getTaskDisplayNameElementId=function(){return"task-display-name-"+this._domId},t.prototype._getWhatsNewContent=function(n,t,r){return i.createElement("div",null,r&&i.createElement("div",null,r),r&&t&&i.createElement("br",null),t&&i.createElement("div",null,i.createElement("div",{className:"version-info-whats-new"}," ",ft.format(w.WhatsNewInVersionText,n)," "),i.createElement(c.Component,{markdown:t})),this.props.taskId&&this._getTaskGroupLink(this.props.taskId,this.props.taskType))},t._taskGroupUrl="{0}/_taskgroups?_a=properties&taskGroupId={1}",t}(u.Component);t.TaskDetailsHeader=et});

define("DistributedTaskControls/Common/FlatViewTableTypes",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.HighContrastSelectionClass="high-contrast-is-selected";var i;(function(n){n[n.SimpleText=0]="SimpleText";n[n.PasswordText=1]="PasswordText";n[n.JsxElement=2]="JsxElement"})(i=t.ContentType||(t.ContentType={}))});

define("DistributedTaskControls/Components/FlatViewButton",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","OfficeFabric/Button","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewButton"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=o.css("flat-view-button",u.HighContrastSelectionClass);return n+=this.props.rowSelected?"":" hide",i.createElement("div",{className:"flat-view-button-container"},i.createElement(e.TooltipHost,{content:this.props.tooltip},i.createElement(f.IconButton,{ariaLabel:this.props.tooltip,className:n,iconProps:this.props.iconProps,onClick:this.props.onClick,disabled:this.props.disabled})))},t}(r.Component);t.FlatViewButton=s});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};define("DistributedTaskControls/Components/FlatViewIcon",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Icon","OfficeFabric/Utilities","VSS/Utils/Accessibility","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewIcon"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.componentWillMount=function(){this._flatViewIconDescribedById=o.generateUID();this._announceLiveRegion(this.props.ariaLiveRegionMessage)},t.prototype.componentWillReceiveProps=function(n){o.defaultComparer(n.ariaLiveRegionMessage,this.props.ariaLiveRegionMessage)!==0&&this._announceLiveRegion(n.ariaLiveRegionMessage)},t.prototype.render=function(){return i.createElement("div",{ref:this._resolveRef("_flatViewIconContainer"),"data-is-focusable":!0,role:"presentation",className:f.css("flat-view-icon-container",this.props.className),"aria-describedby":this._getDescriptionUniqueId(),onFocus:this._onFocus,onBlur:this._onBlur},i.createElement("div",{className:"hidden",id:this._getDescriptionUniqueId()},this.props.ariaLiveRegionMessage),i.createElement(u.Icon,__assign({className:"flat-view-icon"},this.props)))},t.prototype._onFocus=function(){this.setState({isSelected:!0})},t.prototype._onBlur=function(n){this._flatViewIconContainer.contains(n.relatedTarget||document.activeElement)||this.setState({isSelected:!1})},t.prototype._announceLiveRegion=function(n,t){t===void 0&&(t=!0);n&&e.announce(n,t)},t.prototype._getDescriptionUniqueId=function(){return this._flatViewIconDescribedById},__decorate([f.autobind],t.prototype,"_onFocus",null),__decorate([f.autobind],t.prototype,"_onBlur",null),t}(r.Component);t.FlatViewIcon=s});

define("DistributedTaskControls/Common/ReactFocus",["require","exports","VSS/Diag","VSS/Utils/String"],function(n,t,i,r){function u(n){if(!n){i.logError("ReactFocus: focusFocusableElement: There is no element to focus.");return}var t=n.querySelector("[data-is-focusable]");t&&(t.setAttribute("tabindex","-1"),t.focus())}function f(n,t){if(!n){i.logError("ReactFocus: focusDetailsListRow: There is no element to focus.");return}var f=n.querySelector(r.format('[data-list-index="{0}"]',t));u(f)}Object.defineProperty(t,"__esModule",{value:!0});t.focusFocusableElement=u;t.focusDetailsListRow=f});

define("DistributedTaskControls/Components/FlatViewText",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Components/TooltipIfOverflow","OfficeFabric/Utilities","OfficeFabric/Label","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewText"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.disabled?"flat-view-text-disabled":s.empty;return i.createElement(o.Label,{disabled:this.props.disabled,className:e.css("flat-view-text",u.HighContrastSelectionClass,this.props.className,n)},i.createElement(f.TooltipIfOverflow,{tooltip:this.props.text,targetElementClassName:"flat-view-text-preserve",containerClassName:"flat-view-text-preserve-container"},i.createElement("div",{className:"flat-view-text-preserve-container"},i.createElement("pre",{className:"flat-view-text-preserve"},this.props.text))))},t}(r.Component);t.FlatViewText=h});

define("DistributedTaskControls/Components/FlatViewTextInput",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/FlatViewText","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/FlatViewTableTypes","OfficeFabric/Button","OfficeFabric/Utilities","OfficeFabric/Label","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewTextInput"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.noUnderLine="flat-view-table-input-row";t.hoverUnderLine="flat-view-table-input-row-hover";t.selectedUnderLine="flat-view-table-input-row-selected";t.errorUnderLine="flat-view-table-input-row-error";t.focus="flat-view-table-input-row-focus";t.editInline="flat-view-table-input-edit-inline";var l=function(n){function r(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._cellStyleClass="input-cell-style",i.state={value:i.props.value,isSelected:!1},i._flatViewTextInputAriaDescribedById=c.generateUID(),i}return __extends(r,n),r.prototype.componentWillReceiveProps=function(n){this.setState(function(t){return{value:n.value,isSelected:t.isSelected}})},r.prototype.render=function(){var n=this;return this._updateInputProperties(),this._underLineRow(this.props.rowHighLighted),i.createElement("div",{className:s.css("flat-view-text-input-container"),ref:function(t){n._flatViewTextInput=$(t)}},!this.state.editInline&&i.createElement("div",null,i.createElement("div",{className:"propagate-keydown-event","data-is-focusable":"true",tabIndex:0,role:"button","aria-label":this._getAriaLabel(),"aria-disabled":this.props.disabled,"aria-describedby":this.props.disabled?null:this._flatViewTextInputAriaDescribedById,onClick:this._onReadOnlyInputClicked,onKeyDown:this._onReadOnlyInputKeyDown,onFocus:this._onInputFocus,onBlur:this._onReadOnlyInputBlur,ref:function(t){n._readOnlyInput=$(t)}},this._getReadonlyInput()),i.createElement("div",{id:this._flatViewTextInputAriaDescribedById,className:"hidden"},f.FlatViewTextInputCellDescription)),this.state.editInline&&this._getEditableInputWithControlIcons())},r.prototype.componentDidMount=function(){this._underLineRow(this.props.rowHighLighted);this._asyncUtil=new s.Async;this._delayedInputChanged=this._asyncUtil.debounce(this.props.onValueChanged,r.c_defaultDeferredOnChangeTime)},r.prototype.componentWillUnmount=function(){this._removeStylesFromParentElement();this._asyncUtil&&this._asyncUtil.dispose();this._asyncUtil=null},r.prototype._getAriaLabel=function(){return this._isInputSecret()?f.SecretValueText:this._inputValue?this._inputValue.toString():f.EmptyText},r.prototype._updateInputProperties=function(){this._inputValue=this.state.value?this.state.value:c.empty},r.prototype._onInputChanged=function(n){var t=$(n.target).val();this.setState(function(n){return{value:t,isSelected:n.isSelected}});this._delayedInputChanged(t,this.props.cellIndex)},r.prototype._onInputFocus=function(){this._hasFocus=!0;this.setState(function(n){return{value:n.value,isSelected:!0}})},r.prototype._onReadOnlyInputBlur=function(n){var t=this._readOnlyInput[0];t.contains(n.relatedTarget||document.activeElement)||(this._hasFocus=!1,this.setState(function(n){return{value:n.value,isSelected:!1}}))},r.prototype._onReadOnlyInputClicked=function(){this.props.disabled||this._setFocusOnEditableInput()},r.prototype._onControlClicked=function(n){if(this.props.onControlClicked)this.props.onControlClicked(this.props.cellIndex);n.stopPropagation()},r.prototype._onControlIconsMouseDown=function(){this.setState({editInline:!0})},r.prototype._onControlIconsKeyDown=function(n){switch(n.which){case 39:n.stopPropagation();break;case 13:n.stopPropagation()}},r.prototype._onReadOnlyInputKeyDown=function(n){switch(n.which){case 13:if(!!this.props.disabled)return;this._setFocusOnEditableInput();n.stopPropagation()}},r.prototype._onEditableInputMouseDown=function(){this._setFocusOnEditableInput()},r.prototype._onEditableInputKeyDown=function(n){switch(n.which){case 36:case 35:n.stopPropagation();break;case 13:case 27:this._setFocusOnReadOnlyInput();n.stopPropagation();n.preventDefault();break;case 37:n.stopPropagation();break;case 39:this.props.controlIconClassName||n.stopPropagation()}},r.prototype._setFocusOnReadOnlyInput=function(){var n=this;this.state.editInline!==!1&&this.setState({editInline:!1},function(){n._readOnlyInput.focus()})},r.prototype._setFocusOnEditableInput=function(){var n=this;this.setState({editInline:!0},function(){n._editableInput.focus()})},r.prototype._getReadonlyInput=function(){var n=this,t=function(t){return i.createElement("div",{className:!n.props.cssClass?n._cellStyleClass:s.css(n._cellStyleClass,n.props.cssClass)},t)},l=this.props.disabled?"flat-view-text-input-read-only-disabled":c.empty,r,f,o;return this._isInputSecret()?(r=i.createElement(h.Label,{disabled:this.props.disabled,className:s.css("flat-view-text-input-read-only",e.HighContrastSelectionClass,l)},"********"),t(r)):(f=this._inputValue.toString(),o=i.createElement(u.FlatViewText,{text:f,disabled:this.props.disabled}),t(o))},r.prototype._getEditableInputWithControlIcons=function(){var n=this;return i.createElement("div",{ref:function(t){n._editableInputWithControlIcon=$(t)},onFocus:this._onInputFocus,onBlur:this._onInputBlur,className:!this.props.cssClass?this._cellStyleClass:s.css(this._cellStyleClass,this.props.cssClass)},this._getEditableInput(),this._getControlIcons())},r.prototype._onInputBlur=function(n){var t=this._editableInputWithControlIcon[0];t.contains(n.relatedTarget||document.activeElement)||(this._hasFocus=!1,this.setState(function(n){return{value:n.value,isSelected:!1,editInline:!1}}))},r.prototype._getEditableInput=function(){var n=this,t=s.css("flat-view-text-input propagate-keydown-event",e.HighContrastSelectionClass,{"flat-view-text-input-padding":!!this.props.controlIconClassName});return i.createElement("input",{className:t,ref:function(t){n._editableInput=$(t)},onMouseDown:this._onEditableInputMouseDown,onKeyDown:this._onEditableInputKeyDown,"aria-disabled":this.props.disabled,disabled:this.props.disabled,type:this.props.type||"text",spellCheck:!1,value:this._inputValue,onInput:this._onInputChanged,onChange:function(){},tabIndex:0,placeholder:this._getPlaceHolder(),"aria-label":this.props.ariaLabel})},r.prototype._getControlIcons=function(){var n=s.css("control-button",{hide:!this._isInputHighlighted(this.props.rowHighLighted,this.props.ignoreParentHighlight)});return this.props.controlIconClassName&&i.createElement("span",{onKeyDown:this._onControlIconsKeyDown,onMouseDown:this._onControlIconsMouseDown,className:"input-control-button-container"},i.createElement(o.CommandButton,{className:s.css(n,"control-button-icon"),iconProps:{iconName:this.props.controlIconClassName},ariaLabel:this.props.controlTitle,tabIndex:0,disabled:!!this.props.disabled,onClick:this._onControlClicked,"aria-disabled":!!this.props.disabled}))},r.prototype._underLineRow=function(n){var r=this._getParentElement(),i;r&&(i=t.noUnderLine,this.props.rowHasErrors?i=t.errorUnderLine:this.state.isSelected?i=t.selectedUnderLine:(this._isInputHighlighted(n,this.props.ignoreParentHighlight)||!this._isInputSecret()&&this.state.value===c.empty)&&(i=t.hoverUnderLine),!this.state.isSelected||(i=s.css(i,t.focus)),this.state.editInline&&(i=s.css(i,t.editInline)),this._removeStylesFromParentElement(),r.addClass(i))},r.prototype._isInputHighlighted=function(n,t){return this.state.isSelected||n&&!t},r.prototype._getPlaceHolder=function(){return this._isInputSecret()?"********":this._hasFocus?this.props.placeHolder:c.empty},r.prototype._isInputSecret=function(){return c.localeIgnoreCaseComparer(this.props.type||"text","password")===0},r.prototype._getParentElement=function(){return this._flatViewTextInput&&this._flatViewTextInput.closest(".flat-view-table-cell")},r.prototype._removeStylesFromParentElement=function(){var n=this._getParentElement();n&&(n.removeClass(t.noUnderLine),n.removeClass(t.errorUnderLine),n.removeClass(t.hoverUnderLine),n.removeClass(t.selectedUnderLine),n.removeClass(t.focus),n.removeClass(t.editInline))},r.c_defaultDeferredOnChangeTime=500,__decorate([s.autobind],r.prototype,"_onInputChanged",null),__decorate([s.autobind],r.prototype,"_onInputFocus",null),__decorate([s.autobind],r.prototype,"_onReadOnlyInputBlur",null),__decorate([s.autobind],r.prototype,"_onReadOnlyInputClicked",null),__decorate([s.autobind],r.prototype,"_onControlClicked",null),__decorate([s.autobind],r.prototype,"_onControlIconsMouseDown",null),__decorate([s.autobind],r.prototype,"_onControlIconsKeyDown",null),__decorate([s.autobind],r.prototype,"_onReadOnlyInputKeyDown",null),__decorate([s.autobind],r.prototype,"_onEditableInputMouseDown",null),__decorate([s.autobind],r.prototype,"_onEditableInputKeyDown",null),__decorate([s.autobind],r.prototype,"_onInputBlur",null),r}(r.Component);t.FlatViewTextInputCell=l});

define("DistributedTaskControls/Components/FlatViewTableRow",["require","exports","react","DistributedTaskControls/Components/FlatViewTextInput","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","OfficeFabric/DetailsList","OfficeFabric/Utilities","OfficeFabric/utilities/selection/interfaces","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewTableRow"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(t){var u=__construct(this,n,[t]);for(var e in u)u.hasOwnProperty(e)&&(this[e]=u[e]);return u._renderCell=function(n,t,e){var s={};if(n&&n.cells){var c=n.cells,o=c[e.key],h=o.content,l=o.contentType;switch(l){case f.ContentType.SimpleText:case f.ContentType.PasswordText:s=i.createElement(r.FlatViewTextInputCell,{cssClass:o.cssClass,placeHolder:o.placeHolder,type:o.contentType===f.ContentType.PasswordText?"password":"text",value:o.content,cellIndex:{rowIndex:t,columnKey:e.key},onValueChanged:u.props.onCellValueChanged,rowHasErrors:o.contentHasErrors,rowHighLighted:!!u.state.isActive,controlIconClassName:o.controlIcon,controlTitle:o.controlTitle,disabled:o.isTextDisabled||u.props.disabled,onControlClicked:function(n){!o.controlClickCallback||o.controlClickCallback({rowIndex:n.rowIndex,columnKey:n.columnKey})},ariaLabel:o.ariaLabel||e.name,ignoreParentHighlight:o.ignoreParentHighlight});break;case f.ContentType.JsxElement:s=h&&i.cloneElement(h,{rowSelected:!!u.state.isActive,ariaLabel:o.ariaLabel||e.name})}}return s},u.state={isActive:!1,isRowSelected:!1},u._events=new o.EventGroup(u),u}return __extends(t,n),t.prototype.componentDidMount=function(){this._events.on(this.props.rowProps.selection,s.SELECTION_CHANGE,this._onSelectionChanged)},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype._onMouseOver=function(){(this._isHovered=!0,this.props.rowProps.selection.isIndexSelected(this.props.rowProps.itemIndex))||this.setState({isActive:!0})},t.prototype._onMouseLeave=function(){this._isHovered=!1;this._setBlur()},t.prototype._setBlur=function(){this.props.rowProps.selection.isIndexSelected(this.props.rowProps.itemIndex)||this._isHovered===!0||this.setState({isActive:!1})},t.prototype._onSelectionChanged=function(){if(this.props.rowProps.selection.isIndexSelected(this.props.rowProps.itemIndex)){if(this.props.onRowSelected)this.props.onRowSelected(this.props.rowProps.itemIndex);this.state.isActive!==!0&&this.setState({isActive:!0,isRowSelected:!0})}else this.state.isActive!==!1&&this.setState({isActive:!1,isRowSelected:!1})},t.prototype.render=function(){var n=this;return i.createElement("div",{className:this.state.isRowSelected?"is-selected":"",onMouseOver:function(){return n._onMouseOver()},onBlur:function(){return n._setBlur()},onMouseLeave:function(){return n._onMouseLeave()}},i.createElement(e.DetailsRow,__assign({},this.props.rowProps,{onRenderItemColumn:this._renderCell})))},t}(u.Component);t.FlatViewTableRow=h});

define("DistributedTaskControls/Components/FlatViewTable",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/FlatViewTableRow","OfficeFabric/DetailsList","OfficeFabric/Selection","VSS/Utils/String","VSSUI/VssDetailsList","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewTable","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._getRowAriaLabel=function(n){return n.rowAriaLabel||o.empty},t._onRenderRow=function(n){var r="flatViewRow-"+n.itemIndex;return i.createElement("div",{className:"fabric-style-overrides"},i.createElement("div",{className:"flat-view-row",key:r},i.createElement(u.FlatViewTableRow,{rowProps:n,onCellValueChanged:t.props.onCellValueChanged,onRowSelected:t.props.onRowSelected,disabled:t.props.disabled})))},t}return __extends(t,n),t.prototype.render=function(){var n=t._flatViewContainerTableClassName+(!this.props.cssClass?"":" "+this.props.cssClass);return i.createElement("div",{className:n,ref:t._flatViewContainerTableClassName},i.createElement(s.VssDetailsList,{ref:this._resolveRef("_detailsList"),compact:!0,selectionMode:e.SelectionMode.single,setKey:this.props.setKey,className:"flat-view-table",items:this.props.rows,initialFocusedIndex:this.props.initialFocusedIndex>=0?this.props.initialFocusedIndex:-1,columns:this._getColumnList(),layoutMode:this._getLayoutMode(),checkboxVisibility:f.CheckboxVisibility.hidden,isHeaderVisible:this.props.isHeaderVisible,constrainMode:f.ConstrainMode.unconstrained,onRenderRow:this._onRenderRow,getRowAriaLabel:this._getRowAriaLabel,onRowWillUnmount:this.props.onRowWillUnmount,ariaLabelForGrid:this.props.ariaLabel}))},t.prototype.scrollToIndex=function(n){this._detailsList&&this._detailsList.scrollToIndex&&this._detailsList.scrollToIndex(n)},t.prototype._getLayoutMode=function(){var n=this.props.layoutMode;return(n===undefined||n===null)&&(n=f.DetailsListLayoutMode.justified),n},t.prototype._getColumnList=function(){for(var n,r=[],i=0,u=this.props.headers;i<u.length;i++)n=u[i],r.push({key:n.key,name:n.name,fieldName:n.name,minWidth:typeof n.minWidth=="number"?n.minWidth:100,maxWidth:typeof n.maxWidth=="number"?n.maxWidth:400,isResizable:n.isFixedColumn?!n.isFixedColumn:!0,className:t._flatViewTableCellClassName,isIconOnly:n.isIconOnly,iconClassName:n.iconClassName,iconName:n.iconName,onColumnClick:n.onColumnClick,isSorted:n.isSorted,columnActionsMode:n.columnActionsMode,isSortedDescending:n.isSortedDescending,headerClassName:n.headerClassName,isMultiline:n.isMultiline,ariaLabel:n.ariaLabel||n.name});return r},t._flatViewTableCellClassName="flat-view-table-cell",t._flatViewContainerTableClassName="flat-view-table-container",t}(r.Component);t.FlatViewTable=h});

define("DistributedTaskControls/Components/FlatViewTableWithAddButton",["require","exports","react","react-dom","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/ReactFocus","DistributedTaskControls/Components/FlatViewTable","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._isRowDeleted=!1,i._isRowAdded=!1,i._async=new h.Async,i}return __extends(t,n),t.prototype.componentWillMount=function(){this.setState({setFocusOnRow:this.props.setFocusOnRender,setKey:"flat-view-table-with-add-button"})},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.componentDidUpdate=function(){var n=this;this.props.stopAutoFocus||(this._isRowDeleted&&(this._numberOfRows>0?this._selectedRowIndex===this._numberOfRows?this._setFocusOnAddButton():this._selectedRowIndex<this._numberOfRows&&f.focusDetailsListRow(this._table,this._selectedRowIndex):this._numberOfRows===0&&this._setFocusOnAddButton(),this._isRowDeleted=!1),this._isRowAdded&&(this._numberOfRows>0&&this._flatViewTable.scrollToIndex(this.props.rows.length-1),this.props.focusSelectorOnAddRow&&this._async.setTimeout(function(){var u=r.findDOMNode(n),i=u.querySelectorAll(c.format(".ms-DetailsRow[data-item-index='{0}'] {1}",n.props.rows.length-1,n.props.focusSelectorOnAddRow)),t;i&&(t=i[0],t&&t.click())},0),this._isRowAdded=!1))},t.prototype._onRowWillUnmount=function(){this._isRowDeleted=!0},t.prototype.render=function(){var n=this._setInitialFocus();return this._numberOfRows=this.props.rows.length,i.createElement("div",{className:this.props.containerClass},i.createElement("div",{className:this.props.flatViewContainerClass,ref:this._resolveRef("_table")},i.createElement(e.FlatViewTable,{ref:this._resolveRef("_flatViewTable"),layoutMode:this.props.layoutMode,setKey:this.state.setKey,isHeaderVisible:this.props.isHeaderVisible,headers:this.props.headers,rows:this.props.rows,onCellValueChanged:this.props.onCellValueChanged,initialFocusedIndex:n,ariaLabel:this.props.ariaLabel,onRowWillUnmount:this._onRowWillUnmount,onRowSelected:this._onRowSelected,disabled:this.props.disabled})),!this.props.disabled&&i.createElement(s.CommandButton,{className:this.props.addButtonClass,componentRef:this._resolveRef("_addButton"),iconProps:{iconName:"Add"},ariaDescription:this.props.addButtonDescription?this.props.addButtonDescription:o.Add,ariaLabel:this.props.addButtonDisplayValue?this.props.addButtonDisplayValue:o.Add,onClick:this._onAdd},this.props.addButtonDisplayValue?this.props.addButtonDisplayValue:o.Add))},t.prototype._onAdd=function(n){if(this._isRowAdded=!0,this.setState({setFocusOnRow:!0,setKey:c.generateUID()}),this.props.onAdd)this.props.onAdd(n)},t.prototype._onRowSelected=function(n){this._selectedRowIndex=n},t.prototype._setInitialFocus=function(){if(this.state.setFocusOnRow===!1)return-1;var n=-1;return this.props.rows&&this.props.rows.length>0&&(n=this._isRowAdded?this.props.rows.length-1:0),n},t.prototype._setFocusOnAddButton=function(){this._addButton&&this._addButton.focus()},__decorate([h.autobind],t.prototype,"_onRowWillUnmount",null),__decorate([h.autobind],t.prototype,"_onAdd",null),__decorate([h.autobind],t.prototype,"_onRowSelected",null),t}(u.Component);t.FlatViewTableWithAddButton=l});

define("DistributedTaskControls/SharedControls/Accordion/Accordion",["require","exports","react","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Utilities","DistributedTaskControls/Common/Utilities","VSSUI/Tooltip","VSS/Utils/String","VSS/Utils/UI","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/Accordion/Accordion"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});l=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._toggle=function(){var n=!r.state.expanded;if(r.setState({expanded:n}),r.props.onHeaderClick)r.props.onHeaderClick(n)},r.showContent=function(n){r.setState({expanded:n})},r._handleKeyPress=function(n){(n.keyCode===h.KeyCode.SPACE||n.keyCode===h.KeyCode.ENTER)&&(r._toggle(),n.preventDefault(),n.stopPropagation())},r._getDefaultSectionHeaderLabel=function(n){return i.createElement("div",{className:"accordion-section-label"},r._getBowtieHeader(n),i.createElement(o.TooltipHost,{content:n.label,overflowMode:o.TooltipOverflowMode.Parent},n.label))},r._titleId=f.InputControlUtils.getId("Accordion"),r._contentId=f.InputControlUtils.getId("AccordionContent"),r.state={expanded:t.initiallyExpanded||!1},r}return __extends(t,n),t.prototype.componentDidUpdate=function(n,t){this.state&&this.state.expanded&&(!t||t.expanded!==this.state.expanded&&this._contentContainer)&&e.DtcUtils.scrollElementToView(this._contentContainer)},t.prototype.render=function(){var t=this,u=s.format("chevron bowtie-icon bowtie-chevron-{0}-light",this.state.expanded?"up":"down"),f=this._getHeaderContent(),o=this._getHeaderContentEnd(),n="accrodion-description"+e.DtcUtils.getUniqueInstanceId();return i.createElement("div",{className:c.css("dtc-accordion",this.props.cssClass),ref:function(n){t._contentContainer=n}},i.createElement("div",{className:"title-container",role:"heading","aria-level":this.props.headingLevel,"aria-describedby":n},i.createElement("div",{className:"hidden",id:n},this.state.expanded?this.props.description:this.props.descriptionOnCollapse),i.createElement("div",{tabIndex:0,className:"accordion-section-header",role:"button",onClick:this._toggle,onKeyDown:this._handleKeyPress,id:this._titleId,"aria-label":this.props.label,"aria-controls":this._contentId,"aria-expanded":this.state.expanded,"data-first-focus-element":!0},f,i.createElement("div",{className:u,"aria-label":this.state.expanded?r.ExpandText:r.CollapseText}),this.props.addSectionHeaderLine&&i.createElement("div",{className:"accordion-section-line"},i.createElement("hr",null))),o,this.state.expanded&&this.props.description?i.createElement("div",{className:"description-container"},this.props.description):null,!this.state.expanded&&this.props.descriptionOnCollapse?i.createElement("div",{className:"description-container"},this.props.descriptionOnCollapse):null,!this.state.expanded&&!this.props.descriptionOnCollapse&&this.props.description?i.createElement("div",{className:"description-container"},this.props.description):null),i.createElement("div",{id:this._contentId},this.state.expanded&&i.createElement("div",{className:"content-container","aria-labelledby":this._titleId},this.props.children)),this.props.addSeparator&&i.createElement(a,null))},t.prototype.isExpanded=function(){return this.state?!!this.state.expanded:!!this.props.initiallyExpanded},t.prototype._getHeaderContent=function(){return this.props.onRenderHeader?this.props.onRenderHeader(this.props,this._getDefaultSectionHeaderLabel):this._getDefaultSectionHeaderLabel(this.props)},t.prototype._getHeaderContentEnd=function(){if(this.props.onRenderHeaderEnd){var n=this.props.onRenderHeaderEnd(this.props);return i.createElement("div",{className:"accordion-section-header-end"},n)}return i.createElement("div",null)},t.prototype._getBowtieHeader=function(n){var t=n.bowtieIconName?s.format("accordion-section-icon bowtie-icon {0}",n.bowtieIconName):s.empty;return n.bowtieIconName&&i.createElement("i",{className:t})},t}(u.Component);t.Accordion=l;a=function(){return i.createElement("div",{className:"empty-separator"})}});

define("DistributedTaskControls/Components/Task/TaskDetailsEnvironmentVariables",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/FlatViewButton","DistributedTaskControls/Components/FlatViewIcon","DistributedTaskControls/Components/FlatViewTableWithAddButton","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/Accordion","OfficeFabric/Utilities","OfficeFabric/components/DetailsList/DetailsList.types","VSSUI/Tooltip","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsEnvironmentVariables"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var it,tt;Object.defineProperty(t,"__esModule",{value:!0});it=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._getEnvironmentVariableRows=function(){return tt.getRowData(i.state.environmentVariables,i._store,i._actionCreator,!i._processManagementStore.canEditTaskInputs())},i._onCellValueChanged=function(n,t){switch(t.columnKey){case h.EnvironmentVariableConstants.nameColumnKey:i._actionCreator.updateTaskEnvironmentVariableName(t.rowIndex,n);break;case h.EnvironmentVariableConstants.valueColumnKey:i._actionCreator.updateTaskEnvironmentVariableValue(t.rowIndex,n)}},i._onChange=function(){i.setState({environmentVariables:i._store.getEnvironmentVariableState()})},i._actionCreator=u.ActionCreatorManager.GetActionCreator(o.TaskActionCreator,i.props.controllerInstanceId),i._store=e.StoreManager.GetStore(s.TaskStore,i.props.controllerInstanceId),i._processManagementStore=e.StoreManager.GetStore(y.ProcessManagementStore,i._store.getTaskContext().processInstanceId),i.state={environmentVariables:i._store.getEnvironmentVariableState()},i}return __extends(t,n),t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange);this._processManagementStore.addChangedListener(this._onChange)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onChange);this._processManagementStore.removeChangedListener(this._onChange)},t.prototype.render=function(){var t="flatview-header",n=[];return n.push({key:h.EnvironmentVariableConstants.iconColumnKey,name:w.EnvironmentVariableErrorMessageColumnHeader,isIconOnly:!0,columnActionsMode:d.ColumnActionsMode.disabled,isFixedColumn:!0,minWidth:20,maxWidth:20}),n.push({key:h.EnvironmentVariableConstants.nameColumnKey,name:w.NameLabel,isFixedColumn:!0,headerClassName:t,columnActionsMode:d.ColumnActionsMode.disabled}),n.push({key:h.EnvironmentVariableConstants.deleteColumnKey,name:w.DeleteEnvironmentVariableColumnHeader,isIconOnly:!0,columnActionsMode:d.ColumnActionsMode.disabled,isFixedColumn:!0,minWidth:32,maxWidth:32}),n.push({key:h.EnvironmentVariableConstants.valueColumnKey,name:w.ValueLabel,isFixedColumn:!0,headerClassName:t,columnActionsMode:d.ColumnActionsMode.disabled}),i.createElement("div",{className:"fabric-style-overrides task-details-environment-variables"},i.createElement(b.Accordion,{label:w.EnvironmentVariablesHeader,initiallyExpanded:!this.props.isSectionAutoCollapsed,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0},i.createElement(a.FlatViewTableWithAddButton,{containerClass:"task-details-environment-variables",flatViewContainerClass:"environment-variables-list",isHeaderVisible:!0,headers:n,rows:this._getEnvironmentVariableRows(),onCellValueChanged:this._onCellValueChanged,onAdd:this._onAddEnvironmentVariableClick,addButtonClass:"fabric-style-overrides add-new-item-button add-new-environment-variable-button",addButtonDescription:w.AddEnvironmentVariableDescription,ariaLabel:w.ARIALabelEnvironmentVariablesTable,setFocusOnRender:!1,focusSelectorOnAddRow:".dtc-environment-variable-name-cell .flat-view-text-input-read-only",disabled:!this._processManagementStore.canEditTaskInputs()})))},t.prototype._onAddEnvironmentVariableClick=function(n){this._actionCreator.addTaskEnvironmentVariable();f.DtcUtils.scrollElementToView(n.currentTarget)},__decorate([k.autobind],t.prototype,"_onAddEnvironmentVariableClick",null),t}(r.Component);t.TaskDetailsEnvironmentVariables=it;tt=function(){function n(){}return n.getRowData=function(n,t,i,r){var u=this,f=[];return(n||[]).forEach(function(n,e){var o={cells:{}};o.rowAriaLabel=u._getRowAriaLabel(n);o.cells[h.EnvironmentVariableConstants.iconColumnKey]=u._getIconCellContent(n,t);o.cells[h.EnvironmentVariableConstants.nameColumnKey]=u._getNameCellContent(n,t);o.cells[h.EnvironmentVariableConstants.deleteColumnKey]=u._getDeleteCellContent(n,i,e,r);o.cells[h.EnvironmentVariableConstants.valueColumnKey]=u._getValueCellContent(n,t);f.push(o)}),f},n._getIconCellContent=function(n,t){var r=this._getMessageIconProps(n,t),u=null;if(r){var f=r.message,e=r.iconName,o=r.className;u=i.createElement(g.TooltipHost,{content:f,directionalHint:5},i.createElement(l.FlatViewIcon,{ariaLiveRegionMessage:f,rowSelected:!0,iconName:e,className:o}))}return{content:u,contentType:v.ContentType.JsxElement}},n._getMessageIconProps=function(n,t){var i=this._getFieldValidationState(n,t);return i.state===p.ValidState.Invalid?{iconName:"Error",className:"environment-variable-validation-error",message:i.message}:null},n._getFieldValidationState=function(n,t){var i=t.getEnvironmentVariableNameInvalidErrorMessage(n.name),r=t.getEnvironmentVariableValueInvalidErrorMessage(n.value);return!!i||!!r?{state:p.ValidState.Invalid,message:!i?r:i}:{state:p.ValidState.Valid,message:nt.empty}},n._getNameCellContent=function(n,t){return{cssClass:"dtc-environment-variable-name-cell",content:n.name,isTextDisabled:!1,contentType:v.ContentType.SimpleText,contentHasErrors:!!t.getEnvironmentVariableNameInvalidErrorMessage(n.name)}},n._getDeleteCellContent=function(n,t,r,u){return{content:i.createElement(c.FlatViewButton,{tooltip:this._getDeleteIconAriaLabel(n),rowSelected:!1,iconProps:{iconName:"Delete"},onClick:function(){t.deleteTaskEnvironmentVariable(r,n.name)},disabled:u}),contentType:v.ContentType.JsxElement}},n._getDeleteIconAriaLabel=function(n){var t=!n.name?nt.empty:n.name.trim();return t?nt.format(w.DeleteEnvironmentVariableTooltip,t):w.DeleteEmptyEnvironmentVariableTooltip},n._getValueCellContent=function(n,t){return{cssClass:"dtc-environment-variable-value-cell",content:n.value,isTextDisabled:!1,contentHasErrors:!!t.getEnvironmentVariableValueInvalidErrorMessage(n.value),contentType:v.ContentType.SimpleText}},n._getRowAriaLabel=function(n){return!!n.name&&n.name.trim()!==nt.empty?nt.format(w.EnvironmentVariableRowAriaLabel,n.name):w.EmptyEnvironmentVariableRowAriaLabel},n}();t.EnvironmentVariableUtils=tt});

define("DistributedTaskControls/Components/Task/TaskDetailsOutputGroup",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/MarkdownRenderer","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/Accordion","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","OfficeFabric/GroupedList","OfficeFabric/Label","OfficeFabric/utilities/selection/interfaces","VSS/FeatureAvailability/Services","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsOutputGroup"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});var nt=function(){function n(){}return n.RefName="REF_NAME",n.OutputVariables="OUTPUT_VARIABLES",n}(),tt=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onToggleCollapse=function(n){t.setState({isCollapsed:!n.isCollapsed})},t._getOutputItems=function(n){var t={task:n};return[{type:nt.RefName},{type:nt.OutputVariables,data:t}]},t._getOutputComponent=function(n,r){var e,c,l,u,f,o;return r.type===nt.RefName?(c={calloutDescription:v.ChangeRefName},l={calloutContentProps:c},e=i.createElement("div",{className:"task-ref-name task-input-flex"},i.createElement("div",{className:"input-grow"},i.createElement(p.StringInputComponent,{label:v.ReferenceNameText,value:t.state.refName||g.empty,onValueChanged:t._onRefNameChanged,required:!1,disabled:!t._processManagementStore.canEditTaskInputs(),infoProps:l,getErrorMessage:t._getRefNameErrorMessage})))):(u=r.data,u&&u.task&&(f=t._getTaskOutputVariableElementId(),o=void 0,o=u.task.outputVariables&&u.task.outputVariables.length>0?i.createElement("table",{className:"task-output-variable-table",id:f},i.createElement("tbody",null,u.task.outputVariables.map(function(n){var r={calloutMarkdown:n.description};return i.createElement("tr",{className:"output-variable"},i.createElement("td",null,t.state.refName+"."+n.name),i.createElement("td",null,i.createElement(s.Component,{cssClass:"task-type-info",calloutContent:r,iconStyle:"task-type-info-icon",isIconFocusable:!0})))}))):i.createElement(b.Label,{className:"task-output-variables-empty-label",htmlFor:f},i.createElement(h.Component,{markdown:v.EmptyOutputVariablesList})),e=i.createElement("div",null,i.createElement(b.Label,{className:"task-output-variables-label",htmlFor:f},v.VariablesList),o))),e},t._onRefNameChanged=function(n){t._actionCreator.updateTaskRefName(n)},t._getRefNameErrorMessage=function(n){var t=g.empty;return d.FeatureAvailabilityService.isFeatureEnabled(u.FeatureFlag_TaskValidateOutputVariables)&&n&&!o.DtcUtils.isValidRefName(n)&&(t=v.InvalidRefNameInput),t},t._setState=function(){t.setState({refName:t._store.getTaskRefName(),isCollapsed:t.state.isCollapsed})},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._domId=g.generateUID();this._store=e.StoreManager.GetStore(l.TaskStore,this.props.controllerInstanceId);this._actionCreator=r.ActionCreatorManager.GetActionCreator(c.TaskActionCreator,this.props.controllerInstanceId);this._processManagementStore=e.StoreManager.GetStore(a.ProcessManagementStore,this._store.getTaskContext().processInstanceId);this._setState()},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._setState);this._processManagementStore.addChangedListener(this._setState)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._setState);this._processManagementStore.removeChangedListener(this._setState)},t.prototype.componentWillReceiveProps=function(n){this.setState({refName:n.refName,isCollapsed:!1})},t.prototype.render=function(){var n={key:"outputGroup",name:v.OutputGroup,startIndex:0,count:2,isCollapsed:!!this.state.isCollapsed,level:0},t={headerProps:{onToggleCollapse:this._onToggleCollapse,isCollapsedGroupSelectVisible:!1},onRenderHeader:function(){return null}};return i.createElement("div",{className:"fabric-style-overrides task-details-output-group"},i.createElement(y.Accordion,{label:v.OutputGroup,initiallyExpanded:!this.props.isSectionAutoCollapsed,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0},i.createElement(w.GroupedList,{className:"task-input-group",groups:[n],groupProps:t,items:this._getOutputItems(this.props.taskDefinition),onRenderCell:this._getOutputComponent,selectionMode:k.SelectionMode.single})))},t.prototype._getTaskRefNameElementId=function(){return"task-ref-name-"+this._domId},t.prototype._getTaskOutputVariableElementId=function(){return"task-output-variable-"+this._domId},t}(f.Component);t.TaskDetailsOutputGroup=tt});

define("DistributedTaskControls/Components/ComboLoadingComponent",["require","exports","react","react-dom","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Components/LoadingComponent","OfficeFabric/Spinner","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboLoadingComponent"],function(n,t,i,r,u,f,e,o){var s,h,c;Object.defineProperty(t,"__esModule",{value:!0});s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"combo-loading-component"},i.createElement(e.LoadingComponent,{className:"combo-loading-content",size:o.SpinnerSize.xSmall,wait:t._waitTime,label:f.Loading}))},t._waitTime=500,t}(u.Component);t.ComboLoadingComponent=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"combo-no-results-component"},i.createElement("div",{className:"combo-no-results-content"},f.NoResultsFoundText))},t}(u.Component);t.ComboNoResultsComponent=h;c=function(){function n(){var n=this;this._hideLoadingComponent=function(){n.removeLoadingComponent(!0,n._loadingContainer.parentElement,!0)};this._loadingComponentDismissed=!1}return n.prototype.removeLoadingComponent=function(n,t,i){this._loadingContainer&&(this._detachGlobalEvent(),this._loadingComponentDismissed=!!i,r.unmountComponentAtNode(this._loadingContainer),!n&&t?(t.removeChild(this._loadingContainer),this._loadingContainer=null):(this._loadingContainer.remove(),this._loadingContainer=null))},n.prototype.createLoadingComponent=function(n){!this._loadingContainer&&n&&(this._loadingContainer=document.createElement("div"),this._loadingContainer.className="combo-loading-container",n.appendChild(this._loadingContainer),this._loadingElement=r.render(i.createElement(s),this._loadingContainer),this._attachGlobalEvent())},n.prototype.showNoResultsSection=function(n){!this._noResultsContainer&&n&&(this._noResultsContainer=document.createElement("div"),this._noResultsContainer.className="combo-no-results-container",n.appendChild(this._noResultsContainer),this._noResultsElement=r.render(i.createElement(h),this._noResultsContainer))},n.prototype.removeNoResultsComponent=function(n,t){this._noResultsContainer&&(r.unmountComponentAtNode(this._noResultsContainer),!n&&t?(t.removeChild(this._noResultsContainer),this._noResultsContainer=null):(this._noResultsContainer.remove(),this._noResultsContainer=null))},n.prototype.isLoadingComponentDismissed=function(){return this._loadingComponentDismissed},n.prototype.setLoadingComponentDismissed=function(n){this._loadingComponentDismissed=n},n.prototype._attachGlobalEvent=function(){$(this._loadingContainer).parents().bind("click",this._hideLoadingComponent)},n.prototype._detachGlobalEvent=function(){var n=$(this._loadingContainer).parents();n&&n.unbind("click",this._hideLoadingComponent)},n}();t.ComboLoadingHelper=c});

define("DistributedTaskControls/Components/FetchingCombo",["require","exports","DistributedTaskControls/Components/ComboLoadingComponent","OfficeFabric/Utilities","VSS/Controls/Combos"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._loadingHelper=new i.ComboLoadingHelper,t._isLoadingVisible=!1,t}return __extends(t,n),t.prototype.toggleDropDown=function(){var t=this,i,r;this._loadingHelper.setLoadingComponentDismissed(!1);i=this.getBehavior()&&this.getBehavior().getDataSource()?this.getBehavior().getDataSource().getSource():[];this.isDropVisible()||i&&i.length!==0||this._isLoadingVisible?this._removeCustomComponents():this._createLoadingComponent();r=this._options.refreshData();r?r.then(function(){t.removeLoadingComponent();t.isDisposed()||t._loadingHelper.isLoadingComponentDismissed()||(n.prototype.toggleDropDown.call(t),t.isDropVisible()&&t._options.hasNoResultsSection&&t._showNoResultsSectionIfRequired())},function(){t._removeCustomComponents()}):this.isDisposed()||(this.removeLoadingComponent(),this._loadingHelper.isLoadingComponentDismissed()||n.prototype.toggleDropDown.call(this))},t.prototype.hideDropPopup=function(){this._removeCustomComponents();n.prototype.hideDropPopup.call(this)},t.prototype.dispose=function(){this._removeCustomComponents();n.prototype.dispose.call(this)},t.prototype._onInputKeyDown=function(t){(t.keyCode===r.getRTLSafeKeyCode(40)||t.keyCode===r.getRTLSafeKeyCode(38))&&t.preventDefault();t.keyCode===r.getRTLSafeKeyCode(27)&&this.isDropVisible()&&t.stopPropagation();n.prototype._onInputKeyDown.call(this,t)},t.prototype.removeLoadingComponent=function(){this._isLoadingVisible=!1;var n=this.isDisposed()?null:this.getElement()[0].parentElement;this._loadingHelper.removeLoadingComponent(this.isDisposed(),n)},t.prototype._createLoadingComponent=function(){this._isLoadingVisible=!0;var n=this.isDisposed()?null:this.getElement()[0].parentElement;this._loadingHelper.createLoadingComponent(n)},t.prototype._showNoResultsSectionIfRequired=function(){var n=this.getBehavior()&&this.getBehavior().getDataSource()?this.getBehavior().getDataSource().getSource():[],t;n&&n.length!==0||(t=this.isDisposed()?null:this.getElement()[0].parentElement,this._loadingHelper.showNoResultsSection(t))},t.prototype._removeNoResultsSection=function(){var n=this.isDisposed()?null:this.getElement()[0].parentElement;this._loadingHelper.removeNoResultsComponent(this.isDisposed(),n)},t.prototype._removeCustomComponents=function(){this.removeLoadingComponent();this._options.hasNoResultsSection&&this._removeNoResultsSection()},t}(u.ComboO);t.FetchingCombo=f});

define("VSS/Controls/Menus",["require","exports","q","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Events/Action","VSS/Events/Handlers","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","VSS/VSS","VSS/ClientTrace/Contracts","VSS/Error","VSS/Telemetry/Services","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function wt(n){var t;return n&&(t=n.state|it.None,n.disabled&&(t=t|it.Disabled),n.hidden&&(t=t|it.Hidden),n.toggled&&(t=t|it.Toggled)),t}function fi(n){var t=new v.StableSorter(function(n,t){var i=n.rank?n.rank:9999,r=t.rank?t.rank:9999;return i-r});return t.sort(n,!1)}var yt,ft,ut,it,pt,rt,dt,et,ot,bt,ht,ct,lt,at,gt,ni,ti,vt,kt,ii;Object.defineProperty(t,"__esModule",{value:!0});var nt=y.delegate,st=p.domElem,tt=p.KeyCode,ri=b.handleError,ui=b.getErrorMessage;t.BLUR_CLOSE_TIMEOUT=25,function(n){function t(n){return Boolean(n)&&n.which===2}function i(n){return Boolean(n)&&$(n.target).is("ul.menu")}n.isMiddleClick=t;n.targetIsMenu=i}(yt||(yt={})),function(n){function t(t){return t==="vertical"?n.Vertical:n.Horizontal}n.Horizontal=0;n.Vertical=1;n.parse=t}(ft||(ft={})),function(n){function t(t){switch(t){case"static":return n.Static;case"popup":return n.Popup;case"dropdown":return n.DropDown;case"chevron":return n.Chevron}return n.Normal}n.None=0;n.Normal=1;n.Static=2;n.Popup=3;n.DropDown=4;n.Chevron=5;n.SubMenu=6;n.parse=t}(ut||(ut={})),function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Hidden=2]="Hidden";n[n.Toggled=4]="Toggled"}(it=t.MenuItemState||(t.MenuItemState={})),function(n){n[n.None=0]="None";n[n.SingleSelect=1]="SingleSelect";n[n.MultiSelect=2]="MultiSelect"}(pt=t.MenuSelectionMode||(t.MenuSelectionMode={})),function(n){function t(t){switch(t){case"right-bottom":return n.RightBottom;case"left-bottom":return n.LeftBottom;case"left-top":return n.LeftTop}return n.RightJustify}n.RightBottom=0;n.RightJustify=1;n.LeftBottom=2;n.LeftTop=3;n.parse=t}(rt||(rt={}));dt=function(){function n(){this._executeEvent="execute-command";this._commandStates=null;this._commandStates={}}return n.prototype.getCommandState=function(n,t){var i=this._commandStates&&this._commandStates[n];return $.isFunction(i)?i.call(t,n,t):i},n.prototype.updateCommandStates=function(n){var t=this;n&&$.each(n,function(n,i){t._commandStates[i.id]=wt(i)})},n.prototype.executeCommand=function(n){this._fireEvent(this._executeEvent,this,n)},n.prototype.attachExecuteCommand=function(n){this.attachEvent(this._executeEvent,n)},n.prototype.detachExecuteCommand=function(n){this.detachEvent(this._executeEvent,n)},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){var r;if(this._events&&(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r))return!1},n.prototype.attachEvent=function(n,t){this._events||(this._events=new c.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n}();t.menuManager=new dt;et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._type=ut.parse(i._options.type),i._children=[],i}return __extends(t,n),t.prototype.getOwner=function(){return this._parent?this._parent.getOwner():this},t.prototype.getParent=function(){return this._parent},t.prototype.getParentMenu=function(){return undefined},t.prototype.getContextInfo=function(){return this._options.contextInfo},t.prototype.getActionArguments=function(){var n=this._options.arguments||this.actionArguments;return typeof n=="string"?{url:n}:$.isFunction(n)?n.call(this,this.getOwner().getContextInfo()):n},t.prototype.getMenuType=function(){return this._type},t.prototype.updateCommandStates=function(n){this._updateCommandStates(n)},t.prototype.isMenuBar=function(){return this._type===ut.Static},t.prototype._fireUpdateCommandStates=function(n){(n=n||this,typeof this._options.updateCommandStates!="function"||this._options.updateCommandStates.call(n,n)!==!1)&&this._parent&&this._parent._fireUpdateCommandStates(n)},t.prototype._clear=function(){for(var t=this._children.length,n=0;n<t;n++)this._children[n]._clear(),this._children[n].dispose();this._children=[]},t.prototype._updateCommandStates=function(n){var t=this;this._commandStates||(this._commandStates={});n&&$.each(n,function(n,i){t._commandStates[i.id]=wt(i)})},t.prototype._updateContributedMenuItems=function(n){this._children&&this._children.forEach(function(t){t._updateContributedMenuItems(n)})},t}(e.Control);t.MenuBase=et;b.initClassPrototype(et,{_type:null,_parent:null,_children:null,_commandStates:null,actionArguments:null});ot=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);i._isPinFocused=!1;i._quenchMouseLeave=!1;i._blockHoverOpenSubMenu=!1;i._isHidden=!1;i._item=i._options.item||{};i.setEnhancementOptions({coreCssClass:i._item.href?"menu-item-container":"menu-item",tagName:"li"});try{i.actionArguments=i._item.arguments}catch(u){}return i._align=rt.parse(i._options.align),i}return __extends(i,n),i.getScopedCommandId=function(n,t){return t?t+"-"+n:n},i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},i.prototype.getParentMenu=function(){return this._parent instanceof ht&&this._parent},i.prototype.getCommandId=function(){return i.getScopedCommandId(this._item.id,this._item.scope)},i.prototype.getAction=function(){var n=this._item.idIsAction;return n===!1?this._item.action:this._item.action||this.getCommandId()||this._item.href},i.prototype.hasAction=function(){var n=this.getAction();return n!==null&&typeof n!="undefined"},i.prototype.hasSubMenu=function(){return!this.isDefault()&&this._item.childItems},i.prototype.isDecorated=function(){return this._item.decorated===!0},i.prototype.isDefault=function(){return this._type===ut.None},i.prototype.isSeparator=function(){return this._item.separator===!0},i.prototype.isLabel=function(){return this.isSeparator()&&this._item.isLabel},i.prototype.isSelected=function(){return this._item.selected===!0},i.prototype.getCommandState=function(n,i){var r=null;return n=n||this._item.id,i=i||this,typeof this._options.getCommandState=="function"&&(r=this._options.getCommandState.call(this,n,i)),(r===null||typeof r=="undefined")&&this._parent&&$.isFunction(this._parent.getCommandState)&&(r=this._parent.getCommandState(n,i)),(r===null||typeof r=="undefined")&&(r=t.menuManager.getCommandState(n,i)),(r===null||typeof r=="undefined")&&this._item.id===n&&(r=wt(i._item)),$.isFunction(r)&&(r=r.call(this,n,this)),r},i.prototype.getIndex=function(){return this._index},i.prototype.setIndex=function(n){this._index=n},i.prototype.setIsHidden=function(n){this._isHidden=n;this._updateState()},i.prototype.isHidden=function(){if(this.isPinnable()&&this._parent&&this._parent.getMenuPinningOptions()){var n=this._parent.getMenuPinningOptions();if(n.hidePinnedItems&&this._isPinned&&!this._item.pinningOptions.neverHide||n.hideUnpinnedItems&&!this._isPinned&&!this._item.pinningOptions.neverHide)return!0}return Boolean((this.getCommandState()&it.Hidden)===it.Hidden||this._type===ut.None||this.isSeparator()&&this._item.hidden||this._isHidden)},i.prototype.isEnabled=function(){return this.isHidden()?!1:this.isSeparator()?void 0:(this.getCommandState()&(it.Disabled|it.Hidden))===it.None},i.prototype.isFocusable=function(){return!this.isHidden()&&this._item&&this._item.focusable!==!1},i.prototype.isToggled=function(){var n=!1;return this.isSeparator()||this.isHidden()||(n=(this.getCommandState()&it.Toggled)===it.Toggled),n},i.prototype.isPinnable=function(){return this._item.pinningOptions&&this._item.pinningOptions.isPinnable},i.prototype.isPinned=function(){return this._isPinned},i.prototype.getSelectionMode=function(){var n=this.getOwner()._options.selectionMode;return typeof n=="undefined"?pt.None:typeof n=="function"?n(this._item):n},i.prototype.initialize=function(){var f=this,t,r,u,i;n.prototype.initialize.call(this);this.isPinnable()&&(t=this.getParentMenu(),r=t&&t.getMenuPinningOptions(),r&&r.isPinningSource?(u=t.getParentMenu(),i=v.first(u._menuItems,function(n){return n._item&&n._item.id===f._item.id}),this._isPinned=i&&i.isPinnable()?i._isPinned:!!this._item.pinningOptions.isPinned):this._isPinned=!!this._item.pinningOptions.isPinned);this._decorate()},i.prototype.update=function(n){var t=this;n!==this._item&&(Object.keys(this._item).forEach(function(n){delete t._item[n]}),$.extend(this._item,n));this._clear();this._item.decorated=!1;this._element.empty();this._unbind("click mouseenter mouseleave mousedown mouseup keydown");this._decorate()},i.prototype.updateItems=function(n){this._clear();this._item.childItems=n},i.prototype._decorate=function(){var n=this._element,u,d,t,f,c,l;!this.isDecorated()&&this._item.href&&(n=$('<a class="menu-item" tabindex="-1"/>').appendTo(n),n.attr("href",this._item.href));this._$menuItemElement=n;var g=this.getOwner()._options.showIcon===!0,a=this.hasSubMenu(),v=this._item.showText!==!1,y=this._item.showHtml!==!1,o,i,s,r,w=!1,b=!1,h=!1,k="mi_"+e.getId();this._item.id&&(k+="_"+this._item.id);n.attr({id:k,tabindex:"-1"});this._element.attr({role:this.getAriaRole(),tabindex:"-1"});this.isDecorated()?r=n.children(".drop").eq(0):(n.addClass(this._options.cssCoreClass).addClass(this._options.cssClass),u=this._item.title,u||this._item.encoded||!this._item.setDefaultTitle&&this._item.showText!==!1?u||(u=""):u=this._item.text,this._element.attr("title",""),this.updateTitle(u),this._item.ariaLabel&&this._element.attr("aria-label",this._item.ariaLabel),this._item.id&&n.attr("command",this._item.id),this._item.cssClass&&n.addClass(this._item.cssClass),this._item.hidden&&n.addClass("invisible"),this._item.focusable===!1&&n.addClass("unfocusable"),this.isSeparator()?(n.addClass("menu-item-separator"),n.attr("role","separator"),n.removeAttr("tabindex"),o=this._createSeparatorElement(),this._item.text&&(o.text(this._item.text),o.removeClass("separator"),o.addClass("text-separator")),n.append(o)):(d=this._item.ariaLabel||this._item.text||this._item.title,g&&!this._item.noIcon&&(typeof this._item.icon=="string"&&this._item.icon.match(/^https?:\/\//)?this._item.icon=this._getExternalIcon.bind(this,this._item.icon):typeof this._item.icon=="string"&&this._item.icon.match(/^css:\/\//)&&(this._item.icon=this._item.icon.substr(6)),t=this._createIconElement(),$.isFunction(this._item.icon)?t.append(this._item.icon.call(this,t)):this._item.icon&&t.addClass(this._item.icon),t.hasClass("bowtie-icon")&&t.removeClass("icon"),v||y&&this._item.html?t.attr("aria-hidden","true"):t.attr("role","button").attr("aria-label",d),n.append(t),w=!0),v&&(i=this._createTextElement(),this._item.encoded?i[0].innerHTML=this._item.text||"":typeof this._item.text=="string"?i.text(this._item.text):$.isFunction(this._item.text)&&i.text(this._item.text.call(this)||""),this._item.textClass&&i.addClass(this._item.textClass),i.attr("role","button"),b=!0,n.append(i)),y&&(h=!0,s=this._createHtmlElement(),f=this._item.html,typeof f=="function"&&(f=f.call(this)),f instanceof jQuery?s.append(this._item.html):typeof f=="string"?s.html(this._item.html):h=!1,this._item.htmlClass&&s.addClass(this._item.htmlClass),n.append(s)),h||b||!w||n.addClass("icon-only"),a&&(this._element.attr({"aria-haspopup":"true","aria-expanded":"false"}),this._item.hideDrop||(r=this._createDropElement(),c=this.getElement().css("display"),c!=="inline-block"&&c!=="table-cell"?n.prepend(r):n.append(r),n.addClass("drop-visible"))),this.isPinnable()&&!this._item.pinningOptions.hidePin&&(n.addClass("pin-visible"),this._pinElement=$("<i class='pin bowtie-icon' />"),this._pinElement.click(this._onPinClick.bind(this)),this._pinElement.attr({id:n.attr("id")+"_pin",role:"button",tabindex:"-1"}),n.append(this._pinElement))));this._updateState();l=this.isSelected();n.toggleClass("selected",l);l?this._element.attr("aria-checked","true"):this._element.removeAttr("aria-checked");this.isDefault()||this.isSeparator()?this.isSeparator()&&this._bind("click",function(n){n.stopPropagation()}):(this._bind("click",nt(this,this._onClick)),this._bind("mouseenter",nt(this,this._onMouseEnter)),"onpointerdown"in this._element[0]||this._bind("touchstart",nt(this,this._onTouchStart)),this._bind("pointerdown",nt(this,this._onPointerDown)),this._bind("pointerup",nt(this,this._onPointerUp)),this._bind("mouseleave",nt(this,this._onMouseLeave)),this._bind("mousedown",nt(this,this._onMouseDown)),this._bind("mouseup",nt(this,this._onMouseUp)),this._bind("keydown",this._onKeyDown.bind(this)),a&&r&&r.length>0&&this._bind(r,"click",nt(this,this._onDropClick)));this.getOwner()._options.markUnselectable===!0&&p.makeElementUnselectable(n[0])},i.prototype._getExternalIcon=function(n){return $("<img/>").attr("src",n)},i.prototype.select=function(n,t){n===void 0&&(n=!1);t===void 0&&(t=!0);this._parent._selectItem(this,n,t);this._parent._clearTimeouts()},i.prototype.focusPin=function(n){n===void 0&&(n=!0);this._isPinFocused=n;this._pinElement&&(this._pinElement.toggleClass("focus",this._isPinFocused),n&&p.tryFocus(this._pinElement))},i.prototype.deselect=function(){this._parent._selectItem(null)},i.prototype.escaped=function(){this.select()},i.prototype.execute=function(n){n;var t=this.getOwner();return this.collapse({immediate:!0}),t.escaped(),t.isMenuBar()&&n&&n.keepHighlight&&this.showHoverHighlight(),t._proceedBlur(),this.hasAction()?this.executeAction($.extend({},t.getActionArguments(),this.getActionArguments()),n?n.e:null):void 0},i.prototype.executeAction=function(n,i){var r=this.getAction(),l=this.getOwner(),e=r==="navigate"&&n.url||this._item.href,o,s,u,f;if(r){if(n.telemetry&&n.telemetry.area&&n.telemetry.feature&&g.publishEvent(new g.TelemetryEventData(n.telemetry.area,n.telemetry.feature,{CommandId:this.getCommandId()||"Unknown",GroupId:this._item.groupId,ContributionId:this._item.contributionId})),o=i&&(i.ctrlKey||i.metaKey),$.isFunction(r)&&!(e&&o)&&(s=r.apply(this,[n,i]),!e||s===!1))return s;if(e){try{u=n.url;u||(u=this._item.href);f=null;n.target&&(f=n.target);o&&(f="_blank");f?h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:u,target:n.target}):h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:u})}catch(i){}return!1}return l?l.executeAction(new c.CommandEventArgs(r,n,this)):t.menuManager.executeCommand(new c.CommandEventArgs(r,n,this))}},i.prototype.collapse=function(n){for(var t=this._parent,i=n&&n.immediate===!0;t;)$.isFunction(t.hide)&&t.hide({immediate:i}),t=t._parent;this.getOwner().ownFocus()},i.prototype.setFocus=function(n){n===void 0&&(n=!0);var t=this._$menuItemElement;!t||this.isSeparator()||this.isDefault()||t.addClass("focus");t&&p.tryFocus(this._element)},i.prototype.removeFocus=function(){var n=this._$menuItemElement;!n||this.isSeparator()||this.isDefault()||n.removeClass("focus");this.focusPin(!1)},i.prototype.showHoverHighlight=function(){this._highlightHover=!0;this._updateState()},i.prototype.showPressedHighlight=function(){this.hasSubMenu()&&this.getSubMenu()._visible||(this._highlightPressed=!0,this._updateState())},i.prototype.removePressedHighlight=function(){this._highlightPressed&&(this._highlightPressed=!1,this._updateState())},i.prototype.removeHighlight=function(){this._highlightHover=!1;this._highlightPressed=!1;this._updateState()},i.prototype.updateTitle=function(n){this._setTooltip(null);this._item.setTitleOnlyOnOverflow&&this._item.showText!==!1?(n||(n=this._item.text),this._setTooltip(n,{onlyShowWhenOverflows:this._$menuItemElement[0],setAriaDescribedBy:!0})):(n&&!this.getParentMenu().openSubMenuOnHover&&this._setTooltip(n,{setAriaDescribedBy:!0}),this._item.showText!==!1||this._item.ariaLabel||this._element.attr("aria-label",n));this._options.item&&(this._options.item.title=n)},i.prototype._setTooltip=function(n,t){var i=this;this._tooltip&&this._tooltip.dispose();this._tooltip=n?o.RichContentTooltip.add(n,this._element[0],__assign({menuContainer:this._element,mouseEventFilter:function(n){return!(i.hasSubMenu()&&i.getSubMenu()._element[0].contains(n.target))}},t)):null},i.prototype.updateText=function(n){var t;typeof n=="string"?t=n:this._item&&$.isFunction(this._item.text)&&(t=this._item.text.call(this));t&&this._$menuItemElement.children("span.text").text(t)},i.prototype.getSubMenu=function(n){var t,i;return n===void 0&&(n=!0),t=null,this.hasSubMenu()&&(this._children.length===0?n&&(i=this._parent&&this._parent._parent&&this._parent._parent._element||this._$menuItemElement,t=e.create(ht,i,$.extend({},this._options,this._item.childOptions,{earlyInitialize:!1,items:this._item.childItems,type:"submenu",cssCoreClass:"menu sub-menu",tagName:"ul",ariaLabel:this._item.ariaLabel})),t._element.addClass("menu"),t._element.attr("data-parent",this._$menuItemElement.attr("id")),t._parent=this,t._type=ut.SubMenu,this._children.push(t)):t=this._children[0]),t},i.prototype.tryShowSubMenu=function(n){var t=n&&n.immediate;return!this.isDefault()&&this.isEnabled()&&this.getSubMenu()?(this.showSubMenu({immediate:t}),!0):!1},i.prototype.showSubMenu=function(n){var i=n&&n.immediate===!0,r=n?n.showTimeout:undefined,u=n?n.callback:undefined,t=this.getSubMenu(),f=this._item.splitDropItem?this._item.splitDropItem:this,e=(n&&n.setFocus)!==!1;this._closeSubmenuOnMouseLeave=n&&n.closeOnMouseLeave;t.show({immediate:i,showTimeout:r,callback:u,element:f._$menuItemElement,align:this._align,setFocus:e})},i.prototype.hideSubMenu=function(n){var r=this;if(this.hasSubMenu()){var u=n&&n.immediate===!0,i=n&&n.callback,t=this.getSubMenu(!1);t&&t._parent===this&&t.hide({immediate:u,callback:function(){r._closeSubmenuOnMouseLeave=!1;typeof i=="function"&&i()}})}},i.prototype.hideSiblings=function(n){this._parent.hideChildren(this,n)},i.prototype.getAriaRole=function(){switch(this.getSelectionMode()){case pt.MultiSelect:return"menuitemcheckbox";case pt.SingleSelect:return"menuitemradio"}return"menuitem"},i.prototype._attachMenuEvents=function(){},i.prototype._createIconElement=function(){return $(st("span","icon menu-item-icon"))},i.prototype._createTextElement=function(){return $(st("span","text"))},i.prototype._createHtmlElement=function(){return $(st("span","html"))},i.prototype._createDropElement=function(){return $(st("div","drop"))},i.prototype._createSeparatorElement=function(){return $(st("div","separator"))},i.prototype._updateState=function(){var n,r,t;this._disposed||(n=this._$menuItemElement,!n||this.isSeparator()||this.isDefault()||(r=(this._item.splitDrop||this._item.splitDropItem||{})._$menuItemElement,this.isEnabled()?(n.toggleClass("hover",this._highlightHover),n.toggleClass("pressed",this._highlightPressed),this._element.attr("aria-disabled","false"),n.removeClass("disabled"),r&&r.toggleClass("split-drop-hover",this._highlightHover)):(n.addClass("disabled"),this._element.attr("aria-disabled","true"),n.removeClass("hover"),n.removeClass("pressed")),this._pinElement&&this._pinElement.toggleClass("focus",this._isPinFocused),n.toggleClass("toggle-on",this.isToggled())),n&&!this.isDefault()&&n.toggleClass("invisible",this.isHidden()),this._pinElement&&(this._pinElement.toggleClass(i.PinnedIconClass,this._isPinned),this._pinElement.toggleClass(i.UnpinnedIconClass,!this._isPinned),this._pinElement.attr("title",this._isPinned?l.MenuItemUnpinButtonLabel:l.MenuItemPinButtonLabel),t=null,this._isPinned?(i._unpinDescribedById||(i._unpinDescribedById=String(e.getId()),$(st("div")).attr("id",i._unpinDescribedById).addClass("visually-hidden").text(l.UnpinDescribedByText).appendTo(document.body)),t=i._unpinDescribedById):(i._pinDescribedById||(i._pinDescribedById=String(e.getId()),$(st("div")).attr("id",i._pinDescribedById).addClass("visually-hidden").text(l.PinDescribedByText).appendTo(document.body)),t=i._pinDescribedById),this._element.attr("aria-describedby",t)))},i.prototype._updateContributedMenuItems=function(t){var i=[this._item],r=function(n,i,u){for(var f,o=!1,e=0,s=t;e<s.length;e++)if(f=s[e],n.id===f.id&&n.sourceExtensionId===f.sourceExtensionId){u[i]=f;o=!0;break}!o&&$.isArray(n.childItems)&&n.childItems.forEach(r)};i.forEach(r);i[0]!==this._item?this.update(i[0]):n.prototype._updateContributedMenuItems.call(this,t)},i.prototype._onPointerDown=function(n){var i=n.originalEvent;if(i.pointerType==="touch"){var r=this.hasSubMenu()&&this.getParentMenu().openSubMenuOnHover,t=this._children&&this._children[0],u=t&&t._visible;r&&(!u||t.shownTime>Date.now()-100)&&(this._handledPointerId=i.pointerId)}},i.prototype._onPointerUp=function(n){var t=n.originalEvent;t.pointerId===this._handledPointerId&&(this._blockClickUntil=Date.now()+500);this._handledPointerId=null},i.prototype._onTouchStart=function(n){!this.hasSubMenu()||!this.getParentMenu().openSubMenuOnHover||this._children&&this._children[0]&&this._children[0]._visible?this._onClick(n):(this._onMouseEnter(n),n.preventDefault())},i.prototype._onMouseEnter=function(n){var i,t,r,u,f;for(s.logTracePoint("MenuItem._onMouseEnter.start"),i=n.target;i&&i.tagName.toUpperCase()!=="UL";)i=i.parentElement;i===this._parent._element[0]&&(t=this.getOwner(),!this._blockHoverOpenSubMenu&&(t._active||t.openSubMenuOnHover)?(t.activate(),r=t._subMenuVisible,this.hideSiblings({immediate:this._options.immediateShowHide}),this.select(!0),(t!==this._parent||r||t.openSubMenuOnHover)&&(t._subMenuVisible=r,this.isEnabled()&&this.hasSubMenu()&&(u=this.getSubMenu(),u._parent===this&&(u._visible||(f=t.openSubMenuOnHover&&t===this._parent,this.showSubMenu({immediate:f&&!r?!1:this._options.immediateShowHide,showTimeout:f&&!r?200:undefined,closeOnMouseLeave:f,callback:function(){u.selectDefaultItem(!0)},setFocus:!1})))))):this.showHoverHighlight())},i.prototype._onMouseLeave=function(n){var r=this,i=this.getOwner(),t;if(this._quenchMouseLeave){this._quenchMouseLeave=!1;n.stopPropagation();return}this._closeSubmenuOnMouseLeave&&this.hideSubMenu({immediate:!1,hideTimeout:200,callback:function(){return r.removeHighlight()}});i._active?i!==this._parent?this.hasSubMenu()?(t=this.getSubMenu(),t._parent===this?t._visible||(this.deselect(),t._clearTimeouts()):this.deselect()):this.deselect():this.hasSubMenu()&&this.getSubMenu()._visible||this.removeHighlight():this.removeHighlight()},i.prototype._onMouseDown=function(n){this.showPressedHighlight();n.stopPropagation();n.preventDefault()},i.prototype._onMouseUp=function(){this.removePressedHighlight()},i.prototype._onClick=function(n){var u=this,t,i,r;if(yt.targetIsMenu(n))return!1;if(!yt.isMiddleClick(n)){if(this._blockClickUntil&&Date.now()<this._blockClickUntil){n.stopPropagation();n.preventDefault();return}if(i=this.actionArguments,i||(i={}),i.clickArguments||(i.clickArguments={}),$.extend(i.clickArguments,n),this.isEnabled()){if(this.hasSubMenu()&&this._item.clickOpensSubMenu!==!1)t=this.getSubMenu(),this.select(),t._parent===this&&t._visible?(this.getOwner().activate(),this._options.clickToggles===!0?(t.hide({immediate:!0}),this._blockHoverOpenSubMenu=!0,r=function(){u._blockHoverOpenSubMenu=!1;u._unbind("mouseleave",r)},this._bind("mouseleave",r),this.select()):t.ownFocus()):(this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),t.selectDefaultItem());else if(this.hasAction())return this.select(),this.execute({e:n,keepHighlight:this._parent.getMenuType()!==ut.SubMenu})===!0}else this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.select();n.stopPropagation();n.preventDefault()}},i.prototype._onDropClick=function(){var n;return this.isEnabled()&&(this.getOwner().activate(),this.hasSubMenu()&&(n=this.getSubMenu(),n._parent===this&&n._visible?this._options.clickToggles===!0?(n.hide({immediate:!0}),this.select()):n.ownFocus():(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),n.selectDefaultItem()))),!1},i.prototype._onPinClick=function(n){n.stopPropagation();n.preventDefault();this.toggleIsPinned()},i.prototype.toggleIsPinned=function(n,t){var i,f,e,s,h,y,c,p,u,l,a,w,g,v,b,r,o,nt,k,d;if(n===void 0&&(n=!this._isPinned),this._isPinned=n,this._updateState(),i=this.getParentMenu(),f=i&&i.getMenuPinningOptions()||{},i&&i.updateAriaSetProperties(),e=[],f.isPinningSource)s=i.getParentMenu(),e.push(s);else if(f.isPinningTarget)for(s=i,h=0,y=this._parent._menuItems;h<y.length;h++)r=y[h],r.hasSubMenu()&&(c=r.getSubMenu(),p=c&&c.getMenuPinningOptions(),p&&p.isPinningSource&&e.push(c));if(e.length>0){for(l=void 0,a=0,w=e;a<w.length;a++){for(g=w[a],v=0,b=g._menuItems;v<b.length;v++)r=b[v],r.isPinnable()&&r._item.pinningOptions.groupId===this._item.pinningOptions.groupId&&(l=r),r._item.id===this._item.id&&(u=r);if(u)break}u&&(u._isPinned=this._isPinned,u._updateState(),o=u.getParentMenu(),o&&(o.updateAriaSetProperties(),l&&o.getMenuPinningOptions().pinItemsToEnd&&o.moveMenuItemAfter(u,l)))}if(f.closeOnPin&&(!t||t.unfocus)&&(this._quenchMouseLeave=!0,this._parent.selectLeft()),i&&!f.closeOnPin&&(nt=i.selectPrevItem()||i.selectNextItem(),nt||(i.hide({immediate:!0}),k=i.getParentMenu(),k&&k.selectFirstItem())),s.updateSourceMenu(this._item.pinningOptions.groupId),d=this._item.pinningOptions,d.onPinnedChanged)d.onPinnedChanged(this,this._isPinned,u)},i.prototype._onKeyDown=function(n){var i=function(){return!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!n.metaKey},t;switch(n.keyCode){case tt.RIGHT:if(i()&&!this._isPinFocused&&this.isPinnable()&&!this._item.pinningOptions.hidePin)return this.focusPin(),!1;break;case tt.LEFT:if(i()&&this._isPinFocused)return this.focusPin(!1),this.select(),!1;break;case tt.SPACE:case tt.ENTER:return this.isEnabled()&&(this._isPinFocused?(this._element.focus(),this.toggleIsPinned()):this.hasAction()?this.execute({e:n}):this.hasSubMenu()&&(t=this.getSubMenu(!1),t&&t._visible||(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),this.getSubMenu().selectFirstItem()))),!1}},i.enhancementTypeName="tfs.menu.item",i.PinnedIconClass="bowtie-unpin",i.UnpinnedIconClass="bowtie-pin-unpin",i}(et);t.MenuItem=ot;b.initClassPrototype(ot,{_item:null,_align:null,_index:0,_highlightHover:!1,_highlightPressed:!1});bt=function(){function n(n,t,i,r,u,e,o){this._menu=n;this._webContext=t;this._contributionIds=i;this._contributionType=r;this._contributionQueryOptions=u||f.ContributionQueryOptions.IncludeRecursiveTargets;this._getMenuActionContext=e;this._options=o||{}}return n.prototype._immediateInstanceRequired=function(n){return n.id&&f.ExtensionHelper.hasContent(n)&&!n.properties.text},n.prototype._getContributions=function(){var n=this;return this._contributionsPromise||(this._contributionsPromise=this._contributionIds&&this._contributionIds.length?a.getService(f.ExtensionService).queryContributions(this._contributionIds,this._contributionQueryOptions,this._contributionType).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){var i=n._getContributionWithSource(t);i&&u.push(i)}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.state==="rejected"&&console.error(n.reason);n.state==="fulfilled"&&n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])),this._contributionsPromise},n.prototype._getContributionWithSource=function(t){var r=t.id||"";return this._immediateInstanceRequired(t)?u.getBackgroundInstance(t,t.properties.registeredObjectId||r,this._webContext,this._webContext,this.getContributionSourceTimeout(),"Timed-out waiting for menu source provider for contribution: "+r).then(function(n){return{contribution:t,source:n}}):t.type===n.ACTION_TYPE||t.type===n.HYPERLINK_ACTION_TYPE?i.resolve({contribution:t}):null},n.prototype._makeThennable=function(n){return n&&$.isFunction(n.then)?n:i.resolve(n)},n.prototype._contributionToMenuItems=function(t,r){var e=this,f=t.contribution.id||"",u;return t.source?(u=i.defer(),$.isFunction(t.source.getMenuItems)?(r=$.extend({updateMenuItems:function(n){e._updateContributedMenuItems(n,t)}},r),this._makeThennable(t.source.getMenuItems(r)).then(function(n){n&&n.length?i.all(n.map(function(n){return e._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){u.resolve(n)}):u.resolve(n)},u.reject)):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){u.resolve([n])}),i.timeout(u.promise,n._contributionGetItemsTimeout,"Timed-out waiting for getMenuItems call from contribution: "+f)):this._immediateInstanceRequired(t.contribution)?i.resolve([]):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){return[n]})},n._getMenuItemFromContributedMenuItem=function(t){var r={id:t.id,text:t.text,title:t.title,separator:t.separator,disabled:t.disabled,hidden:t.hidden,icon:t.icon,noIcon:t.noIcon,groupId:t.groupId,action:t.action,href:t.href,setDefaultTitle:!1};return t.pinningOptions&&(r.pinningOptions=t.pinningOptions),t.pinningMenuOptions&&(r.pinningMenuOptions=t.pinningMenuOptions),t.childItems&&($.isArray(t.childItems)?r.childItems=t.childItems.map(function(t){return n._getMenuItemFromContributedMenuItem(t)}):i.isPromise(t.childItems)&&(r.childItems=function(i,r,u){t.childItems.then(function(t){r((t||[]).map(function(t){return n._getMenuItemFromContributedMenuItem(t)}))},u)})),r},n.prototype._updateContributedMenuFromSource=function(t,u,e,o){var c=this,s;o===void 0&&(o=!0);s=o?n._getMenuItemFromContributedMenuItem(t):t;s.action=this._getMenuAction(u,e,s.action);var h=null,l=a.getService(f.ExtensionService).getBaseUri(u),v=f.ExtensionHelper.getPublisherId(u),y=f.ExtensionHelper.getExtensionId(u);return typeof s.icon=="string"&&(h=f.ExtensionHelper.resolveUriTemplate(s.icon,r.getDefaultWebContext(),l)),s.isContribution=!0,s.sourceExtensionId=v+"."+y,s.contributionId=u.id,s.title&&!s.text&&s.text!==""&&(this._options.defaultTextToTitle===!1&&s.icon?(s.showText=!1,s.showHtml=!1):s.text=s.title),o&&!s.groupId&&(s.groupId=u.properties.groupId),$.isArray(s.childItems)&&s.childItems.forEach(function(n){c._updateContributedMenuFromSource(n,u,e,!1)}),h?h.then(function(n){return s.icon=n,s}):i.resolve(s)},n.prototype._getBasicMenuItemFromContribution=function(n,t,i){var e=this,o=t.properties.text||null,u=t.properties.title||null,s=this._makeThennable("");return typeof t.properties.icon=="string"&&(s=f.ExtensionHelper.resolveUriTemplateProperty(t,r.getDefaultWebContext(),"icon")),s.then(function(r){var s={id:n,text:o,title:u,icon:r,groupId:t.properties.groupId,action:e._getMenuAction(t,i,null),isContribution:!0,sourceExtensionId:f.ExtensionHelper.getPublisherId(t)+"."+f.ExtensionHelper.getExtensionId(t),contributionId:n};return o===null&&u&&(e._options.defaultTextToTitle===!1&&r?(s.showText=!1,s.showHtml=!1):s.text=u),s})},n.prototype._getMenuAction=function(t,i,r){var e=this,o;return!r&&t.type===n.ACTION_TYPE?function(){u.getBackgroundInstance(t,t.properties.registeredObjectId||t.id,e._webContext,e._webContext,e.getContributionSourceTimeout(),"Timed-out waiting for menu action: "+t.id).then(function(n){n.execute(e._getMenuActionContext())})}:$.isFunction(r)?function(){return f.ExtensionHelper.publishTraceData(t),r(e._getMenuActionContext())}:t.properties.targetUri?function(){var n=a.getService(f.ExtensionService).getBaseUri(t),i=f.ExtensionHelper.resolveUriTemplate(t.properties.targetUri,e._getMenuActionContext(),n);i.then(function(n){f.ExtensionHelper.publishTraceData(t,n);window.location.href=n})}:i&&$.isFunction(i.execute)?function(){return f.ExtensionHelper.publishTraceData(t),i.execute(e._getMenuActionContext())}:o},n.prototype._updateContributedMenuItems=function(n,t){var r=this;this._menu&&i.all(n.map(function(n){return r._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){r._menu.updateContributedMenuItems(n)})},n.prototype.getContributedMenuItems=function(n){var t=this;return this._getContributions().then(function(r){var u=[];return r.forEach(function(i){u.push(t._contributionToMenuItems(i,n))}),i.allSettled(u).then(function(n){var t=[];return n.forEach(function(n){n.value&&n.value.length&&n.value.forEach(function(n){t.push(n)})}),t})})},n.prototype.getContributionSourceTimeout=function(){return this._menu&&this._menu._options&&this._menu._options.contributionSourceTimeoutMs||n.DEFAULT_CONTRIBUTION_SOURCE_TIMEOUT},n.ACTION_TYPE="ms.vss-web.action",n.HYPERLINK_ACTION_TYPE="ms.vss-web.hyperlink-action",n.DEFAULT_CONTRIBUTION_SOURCE_TIMEOUT=5e3,n._contributionGetItemsTimeout=2e3,n}();t.MenuContributionProvider=bt;ht=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._mouseIsDown=!1,i._shouldSelectFirstItem=!1,i.setEnhancementOptions({role:"menu",coreCssClass:"menu"+(i._options.useBowtieStyle?" bowtie-menus":""),tagName:"ul"}),i._menuItems=[],i._initializeItemsSource(),i}return __extends(i,n),Object.defineProperty(i.prototype,"shownTime",{get:function(){return this._shownTime},enumerable:!0,configurable:!0}),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this.openSubMenuOnHover=t.alwaysOpenSubMenuOnHover},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.suppressInitContributions||this.refreshContributedItems();this._decorate()},i.prototype._initializeItemsSource=function(){this._itemsSource=this._options.items},i.prototype._decorate=function(){this._element.addClass(this._options.cssCoreClass).addClass(this._options.cssClass).attr("tabindex","-1").attr("aria-label",this._options.ariaLabel);this._bind("mousedown",nt(this,this._onMouseDown));this._bind("keydown",this._onMenuKeyDown.bind(this));this._itemsSource=this.getGroupedItems();this._ensureChildren()},i.prototype.getItem=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i.getCommandId())return i;return null},i.prototype.getItems=function(){return this._menuItems},i.prototype.getItemByTag=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i._item.tag)return i;return null},i.prototype.getMenuItemSpecs=function(){return this._items},i.prototype.getParentMenu=function(){return this._parent&&this._parent._parent instanceof i&&this._parent._parent},i.prototype.getMenuPinningOptions=function(){var n=this._options.item;return n&&n.pinningMenuOptions?n.pinningMenuOptions:this._options.pinningMenuOptions},i.prototype.getCommandState=function(n,t){t=t||this;var i=null;return $.isFunction(this._options.getCommandState)&&(i=this._options.getCommandState.call(t,n,t)),(i===null||typeof i=="undefined")&&(i=this._commandStates&&this._commandStates[n]),(i===null||typeof i=="undefined")&&this._parent&&$.isFunction(this._parent.getCommandState)&&(i=this._parent.getCommandState(n,t)),$.isFunction(i)&&(i=i.call(t,n,t)),i},i.prototype.updateCommandStates=function(t){n.prototype.updateCommandStates.call(this,t);this._skipUpdateMenuItemStates||this._updateMenuItemStates()},i.prototype.updateItems=function(n){this._updateItems(n,!0)},i.prototype._updateItems=function(n,t){if(!this._disposed){var i=this._menuItems.length;this._updateItemsWithContributions(n,this._contributedItems||[]);t&&this._refreshContributedMenuItems();i===0&&this._menuItems.length>0&&this._visible&&this._parent&&this._parent._element&&this._parent._element[0]===document.activeElement&&this.selectFirstItem()}},i.prototype._updateItemsWithContributions=function(n,t){this._disposed||(this._fire("menuUpdatingContributedItems",{source:this,existingItems:n,contributedItems:t}),n||(n=[]),$.isArray(n)&&(n=$.grep(n,function(n){return!n.isContribution}),t&&t.length&&(n=n.concat(t))),this._contributedItems=t,this._updateCombinedSource(n),this._fire(i.CONTRIBUTION_ITEMS_UPDATED_EVENT,{source:this,existingItems:n,contributedItems:t}))},i.prototype._updateCombinedSource=function(n){var t,i,r;if(!this._disposed){if(i=!1,this._element[0].contains(document.activeElement)&&document.activeElement instanceof HTMLLIElement&&(i=!0,t=this._selectedItem&&this._selectedItem.getCommandId(),this._parent instanceof et&&this._parent.focus()),this._parent instanceof et&&n&&this._parent.getElement().attr({"aria-haspopup":String(n.length>0),"aria-expanded":this._visible}),this._asyncLoadingDelay||this._contributedItemsDelay){this._menuUpdateNeeded=!0;this._itemsSource=n;this.getOwner().focus();return}this._clear();this._itemsSource=n;this._initialized&&(this._menuUpdateNeeded=!1,this._itemsSource=this.getGroupedItems(),this._ensureChildren(),this.updateMenuItemStates(),$.isFunction(this._positioningRoutine)&&this._positioningRoutine.call(this),i&&(r=t&&this.getItem(t),r?r.select():this.selectFirstItem()),this._shouldSelectFirstItem&&(this._shouldSelectFirstItem=!1,this.selectFirstItem()))}},i.prototype.getGroupedItems=function(){var n,t,i;if(!$.isArray(this._itemsSource)||(n=[],t={__ungrouped__:[]},this._itemsSource.forEach(function(n){n.groupId&&(!n.separator||n.separator&&n.text)?t[n.groupId]?t[n.groupId].push(n):t[n.groupId]=[n]:t.__ungrouped__.push(n)}),t.__ungrouped__.length===this._itemsSource.length))return this._itemsSource;for(i=null,t.__ungrouped__=t.__ungrouped__.reduce(function(n,t,r,u){return t.separator&&!t.text&&(i&&i.separator||n.length===0||r===u.length-1)||n.push(t),i=t,n},[]),$.each(t,function(t,i){if(t==="__ungrouped__")return!0;Array.prototype.push.apply(n,i);n.push({separator:!0,isGroupSeparator:!0})}),(t.__ungrouped__.length===0||this._options.doNotSeparateUngroupedItems)&&n.splice(n.length-1,1),Array.prototype.push.apply(n,t.__ungrouped__);n.length>0&&n[n.length-1].separator;)n.splice(n.length-1,1);return n},i.prototype.appendItems=function(n){$.isArray(n)&&n.length&&this.updateItems((this._itemsSource||[]).slice(0).concat(n))},i.prototype.appendItem=function(n){this._createChildMenuItem(n);this._items.push(n)},i.prototype.moveMenuItemAfter=function(n,t){var i;if(n===t)return!0;var f=this._children.indexOf(n),r=this._menuItems.indexOf(n),e=this._items.indexOf(n._item),o=this._children.indexOf(t)+1,u=this._menuItems.indexOf(t)+1,s=this._items.indexOf(t._item)+1;if(f<0||r<0||e<0||o<0||u<0||s<0)return!1;for(v.reorder(this._children,f,o,1),v.reorder(this._menuItems,r,u,1),v.reorder(this._items,e,s,1),i=Math.min(r,u);i<this._menuItems.length;i++)this._menuItems[i].setIndex(i);return n._element.detach(),n._element.insertAfter(t._element),!0},i.prototype.removeItem=function(n){for(var i,t=0,r=this._children;t<r.length;t++)if(i=r[t],i instanceof ot&&i._item===n)return this.removeMenuItem(i);return!1},i.prototype.removeMenuItem=function(n){var t=this._children.indexOf(n),i=this._menuItems.indexOf(n),r=this._items.indexOf(n._item);return t<0||r<0?!1:(this._children.splice(t,1),i>=0&&this._menuItems.splice(i,1),this._items.splice(r,1),n.dispose(),!0)},i.prototype._updateAllSourceMenus=function(){var t=this,n=[];this._items.forEach(function(i){i.pinningOptions&&n.indexOf(i.pinningOptions.groupId)<0&&(n.push(i.pinningOptions.groupId),t.updateSourceMenu(i.pinningOptions.groupId))})},i.prototype.updateSourceMenu=function(n){var i=this.getMenuPinningOptions()||{},r,t;i.isPinningTarget&&i.hideEmptySourceMenu&&(r=v.first(this._menuItems,function(t){return t._item&&t._item.pinningOptions&&t._item.pinningOptions.groupId===n&&!t.isPinned()}),t=v.first(this._menuItems,function(t){var r=t.getSubMenu(),i=r&&r.getMenuPinningOptions();return i&&i.isPinningSource&&i.groupId===n}),t)&&t.setIsHidden(!r)},i.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._enhanceChildren()},i.prototype._getMenuItemType=function(){return ot},i.prototype.getMenuItemOptions=function(n,t){return $.extend({earlyInitialize:!1,item:n,align:this.getMenuItemAlignment(),overflow:this._options.overflow},t)},i.prototype._getFirstMenuItem=function(){return this._getNextEnabledItem(0)},i.prototype._selectItem=function(n,t,i){if((t===void 0&&(t=!1),i===void 0&&(i=!0),this._selectedItem&&this._selectedItem!==n&&(this._selectedItem.removeHighlight(),this._selectedItem.removeFocus()),this._selectedItem=n,n)&&(n.showHoverHighlight(),!t)){var r=this.getOwner();r._focusItem=n;this._selectedItem.setFocus(i)}},i.prototype.selectDefaultItem=function(n){n||p.tryFocus(this._element)},i.prototype.selectFirstItem=function(){var n=this._getFirstMenuItem();return n?(this._selectItem(n),!0):(this._shouldSelectFirstItem=!0,!1)},i.prototype.selectLastItem=function(){var n=this._getPrevEnabledItem(-1,{rollOver:!0});n&&this._selectItem(n)},i.prototype.selectNextItem=function(){var t=0,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()+1),n=this._getNextEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectPrevItem=function(){var t=-1,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()-1),n=this._getPrevEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectDown=function(){if(this._menuItems.length>0){var n=this._getNextFocusableItem(this._selectedItem?this._selectedItem.getIndex()+1:0,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectUp=function(){if(this._menuItems.length>0){var n=this._getPrevFocusableItem(this._selectedItem?this._selectedItem.getIndex()-1:-1,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectRight=function(){return this._selectedItem&&this._selectedItem.tryShowSubMenu({immediate:!0})?(this._selectedItem.getSubMenu().selectFirstItem(),!0):this.getOwner()!==this?this.getOwner().selectRight({redirected:!0}):void 0},i.prototype.selectLeft=function(){return this._parent&&this._parent._parent!==this.getOwner()?(this.hide({immediate:!0}),this._parent.select(),!0):this.getOwner()!==this?this.getOwner().selectLeft({redirected:!0}):void 0},i.prototype.show=function(n){var f=n&&n.immediate===!0,e=n?n.showTimeout:undefined,t=n&&n.callback,i=n?n.element:null,r=n?n.align:rt.RightJustify,u=(n&&n.setFocus)!==!1;if(!i)throw new Error("options.element is required.");return f?(this._showPopup(i,r,u),t&&t()):this._startShowTimeout(i,r,u,e||this.getOwner()._options.showTimeout,t),!0},i.prototype.hide=function(n){var i=n&&n.immediate===!0,r=n?n.hideTimeout:undefined,t=n?n.callback:undefined;i?(this._hidePopup(),t&&t()):this._startHideTimeout(r||this.getOwner()._options.hideTimeout,t)},i.prototype.hideChildren=function(n,t){var i,f,r,u=this._children,e=t&&t.immediate===!0,o=n&&n._item&&n._item.splitDrop;if($.isArray(u))for(i=0,f=u.length;i<f;i++)r=u[i],r!==n&&r!==o&&r.hideSubMenu({immediate:e})},i.prototype.escape=function(){return this.hide({immediate:!0}),this._parent&&this._parent.escaped(),!0},i.prototype.ownFocus=function(){this._selectItem(this._selectedItem)},i.prototype.attach=function(n){this._parent!==n&&this._visible&&this.hide({immediate:!0});this._parent=n},i.prototype.getMenuItemAlignment=function(){return"right-justify"},i.prototype.updateMenuItemStates=function(){try{this._skipUpdateMenuItemStates=!0;this._fireUpdateCommandStates(this)}finally{this._skipUpdateMenuItemStates=!1}this._updateMenuItemStates()},i.prototype.executeAction=function(n){var i;return $.isFunction(this._options.executeAction)&&(i=this._options.executeAction.call(this,n)),i!==!1&&(i=t.menuManager.executeCommand(n)),i},i.prototype._ensureVisible=function(n){if(n&&n.getElement()){var f=n.getElement(),t=this.getElement(),r=f.outerHeight(!0),i=n.getIndex()*r,u=i+r;i<t.scrollTop()?t.scrollTop(i):u-t.height()>t.scrollTop()&&t.scrollTop(u-t.height())}},i.prototype._getItems=function(){var n=this,i,t=!1;return this._items||(this._itemsSource?$.isFunction(this._itemsSource)?(i=this._itemsSource.call(this,this.getOwner().getContextInfo(),function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=i||[];t?n._disposed||n._updateItems(n._items,!1):t=!0},function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=[{text:ui(i),icon:"icon-tfs-build-failed"}];t?n._disposed||n._updateItems(n._items,!1):t=!0;ri(i)}),t||(t=!0,i||(i=[],this._asyncLoadingDelay=y.delay(this,200,function(){n._asyncLoadingDelay=null;n._updateItems([{text:l.MenuItemsLoading}],!1)})),this._items=i)):this._items=this._itemsSource:this._items=[]),this._items},i.prototype._clear=function(){this._element[0].contains(document.activeElement)&&p.tryFocus(this._element);n.prototype._clear.call(this);this._menuItems=[];this._items=null;this._childrenCreated=!1},i.prototype._createChildMenuItem=function(n,t){var i,r;return r=this.getMenuItemOptions(n,n?n.extraOptions:undefined),i=t?e.Enhancement.enhance(this._getMenuItemType(),t,r):e.BaseControl.createIn(this._getMenuItemType(),this._element,r),i._parent=this,this._children.push(i),i._item.separator||(i.setIndex(this._menuItems.length),this._menuItems.push(i)),n.splitDropOptions&&(n.childItems||n.splitDropOptions.childItems)&&this._createSplitDropMenuItem(n,i),i.initialize(),i},i.prototype._createSplitDropMenuItem=function(n,t){var i=$.extend(n.splitDropOptions,{splitDropItem:t,childItems:n.splitDropOptions.childItems||n.childItems,showText:!1,showHtml:!1,toggled:n.toggled,disabled:n.disabled,title:n.splitDropOptions&&n.splitDropOptions.title,noIcon:n.splitDropOptions.noIcon!==undefined?n.splitDropOptions.noIcon:!0,cssClass:n.splitDropOptions.cssClass||"split-drop",splitDropOptions:null});n.splitDrop=this._createChildMenuItem(i);n.childItems=null;t._element.addClass("split-drop-item")},i.prototype._ensureChildren=function(){var t=this,n;this._childrenCreated||($.each(this._getItems(),function(n,i){t._createChildMenuItem(i)}),this._childrenCreated=!0,n=this.getMenuPinningOptions(),n&&n.isPinningTarget&&this._updateAllSourceMenus(),this.updateAriaSetProperties())},i.prototype._enhanceChildren=function(){var n=this,t=this._getItems();this._element.children("li").each(function(i,r){n._createChildMenuItem($.extend({},t[i],{decorated:!0}),$(r))});this._childrenCreated=!0;this.updateAriaSetProperties()},i.prototype.updateAriaSetProperties=function(){var i,t,r,u,f,n;if(this._menuItems){for(i=0,t=0,r=this._menuItems;t<r.length;t++)u=r[t],u.isFocusable()&&i++;for(f=0,n=0;n<this._menuItems.length;++n)this._menuItems[n].isFocusable()&&this._menuItems[n].getElement().attr({"aria-posinset":++f,"aria-setsize":i})}},i.prototype._getNextFocusableItem=function(n,t){return this._getNextItem(function(n){return n.isFocusable()},n,t)},i.prototype._getNextEnabledItem=function(n,t){return this._getNextItem(function(n){return n.isEnabled()},n,t)},i.prototype._getNextItem=function(n,t,i){function f(t,i){for(var f,r=t;r<=i;r++)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(t,u.length-1),r)?r:e&&(r=f(0,t),r)?r:null},i.prototype._getPrevFocusableItem=function(n,t){return this._getPrevItem(function(n){return n.isFocusable()},n,t)},i.prototype._getPrevEnabledItem=function(n,t){return this._getPrevItem(function(n){return n.isEnabled()},n,t)},i.prototype._getPrevItem=function(n,t,i){function f(t,i){for(var f,r=i;r>=t;r--)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(0,t),r)?r:e&&(r=f(t,u.length-1),r)?r:null},i.prototype._ensurePopup=function(){this._ensureInitialized()&&(this._popupElement=this._element);this._ensureChildren()},i.prototype._getPopupAlign=function(n){switch(n){case rt.RightJustify:return["left-top","right-top"];case rt.RightBottom:return["right-top","right-bottom"];case rt.LeftTop:return["left-bottom","left-top"]}return["left-top","left-bottom"]},i.prototype._showPopup=function(n,t,r){var f=this,u;this._clearTimeouts();this._ensurePopup();this.updateAriaSetProperties();this._pinElement=n;y.delay(this,300,function(){f._attachAncestorScroll(n)});this.updateMenuItemStates();u=this._getPopupAlign(t);this._element.show();this._parent instanceof et&&this._parent.getElement().attr("aria-expanded","true");this._positioningRoutine=function(){var f,e,o,t,r;(this._options.alignToMarkerVertical||this._options.alignToMarkerHorizontal)&&($.isFunction(this._options.getAlignmentMarkers)?(o=this._options.getAlignmentMarkers.call(this,this._element,n),f=o.elementAlignmentMarker,e=o.baseAlignmentMarker):(f=this._element.find(".alignment-marker").first(),e=n.find(".alignment-marker:not(.sub-menu .alignment-marker)").first()));t=this._options.overflow;t||(r=this._parent&&this._parent._parent,t=!(r instanceof i)||r instanceof vt||r instanceof lt?"fit-flip":"flip-flip");p.Positioning.position(this._element,n,{elementAlign:u[0],baseAlign:u[1],overflow:t,supportScroll:!0,scrollByMarker:this._options.scrollByMarker,alignToMarkerHorizontal:this._options.alignToMarkerHorizontal,alignToMarkerVertical:this._options.alignToMarkerVertical,elementAlignmentMarker:f,baseAlignmentMarker:e})};this._element[0].style.removeProperty("left");this._element[0].style.removeProperty("top");this._positioningRoutine.call(this);this._visible=!0;this._shownTime=Date.now();this.getOwner()._updateSubMenuVisibleState();r&&this.ownFocus()},i.prototype._hidePopup=function(){this._parent instanceof et&&this._parent.getElement()!=null&&this._parent.getElement().attr("aria-expanded","false");this._visible&&this._options.item.dynamic&&this._clear();this._clearTimeouts();this._visible=!1;this._pinElement&&(this._detachAncestorScroll(this._pinElement),this._pinElement=null);this._popupElement&&this._popupElement.hide();delete this._positioningRoutine;this.hideChildren(null,{immediate:!0});this.getOwner()._updateSubMenuVisibleState()},i.prototype._updateMenuItemStates=function(){function o(){return r&&u}function f(){var n=o();t&&t.isHidden()===n&&t.update($.extend(t._item,{separator:!0,hidden:!n}))}for(var n,t,r=!1,i=!1,u=!1,e=0,s=this._children;e<s.length;e++)n=s[e],n.isSeparator()&&!n.isLabel()?(i=!0,t=n,f()):(n.isHidden()||i?!n.isHidden()&&i&&(r=!0):u=!0,t&&o()&&!n.isHidden()&&(f(),t=null,i=!1,u=!0,r=!1),n._updateState(),n.updateText());f()},i.prototype._startShowTimeout=function(n,t,i,r,u){var f=this;this._clearTimeouts();this.delayExecute("show",r,!0,function(){f.isDisposed()||(f._showPopup(n,t,i),u&&u())})},i.prototype._startHideTimeout=function(n,t){var i=this;this._clearTimeouts();this.delayExecute("hide",n,!0,function(){i._hidePopup();t&&t()})},i.prototype._clearTimeouts=function(){this.cancelDelayedFunction("show");this.cancelDelayedFunction("hide")},i.prototype._attachAncestorScroll=function(n){this._bind($(n).parents(),"scroll",nt(this,this._onParentScroll))},i.prototype._detachAncestorScroll=function(n){this._unbind($(n).parents(),"scroll")},i.prototype._dispose=function(){this._pinElement&&this._detachAncestorScroll(this._pinElement);this._asyncLoadingDelay&&(this._asyncLoadingDelay.cancel(),this._asyncLoadingDelay=null);this._contributedItemsDelay&&(this._contributedItemsDelay.cancel(),this._contributedItemsDelay=null);this._options.executeAction=null;n.prototype._dispose.call(this)},i.prototype._onParentScroll=function(){p.BrowserCheckUtils.isEdge()&&this._mouseIsDown||this._hidePopup()},i.prototype._onMouseDown=function(){var n=this;p.BrowserCheckUtils.isEdge()&&(this._mouseIsDown=!0,this._bind(window.document,"mouseup",function(){n._mouseIsDown=!1;n._unbind(window.document,"mouseup")},!0))},i.prototype._onMenuKeyDown=function(n){var t=!n.ctrlKey&&!n.altKey&&!n.shiftKey;switch(n.keyCode){case tt.DOWN:if(t)return this.selectDown(),!1;break;case tt.UP:if(t)return this.selectUp(),!1;break;case tt.RIGHT:if(t)return this.selectRight(),!1;break;case tt.LEFT:if(t)return this.selectLeft(),!1;break;case tt.ESCAPE:if(this.escape())return!1;break;case tt.HOME:if(t)return this.selectFirstItem(),!1;break;case tt.END:if(t)return this.selectLastItem(),!1}},i.prototype.setContributedItemOptions=function(n,t,i){var r=!1;(this._options.contributionIds||[]).join(";")!==n.join(";")&&(this._options.contributionIds=n,r=!0);typeof t!="undefined"&&this._options.contributionType!==t&&(this._options.contributionType=t,r=!0);typeof i!="undefined"&&this._options.contributionQueryOptions!==i&&(this._options.contributionQueryOptions=i,r=!0);r&&(this._menuContributionProvider=null,this._menuUpdateNeeded=!0,this.refreshContributedItems())},i.prototype.refreshContributedItems=function(){var n=this;!this._menuContributionProvider&&this._options.contributionIds&&(this._menuContributionProvider=new bt(this,r.getDefaultWebContext(),this._options.contributionIds,this._options.contributionType,this._options.contributionQueryOptions,this._getContributionContext.bind(this),this._contributionProviderOptions),this._contributedItemsDelay=y.delay(this,100,function(){n._contributedItemsDelay=null;n._updateItems(n._items,!1)}));this._refreshContributedMenuItems()},i.prototype._refreshContributedMenuItems=function(){var n=this;this._menuContributionProvider&&(this._contributionPromise=this._menuContributionProvider.getContributedMenuItems(this._getContributionContext()).then(function(t){n._contributedItemsDelay&&(n._contributedItemsDelay.cancel(),n._contributedItemsDelay=null);(n._menuUpdateNeeded||t&&t.length)&&n._updateItemsWithContributions(n._itemsSource,t)},function(n){n.name=w.format("{0}.GetContributedMenuItemsError",n.name||"");n.message="getContributedMenuItems() failed in Menu._refreshContributedMenuItems: "+b.getErrorMessage(n);d.publishErrorToTelemetry(n,!1,k.Level.Warning,{thirdParty:!0})}))},i.prototype.updateContributedMenuItems=function(n){var t=this;this._contributionPromise.then(function(){var i=[];(function r(n){Array.prototype.push.apply(i,n);n.forEach(function(n){n.childItems&&n.childItems.length>0&&r(n.childItems)})})(n);i=i.filter(function(n){return!!n.id});t._updateContributedMenuItems(i)})},i.prototype._getContributionContext=function(){var n=this._options.contextInfo?$.extend({},this._options.contextInfo.item):{};return $.isFunction(n.getContributionContext)?n=n.getContributionContext():$.isFunction(this._options.getContributionContext)&&(n=this._options.getContributionContext()),n},i.enhancementTypeName="tfs.menu.menu",i.CONTRIBUTION_ITEMS_UPDATED_EVENT="menuContributedItemsUpdated",i}(et);t.Menu=ht;b.initClassPrototype(ht,{_items:null,_itemsSource:null,_menuItems:null,_selectedItem:null,_focusItem:null,_childrenCreated:!1,_popupElement:null,_visible:!1,_active:!1,_skipUpdateMenuItemStates:!1,_positioningRoutine:null,_pinElement:null});ct=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._focusing=!1,i.setEnhancementOptions({role:"menu"}),i._align=rt.parse(i._options.align),i}return __extends(i,n),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({markUnselectable:!0,showIcon:!0,showTimeout:500,hideTimeout:500},t))},i.prototype.setShowIcon=function(n){this._options.showIcon=n},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._fire("menuInitialized",{menu:this})},i.prototype._decorate=function(){var t=this;n.prototype._decorate.call(this);this._updateTabIndex(!0);this._bind(this._element,"keydown",this._onKeyDown.bind(this));this._bind(this._element,"focus",this._onFocus.bind(this));this._element[0].addEventListener("blur",this._onChildBlur.bind(this),!0);this._element[0].addEventListener("focus",this._onChildFocus.bind(this),!0);this._options.emptyMenuInTabOrder===!1&&this._bind(ht.CONTRIBUTION_ITEMS_UPDATED_EVENT,function(){t._isOwned(document.activeElement)||t._updateTabIndex()})},i.prototype.getMenuItemAlignment=function(){return this._options.popupAlign||n.prototype.getMenuItemAlignment.call(this)},i.prototype.getMenuItemOptions=function(t,i){return n.prototype.getMenuItemOptions.call(this,t,$.extend({immediateShowHide:!0,clickToggles:!0,type:"static"},i))},i.prototype.escape=function(){return!1},i.prototype.escaped=function(){},i.prototype.isActive=function(){return this._active},i.prototype.activate=function(n){if(n===void 0&&(n=!0),!this._activating){this._activating=!0;try{this._clearBlurTimeout();this._active=!0;n&&p.tryFocus(this._focusElement);$.isFunction(this._options.onActivate)&&this._options.onActivate.call(this)}finally{this._activating=!1}}},i.prototype._hide=function(){this._active&&(this.hide({immediate:!0}),this.ownFocus())},i.prototype._blur=function(){this._clearBlurTimeout();this.hide({immediate:!0});this._disposed||this._selectItem(null);this._active=!1;$.isFunction(this._options.onDeactivate)&&this._options.onDeactivate.call(this);this._disposed||this._updateTabIndex()},i.prototype._updateSubMenuVisibleState=function(){var n,u,t,r=this._menuItems,i;if(this._subMenuVisible=!1,$.isArray(r))for(n=0,u=r.length;n<u;n++)if(t=r[n],t.hasSubMenu()&&(i=t.getSubMenu(!1),i&&i._parent===t&&i._visible)){this._subMenuVisible=!0;break}},i.prototype._updateTabIndex=function(n){this._options.inTabOrder!==!1&&(this._options.emptyMenuInTabOrder!==!1||this._menuItems.length>0)?this._element.attr("tabIndex",0):n&&this._element.attr("tabIndex",-1)},i.prototype._onKeyDown=function(n){if(n.keyCode===tt.TAB)this._immediateBlur=!0;else if(n.keyCode===tt.F10&&n.shiftKey)return this._onContextMenu(n)},i.prototype._onFocus=function(){var n=this,t;this._focusing||(this._focusing=!0,this.activate(!1),!this._selectedItem||this._selectedItem.getIndex()<0||!this._selectedItem._element?(t=this._getFirstMenuItem()||this._getNextFocusableItem(0),t&&y.delay(null,0,function(){n._selectItem(t)})):y.delay(null,0,function(){n._selectedItem&&n._selectedItem.select()}),this._focusing=!1)},i.prototype._isOwned=function(n){if(this._element[0].contains(n)){for(var t=n;t!==this._element[0]&&t!==document.body;t=t.parentElement)if(t.classList.contains("unfocusable"))return!1;return!0}return!1},i.prototype._onChildFocus=function(n){if(this._isOwned(n.target)){this._element.attr("tabindex","-1");var t=e.Enhancement.getInstance(ot,$(n.target)),i=t&&t.getParentMenu();t&&i&&i._selectItem(t)}},i.prototype._onChildBlur=function(){var n=this;y.delay(this,t.BLUR_CLOSE_TIMEOUT,function(){n._disposed||n._isOwned(document.activeElement)&&document.hasFocus()||(n._options.inTabOrder!==!1&&n._updateTabIndex(),n._immediateBlur?(n._immediateBlur=!1,n._blur()):n._blur())})},i.prototype._proceedBlur=function(){this._canBlur=!0},i.prototype._clearBlurTimeout=function(){this.cancelDelayedFunction("blur")},i.prototype._onParentScroll=function(){this._hide()},i.prototype._onResize=function(){this._hide()},i.prototype._onContextMenu=function(){return this.showSubMenuOnFocusedItem()},i.prototype.showSubMenuOnFocusedItem=function(){var n=this._focusItem;return n&&n.tryShowSubMenu({immediate:!0}),!1},i}(ht);t.MenuOwner=ct;b.initClassPrototype(ct,{_focusItem:null,_focusElement:null,_activating:!1,_subMenuVisible:!1,_align:null,_canBlur:!1,_immediateBlur:!1});lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.setEnhancementOptions({role:"menubar",coreCssClass:"menu-bar"+(i._options.useBowtieStyle?" bowtie-menus":"")}),i._orientation=ft.parse(i._options.orientation),i._type=ut.Static,i._contributionProviderOptions={defaultTextToTitle:!1},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.getMenuItemAlignment=function(){return this._orientation===ft.Horizontal?"left-bottom":"right-justify"},t.prototype.selectUp=function(t){return this._orientation===ft.Vertical?n.prototype.selectUp.call(this):n.prototype.selectLeft.call(this,t)},t.prototype.selectDown=function(t){return this._orientation===ft.Vertical?n.prototype.selectDown.call(this):n.prototype.selectRight.call(this,t)},t.prototype.selectLeft=function(){if(this._orientation===ft.Vertical)return n.prototype.selectLeft.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectUp.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.prototype.selectRight=function(){if(this._orientation===ft.Vertical)return n.prototype.selectRight.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectDown.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.tryActivate=function(n){var t=this._getMenuBar(n);return t?(t.focus(),!0):!1},t.tryShowSubMenu=function(n){var t=this._getMenuBar(n);return t?(t.focus(),y.delay(this,0,function(){t.showSubMenuOnFocusedItem()}),!0):!1},t.prototype.focus=function(){this.activate()},t._getMenuBar=function(n){var t=$(n);return e.Enhancement.getInstance(at,t)},t.enhancementTypeName="tfs.menu.menubar",t}(ct);t.MenuBarO=lt;at=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(lt);t.MenuBar=at;gt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.setEnhancementOptions({role:"toolbar"}),i}return __extends(t,n),t.prototype._getMenuItemType=function(){return ni},t}(at);t.Toolbar=gt;ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getAriaRole=function(){return"button"},t}(ot);b.initClassPrototype(lt,{_orientation:ft.Horizontal});ti=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.escaped=function(){n.prototype.escaped.call(this);this._parent.escaped()},t}(ot);vt=function(n){function t(t){var i=n.call(this,$.extend({inTabOrder:!1},t))||this;return i.setEnhancementOptions({coreCssClass:"menu-popup"+(i._options.useBowtieStyle?" bowtie-menus":""),hidden:!0}),i._type=ut.Popup,i._hidden=i._options.hidden===!0,i._onHide=i._options.onHide,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getMenuItemType=function(){return ti},t.prototype._decorate=function(){n.prototype._decorate.call(this);this._hidden===!0&&this._element.addClass("invisible")},t.prototype.popup=function(n,t){var r=this;if(this._escapeFocusReceiver=n,this._popupPinElement=t,this._floating=!0,this._active)this.escaped();else{var i=null,f=!1,u=function(){i&&(i.cancel(),i=null);r._active||f||(r.activate(),r._showPopupMenu(),f=!0)};this._contributionPromise?(this._contributionPromise.then(u),i=y.delay(this,500,u)):u()}},t.prototype._showPopupMenu=function(){var i=this._getFirstMenuItem(),n=i.getSubMenu(),t=this._options.setFocus!==!1;n&&(n.show({immediate:!0,element:this._popupPinElement,align:this._align,setFocus:t}),t&&n.selectDefaultItem())},t.prototype._updateItemsWithContributions=function(n,t){if(this._contributedItems=t,n&&n.length>0&&n[0].childItems){var i=$.grep(n[0].childItems,function(n){return!n.isContribution});n[0].childItems=i.concat(t)}else n=[{childItems:t}];this._updateCombinedSource(n)},t.prototype._updateCombinedSource=function(t){n.prototype._updateCombinedSource.call(this,t);this._active&&this._showPopupMenu()},t.prototype.selectUp=function(){return!0},t.prototype.selectDown=function(t){var i=t&&t.redirected;return!i&&this._align!==rt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.selectFirstItem=function(){var t=this._getFirstMenuItem(),n=t.getSubMenu();return n._visible?n.selectFirstItem():!1},t.prototype.selectLeft=function(){return!0},t.prototype.selectRight=function(t){var i=t&&t.redirected;return!i&&this._align===rt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.escaped=function(){this._floating&&(this._floating=!1,this._escapeFocusReceiver&&(this._escapeFocusReceiver.focus(),this._escapeFocusReceiver=null,$.isFunction(this._options.onPopupEscaped)&&this._options.onPopupEscaped.call(this)))},t.prototype._hidePopup=function(){this._onHide&&this._onHide(this._escapeFocusReceiver);n.prototype._hidePopup.call(this)},t.enhancementTypeName="tfs.menu.popup",t}(ct);t.PopupMenuO=vt;kt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(vt);t.PopupMenu=kt;b.initClassPrototype(vt,{_align:rt.RightJustify,_floating:!1,_hidden:!1,_escapeFocusReceiver:null});ii=function(n){function i(t){return n.call(this,t)||this}return __extends(i,n),i.prototype.initialize=function(){var t=this._element.data();n.prototype.initialize.call(this);this._bind(t.commandAction||"click",nt(this,this.onCommandExecute));t.commandCompleteEvent&&this._bind(window,t.commandCompleteEvent,nt(this,this.onCommandComplete))},i.prototype.onCommandExecute=function(){var n=this._element.data();return n.commandName&&(this._element.prop("disabled",!0),this._element.prop("aria-disabled",!0),t.menuManager.executeCommand(new c.CommandEventArgs(n.commandName,n.commandArg,this))),!1},i.prototype.onCommandComplete=function(){this._element.removeAttr("disabled");this._element.prop("aria-disabled",!1)},i}(e.BaseControl);e.Enhancement.registerEnhancement(at,".menu-bar.enhance");e.Enhancement.registerEnhancement(kt,".menu-popup.enhance");e.Enhancement.registerEnhancement(ii,".single-command");t.sortMenuItems=fi;b.tfsModuleLoaded("VSS.UI.Controls.Menus",t)});

/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/droppable",["jquery", "./core", "./widget", "./mouse", "./draggable"], n) : n(jQuery) })(function (n) { return n.widget("ui.droppable", { version: "1.11.4", widgetEventPrefix: "drop", options: { accept: "*", activeClass: !1, addClasses: !0, greedy: !1, hoverClass: !1, scope: "default", tolerance: "intersect", activate: null, deactivate: null, drop: null, out: null, over: null }, _create: function () { var t, i = this.options, r = i.accept; this.isover = !1; this.isout = !0; this.accept = n.isFunction(r) ? r : function (n) { return n.is(r) }; this.proportions = function () { if (arguments.length) t = arguments[0]; else return t ? t : t = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight } }; this._addToManager(i.scope); i.addClasses && this.element.addClass("ui-droppable") }, _addToManager: function (t) { n.ui.ddmanager.droppables[t] = n.ui.ddmanager.droppables[t] || []; n.ui.ddmanager.droppables[t].push(this) }, _splice: function (n) { for (var t = 0; t < n.length; t++) n[t] === this && n.splice(t, 1) }, _destroy: function () { var t = n.ui.ddmanager.droppables[this.options.scope]; this._splice(t); this.element.removeClass("ui-droppable ui-droppable-disabled") }, _setOption: function (t, i) { if (t === "accept") this.accept = n.isFunction(i) ? i : function (n) { return n.is(i) }; else if (t === "scope") { var r = n.ui.ddmanager.droppables[this.options.scope]; this._splice(r); this._addToManager(i) } this._super(t, i) }, _activate: function (t) { var i = n.ui.ddmanager.current; this.options.activeClass && this.element.addClass(this.options.activeClass); i && this._trigger("activate", t, this.ui(i)) }, _deactivate: function (t) { var i = n.ui.ddmanager.current; this.options.activeClass && this.element.removeClass(this.options.activeClass); i && this._trigger("deactivate", t, this.ui(i)) }, _over: function (t) { var i = n.ui.ddmanager.current; i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", t, this.ui(i))) }, _out: function (t) { var i = n.ui.ddmanager.current; i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", t, this.ui(i))) }, _drop: function (t, i) { var r = i || n.ui.ddmanager.current, u = !1; return !r || (r.currentItem || r.element)[0] === this.element[0] ? !1 : (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () { var i = n(this).droppable("instance"); if (i.options.greedy && !i.options.disabled && i.options.scope === r.options.scope && i.accept.call(i.element[0], r.currentItem || r.element) && n.ui.intersect(r, n.extend(i, { offset: i.element.offset() }), i.options.tolerance, t)) return u = !0, !1 }), u) ? !1 : this.accept.call(this.element[0], r.currentItem || r.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", t, this.ui(r)), this.element) : !1 }, ui: function (n) { return { draggable: n.currentItem || n.element, helper: n.helper, position: n.position, offset: n.positionAbs } } }), n.ui.intersect = function () { function n(n, t, i) { return n >= t && n < t + i } return function (t, i, r, u) { if (!i.offset) return !1; var o = (t.positionAbs || t.position.absolute).left + t.margins.left, s = (t.positionAbs || t.position.absolute).top + t.margins.top, h = o + t.helperProportions.width, c = s + t.helperProportions.height, f = i.offset.left, e = i.offset.top, l = f + i.proportions().width, a = e + i.proportions().height; switch (r) { case "fit": return f <= o && h <= l && e <= s && c <= a; case "intersect": return f < o + t.helperProportions.width / 2 && h - t.helperProportions.width / 2 < l && e < s + t.helperProportions.height / 2 && c - t.helperProportions.height / 2 < a; case "pointer": return n(u.pageY, e, i.proportions().height) && n(u.pageX, f, i.proportions().width); case "touch": return (s >= e && s <= a || c >= e && c <= a || s < e && c > a) && (o >= f && o <= l || h >= f && h <= l || o < f && h > l); default: return !1 } } }(), n.ui.ddmanager = { current: null, droppables: { "default": [] }, prepareOffsets: function (t, i) { var r, f, u = n.ui.ddmanager.droppables[t.options.scope] || [], o = i ? i.type : null, e = (t.currentItem || t.element).find(":data(ui-droppable)").addBack(); n: for (r = 0; r < u.length; r++) if (!u[r].options.disabled && (!t || u[r].accept.call(u[r].element[0], t.currentItem || t.element))) { for (f = 0; f < e.length; f++) if (e[f] === u[r].element[0]) { u[r].proportions().height = 0; continue n } (u[r].visible = u[r].element.css("display") !== "none", u[r].visible) && (o === "mousedown" && u[r]._activate.call(u[r], i), u[r].offset = u[r].element.offset(), u[r].proportions({ width: u[r].element[0].offsetWidth, height: u[r].element[0].offsetHeight })) } }, drop: function (t, i) { var r = !1; return n.each((n.ui.ddmanager.droppables[t.options.scope] || []).slice(), function () { this.options && (!this.options.disabled && this.visible && n.ui.intersect(t, this, this.options.tolerance, i) && (r = this._drop.call(this, i) || r), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i))) }), r }, dragStart: function (t, i) { t.element.parentsUntil("body").bind("scroll.droppable", function () { t.options.refreshPositions || n.ui.ddmanager.prepareOffsets(t, i) }) }, drag: function (t, i) { t.options.refreshPositions && n.ui.ddmanager.prepareOffsets(t, i); n.each(n.ui.ddmanager.droppables[t.options.scope] || [], function () { if (!this.options.disabled && !this.greedyChild && this.visible) { var r, e, f, o = n.ui.intersect(t, this, this.options.tolerance, i), u = !o && this.isover ? "isout" : o && !this.isover ? "isover" : null; u && (this.options.greedy && (e = this.options.scope, f = this.element.parents(":data(ui-droppable)").filter(function () { return n(this).droppable("instance").options.scope === e }), f.length && (r = n(f[0]).droppable("instance"), r.greedyChild = u === "isover")), r && u === "isover" && (r.isover = !1, r.isout = !0, r._out.call(r, i)), this[u] = !0, this[u === "isout" ? "isover" : "isout"] = !1, this[u === "isover" ? "_over" : "_out"].call(this, i), r && u === "isout" && (r.isout = !1, r.isover = !0, r._over.call(r, i))) } }) }, dragStop: function (t, i) { t.element.parentsUntil("body").unbind("scroll.droppable"); t.options.refreshPositions || n.ui.ddmanager.prepareOffsets(t, i) } }, n.ui.droppable });

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Draggable",["require","exports","VSS/Diag","jQueryUI/draggable"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});$(function(){$.ui.plugin.add("draggable","scrollables",{start:function(){function s(n){return n.closest("body").length?!0:!1}for(var f=[],i=null,n=null,o=$(this).data("ui-draggable"),r=o.options,e=0,t=0,u=r.scrollables.length;t<u;t++,e++)(i=$(r.scrollables[t]),s(i))&&i.each(function(t,i){var r=$(i);n=r.offset();n.bottom=n.top+r.height();n.right=n.left+r.width();f[e++]={element:i,rect:n}});r.scrollableElements=f},drag:function(n){var s=$(this).data("ui-draggable"),t=s.options,u=t.cursorAt||{left:0,top:0},l=!1,f=null,h=!1,c=t.scrollableElements,r=null,p,o,y;var a=u.top!=null?u.top:s.helperProportions.height-u.bottom,v=u.left!=null?u.left:s.helperProportions.width-u.right,e={left:n.pageX-v,top:n.pageY-a,right:n.pageX-v+s.helperProportions.width,bottom:n.pageY-a+s.helperProportions.height};for(o=0,y=c.length;o<y;o+=1)typeof c[o]!="undefined"&&(f=c[o].element,r=c[o].rect,l=(e.left>=r.left&&e.left<=r.right||e.right>=r.left&&e.right<=r.right)&&(e.top>=r.top&&e.top<=r.bottom||e.bottom>=r.top&&e.bottom<=r.bottom),l&&(t.axis&&t.axis!=="y"||t.scrollablesAxis&&t.scrollablesAxis!=="y"||(r.bottom-n.pageY<t.scrollSensitivity?(f.scrollTop=f.scrollTop+t.scrollSpeed,h=!0):n.pageY-r.top<t.scrollSensitivity&&(f.scrollTop=f.scrollTop-t.scrollSpeed,h=!0)),t.axis&&t.axis!=="x"||t.scrollablesAxis&&t.scrollablesAxis!=="x"||(r.right-n.pageX<t.scrollSensitivity?(f.scrollLeft=f.scrollLeft+t.scrollSpeed,h=!0):n.pageX-r.left<t.scrollSensitivity&&(f.scrollLeft=f.scrollLeft-t.scrollSpeed,h=!0))));h!==!1&&(p=f.offsetHeight)},stop:function(){var n=$(this).data("ui-draggable"),t=n.options;delete t.scrollableElements}})})});

define("VSS/Controls/TreeView",["require","exports","VSS/Controls/Combos","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Controls/Menus","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Telemetry/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","jQueryUI/droppable","VSS/Utils/Draggable","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function lt(n){return n=n||a.localeIgnoreCaseComparer,function(t,i){return n(t.text,i.text)}}function g(n,t,i){var r,e,u,f=n.children;if(f&&(e=f.length))for(r=0;r<e;r++)u=f[r],t[t.length]=u,(i||u.expanded)&&g(u,t,i)}function st(n){return $.map(n,function(n){if(n.id)t=new d(n.text,n.config,[],n.id);else var t=new d(n.text,n.config);return n.children&&n.children.length&&t.addRange(st(n.children)),t})}function at(n){return n?n.length&&!(n[0]instanceof d)?st(n):n:[]}function ht(n,t){n.expanded=!0;t&&n.hasChildren()&&$.each(n.children,function(n,i){ht(i,t-1)})}var nt,d,it,b,tt,rt,ut,ft,et;Object.defineProperty(t,"__esModule",{value:!0});var vt=e.log,yt=e.LogVerbosity.Verbose,k=l.delegate,pt=y.getErrorMessage,p=v.KeyCode,w=v.domElem,ot="TFSUICommonControls",ct=0;nt=function(n){function t(t){var i=n.call(this,$.extend({sepChar:"\\"},t))||this;return i._initRoot(),i}return __extends(t,n),t.prototype.setSource=function(t){this._initRoot();this.root.clear();n.prototype.setSource.call(this,t)},t.prototype.prepareSource=function(n){var t=at(n);this.root.addRange(t);this._options.sorted&&this.root.sort(!0,lt(this._options.comparer));this._options.treeLevel&&ht(this.root,this._options.treeLevel);this.updateItemsFromSource()},t.prototype.updateItemsFromSource=function(){var t=[],n;g(this.root,t,!0);n=[];g(this.root,n,!1);this.setItems(n,t)},t.prototype.getItemText=function(n,t,i){return i===!0?this.getItem(n,t).text:this.getItem(n,t).path(!1,this._options.sepChar)},t.prototype.getItemIndex=function(t,i,r){var f=n.prototype.getItemIndex.call(this,t,i,!0),u,e;if(f>=0){for(u=this.getItem(f,!0);u.parent;)u=u.parent,u.expanded||(e=!0),u.expanded=!0;return e&&this._prepareCurrentItems(),n.prototype.getItemIndex.call(this,t,i,r)}return f},t.prototype.expandNode=function(n){n.expanded||(n.expanded=!0,this._prepareCurrentItems())},t.prototype.collapseNode=function(n){n.expanded&&(n.expanded=!1,this._prepareCurrentItems())},t.prototype._initRoot=function(){this.root||(this.root=new d(""),this.root.expanded=!0,this.root.root=!0)},t.prototype._prepareCurrentItems=function(){var n=[];g(this.root,n,!1);this.setItems(n,this.getItems(!0))},t}(u.BaseDataSource);t.TreeDataSource=nt;y.initClassPrototype(nt,{root:null});d=function(){function n(n,t,i,r){r?this.id=r:this._ensureNodeId();this.text=n;this.config=t||{};this.children=[];this.addRange(i)}return n.create=function(t,i,r){return new n(t,i,r)},n.prototype.hasChildren=function(){return this.children.length>0},n.prototype.clear=function(){this.children=[]},n.prototype.remove=function(){var n=this;this.parent&&(this.parent.children=$.map(this.parent.children,function(t){if(t!==n)return t}))},n.prototype.add=function(n){this.children.push(n);n.parent=this},n.prototype.moveTo=function(n){this.remove();n.add(this)},n.prototype.addRange=function(n){var t,i;if(n)for(t=0,i=n.length;t<i;t++)this.add(n[t])},n.prototype.findNode=function(n,t,i){return v.findTreeNode.call(this,n,t||"/",i||a.localeIgnoreCaseComparer,"text")},n.prototype.sort=function(n,t){this._sort(n,t)},n.prototype.path=function(n,t){return v.calculateTreePath.call(this,n,t||"/","text","root")},n.prototype.level=function(n){for(var i=0,t=this.parent;t;){if(n&&t.root)break;i++;t=t.parent}return i},n.prototype.getContributionContext=function(){return this},n.prototype.getHtmlId=function(){return"treeNode"+this.id},n.prototype._ensureNodeId=function(){(this.id<0||this.id===undefined||this.id===null)&&(this.id=""+ct++)},n.prototype._sort=function(n,t){var r,u,i=this.children;if(i&&i.length&&(i.sort(t),n))for(r=0,u=i.length;r<u;r++)i[r]._sort(n,t)},n}();t.TreeNode=d;y.initClassPrototype(d,{id:-1,root:!1,text:null,parent:null,children:null,config:null,expanded:!1,selected:!1,icon:null,tag:null,noFocus:!1,noContextMenu:!1,noTreeIcon:!1,folder:null,type:null,link:"",title:"",droppable:null,iterationPath:null,definition:null,linkDelegate:null,hasExpanded:!1,owner:null,application:null,isSearchHit:null});it=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.rootNode=new d("root"),i.rootNode.root=!0,i._droppable=i._options.droppable,i._draggable=i._options.draggable,i._focusDelegate=k(i,i._onFocus),i._blurDelegate=k(i,i._onBlur),i._dragStartDelegate=k(i,i._onDragStart),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({clickSelects:!0,clickToggles:!1,contextMenu:!1,coreCssClass:"tree-view",showIcons:!0,sortMenuItems:!0,styleFocusElement:!0,useArrowKeysForNavigation:!0,useEmptyFolderNodes:!0},t))},t.prototype.initialize=function(){var t=this,i;n.prototype.initialize.call(this);this._bind("mouseover",function(n){var u=$(n.target),i,r;i=u.closest("div.node-content, div.node-context-menu-container");i.length>0&&(r=i.closest("li.node"),t._setFocusElement(r))});this._bind("mouseout",function(){t._setFocusElement(null)});this._bind("click",k(this,this._click));this._bind("contextmenu",k(this,this._onContextMenu));this._bind("keydown",k(this,this._onInputKeyDown));$.isArray(this._options.nodes)&&this.rootNode.addRange(this._options.nodes);this._options.contextMenu&&this._options.contextMenu.contributionIds&&h.getService(r.ExtensionService).getContributionsForTargets(this._options.contextMenu.contributionIds);i=this._options.useBowtieStyle?"bowtie-tree":"basic-tree";this.getElement().addClass(i);this._draw();e.logTracePoint("TreeView.initialize.complete")},t.prototype._draw=function(){var n,i,r;this._focusedNode&&(n=this._getNode(this._focusedNode),i=$("<button>").appendTo("body").focus());this.getElement().empty();this._options.contextMenu&&(this._ariaDescribedById=String(u.getId()),$(w("div")).attr("id",this._ariaDescribedById).addClass("visually-hidden").text(s.TreeViewOptionsText).appendTo(this.getElement()));this._drawNode(this.rootNode,this.getElement(),-1);n?(r=this._getNodeElement(n),r.length>0&&this._getFirstTabbableChild(r).focus()):this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._getNode(this.getElement().find(t.NODE_VISIBLE_AND_FOCUSABLE).first()));i&&i.remove()},t.prototype._getNodeElement=function(n){return this.getElement().find("#tfs_tnli"+n.id).eq(0)},t.prototype._getNode=function(n){return n.data(b.NODE_DATA_NAME)},t.prototype.getSelectedNode=function(){return this._selectedNode},t.prototype.setSelectedNode=function(n,t){n&&n.config&&n.config.unselectable||(this._selectedNode&&(this._selectedNode.selected=!1),this._selectedNode=n,n&&(n.selected=!0,t||this._fire("selectionchanged",{selectedNode:n}),this._expandNodeParents(n,t),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(n)),this._updateSelections())},t.prototype.focus=function(){this._selectedNode&&(this._getNodeElement(this._selectedNode).children(".node-link").focus(),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._selectedNode))},t.prototype._expandNodeParents=function(n,t){for(var i=n,f=this.rootNode,r,u;i.parent;)i=i.parent,i===f||i.expanded||(i.expanded=!0,r=i);r&&(r.expanded=!1,u=this._getNodeElement(r),this._toggle(r,u,t))},t.prototype._updateSelections=function(){var n=this;this.getElement().find("li.node").each(function(){var i=$(this),t;t=n._getNode(i);t&&(i.toggleClass("selected",t.selected),i.find(".node-link").each(function(){var n=$(this);n.attr("aria-selected",t.selected)}))})},t.prototype._updateNode=function(n,t,i){var r,u,e,s,o;if(n.addClass("node"),!t.root){if(n.attr("id","tfs_tnli"+t.id),n.attr("role","presentation"),t.draggable&&this._draggable&&n.draggable(this._draggable),t.droppable&&this._droppable&&n.droppable(this._droppable),this._draggable&&this._bind(n,"selectstart",function(n){n.preventDefault()}),t.selected&&n.addClass("selected"),t.noFocus&&n.addClass("nofocus"),t.folder&&n.addClass("folder"),t.config&&t.config.css&&n.addClass(t.config.css),r=$("<a />").addClass("node-link").attr("role","treeitem"),this._options.contextMenu&&!t.noContextMenu){var h=$(w("div","node-context-menu-container node-context-menu")).attr("title",""),c=$(w("span","node-context-menu-icon")),l=this._options.useBowtieStyle?"bowtie-icon bowtie-ellipsis":"icon icon-drop";c.addClass(l);h.append(c);n.append(h);r.attr("aria-describedby",this._ariaDescribedById)}else t.noContextMenu&&n.append($(w("div","node-context-menu-container node-no-context-menu")));this._draggable&&this._bind(r,"dragstart",this._dragStartDelegate);t.link&&r.attr("href",t.link);t.linkDelegate&&$.isFunction(t.linkDelegate)&&this._bind(r,"click",t.linkDelegate);r.attr("aria-level",i+1);t.noFocus||(this._options.useArrowKeysForNavigation?r.attr("tabindex",-1):r.attr("tabindex",0),this._bind(r,"focus",this._focusDelegate),this._bind(r,"blur",this._blurDelegate));u=$("<div />").addClass("node-content").text(t.text||"");this._draggable&&this._bind(u,"dragstart",this._dragStartDelegate);e=4;this._options.showIcons&&(e=0,s=this._options.onRenderIcon&&this._options.onRenderIcon(t),s?u.prepend($(s)):t.icon&&$("<span />").addClass("icon tree-node-img").addClass(t.icon).prependTo(u));t.noTreeIcon||(o="icon",this._options.useBowtieStyle&&(o="bowtie-icon",(t.hasChildren()||t.folder&&this._options.useEmptyFolderNodes)&&(o+=" bowtie-chevron-right")),$(w("span","node-img "+o)).prependTo(u));e=this._options.useBowtieStyle?e+4:e;u.css("padding-left",e+i*12);r.append(u);n.append(r);this._options.setTitleOnlyOnOverflow!==!1?f.RichContentTooltip.addIfOverflow(t.text||"",u):n.attr("title",t.text||"")}return n.data(b.NODE_DATA_NAME,t),n.data(b.LEVEL_DATA_NAME,i),(t.hasChildren()||t.folder&&this._options.useEmptyFolderNodes)&&this._drawChildren(t,n,i),u},t.prototype._drawChildren=function(n,t,i){var r,u,f;if(n.root||n.expanded){if(f=n.children.length,this._setNodeElementExpandState(t,!0,f>0),r=$(w("ul","tree-children")).attr("id","tfs_tnul"+n.id).attr("role",n.root?"tree":"group"),typeof i=="undefined"&&(i=t.data(b.LEVEL_DATA_NAME)),i=i+1,f===0)this._drawEmptyFolderNode(r,i,n.emptyFolderNodeText||this._options.defaultEmptyFolderNodeText||s.NoItemsInThisFolder);else for(u=0;u<f;u++)this._drawNode(n.children[u],r,i);t.append(r)}else this._setNodeElementExpandState(t,!1)},t.prototype._toggle=function(n,t){return n&&(n.folder||n.hasChildren())?(n.expanded?(n.expanded=!1,t.find("ul.tree-children:first").remove()):(n.expanded=!0,this._drawChildren(n,t)),this._setNodeElementExpandState(t,n.expanded),!0):!1},t.prototype._setNodeExpansion=function(n,t,i){return n.expanded!==i?this._toggle(n,t):!1},t.prototype.removeNode=function(n){var u,i,r,t,f;if(this._options.useArrowKeysForNavigation){if(u=this._getNodeElement(n),i=void 0,n.parent){for(r=n.parent.children.indexOf(n),t=r-1;t>=0;t--)if(!n.parent.children[t].noFocus){i=n.parent.children[t];break}if(!i){for(t=r+1;t<n.parent.children.length;t++)if(!n.parent.children[t].noFocus){i=n.parent.children[t];break}i||(i=n.parent)}}f=this._getNodeElement(n).is(this._focusedNode);u.remove();n.remove();this._restoreTabindexAndFocus(i,f)}else this._getNodeElement(n).remove(),n.remove()},t.prototype.updateNode=function(n,t){var i,r,u;n.root?(i=this.getElement(),r=-1):(i=this._getNodeElement(n),r=i.data(b.LEVEL_DATA_NAME),i.removeClass());u=i.is(this._focusedNode);i.data("ui-draggable")&&i.draggable("destroy");i.data("ui-droppable")&&i.droppable("destroy");i.empty();this._updateNode(i,n,r);this._options.useArrowKeysForNavigation&&!t&&this._restoreTabindexAndFocus(n,u)},t.prototype.onItemClick=function(n,t){if(this._options.clickToggles&&this._toggle(n,t))return!1;this._options.clickSelects&&this.setSelectedNode(n)},t.prototype.onShowPopupMenu=function(n,t){var r,i,f,e,s;if(t&&t.items&&t.items.length){if(i=this._getNodeElement(n),f=this._getFirstTabbableChild(i)[0],e=i.find("div.node-context-menu"),this._popupMenu){if(i.hasClass("context-menu-active")){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(f,e);return}this._popupMenu.dispose();this._popupMenu=null}r=t.items.slice(0);t.sortMenuItems&&r.sort(function(n,t){return(n.rank||9999)-(t.rank||9999)});s=$.extend({},n);this._popupMenu=u.BaseControl.createIn(o.PopupMenu,i,{align:t.align||(this._options.useBowtieStyle?"right-bottom":"left-bottom"),useBowtieStyle:this._options.useBowtieStyle,executeAction:t.executeAction||t.clickHandler,items:[{childItems:r}],onActivate:function(){i.addClass("context-menu-active")},onDeactivate:function(){i.removeClass("context-menu-active")},onPopupEscaped:function(){i.removeClass("context-menu-active")},getCommandState:t.getCommandState,updateCommandStates:t.updateCommandStates,arguments:t.arguments,contributionIds:t.contributionIds,contextInfo:{item:s,menu:this._popupMenu},suppressInitContributions:t.suppressInitContributions});this._popupMenu.getElement().prependTo(i);l.delay(this,10,function(){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(f,e)})}},t.prototype.enableFocusStyling=function(n){this._options.styleFocusElement!==n&&(this._options.styleFocusElement=n,this._setFocusElement(this._focusedNode))},t.prototype._setFocusElement=function(n){var t=this._options.styleFocusElement;this._focusedNode&&this._focusedNode.length&&this._focusedNode.removeClass("focus");this._focusedNode=n;t&&this._focusedNode&&this._focusedNode.length&&(this._focusedNode.hasClass("nofocus")||this._focusedNode.addClass("focus"))},t.prototype.getNodeFromElement=function(n){var t=$(n);return this._getNode(t)},t.prototype._drawNode=function(n,t,i){var r;r=n.root?t:$("<li />").appendTo(t);this._updateNode(r,n,i)},t.prototype._drawEmptyFolderNode=function(n,t,i){var r,u;u=$("<li />").appendTo(n);r=new d(i);r.isEmptyFolderChildNode=!0;r.config.css="info";r.config.unselectable=!0;r.noFocus=!0;r.noContextMenu=!0;this._updateNode(u,r,t)},t.prototype._click=function(n){var t=$(n.target),i=t.closest("li.node");if(i.length>0){if(this._options.useArrowKeysForNavigation&&i.children("a.node-link").focus(),this._setFocusElement(i),t.closest("span.node-img").length>0)return this._onToggle(n);if(t.closest("div.node-content").length>0)return this._itemClick(n);if(t.closest("div.node-context-menu").length>0)return this._onContextMenu(n)}},t.prototype.focusOnNode=function(n){if(n&&!n.noFocus){var t=this._getNodeElement(n);t.length>0&&t.children("a.node-link").focus()}},t.prototype._onInputKeyDown=function(n){var f=this,e=$(n.target),i=e.closest("li.node"),r=this._getNode(i),u=function(n,t){var i=t(n);if(i.length>0)return i.children("a.node-link").focus(),!1};switch(n.keyCode){case p.RIGHT:return r&&r.expanded===!0&&this._options.useArrowKeysForNavigation?u(i,function(n){return n.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).first()}):(this._setNodeExpansion(this._getNode(i),i,!0),!1);case p.LEFT:return r&&r.expanded===!1&&this._options.useArrowKeysForNavigation?u(i,function(n){return n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first()}):(this._setNodeExpansion(this._getNode(i),i,!1),!1);case p.DOWN:if(this._options.useArrowKeysForNavigation)return u(i,function(n){var o=f.getNodeFromElement(n),r,u,i,e;if(o&&o.expanded===!0&&(r=n.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).first(),r.length===1))return r;if(u=n.nextAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),u.length===1)return u;for(i=n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first();i.length===1;){if(e=i.nextAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),e.length===1)return e;i=i.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first()}return $([])});case p.UP:if(this._options.useArrowKeysForNavigation)return u(i,function(n){var i=n.prevAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),r,u,e;return i.length===1?(r=f.getNodeFromElement(i),r&&r.expanded===!0&&(u=i.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).last(),u.length===1))?u:i:(e=n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first(),e.length===1)?e:$([])});case p.ENTER:if(!$(".node-link",i).attr("href")){this.onItemClick(r,i,n);return!1}break;case p.F10:return n.shiftKey?this._onContextMenu():void 0}},t.prototype._onToggle=function(n){var t=$(n.target).parents("li.node:first"),i=this._getNode(t);return $.isFunction(this._options.onItemToggle)&&this._options.onItemToggle.call(this,i),this._toggle(i,t),!1},t.prototype._itemClick=function(n){var t=$(n.target).closest("li.node"),i=this._getNode(t);return this.onItemClick(i,t,n)},t.prototype._onContextMenu=function(){if(this._options.contextMenu&&this._focusedNode&&this._focusedNode.length>0)return this._showPopupMenu(this._getNode(this._focusedNode)),!1},t.prototype._showPopupMenu=function(n){var t,i;if(n){t=n.contextMenu;i=typeof t!="undefined"?$.isFunction(t)?t.call(this,n):t:this._options.contextMenu;this.onShowPopupMenu(n,i)}},t.prototype._onFocus=function(n){var t=$(n.target).closest("li.node");t.length>0&&(this._setFocusElement(t),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._getNode(this._focusedNode)));this.getElement().toggleClass("focus",!0);this._hasFocus=!0},t.prototype._onBlur=function(){this._setFocusElement(null);this._clearFocusOnElement()},t.prototype._clearFocusOnElement=function(){this.getElement().toggleClass("focus",!1);this._hasFocus=!1},t.prototype._onDragStart=function(){return!1},t.prototype.setDroppable=function(n){this._droppable=n},t.prototype._getFirstTabbableChild=function(n){return n.children("a.node-link, div.node-content[tabIndex]").first()},t.prototype._setNodeElementExpandState=function(n,t,i){i===void 0&&(i=!0);n.removeClass(b.EXPANDED_CLASS+" "+b.COLLAPSED_CLASS);n.addClass(t?b.EXPANDED_CLASS:b.COLLAPSED_CLASS);var r=this._getFirstTabbableChild(n);r.length>0&&i&&r.attr("aria-expanded",""+t)},t.prototype._restoreTabindexAndFocus=function(n,t){if(this._nodeHasTabindex){var i=this._getNodeElement(this._nodeHasTabindex);if(i.is(":visible")){this._setNodeHasTabindex(this._nodeHasTabindex);t&&i.children("a.node-link").focus();return}}this._setNodeHasTabindex(n);t&&this._getNodeElement(n).children("a.node-link").focus()},t.prototype._setNodeHasTabindex=function(n){var t,i;n&&(this._nodeHasTabindex&&(t=this._getNodeElement(this._nodeHasTabindex),t.removeClass("has-tab-index"),t.children("a.node-link").attr("tabindex",-1)),this._nodeHasTabindex=n,i=this._getNodeElement(this._nodeHasTabindex),i.addClass("has-tab-index"),i.children("a.node-link").attr("tabindex",0))},t._typeName="tfs.treeView",t.NODE_DATA_NAME="node-data",t.LEVEL_DATA_NAME="node-level",t.EXPANDED_CLASS="expanded",t.COLLAPSED_CLASS="collapsed",t.NODE_VISIBLE_AND_FOCUSABLE="li.node:visible:not(.nofocus)",t}(u.Control);t.TreeViewO=it;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(it);t.TreeView=b;y.initClassPrototype(b,{rootNode:null,_focusDelegate:null,_blurDelegate:null,_dragStartDelegate:null,_hasFocus:!1,_selectedNode:null,_draggable:null,_droppable:null,_focusedNode:null,_popupMenu:null});u.Enhancement.registerJQueryWidget(b,"treeView");tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"tree",createItem:k(this,this._createItem),itemClick:k(this,this._onItemClick),dropPopupRole:"treeview",virtualizingListViewRole:"tree"},t))},t.prototype.expandNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&!n.expanded?(this.getDataSource().expandNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.collapseNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&n.expanded?(this.getDataSource().collapseNode(n),this.virtualizingListView.update(),!0):!1},t.prototype._createItem=function(n){var t=this.getDataSource().getItem(n),i=$(w("li",this._options.nodeCss)),s=t.level(!0),o,r,u,e;return i.attr({id:t.getHtmlId(),role:"treeitem","aria-posinset":t.parent.children.indexOf(t)+1,"aria-setsize":t.parent.children.length,"aria-level":s+1}),t.hasChildren()&&(i.addClass(t.expanded?"expanded":"collapsed"),i.attr("aria-expanded",String(t.expanded)),o=$("<ul><\/ul>"),i.append(o),o.attr({id:t.getHtmlId()+"_group",role:"group","aria-owns":t.children.map(function(n){return n.getHtmlId()}).join(" ")})),r=$(w("div","node-content")).css("padding-left",s*10),$(w("span","node-img icon")).appendTo(r),this._options.showIcons&&t.icon&&$(w("span",t.icon)).appendTo(r),u=t.text||"",e=$(w("span","text")).text(u),this._options.setTitleOnlyOnOverflow!==!1?f.RichContentTooltip.addIfOverflow(u,r):e.attr("title",u),t.isSearchHit&&e.addClass("searchHit"),r.append(e),i.append(r),i},t.prototype._onItemClick=function(n,t,i){var r,u;return i.hasClass("node-img")&&(u=this.getDataSource(),r=u.getItem(t),r.hasChildren())?(r.expanded?(u.collapseNode(r),this.combo._fire("treeNodeCollapsed")):(u.expandNode(r),this.combo._fire("treeNodeExpanded")),this.virtualizingListView.update(),!1):!0},t.prototype._getSelectedNode=function(){return this.getDataSource().getItem(this.virtualizingListView.getSelectedIndex())},t}(i.ComboListDropPopup);t.ComboTreeDropPopup=tt;rt=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:tt,sepChar:"\\",treeLevel:2},i))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyUp=function(t){return this.isDropVisible()?!1:n.prototype.keyUp.call(this,t)},t.prototype._createDataSource=function(){return new nt(this._options)},t}(i.ComboListBehavior);t.ComboTreeBehavior=rt;t.ComboTreeBehaviorName="tree";i.Combo.registerBehavior(t.ComboTreeBehaviorName,rt);ut=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._checkStates={},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"tree",createItem:k(this,this._createItem),itemClick:k(this,this._onItemClick)},t))},t.prototype.initialize=function(){this._options.id||(this._options.id="ctmvdp_"+u.getId());this._updateCheckList();n.prototype.initialize.call(this)},t.prototype.expandNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&!n.expanded?(this.getDataSource().expandNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.collapseNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&n.expanded?(this.getDataSource().collapseNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.getCheckedItems=function(){var t=this,n=this.getDataSource();return $.map(n.getItems(!0),function(i,r){return i=n.getItemText(r,!0),t._checkStates[i]?i:void 0})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.multiJoinChar)},t.prototype._createItem=function(n){var f=this.getDataSource(),t=f.getItem(n),r,i,e=this._options.id+"_cb"+n,o=this._checkStates[f.getItemText(n)],s=t.level(!0),h=this._options.id+"_label"+n,u,c;return r=$(w("li",this._options.nodeCss)).attr({id:this._options.id+"_li"+n,"aria-checked":o?"true":"false","aria-level":s+1,"aria-posinset":t.parent.children.indexOf(t)+1,"aria-setsize":t.parent.children.length,"aria-labelledby":h}),t.hasChildren()&&r.addClass(t.expanded?"expanded":"collapsed"),i=$(w("div","node-content")).css("padding-left",s*10),$(w("span","node-img icon")).appendTo(i),this._options.showIcons&&t.icon&&$(w("span",t.icon)).appendTo(i),u=$(w("input","cb")).data("value",t.text||"").attr("title",t.text||"").attr("type","checkbox").attr("id",e).data("index",n),c=$(w("label","text")).attr({"for":e,id:h,title:t.text||""}).text(t.text||""),o&&u.prop("checked",!0),t.isSearchHit&&u.addClass("searchHit"),i.append(u),i.append(c),r.append(i),r},t.prototype._onItemClick=function(n,t,i,r){var u=this.getDataSource(),f=u.getItem(t);if(i.hasClass("node-img")&&(this._fireDropPopupChange(u,t,r),f.hasChildren()))return f.expanded?u.collapseNode(f):u.expandNode(f),this.virtualizingListView.update(),!1;(i.hasClass("text")||i.hasClass("cb"))&&this._fireDropPopupChange(u,t,r)},t.prototype._getSelectedNode=function(){return this.getDataSource().getItem(this.virtualizingListView.getSelectedIndex())},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this.getDataSource().getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype.update=function(){this._updateCheckList();n.prototype.update.call(this)},t.prototype._updateCheckList=function(){var n=this.combo.getText().split(this._options.multiJoinChar),t=this;this._clearCheckList();$.each(n,function(n,i){i=$.trim(i);i&&(t._checkStates[i]=!0)})},t.prototype._clearCheckList=function(){this._checkStates={}},t.prototype._fireDropPopupChange=function(n,t,i){var u,r,f=n.getItemText(t);u=Boolean(this._checkStates[f]);r=Boolean(i.find("input").prop("checked"));this._checkStates[f]=r;u!==r&&this._fireChange()},t}(i.ComboListDropPopup);t.MultiSelectTreeComboDropPopup=ut;ft=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:ut,sepChar:"\\",joinChar:"\\",multiJoinChar:"; ",treeLevel:2},i))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getDropOptions=function(){var t=this;return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,multiJoinChar:this._options.multiJoinChar,selectedIndex:-1,selectionChange:function(){t.combo.updateAriaActiveDescendant()},change:k(this,this._onChange)})},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyUp=function(t){return this.isDropVisible()?!1:n.prototype.keyUp.call(this,t)},t.prototype.upKey=function(t){this.isDropVisible()&&n.prototype.upKey.call(this,t)},t.prototype.downKey=function(t){this.isDropVisible()?n.prototype.downKey.call(this,t):this.showDropPopup()},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===p.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._createDataSource=function(){return new nt(this._options)},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t.prototype.setSource=function(t){if(JSON.stringify(t)===JSON.stringify(this.getDataSource().getSource())){this._maxItemLength=null;return}n.prototype.setSource.call(this,t)},t}(i.ComboListBehavior);t.MultiSelectTreeComboBehavior=ft;t.ComboTreeMultivalueBehaviorName="treeMultiValue";i.Combo.registerBehavior(t.ComboTreeMultivalueBehaviorName,ft);et=function(n){function t(t,i){var r=n.call(this,t,$.extend({dropControlType:tt,sepChar:"\\",treeLevel:2},i))||this;return r.hitText=[],r.selectedHitIndex=-1,r.originalNodes=null,r.lastSearchText="",r.debounceWaitTime=300,r.textHasChanged=!1,r}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.combo._bind(this.combo.getInput(),"mouseup",k(this,this.mouseUp))},t.prototype.canType=function(){return!0},t.prototype.getAriaAutocomplete=function(){return"list"},t.prototype.getAriaDescription=function(){return s.ComboSearchTreeScreenReaderHelp},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyDown=function(t){var i=t.keyCode||t.charCode,r;return this.isDropVisible()&&(i===p.ENTER||i===p.TAB)&&!this.searchDebounceTimeout&&(r=this.combo.getText(),r===this.lastSearchText)?(this.acceptSelectedIndex(),!0):i===p.TAB&&this.searchDebounceTimeout?(this.clearSearchDebounce(),!0):n.prototype.keyDown.call(this,t)},t.prototype.keyUp=function(t){var i=t.keyCode||t.charCode,r=n.prototype.keyUp.call(this,t);if(this._options.mode!=="text"&&!this.isComboTextPath()){if(i===p.ENTER)return this.debounceSearch(0),!0;if(i===p.UP||i===p.DOWN||i===p.PAGE_UP||i===p.PAGE_DOWN||i===p.ESCAPE||this.isDropVisible()&&(i===p.LEFT||i===p.RIGHT))return this.clearSearchDebounce(),!0;this.debounceSearch(this.debounceWaitTime)}return r},t.prototype._createDataSource=function(){return new nt(this._options)},t.prototype.mouseUp=function(){if($.isFunction(this._options.onMouseUp)){this._options.onMouseUp.call(this);return}if(!this.textHasChanged){this.lastSearchText=this.combo.getText();this.textHasChanged=!0;return}this.debounceSearch(this.debounceWaitTime)},t.prototype.clearSearchDebounce=function(){clearTimeout(this.searchDebounceTimeout);this.searchDebounceTimeout=null},t.prototype.debounceSearch=function(n){var t=this,i=function(){t.searchDebounceTimeout=null;t.searchNodes()};clearTimeout(this.searchDebounceTimeout);this.searchDebounceTimeout=setTimeout(i,n)},t.prototype.isComboTextPath=function(){var n=this.combo.getText();return n.indexOf("\\")>=0},t.prototype.searchNodes=function(){var n=this.combo.getText(),i,t,r;if(this._ensureOriginalNodesStored(),this.lastSearchText!==n){i=Date.now();this.hitText=[];this.selectedHitIndex=-1;t=!1;n===""||this.isComboTextPath()||(r=this.getNodesToSearch(n),t=this.createCopyOfSubtreeWhichMatchesSearch(n,r));this.modifyDatasourceAndDropdownWithResults(t);var u=Date.now(),f={SearchText:n,SearchTimeTaken:u-i};c.publishEvent(new c.TelemetryEventData(ot,"TreeSearch",f));this.lastSearchText=n}},t.prototype._ensureOriginalNodesStored=function(){if(!this.originalNodes){var n=this._dataSource;this.originalNodes=n.getItems(!0)}},t.prototype.getNodesToSearch=function(n){var t=this._dataSource;return this.lastSearchText!==""&&a.startsWith(n,this.lastSearchText)?t.getItems(!1):this.originalNodes},t.prototype.createCopyOfSubtreeWhichMatchesSearch=function(n,t){var r=this._dataSource,o=[],s=!1,u,f,e,i,h,l,a;for(r.root=this.copyNodeToArray(o,r.root),r.root.root=!0,u=t.length,e=0,i=0;i<u;i++)f=t[i],h=f.text,this.stringContains(h,n)&&(s=!0,this.performSearchHitProcessing(o,f),e++);return l={SearchText:n,SearchResultCount:e.toString(),CountOfItemsSearched:u.toString()},a="TreeSearch",c.publishEvent(new c.TelemetryEventData(ot,a,l)),s},t.prototype.stringContains=function(n,t){return a.caseInsensitiveContains(n,t)},t.prototype.modifyDatasourceAndDropdownWithResults=function(n){var t=this._dataSource,i,r,u;n||(this.hideDropPopup(),this.selectedHitIndex=-1,t.root=this.originalNodes[0].parent);i=[];r=[];g(t.root,i,!1);g(t.root,r,!0);t.setItems(i,r);n&&(this.showDropPopup(),u=this.getDropPopup(),u.virtualizingListView.update(),this.selectedHitIndex=0,this.setHit(this.selectedHitIndex))},t.prototype.expandAncestors=function(n){for(n=n.parent;n&&!n.expanded;)n.expanded=!0,n=n.parent},t.prototype.performSearchHitProcessing=function(n,t){this.copyNodeAndAncestorsToArray(n,t);this.copyDecendantsToArray(n,t);this.hitText[this.hitText.length]=t.path(!1,"\\");t=n[t.id];t.expanded=!1;this.expandAncestors(t);t.isSearchHit=!0},t.prototype.copyNodeToArray=function(n,t){var i=new d(t.text,t.config);return i.id=t.id,n[i.id]=i,i},t.prototype.copyNodeAndAncestorsToArray=function(n,t){if(!n[t.id]){var i=this.copyNodeToArray(n,t);t.parent&&(this.copyNodeAndAncestorsToArray(n,t.parent),n[t.parent.id].add(i))}n[t.id].expanded=!0},t.prototype.copyDecendantsToArray=function(n,t){var u,i,r;if(t.hasChildren)for(u in t.children)i=t.children[u],n[i.id]||(r=this.copyNodeToArray(n,i),r.expanded=!1,n[i.parent.id].add(r),this.copyDecendantsToArray(n,i))},t.prototype.setHit=function(n){if(n<0||n>=this.hitText.length)return!1;var i=this.hitText[n],t=this.getDropPopup();return t&&t.setSelectedValue(i),!0},t.prototype.acceptSelectedIndex=function(){this.selectedHitIndex>=0&&this.selectedHitIndex<this.hitText.length&&this.setText(this.hitText[this.selectedHitIndex],!0)},t}(i.ComboListBehavior);t.SearchComboTreeBehavior=et;t.SearchComboTreeBehaviorName="treeSearch";i.Combo.registerBehavior(t.SearchComboTreeBehaviorName,et);t.flatten=g;y.tfsModuleLoaded("VSS.UI.Controls.TreeView",t)});

define("DistributedTaskControls/Components/PickList",["require","exports","q","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/FetchingCombo","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Controls","VSS/Controls/Combos","VSS/Controls/TreeView","VSS/Flux/PlatformComponent","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._data=[],t._type=o.ComboTypeOptionsConstants.ListType,t._editable=!1,t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this.props.properties;this._multiSelectType=f.PickListInputUtility.getMultiSelectType(n);n&&(n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT]&&n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT].toLowerCase()===r.BOOLEAN_TRUE?this._type=s.ComboTreeMultivalueBehaviorName:n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&n[r.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST].toLowerCase()===r.BOOLEAN_TRUE&&(this._type=o.ComboTypeOptionsConstants.MultiValueType),n[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS]&&n[r.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS].toLowerCase()===r.BOOLEAN_TRUE&&(this._editable=!0))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._updateAriaAttributes();this.props.options&&this.updateSource(this.props.options,this.props.selectedValues,this.props.enabled)},t.prototype.createControl=function(n){var t=this,i;if(!this._control)return i=e.BaseControl.createIn(u.FetchingCombo,n,{change:function(){var u,e,n,o,l,s,i,h;switch(t._multiSelectType){case r.PICKLIST_MULTI_SELECT_TREE_TYPE:if(u=t._control.getText().split(r.SemiColonWithSpace)||[],e=f.PickListInputUtility.findIds(u,t._data),t._setValue((e||[]).join(r.CommaSeparator)),u.length===e.length)t.props.onChanged(t._getValue());else t.props.onChanged("");break;case r.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE:if(n=[],o=t._control.getText().split(r.CommaSeparatorWithSpace)||[],o.forEach(function(i){var u;for(var f in t._options)if(t._options.hasOwnProperty(f)&&t._options[f]===i.trim()){u=f;n.push(u);break}t._editable&&(u===null||u===undefined)&&i.trim()!==c.empty&&i[i.length-1]!==r.CommaSeparator&&n.push(i)}),t._editable&&o.length!==n.length){l=t._control.getText();t._setValue(l);t.props.onChanged("")}else{t._setValue(n.join(r.CommaSeparator));t.props.onChanged(t._getValue())}break;default:s=t._control.getText();i=void 0;for(h in t._options)t._options[h]===s&&(i=h);i!==null&&i!==undefined?t._setValue(i):t._setValue(s);t.props.onChanged(t._getValue())}},type:this._type,refreshData:function(){return t._refreshDataSource()},hasNoResultsSection:!0,enabled:this.props.enabled,allowEdit:this._editable,ariaAttributes:{label:this.props.ariaLabel,labelledby:this.props.ariaLabelledBy,describedby:this.props.ariaDescribedBy,required:this.props.ariaRequired},maxAutoExpandDropWidth:300}),this._setValue(this.props.selectedValues||c.empty),i},t.prototype.updateSource=function(n,t,i){var v=this,a,e,s,o,l,u,h;if(!this._control.isDisposed()){this._data=[];this._options=n;this._setValue(t);this._control.setEnabled(i);switch(this._multiSelectType){case r.PICKLIST_MULTI_SELECT_TREE_TYPE:for(u in n)n.hasOwnProperty(u)&&this._data.push(f.PickListInputUtility.tryParseJSON(n[u]).jsonObject);this._control.setSource(this._data);a=this._value||this._value===c.empty?this._getValue().split(r.CommaSeparator):this.props.selectedValues.split(r.CommaSeparator)||[];this._editable&&this._control&&this._control.getText()!==c.empty||this._control.setText(f.PickListInputUtility.findItems(a,this._data).join(r.SemiColonWithSpace));break;case r.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE:e=[];for(u in n)n.hasOwnProperty(u)&&e.push(n[u]);e=e.sort(c.ignoreCaseComparer);this._control.setSource(e);s=this._value||this._value===c.empty?this._getValue().split(r.CommaSeparator):this.props.selectedValues.split(r.CommaSeparator)||[];o=[];s&&s.forEach(function(t){n.hasOwnProperty(t)?o.push(n[t]):t!==c.empty&&v._editable&&o.push(t)});this._editable&&s.length!==o.length||this._control.setText(o.join(r.CommaSeparatorWithSpace));break;default:l=[];for(u in n)n.hasOwnProperty(u)&&l.push(n[u]);this._control.setSource(l);h=this._value||this._value===c.empty?this._getValue():this.props.selectedValues||c.empty;n[h]?this._control.setText(n[h]):this._control.setText(h)}}},t.prototype._updateAriaAttributes=function(){this._control&&this._control.getInput().attr({"aria-describedby":this.props.ariaDescribedBy})},t.prototype._getValue=function(){var n=this._value;return n?n:c.empty},t.prototype._refreshDataSource=function(){var n=i.defer(),t;return this.props.refreshCallback?(t=this.props.refreshCallback(),t?t.then(function(){n.resolve(!0)},function(t){n.reject(t)}):n.resolve(!0)):n.resolve(!1),n.promise},t.prototype._setValue=function(n){this._value=n},t}(h.Component);t.PickList=l});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListDropdown",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","OfficeFabric/Utilities","OfficeFabric/Selection","VSSUI/Components/PickList/PickListDropdown"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n){var i=n.selectedItems,r=t._getSelectedItemsKeysFromValues(i);if(t.props.onChanged)t.props.onChanged(r.join(u.CommaSeparator))},t._getSelectedValues=function(){var n=t.props.selectedValues&&t.props.selectedValues.split(u.CommaSeparator)||[],i=t._getSelectedItemValuesFromKeys(n);return n.length!==i.length&&(i=n),i},t._getPickListDisplayOptions=function(){var n=t.props.options,i,r;if(t.props.getPickListItems)return t.props.getPickListItems(n);i=[];for(r in n)n.hasOwnProperty(r)&&i.push(n[r]);return i},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._multiSelectType=f.PickListInputUtility.getMultiSelectType(this.props.properties)},t.prototype.render=function(){return this._getPickListComponent()},t.prototype._getPickListComponent=function(){var n;switch(this._multiSelectType){case u.PICKLIST_MULTI_SELECT_TREE_TYPE:n=this._getTreeViewPickList();break;case u.PICKLIST_MULTI_SELECT_FLAT_LIST_TYPE:n=this._getPickListDropDown(s.SelectionMode.multiple);break;default:n=this._getPickListDropDown(s.SelectionMode.single)}return n},t.prototype._getTreeViewPickList=function(){return i.createElement(e.ErrorComponent,{cssClass:"tree-dropdown-not-implement",errorMessage:"Tree dropdown is not implemented yet."})},t.prototype._getPickListDropDown=function(n){return i.createElement(h.PickListDropdown,{className:o.css("dtc-picklist-dropdown",this.props.cssClass),selectionMode:n,getPickListItems:this._getPickListDisplayOptions,selectedItems:this._getSelectedValues(),onSelectionChanged:this._onChanged,ariaLabelFormat:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy,showSelectAll:this.props.showSelectAll})},t.prototype._getSelectedItemValuesFromKeys=function(n){var t=[],i=this.props.options;return n&&i&&n.forEach(function(n){var r=i[n];r!==null&&r!==undefined&&t.push(r)}),t},t.prototype._getSelectedItemsKeysFromValues=function(n){var i=[],t=this.props.options;return n&&t&&n.forEach(function(n){var r,u;for(r in t)u=t[r],u===n&&i.push(r)}),i},t}(r.Component);t.PickListDropdown=c});

define("DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Icon","OfficeFabric/components/TextField/TextField.scss","OfficeFabric/Utilities","VSS/Utils/String","DistributedTaskControls/Components/MarkdownRenderer"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._setErrorMessage=function(n){var t,i;n===void 0&&(n=!1);r.props.onGetErrorMessage&&(t=r.props.onGetErrorMessage()||o.empty,(t||t===o.empty)&&(typeof t=="string"?r._setErrorMessageState(t,!n):(i=++r._lastValidation,t.then(function(t){i===r._lastValidation&&r._setErrorMessageState(t,!n)}))))},r._lastValidation=0,r.state={errorMessage:""},r._delayedSetErrorMessage=(new e.Async).debounce(r._setErrorMessage,t.__validationDelayMs),r}return __extends(t,n),t.prototype.render=function(){var n="required-indicator",t=this.state.errorMessage,r=null,o=i.createElement(s.Component,{markdown:t});return t&&(n+=" required-value-missing",r=i.createElement("p",{className:e.css("ms-TextField-errorMessage ms-u-slideDownIn20 ms-slideDownIn20 required-indicator-error-message",this.props.cssClass,f.errorMessage),"aria-live":"assertive"},i.createElement(u.Icon,{iconName:"Error",className:"required-indicator-error-icon"}),o)),i.createElement("div",{className:"fabric-style-overrides"},i.createElement("div",{className:n},this.props.children,r))},t.prototype.componentDidMount=function(){this._isMounted=!0;this._setErrorMessage(!0)},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentWillReceiveProps=function(){this._delayedSetErrorMessage()},t.prototype._setErrorMessageState=function(n,t){var i=this.state.errorMessage;if(this._isMounted&&!o.equals(n,i,!0)&&(this.setState({errorMessage:n}),t&&this.props.onNotifyValidationResult))this.props.onNotifyValidationResult(n,this.props.value)},t.__validationDelayMs=500,t}(r.Component);t.Component=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListInputComponent",["require","exports","react","q","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/Components/PickList","DistributedTaskControls/SharedControls/InputControls/Components/PickListDropdown","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/Common","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","OfficeFabric/Button","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/PickListInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var k,b;Object.defineProperty(t,"__esModule",{value:!0});k=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getErrorMessage=function(){return t.getErrorMessage(t.getInputValue())},t}return __extends(t,n),t.prototype.getType=function(){return e.InputControlType.INPUT_TYPE_PICK_LIST},t.prototype.getControl=function(){return y.logVerbose("[PickListInputComponent.getControl]: Method called."),i.createElement(b,{properties:this.props.properties,value:this.state.value,label:this.props.label,onChanged:this.onValueChanged,getErrorMessage:this._getErrorMessage,options:this.props.options,disabled:this.props.disabled,enableRefresh:this.props.enableRefresh,onRefresh:this.props.onRefresh,enableManage:this.props.enableManage,onManageClick:this.props.onManageClick,onOptionsChanged:this.props.onOptionsChanged,ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),ariaLabel:this.props.ariaLabel,useNewPickListDropdown:this.props.useNewPickListDropdown,pickListInputClassName:this.props.pickListInputClassName,required:this.props.required,onNotifyValidationResult:this.props.onNotifyValidationResult,showSelectAll:this.props.showSelectAll,getPickListItems:this.props.getPickListItems})},t}(f.InputBase);t.PickListInputComponent=k;b=function(n){function t(t){var i=__construct(this,n,[t]);for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._onRefreshClick=function(n){i._onRefresh(n);a.delay(i,500,function(){i._optionsRefreshed||i.setState({showLoadingIcon:!0})})},i._onRefresh=function(){i._optionsRefreshed=!1;i.props.onRefresh().then(function(n){if(i._optionsRefreshed=!0,i.setState({showLoadingIcon:!1}),i.props.onOptionsChanged)i.props.onOptionsChanged(n)},function(){i._optionsRefreshed=!0;i.setState({showLoadingIcon:!1})})},i._onManageClick=function(){i.props.onManageClick&&i.props.onManageClick()},i._onChanged=function(n){if(i.props.onChanged)i.props.onChanged(n)},i._getErrorMessage=function(){if(i.props.getErrorMessage)return i.props.getErrorMessage()},i._refreshIfRequired=function(){var n=r.defer();return i.props.onRefresh&&i.state.optionsMap&&Object.keys(i.state.optionsMap).length===0?i.props.onRefresh().then(function(t){if(t&&Object.keys(t).length>0&&i.props.onOptionsChanged)i.props.onOptionsChanged(t);n.resolve(!0)},function(t){n.reject(t)}):n.resolve(!0),n.promise},i._optionsRefreshed=!1,i.state={value:t.value||v.empty,optionsMap:t.options||{}},i}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._refreshIfRequired()},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value||v.empty,optionsMap:n.options||{}})},t.prototype.render=function(){var t=this,r=this.state.showLoadingIcon?"bowtie-icon bowtie-spinner":"picklist-refresh-icon",u=w.css({Refresh:!this.state.showLoadingIcon}),n=this._useNewPickListDropdown(),f=w.css("picklist-container",{"legacy-picklist":!n});return i.createElement("div",{className:f},i.createElement("div",{className:"picklist-dropdown"},i.createElement(h.Component,{value:this.state.value,onGetErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult},n?this._getNewPickListDropdown():this._getPickList())),i.createElement("div",{className:"input-control-buttons"},this.props.enableRefresh&&!this.props.disabled&&i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:function(n){return t._onRefreshClick(n)},iconProps:{iconName:u,className:r},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override","disabled-button-fix"),ariaLabel:c.Refresh,ariaDescription:v.localeFormat(c.RefreshInputDescription,this.props.label),"aria-disabled":this.props.disabled}),this.props.enableManage&&this._getManageButton()))},t.prototype._getManageButton=function(){var t=this,n=this.props.properties,r=n&&n[l.INPUT_TYPE_PROPERTY_MANAGE_BUTTON_NAME],u=n&&n[l.INPUT_TYPE_PROPERTY_MANAGE_ICON]||"Settings";return r?i.createElement(p.CommandButton,{disabled:this.props.disabled,onClick:function(n){return t._onManageClick(n)},iconProps:{iconName:u},className:w.css("input-control-icon-button","fabric-style-overrides","command-button-override"),ariaLabel:c.Manage,ariaDescription:v.localeFormat(c.ManageInputDescription,this.props.label),"aria-disabled":this.props.disabled},r):i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:function(n){return t._onManageClick(n)},iconProps:{iconName:u},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override","disabled-button-fix"),ariaLabel:c.Manage,ariaDescription:v.localeFormat(c.ManageInputDescription,this.props.label),"aria-disabled":this.props.disabled})},t.prototype._getPickList=function(){var n=this;return this._pickList?this._pickListControl.updateSource(this.state.optionsMap,this.state.value,!this.props.disabled):this._pickList=i.createElement("div",{className:"input-control-dropdown input-field-picklist"},i.createElement(o.PickList,{key:"pick-list-component",ref:function(t){n._pickListControl=t},selectedValues:this.state.value,refreshCallback:this._refreshIfRequired,properties:this.props.properties,onChanged:this._onChanged,enabled:!this.props.disabled,options:this.state.optionsMap,ariaLabel:this.props.ariaLabel,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.props.required})),this._pickList},t.prototype._getNewPickListDropdown=function(){return i.createElement("div",{className:"input-control-dropdown input-field-picklist"},i.createElement(s.PickListDropdown,{selectedValues:this.state.value,properties:this.props.properties,onChanged:this._onChanged,options:this.state.optionsMap,cssClass:this.props.pickListInputClassName,ariaLabel:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy,showSelectAll:this.props.showSelectAll,getPickListItems:this.props.getPickListItems}))},t.prototype._useNewPickListDropdown=function(){var n=this.props.properties&&this.props.properties[l.INPUT_TYPE_PROPERTY_MULTI_SELECT];return n&&n.toLowerCase()===l.BOOLEAN_TRUE?!1:!!this.props.useNewPickListDropdown},t}(u.Component);t.PickListInputBaseComponent=b});

define("DistributedTaskControls/SharedControls/InputControls/Components/SearchableComboBoxInputComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","DistributedTaskControls/Common/Telemetry","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/SearchableComboBoxInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var p,y,w;Object.defineProperty(t,"__esModule",{value:!0});p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return e.InputControlType.INPUT_TYPE_SEARCHABLE_COMBO_BOX},t.prototype.getControl=function(){return c.logVerbose("[SearchableComboBoxInputComponent.getControl]: Method called."),i.createElement(y,__assign({ref:this._resolveRef("_searchableComboBox"),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId()},this.props))},t.prototype.getBehavior=function(){return this._searchableComboBox.getBehavior()},t.prototype.getDropButton=function(){return this._searchableComboBox.getDropButton()},t}(f.InputBase);t.SearchableComboBoxInputComponent=p;y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._refreshIfRequired=function(){!i.props.onRefresh||i.props.onRefresh()},i._onValueChanged=function(n){var f=!!n,t,r=a.empty;t=i.state.items.some(function(t){return a.equals(t,n)});t||(r=i.props.getSearchButtonState().isMoreDataAvailable?u.SearchableComboGuidance:u.RequiredInputErrorMessage);i.setState({text:n,searchEnabled:i.props.getSearchButtonState().isMoreDataAvailable&&f,showErrorMessage:!t,errorMessage:!r?i.state.errorMessage:r},function(){if(!i.props.onCustomValueChanged){if(!!i.props.onValueChanged)i.props.onValueChanged(n)}else i.props.onCustomValueChanged(n)})},i._onSearchClick=function(){i._publishTelemetry(i.props.label);var n=i.state.text;i._mounted&&(i.setState({searchInProgress:!0,searchText:n}),i.props.onSearch(n).then(function(n){if(typeof n=="boolean")i._handleSearchCompletion(n);else{var t=!!n&&n.length>0;t?i._appendItems(n):i._handleSearchCompletion(t,n)}},function(){i._handleSearchCompletion(!1)}))},i._onDropShow=function(){i.state.loadInProgress||!i.props.onDropdownOpened||!i._fireDropdownOpened||(i.setState({loadInProgress:!0}),i.props.onDropdownOpened().then(function(n){if(!!n){i.setState({items:n.slice()},function(){return i.getBehavior().showDropPopup()});var t=!!i.props.getSearchButtonState&&i.props.getSearchButtonState().isMoreDataAvailable;i.setState({loadInProgress:!1,searchEnabled:t})}}))},i._fireDropdownOpened=!0,i.state={items:i.props.source.slice(),loadInProgress:!1,searchEnabled:!1,searchInProgress:!1,errorMessage:i.props.errorMessage,searchText:a.empty,text:i.props.value,showErrorMessage:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){this._mounted=!0;this._refreshIfRequired()},t.prototype.componentWillUnmount=function(){this._mounted=!1},t.prototype.componentWillReceiveProps=function(n){this._mounted&&this.setState({items:n.source||[],errorMessage:!n.errorMessage?u.SearchableComboGuidance:n.errorMessage,text:!this.props.updateSelectedValue?n.value:this.props.updateSelectedValue()})},t.prototype.render=function(){var n=this.state.searchInProgress?"bowtie-icon bowtie-spinner":"searchable-comboBox-search-icon",t=h.css({Search:!this.state.searchInProgress});return i.createElement("div",null,i.createElement("div",{className:"searchable-comboBox-container"},i.createElement("div",{className:"searchable-comboBox-dropdown"},i.createElement(w,{ref:this._resolveRef("_comboBox"),label:this.props.label,infoProps:this.props.infoProps,key:this.props.key,maxAutoExpandDropWidth:this.props.maxAutoExpandDropWidth,value:this.state.text,allowEdit:this.props.allowEdit,comboBoxType:this.props.comboBoxType,compareInputToItem:this.props.compareInputToItem,enabled:this.props.enabled,required:this.props.required,hideErrorMessage:!this.state.showErrorMessage,source:this.state.items,onValueChanged:this._onValueChanged,errorMessage:this.state.errorMessage,"aria-label":this.props.ariaLabel,isCaseSensitive:this.props.isCaseSensitive,comboBoxDropOptions:this.props.comboBoxDropOptions,onValidation:this.props.onValidation,dropShow:this._onDropShow})),i.createElement("div",{className:"input-control-buttons"},this.props.showSearchButton!==!1&&i.createElement(s.IconButton,{disabled:!this.state.searchEnabled,onClick:this._onSearchClick,iconProps:{iconName:t,className:n},className:h.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:u.SearchInputText,ariaDescription:a.localeFormat(u.SearchInputDescription,this.props.label),"aria-disabled":!this.props.enabled}))))},t.prototype.getBehavior=function(){return this._comboBox.getBehavior()},t.prototype.getDropButton=function(){return this._comboBox.getDropButton()},t.prototype._handleSearchCompletion=function(n,t){if(this._mounted){var i=a.empty,r=this.state.searchText;n?this.state.searchText?this.props.searchString?this._comboBox.reapplyFilter(this.props.searchString):this.state.searchText&&this._comboBox.reapplyFilter(this.state.searchText):i=!this.props.errorMessage?u.SearchableComboGuidance:this.props.errorMessage:i=a.localeFormat(u.SearchableComboSearchFailed,this.state.searchText);this.setState({searchInProgress:!1,errorMessage:i,text:r});t&&t.length===1&&this.props.compareInputToItem(t[0],this.state.searchText,!1)===0?this._onValueChanged(t[0]):(this._fireDropdownOpened=!1,this.getDropButton().click())}},t.prototype._appendItems=function(n){var t=this,i=this.state.items.slice();n.forEach(function(n){l.first(t.state.items,function(i){return t.props.compareInputToItem(i,n,!1)===0})||i.push(n)});this.setState({items:i},function(){t._handleSearchCompletion(!0,n)})},t.prototype._publishTelemetry=function(n){var t={};t[v.Properties.InputName]=n;v.Telemetry.instance().publishEvent(v.Feature.SearchableDropDown,t)},t}(r.Component);t.SearchableComboBoxInputComponentBase=y;w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.reapplyFilter=function(n){!n||this._control.getInput().trigger(jQuery.Event("keyup",{keyCode:n.charCodeAt(0)}))},t}(o.ComboBox)});

define("DistributedTaskControls/SharedControls/InputControls/Components/TaskSearchableComboBoxInputComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/SearchableComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Common","VSS/Diag","q","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String","DistributedTaskControls/Common/Utilities"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a;Object.defineProperty(t,"__esModule",{value:!0});l=function(){function n(){}return n}();t.SearchableComboBoxSearchState=l;a=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._refreshIfRequired=function(){!i.props.getRefreshOptions||i.state.inputItems&&Object.keys(i.state.inputItems).length!==0||s.PickListInputUtility.searchableComboboxOnRefresh(i.props.inputDefinition,i.props.getRefreshOptions(),i._searchState).then(function(n){if(i.setState({inputItems:n}),!!i.props.onOptionsChanged)i.props.onOptionsChanged(n)})},i._onRefresh=function(){i._refreshIfRequired()},i._getSelectedValueDisplayValue=function(){var t=h.empty,n,r;if(!!i.state&&!!i.state.inputItems){if(n=i.state.inputItems,!!n)for(r in n)n.hasOwnProperty(r)&&r===i.state.inputText&&(t=n[r].toString());t||(t=i.state.inputText)}return t},i._onCustomSearch=function(n){var t=[],r=o.defer();return!i.props.getRefreshOptions||s.PickListInputUtility.onSearch(i.props.inputDefinition,i.props.getRefreshOptions(),n).then(function(n){if(i._appendItems(n),!!n)for(var u in n)t.push(n[u].toString());t.sort(function(n,t){return h.localeIgnoreCaseComparer(n,t)});r.resolve(t)},function(n){r.reject(n)}),r.promise},i._onCustomDropdownOpened=function(){var n=[],t=o.defer(),r;if(!i.props.getRefreshOptions||i.state.inputItems&&Object.keys(i.state.inputItems).length!==0){for(r in i.state.inputItems)n.push(i.state.inputItems[r].toString());t.resolve(n)}else i.setState({inputItems:{}},function(){var r=i.props.getRefreshOptions();s.PickListInputUtility.searchableComboboxOnRefresh(i.props.inputDefinition,r,i._searchState).then(function(r){if(i.setState({inputItems:r}),!!i.props.onOptionsChanged)i.props.onOptionsChanged(r);if(!!r)for(var u in r)n.push(r[u].toString());n.sort(function(n,t){return h.localeIgnoreCaseComparer(n,t)});t.resolve(n)},function(n){t.reject(n)})});return t.promise},i._onCustomValueChanged=function(n){var t=h.empty,r;if(!!i.state.inputItems)for(r in i.state.inputItems)i.state.inputItems[r]===n&&(t=r);if(t||i.setState({inputText:n}),!!t&&!!i.props.onDropdownValueChanged)i.props.onDropdownValueChanged(t)},i._getSearchButtonState=function(){return(c.DtcUtils.getSearchDataSourceName(i.props.inputDefinition)||c.DtcUtils.isTaskInputSearchable(i.props.inputDefinition))&&(i._searchState.isMoreDataAvailable=!0),i._searchState},i._searchState={isMoreDataAvailable:!1},i.state={inputItems:t.options||{},searchText:t.value||h.empty,inputText:t.value||h.empty},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this._mounted&&this.setState({inputItems:n.options||this.state.inputItems?this.state.inputItems:{},searchText:n.value||h.empty,inputText:n.value||h.empty})},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._mounted=!0},t.prototype.getType=function(){return f.InputControlType.INPUT_TYPE_PICK_LIST},t.prototype.render=function(){return e.logVerbose("[TaskSearchableComboBoxInputComponent.getControl]: Method called."),i.createElement(u.SearchableComboBoxInputComponent,__assign({source:this.getDisplayValueFromKeyValuePairs(this.state.inputItems)||[],onSearch:this._onCustomSearch,onRefresh:this._onRefresh,onDropdownOpened:this._onCustomDropdownOpened,onCustomValueChanged:this._onCustomValueChanged,getSearchButtonState:this._getSearchButtonState,updateSelectedValue:this._getSelectedValueDisplayValue,value:this.state.inputText},this.props))},t.prototype.getDisplayValueFromKeyValuePairs=function(n){var i=[],t;if(n&&Object.keys(n).length>0)for(t in n)n.hasOwnProperty(t)&&i.push(n[t].toString());return i},t.prototype._appendItems=function(n){var t,i;if(n){t=this.state.inputItems;for(i in n)t.hasOwnProperty(i)||(t[i]=n[i]);this.setState({inputItems:t})}},t.prototype.clone=function(n){var i,t;if(null==n||"object"!=typeof n)return n;if(n instanceof Object){i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=this.clone(n[t]));return i}throw new Error("Unable to copy obj! Its type isn't supported.");},t}(r.Component);t.TaskSearchableComboBoxInputComponent=a});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListBaseComponent",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputComponent","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/SharedControls/InputControls/Components/TaskSearchableComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","VSS/FeatureAvailability/Services","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String","DistributedTaskControls/Common/JQueryWrapper","VSS/Diag","DistributedTaskControls/Common/Utilities","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});var w=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._maxDropdownWidth=588,i}return __extends(t,n),t.prototype.render=function(){var t,f;v.logVerbose("[PickListBaseComponent.getControl]: Method called.");var o=y.DtcUtils.isTaskInputSearchable(this.props.args.inputDefinition),h=s.FeatureAvailabilityService.isFeatureEnabled(r.FeatureFlag_PickListSearchEnabled,!1),n=null;if(h&&o)t=this._getSearchableDropdownProps(this.props.args),n=i.createElement(e.TaskSearchableComboBoxInputComponent,__assign({key:this.props.args.inputDefinition.name,"aria-label":this.props.args.inputControlProps.label},t));else return f=this._getPickListInputControlProps(this.props.args),i.createElement(u.PickListInputComponent,__assign({key:this.props.args.inputDefinition.name},f));return n},t.prototype._getPickListInputControlProps=function(n){return a.JQueryWrapper.extend(n.inputControlProps,{options:n.inputControlProps.inputOptions,properties:n.inputDefinition.properties,enableRefresh:c.PickListInputUtility.enableRefresh(n.inputDefinition,n.controllerStore.getDataSourceBindings(),n.controllerStore.getSourceDefinitions()),onRefresh:function(){return c.PickListInputUtility.onRefresh(n.inputDefinition,f.TaskStoreUtility.getPickListRefreshOptions(n.inputDefinition,n.controllerStore))},enableManage:c.PickListInputUtility.enableManageLink(n.inputDefinition,n.controllerStore.getDataSourceBindings(),n.controllerStore.getSourceDefinitions()),onManageClick:function(){return c.PickListInputUtility.onManageLink(n.inputDefinition,n.controllerStore.getDataSourceBindings(),n.controllerStore.getSourceDefinitions())}})},t.prototype._getSearchableDropdownProps=function(n){var t={maxRowCount:p.BrowserCheckUtils.isEdge()&&window.screen.availHeight<=640?5:undefined},i=o.ComboBoxType.Searchable;return a.JQueryWrapper.extend(n.inputControlProps,{label:n.inputControlProps.label,infoProps:n.inputControlProps.infoProps,maxAutoExpandDropWidth:this._maxDropdownWidth,value:n.inputControlProps.value,allowEdit:!0,comboBoxType:i,compareInputToItem:function(n,t,i){return i?l.caseInsensitiveContains(n,t)?0:-1:l.localeIgnoreCaseComparer(n,t)},enabled:!n.inputControlProps.disabled,errorMessage:n.inputControlProps.getErrorMessage(n.inputControlProps.value),required:n.inputControlProps.required,hideErrorMessage:n.inputControlProps.disabled,comboBoxDropOptions:t,inputDefinition:n.inputDefinition,inputControlProps:n.inputControlProps,options:n.inputControlProps.inputOptions,getRefreshOptions:function(){return f.TaskStoreUtility.getPickListRefreshOptions(n.inputDefinition,n.controllerStore)},onDropdownValueChanged:function(t){n.inputControlProps.onValueChanged(t)}})},t}(h.Component);t.PickListBaseComponent=w});

define("DistributedTaskControls/Common/IdentityUtils",["require","exports","DistributedTaskControls/Common/Common","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.convertJsonArrayIdentitiesStringToSemicolonSeperatedString=function(n){var t;if(!!n)try{t=JSON.parse(n)}catch(u){}return t&&t.length?t.join(i.SemiColon):r.empty},n.getUserIdsAsJSONString=function(n){for(var f,i=[],u=n?n.length:0,t=0;t<u;t++)f=n[t].localId,i.push(f);return u?JSON.stringify(i):r.empty},n}();t.IdentityUtils=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateAddServiceEndpointLink=new u.Action},t.getKey=function(){return r.ActionsKeys.ConnectedServiceInputActions},Object.defineProperty(t.prototype,"updateAddServiceEndpointLink",{get:function(){return this._updateAddServiceEndpointLink},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.ConnectedServiceInputActions=f});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._updateAddServiceEndpointLink=function(n){t._state=n;t.emitChanged()},t._state={showAddServiceEndpointLink:null,endpointType:null},t}return __extends(t,n),t.prototype.getState=function(){return this._state},t.getKey=function(){return u.StoreKeys.ConnectedServiceInputStore},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(f.ConnectedServiceInputActions,n);this._actions.updateAddServiceEndpointLink.addListener(this._updateAddServiceEndpointLink)},t.prototype.disposeInternal=function(){this._actions.updateAddServiceEndpointLink.removeListener(this._updateAddServiceEndpointLink)},t}(i.StoreBase);t.ConnectedServiceInputStore=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActions","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.ConnectedServiceInputActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(f.ConnectedServiceInputActions,n)},t.prototype.updateAddServiceEndpointLink=function(n,t){var i=this;e.ConnectedServiceComponentUtility.showAddServiceEndpointLink(n,t).then(function(n){i._actions.updateAddServiceEndpointLink.invoke(n)})},t}(i.ActionCreatorBase);t.ConnectedServiceInputActionsCreator=o});

define("DistributedTaskControls/Components/ManageLink",["require","exports","react","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Link","OfficeFabric/Utilities","VSS/Context","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ManageLink"],function(n,t,i,r,u,f,e,o,s){var h,c,l;Object.defineProperty(t,"__esModule",{value:!0});h="?resourceId=",function(n){n[n.EndPoint=0]="EndPoint";n[n.AgentQueue=1]="AgentQueue"}(c=t.ManageLinkType||(t.ManageLinkType={}));l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("span",{className:"manage-link"},this.props.displaySeperator&&i.createElement("span",{className:"seperator"},"|"," "),i.createElement(e.Link,{href:this._getManageLink(),className:o.css("fabric-style-overrides"),"aria-label":f.Manage,target:"_blank"},f.Manage,i.createElement("span",{className:"bowtie-icon bowtie-navigate-external"})))},t.prototype._getManageLink=function(){var n;return this.props.manageLinkType===c.EndPoint?(n=r.ActionUrlResolver.getActionUrl(null,null,"services",{area:"admin"}),!!this.props.resourceId&&n&&(n=n.concat(h,this.props.resourceId))):n=r.ActionUrlResolver.getActionUrl(null,null,"AgentQueue",{project:s.getDefaultWebContext().project.name,area:"admin",queueId:this.props.resourceId,_a:"agents"}),n},t}(u.Component);t.ManageLink=l});

define("DistributedTaskControls/Components/BasicAuthDialog",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","OfficeFabric/Button","OfficeFabric/Dialog"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onUserNameChanged=function(n){t._userName=n;t.setState({isAuthorizeDisabled:!t._accessToken||!t._userName})},t._onAccessTokenChanged=function(n){t._accessToken=n;t.setState({isAuthorizeDisabled:!t._accessToken||!t._userName})},t._onAuthorizeClick=function(){if(t.props.onAuthorized)t.props.onAuthorized(t._userName,t._accessToken)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this.setState({isAuthorizeDisabled:!0})},t.prototype.render=function(){var n="dtc-basic-username-textfield";return i.createElement(o.Dialog,{hidden:!this.props.showDialog,dialogContentProps:{type:o.DialogType.close,subText:u.UseBasicDescription},modalProps:{className:"bowtie-fabric",containerClassName:"dtc-Basic-dialog"},title:u.UseBasic,onDismiss:this.props.onCloseDialog,firstFocusableSelector:n,closeButtonAriaLabel:u.CloseButtonText},i.createElement(f.StringInputComponent,{label:u.UserName,onValueChanged:this._onUserNameChanged,inputClassName:n}),i.createElement(f.StringInputComponent,{label:u.PasswordLabel,type:"password",onValueChanged:this._onAccessTokenChanged,inputClassName:"dtc-basic-token-textfield"}),i.createElement(o.DialogFooter,null,i.createElement(e.PrimaryButton,{onClick:this._onAuthorizeClick,disabled:!!this.state.isAuthorizeDisabled,ariaLabel:u.Authorize,"aria-disabled":!!this.state.isAuthorizeDisabled},u.Authorize),i.createElement(e.PrimaryButton,{onClick:this.props.onCloseDialog,ariaLabel:u.CancelButtonText},u.CancelButtonText)))},t}(r.Component);t.BasicDialog=s});

define("DistributedTaskControls/Actions/ConnectedServiceEndpointActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._addedNewServiceEndpoint=new i.Action;this._updateServiceEndpoints=new i.Action;this._updateNewConnectionInfo=new i.Action},t.getKey=function(){return u.ActionsKeys.ConnectedServiceEndpointActions},Object.defineProperty(t.prototype,"UpdateNewConnectionInfo",{get:function(){return this._updateNewConnectionInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AddedNewServiceEndpoint",{get:function(){return this._addedNewServiceEndpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpdateServiceEndpoints",{get:function(){return this._updateServiceEndpoints},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.ConnectedServiceEndpointActions=f});

define("DistributedTaskControls/Stores/ConnectedServiceStore",["require","exports","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Actions/ConnectedServiceEndpointActions","DistributedTaskControls/Common/Actions/ActionsHubManager","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var s,h;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(){}return n}();t.IConnectedServiceEndPointState=s;h=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateNewConnectionInfo=function(n){t._connectionInfo.type===n.type&&t._updateConnectionInfo(n);t.emitChanged()},t._handleAddNewServiceEndpoint=function(){t._connectionInfo={scheme:r.EndpointAuthorizationSchemes.PersonalAccessToken,type:t._connectionInfo.type};t.emitChanged()},t._connectionInfo={scheme:r.EndpointAuthorizationSchemes.PersonalAccessToken},t}return __extends(t,n),t.getKey=function(){return r.StoreKeys.ConnectedServiceEndpointStore},t.prototype.initialize=function(n){this._connectionInfo.type=n;this._connectedServiceEndpointActions=e.ActionsHubManager.GetActionsHub(f.ConnectedServiceEndpointActions);this._connectedServiceEndpointActions.UpdateNewConnectionInfo.addListener(this._handleUpdateNewConnectionInfo);this._connectedServiceEndpointActions.AddedNewServiceEndpoint.addListener(this._handleAddNewServiceEndpoint)},t.prototype.disposeInternal=function(){this._connectedServiceEndpointActions.UpdateNewConnectionInfo.removeListener(this._handleUpdateNewConnectionInfo);this._connectedServiceEndpointActions.AddedNewServiceEndpoint.removeListener(this._handleAddNewServiceEndpoint)},t.prototype.getState=function(){return{isAuthorized:this._isAuthorized(),canAddNewConnection:this._canAddNewConnection(),connectionInfo:this._connectionInfo}},t.prototype.getServiceEndpointDetails=function(){var t=o.generateUID(),i=this._connectionInfo.strongboxKey?this._connectionInfo.strongboxKey:this._connectionInfo.accessToken,n=this._connectionInfo.data;return this._connectionInfo.loginUserAvatarUrl&&(n=__assign({},this._connectionInfo.data,{AvatarUrl:this._connectionInfo.loginUserAvatarUrl})),{endpointId:t,endpointName:this._connectionInfo.connectionName,url:this._connectionInfo.serverUrl,username:this._connectionInfo.loginUser,passwordKey:i,type:this._connectionInfo.type,scheme:this._connectionInfo.scheme,configurationId:this._connectionInfo.configurationId,parameters:n}},t.prototype.getAuthorizationInfo=function(){return this._connectionInfo.type===i.ServiceEndpointType.GitHubEnterprise&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.PersonalAccessToken?{parameters:{apiToken:this._connectionInfo.accessToken},scheme:"Token"}:undefined},t.prototype._isAuthorized=function(){var n=this._connectionInfo.type||o.empty;switch(n){case i.ServiceEndpointType.GitHub:case i.ServiceEndpointType.GitHubBoards:return this._isGitHubAuthorized();case i.ServiceEndpointType.GitHubEnterprise:return!!this._connectionInfo.serverUrl&&this._isGitHubAuthorized();case i.ServiceEndpointType.Bitbucket:return!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth||!!this._connectionInfo.loginUser&&!!this._connectionInfo.accessToken&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.UsernamePassword;case i.ServiceEndpointType.ExternalGit:case i.ServiceEndpointType.Subversion:return!!this._connectionInfo.serverUrl;default:return!1}},t.prototype._canAddNewConnection=function(){return!!this._connectionInfo.connectionName&&this._isAuthorized()},t.prototype._isGitHubAuthorized=function(){return!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth||!!this._connectionInfo.strongboxKey&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.OAuth2||!!this._connectionInfo.accessToken&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.PersonalAccessToken||!!this._connectionInfo.loginUser&&!!this._connectionInfo.accessToken&&this._connectionInfo.scheme===r.EndpointAuthorizationSchemes.UsernamePassword},t.prototype._updateConnectionInfo=function(n){n.authRequestUrl!==undefined&&(this._connectionInfo.authRequestUrl=n.authRequestUrl);n.errorMessage!==undefined&&(this._connectionInfo.errorMessage=n.errorMessage);n.configurationId!==undefined&&(this._connectionInfo.configurationId=n.configurationId);n.isAuthorizing!==undefined&&(this._connectionInfo.isAuthorizing=n.isAuthorizing);n.strongboxKey!==undefined&&(this._connectionInfo.strongboxKey=n.strongboxKey);n.accessToken!==undefined&&(this._connectionInfo.accessToken=n.accessToken);n.connectionName!==undefined&&(this._connectionInfo.connectionName=n.connectionName);n.scheme!==undefined&&(this._connectionInfo.scheme=n.scheme);n.type!==undefined&&(this._connectionInfo.type=n.type);n.serverUrl!==undefined&&(this._connectionInfo.serverUrl=n.serverUrl);n.loginUser!==undefined&&(this._connectionInfo.loginUser=n.loginUser);n.loginUserAvatarUrl!==undefined&&(this._connectionInfo.loginUserAvatarUrl=n.loginUserAvatarUrl);n.data!==undefined&&(this._connectionInfo.data=n.data);n.popupWindow!==undefined&&(this._connectionInfo.popupWindow=n.popupWindow)},t}(u.StoreBase);t.ConnectedServiceStore=h});

define("DistributedTaskControls/Actions/ConnectedServiceEndpointActionsCreator",["require","exports","q","DistributedTaskControls/Actions/ConnectedServiceEndpointActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Stores/ConnectedServiceStore","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.ActionCreatorKeys.ConnectedServiceEndpoint_ActionCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(r.ConnectedServiceEndpointActions)},t.prototype.getServiceEndpoints=function(n,t,r){var f=this,u=i.defer();return o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(n).then(function(i){var e=null;t&&i.forEach(function(n){if(n.id===t)return e=n,!1});!e&&t?o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t).then(function(t){t&&i.push(t);f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:i,errorMessage:t?l.empty:l.format(c.GitHubConnectionDeletedMessage,r)});u.resolve(null)},function(t){f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:i,errorMessage:t.message||t});u.resolve(null)}):(f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:i,errorMessage:l.empty}),u.resolve(null))},function(t){f._actions.UpdateServiceEndpoints.invoke({type:n,endpoints:[],errorMessage:t.message||t});u.resolve(null)}),u.promise},t.prototype.createAuthRequest=function(n){var t=this,i=window.open("","","width = 960, height = 600, location = true, menubar = false, toolbar = false");return o.ConnectedServiceEndpointSource.instance().createAuthRequest(n).then(function(r){t._actions.UpdateNewConnectionInfo.invoke({authRequestUrl:r.url,isAuthorizing:!0,errorMessage:r.errorMessage,type:n,popupWindow:i})},function(r){i.close();t._actions.UpdateNewConnectionInfo.invoke({errorMessage:r.message||r,isAuthorizing:!1,type:n})})},t.prototype.createServiceEndpoint=function(n,t){var r=this,u=this._createServiceEndPoint(n,t);return o.ConnectedServiceEndpointSource.instance().createServiceEndpoint(u).then(function(n){return r._actions.AddedNewServiceEndpoint.invoke({endpoint:n}),i.resolve(n)},function(t){r._actions.UpdateNewConnectionInfo.invoke({errorMessage:t.message||t,isAuthorizing:!1,type:n.type})})},t.prototype.updateNewConnectionStatusAndCreateEndpoint=function(n,t){var r,u,f,e;return(this.updateNewConnectionStatus(n),r=h.StoreManager.GetStore(s.ConnectedServiceStore,t),u=r.getState(),u&&u.canAddNewConnection)?(f=r.getServiceEndpointDetails(),e=r.getAuthorizationInfo(),this.createServiceEndpoint(f,e).then(function(n){return i.resolve(n)})):i.resolve(null)},t.prototype.updateNewConnectionStatus=function(n){this._actions.UpdateNewConnectionInfo.invoke(n)},t.prototype._createServiceEndPoint=function(n,t){t||(t=n.scheme===e.EndpointAuthorizationSchemes.PersonalAccessToken||n.scheme===e.EndpointAuthorizationSchemes.OAuth?{parameters:{accessToken:n.passwordKey||l.empty},scheme:n.scheme}:n.scheme===e.EndpointAuthorizationSchemes.OAuth2?{parameters:{accessToken:n.passwordKey||l.empty,configurationId:n.configurationId},scheme:n.scheme}:{parameters:{username:n.username||l.empty,password:n.passwordKey||l.empty},scheme:e.EndpointAuthorizationSchemes.UsernamePassword});return{id:n.endpointId,description:l.empty,administratorsGroup:null,authorization:t,createdBy:null,data:n.parameters,name:n.endpointName,type:n.type,url:n.url,readersGroup:null,groupScopeId:null,isReady:undefined,isShared:undefined,operationStatus:null,owner:undefined}},t}(f.ActionCreatorBase);t.ConnectedServiceActionsCreator=a});

define("DistributedTaskControls/Sources/ConnectedServiceAuthHelper",["require","exports","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,t,i){this._onAuthorizationError=t;this._onAuthorized=n;this._authWindow=i}return n.prototype.LaunchAuthUrl=function(n){f.isSafeProtocol(n)&&(this._authWindow&&(this._authWindow.location.href=n,this._authWindow.opener=null),this._pollAuthWindow())},n.prototype._pollAuthWindow=function(){var t=this;this._delayedFunction=r.delay(this,n._pollingInterval,function(){t._delayedFunction.cancel();delete t._delayedFunction;try{if(!t._authWindow||t._authWindow.closed)t._cleanupAuthWindow(),t._onAuthorizationError(u.empty);else if(t._authWindow.oauthcompleted){if(t._authWindow.oautherrormessage&&t._onAuthorizationError(t._authWindow.oautherrormessage),t._authWindow.strongboxkey){var n=t._authWindow.owneravatarurl&&t._authWindow.owneravatarurl!=="Unknown"?t._authWindow.owneravatarurl:undefined,i=t._authWindow.configurationId&&t._authWindow.configurationId!=="Unknown"?t._authWindow.configurationId:undefined;t._onAuthorized({strongboxKey:t._authWindow.strongboxkey,loginUser:t._authWindow.ownerlogin,loginAvatarUrl:n,configurationId:i})}t._cleanupAuthWindow()}else t._pollAuthWindow()}catch(r){t._pollAuthWindow()}})},n.prototype._cleanupAuthWindow=function(){if(this._authWindow)try{this._authWindow.close();this._authWindow=null}catch(n){i.logError(n.message||n)}this._delayedFunction&&(this._delayedFunction.cancel(),delete this._delayedFunction)},n._pollingInterval=500,n}();t.ConnectedServiceAuthHelper=e});

define("DistributedTaskControls/Components/AddNewServiceEndpoint",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/BasicAuthDialog","OfficeFabric/Styling","DistributedTaskControls/Actions/ConnectedServiceEndpointActionsCreator","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Sources/ConnectedServiceAuthHelper","DistributedTaskControls/Stores/ConnectedServiceStore","DistributedTaskControls/Common/Common","DistributedTaskControls/Components/MessageBarComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/Label","OfficeFabric/MessageBar","OfficeFabric/Button","VSS/Utils/String","VSS/Utils/Url","VSS/LWP","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/AddNewServiceEndpoint"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var ut,ft;Object.defineProperty(t,"__esModule",{value:!0});ut=function(n){function t(t){var i=__construct(this,n,[t]);for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._onKeyDown=function(n){n.keyCode===13&&(i.props.allowPAT?i._onUsePATClick():i.props.allowBasic&&i._onUseBasicClick())},i._getErrorMessageForConnectionName=function(n){return n?nt.empty:v.RequiredInputErrorMessage},i._getErrorMessageForServerUrl=function(n){return n?i._isValidServerUrl(n)?nt.empty:v.EnterValidServerUrl:v.RequiredInputErrorMessage},i._onConnectionNameChanged=function(n){i._actionsCreator.updateNewConnectionStatus({connectionName:n,type:i.props.connectionType})},i._onServerUrlChanged=function(n){i._serverUrl=n},i._onAuthorizeConnectionClick=function(){var n;n=i.props.allowOauth2&&i.props.connectionType===l.ServiceEndpointType.GitHub?l.EndpointAuthorizationSchemes.OAuth2:l.EndpointAuthorizationSchemes.OAuth;i._actionsCreator.updateNewConnectionStatus({connectionName:i.state.connectedServiceState.connectionInfo.connectionName||i._defaultConnectionName,scheme:n,serverUrl:i._getServerUrl(),errorMessage:nt.empty,isAuthorizing:!1,type:i.props.connectionType});i._actionsCreator.createAuthRequest(i.props.connectionType)},i._onUsePATClick=function(){i.setState({showPATDialog:!0})},i._isValidServerUrl=function(n){var t=tt.Uri.parse(n);return!!t.scheme&&!!t.host},i._onAuthorizePATClick=function(n){i.props.allowSetServerUrl&&!i._isValidServerUrl(i._getServerUrl())?i._serverUrlError=v.ServerUrlInvalid:(i._serverUrlError=nt.empty,i._actionsCreator.updateNewConnectionStatusAndCreateEndpoint({connectionName:i.state.connectedServiceState.connectionInfo.connectionName||i._defaultConnectionName,scheme:l.EndpointAuthorizationSchemes.PersonalAccessToken,serverUrl:i._getServerUrl(),errorMessage:nt.empty,accessToken:n.trim(),type:i.props.connectionType},i.props.id).then(function(n){i._onAddConnection(n)}));i._onClosePATDialog()},i._onClosePATDialog=function(){i.setState({showPATDialog:!1})},i._onUseBasicClick=function(){i._actionsCreator.updateNewConnectionStatus({connectionName:i.state.connectedServiceState.connectionInfo.connectionName||i._defaultConnectionName,scheme:l.EndpointAuthorizationSchemes.UsernamePassword,serverUrl:i._getServerUrl(),errorMessage:nt.empty,type:i.props.connectionType});i.setState({showBasicDialog:!0})},i._onAuthorizeBasicClick=function(n,t){i._actionsCreator.updateNewConnectionStatusAndCreateEndpoint({loginUser:n,accessToken:t,type:i.props.connectionType},i.props.id).then(function(n){i._onAddConnection(n)});i._onCloseBasicDialog()},i._onCloseBasicDialog=function(){i.setState({showBasicDialog:!1})},i._onStoreChanged=function(){var n=i._store.getState();i.setState({connectedServiceState:n});n.connectionInfo.authRequestUrl&&n.connectionInfo.isAuthorizing&&i._launchAuthHelper(n.connectionInfo.popupWindow,n.connectionInfo.authRequestUrl)},i._actionsCreator=r.ActionCreatorManager.GetActionCreator(o.ConnectedServiceActionsCreator),i}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=y.StoreManager.GetStore(c.ConnectedServiceStore,this.props.id);this._setDefaultConnectionName();this.setState({connectedServiceState:this._store.getState()})},t.prototype.componentDidMount=function(){this._isMounted=!0;this._store.addChangedListener(this._onStoreChanged);this.props.setConnectionNameInFocus&&this._connectionNameField.setFocus()},t.prototype.componentWillUnmount=function(){this._isMounted=!1;this._store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t=rt.css("dtc-add-new-service-endpoint-container",{"show-close-button":this.props.showClose}),r=rt.css("dtc-add-new-service-endpoint",{"show-close-button":this.props.showClose});return i.createElement("div",{className:t},this.props.showClose&&i.createElement(w.CommandButton,{className:"close-button",ariaLabel:v.CloseButtonText,iconProps:{iconName:"Cancel",styles:{root:{color:e.DefaultPalette.themeDark}}},onClick:this.props.onDismiss}),i.createElement("div",{className:r},!this.state.connectedServiceState.isAuthorized&&i.createElement(a.MessageBarComponent,{className:"auth-required auth-item",messageBarType:d.MessageBarType.warning},v.AuthRequiredMessage),i.createElement(p.StringInputComponent,{ref:function(t){n._connectionNameField=t},required:!0,cssClass:"connection-name auth-item",label:v.ConnectionName,value:this._getConnectionName(),onValueChanged:this._onConnectionNameChanged,getErrorMessage:this._getErrorMessageForConnectionName}),i.createElement("div",{className:"add-connection auth-item"},this.props.allowSetServerUrl&&i.createElement(p.StringInputComponent,{required:!0,label:v.ServerUrl,inputClassName:"connection-server-url",onValueChanged:this._onServerUrlChanged.bind(this),deferredValidationTime:500,getErrorMessage:this._getErrorMessageForServerUrl}),this.props.allowOauth&&i.createElement(g.PrimaryButton,{onClick:this._onAuthorizeConnectionClick,ariaLabel:v.AuthorizeUsingOAuth},v.AuthorizeUsingOAuth),this.props.allowPAT&&i.createElement("div",{className:"add-connection-pat-container"},this.props.allowOauth&&i.createElement(k.Label,{className:"choice-label"},v.ChoiceLabel),i.createElement("a",{className:"add-connection-pat",role:"button",tabIndex:0,onKeyDown:this._onKeyDown,onClick:this._onUsePATClick},v.UsePAT),i.createElement(ft,{showDialog:this.state.showPATDialog,accessToken:this.state.connectedServiceState.connectionInfo.accessToken||nt.empty,onAuthorized:this._onAuthorizePATClick,onCloseDialog:this._onClosePATDialog})),this.props.allowBasic&&i.createElement("div",{className:"add-connection-basic-container"},i.createElement(k.Label,{className:"choice-label"},v.ChoiceLabel),i.createElement("a",{className:"add-connection-basic",tabIndex:0,role:"button",onKeyDown:this._onKeyDown,onClick:this._onUseBasicClick},v.UseBasic),i.createElement(f.BasicDialog,{showDialog:this.state.showBasicDialog,userName:this.state.connectedServiceState.connectionInfo.loginUser||nt.empty,accessToken:this.state.connectedServiceState.connectionInfo.accessToken||nt.empty,onAuthorized:this._onAuthorizeBasicClick,onCloseDialog:this._onCloseBasicDialog}))),this.state.connectedServiceState.isAuthorized&&!this.state.connectedServiceState.connectionInfo.errorMessage&&i.createElement(a.MessageBarComponent,{className:"auth-success auth-item",messageBarType:d.MessageBarType.success},this._getAuthorizationSuccessMessage()),(this.state.connectedServiceState.connectionInfo.errorMessage||this._serverUrlError)&&i.createElement(a.MessageBarComponent,{className:"auth-error auth-item",messageBarType:d.MessageBarType.error},this._getErrorMessage())))},t.prototype._getConnectionName=function(){var n=this.state.connectedServiceState.connectionInfo?this.state.connectedServiceState.connectionInfo.connectionName:null;return n===null||n===undefined?this._defaultConnectionName:n},t.prototype._setDefaultConnectionName=function(){(this._defaultConnectionName===null||this._defaultConnectionName===undefined)&&(this._defaultConnectionName=this.props.existingConnectionNames&&this.props.autoGenerateNewConnectionName?this._getDefaultName():this.props.newConnectionName?this.props.newConnectionName:nt.empty)},t.prototype._getDefaultName=function(){var n=nt.format(v.SourcesConnectionNameFormat,this.props.connectionType,"{0}");return s.DtcUtils.getDefaultName(n,this.props.existingConnectionNames)},t.prototype._getErrorMessage=function(){return this._serverUrlError?this._serverUrlError:this.state.connectedServiceState.connectionInfo.errorMessage},t.prototype._onAddConnection=function(n){if(n&&this._isMounted&&this.props.onAdd)this.props.onAdd(n)},t.prototype._getServerUrl=function(){return this.props.allowSetServerUrl?this._serverUrl:this.props.serverUrl},t.prototype._getAuthorizationSuccessMessage=function(){return this.state.connectedServiceState.connectionInfo.scheme===l.EndpointAuthorizationSchemes.PersonalAccessToken?v.AuthorizedUsingPAT:nt.format(v.AuthorizedUsingOAuthFormat,this.state.connectedServiceState.connectionInfo.loginUser)},t.prototype._launchAuthHelper=function(n,t){var i=this,r=new h.ConnectedServiceAuthHelper(function(n){i._actionsCreator.updateNewConnectionStatusAndCreateEndpoint({strongboxKey:n.strongboxKey,loginUser:n.loginUser,loginUserAvatarUrl:n.loginAvatarUrl,isAuthorizing:!1,type:i.props.connectionType,configurationId:n.configurationId},i.props.id).then(function(n){i._onAddConnection(n)})},function(n){i._actionsCreator.updateNewConnectionStatus({errorMessage:n,isAuthorizing:!1,type:i.props.connectionType})},n);r.LaunchAuthUrl(t)},t}(u.Component);t.Component=ut;it.registerLWPComponent("DistributedTask.AddNewServiceEndpoint",ut);ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onAccessTokenChanged=function(n){t._accessToken=n;t.setState({isAuthorizeDisabled:!t._accessToken})},t._onAuthorizeClick=function(){if(t.props.onAuthorized)t.props.onAuthorized(t._accessToken)},t._onKeyDown=function(n){t._accessToken&&n.keyCode===13&&t._onAuthorizeClick()},t}return __extends(t,n),t.prototype.componentWillMount=function(){this.setState({isAuthorizeDisabled:!0})},t.prototype.render=function(){var n="dtc-pat-token-textfield";return i.createElement(b.Dialog,{hidden:!this.props.showDialog,dialogContentProps:{type:b.DialogType.close,subText:v.UsePATDescription},title:v.UsePAT,onDismiss:this.props.onCloseDialog,modalProps:{className:"bowtie-fabric",containerClassName:"dtc-pat-dialog"},firstFocusableSelector:n,closeButtonAriaLabel:v.CloseButtonText},i.createElement("div",{className:n+"-container",onKeyDown:this._onKeyDown},i.createElement(p.StringInputComponent,{label:v.Token,type:"password",onValueChanged:this._onAccessTokenChanged,inputClassName:n})),i.createElement(b.DialogFooter,null,i.createElement(g.PrimaryButton,{onClick:this._onAuthorizeClick.bind(this,this._accessToken),disabled:!!this.state.isAuthorizeDisabled,ariaLabel:v.Authorize,"aria-disabled":!!this.state.isAuthorizeDisabled},v.Authorize),i.createElement(g.DefaultButton,{onClick:this.props.onCloseDialog,ariaLabel:v.CancelButtonText},v.CancelButtonText)))},t}(u.Component);t.PATDialog=ft});

define("DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent",["require","exports","react","q","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputStore","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputActionsCreator","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/ManageLink","DistributedTaskControls/Components/PickList","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Components/AddNewServiceEndpoint","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Utilities","VSS/VSS","VSS/Context","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Controls/Dialogs","VSS/Service","VSS/FeatureAvailability/Services","VSS/Contributions/Services","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct){var at,lt;Object.defineProperty(t,"__esModule",{value:!0});at=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return s.InputControlType.INPUT_TYPE_CONNECTED_SERVICE},t.prototype.getControl=function(){return ut.logVerbose("[ConnectedServiceInputComponent.getControl]: Method called."),i.createElement(lt,{value:this.state.value,disabled:this.props.disabled,onValueChanged:this.onValueChanged,onOptionsChanged:this.props.onOptionsChanged,options:this.props.options,getErrorMessage:this.getErrorMessage,useConnectedService:!0,label:this.props.label,connectedServiceType:this.props.connectedServiceType,authSchemes:this.props.authSchemes,instanceId:this.props.instanceId,ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),ariaLabel:this.props.ariaLabel,properties:this.props.properties,hideRefreshButton:this.props.hideRefreshButton,hideNewButton:this.props.hideNewButton,required:this.props.required,containerClassName:this.props.containerClassName,onConnectionAdded:this.props.onConnectionAdded,onNotifyValidationResult:this.props.onNotifyValidationResult,setConnectionNameInFocus:this.props.setConnectionNameInFocus})},t.prototype.getAdditonalLabelControls=function(){if(!this.props.hideManageLink){var n={manageLinkType:w.ManageLinkType.EndPoint,displaySeperator:!0,resourceId:this.state.value};return i.createElement(w.ManageLink,__assign({},n))}return null},t}(o.InputBase);t.ConnectedServiceInputComponent=at;lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var f in i)i.hasOwnProperty(f)&&(this[f]=i[f]);return i._onDismiss=function(){i.setState({showNewConnectionControl:!1});i._newButton&&i._newButton.focus()},i._onStoreChanged=function(){i._updateStateFromStore()},i._onChanged=function(n){i._currentText=n;var t;if(t=i._isMultiSelect()?n:h.ConnectedServiceComponentUtility.getValueFromKey(i.state.optionsMap,n)!==et.empty?n:et.empty,!!i.props.onValueChanged)i.props.onValueChanged(t)},i._getErrorMessage=function(){return i.state.value===et.empty&&i._currentText?g.RequiredInputInValidMessage:!i.props.getErrorMessage?void 0:i.props.getErrorMessage(i.state.value)},i._onRefreshClick=function(n){i._onRefresh(n);ft.delay(i,500,function(){i._optionsRefreshed||i.setState({showLoadingIcon:!0})})},i._onRefresh=function(){i._update()},i._onAddServiceEndpoint=function(){var n,t;i._publishaddServiceEndPointTelemetry(i.props.connectedServiceType);et.equals(i.props.connectedServiceType,u.ServiceEndpointType.AzureRM,!0)?it.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var r=new n.AddAzureRmEndpointsModel(i._endpointCreatedSuccessCallback,{spnCreateMethod:n.SpnCreateMethod.Manual});ot.show(n.AddAzureRmEndpointsDialog,r)}):et.equals(i.props.connectedServiceType,u.ServiceEndpointType.GitHub,!0)?i.setState({showNewConnectionControl:!0}):et.equals(i.props.connectedServiceType,u.ServiceEndpointType.Docker,!0)?it.using(["DistributedTasksCommon/ServiceEndpoints/DockerRegistryManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var r=new n.AddDockerRegistryEndpointModel(i._endpointCreatedSuccessCallback);ot.show(n.AddDockerRegistryEndpointsDialog,r)}):et.equals(i.props.connectedServiceType,u.ServiceEndpointType.Kubernetes,!0)?it.using(["DistributedTasksCommon/ServiceEndpoints/KubernetesEndpointManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,t){t.initKnockoutHandlers();var r=new n.AddKubernetesEndpointModel(i._endpointCreatedSuccessCallback);ot.show(n.AddKubernetesEndpointsDialog,r)}):i.state.addServiceConnectionDetails.endpointType.uiContributionId?(n=i.state.addServiceConnectionDetails.endpointType,it.using(["DistributedTasksCommon/ServiceEndpoints/ServiceEndpointUIContributionManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(t,r){var u;u=st.getService(ct.ExtensionService).getContributionsForTarget("ms.vss-endpoint.endpoint-ui-catalog");u.then(function(u){var s;if(u){var f=void 0,e=void 0,o=void 0;f=u.filter(function(t){return t.id.toLowerCase().endsWith(n.uiContributionId.toLowerCase())});f?(o=n.displayName,e=n.name,r.initKnockoutHandlers(),s=new t.AddServiceEndpointUIContributionConnectionModel(i._endpointCreatedSuccessCallback,n.dataSources,f[0],e,o),ot.show(t.AddServiceEndpointUIContributionDialog,s)):ut.logError(et.format(g.FailedToFindEndpointUIContribution,n.uiContributionId))}})})):(t=i.state.addServiceConnectionDetails.endpointType,it.using(["DistributedTasksCommon/ServiceEndpoints/CustomEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,r){r.initKnockoutHandlers();var u=new n.AddCustomConnectionsModel(t,et.empty,null,t.authenticationSchemes[0].scheme,!1,i._endpointCreatedSuccessCallback);ot.show(n.AddCustomConnectionsDialog,u)}))},i._endpointCreatedSuccessCallback=function(n){var t,r,u;if(i._publishaddServiceEndPointTelemetry(i.props.connectedServiceType,n.authorization?n.authorization.scheme:null,!0),t=i.state.optionsMap,t[n.id]=n.name,!i.props.onValueChanged||(i._isMultiSelect()?(u=i.state.value.split(e.CommaSeparator),u.push(n.id),r=u.join(e.CommaSeparator)):r=n.id),!i.props.onConnectionAdded){if(!!i.props.onOptionsChanged)i.props.onOptionsChanged(t);if(!!i.props.onValueChanged)i.props.onValueChanged(r)}else i.props.onConnectionAdded(t,r);i.state.showNewConnectionControl&&i.setState({showNewConnectionControl:!1})},i._refreshIfRequired=function(){var n=r.defer();return i.state.optionsMap&&Object.keys(i.state.optionsMap).length===0?(i._update().then(function(){n.resolve(!0)},function(t){n.reject(t)}),n.promise):(n.resolve(!1),n.promise)},i._optionsRefreshed=!1,i.state={value:t.value||et.empty,optionsMap:t.options||{}},i}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this.props.instanceId;this._store=v.StoreManager.GetStore(l.ConnectedServiceInputStore,n);this._inputActionsCreator=y.ActionsHubManager.GetActionsHub(a.ConnectedServiceInputActionsCreator,n);this._updateStateFromStore()},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._showAddServiceConnectionLinkIfRequired();ht.FeatureAvailabilityService.isFeatureEnabled(e.FeatureFlag_EnableMlWorkspaceAsScope,!1)&&this.props.properties&&this.props.properties[t.EndpointFilterRule]&&!this._optionsRefreshed?this._update():this._refreshIfRequired();this._store.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._store.removeChangedListener(this._onStoreChanged)},t.prototype.componentWillReceiveProps=function(n){this.setState({value:n.value||et.empty,optionsMap:n.options||{}})},t.prototype.render=function(){var n=this,t=this.state.showLoadingIcon?"bowtie-icon bowtie-spinner":"connected-service-refresh-icon",r=tt.css({Refresh:!this.state.showLoadingIcon}),u=this.props.containerClassName||et.empty;return i.createElement("div",{className:u},i.createElement("div",{className:"connected-service-container"},i.createElement("div",{className:"connected-service-dropdown"},i.createElement(c.Component,{value:this.state.value,onGetErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult},this._getPickList())),i.createElement("div",{className:"input-control-buttons"},!this.props.hideRefreshButton&&!this.props.disabled&&i.createElement(nt.IconButton,{disabled:this.props.disabled,onClick:function(t){return n._onRefreshClick(t)},iconProps:{iconName:r,className:t},className:tt.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:g.Refresh,ariaDescription:et.localeFormat(g.RefreshInputDescription,this.props.label),"aria-disabled":this.props.disabled}),this.state.addServiceConnectionDetails.showAddServiceEndpointLink&&!this.props.hideNewButton&&!this.props.disabled&&i.createElement(nt.CommandButton,{componentRef:function(t){n._newButton=t},disabled:this.props.disabled,onClick:this._onAddServiceEndpoint,iconProps:{iconName:"Add"},className:tt.css("input-control-icon-button","fabric-style-overrides","command-button-override"),ariaLabel:g.New,ariaDescription:et.localeFormat(g.AddInputDescription,this.props.label),"aria-disabled":this.props.disabled},g.New))),this._getConnection())},t.prototype._getConnection=function(){return this.state.showNewConnectionControl&&et.equals(this.props.connectedServiceType,u.ServiceEndpointType.GitHub,!0)?i.createElement(d.Component,{autoGenerateNewConnectionName:!0,existingConnectionNames:this._getOptionValues(),id:u.ServiceEndpointType.GitHub,isEnabled:!0,connectionType:u.ServiceEndpointType.GitHub,serverUrl:e.ServiceEndpointConstants.GitHubServerUrl,allowOauth:rt.getPageContext().webAccessConfiguration.isHosted,allowOauth2:!1,allowPAT:!0,allowBasic:!1,allowSetServerUrl:!1,onAdd:this._endpointCreatedSuccessCallback,showClose:!0,onDismiss:this._onDismiss,setConnectionNameInFocus:this.props.setConnectionNameInFocus}):null},t.prototype._getOptionValues=function(){var n=[];for(var t in this.state.optionsMap)this.state.optionsMap.hasOwnProperty(t)&&n.push(this.state.optionsMap[t]);return n},t.prototype._updateStateFromStore=function(){var n=this._store.getState();this.setState({addServiceConnectionDetails:n})},t.prototype._getSelectedOption=function(){var n=this.state.value;return n===et.empty&&this._currentText&&(n=this._currentText),n},t.prototype._publishaddServiceEndPointTelemetry=function(n,t,i){var r={};r[p.Properties.ServiceEndpointType]=n;t&&(r[p.Properties.ServiceEndpointAuthScheme]=t);i?p.Telemetry.instance().publishEvent(p.Feature.AddServiceConnectionSuccess,r):p.Telemetry.instance().publishEvent(p.Feature.AddServiceConnection,r)},t.prototype._showAddServiceConnectionLinkIfRequired=function(){this.state.addServiceConnectionDetails.showAddServiceEndpointLink===null&&this._inputActionsCreator.updateAddServiceEndpointLink(this.props.connectedServiceType,this.props.authSchemes)},t.prototype._update=function(){var n=this;return this._optionsRefreshed=!1,h.ConnectedServiceComponentUtility.getConnectedServiceOptions(this.state.value,this.props.useConnectedService,this.props.connectedServiceType,this.props.authSchemes,this.props.properties).then(function(t){if(n._optionsRefreshed=!0,n.setState({showLoadingIcon:!1}),!!n.props.onOptionsChanged)n.props.onOptionsChanged(t.optionsMap);if(t.value!==n.state.value&&!!n.props.onValueChanged)n.props.onValueChanged(t.value)},function(t){return n._optionsRefreshed=!0,n.setState({showLoadingIcon:!1}),r.reject(t)})},t.prototype._isMultiSelect=function(){return this.props.properties&&this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]&&k.Boolean.isTrue(this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST])},t.prototype._getPickList=function(){var n,t;return this._pickList?this._pickListControl.updateSource(this.state.optionsMap,this._getSelectedOption(),!this.props.disabled):(n={},this.props.properties&&this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]?(t=this.props.properties[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST],n[e.INPUT_TYPE_PROPERTY_MULTI_SELECT_FLATLIST]=t):n[e.INPUT_TYPE_PROPERTY_EDITABLE_OPTIONS]=e.BOOLEAN_TRUE,this._pickList=i.createElement("div",{className:"fabric-style-overrides input-control-dropdown connected-service-combobox"},i.createElement(b.PickList,{key:"pick-list-component",ref:this._resolveRef("_pickListControl"),selectedValues:this._getSelectedOption(),refreshCallback:this._refreshIfRequired,properties:n,onChanged:this._onChanged,enabled:!this.props.disabled,options:this.state.optionsMap,ariaLabel:this.props.ariaLabel,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,ariaRequired:this.props.required}))),this._pickList},t.EndpointFilterRule="EndpointFilterRule",t}(f.Component);t.ConnectedServiceInputComponentBase=lt});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureConnectionInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent","VSS/Diag"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getErrorMessage=function(){return t.getErrorMessage(t.getInputValue())},t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_AZURE_CONNECTION},t.prototype.getControl=function(){return e.logVerbose("[AzureConnectionInputComponent.getControl]: Method called."),i.createElement(f.ConnectedServiceInputComponentBase,{disabled:this.props.disabled,value:this.state.value,onValueChanged:this.onValueChanged,onOptionsChanged:this.props.onOptionsChanged,options:this.props.options,getErrorMessage:this._getErrorMessage,useConnectedService:!1,connectedServiceType:"azure",instanceId:this.props.instanceId,properties:undefined,onNotifyValidationResult:this.props.onNotifyValidationResult})},t}(r.InputBase);t.AzureConnectionInputComponent=o});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility",["require","exports","q","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/FilterHelper","VSS/Diag","VSS/VSS","VSS/Utils/String","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p;Object.defineProperty(t,"__esModule",{value:!0});y=function(){function n(){}return n.Subscription="Subscription",n.EndpointFilterRule="EndpointFilterRule",n.AzureRMEndpointDefaultFilterRule="ScopeLevel != ManagementGroup && ScopeLevel != AzureMLWorkspace",n}();t.AzureRmComponentUtilityConstants=y;p=function(){function n(){}return n.getConnectedServiceAzureRMOptions=function(t,f,e,v,p){var b=!1,k=i.defer(),d=!p?null:p[y.EndpointFilterRule],w,g,nt,tt;return d||(d=y.AzureRMEndpointDefaultFilterRule),w=t,f&&(g=f.split(",")),nt=n._getARMServiceEndPoints(g,v),tt=n._getAzureSubscriptions(e),i.spread([nt,tt],function(n,i){var y=[],p=[],v={},f={},g,e;n&&(g=h.FilterHelper.getFilteredObjects(d,n),g.forEach(function(n){p.push(n.id);f[n.id]=n}));i.value&&i.value.length!==0||(b=!0);i.errorMessage?c.logError(i.errorMessage):i.value&&i.value.forEach(function(n){v[n.subscriptionId]=n;y.push(n.subscriptionId)});e=[];e.push({title:u.AzureRMAvailableServiceConnections,items:p});e.push({title:u.AzureRMAvailableAzureSubscriptions,items:y});!t||f[t]||r.VariableExtractor.containsVariable(t)||s.DtcUtils.containsProcessParameter(t)?k.resolve({azureSubscriptions:v,endpoints:f,value:w,options:e,showAddServiceEndpointLink:b}):o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t).then(function(n){if(n){var t=n.id;w=t;f[t]=n}else w=a.empty;k.resolve({azureSubscriptions:v,endpoints:f,value:w,options:e,showAddServiceEndpointLink:b})},function(n){c.logError(n);l.handleError({name:a.empty,message:n})})},function(n){c.logError(n);l.handleError(n)}),k.promise},n.createServiceEndpoint=function(n,t,r){r===void 0&&(r=!1);var f=i.defer();return l.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog"],function(i){var e=new i.AddAzureRmEndpointsModel(t);e.name(a.localeFormat(u.AzureSubscriptionDisplayName,n.displayName,n.subscriptionId));e.subscriptionId(n.subscriptionId);e.subscriptionName(n.displayName);e.tenantId(n.subscriptionTenantId);e.createServiceEndpoint(r).then(function(n){f.resolve(n)},function(n){f.reject(n)})}),f.promise},n.getSubscriptionIdFromDisplayName=function(n){var t=n.match(e.FindSubscriptionIdRegEx);return t&&t[1]?t[1]:a.empty},n.getSubscriptionByName=function(t,i){var r=n.getSubscriptionIdFromDisplayName(i);return t&&t[r]?t[r]:null},n.getEndpointByName=function(n,t){var i=null;for(var r in n)if(a.localeIgnoreCaseComparer(n[r].name,t)===0){i=n[r];break}return i},n.getDisplayText=function(n,t,i){var r=a.empty;return n&&n[i]?r=a.localeFormat(u.AzureSubscriptionDisplayName,n[i].displayName,n[i].subscriptionId):t&&t[i]&&(r=t[i].name),r},n.getEndpointAuthorizationScope=function(n,t){var u=this,r;return n?!this._endpointToScopeMap[n.toLocaleLowerCase()]?t!==null&&t!==undefined?(this._endpointToScopeMap[n.toLocaleLowerCase()]=t,i(t)):(r=a.empty,o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(n).then(function(n){return r=u.getEndpointAuthorizationScopeFromEndpoint(n),u._endpointToScopeMap[n.id.toLocaleLowerCase()]=r,i(r)},function(n){return c.logError(n),i(r)})):i(this._endpointToScopeMap[n.toLocaleLowerCase()]):i(a.empty)},n.getEndpointAuthorizationScopeFromEndpoint=function(t){var i=a.empty;return t&&t.authorization&&t.authorization.parameters&&(i=t.authorization.parameters[n.scope]||t.authorization.parameters[n.Scope]||a.empty),i},n.getUserFriendlyAuthorizationScope=function(n){var i=n,t;return!n||(t=n.split("/"),a.equals(t[1],"subscriptions",!0)&&(t[7]?i=a.localeFormat(v.ARMEndpointScopeResource,t[7],t[4]):!t[4]||(i=a.localeFormat(v.ARMEndpointScopeResourceGroup,t[4])))),i},n._getAzureSubscriptions=function(t){return(!n._azureSubscriptions||t)&&(n._azureSubscriptions=o.ConnectedServiceEndpointSource.instance().beginGetAzureSubscriptions()),n._azureSubscriptions},n._getARMServiceEndPoints=function(t,i){return(!n._armEndPoints||i)&&(this._endpointToScopeMap={},n._armEndPoints=o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(f.ServiceEndpointType.AzureRM,t)),n._armEndPoints},n._endpointToScopeMap={},n.scope="scope",n.Scope="Scope",n}();t.AzureResourceManagerComponentUtility=p});

define("VSSPreview/Controls/GroupedComboBox",["require","exports","VSS/Controls/Combos","VSS/Controls","VSS/Utils/Array","VSS/Utils/UI","VSS/Controls/Virtualization"],function(n,t,i,r,u,f,e){var c,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});c=function(n){function t(t,i){var r=n.call(this,t,$.extend({dropControlType:o},i))||this;return r._selectedIndex=-1,r}return __extends(t,n),t.registerBehavior=function(){i.Combo.registerBehavior("grouped",t)},t.prototype._createDataSource=function(){return new h(this._options)},t.prototype.setSource=function(t){n.prototype.setSource.call(this,t);this.getDataSource().updateSource(t)},t.prototype.getValue=function(){return this._selectedIndex>=0&&this._selectedIndex<this._dataSource.getCount()?this._dataSource.getItem(this._selectedIndex):null},t.prototype._dropSelectionChanged=function(t,i){this._setSelectedIndex(t,!0);this._selectedIndex>=0&&n.prototype._dropSelectionChanged.call(this,t,i)},t.prototype.keyDown=function(t){if(this._selectedIndex<0&&(t.keyCode===f.KeyCode.ENTER||t.keyCode===f.KeyCode.TAB)&&this.getDropPopup()!==null){var i=this._dataSource.getItemIndex(this.getText());i>=0&&this.getItemText(i)===this.getText()&&this._setSelectedIndex(i,!0)}return n.prototype.keyDown.call(this,t)},t.prototype._setSelectedIndex=function(t,i){this._selectedIndex=t;$.isFunction(this._options.indexChanged)&&i&&this._options.indexChanged(t);t>=0&&n.prototype._setSelectedIndex.call(this,t,i)},t.prototype._filterData=function(n){this._selectedIndex=-1;n?this._dataSource.filterGroupedItems(n,this._options.startsWith):this._dataSource.resetFilter();this._options.enabled&&!this.isDropVisible()&&this.showDropPopup()},t.prototype.getItemText=function(n){return!this._dataSource.indexIsGroupTitle(n)&&$.isFunction(this._options.getItemText)?this._options.getItemText(this._dataSource.getItem(n,!0)):this._dataSource.getItemText(n,!0)},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t}(i.ComboListBehavior);t.GroupedComboBehavior=c;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._initializeVirtualization=function(){this.virtualizingListView=r.Enhancement.enhance(s,this.getElement(),$.extend(i.extendWithout(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount}))},t}(i.ComboListDropPopup);t.GroupedComboDropPopup=o;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._drawItems=function(){var i,r,u,n,t,f;for(this._itemsContainer.empty(),i=this._firstVisible,r=Math.min(i+this.visibleRowCount,this._dataSource.getCount()),i>=r&&$.isFunction(this._options.emptyRenderer)&&(u=$("<li>").addClass(this._options.itemCss),u.append(this._options.emptyRenderer()),this._itemsContainer.append(u)),n=i;n<r;n++)this._dataSource.indexIsGroupTitle(n)?(f=this._dataSource.getItemText(n)||"",t=$("<li>").addClass(this._options.itemCss),$.isFunction(this._options.groupRenderer)?t.append(this._options.groupRenderer(this._dataSource.getItem(n))):t.text(f).attr("title",f)):(t=this._createItem(n),this._options.getItemContents&&t.removeAttr("title"),t.data("index",n)),this._itemsContainer.append(t),this._updateItemStyles();this._enableMouseOver=!1},t}(e.VirtualizingListView);t.GroupedVirtualizingListView=s;h=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._originalSource=i._options.source,i}return __extends(t,n),t.prototype.prepareSource=function(n){var i=this,t=[];this._groupTitleIndexes=[];$.isArray(n)&&n.forEach(function(n){t.push(n.title);i._groupTitleIndexes[t.length-1]=!0;t=t.concat(n.items)});this.setItems(t)},t.prototype.updateSource=function(n){this._originalSource=n||[]},t.prototype.indexIsGroupTitle=function(n){return this._groupTitleIndexes[n]},t.prototype.filterGroupedItems=function(n,t){var i=this,e=this._originalSource,f=[];e.forEach(function(e){var s=new r.BaseDataSource({source:e.items,compareInputToItem:i._options.compareInputToItem,comparer:i._options.comparer}),o=s.getItemIndexes(n,t);o.length>0&&f.push({title:e.title,items:e.items.filter(function(n,t){return u.contains(o,t)})})});this.setSource(f)},t.prototype.resetFilter=function(){this.setSource(this._originalSource)},t.prototype.nextIndex=function(n,t,i){var u=this.getCount(i),r;if(u<1)return-1;if(n<0)for(r=0;this.indexIsGroupTitle(r);)r++;else r=t>0?Math.min(u-1,n+t):Math.max(0,n+t);if(t>0)while(this.indexIsGroupTitle(r))r++;else while(this.indexIsGroupTitle(r))r--;return r<0||r>=u?-1:r},t}(r.BaseDataSource);t.GroupedDataSoure=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputCombo",["require","exports","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility","DistributedTaskControls/Components/FetchingCombo","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSSPreview/Controls/GroupedComboBox","VSS/Controls","VSS/Utils/String","VSS/Flux/PlatformComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._source=[],t._azureSubscriptions={},t._endpoints={},t}return __extends(t,n),t.prototype.createControl=function(n){if(!this._control){s.GroupedComboBehavior.registerBehavior();return h.BaseControl.createIn(e.FetchingCombo,n,this._getGroupedComboBoxOptions())}},t.prototype.componentDidMount=function(){this._updateAriaAttributes()},t.prototype.componentWillReceiveProps=function(n){var t=n.disabled;this._control&&this._control.setEnabled(!t)},t.prototype.setText=function(n){this._control.getText()!==n&&this._control.setText(n)},t.prototype.getText=function(){return this._control.getText()},t.prototype._getGroupedComboBoxOptions=function(){var n=this;return{type:"grouped",id:"ConnectedServiceAzureRMInputDefinition",allowEdit:!0,enabled:!this.props.disabled,value:"",source:this._source,enableFilter:!0,autoComplete:!0,dropOptions:{getItemContents:function(t){return t?c.htmlEncode(f.AzureResourceManagerComponentUtility.getDisplayText(n._azureSubscriptions,n._endpoints,t)):""},emptyRenderer:function(){var t=!n._source||n._source.length===0?o.NoSubscriptionFound:r.NoMatchingSubscriptionFound;return $("<div/>").addClass("group-combo-no-data-message").text(t)},groupRenderer:function(n){return $("<div/>").addClass("group-combo-title").text(n)},itemCss:"group-combo-text-item"},getItemText:function(t){return t?f.AzureResourceManagerComponentUtility.getDisplayText(n._azureSubscriptions,n._endpoints,t):""},compareInputToItem:function(t,i){var r=n._control&&n._control.getValue(),u=f.AzureResourceManagerComponentUtility.getDisplayText(n._azureSubscriptions,n._endpoints,t);if(u!==c.empty)if(r){if(r===t)return 0}else return c.localeIgnoreCaseComparer(i,u.substr(0,i.length));return-1},refreshData:function(){return n.props.onRefresh()},change:function(){n._onChange(!1)},indexChanged:function(t){t!==-1&&n._onChange(!0)},ariaAttributes:this.props.ariaAttributes}},t.prototype.updateSource=function(n){n.options&&this._control.removeLoadingComponent();this._source=n.options||[];this._endpoints=n.endpoints||{};this._azureSubscriptions=n.azureSubscriptions||{};this._clearSourceIfEmpty();this._control.setSource(this._source);this._updateText(n.value)},t.prototype._clearSourceIfEmpty=function(){Object.keys(this._endpoints).length===0&&Object.keys(this._azureSubscriptions).length===0&&(this._source=[])},t.prototype._updateText=function(n){var t=n,r=this._endpoints[t]?this._endpoints[t].name:i.VariableExtractor.containsVariable(t)||u.DtcUtils.containsProcessParameter(t)?t:"";!r||this._control.setText(r)},t.prototype._onChange=function(n){var t=this._control.getText(),o=this._control.getValue(),s=c.empty,h=null,r,e;if(n&&!!o?(r=this._azureSubscriptions&&this._azureSubscriptions[o],e=this._endpoints&&this._endpoints[o]):(r=f.AzureResourceManagerComponentUtility.getSubscriptionByName(this._azureSubscriptions,t),e=f.AzureResourceManagerComponentUtility.getEndpointByName(this._endpoints,t)),r?h=r:e?s=e.id:(i.VariableExtractor.containsVariable(t)||u.DtcUtils.containsProcessParameter(t))&&(s=t),this.props.onChanged)this.props.onChanged(s,h)},t.prototype._updateAriaAttributes=function(){this._control&&this.props.ariaAttributes&&this._control.getInput().attr({"aria-describedby":this.props.ariaAttributes.describedby})},t}(l.Component);t.AzureResourceManagerInputCombo=a});

define("DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActions",["require","exports","DistributedTaskControls/Common/Actions/Base","VSS/Flux/Action"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateText=new r.Action;this._updateSubscription=new r.Action;this._updateAuthorizationState=new r.Action;this._showAddServiceEndpointLink=new r.Action;this._updateEndpointAuthorizationScope=new r.Action;this._updateEndpoints=new r.Action},t.getKey=function(){return"CI.ARMInputActions"},Object.defineProperty(t.prototype,"UpdateText",{get:function(){return this._updateText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpdateSubscription",{get:function(){return this._updateSubscription},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpdateEndpoints",{get:function(){return this._updateEndpoints},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpdateAuthorizationState",{get:function(){return this._updateAuthorizationState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ShowAddServiceEndpointLink",{get:function(){return this._showAddServiceEndpointLink},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpdateEndpointAuthorizationScope",{get:function(){return this._updateEndpointAuthorizationScope},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.ARMInputActions=u});

define("DistributedTaskControls/SharedControls/InputControls/Components/ARMInputStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleUpdateText=function(n){t._state.text=n;t.emitChanged()},t._handleUpdateSubscription=function(n){t._state.subscription=n;t.emitChanged()},t._handleUpdateAuthorizeButtonState=function(n){t._state.enableAuthorize=n.enableAuthorize;t._state.showAuthorize=n.showAuthorize;t._state.authInProgress=n.authInProgress;t.emitChanged()},t._handleShowAddServiceEndpointLink=function(n){t._state.showAddServiceEndpointLink=n;t.emitChanged()},t._handleUpdateEndpointAuthorizationScope=function(n){t._state.authorizationScope=n;t.emitChanged()},t._handleUpdateEndpoints=function(n){t._state.endpoints=n;t.emitChanged()},t._state={text:"",subscription:null,showAuthorize:!1,enableAuthorize:!1,authInProgress:!1,showAddServiceEndpointLink:!1,endpoints:{}},t}return __extends(t,n),t.prototype.getState=function(){return this._state},t.getKey=function(){return u.StoreKeys.ARMInputStore},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(f.ARMInputActions,n);this._actions.UpdateText.addListener(this._handleUpdateText);this._actions.UpdateSubscription.addListener(this._handleUpdateSubscription);this._actions.UpdateAuthorizationState.addListener(this._handleUpdateAuthorizeButtonState);this._actions.ShowAddServiceEndpointLink.addListener(this._handleShowAddServiceEndpointLink);this._actions.UpdateEndpointAuthorizationScope.addListener(this._handleUpdateEndpointAuthorizationScope);this._actions.UpdateEndpoints.addListener(this._handleUpdateEndpoints)},t.prototype.disposeInternal=function(){this._actions.UpdateText.removeListener(this._handleUpdateText);this._actions.UpdateSubscription.removeListener(this._handleUpdateSubscription);this._actions.UpdateAuthorizationState.removeListener(this._handleUpdateAuthorizeButtonState);this._actions.ShowAddServiceEndpointLink.removeListener(this._handleShowAddServiceEndpointLink);this._actions.UpdateEndpointAuthorizationScope.removeListener(this._handleUpdateEndpointAuthorizationScope);this._actions.UpdateEndpoints.removeListener(this._handleUpdateEndpoints)},t}(i.StoreBase);t.ARMInputStore=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActionsCreator",["require","exports","q","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActions","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.updateEndpointAuthorizationScope=function(n,r){var u=t._currentGetEndpointAuthorizationScopePromise=o.AzureResourceManagerComponentUtility.getEndpointAuthorizationScope(n,r);return u.then(function(n){return t._currentGetEndpointAuthorizationScopePromise===u&&t._actions.UpdateEndpointAuthorizationScope.invoke(n),i.resolve(n)})},t}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.ARMInputActionsCreator},t.prototype.initialize=function(n){this._actions=u.ActionsHubManager.GetActionsHub(e.ARMInputActions,n)},t.prototype.updateText=function(n){this._actions.UpdateText.invoke(n)},t.prototype.updateSubscription=function(n){this._actions.UpdateSubscription.invoke(n)},t.prototype.updateEndpoints=function(n){this._actions.UpdateEndpoints.invoke(n)},t.prototype.updateAuthorizationState=function(n){this._actions.UpdateAuthorizationState.invoke(n)},t.prototype.showAddServiceEndpointLink=function(n){this._actions.ShowAddServiceEndpointLink.invoke(n)},t}(r.ActionCreatorBase);t.ARMInputActionsCreator=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputComponent",["require","exports","react","q","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputCombo","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerComponentUtility","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputStore","DistributedTaskControls/SharedControls/InputControls/Components/ARMInputActionsCreator","DistributedTaskControls/Components/ManageLink","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Icon","OfficeFabric/Utilities","VSS/Diag","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Controls/Dialogs","VSS/LWP","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){var et,ot;Object.defineProperty(t,"__esModule",{value:!0});et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return o.InputControlType.INPUT_TYPE_AZURE_RESOURCE_MANAGER},t.prototype.getControl=function(){return nt.logVerbose("[AzureConnectionInputComponent.getControl]: Method called."),i.createElement(ot,{properties:this.props.properties,label:this.props.label,required:this.props.required,disabled:this.props.disabled,value:this.state.value,onValueChanged:this.onValueChanged,instanceId:this.props.instanceId,authSchemes:this.props.authSchemes,ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),ariaLabel:this.props.ariaLabel,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype.getAdditonalLabelControls=function(){var n={manageLinkType:v.ManageLinkType.EndPoint,displaySeperator:!0,resourceId:this.state.value};return i.createElement(v.ManageLink,__assign({},n))},t}(e.InputBase);t.AzureResourceManagerInputComponent=et;ot=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._onStoreChanged=function(){var n=t._store.getState();t.setState(n)},t._getDescription=function(){var n=null,r=t._getAuthScheme(),f=t._getScopeLevelDescription();return r&&r===u.EndpointAuthorizationSchemes.ManagedServiceIdentity?n=b.MSIResourceMissingWarning:t.state.authorizationScope?n=h.AzureResourceManagerComponentUtility.getUserFriendlyAuthorizationScope(t.state.authorizationScope):!f||(n=rt.localeFormat(b.ARMEndpointScope,f)),!n?void 0:i.createElement("div",{className:"azurerm-combo-description"},i.createElement(d.Icon,{iconName:"Info",className:"azurerm-combo-description-icon"}),n)},t._getAuthScheme=function(){var i=t._store.getState().endpoints,r=null,n;return i&&(n=i[t.props.value],n&&n.authorization&&n.authorization.scheme&&(r=n.authorization.scheme)),r},t._getErrorMessage=function(){return t.state.authInProgress?b.AuthorizationInprogressInfoMessage:t._selectedSubscription?b.ClickAuthorizeHelpText:t.props.required&&t.props.value===rt.empty&&t._store.getState().text!==""?b.RequiredInputInValidMessage:t.props.required&&t.props.value===rt.empty?b.RequiredInputErrorMessage:rt.empty},t._onRefreshClick=function(n){t._onRefresh(n);it.delay(t,500,function(){t._optionsRefreshed||t.setState({showLoadingIcon:!0})})},t._onRefresh=function(){t._refresh(!0)},t._onChanged=function(n,i){if(i?(t._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!0,authInProgress:!1}),t._debouncedUpdateEndpointAuthorizationScope(rt.empty)):(t._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1}),t._debouncedUpdateEndpointAuthorizationScope(n)),t._selectedSubscription=i,t._armInputActionsCreator.updateSubscription(t._selectedSubscription),t._armInputActionsCreator.updateText(t._armInputComboControl.getText()),t.props.onValueChanged)t.props.onValueChanged(n)},t._onAuthorizeClick=function(){t._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!1,authInProgress:!0});h.AzureResourceManagerComponentUtility.createServiceEndpoint(t._selectedSubscription,function(){return}).then(function(n){h.AzureResourceManagerComponentUtility.getConnectedServiceAzureRMOptions(n.id,t.props.authSchemes,!0,!0,t.props.properties).then(function(n){if(t._selectedSubscription=null,t._armInputActionsCreator.updateSubscription(t._selectedSubscription),t._armInputComboControl&&t._armInputComboControl.updateSource(n),t._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1}),t.props.onValueChanged)t.props.onValueChanged(n.value);t._armInputActionsCreator.updateEndpoints(n.endpoints)})},function(n){nt.logError(n);!n||tt.handleError({name:"",message:b.EndpointCreationOperationFailed,stack:n});t._armInputActionsCreator.updateAuthorizationState({showAuthorize:!0,enableAuthorize:!0,authInProgress:!1})})},t._onAddServiceEndpoint=function(){t._publishaddServiceEndPointTelemetry(u.ServiceEndpointType.AzureRM);tt.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,i){i.initKnockoutHandlers();var r=new n.AddAzureRmEndpointsModel(t._endpointCreatedSuccessCallback,{spnCreateMethod:n.SpnCreateMethod.Manual});ut.show(n.AddAzureRmEndpointsDialog,r)})},t._onClickAdvancedOptions=function(){tt.using(["DistributedTasksCommon/ServiceEndpoints/AzureRMEndpointsManageDialog","DistributedTasksCommon/TFS.Knockout.CustomHandlers"],function(n,i){i.initKnockoutHandlers();var r=new n.AddAzureRmEndpointsModel(t._endpointCreatedSuccessCallback,{spnCreateMethod:n.SpnCreateMethod.Automatic});r.name(t.state.text);r.tenantId(t.state.subscription.subscriptionTenantId);r.subscriptionId(t.state.subscription.subscriptionId);r.subscriptionName(t.state.subscription.displayName);ut.show(n.AddAzureRmEndpointsDialog,r)})},t._endpointCreatedSuccessCallback=function(n){n&&n.id&&h.AzureResourceManagerComponentUtility.getConnectedServiceAzureRMOptions(n.id,t.props.authSchemes,!1,!0,t.props.properties).then(function(i){if(t._selectedSubscription){t._selectedSubscription=null;t._armInputActionsCreator.updateSubscription(t._selectedSubscription);t._armInputActionsCreator.updateAuthorizationState({showAuthorize:!1,enableAuthorize:!1,authInProgress:!1});t._armInputActionsCreator.updateText(n.name);var r=h.AzureResourceManagerComponentUtility.getEndpointAuthorizationScopeFromEndpoint(n);t._armInputActionsCreator.updateEndpointAuthorizationScope(n.id,r)}if(t._armInputComboControl&&t._armInputComboControl.updateSource(i),t.props.onValueChanged)t.props.onValueChanged(i.value);t._armInputActionsCreator.updateEndpoints(i.endpoints)})},t._optionsRefreshed=!1,t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=this.props.instanceId;this._store=y.StoreManager.GetStore(l.ARMInputStore,n);this._armInputActionsCreator=p.ActionsHubManager.GetActionsHub(a.ARMInputActionsCreator,n);this._debouncedUpdateEndpointAuthorizationScope=(new g.Async).debounce(this._armInputActionsCreator.updateEndpointAuthorizationScope,1e3)},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._selectedSubscription=this._store.getState().subscription;this._armInputComboControl.setText(this._store.getState().text);this.setState(this._store.getState());this._store.addChangedListener(this._onStoreChanged);this._refresh(!1)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t={label:this.props.ariaLabel,labelledby:this.props.ariaLabelledBy,describedby:this.props.ariaDescribedBy},r=this.state.showLoadingIcon?"bowtie-icon bowtie-spinner":"azure-manager-input-refresh-icon",u=g.css({Refresh:!this.state.showLoadingIcon}),f=!this.state.authInProgress?"":"required-indicator-info-message";return i.createElement("div",{className:"azurerm-combo-container"},i.createElement("div",{className:"azurerm-combo-dropdown"},i.createElement(c.Component,{value:this.props.value,onGetErrorMessage:this._getErrorMessage,cssClass:f,onNotifyValidationResult:this.props.onNotifyValidationResult},i.createElement("div",{className:"bowtie fabric-style-overrides input-field-picklist"},i.createElement(s.AzureResourceManagerInputCombo,{ref:function(t){n._armInputComboControl=t},disabled:this.props.disabled,onChanged:function(t,i){n._onChanged(t,i)},ariaAttributes:t,onRefresh:function(){return n._refresh(!1)}})),this._getDescription())),i.createElement("div",{className:"input-control-buttons arm-input-buttons"},this.state.showAuthorize&&!this.props.disabled&&i.createElement(k.PrimaryButton,{disabled:this.props.disabled||!this.state.enableAuthorize,onClick:function(t){return n._onAuthorizeClick(t)},className:g.css("fabric-style-overrides","input-control-primary-button"),ariaLabel:this._getAuthorizeButtonText(),"aria-disabled":this.props.disabled||!this.state.enableAuthorize,split:!0,menuProps:{items:[{key:"advancedOptions",name:b.ARMEndpointAdvancedOptions,iconProps:{iconName:"settings"},onClick:this._onClickAdvancedOptions}]}},!!this.state.authInProgress&&i.createElement("span",{className:"bowtie-icon bowtie-spinner"}),this._getAuthorizeButtonText()),!this.props.disabled&&i.createElement(k.IconButton,{disabled:this.props.disabled,onClick:function(t){return n._onRefreshClick(t)},iconProps:{iconName:u,className:r},className:g.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:b.Refresh,ariaDescription:rt.localeFormat(b.RefreshInputDescription,this.props.label),"aria-disabled":this.props.disabled}),this.state.showAddServiceEndpointLink&&!this.props.disabled&&i.createElement(k.CommandButton,{disabled:this.props.disabled,onClick:this._onAddServiceEndpoint,iconProps:{iconName:"Add"},className:g.css("input-control-icon-button","fabric-style-overrides","command-button-override"),ariaLabel:b.New,ariaDescription:rt.localeFormat(b.AddInputDescription,this.props.label),"aria-disabled":this.props.disabled},b.New)))},t.prototype._getScopeLevelDescription=function(){var r=this._store.getState().endpoints,u="subscription",i=u,n,f,t;return r&&(n=r[this.props.value],n&&n.data&&n.data.scopeLevel&&n.data.creationMode&&(i=n.data.scopeLevel,f=n.data.creationMode,t=null,t=rt.equals(i,u,!0)?rt.equals(f,"automatic",!0)?n.data.subscriptionName:null:n.data.managementGroupName,!!t))?rt.localeFormat("{0} '{1}'",i.toLocaleLowerCase(),t):null},t.prototype._refresh=function(n){var t=this,i=r.defer();return this._optionsRefreshed=!1,h.AzureResourceManagerComponentUtility.getConnectedServiceAzureRMOptions(this.props.value,this.props.authSchemes,n,n,this.props.properties).then(function(n){if(i.resolve(null),t._optionsRefreshed=!0,t.setState({showLoadingIcon:!1}),t._armInputActionsCreator.showAddServiceEndpointLink(n.showAddServiceEndpointLink),t._armInputComboControl){if(t._armInputComboControl.updateSource(n),t.props.value!==n.value)t.props.onValueChanged(n.value);t._armInputActionsCreator.updateEndpoints(n.endpoints);t._armInputActionsCreator.updateEndpointAuthorizationScope(n.value)}},function(n){t._optionsRefreshed=!0;i.reject(n);t.setState({showLoadingIcon:!1})}),i.promise},t.prototype._getAuthorizeButtonText=function(){return!this.state.authInProgress?b.Authorize:b.Authorizing},t.prototype._publishaddServiceEndPointTelemetry=function(n){var t={};t[w.Properties.ServiceEndpointType]=n;w.Telemetry.instance().publishEvent(w.Feature.AddServiceConnection,t)},t}(f.Component);t.AzureRMInputBaseComponent=ot;ft.registerLWPComponent("azureResourceManagerInputComponent",et)});

define("DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSSUI/Checkbox","OfficeFabric/Utilities","VSS/Diag"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n,i){t.onValueChanged(i);o.logVerbose("[BooleanInputComponent._onChanged]: new value"+i)},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_BOOLEAN},t.prototype.setFocus=function(){this._checkbox&&this._checkbox.focus()},t.prototype.getControl=function(){var n=this;return o.logVerbose("[BooleanInputComponent.getControl]: Method called."),i.createElement(f.Checkbox,{ref:function(t){n._checkbox=t},id:this.getInputFieldControlElementId(),className:this.props.cssClass,label:this.props.label,checked:this.state.value,onChange:this._onChanged,disabled:this.props.disabled,ariaLabel:this.props.ariaLabel,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId()})},t.prototype.getInputClassName=function(){return e.css(n.prototype.getInputClassName.call(this),"bowtie-fabric")},t.prototype.hasLabel=function(){return!1},t.prototype.addLabelControl=function(){return!1},t}(u.InputBase);t.BooleanInputComponent=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/EditorExtensionButtonComponent",["require","exports","react","DistributedTasksCommon/TFS.Tasks.Models","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Diag","VSS/SDK/Shim","VSS/Utils/String","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/Sources/ContributionSource","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Telemetry/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.state={showButton:!1},!i.props.properties||(i._contributionId=i.props.properties[h.InputControlType.INPUT_CONTROL_EDITOR_EXTENSION]),i}return __extends(t,n),t.prototype.componentDidMount=function(){var t=this;n.prototype.componentDidMount.call(this);this._componentMounted=!0;!this._contributionId||c.ContributionSource.instance().getAllEditorExtensions().then(function(n){var i=!1,r=n.filter(function(n){return o.ignoreCaseComparer(n.id,t._contributionId)===0});r.length>0&&(i=!0);t._componentMounted&&t.setState({showButton:i})},function(){t._componentMounted&&t.setState({showButton:!1})})},t.prototype.componentWillUnmount=function(){this._componentMounted=!1},t.prototype.render=function(){return f.logVerbose("[EditorExtensionButtonComponent.render]: Method called."),this.state.showButton?i.createElement("div",{className:"input-control-buttons"},i.createElement(l.IconButton,{className:a.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),iconProps:{iconName:"More"},ariaDescription:o.localeFormat(u.EditorExtensionButtonAriaLabel,this.props.label),ariaLabel:u.InputsEditorExtensionLabel,onClick:this._openDialog()})):null},t.prototype._openDialog=function(){var n=this;return f.logVerbose("[EditorExtensionButtonComponent.render]: Method called."),function(){var t=n.props.inputDefinition.name,s=n.props.inputDefinition.label||u.InputsEditorExtensionLabel,i=n.props.getAllInputValues(),h=n.props.taskDelegates,c=n.props.onOkCallback,l=i[t],f=n._contributionId;e.VSS.getService("ms.vss-web.dialog-service").then(function(e){var a,y;v.publishEvent(new v.TelemetryEventData(r.CustomerIntelligenceInfo.Area,r.CustomerIntelligenceInfo.FeatureInputEditorExtension,{extensionId:n._contributionId,TaskInputEditorExtensionClick:1,editorType:"NewEditor"}));y={title:s,resizable:!1,modal:!0,height:600,width:550,cancelText:u.CancelButtonText,okText:u.OK,getDialogResult:function(){return a&&a.onOkClicked?a.onOkClicked():l},okCallback:function(n){this.modal=!1;c(n)},close:function(){a&&a.onCloseDialog&&a.onCloseDialog()},defaultButton:o.empty};e.openDialog(f,y,{target:t,inputValues:i,extensionDelegates:h}).then(function(n){n.getContributionInstance(f).then(function(t){t&&t.onOkClicked?(a=t,n.updateOkButton(!0)):(n.setTitle(u.ErrorWhileOpeningEditorExtension),n.updateOkButton(!1))},function(){n.setTitle(u.ErrorWhileOpeningEditorExtension);n.updateOkButton(!1)})})})}},t}(s.Component);t.EditorExtensionButtonComponent=y});

define("DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputComponent",["require","exports","react","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ValidatableTextField","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/ClipboardUtils","VSS/Diag","VSS/Controls/Dialogs","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.onNotifyValidationResult=function(n,i){if(t.props.onNotifyValidationResult)t.props.onNotifyValidationResult(n,i)},t._handlePaste=function(n){var i=s.ClipboardUtils.getPastedText(n);i&&t._maxLength&&i.length>t._maxLength&&t._showWarningMessage()},t._defaultNumOfRows=2,t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_MULTI_LINE},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=n.prototype.getContainer.call(this);t&&(this._input=t.querySelector("textarea"),this._input&&(this._input.addEventListener("paste",this._handlePaste),this._input.setAttribute("aria-describedby",this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId())))},t.prototype.componentWillUnmount=function(){this._input&&this._input.removeEventListener("paste",this._handlePaste);n.prototype.componentWillUnmount.call(this)},t.prototype.getControl=function(n,t){h.logVerbose("[MultiLineInputComponent.getControl]: Method called.");var u=this._defaultNumOfRows,f,s=n==null?this.state.value:n,o=!!t||this.props.disabled;return this.props.properties&&(u=parseInt(this.props.properties.rows,10),f={resize:r.DtcUtils.getBoolValue(this.props.properties.resizable)?"vertical":"none",pointerEvents:"auto"},this._maxLength=parseInt(this.props.properties.maxLength,10)),i.createElement(e.ValidatableTextField,{id:this.getInputFieldControlElementId(),"aria-labelledby":this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),"aria-describedby":this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),"aria-required":this.props.required,multiline:!0,resizable:this.props.isNotResizable?!1:!0,value:s,onChanged:this.onValueChanged,onGetErrorMessage:this.getErrorMessage,rows:isNaN(u)?this._defaultNumOfRows:u,maxLength:isNaN(this._maxLength)?null:this._maxLength,style:f,disabled:o,"aria-disabled":o,onNotifyValidationResult:this.onNotifyValidationResult})},t.prototype._showWarningMessage=function(){var n=this;l.delay(this,0,function(){var t={title:o.WarningText,buttons:[{id:"ok-button",text:o.OK}]};c.showMessageDialog(a.localeFormat(o.PastedContentClippedText,n._maxLength),t)})},t}(f.TextInputComponentBase);t.MultiLineInputComponent=v});

define("DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputWithEditorExtensionComponent",["require","exports","react","q","DistributedTaskControls/SharedControls/InputControls/Components/EditorExtensionButtonComponent","DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputComponent","VSS/Diag","VSS/VSS"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.onNotifyValidationResult=function(n){if(i.props.onNotifyValidationResult)i.props.onNotifyValidationResult(n,i.state.value)},i.onValueChanged=function(n){i._updateDisplayTextValue(n);i.props.onValueChanged(n)},i._updateDisplayTextValue=function(n){var t=i.state,r=!(n==null),u;if(t.value=r?n:t.value,i._displayFormat)try{u=JSON.parse(t.value);i._resolveTemplateString(i._displayFormat,u).then(function(n){t.formattedDisplayValue=n;i._setStateSafely(t)},function(){t.formattedDisplayValue=t.value;i._setStateSafely(t)})}catch(f){t.formattedDisplayValue=t.value;i._setStateSafely(t)}else r&&i.setState(t)},i._setStateSafely=function(n){i._isMounted&&i.setState(n)},i._getDisplayFormat=function(){return!(i._inputDefinition&&i._inputDefinition.properties)?null:i._inputDefinition.properties.displayFormat},i._inputDefinition=i.props.inputDefinition,i._displayFormat=i._getDisplayFormat(),i._isMounted=!1,i}return __extends(t,n),t.prototype.componentDidMount=function(){this._isMounted=!0;n.prototype.componentDidMount.call(this);this._updateDisplayTextValue()},t.prototype.componentWillUnmount=function(){this._isMounted=!1;n.prototype.componentWillUnmount.call(this)},t.prototype.getControl=function(){e.logVerbose("[MultilineInputWithEditorExtensionComponent.getControl]: Method called.");var t=this.state,r=!!this._displayFormat||this.props.disabled;return i.createElement("div",{className:"input-control-with-editor-extension"},i.createElement("div",{className:"string-input-component-value"},n.prototype.getControl.call(this,t.formattedDisplayValue,r)),!this.props.disabled&&i.createElement(u.EditorExtensionButtonComponent,__assign({onOkCallback:this.onValueChanged.bind(this)},this.props)))},t.prototype._resolveTemplateString=function(n,t){var i=r.defer();return n?(t&&n.indexOf("{{")>=0?o.using(["DistributedTaskControls/Common/3rdParty/mustache"],function(r){try{n=r.render(n,t);i.resolve(n)}catch(u){i.resolve(t)}}):i.resolve(n),i.promise):r.resolve(t)},t}(f.MultiLineInputComponent);t.MultilineInputWithEditorExtensionComponent=s});

define("DistributedTaskControls/SharedControls/InputControls/Components/RadioInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","OfficeFabric/ChoiceGroup","OfficeFabric/Utilities","VSS/Diag","DistributedTaskControls/Common/JQueryWrapper"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(n,i){t.onValueChanged(i)},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_RADIO},t.prototype.getControl=function(){return o.logVerbose("[RadioInputComponent.getControl]: Method called."),i.createElement("div",{className:e.css({"show-options-horizontally":!this.props.showOptionsVertically,"fabric-style-overrides":!this.props.noCustomFabricOverrides})},i.createElement(f.ChoiceGroup,{ref:this._resolveRef("_choiceGroup"),id:this.getInputFieldControlElementId(),"aria-labelledby":this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),required:this.props.required,className:"input-control-radio-button",options:this._getOptions(),onChange:this._onChange,"aria-disabled":this.props.disabled,disabled:this.props.disabled}))},t.prototype._getOptions=function(){var n=this,t=[];return this.props.options&&this.props.options.forEach(function(i){t.push(s.JQueryWrapper.extend(i,{"aria-describedby":n.props.ariaDescribedBy||n.getInputFieldDescriptionElementId()}))},this),t},t.prototype.setFocus=function(){this._choiceGroup&&this._choiceGroup.focus()},t}(u.InputBase);t.RadioInputComponent=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/StringListInputComponent",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChanged=function(n){s.logVerbose("[StringListInputComponent._onChanged]: new value "+n);var i=t._stringify(n);t.setState({value:i,inputValueDelimitedString:n});t.props.onValueChanged(i);s.logVerbose("[StringListInputComponent._onChanged]: updatedValue "+i)},t}return __extends(t,n),t.prototype.componentWillMount=function(){var t=this;n.prototype.componentWillMount.call(this);this.setState(function(n){var i=__assign({},n);return i.inputValueDelimitedString=t._getDelimitedStringList(n.value),i})},t.prototype.getType=function(){return f.InputControlType.INPUT_TYPE_STRING_LIST},t.prototype.getControl=function(){return s.logVerbose("[StringListInputComponent.getControl]: Method called."),this.props.disallowResetDelimitedString&&!this.props.disallowResetDelimitedString()&&this._stringify(this.state.inputValueDelimitedString)!==this.state.value&&(this.state.inputValueDelimitedString=this._getDelimitedStringList(this.state.value)),i.createElement(o.Component,{id:this.getInputFieldControlElementId(),ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),value:this.state.inputValueDelimitedString,onChanged:this._onChanged,disabled:this.props.disabled,onGetErrorMessage:this.getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype._getDelimitedStringList=function(n){var t=h.empty,i;return n&&(i=this._parseValue(n),t=this._convertValue(i)),s.logVerbose("[StringListInputComponent._getDelimitedStringList]: delimitedStringList "+t),t},t.prototype._convertValue=function(n){return(n||[]).join(r.CommaSeparator)},t.prototype._parseValue=function(n){var t=[];try{t=!n?[]:JSON.parse(n)}catch(i){s.logError("[StringListInputComponent._parseValue]: Json parsing Error "+i)}return u.DtcUtils.fixEmptyAndRecurringStringValuesInArray(n?t:[])},t.prototype._stringify=function(n){return JSON.stringify(this._getValues(n))},t.prototype._getValues=function(n){var t=n.trim();return t?t.split(r.CommaSeparator):[]},t}(e.InputBase);t.StringListInputComponent=c});

define("DistributedTaskControls/SharedControls/InputControls/Components/StringInputWithEditorExtensionComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Components/EditorExtensionButtonComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","VSS/Diag"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getControl=function(){return f.logVerbose("[StringInputWithEditorExtensionComponent.getControl]: Method called."),i.createElement("div",{className:"input-control-with-editor-extension"},i.createElement("div",{className:"string-input-component-value"},n.prototype.getControl.call(this)),!this.props.disabled&&i.createElement(r.EditorExtensionButtonComponent,__assign({onOkCallback:this.onValueChanged.bind(this)},this.props)))},t}(u.StringInputComponent);t.StringInputWithEditorExtensionComponent=e});

define("DistributedTaskControls/SharedControls/InputControls/Components/FilePathInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/TextInputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/ExpandableTextbox","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onClick=function(){t.props.filePathProviderDelegate?(h.logInfo("[FilePathInputComponent._onClick]: Calling filePathProviderDelegate method to launch the file selection dialog."),t.props.filePathProviderDelegate(t.state.value,function(n){t.onValueChanged(n.path)})):h.logInfo("[FilePathInputComponent._onClick]: Error: filePathProviderDelegate is not a function.")},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_FILE_PATH},t.prototype.getControl=function(){return h.logVerbose("[FilePathInputComponent.getControl]: Method called."),i.createElement("div",{className:s.css("input-control-file-path",{"is-browsable":this.props.isFileSystemBrowsable&&this.props.isFileSystemBrowsable()&&!this.props.disabled})},i.createElement("div",{className:"input-control-file-path-name"},i.createElement(f.Component,{required:this.props.required,id:this.getInputFieldControlElementId(),ariaLabelledBy:this.props.ariaLabelledBy||this.getInputFieldLabelElementId(),ariaDescribedBy:this.props.ariaDescribedBy||this.getInputFieldDescriptionElementId(),value:this.state.value,onChanged:this.onValueChanged,disabled:this.props.disabled,onGetErrorMessage:this.getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})),i.createElement("div",{className:"input-control-buttons"},this.props.isFileSystemBrowsable&&this.props.isFileSystemBrowsable()&&!this.props.disabled&&i.createElement("div",{className:"input-container-file-path-browse-button-container"},i.createElement(o.IconButton,{className:s.css("input-control-file-path-browse-button","input-control-icon-button","fabric-style-overrides","icon-button-override"),iconProps:{iconName:"More"},onClick:this._onClick,ariaDescription:c.localeFormat(e.BrowseInputComponentDescription,this.props.label),ariaLabel:e.Browse}))))},t}(u.TextInputComponentBase);t.FilePathInputComponent=l});

define("VSS/Identities/Picker/Common",["require","exports"],function(n,t){var r,i;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(n,t){this.filterByAncestorEntityIds=n||[];this.filterByEntityIds=t||[]}return n.GetHashCode=function(t){var r=i._hashSeed,e,u,f,o;if(t==null)return r;for(e=t.filterByAncestorEntityIds.sort().concat([n._hashSeparator],t.filterByEntityIds.sort()),u=0,f=e;u<f.length;u++)o=f[u],r=r*i._stringListHashPrime+i.GetStringHashCode(o),r=r&r;return r},n.isFilterByScopeEmpty=function(n){return n&&n.filterByAncestorEntityIds.length==0&&n.filterByEntityIds.length==0},n._hashSeparator="@",n}();t.FilterByScope=r;i=function(){function n(){}return n.GetStringHashCode=function(t){var i=n._hashSeed,r;if(t)for(t=t.trim().toLowerCase(),r=0;r<t.length;r++)i=i*n._stringHashPrime+t.charCodeAt(r),i=i&i;return i},n.GetStringListHashCode=function(t){var i=n._hashSeed,r;if(t)for(r in t)i=i*n._stringListHashPrime+n.GetStringHashCode(r),i=i&i;return i},n._hashSeed=0,n._stringListHashPrime=31,n._stringHashPrime=37,n}();t.CommonHelpers=i});

define("VSS/Identities/Picker/Constants",["require","exports"],function(n,t){var i,r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(){}return n.Area="IdentityPicker",n.Scenario_GetMru_Rtt="IdentityPicker_MruService_GetMru_Rtt",n.Scenario_AddMru_Rtt="IdentityPicker_MruService_AddMru_Rtt",n.Scenario_RemoveMru_Rtt="IdentityPicker_MruService_RemoveMru_Rtt",n.Scenario_GetDirectory_Rtt="IdentityPicker_IdentityService_GetDirectory_Rtt",n.Scenario_GetConnections_Rtt="IdentityPicker_IdentityService_GetConnections_Rtt",n.Scenario_GetUserConnections_Rtt="IdentityPicker_IdentityService_GetUserConnections_Rtt",n.Scenario_PagingQuerySplit="IdentityPicker_PagingQuerySplit",n.Feature_DropdownControl="DropdownControl",n.Feature_SearchControl="SearchControl",n.Feature_IdCardDialogControl="IdCardDialogControl",n.Feature_DisplayControl="DisplayControl",n.Feature_TwoLayerCache="TwoLayerCache",n.Feature_RequestCache="RequestCache",n.Feature_Select_Mru_NoPrefix="Select_Mru_NoPrefix",n.Feature_Select_Mru_Prefix="Select_Mru_Prefix",n.Feature_Select_Mru_Dir="Select_Mru_Dir",n.Feature_Select_Dir="Select_Dir",n.Feature_Click_IdCard="Click_IdCard",n.Feature_Click_Remove_Mru="Click_Remove_Mru",n.Feature_ApiExceptions="Api_Exceptions",n}();t.Telemetry=i;r=function(){function n(){}return n.prefixType="p_prefixType",n.prefixLength="p_prefixLength",n.userId="p_userId",n.accountProjectCollectionTeam="p_accountProjectCollectionTeam",n.identityTypes="p_identityTypes",n.operationScopes="p_operationScopes",n.maxResults="p_maxResults",n.minResults="p_minResults",n.consumerId="p_consumerId",n.extensionId="p_extensionId",n.entityId="p_entityId",n.exceptionData="p_exceptionData",n.isMru="p_isMru",n.isNonMaterialized="p_isNonMaterialized",n.isTwoLayerCacheHit="p_isTwoLayerCacheHit",n.isDirSearchUid="p_isDirSearchUid",n}();t.TelemetryProperties=r;u=function(){function n(){}return n.SignInAddress="signInAddress",n.DomainSamAccountName="domainSamAccountName",n.EntityId="entityId",n.Vsid="vsid",n.ScopedPrefix="scopedPrefix",n.StringPrefix="stringPrefix",n}();t.PrefixType=u;f=function(){function n(){}return n.UnknownConsumer="UNKNOWN",n}();t.ConsumerId=f;e=function(){function n(){}return n.Fulfilled="fulfilled",n.Rejected="rejected",n}();t.PromiseResultStatus=e;t.diacriticsRemovalMap={A:"A","\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"A","\ua738":"AV","\ua73a":"AV","\ua73c":"AY",B:"B","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B",C:"C","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C",D:"D","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz",E:"E","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E",F:"F","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F",G:"G","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G",H:"H","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H",I:"I","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I",J:"J","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J",K:"K","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K",L:"L","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj",M:"M","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M",N:"N","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj",O:"O","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU",P:"P","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P",Q:"Q","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q",R:"R","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",S:"S","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S",T:"T","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ",U:"U","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U",V:"V","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY",W:"W","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W",X:"X","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X",Y:"Y","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y",Z:"Z","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z",a:"a","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",b:"b","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b",c:"c","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c",d:"d","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz",e:"e","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e",f:"f","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f",g:"g","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g",h:"h","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv",i:"i","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i",j:"j","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j",k:"k","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k",l:"l","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj",m:"m","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m",n:"n","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj",o:"o","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo",p:"p","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p",q:"q","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q",r:"r","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r",s:"s","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s",t:"t","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz",u:"u","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u",v:"v","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy",w:"w","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w",x:"x","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x",y:"y","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y",z:"z","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"}});

define("VSS/Identities/Picker/RestClient",["require","exports","VSS/WebApi/Constants","VSS/WebApi/RestClient"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetIdentities=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetIdentities"};},t.prototype.beginGetIdentityImageLocation=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetImageLocation"};},t.prototype.beginGetConnections=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetConnections"};},t.prototype.beginGetIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetMru"};},t.prototype.beginPatchIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginPatchMru"};},t}(r.VssHttpClient);t.AbstractIdentityPickerHttpClient=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetIdentities=function(n){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentitiesLocationId,httpMethod:"POST",data:n})},t.prototype.beginGetIdentityImageLocation=function(n){var r=this,u={objectId:n};return t._identityImageLocation||(t._identityImageLocation=this._beginGetLocation(i.CommonIdentityPickerResourceIds.ServiceArea,i.CommonIdentityPickerResourceIds.IdentityAvatarLocationId)),t._identityImageLocation.then(function(n){return r.getRequestUrl(n.routeTemplate,n.area,n.resourceName,u,{})})},t.prototype.beginGetConnections=function(n,t){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityConnectionsLocationId,httpMethod:"GET",routeValues:{objectId:n},data:t})},t.prototype.beginGetIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"GET",routeValues:{objectId:n,featureId:t},data:r})},t.prototype.beginPatchIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"PATCH",routeValues:{objectId:n,featureId:t},data:r})},t._identityImageLocation=null,t}(u);t.CommonIdentityPickerHttpClient=f});

define("VSS/Identities/Picker/Cache",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/Constants","VSS/Telemetry/Services"],function(n,t,i,r,u,f){var s,e,o,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(){}return n.guessQueryTokenType=function(t){return r.isGuid(t)&&!r.isEmptyGuid(t)?e.Guid:n._isValidEmail(t)?e.Email:n._isPotentialEntityId(t)?e.UniqueIdentifier:e.Unknown},n._isPotentialEntityId=function(n){var t=n.split(".");return t.length==6&&r.isGuid(t[5])&&!r.isEmptyGuid(t[5])?!0:!1},n._isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n}(),function(n){n[n.Unknown=0]="Unknown";n[n.UniqueIdentifier=1]="UniqueIdentifier";n[n.Guid=2]="Guid";n[n.Email=3]="Email"}(e=t.CacheableTypes||(t.CacheableTypes={}));o=function(){function n(){this._cache={};this._config={expirationIntervalS:86400}}return n.prototype.get=function(n){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};if(!this._cache.hasOwnProperty(n)||!this._cache[n])return null;var t=this._cache[n];return(new Date).getTime()/1e3>t.expiryTimeS?(delete this._cache[n],null):this._cache[n].item},n.prototype.set=function(n,t){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};var i={item:t,expiryTimeS:(new Date).getTime()/1e3+this._config.expirationIntervalS};this._cache[n]=i},n.prototype.clear=function(){var n=this._getKeys(),t;if(n&&n.length!=0)for(t in n)delete this._cache[t]},n.prototype.configure=function(n){this._config=n},n.prototype._getKeys=function(){return Object.keys(this._cache)},n}();t.HashCache=o;h=function(){function n(){this._config={delayIntervalMS:n._defaultDelayIntervalMS};this._cache=new o;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})}return n.prototype.getPromise=function(n){this._setOrResetTimer();var t=this._cache.get(n);return t?t:null},n.prototype.setPromise=function(n,t){this._setOrResetTimer();this._cache.set(n,t)},n.prototype.configure=function(n){this._config=n;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})},n.prototype._setOrResetTimer=function(){var n=this;this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null);this._timeoutHandle=setTimeout(i.delegate(this,function(){n._cache.clear()}),this._config.delayIntervalMS)},n._defaultDelayIntervalMS=6e4,n}();t.RequestCache=h;c=function(){function n(n){this._redirectors={};this.configure(n);this._objectCache=new o}return n.prototype.configure=function(n){if(!n||!n.getUniqueIdentifier)throw{source:"TwoLayerCache configure",message:"missing config or missing the required getUniqueIdentifier property",parameter:"config"};this._config=n},n.prototype.addRedirector=function(n){if(n===null||n===undefined)throw{source:"TwoLayerCache addRedirector",message:"invalid null/undefined cacheType",parameter:"cacheType"};if(this._redirectors.hasOwnProperty(n.toString()))throw{source:"TwoLayerCache addRedirector",message:"redirector with supplied cacheType already exists: currently at most one redirector supported for a CacheType",parameter:"cacheType"};this._redirectors[n.toString()]=new o},n.prototype.get=function(n,t){return this._queryCache(n,t)},n.prototype.set=function(n,t,i){var u,r,f;if(u=i?i:s.guessQueryTokenType(n).toString(),r=this._config.getUniqueIdentifier(t),!r)throw{source:"TwoLayerCache set",message:"could not retrieve a valid unique identifier from the value"};if(u==e.UniqueIdentifier.toString()||r==n||this._redirectors.hasOwnProperty(u.toString())){if(u==e.UniqueIdentifier.toString()||r==n){this._objectCache.set(n,t);return}f=this._redirectors[u];f.set(n,r);this._objectCache.set(r,t);return}},n.prototype._queryCache=function(n,t){var i,r;return i=t?t:s.guessQueryTokenType(n).toString(),i==e.UniqueIdentifier.toString()?this._objectCache.get(n):this._redirectors.hasOwnProperty(i.toString())?(r=this._redirectors[i].get(n),!r)?null:this._objectCache.get(r):this._objectCache.get(n)},n}();t.TwoLayerCache=c;l=function(){function n(){}return n.traceCacheHit=function(n,t){var r=n!=null,i={};i[u.TelemetryProperties.isTwoLayerCacheHit]=r;f.publishEvent(new f.TelemetryEventData(u.Telemetry.Area,t,i))},n}()});

define("VSS/Identities/Picker/Services",["require","exports","VSS/Context","VSS/Locations","VSS/Performance","VSS/Service","VSS/Telemetry/Services","VSS/User/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/RestClient","VSS/Identities/Picker/Cache","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","q"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var w,p,b,k;Object.defineProperty(t,"__esModule",{value:!0});w=s.delegate;p=function(){function n(){}return n.getOperationScopeList=function(n){var t=[];return n.IMS&&t.push("ims"),n.Source&&t.push("source"),n.AAD&&t.push("aad"),n.AD&&t.push("ad"),n.WMD&&t.push("wmd"),n.GHB&&t.push("ghb"),t},n.getQueryTypeHint=function(n){var t=void 0;return n?(n.UID&&(t="uid"),t):t},n.getIdentityTypeList=function(t){var i=[];return t.User&&i.push(n.UserEntity),t.Group&&i.push(n.GroupEntity),i},n.getConnectionTypeList=function(n){var t=[];return n.successors?t.push("successors"):n.successors&&t.push("predecessors"),n.managers&&t.push("managers"),n.directReports&&t.push("directReports"),t},n.getDefaultIdentityImage=function(t){return t.entityType.toLowerCase().trim()==n.GroupEntity?t.originDirectory.toLowerCase().trim()==n.VisualStudioDirectory?n.DefaultVsoGroupImage:n.DefaultRemoteGroupImage:n.DefaultUserImage},n.getDistinct=function(n){return n.filter(function(n,t,i){return i.indexOf(n)==t})},n.isAuthenticatedMember=function(){return o.getService().hasClaim(o.UserClaims.Member)},n.getPrefixTypeForTelemetry=function(n){var t,r;return h.isGuid(n)?v.PrefixType.Vsid:(t=n.indexOf("@"),t&&n.indexOf(".",t))?v.PrefixType.SignInAddress:(r=n.indexOf("\\"),r&&r==n.lastIndexOf("\\"))?i.getPageContext().webAccessConfiguration.isHosted?v.PrefixType.ScopedPrefix:v.PrefixType.DomainSamAccountName:n.startsWith("vss.ds.v1")?v.PrefixType.EntityId:v.PrefixType.StringPrefix},n.addScenarioProperties=function(t,i,r,u,f,e){return u&&(i[v.TelemetryProperties.identityTypes]=n.getIdentityTypeList(u)),r&&(i[v.TelemetryProperties.operationScopes]=n.getOperationScopeList(r)),f&&(i[v.TelemetryProperties.maxResults]=f.maxResults,i[v.TelemetryProperties.minResults]=f.minResults),i[v.TelemetryProperties.consumerId]=e?e.consumerId:v.ConsumerId.UnknownConsumer,i[v.TelemetryProperties.userId]=t&&t.getWebContext()&&t.getWebContext().user?t.getWebContext().user.id:"",i[v.TelemetryProperties.accountProjectCollectionTeam]=n._getHostMetadata(t),i},n._getHostMetadata=function(n){var t="",i="",r="",u="";return n&&n.getWebContext()&&(t=n.getWebContext().account?n.getWebContext().account.name:"",i=n.getWebContext().collection?n.getWebContext().collection.name:"",r=n.getWebContext().project?n.getWebContext().project.name:"",u=n.getWebContext().team?n.getWebContext().team.name:""),"account["+t+"]/collection["+i+"]/project["+r+"]/team["+u+"]"},n._defaultProperties=["DisplayName","IsMru","ScopeName","SamAccountName","Active","SubjectDescriptor"],n._defaultUserProperties=["Department","JobTitle","Mail","MailNickname","PhysicalDeliveryOfficeName","SignInAddress","Surname","Guest","TelephoneNumber"],n._defaultGroupProperties=["Description"],n.DefaultUserImage=r.urlHelper.getVersionedContentUrl("ip-content-user-default.png"),n.DefaultVsoGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-vso-group-default.png"),n.DefaultRemoteGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-aad-group-default.png"),n.VisualStudioDirectory="vsd",n.AzureActiveDirectory="aad",n.ActiveDirectory="ad",n.WindowsMachineDirectory="wmd",n.SourceDirectory="src",n.GitHubDirectory="ghb",n.UserEntity="user",n.GroupEntity="group",n.OptionsMinResultsKey="MinResults",n.OptionsMaxResultsKey="MaxResults",n.ExtensionData_ExtensionIdKey="ExtensionId",n.ExtensionData_ProjectScopeNameKey="ProjectScopeName",n.ExtensionData_CollectionScopeNameKey="CollectionScopeName",n.ExtensionData_ConstraintListKey="Constraints",n.ExtensionData_NoServiceIdentities="NoServiceIdentities",n.GetIdentities_Prefix_Separator=";",n}();t.ServiceHelpers=p;b=function(n){function t(){var t=__construct(this,n,[]),i,r;for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return r={getUniqueIdentifier:function(n){return n&&n.identities&&n.identities.length==1?n.identities[0].entityId:null}},t._qtrCache=new l.TwoLayerCache(r),t._qtrCache.addRedirector(l.CacheableTypes.Email),t._qtrCache.addRedirector(l.CacheableTypes.Guid),t._qtrRequestAggregator=new l.RequestCache,t._entityImageRequestAggregator=new l.RequestCache,t}return __extends(t,n),t.prototype.getIdentities=function(n,i,r,f,o,s){var it=this,k,b,h,rt,st,vt,ht,g,ct,ut,lt,yt,l,at,tt,et,bt,nt;if(!i){tt={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw tt;}if(!r){tt={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw tt;}if(k=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetDirectory_Rtt),b={},b=p.addScenarioProperties(this,b,i,r,f,s),b[v.TelemetryProperties.prefixType]=p.getPrefixTypeForTelemetry(n),b[v.TelemetryProperties.prefixLength]=n.length,b[v.TelemetryProperties.isDirSearchUid]=Boolean(o&&o.UID),h={},rt={},!n)return rt;l=[];st=n.split(p.GetIdentities_Prefix_Separator);for(vt in st)ht=st[vt].trim(),ht&&l.push(ht);l=p.getDistinct(l);l.forEach(function(n){h[n.toLowerCase()]=y.defer();rt[n.toLowerCase()]=h[n.toLowerCase()].promise});for(g in h){if(ct=t.getUniqueRequestString(g,i,r,f?f.extensionData:null,f?f.getFilterByScope():null),ut=this._qtrCache.get(ct),ut){ut.queryToken=g;h[g].resolve(ut);l=t._removeQueryToken(g,l);continue}if(lt=this._qtrRequestAggregator.getPromise(ct),lt){yt=w(this,function(n){lt.then(w(it,function(t){h&&h[n]&&h[n].resolve(t)}),w(it,function(t){h&&h[n]&&h[n].reject(t)}))});yt(g);l=t._removeQueryToken(g,l);continue}}if(l.length==0)return rt;for(at in l)this._qtrRequestAggregator.setPromise(t.getUniqueRequestString(l[at],i,r,f?f.extensionData:null,f?f.getFilterByScope():null),h[l[at].toLowerCase()].promise);n=l.join(p.GetIdentities_Prefix_Separator);var pt=p.getIdentityTypeList(r),wt=p.getOperationScopeList(i),ft=p.getQueryTypeHint(o);if(pt.length==0||wt.length==0){tt={source:"IdentityService",parameter:"identityType or operationScope",message:"queried identityType or operationScope is/are unsupported"};throw tt;}f&&f.httpClient?et=f.httpClient:(bt=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),et=bt);var kt=pt,dt=wt,d={};f&&f.minResults&&(d[p.OptionsMinResultsKey]=f.minResults);f&&f.maxResults&&(d[p.OptionsMaxResultsKey]=f.maxResults);f&&f.extensionData&&(d[p.ExtensionData_ExtensionIdKey]=f.extensionData.extensionId,d[p.ExtensionData_ProjectScopeNameKey]=f.extensionData.projectScopeName,d[p.ExtensionData_CollectionScopeNameKey]=f.extensionData.collectionScopeName,d[p.ExtensionData_ConstraintListKey]=f.extensionData.constraints);nt=p._defaultProperties;r.User&&(nt=nt.concat(p._defaultUserProperties));r.Group&&(nt=nt.concat(p._defaultGroupProperties));var ni=function(n){if(n.results.length<1)return u;var s=function(n){if(k&&k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_End_"+n&&n.results[0]?a.CommonHelpers.GetStringHashCode(n.results[0].queryToken).toString():""),n&&n.results.length!=0){n.results[0].identities.forEach(function(n){n.image||(n.image=p.getDefaultIdentityImage(n))});it._cacheQueryTokenResult(n.results[0],t.getUniqueRequestString(n.results[0].queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null));var u=n.results[0].queryToken;u&&h[u.toLowerCase().trim()]&&h[u.toLowerCase().trim()].resolve(n.results[0])}},o=function(n){for(var t in h)h[t].reject(n);b[v.TelemetryProperties.exceptionData]=n;e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,b))},u,c=function(n){var e,c,l;n.identities&&n.identities.length==0&&n.pagingToken?(e=f&&f.getFilterByScope(),c={query:n.queryToken,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:e?e.filterByAncestorEntityIds:[],filterByEntityIds:e?e.filterByEntityIds:[],pagingToken:n.pagingToken,options:d},ft&&(c.queryTypeHint=ft),k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_Start_"+a.CommonHelpers.GetStringHashCode(n.queryToken).toString()),l=et.beginGetIdentities(c).then(s,o),u&&u.push(l)):n.identities&&n.identities.length>=0?(n.identities.forEach(function(n){n.image||(n.image=p.getDefaultIdentityImage(n))}),it._cacheQueryTokenResult(n,t.getUniqueRequestString(n.queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null)),n.queryToken&&h[n.queryToken.toLowerCase().trim()]&&h[n.queryToken.toLowerCase().trim()].resolve(n)):o()};n.results.forEach(c,it);u&&u.length>0?y.allSettled(u).then(function(){k.addData(b);k.end()},function(){k.addData(b);k.end()}):(k.addData(b),k.end())},ti=function(n){for(var t in h)h[t].reject(n);b[v.TelemetryProperties.exceptionData]=n;e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,b));k.end()},ot=f&&f.getFilterByScope(),gt={query:n,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:ot?ot.filterByAncestorEntityIds:[],filterByEntityIds:ot?ot.filterByEntityIds:[],options:d};return ft&&(gt.queryTypeHint=ft),et.beginGetIdentities(gt).then(ni,ti),rt},t.prototype.getIdentityImages=function(n,i){var h=this,l,r,e,o,a,f,s,v,u;if(!n||n.length<=0){l={source:"IdentityService",parameter:"identities",message:"identities null or undefined or empty list"};throw l;}r={};e={};i&&i.httpClient?o=i.httpClient:(a=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),o=a);u=t._getEntityIdsAsQueryTokens(n);u.forEach(function(n){r[n]=y.defer();e[n]=r[n].promise});for(f in r)if(s=this._entityImageRequestAggregator.getPromise(f),s){v=w(this,function(n){s.then(w(h,function(t){r&&r[n]&&r[n].resolve(t)}),w(h,function(t){r&&r[n]&&r[n].reject(t)}))});v(f);u=t._removeQueryToken(f,u);continue}else this._entityImageRequestAggregator.setPromise(f,r[f].promise);return u.length==0?e:(u.forEach(function(n){var t=function(t){var i;t&&t.trim()&&(i={},i[n]=t.trim(),r[n].resolve(i))};o.beginGetIdentityImageLocation(n).then(t)}),e)},t.prototype.getIdentityConnections=function(n,t,i,r,f,o,s){var h,a,l,w,nt,b,tt;if(!p.isAuthenticatedMember())return null;if(!n){h={source:"IdentityService",parameter:"identity",message:"identity null or undefined or empty list"};throw h;}if(!t){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(!i){h={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw h;}if(!r){h={source:"IdentityService",parameter:"connectionType",message:"connectionType null or undefined"};throw h;}var it=s?s:1,k=p.getIdentityTypeList(i),d=p.getOperationScopeList(t),g=p.getConnectionTypeList(r);if(k.length==0||d.length==0||g.length==0){h={source:"IdentityService",parameter:"identityType or operationScope or connectionType",message:"queried identityType or operationScope or connectionType is/are unsupported"};throw h;}a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetConnections_Rtt);l={};l=p.addScenarioProperties(this,l,t,i,f,o);l[v.TelemetryProperties.entityId]=n.entityId;w=y.defer();nt=w.promise;f&&f.httpClient?b=f.httpClient:(tt=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),b=tt);var rt=p._defaultProperties.concat(p._defaultUserProperties).concat(p._defaultGroupProperties).concat("Manager"),ut={identityTypes:k,operationScopes:d,connectionTypes:g,depth:it,properties:rt},ft=function(n){n&&n.successors&&n.successors.forEach(function(n){n.image||(n.image=p.getDefaultIdentityImage(n))});a.addData(l);a.end();w.resolve(n)},et=function(n){l[v.TelemetryProperties.exceptionData]=n;a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();w.reject(n)};return b.beginGetConnections(n.entityId,ut).then(ft,et),nt},t._getEntityIdsAsQueryTokens=function(n){var t=[];return n.forEach(function(n){(n.entityType.trim().toLowerCase()==p.UserEntity||n.entityType.trim().toLowerCase()==p.GroupEntity)&&t.push(n.entityId)}),t},t.prototype._cacheQueryTokenResult=function(n,t){n.queryToken&&n.queryToken.trim()&&n.identities&&n.identities.length==1&&t&&this._qtrCache.set(t,n)},t._removeQueryToken=function(n,t){var i=-1;return t.some(function(t,r){if(n==t.toLowerCase())return i=r,!0}),i>=0&&t.splice(i,1),t},t.getUniqueRequestString=function(n,i,r,u,f){var e=p.getIdentityTypeList(r).join(","),o=p.getOperationScopeList(i).join(",");return(n+";"+o+";"+e+";"+t.getExtensionUniqueRequestString(u)+";"+a.FilterByScope.GetHashCode(f).toString()).trim().toLowerCase()},t.getExtensionUniqueRequestString=function(n){return n?a.CommonHelpers.GetStringHashCode(n.collectionScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.projectScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.extensionId).toString()+a.CommonHelpers.GetStringListHashCode(n.constraints).toString():""},t.MIN_RESULTS=40,t.MAX_RESULTS=40,t}(f.VssService);t.IdentityService=b;k=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getMruIdentities=function(n,i,r,f,o){var l,h,w,s,a,k,b,d;if(!p.isAuthenticatedMember())return null;if(!n){s={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw s;}if(i&&i.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){s={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw s;}if(i="me",r&&r.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){s={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw s;}if(r="common",l=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetMru_Rtt),h={},h=p.addScenarioProperties(this,h,null,null,f,o),w=p.getOperationScopeList(n),w.length==0){s={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw s;}a=y.defer();k=a.promise;f&&f.httpClient?b=f.httpClient:(d=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),b=d);var g=p._defaultProperties.concat(p._defaultUserProperties).concat(p._defaultGroupProperties),nt={operationScopes:w,properties:g,filterByAncestorEntityIds:f&&f.filterByScope?f.filterByScope.filterByAncestorEntityIds:[],filterByEntityIds:f&&f.filterByScope?f.filterByScope.filterByEntityIds:[]},tt=function(n){l.addData(h);l.end();a.resolve(n.mruIdentities)},it=function(n){h[v.TelemetryProperties.exceptionData]=n;l.addData(h);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,h));l.end();a.reject(n)};return b.beginGetIdentityFeatureMru(i,r,nt).then(tt,it),k},t.prototype.removeMruIdentities=function(n,i,r,f,o,s){var a,l,b,h,w,d,k,g;if(!p.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r="me",f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f="common",a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_RemoveMru_Rtt),l={},l=p.addScenarioProperties(this,l,null,null,o,s),b=p.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}w=y.defer();d=w.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"remove",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();w.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=n;a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();w.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t.prototype.addMruIdentities=function(n,i,r,f,o,s){var b,h,a,l,w,d,k,g;if(!p.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r=t.DEFAULT_IDENTITY_ID,f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f=t.DEFAULT_FEATURE_ID,b=p.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_AddMru_Rtt);l={};l=p.addScenarioProperties(this,l,null,null,o,s);w=y.defer();d=w.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"add",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();w.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=n;a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();w.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t.DEFAULT_IDENTITY_ID="me",t.DEFAULT_FEATURE_ID="common",t}(f.VssService);t.MruService=k});

define("VSS/Identities/Picker/Controls",["require","exports","react","react-dom","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services","VSS/Context","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","VSS/Identities/Picker/Services","VSS/Identities/Picker/Cache","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Telemetry/Services","VSS/VSS","q","VSS/Controls/PopupContent","jQueryUI/core","jQueryUI/button","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var lt,wt,dt,st,pt,kt,gt,ft,at,ni,bt,yt,ti,ii;Object.defineProperty(t,"__esModule",{value:!0});var fi=g.domElem,ut=k.delegate,ot=g.KeyCode,ht;(function(n){n[n.SelectNone=-1]="SelectNone";n[n.SelectFirstItem=0]="SelectFirstItem"})(ht||(ht={}));lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._numItemsDisplayed=0,i._scrollTimeout=100,i._loadOnCreate=!1,i._isFiltered=!0,i._isRepositioning=!1,"eventOptions"in t&&t.eventOptions||(t.eventOptions={uniqueId:ft.getRandomString()}),i.initializeOptionsInternal(t),i}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){this._identityType=n.identityType?n.identityType:{User:!0};this._operationScope=n.operationScope?n.operationScope:{IMS:!0};this._size=n.size!==null&&n.size!==undefined?n.size:st.Large;this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null});this._showContactCard=this._options.showContactCard;this._displayedEntities=[];this._showOnlyMruIdentities=!1;this._enableDirectorySearch();this._options.showMru&&this._disableDirectorySearch();this._isSearchActive=!1;this._preDropdownRender=n.preDropdownRender?n.preDropdownRender:null;this._onDirectorySearchFinished=n.onDirectorySearchFinished?n.onDirectorySearchFinished:null;this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1;this._elementAlign=this._options.alignment&&this._options.alignment.elementAlign?this._options.alignment.elementAlign:"left-top";this._baseAlign=this._options.alignment&&this._options.alignment.baseAlign?this._options.alignment.baseAlign:"left-bottom";this._positioningElement=this._options.alignment&&this._options.alignment.positioningElement?this._options.alignment.positioningElement:null;this._prefix="";a.ServiceHelpers.isAuthenticatedMember()||(this._showContactCard=!1,this._disableDirectorySearch(),this._options.showMru=!1,this._loadOnCreate=!1);this._controlLoaded=null;this._loadOnCreate&&this.load();n.eventOptions&&(this._eventOptions=n.eventOptions)},t.prototype.initializeOptions=function(i){var r=t.DROPDOWN_BASE_CLASS+" "+ft.FIXED_POSTIION_CLASS;n.prototype.initializeOptions.call(this,$.extend({coreCssClass:r,pageSize:i.pageSize?i.pageSize:10},i))},t.prototype.initialize=function(){var i=this,r,u,f;n.prototype.initialize.call(this);r=function(n){n.preventDefault()};this._element.on("mousedown.identityPickerDropdown",ut(this,r));u=function(){return i._scrollTimeout!==null&&(clearTimeout(i._scrollTimeout),i._scrollTimeout=null),i._scrollTimeout=setTimeout(ut(i,i._loadNextPage),100),!1};this._options.smallScreenRender&&(this._$suggestedPeople=$("<div>").addClass("search"),$("<span>").addClass("status-message").text(p.IdentityPicker_SuggestedPeople).appendTo(this._$suggestedPeople),this._$suggestedPeople.appendTo(this._element));f=this._options.useRemainingSpace?"":Math.min((ft.getSizePx(this._size)+t.IMAGE_MARGINS_PX)*this._options.pageSize-10,t.MAX_HEIGHT)+"px";this._$itemsContainer=$("<ul>").addClass("items").attr({role:"listbox",id:o.getId().toString()}).css({"max-height":f});this._$liveStatus=$("<div>").addClass("visually-hidden").attr("aria-live","polite");this._element.append(this._$itemsContainer).append(this._$liveStatus);this._$itemsContainer.scroll(ut(this,u))},t.prototype.getItemsListId=function(){return this._$itemsContainer.length?this._$itemsContainer.attr("id"):""},t.prototype.load=function(){return this._getEntityOperationsFacade().load({loadMru:this._options.showMru,filterByScope:this._options.getFilterByScope()})},t.prototype.addIdentitiesToMru=function(n){var r=this,i;if(a.ServiceHelpers.isAuthenticatedMember())try{if(!n||n.length==0)return;if(i=n.filter(function(n){if(!at.isStringPrefixedLocalId(n))return!0}),!i||i.length==0)return;var u=function(n){r._element&&n==!0&&r._getEntityOperationsFacade().refreshUserMru(r._options.getFilterByScope())},f=function(){},e=w.getService(a.MruService);e.addMruIdentities(i,{IMS:!0},a.MruService.DEFAULT_IDENTITY_ID,a.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(u,f);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype.isVisible=function(){return this._isVisible},t.prototype.isFiltered=function(){return this._isVisible&&this._isFiltered},t.prototype.showAllMruIdentities=function(n){var t=this,i;if(n===void 0&&(n=!0),!this._options.showMru){i={source:"showAllMruIdentities",message:"The showMru option needs to be enabled to call showAllMruIdentities"};throw i;}return this.load().then(ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}),ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}))},t.prototype.getIdentities=function(n,t){var i=this;return t===void 0&&(t=!0),this.load().then(ut(this,function(){return i._getIdentitiesPostLoad(n,t)}),ut(this,function(){return i._getIdentitiesPostLoad(n,t)}))},t.prototype.show=function(){var n=this;this.load().then(ut(this,function(){n._showPostLoad()}),ut(this,function(){n._showPostLoad()}))},t.prototype.hide=function(n,i){var r=this,u;if(i===void 0&&(i=!1),this._isVisible=!1,this._element&&(this._element.hide(),this._element.parents().off(".identityPickerDropdown"),["scroll","resize"].map(function(n){document.removeEventListener(n,ut(r,r._handleScrollAndResize))}),this._isRepositioning=!1),!i&&this._options.onHide)this._options.onHide(n);u={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};h.getService().fire(t.HIDE_DROPDOWN_EVENT_INTERNAL,u)},t.prototype.getSelectedIndex=function(){return this._selectedIndex==-1?null:this._selectedIndex<this._displayedEntities.length-1?this._selectedIndex:this._displayedEntities.length-1},t.prototype.getSelectedItem=function(){return this._selectedIndex==-1||this._selectedIndex>this._displayedEntities.length-1?null:this._displayedEntities[this._selectedIndex]},t.prototype.handleKeyEvent=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this.isVisible()?this._prevItem():!0;case ot.DOWN:return this.isVisible()?this._nextItem():(this.show(),!0);case ot.PAGE_UP:return this.isVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this.isVisible()?this._nextPage():!0;case ot.ENTER:return this.isVisible()&&this._searchButtonClickDelegate(),!0;case ot.ESCAPE:return this.isVisible()?(this.hide(n),n.stopPropagation(),!1):!0;case ot.RIGHT:return this.isVisible()&&this._showContactCard&&this._selectedIndex!=-1?(n.stopPropagation(),$(".identity-picker-contact-card-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0;case ot.DELETE:if(this.isVisible()&&this._options.showMru){var t=this.getSelectedItem();return t&&t.isMru&&et.isDirectoryEntityType(t)?(n.stopPropagation(),$(".identity-picker-delete-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0}return!0;default:return!0}},t.prototype.getPrefix=function(){return this._prefix},t.prototype.updatePrefix=function(n){this._prefix=n?n.toLowerCase().trim():"";this._prefix||(this._isSearchActive=!1,this._disableDirectorySearch())},t.prototype.dispose=function(){this._element&&(this._element.off(".identityPickerDropdown"),this._element.parents().off(".identityPickerDropdown"));n.prototype.dispose.call(this)},t.prototype.reset=function(){this._resetSearchStatuses();this._prefix="";this._enableDirectorySearch();this._displayedEntities=[];this._alterStateAndRender(!1,!1);this._disableDirectorySearch()},t.getClassSelector=function(n){return"."+n},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t.prototype._getUserMruEntitiesPostLoad=function(n){var t=this;return n===void 0&&(n=!0),this._isFiltered=!1,this._showOnlyMruIdentities=!0,this._isDropdownVisibleInitially=this._isVisible,this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())||this._alterStateAndRender(!0,!1,n),this.load().then(ut(this,function(){return t.getIdentities(t._prefix,n)}))},t.prototype._enableDirectorySearch=function(){this._isDirectorySearchEnabled=!0},t.prototype._disableDirectorySearch=function(){this._isDirectorySearchEnabled=!1},t.prototype._resetSearchStatuses=function(){this._isSearchActive=!1;this._disableDirectorySearch()},t.prototype._getIdentitiesPostLoad=function(n,t){var i,r;return(t===void 0&&(t=!0),i=it.defer(),!this._element)?(i.reject(null),i.promise):(this._showLoading(),this._isDropdownVisibleInitially=this._isVisible,this._isSearchActive=!1,this._displayedEntities=[],this._options.showMru&&(this._mruEntities=this._getEntityOperationsFacade().getMruEntitiesUnchecked(this._options.getFilterByScope()),r=a.ServiceHelpers.getIdentityTypeList(this._identityType),this._mruEntities=this._mruEntities.filter(function(n){return r.indexOf(n.entityType.trim().toLowerCase())>=0})),(!n||n.trim().length===0)&&!this._options.smallScreenRender&&(this._resetSearchStatuses(),!this._showOnlyMruIdentities))?(this._prefix=n,this._enableDirectorySearch(),this._alterStateAndRender(!0,!0),this._disableDirectorySearch(),i.resolve([]),i.promise):(n=n.toLowerCase().trim(),this._prefix=n,this._showOnlyMruIdentities)?(this._displayedEntities=this._mruEntities?this._mruEntities:[],this._alterStateAndRender(!1,!1,t),this._showOnlyMruIdentities=!1,this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):(this._options.showMru&&(this._displayedEntities=yt.filterEntities(this._mruEntities,n)),this._isFiltered=!0,this._options.showMru&&!this._isDirectorySearchEnabled)?(this._alterStateAndRender(!0,!1,t),this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):this._getDirectoryEntitiesWithRender(n,i)},t.prototype._getDirectoryEntitiesWithRender=function(n,t){return this._isSearchActive=!0,this._alterStateAndRender(!0),this._getDirectoryEntities(n,t)},t.prototype._checkIfServerException=function(n){return!n||!("serverError"in n)||!n.serverError||!("typeKey"in n.serverError)?!1:!0},t.prototype._getMessageForIpsAuthorizationException=function(n){if(n.serverError.typeKey.trim()=="IdentityPickerAuthorizationException"&&n.serverError.customProperties!=null){var i=n.serverError.customProperties.identityPickerAuthorizationExceptionType,t=p.IdentityPicker_ErrorAuthorizationException;return i==kt.IsGuestUser&&(t=p.IdentityPicker_GuestUserException),t}return null},t.prototype._getDirectoryEntities=function(n,i,r){var u=this,h,a;r===void 0&&(r=!1);var f=function(t){u._element&&(u._isSearchActive=!1,n===u._prefix&&n.length>=1&&(u._displayedEntities=t?t.identities:[],u._alterStateAndRender(!0)),u._onDirectorySearchFinished&&u._onDirectorySearchFinished(u._displayedEntities,n),i.resolve(u._displayedEntities))},e=function(r){if(r&&s.logError("_getDirectoryEntities/getIdentitiesErrorCallback:"+JSON.stringify(r)),n===u._prefix)if(u._checkIfServerException(r)){var f=u._getMessageForIpsAuthorizationException(r);f&&u._showError($("<span>").text(f+" [").append($("<a><\/a>").attr("href",t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK).text(p.IdentityPicker_ErrorMoreDetails).attr("target","_blank")).append($("<span>").text("]")))}else u._showError(p.IdentityPicker_ErrorLoadingIdentities);u._isSearchActive=!1;i.reject(r?r:null)},o=this._options.getFilterByScope();return c.FilterByScope.isFilterByScopeEmpty(o)?f(null):(h={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n,sources:this._options.showMru?[ct.Directory,ct.Mru]:[ct.Directory],filterByScope:o},a=this._getEntityOperationsFacade().search(h).then(function(n){for(var t in n.queryTokenResponse)n.queryTokenResponse[t].then(ut(u,f),ut(u,e))},e)),i.promise},t.prototype._getImagesForDisplayedEntities=function(){var n=this,i=function(i){if(n._element){if(!i)return;n._displayedEntities.forEach(ut(n,function(r){i.hasOwnProperty(r.entityId)&&i[r.entityId]&&(r.image=i[r.entityId],$(t.getClassSelector(t.AVATAR_CLASS),n._$itemsContainer).each(function(n,t){t.hasAttribute("data-objectid")&&t.getAttribute("data-objectid")===r.entityId&&t.setAttribute("src",i[r.entityId])}))}))}},r=function(n){n&&s.logError("_getImagesForDisplayedEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},sources:[ct.Directory]};this._getEntityOperationsFacade().getImagesForEntities(this._displayedEntities,u).then(i,r)},t.prototype._showPostLoad=function(){var n=this,i;if(this._element){this._isVisible=!0;this._element.show();this._setPosition();this._element.parents().on("scroll.identityPickerDropdown resize.identityPickerDropdown",ut(this,this._handleScrollAndResize));["scroll","resize"].map(function(t){document.addEventListener(t,ut(n,n._handleScrollAndResize))});this._isRepositioning=!1;i={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};h.getService().fire(t.SHOW_DROPDOWN_EVENT_INTERNAL,i)}},t.prototype._handleScrollAndResize=function(){var n=this;this._isRepositioning||(this._isRepositioning=!0,k.delay(this,500,ut(this,function(){n._isRepositioning=!1;n._setPosition()})))},t.prototype._constructDropdown=function(n,t,i){n===void 0&&(n=!1);t===void 0&&(t=!0);i===void 0&&(i=!0);this._indexedEntityMap={};t&&this._setupDom();n?this._setSelectedIndex(this._selectedIndex<this._displayedEntities.length?this._selectedIndex:this._isSearchActive?this._displayedEntities.length-1:-1,!0,g.Positioning.VerticalScrollBehavior.Top):(this._selectedIndex=ht.SelectNone,i&&this._numItemsDisplayed>0?this._setSelectedIndex(ht.SelectFirstItem,!1):this._setSelectedIndex(ht.SelectNone,!1))},t.prototype._removeIdentityFromMru=function(n){var i=this;try{if(at.isStringPrefixedLocalId(n))return;var r=function(n){i._element&&n==!0&&i._getEntityOperationsFacade().refreshUserMru(i._options.getFilterByScope())},u=function(){},f=w.getService(a.MruService);f.removeMruIdentities([n],{IMS:!0},a.MruService.DEFAULT_IDENTITY_ID,a.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(r,u);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype._alterStateAndRender=function(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!0),this._element){if(n||this.hide(void 0,!0),this._prefix&&this._prefix.trim().length!=0||(this._isSearchActive=!1),this._displayedEntities=this._displayedEntities||[],this._preDropdownRender&&(this._displayedEntities=this._preDropdownRender(this._displayedEntities,this._isDirectorySearchEnabled)),this._constructDropdown(t,!0,i),!this._isSearchActive&&!this._prefix&&this._displayedEntities.length==0){this.hide();return}n&&(!this._isDropdownVisibleInitially||this._isVisible)&&this.show()}},t.prototype._fireActiveDescendantUpdate=function(n){var i={activeDescendantId:n,uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};h.getService().fire(t.UPDATE_ACTIVE_DESCENDANT_ID,i)},t.prototype._setSelectedIndex=function(n,t,i){i===void 0&&(i=g.Positioning.VerticalScrollBehavior.Bottom);var r=n!==null&&n!==undefined&&this._indexedEntityMap&&this._indexedEntityMap[n]&&(this._selectedIndex!==n||!this._indexedEntityMap[this._selectedIndex].hasClass("selected"));r?(this._selectedIndex=n,this._clearItemsSelection(this._element.find(".search")),this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(this._indexedEntityMap[this._selectedIndex]),t&&this._scrollItemIntoView(this._selectedIndex,i)):$.isNumeric(n)&&(this._selectedIndex=n)},t.prototype._scrollItemIntoView=function(n,t){n!==null&&n!==undefined&&g.Positioning.scrollIntoViewVertical(this._indexedEntityMap[n],t)},t.prototype._setPosition=function(){var n,i,r,u,f,e,o;this._element&&(n=this._getPositioningElement(),this._options.width?this._element.width(this._options.width):(i=n.outerWidth()-t.DROPDOWN_BORDER_PX,this._element.width(i<t.MIN_WIDTH?t.MIN_WIDTH:i)),n.is(":visible")&&g.Positioning.position(this.getElement(),n,{elementAlign:this._elementAlign,baseAlign:this._baseAlign,overflow:"fit-flip"}),r=$(window),u=this._element.offset().top+this._element.height()-r.height()-r.scrollTop(),u>0&&(f=parseInt(this._$itemsContainer.css("max-height")),this._$itemsContainer.css("max-height",f-u+"px")),this._options.useRemainingSpace&&(this._element.width(""),this._element.css("left",""),this._element.addClass("use-remaining-space"),e=this._element.position().top,o="calc(100% - "+e+"px)",this._element.css("max-height",o)),this._options.smallScreenRender&&this._element.addClass("small-screen"))},t.prototype._getPositioningElement=function(){var n=this._positioningElement;return $.isFunction(n)&&(n=n()),n||(n=this.getElement().parent()),n},t.prototype._showLoading=function(){this._$liveStatus.detach();this._$itemsContainer.detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._$liveStatus.text(p.IdentityPicker_LoadingIdentities);this._$itemsContainer.empty().attr("aria-busy","true").appendTo(this._element);var n=$("<div>").addClass("search").appendTo(this._element),t=o.BaseControl.createIn(b.StatusIndicator,n,{center:!1,message:p.IdentityPicker_LoadingIdentities});t.start()},t.prototype._showError=function(n){var t=typeof n=="string"||n instanceof String?$("<span>").text(n):n,i,r;this._$liveStatus.text(t.text());i=$(".search",this._element).empty().addClass("search-error");r=o.BaseControl.createIn(y.MessageAreaControl,i,{closeable:!1,message:{header:t,type:y.MessageAreaType.Error},showIcon:!1})},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(!0),this._selectedIndex<this._displayedEntities.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._options.pageSize),this._setSelectedIndex(n<this._displayedEntities.length?n:this._displayedEntities.length-1,!0,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._displayedEntities.length-this._options.pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._options.pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,!0,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextItem=function(){if(this._selectedIndex===this._displayedEntities.length-1){var n=this._element.find(".search");n.is(":visible")?(this._selectedIndex=ht.SelectNone,this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(n)):this._setSelectedIndex(ht.SelectFirstItem,!0)}else this._selectedIndex<this._displayedEntities.length-1&&this._setSelectedIndex(this._selectedIndex+1,!0);return!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._displayedEntities&&this._displayedEntities.length?(this._clearItemsSelection(this._element.find(".search")),this._setSelectedIndex(this._displayedEntities.length-1,!0)):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,!0,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._selectItem=function(n){var t=n.attr("id")?n.attr("id"):o.getId().toString();n.addClass("selected").attr({id:t,"aria-selected":"true"});this._fireActiveDescendantUpdate(t)},t.prototype._clearItemsSelection=function(n){n.removeClass("selected").attr("aria-selected","false")},t.prototype._createItem=function(n){var t=this,r={deleteIconClickDelegate:ut(this,function(n,i){var r=t._mruEntities.indexOf(n);r>=0&&t._mruEntities.splice(r,1);r=t._displayedEntities.indexOf(n);r>=0&&t._displayedEntities.splice(r,1);i.remove();n.localId&&n.localId.trim()&&t._removeIdentityFromMru(n.localId);t._numItemsDisplayed=Math.min(t._displayedEntities.length,Math.max(t._options.pageSize,t._numItemsDisplayed));t._$searchResultStatus.remove();t._$searchResultStatus=t._constructSearchResultStatus();t._showAdditionalInformation()}),entityListItemClickDelegate:ut(this,function(n){if(t._logSelectedEntity(n),$.isFunction(t._options.onItemSelect))t._options.onItemSelect(n)})},u={operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null},f={consumerId:this._options.consumerId},e=this._displayedEntities[n],i=(new ui).withIdentityServiceOptions(u).withIdentityExtensionOptions(f).withPrefix(this._prefix&&this._prefix.trim()&&!this._showOnlyMruIdentities?this._prefix:"").withEntity(e).forControlOfSize(this._size).registerCallbacks(r).withContactCard(this._showContactCard,this._options.focusElementOnContactCardClose).withHoverSupport(!this._options.useRemainingSpace).withSmallScreenRender(this._options.smallScreenRender).withDialogAppendTo(this._options.dialogAppendTo).build();return this._indexedEntityMap[n]=i,i},t.prototype._logSelectedEntity=function(n){var r=!1,u=!1,i,t,f;try{i=l.Telemetry.Feature_DropdownControl;(n.originDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory||n.localDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory)&&(r=!0);n.isMru&&(u=!0);this._prefix?this._options.showMru?i=this._isDirectorySearchEnabled?l.Telemetry.Feature_Select_Mru_Dir:l.Telemetry.Feature_Select_Mru_Prefix:this._isDirectorySearchEnabled&&(i=l.Telemetry.Feature_Select_Dir):this._options.showMru&&(i=l.Telemetry.Feature_Select_Mru_NoPrefix);t={};t[l.TelemetryProperties.prefixType]=a.ServiceHelpers.getPrefixTypeForTelemetry(this._prefix);t[l.TelemetryProperties.prefixLength]=this._prefix.length;t[l.TelemetryProperties.consumerId]=this._options&&this._options.consumerId?this._options.consumerId:null;t[l.TelemetryProperties.extensionId]=this._options&&this._options.extensionData&&this._options.extensionData.extensionId?this._options.extensionData.extensionId:null;t[l.TelemetryProperties.identityTypes]=a.ServiceHelpers.getIdentityTypeList(this._options.identityType);t[l.TelemetryProperties.operationScopes]=a.ServiceHelpers.getOperationScopeList(this._options.operationScope);t[l.TelemetryProperties.isMru]=u;t[l.TelemetryProperties.isNonMaterialized]=!r;t[l.TelemetryProperties.maxResults]=this._options&&this._options.maxResults?this._options.maxResults:a.IdentityService.MAX_RESULTS;t[l.TelemetryProperties.minResults]=this._options&&this._options.minResults?this._options.minResults:a.IdentityService.MIN_RESULTS;t[l.TelemetryProperties.entityId]=n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?at.STRING_ENTITY_TYPE:n.entityId;t[l.TelemetryProperties.consumerId]=this._options.consumerId;f=w.getService(a.IdentityService);t=a.ServiceHelpers.addScenarioProperties(w.getService(a.IdentityService),t);nt.publishEvent(new nt.TelemetryEventData(l.Telemetry.Area,i,t))}catch(e){}},t.prototype._setupDom=function(){var n,t,i;this._$liveStatus.text("").detach();this._$itemsContainer.empty().removeAttr("aria-busy").detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._setupEntitiesInDom();n=!1;!this._isDirectorySearchEnabled&&this._options.showMru&&this._prefix&&!this._showOnlyMruIdentities&&(t=this._constructSearchButton().appendTo(this._element),this._$itemsContainer.attr("aria-owns",t.attr("id")),n=!0,this._displayedEntities&&this._displayedEntities.length||(this._selectedIndex=ht.SelectNone,this._selectItem(t)));this._displayedEntities&&this._displayedEntities.length>0&&(this._$searchResultStatus=this._constructSearchResultStatus());n&&(i=this._$liveStatus.text(),this._$liveStatus.text((i?i+". ":"")+p.IdentityPicker_SearchButtonShownInDropdown));this._showAdditionalInformation()},t.prototype._showAdditionalInformation=function(){this._displayedEntities.length===0&&(this._isSearchActive||this._options.showMru&&!this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())?this._showLoading():(!this._options.showMru||this._isDirectorySearchEnabled&&this._prefix||this._showOnlyMruIdentities)&&(this._$liveStatus.text(p.IdentityPicker_NoResult),(this._options.showNoIdentitiesFound||this._options.showNoIdentitiesFound===undefined||this._options.showNoIdentitiesFound===null)&&this._constructInformativeMessage(p.IdentityPicker_NoResult).appendTo(this._element)));this._$suggestedPeople&&(this._displayedEntities.length>0?this._$suggestedPeople.show():this._$suggestedPeople.hide())},t.prototype._setupEntitiesInDom=function(){var n,i;if(this._options.smallScreenRender&&this._$suggestedPeople.appendTo(this._element),this._$itemsContainer.empty().appendTo(this._element),this._displayedEntities.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._displayedEntities.length,Math.max(this._options.pageSize,this._numItemsDisplayed)),n=0;n<this._numItemsDisplayed;n++)n>this._displayedEntities.length-1||(i=this._createItem(n),i&&(this._$itemsContainer.append(i),this._options.smallScreenRender||i.height(i.height()+t.IMAGE_MARGINS_PX)))},t.prototype._constructSearchResultStatus=function(){var n=$("<div>").addClass("search-result-status").appendTo(this._element),t,i;return this._displayedEntities.length==1&&this._numItemsDisplayed==this._displayedEntities.length?(t=d.format(p.IdentityPicker_SingleResultStatus,this._displayedEntities.length),this._$liveStatus.text(t),n.text(t)):this._displayedEntities.length>1&&this._numItemsDisplayed<=this._displayedEntities.length?(i=d.format(p.IdentityPicker_MultipleResultStatus,this._displayedEntities.length),this._$liveStatus.text(i),n.text(i)):n.hide(),n},t.prototype._constructSearchButton=function(){var n=$("<div>").addClass("search").attr({role:"button option","aria-label":p.IdentityPicker_SearchButtonLabel,tabindex:"0",id:o.getId().toString()}),t=$("<span>").addClass("bowtie-icon bowtie-search identity-picker-search-icon"),i=$("<span>").addClass("status-message").text(p.IdentityPicker_SearchButton);return n.append(t).append(i),n.click(ut(this,this._searchButtonClickDelegate)),n},t.prototype._constructInformativeMessage=function(n){return $("<div>").addClass("no-result").append($("<span>").addClass("status-message").text(n).attr("role","alert"))},t.prototype._loadNextPage=function(n){var u,r,i;if(n===void 0&&(n=!1),u=this._$itemsContainer.scrollTop()+this._$itemsContainer.outerHeight()>=this._$itemsContainer[0].scrollHeight-5,n||u){for(r=this._numItemsDisplayed;r<this._numItemsDisplayed+Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);r++)i=this._createItem(r),i&&(this._$itemsContainer.append(i),i.height(i.height()+t.IMAGE_MARGINS_PX));this._numItemsDisplayed+=Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);this._$searchResultStatus.remove();this._$searchResultStatus=this._constructSearchResultStatus()}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._searchButtonClickDelegate=function(){this._enableDirectorySearch();this.getIdentities(this._prefix)},t.SHOW_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-show",t.HIDE_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-hide",t.UPDATE_ACTIVE_DESCENDANT_ID="identity-picker-dropdown-update-active-descendant-id",t.DROPDOWN_BASE_CLASS="identity-picker-dropdown",t.IMAGE_MARGINS_PX=8,t.MIN_WIDTH=300,t.MAX_HEIGHT=240,t.DROPDOWN_BORDER_PX=2,t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK="https://aka.ms/c0eo4d",t.AVATAR_CLASS="identity-picture",t}(o.Control);t.IdentityPickerDropdownControl=lt;wt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._scrollTimeout=100,i._pageSize=10,i._selectedIndex=ht.SelectNone,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:402,height:70,resizable:!1,modal:!1,draggable:!0,autoOpen:!0,closeOnEscape:!1,cssClass:"idcard-dialog-content",closeText:p.CloseButtonLabelText},t))},t.prototype.initialize=function(){var i,r,u;n.prototype.initialize.call(this);this._previousFocusedElement=$(document.activeElement);this._element.dialog(this._options);this._$idCardDialog=this._element.closest(t.JQUERY_UI_DIALOG_CLASS).addClass("idcard-dialog").attr("visibility","hidden");this._$idCardDialog.on("dialogclose.contactCard",ut(this,this._onIdCardClose));this._$idCardDialog.on("keydown.contactCard",ut(this,this._onKeyDown));if(this._$idCardDialog.css("z-index",t._getHigherZIndex("div"+t.JQUERY_UI_DIALOG_CLASS)),$(".ui-icon-closethick",this._$idCardDialog).addClass("bowtie-icon bowtie-navigate-close"),this._repositionDialog(),this._$idCardDialog.hide(),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),this._$idCardDialog.attr("id",t.ID_CARD_DIALOG_ID),this._options.identity){if(i=this._options.identity,!et.isDirectoryEntityType(i)){r={source:"IdCardDialog initialize",message:"The IdCardDialog can only be initialized with a user or group IEntity"};throw r;}u=et.getUniqueIdentifierForDisambiguation(i);this._$idCardDialog.attr("data-prefix",u.toLowerCase());this._getIdentitiesSuccess({queryToken:null,identities:[i]});!ft.isOnPremiseEnvironment()&&i.localDirectory&&i.localDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory&&this._operationScope&&(this._operationScope.AAD||this._operationScope.Source)&&this._getDirectoryEntities(i.entityId)}else this._$idCardDialog.attr("data-prefix",this._options.uniqueIdentifier.toLowerCase()),this._getDirectoryEntities(this._options.uniqueIdentifier)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t._getHigherZIndex=function(n){var t,i=1001;return $(n).each(function(n,r){t=$(r).css("z-index");!isNaN(t)&&t>i&&(i=t)}),++i},t.prototype._repositionDialog=function(){var t={elementAlign:"left-top",baseAlign:"left-bottom",overflow:"none-none"},n,i,r;this._options.anchorContainer?(n=$(this._options.anchorContainer).offset(),t.leftOffsetPixels=n.left,t.topOffsetPixels=n.top,t.skipZIndexSetting=!0):n=this._options.anchor.offset();g.Positioning.position(this._$idCardDialog,this._options.anchor,t);i=this._options.leftValue&&this._options.leftValue>0?this._options.leftValue:n.left;i+this._$idCardDialog.outerWidth()<$(window).width()+$(window).scrollLeft()?this._$idCardDialog.css("left",i):this._$idCardDialog.css("left",i-this._$idCardDialog.outerWidth()+this._options.anchor.outerWidth());r=this._options.topValue&&this._options.topValue>0?this._options.topValue:n.top+this._options.anchor.outerHeight();r+this._$idCardDialog.outerHeight()<$(window).height()+$(window).scrollTop()?this._$idCardDialog.css("top",r):this._$idCardDialog.css("top",r-this._$idCardDialog.outerHeight()-this._options.anchor.outerHeight())},t.prototype._getDirectoryEntities=function(n){var t=this,i={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},r=this._getEntityOperationsFacade().search(i).then(function(n){for(var i in n.queryTokenResponse)n.queryTokenResponse[i].then(ut(t,t._getIdentitiesSuccess),ut(t,t._getIdentitiesFailure))},this._getIdentitiesFailure)},t.prototype._getIdentitiesFailure=function(){h.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._getIdentitiesSuccess=function(n){var i,r;if(!n||!n.identities||n.identities.length<1){this._getIdentitiesFailure(n);return}this._identity=n.identities[0];var e=f.FeatureAvailabilityService.isFeatureEnabled(u.WebPlatformFeatureFlags.ReactProfileCard),o=this._identity.entityType.trim().toLowerCase()==a.ServiceHelpers.UserEntity,s=window.top!==window.self,c=this._options.useOfficeFabricProfileCard!==null&&this._options.useOfficeFabricProfileCard!==undefined?this._options.useOfficeFabricProfileCard:!s;if(e&&c&&o)this._displayReactIdCard();else{if(!a.ServiceHelpers.isAuthenticatedMember())return;i=et.getUniqueIdentifierForDisambiguation(this._identity);r=et.getSignInAddress(this._identity);(this._$idCardDialog.attr("data-prefix")&&i.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0||r.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0)&&this._element&&this._displayIdCard()}h.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._displayReactIdCard=function(){var f=$("body").eq(0),t=f.find(".cards-container"),n,u,e;t.length===0&&(t=$("<div class='cards-container' />").appendTo(f));n=this._options.anchor;n&&n.attr("role")==="row"&&(n=n.children());u=n[0];this._options.leftValue!==undefined&&this._options.topValue!==undefined&&this._options.leftValue!==null&&this._options.topValue!==null&&(u={x:this._options.leftValue,y:this._options.topValue});e={identity:this._identity,target:u,entityOperationsFacade:this._getEntityOperationsFacade(),consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer,onDismissCallback:function(){r.unmountComponentAtNode(t[0]);$(".ui-dialog-content",$(".idcard-dialog")).dialog("close")}};tt.using(["VSS/Identities/Picker/PersonaCard"],function(n){var u=i.createElement(n.PersonaCard,e);r.render(u,t[0])})},t.prototype._displayIdCard=function(){var n=this,t,e,o,f,s,v;this._$idCardDialog.attr("data-objectid",this._identity.entityId);$("body").on("mousedown.contactCard",ut(this,this._onIdCardBlur));$(".ui-dialog-buttonpane",this._$idCardDialog).hide();this._element.empty();$(".identity-picker-idcard-header").empty();var c=$("<div>").addClass("identity-picker-idcard-header").prependTo($(".ui-dialog-titlebar",this._$idCardDialog)),w=$("<div>").addClass("identity-picker-idcard-image").appendTo(c),l=$("<div>").addClass("identity-picker-idcard-basicinfo").appendTo(c),u=et.getDisplayName(this._identity),b=a.ServiceHelpers.getDefaultIdentityImage(this._identity),k=ft.createImgElement(b,this._identity.image?this._identity.image:"","user-picture-card");if(k.attr("alt",u).appendTo(w),t=et.getSignInAddress(this._identity),t.trim()||this._options.uniqueIdentifier&&ft.isValidEmail(this._options.uniqueIdentifier)&&(t=this._options.uniqueIdentifier),e=$("<div>").addClass("identity-picker-idcard-basicinfo-name").appendTo(l).text(u),rt.RichContentTooltip.addIfOverflow(u,e,{menuContainer:e}),o=$("<div>").addClass("identity-picker-idcard-ellipsis-overflow").appendTo(l),ft.isValidEmail(t)?$("<a>").attr({"aria-label":p.IdentityPicker_IdCardSendEmail,href:"mailto:"+t,tabindex:"0"}).text(t).appendTo(o):o.text(t),this._$liveStatus=$("<div>").addClass("visually-hidden").attr("aria-live","polite").appendTo(this._$idCardDialog),$(".ui-dialog-title",this._$idCardDialog).text(d.format(p.IdentityPicker_ContactCardInformation,u)),this._$idCardDialog.attr("name",u),f=(new ri).getIdentityAttributes(this._identity),this._identity.entityType.trim().toLowerCase()==a.ServiceHelpers.UserEntity){s=f.toRows();for(v in s)this._element.append(s[v])}else if(this._identity.entityType.trim().toLowerCase()==a.ServiceHelpers.GroupEntity){var y=$("<div>").addClass("identity-picker-idcard-row").attr("role","tablist").appendTo(this._element),i=$("<span>").addClass("identity-picker-idcard-tab").text(p.IdentityPicker_IdCardInfo).attr({tabindex:"0",id:"identity-picker-idcard-tab-info",role:"tab","aria-selected":"true"}).appendTo(y),r=$("<span>").addClass("identity-picker-idcard-tab identity-picker-idcard-unselected-tab").text(p.IdentityPicker_IdCardMembers).attr({tabindex:"0",id:"identity-picker-idcard-tab-members",role:"tab","aria-selected":"false"}).appendTo(y),h=f.toRows()[0].attr({role:"tabpanel","aria-labelledby":"identity-picker-idcard-tab-info"});this._element.append(h);this._constructMemberTabContent().appendTo(this._element);this._getDirectoryMemberEntities(this._identity);i.click(ut(this,function(){i.hasClass("identity-picker-idcard-unselected-tab")&&(i.removeClass("identity-picker-idcard-unselected-tab"),i.attr("aria-selected","true"),r.attr("aria-selected","false"),r.addClass("identity-picker-idcard-unselected-tab"),n._$groupMembersContainer.parent().hide(),h.show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"))}));r.click(ut(this,function(){r.hasClass("identity-picker-idcard-unselected-tab")&&(r.removeClass("identity-picker-idcard-unselected-tab"),r.attr("aria-selected","true"),i.attr("aria-selected","false"),i.addClass("identity-picker-idcard-unselected-tab"),h.hide(),n._setSelectedIndex(ht.SelectFirstItem,g.Positioning.VerticalScrollBehavior.Top),n._$groupMembersContainer.parent().show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"),n._groupMembers.length?n._groupMembers.length==1?n._$liveStatus.text(p.IdentityPicker_MembersSingleResultStatus):n._$liveStatus.text(d.format(p.IdentityPicker_MembersMultipleResultStatus,n._groupMembers.length)):n._$liveStatus.text(p.IdentityPicker_NoMembers))}))}f.isEmpty()?$(".ui-dialog-titlebar",this._$idCardDialog).addClass("no-content"):$(".ui-dialog-titlebar",this._$idCardDialog).removeClass("no-content");this._element.css("height","auto");this._repositionDialog();this._$idCardDialog.show();this._$idCardDialog.attr("visibility","");this._$idCardDialog.attr("tabindex","-1");this._$idCardDialog.focus()},t.prototype._constructMemberTabContent=function(){var n=$("<div>").addClass(t.ID_CARD_MEMBERS_DROPDOWN_CLASS+" "+t.ID_CARD_LIST_CLASS).attr({role:"tabpanel","aria-busy":"true","aria-labelledby":"identity-picker-idcard-tab-members"}).hide(),i;return this._$groupMembersContainer=$("<ul>").attr({role:"list","aria-labelledby":"identity-picker-idcard-tab-members",tabindex:"0"}).appendTo(n).css({"max-height":Math.min((ft.getSizePx(st.Large)+t.IMAGE_MARGINS_PX)*this._pageSize-10,t.MAX_HEIGHT)+"px"}),i=$("#identity-picker-idcard-tab-members-description.visually-hidden"),i.length||(i=$("<div>").text(p.IdentityPicker_IdCardMembersTabDescription).attr("id","identity-picker-idcard-tab-members-description").addClass("visually-hidden").appendTo("<body>")),this._$groupMembersContainer.attr("aria-describedby","identity-picker-idcard-tab-members-description"),this._$loading=$("<div>").addClass("identity-picker-idcard-word-wrap identity-picker-idcard-error").text(p.IdentityPicker_IdCardLoadingMembers).appendTo(n),n},t.prototype._getDirectoryMemberEntities=function(n){var t=this,r=w.getService(a.IdentityService),u=function(n){if(t._element){if(!n)return;t._groupMembers.forEach(ut(t,function(i){n.hasOwnProperty(i.entityId)&&n[i.entityId]&&(i.image=n[i.entityId],$(".identity-picture",t._$groupMembersContainer).each(function(t,r){r.hasAttribute("data-objectid")&&r.getAttribute("data-objectid")===i.entityId&&(r.setAttribute("src",n[i.entityId]),r.setAttribute("class","identity-picture small"))}))}))}},f=function(n){n&&s.logError("_getDirectoryMemberEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},e=function(n){if(t._element){if(!n||!n.successors){ut(t,i)();return}if(t._groupMembers=n.successors,t._groupMembers&&t._groupMembers.length>0){t._groupMembers=ft.sortGroupMembersByName(t._groupMembers);t._groupMembers.forEach(function(n){(!n.image||n.image.trim())&&(n.image=a.ServiceHelpers.getDefaultIdentityImage(n))});var r={identityServiceOptions:{operationScope:t._operationScope,identityType:{User:!0,Group:!0},httpClient:t._options.httpClient,extensionData:t._options.extensionData},identityExtensionOptions:{consumerId:t._options.consumerId},sources:[ct.Directory]};t._getEntityOperationsFacade().getImagesForEntities(t._groupMembers,r).then(u,f);t._$loading.hide();t._renderMembersList()}else t._$loading.text(p.IdentityPicker_IdCardNoMembers);t._$groupMembersContainer.parent().removeAttr("aria-busy")}},i=function(n){t._element&&(t._$groupMembersContainer.parent().removeAttr("aria-busy"),t._$loading.text(p.IdentityPicker_IdCardErrorLoadingMembers));n&&s.logError("_displayIdCard/getConnectionsErrorCallback:"+JSON.stringify(n))};r.getIdentityConnections(n,this._operationScope,{User:!0,Group:!0},{successors:!0},{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(ut(this,e),ut(this,i))},t.prototype._isMembersListVisible=function(){return this._$groupMembersContainer&&this._$groupMembersContainer.length&&this._$groupMembersContainer.parent()&&this._$groupMembersContainer.parent().is(":visible")},t.prototype._onIdCardBlur=function(n){this._element.hasClass("ui-dialog-content")&&n&&!$(n.target).closest("#"+t.ID_CARD_DIALOG_ID).length&&!$(n.target).is("#"+t.ID_CARD_DIALOG_ID)&&this._element.dialog("close")},t.prototype._onIdCardClose=function(){this._options.focusElementOnClose&&this._options.focusElementOnClose.is(":visible")?this._options.focusElementOnClose.focus():this._previousFocusedElement.focus();$("body").off("mousedown.contactCard");this._$idCardDialog.off(".contactCard");this._element.dialog("destroy")},t.prototype._onKeyDown=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this._isMembersListVisible()?this._prevItem():!0;case ot.DOWN:return this._isMembersListVisible()?this._nextItem():!0;case ot.PAGE_UP:return this._isMembersListVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this._isMembersListVisible()?this._nextPage():!0;case ot.ENTER:case ot.SPACE:return $(document.activeElement).hasClass("identity-picker-idcard-tab")&&$(document.activeElement).hasClass("identity-picker-idcard-unselected-tab")?(n.stopPropagation(),$(document.activeElement).click(),!1):$(document.activeElement).hasClass("ui-dialog-titlebar-close")?(n.stopPropagation(),this._element.dialog("close"),!1):this._isMembersListVisible()&&this._selectedIndex!=ht.SelectNone?(n.stopPropagation(),$("li",this._$groupMembersContainer).eq(this._selectedIndex).click(),!1):!0;case ot.ESCAPE:case ot.LEFT:return n.stopPropagation(),this._element.dialog("close"),!1;case ot.TAB:var r=$(":tabbable",this._$idCardDialog),t=r.filter(":first"),i=r.filter(":last");return i.length&&n.target===i[0]&&!n.shiftKey?(t.focus(),!1):t.length&&n.target===t[0]&&n.shiftKey?(i.focus(),!1):!0;default:return!0}},t.prototype._createItem=function(n){var i=this,f,s,e,u,r,h;return n?(s=a.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(f=n.image),e=et.getDisplayName(n),u=et.getSignInAddress(n),u=d.isGuid(u)?"":u,r=$("<li>").attr("role","listitem").attr("id",o.getId().toString()).height(40),rt.RichContentTooltip.addIfOverflow(e,r,{menuContainer:r}),ft.createImgElement(s,f,"identity-picture small",n.entityId).addClass(f&&f.trim()?"":"hidden").appendTo(r),h=$("<div>").addClass("item-text-container").append($("<div>").addClass("title large").text(e)).append($("<div>").addClass("subtitle large").text(u)).appendTo(r),h.css("max-width",this._element.width()-t.MEMBERS_TAB_LEFT_PADDING_PX-t.IMAGE_MARGINS_PX-ft.getSizePx(st.Large)-ft.IDENTITY_ITEM_BUFFER_WIDTH_PX),r.click(ut(this,function(u){u.stopPropagation();var f={identity:n,anchor:r,leftValue:u.pageX!==undefined?u.pageX:r.offset().left,topValue:u.pageY!==undefined?u.pageY:r.offset().top,operationScope:i._operationScope,identityType:i._identityType,httpClient:i._options.httpClient?i._options.httpClient:null,focusElementOnClose:i._options.focusElementOnClose&&i._options.focusElementOnClose.is(":visible")?i._options.focusElementOnClose:i._previousFocusedElement,appendTo:i._options.appendTo,consumerId:i._options.consumerId};o.Enhancement.enhance(t,"<div/>",f)})),r):null},t.prototype._renderMembersList=function(){var n=this,r=function(){return n._scrollTimeout!==null&&(clearTimeout(n._scrollTimeout),n._scrollTimeout=null),n._scrollTimeout=setTimeout(ut(n,n._loadNextPage),100),!1},t,i;if(this._$groupMembersContainer.empty(),this._$groupMembersContainer.addClass("items"),this._$groupMembersContainer.scroll(ut(this,r)),this._groupMembers.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._groupMembers.length,this._pageSize),t=0;t<Math.min(this._groupMembers.length,this._pageSize);t++)i=this._createItem(this._groupMembers[t]),i&&this._$groupMembersContainer.append(i)},t.prototype._loadNextPage=function(){var t=this._$groupMembersContainer.scrollTop()+this._$groupMembersContainer.outerHeight()>=this._$groupMembersContainer[0].scrollHeight-5,n;if(t){for(n=this._numItemsDisplayed;n<this._numItemsDisplayed+Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize);n++)this._$groupMembersContainer.append(this._createItem(this._groupMembers[n]));this._numItemsDisplayed+=Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize)}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._nextItem=function(){return this._selectedIndex===this._groupMembers.length-1?this._setSelectedIndex(ht.SelectFirstItem):this._selectedIndex<this._groupMembers.length-1&&this._setSelectedIndex(this._selectedIndex+1),!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._groupMembers&&this._groupMembers.length?this._setSelectedIndex(this._groupMembers.length-1):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(),this._selectedIndex<this._groupMembers.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._pageSize),this._setSelectedIndex(n<this._groupMembers.length?n:this._groupMembers.length-1,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._groupMembers.length-this._pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,g.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._setSelectedIndex=function(n,t){var i,u,r,f;t===void 0&&(t=g.Positioning.VerticalScrollBehavior.Bottom);i=$("li",this._$groupMembersContainer);u=n!==null&&n!==undefined&&i.length&&i.eq(n).length&&(this._selectedIndex!==n||!i.eq(this._selectedIndex).hasClass("selected"));u?(this._selectedIndex=n,i.removeClass("selected").attr("aria-selected","false").removeAttr("id"),r=i.eq(this._selectedIndex),f=r.attr("id")?r.attr("id"):o.getId().toString(),r.addClass("selected").attr({id:f,"aria-selected":"true"}),this._$liveStatus.text(d.format(p.IdentityPicker_SelectedMember,et.getDisplayName(this._groupMembers[n]))),g.Positioning.scrollIntoViewVertical(r,t)):$.isNumeric(n)&&(this._selectedIndex=n)},t.IDCARD_LOADED_EVENT="idcard-finished-loading",t.MAX_HEIGHT=240,t.IMAGE_MARGINS_PX=8,t.MEMBERS_TAB_LEFT_PADDING_PX=11,t.ID_CARD_LIST_CLASS="identity-picker-idcard-list",t.ID_CARD_MEMBERS_DROPDOWN_CLASS=lt.DROPDOWN_BASE_CLASS,t.JQUERY_UI_DIALOG_CLASS=".ui-dialog",t.ID_CARD_DIALOG_ID="idcard-dialog",t}(o.Control);t.IdCardDialog=wt;dt=function(n){function t(i,r){var u,f;return r===void 0&&(r=!1),u=n.call(this,i)||this,u._resolvedIEntity=null,u._loadOnCreate=!1,u._previousInput="",u._isSearchEverIssued=!1,u._readOnlyMode=!1,u._showMruExpander=!1,u._trackTabKeyDown=!1,u._queryTokensRequested={},u._onDocumentLoad=function(){u._$container.is(":visible")?u._recalculateInputWidth():setTimeout(u._onDocumentLoad,50)},u._recalculateInputWidth=function(){if(u._$input)if(u._controlWidth=Math.max(u._$container.width(),t.DEFAULT_WIDTH),u._$input.prev(".identity-picker-resolved")[0]){var n=u._$input.prev(".identity-picker-resolved"),f=u._$container[0].scrollHeight>u._$container.innerHeight(),i=u._$container.offset().left+Math.max(u._$container.outerWidth(),t.DEFAULT_WIDTH)-n.offset().left-n.outerWidth()-parseInt(n.css("margin-right"))-parseInt(u._$container.css("padding-right"))-parseInt(u._$container.css("border-right-width"))-(f?ft.SCROLL_BAR_WIDTH_PX:0)-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-1,r=u._$input.attr("placeholder").length;i>(r?r:15)*6?u._$input.outerWidth(i):u._$input.outerWidth(u._controlWidth-ft.SCROLL_BAR_WIDTH_PX-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0))}else u._$input.outerWidth(u._controlWidth-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-(u._options.smallScreenRender?u._$closeInput.outerWidth():0))},r||(f=i,f.dropdownContainer||(f.dropdownContainer=ut(u,function(){return $("body")})),u.initializeOptionsInternal(f)),u}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){if(this._identityType=n.identityType?n.identityType:{User:!0},this._operationScope=n.operationScope?n.operationScope:{IMS:!0},this._size=n.size!==null&&n.size!==undefined?n.size:st.Medium,this._dropdownContainerDelegate=n.dropdownContainer,this._preDropdownRender=this._options.callbacks&&n.callbacks.preDropdownRender?n.callbacks.preDropdownRender:null,this._onDirectorySearchFinished=this._options.callbacks&&n.callbacks.onDirectorySearchFinished?n.callbacks.onDirectorySearchFinished:null,this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1,n.placeholderText&&n.placeholderText.trim())this._placeholderText=n.placeholderText;else{var t=a.ServiceHelpers.getIdentityTypeList(this._identityType);this._placeholderText=this._generatePlaceHolder(t)}this._controlLoaded=null;this._delaySearchTimeOutValue=n.delaySearchTimeoutValue||0},t.prototype.initialize=function(){var i=this,r,e,u,f,s,c;n.prototype.initialize.call(this);r=this._options.items;this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._$container=this._element.parent();this._controlWidth=Math.max(this._$container.innerWidth(),t.DEFAULT_WIDTH);this._element.addClass("identity-picker-search-box");this._options.smallScreenRender&&this._element.addClass("small-screen");this._element.height(ft.getSizePx(this._size)+t.OUTER_PADDING_PX);e=function(n){$(n.target).hasClass("identity-picker-input")||$(n.target).hasClass("identity-picker-search-multiple-name")||$(n.target).hasClass(t.SEARCH_MRU_TRIANGLE_CLASS)||i.focusOnSearchInput()};this._element.on("click.identityPicker",ut(this,e));this._element.on("remove.identityPicker",ut(this,this.dispose));if(this._$input=$("<input>").attr("type","text").attr("spellcheck","false").attr("autocomplete","off").attr("placeholder",this._placeholderText).addClass("identity-picker-input").attr("role","combobox").attr("aria-autocomplete","list").attr("aria-expanded","false"),!this._options.required||this._$input.attr("required","true"),!this._options.ariaDescribedby||this._$input.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),this._options.excludeAriaLabel||this._$input.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText),this._options.elementId&&this._$input.attr("id",this._options.elementId),this._$input.appendTo(this._element),ft.styleElementBySize(this._$input,this._size,!0),this._options.multiIdentitySearch&&(f=o.getId().toString(),u=$("<label>").addClass("visually-hidden").attr("id",f).appendTo(this._element),this._$input.attr("aria-describedby",this._getAriaDescribedby(f))),this._options.smallScreenRender&&(this._$closeInput=this._createCloseButton(),ft.styleElementBySize(this._$closeInput,this._size,!1),this._$closeInput.hide(),this._$closeInput.appendTo(this._element),this._$closeInput.mousedown(ut(this,function(n){i._setInputText("");i.focusOnSearchInput();i._recalculateInputWidth();n.preventDefault();i._$closeInput.hide()}))),this._options.showMruTriangle=this._options.forceOpen?!1:this._options.showMruTriangle,this._showMruExpander=this._options.showMruTriangle?!0:!1,this._isReadOnly()&&(this._showMruExpander=!1),this._showMruExpander){this._$mruTriangle=$("<span>").addClass(t.SEARCH_MRU_TRIANGLE_CLASS).addClass("bowtie-icon bowtie-triangle-down").appendTo(this._element);this._$mruTriangle.on("mousedown.identityPicker",ut(this,function(n){i._onMruTriangleMousedown(n)}));this._$mruTriangle.on("click.identityPicker",ut(this,function(n){i._onMruTriangleClick(n)}))}this._recalculateInputWidth();$(window).on("resize.identityPicker",ut(this,function(){i._recalculateInputWidth()}));this._$input.on("focus.identityPicker",ut(this,function(){i._$currentlyFocusedItem=null;i._options.multiIdentitySearch&&(i._selectedItems.length||i._unresolvedItems.length?u.text(d.format(p.IdentityPicker_SelectedIdentities,i._selectedItems.length+i._unresolvedItems.length)):u&&u.text(""));i._$container.triggerHandler("focus")}));if(this._options.showMruOnClick&&this._options.showMru)this._$input.on("mouseup.identityPicker",ut(this,function(n){i._identityPickerDropdown&&!i._identityPickerDropdown.isVisible()&&n.button===0&&i._showAllMruInDropdown(!1,!0)}));if(this._options.multiIdentitySearch&&(this._options.highlightResolved=!1,this._options.watermark=null),this._options.highlightResolved||(this._options.watermark=null),this._options.watermark&&this._showWatermark(),this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null}),this._showContactCard=this._options.showContactCard==!1?!1:!0,a.ServiceHelpers.isAuthenticatedMember()){this._element.on("keydown.identityPicker",ut(this,this._onInputKeyDown));this._$input.on("keyup.identityPicker",ut(this,this._onInputKeyUp));this._$input.on("blur.identityPicker",ut(this,this._onInputBlur));this._$input.on("input.identityPicker",ut(this,this._onInputChange));this._$input.on("click.identityPicker",ut(this,this._onInputClick));this._externalEventDelegate=ut(this,this._onInputBlur);this._dropdownShowEventDelegate=ut(this,this._attachHandlersOnShowDropdown);this._dropdownHideEventDelegate=ut(this,this._detachHandlersOnHideDropdown);this._updateActiveDescendantIdEventDelegate=ut(this,this._updateActiveDescendantId);s=this._dropdownContainerDelegate();this._identityPickerDropdownUniqueId=ft.getRandomString();h.getService().attachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);h.getService().attachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);h.getService().attachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);c={pageSize:this._options.pageSize,useRemainingSpace:this._options.useRemainingSpace,smallScreenRender:this._options.smallScreenRender,dialogAppendTo:this._options.dialogAppendTo,onItemSelect:ut(this,function(n){if(i._resolveItem(n),i.focusOnSearchInput(),i._options.callbacks&&i._options.callbacks.onItemSelect)i._options.callbacks.onItemSelect(n)}),identityType:this._identityType,operationScope:this._operationScope,httpClient:this._options.httpClient?this._options.httpClient:null,showContactCard:this._showContactCard,showMru:this._isShowMruEnabledInDropdown(),showNoIdentitiesFound:this._options.showNoIdentitiesFound,getFilterByScope:this._options.getFilterByScope,preDropdownRender:this._preDropdownRender,onDirectorySearchFinished:this._onDirectorySearchFinished,loadOnCreate:this._loadOnCreate,extensionData:this._options.extensionData,size:this._options.dropdownSize!==null&&this._options.dropdownSize!==undefined?this._options.dropdownSize:st.Large,width:this._options.dropdownWidth,focusElementOnContactCardClose:this._$input,eventOptions:{uniqueId:this._identityPickerDropdownUniqueId},alignment:{positioningElement:this._$container},consumerId:this._options.consumerId};this._identityPickerDropdown=o.create(lt,s,c);this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId})}else this._showContactCard=!1,this._loadOnCreate=!1,this._options.showMru=!1,this._options.forceOpen=!1,this.enableReadOnlyMode();r&&((typeof r=="string"||r instanceof String)&&r?this.setEntities([],r.trim().split(";")):r instanceof Array&&r.length>0&&this.setEntities(r,[]));this._loadOnCreate&&this.load();this._options.forceOpen&&this._showAllMruInDropdownWithoutDefaultSelection();$(this._onDocumentLoad)},t.prototype.load=function(){var n=this;return this._controlLoaded?this._controlLoaded.promise:(this._controlLoaded=it.defer(),this._identityPickerDropdown.load().then(ut(this,function(){n._controlLoaded.resolve(!0)}),ut(this,function(){n._controlLoaded.resolve(!1)})))},t.prototype.getIdentitySearchResult=function(){return{resolvedEntities:this._selectedItems,unresolvedQueryTokens:this._unresolvedItems}},t.prototype.clear=function(){this._element&&(this._clearSearchControl(),!this._options.multiIdentitySearch&&this._options.watermark&&this._showWatermark())},t.prototype.isDropdownVisible=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isVisible()},t.prototype.isDropdownFiltered=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isFiltered()},t.prototype.addIdentitiesToMru=function(n){if(a.ServiceHelpers.isAuthenticatedMember()){var t=n.map(function(n){if(et.isDirectoryEntityType(n))return n.localId});this._identityPickerDropdown.addIdentitiesToMru(t)}},t.prototype.setEntities=function(n,t,i){var o=n?n.length:0,s=t?t.length:0,l,a,u,e,r,h,c,f;if(o+s!=0){if(!this._options.multiIdentitySearch&&o+s>1){l={source:"setEntities",message:"Can't set more than one entity for a single select control"};throw l;}if(a={UID:!0},s>0){if(u="",this._options.multiIdentitySearch||(u=t[0]?t[0].trim():u),this._options.showTemporaryDisplayName){this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove();e=[];for(f in t)r=t[f].trim(),r.charAt(r.length-1)==">"&&r.indexOf("<")>=0?(h=r.substring(0,r.indexOf("<")-1).trim(),c=r.substring(r.indexOf("<")+1,r.length-1).trim(),e.push(c),this._createTemporaryItem(h,c.toLowerCase()),this._options.multiIdentitySearch||(u=h)):e.push(r);t=e}this._resolveInputToIdentities(t.join(";"),a,i,u)}if(o>0)for(f in n)n[f]&&this._resolveItem(n[f])}},t.prototype.getDropdownPrefix=function(){return this._identityPickerDropdown?this._identityPickerDropdown.getPrefix():""},t.prototype.showMruDropdown=function(){this._showMruExpander&&this._$mruTriangle.trigger("click")},t.prototype.focusOnSearchInput=function(){if(this._$currentlyFocusedItem=null,this._$input.is(":visible"))this._$input.focus();else{var n=$(".identity-picker-resolved:visible",this._element);n.length<=0?(this._$input.show(),this._$input.focus()):($(n[0]).focus(),this._$currentlyFocusedItem=$(n[0]))}this._$container.triggerHandler("focus")},t.prototype.enableReadOnlyMode=function(){this._readOnlyMode=!0;this._showMruExpander=!1;this._hideMruTriangle();this._$container.addClass("identity-picker-readonly");$(".identity-picker-resolved-name",this._element).removeAttr("tabindex");$(".identity-picker-watermark-name",this._element).removeAttr("tabindex");$(".identity-picker-resolved-close",this._element).hide();$(".identity-picker-resolved-name",this._element).attr("aria-label",d.format(p.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText));this._element.removeAttr("aria-label");var n=$(".identity-picker-resolved",this._element);n.removeAttr("aria-describedby");n.attr("tabindex","-1");n.attr("aria-disabled","true");$("visually-hidden",n).remove();this._$input.attr("disabled","");this._$input.removeAttr("role");this._$input.removeAttr("aria-expanded")},t.prototype.disableReadOnlyMode=function(){this._readOnlyMode=!1;this._showMruExpander=this._options.showMruTriangle?!0:!1;this._showMruTriangle();this._$container.removeClass("identity-picker-readonly");this._element.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText);$(".identity-picker-watermark-name",this._element).attr("tabindex","0");var t=$(".identity-picker-resolved",this._element),n=$(".identity-picker-resolved-name",this._element);n.length&&(this._options.highlightResolved&&n.attr("tabindex","0"),n.removeAttr("aria-label"),this._element.find(".identity-picker-resolved-close").show(),this._showContactCard&&!this._options.highlightResolved&&t.attr("aria-haspopup","true"));this._$input.removeAttr("disabled");this._$input.attr("role","combobox");this._$input.attr("aria-expanded","false");this._options.highlightResolved||t.attr("tabindex","0");this._setResolvedItemRole(t,n.text())},t.prototype.hasPendingRequests=function(){return this._queryTokensRequested&&Object.keys(this._queryTokensRequested).length>0},t.prototype.dispose=function(){this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._dropdownShowEventDelegate&&h.getService().detachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);this._dropdownHideEventDelegate&&h.getService().detachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);this._updateActiveDescendantIdEventDelegate&&h.getService().detachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);this._identityPickerDropdown&&this._identityPickerDropdown.dispose();this._$input&&this._$input.off(".identityPicker");this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.off(".identityPicker");this._element&&this._element.off(".identityPicker");$(window).off("resize.identityPicker");n.prototype.dispose.call(this)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t.prototype._isReadOnly=function(){return this._readOnlyMode||!a.ServiceHelpers.isAuthenticatedMember()},t.prototype._hideMruTriangle=function(){this._$mruTriangle&&this._$mruTriangle.addClass("identity-picker-element-hide")},t.prototype._showMruTriangle=function(){this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.removeClass("identity-picker-element-hide")},t.prototype._getAriaDescribedby=function(n){var t=this._$input.attr("aria-describedby");return t?t.concat(" "+n):n},t.prototype._resetSearchControl=function(n,t){n===void 0&&(n=!0);t===void 0&&(t=!0);this._options.watermark&&!this._options.forceOpen?n?this._showWatermark():this._clearWatermark():(this._$input.show(),this._recalculateInputWidth());this._showMruTriangle();t&&this.focusOnSearchInput()},t.prototype._clearSearchControl=function(){$(".identity-picker-resolved",this._element).off(".identityPicker").remove();this._queryTokensRequested={};this._options.multiIdentitySearch||this._resetSearchControl(!1,!1);this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._resolvedIEntity=null;this._setInputText("");this._fireInvalidInput()},t.prototype._showAllMruInDropdownWithoutDefaultSelection=function(n){n===void 0&&(n=!0);this._showAllMruInDropdown(n,!1)},t.prototype._showAllMruInDropdown=function(n,t){var i=this,r;n===void 0&&(n=!0);t===void 0&&(t=!0);r=function(t){i._element&&((t&&t.length>0||n)&&i._showDropdown(),i._$input.off("input.identityPicker"),i.focusOnSearchInput(),k.delay(i,0,function(){i._$input.on("input.identityPicker",ut(i,i._onInputChange))}))};this._isSearchEverIssued=!0;this._identityPickerDropdown.showAllMruIdentities(t).then(r)},t.prototype._showProgressCursor=function(){this._fire(t.SEARCH_STARTED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","progress")},t.prototype._stopProgressCursor=function(){this._fire(t.SEARCH_FINISHED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","text")},t.prototype._fireInvalidInput=function(){this._fire(t.INVALID_INPUT_EVENT,null)},t.prototype._fireValidInput=function(){this._fire(t.VALID_INPUT_EVENT,null)},t.prototype._fireRemoveResolvedInput=function(n){this._fire(t.RESOLVED_INPUT_REMOVED_EVENT,n?!0:null)},t.prototype._updateActiveDescendantId=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&this._$input.attr("aria-activedescendant",n.activeDescendantId)},t.prototype._isShowMruEnabledInDropdown=function(){return this._options.showMru||this._showMruExpander},t.prototype._attachHandlersOnShowDropdown=function(n){if(n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId){if(this._element)this._element.parents().on("scroll.identityPicker resize.identityPicker",ut(this,this._onInputBlur));this.isDropdownVisible()&&(this._$input.attr("aria-expanded","true"),this._$input.attr("aria-owns",this._identityPickerDropdown.getItemsListId()));h.getService().attachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate)}},t.prototype._detachHandlersOnHideDropdown=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&(this._element&&this._element.parents().off("scroll.identityPicker resize.identityPicker"),this._$input.attr("aria-expanded","false"),this._$input.removeAttr("aria-activedescendant"),h.getService().detachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate))},t.prototype._hideDropdown=function(n){this._identityPickerDropdown&&!this._options.forceOpen&&(this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId}),this._identityPickerDropdown.hide(n),this._$input.removeAttr("aria-activedescendant"))},t.prototype._showDropdown=function(){this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._identityPickerDropdown.show()},t.prototype._compareInputOnInputChangeEvent=function(n){return n=n?n:"",this._previousInput==n},t.prototype._setInputText=function(n){n=n?n:"";this._$input.val(n);this._previousInput=n;this._options.smallScreenRender&&n&&this._$closeInput.show()},t.prototype._resetPreviousInput=function(){this._previousInput=""},t.prototype._onInputChange=function(n){var i=this,t;this._delaySearchTimer||(t=function(){i._inputChangeActions(n)},this._delaySearchTimer=new k.DelayedFunction(this,this._delaySearchTimeOutValue,"inputFieldChanged",t));this._delaySearchTimer.reset()},t.prototype._inputChangeActions=function(n){var t=this.getInputText(),i,r,u,f;if(this._options.smallScreenRender&&(t?this._$closeInput.show():this._$closeInput.hide()),this._compareInputOnInputChangeEvent(t))return!0;if(t=t?t:"",this._previousInput=t,this._resolvedIEntity=null,this._recalculateInputWidth(),t&&t.indexOf(";")<=0?this._fireInvalidInput():this._fireInputValidityEvent(),!t||!this._options.multiIdentitySearch||t.indexOf(";")<0){if(this._isSearchEverIssued=!0,t&&!this._options.multiIdentitySearch){i=t.split(";");r="";for(u in i)if(f=i[u]?i[u].trim():"",f){r=f;break}t=r}return this._identityPickerDropdown.getIdentities(t),!0}this._resolveInputToIdentities(this.getInputText());n.stopPropagation()},t.prototype._onInputClick=function(n){var t=this.getInputText();t&&(this._isSearchEverIssued?this._showDropdown(n):this._options.showMru&&this._showAllMruInDropdown(!1))},t.prototype._onMruTriangleMousedown=function(n){n.preventDefault();n.stopPropagation()},t.prototype._onMruTriangleClick=function(n){if(this._isReadOnly())return!1;this.isDropdownVisible()?this._hideDropdown(n):this._showAllMruInDropdownWithoutDefaultSelection();this.focusOnSearchInput();n.stopPropagation()},t.prototype._isDropdownHovered=function(){return this._identityPickerDropdown.getElement()&&$(this._identityPickerDropdown.getElement()).filter(":hover").length>0},t.prototype._isContactCardHovered=function(){return $(".idcard-dialog").length>0&&$(".idcard-dialog").filter(":hover").length>0},t.prototype._onInputBlur=function(n){if(this._identityPickerDropdown&&!this._isDropdownHovered()&&!($(".idcard-dialog").length||$(".idcard-dialog-content").length)&&this._$input.is(":visible")){var t=!1;this._trackTabKeyDown&&(this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&(this._resolveSelectedItem(!0),t=!0),this._trackTabKeyDown=!1);this._options.highlightResolved&&!t&&(this._resolvedIEntity?this._resolveItem(this._resolvedIEntity):this._options.watermark&&!this.getInputText()&&(this._showWatermark(),this._showMruTriangle()));this.isDropdownVisible()&&this._hideDropdown(n);this._options.callbacks&&this._options.callbacks.onInputBlur&&this._options.callbacks.onInputBlur()}},t.prototype._focusOnResolvedItem=function(n){n.is(":visible")?(n.focus(),this._$container.triggerHandler("focus")):this.focusOnSearchInput()},t.prototype._onInputKeyDown=function(n){var i,t;if(!n||this._isReadOnly())return!0;if(n.keyCode===ot.ESCAPE&&this.isDropdownVisible()&&n.stopPropagation(),n.keyCode===ot.UP)return this.isDropdownVisible()&&this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!0;if(n.keyCode===ot.DOWN)return this._identityPickerDropdown&&(this._identityPickerDropdown.isVisible()?this._identityPickerDropdown.handleKeyEvent(n):this._isShowMruEnabledInDropdown()?this._showAllMruInDropdown():this._showDropdown(n)),n.preventDefault(),!0;if(n.keyCode===ot.TAB)return this._trackTabKeyDown=!0,!0;if(n.keyCode===ot.ENTER)return this.isDropdownVisible()?(this.focusOnSearchInput(),this._resolveSelectedItem(),!1):this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;if(n.keyCode===ot.RIGHT&&this._showContactCard&&this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&this._$input[0].selectionEnd==this._$input.val().length||n.keyCode===ot.DELETE&&this._isShowMruEnabledInDropdown()&&this.isDropdownVisible()&&(i=this._identityPickerDropdown.getSelectedItem(),i&&i.isMru&&et.isDirectoryEntityType(i)))return this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!1;if(!this._$currentlyFocusedItem&&this._$input[0]===document.activeElement&&this._$input[0].selectionStart>0)return!0;if(this._options.callbacks&&this._options.callbacks.onKeyPress)this._options.callbacks.onKeyPress(n.keyCode);switch(n.keyCode){case ot.LEFT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem&&this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!this._$currentlyFocusedItem&&(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._$currentlyFocusedItem=this._$input.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!0:!0;case ot.RIGHT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),!1):!0:!0;case ot.BACKSPACE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._removeFromUnresolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.DELETE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.SPACE:return this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;default:return!0}},t.prototype._fireInputValidityEvent=function(){!this.getInputText().length&&this._selectedItems&&this._selectedItems.length>0&&(!this._unresolvedItems||!this._unresolvedItems.length)?this._fireValidInput():this._fireInvalidInput()},t.prototype._resolveSelectedItem=function(n){if(n===void 0&&(n=!1),this.isDropdownVisible()){var t=this._identityPickerDropdown.getSelectedItem();if(t&&(this._resolveItem(t,!0,null,n),this._options.callbacks&&this._options.callbacks.onItemSelect))this._options.callbacks.onItemSelect(t)}},t.prototype._onInputKeyUp=function(n){return n&&n.keyCode!==ot.DOWN&&n.keyCode!==ot.UP&&n.keyCode!==ot.RIGHT&&this._identityPickerDropdown&&this._identityPickerDropdown.handleKeyEvent(n),!0},t.prototype._removeFromUnresolved=function(n){for(var i=this._getSearchPrefix(n).toLowerCase(),t=this._unresolvedItems.indexOf(i);t>=0;)this._unresolvedItems.splice(t,1),t=this._unresolvedItems.indexOf(i);this._fireInputValidityEvent()},t.prototype._removeFromResolved=function(n,t){function r(t){var i=et.getUniqueIdentifierForDisambiguation(t);return i.toLowerCase()===n.toLowerCase()?($(".idcard-dialog").each(function(){if($(this).is(":visible")&&$(this).attr("data-prefix")&&n.toLowerCase().indexOf($(this).attr("data-prefix").toLowerCase())===0)return $(".ui-dialog-content",$(this)).dialog("close"),!1}),!1):!0}var i=this._selectedItems.filter(r);i.length!=this._selectedItems.length&&(this._selectedItems=i,this._fireInputValidityEvent(),this._fireRemoveResolvedInput(t))},t.prototype.getInputText=function(){return this._$input.val().trim()},t.prototype._resolveInputToIdentities=function(n,i,r,u){var f=this,b=function(n){if(f._element){if(!n||!n.queryToken||!n.identities){v();return}if(n.identities.length!=1)if(i&&i.UID){var e=d.htmlEncode(n.queryToken),r={entityId:t.INACTIVE_ENTITY_ID_PREFIX+"_"+e,entityType:t.INACTIVE_ENTITY_TYPE,originDirectory:ft.VisualStudioDirectory,originId:t.INACTIVE_ORIGIN_ID_PREFIX+"_"+e,isMru:!1,active:!1,displayName:u?u:n.queryToken,signInAddress:n.queryToken,samAccountName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",2)[1]:"",scopeName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",1)[0]:""};r.image=a.ServiceHelpers.getDefaultIdentityImage(r);f._resolveItem(r,!1,n.queryToken)}else f._fireInvalidInput();else n.queryToken.toLowerCase().trim()in f._queryTokensRequested&&f._resolveItem(n.identities[0],!1,n.queryToken);f._hideDropdown();f._stopProgressCursor()}},v=function(n){f._element&&(f._stopProgressCursor(),f._fireValidInput());n&&s.logError("_resolveInputToIdentities/getIdentitiesErrorCallback:"+JSON.stringify(n))},p=n.split(a.ServiceHelpers.GetIdentities_Prefix_Separator),o=[],y,h,w,k,e,g,nt,c;for(h in p)y=p[h]?p[h].trim():"",y.length>0&&(o.push(y),this._unresolveItem(y));this._options.multiIdentitySearch||(this._queryTokensRequested={});for(h in o)this._queryTokensRequested[o[h].toLowerCase().trim()]=!0;if(w=o.length,w)for(this._showProgressCursor(),k=function(){var n=o.slice(50*c,50*c+50);g={identityServiceOptions:{operationScope:r?r:e._operationScope,identityType:e._identityType,httpClient:e._options.httpClient,extensionData:e._options.extensionData},identityExtensionOptions:{consumerId:e._options?e._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n.join(";"),queryTypeHint:i,sources:[ct.Directory],filterByScope:e._options.getFilterByScope()};nt=e._getEntityOperationsFacade().search(g).then(function(t){if(f._options.retainInputIdentitiesSequenceWithinPage)f._resolveIdentityResponseInSequence(t,n,b,v);else for(var i in t.queryTokenResponse)t.queryTokenResponse[i].then(b,v)},v)},e=this,c=0;c<=w/50;c++)k()},t.prototype._resolveIdentityResponseInSequence=function(n,i,r,u){var o=this,f=[];for(var e in n.queryTokenResponse)n.queryTokenResponse.hasOwnProperty(e)&&f.push(n.queryTokenResponse[e]);it.allSettled(f).then(function(n){for(var a,e,v,k,f,s,y,d,p=[],w=[],c=0,b=n;c<b.length;c++)f=b[c],f.state===l.PromiseResultStatus.Fulfilled?p.push(f.value):f.state===l.PromiseResultStatus.Rejected&&w.push(f.reason);for(a={},p.forEach(function(n){return a[n.queryToken]=n}),e=0,v=i;e<v.length;e++)k=v[e],f=a[k],f&&r(f);for(s=0,y=w;s<y.length;s++)d=y[s],u(d);h.getService().fire(t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL,o)},u)},t.prototype._replaceAndCleanup=function(n){for(var i=!1,t=new RegExp("(( *;+ *)+|^ *)("+n.replace(/[.^$*+?()[{\\|\]-]/g,"\\$&")+")(( *;+ *)+| *$)","gi");this.getInputText().search(t)>=0;)this._setInputText(this.getInputText().replace(t,";")),i=!0;return t=new RegExp("^( *;+ *)+$"),this.getInputText().search(t)||this._setInputText(""),i},t.prototype._findInSelectedItems=function(n){var i=-1,t,r;if(!n)return i;for(t=0,r=this._selectedItems.length;t<r;t++)if(this._selectedItems[t].entityId===n.entityId){i=t;break}return i},t.prototype._showIdCardDialog=function(n){if(this._showContactCard&&a.ServiceHelpers.isAuthenticatedMember()){var t={identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,topValue:n.topValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo,useOfficeFabricProfileCard:this._options.useOfficeFabricProfileCard};o.Enhancement.enhance(wt,"<div/>",t)}},t.prototype._clearWatermark=function(){this.isDropdownVisible()&&this._hideDropdown();!this._options.forceOpen&&this._identityPickerDropdown&&this._identityPickerDropdown.reset();this._$input.hide();this._options.smallScreenRender&&this._$closeInput.hide();this._setInputText("")},t.prototype._showWatermark=function(){var n=this,l=this._isControlInFocus(),r,i,f,o,s,h,u,e,c;this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH);this._clearWatermark();r=this._options.watermark;i=$("<span>").addClass("identity-picker-resolved").addClass("identity-picker-resolved-single-search");i.attr("tabindex","-1");i.blur(ut(this,function(t){n._identityPickerDropdown&&!n._isDropdownHovered()&&!n._isContactCardHovered()&&i.is(":visible")&&(n.isDropdownVisible()&&n._hideDropdown(t),n._options.callbacks&&n._options.callbacks.onInputBlur&&n._options.callbacks.onInputBlur())}));ft.styleElementBySize(i,this._size,!0);this._options.smallScreenRender?f=$("<span>").addClass("icon identity-picker-text-search-icon bowtie-icon bowtie-search"):(s=a.ServiceHelpers.getDefaultIdentityImage(r),r.image&&(o=r.image),f=ft.createImgElement(s,o,"user-picture-resolved",r.entityId));ft.styleElementBySize(f,this._size,!1);h=et.getDisplayName(r);u=$("<span>").addClass("identity-picker-watermark-name").addClass("text-cursor").text(h);i.append(f).append(u).insertBefore(this._$input);i.width(this._controlWidth-t.OUTER_PADDING_PX-(this._showMruExpander?t.TRIANGLE_WIDTH_PX:0));u.attr("tabindex","0");e=function(t){t.stopPropagation();i.off(".identityPicker").remove();n._$input.show();n._showMruTriangle();n._recalculateInputWidth();n.focusOnSearchInput();n._setInputText("")};u.on("focus.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;e(t)}));i.on("mousedown.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;t.preventDefault();e(t);n._showAllMruInDropdown(!1)}));l&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&(c=ft.createTooltip(r,this._options.callbacks.getCustomTooltip()),rt.RichContentTooltip.add(c,u,{showOnFocus:!this._options.smallScreenRender}))},t.prototype._createTemporaryItem=function(n,t){var i=$("<span>").addClass("identity-picker-resolved identity-picker-temp").attr("data-signin",ft.replaceBackslash(t)).attr("tabindex","-1"),u,r;ft.styleElementBySize(i,this._size,!0);u=ft.createImgElement(a.ServiceHelpers.DefaultUserImage,"","user-picture-resolved");ft.styleElementBySize(u,this._size,!1);r=$("<span>").addClass("identity-picker-resolved-name").text(n);this._options.multiIdentitySearch?(i.addClass("identity-picker-resolved-bg"),r.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([]))):(i.addClass("identity-picker-resolved-single-search"),this._options.highlightResolved||(i.attr("tabindex","0"),i.addClass("identity-picker-resolved-single-bg")),$(".identity-picker-resolved",this._element).off(".identityPicker").remove());this._options.highlightResolved&&r.addClass("text-cursor");i.append(u).append(r).insertBefore(this._$input);this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide());this._isControlInFocus()&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&rt.RichContentTooltip.add(n,r,{showOnFocus:!this._options.smallScreenRender})},t.prototype._isControlInFocus=function(){var n=$(document.activeElement);return n.length>0&&(this._element.is(n[0])||this._element.has(n[0]).length>0)},t.prototype._createResolvedItem=function(n){var t=$("<span>").addClass("identity-picker-resolved").attr("data-signin",ft.replaceBackslash(n));return this._isReadOnly()||t.attr("tabindex","-1"),this._options.multiIdentitySearch?t.addClass("identity-picker-resolved-bg"):(t.addClass("identity-picker-resolved-single-search"),this._showMruExpander&&this._options.highlightResolved&&t.addClass("identity-picker-drop-icon-padding"),this._options.highlightResolved||(t.attr("tabindex","0"),!this._options.ariaDescribedby||t.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),t.addClass("identity-picker-resolved-single-bg"))),t},t.prototype._setResolvedItemRole=function(n,t){n.attr("role","button").attr("aria-disabled","false").attr("aria-label",d.format(p.IdentityPicker_ButtonResolvedItemLabel,d.htmlEncodeJavascriptAttribute(t)));var i=o.getId().toString(),r=$("<div>").attr("id",i).addClass("visually-hidden").appendTo(n);n.attr("aria-describedby",this._getAriaDescribedby(i));this._options.highlightResolved?r.text(p.IdentityPicker_FocusChangeValue):r.text(d.format(p.IdentityPicker_ButtonResolvedItemDescription,d.htmlEncodeJavascriptAttribute(t))+". "+(this._showContactCard&&!this._options.highlightResolved?p.IdentityPicker_EnterSpaceMessage+". ":"")+p.IdentityPicker_DeleteBackspaceMessage)},t.prototype._resolveItem=function(n,i,r,u){var f=this,k,h,l,e,g,nt,v,c,o,s,b,y,w;if(i===void 0&&(i=!0),r===void 0&&(r=null),u===void 0&&(u=!1),this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),n){if(k=this._isControlInFocus(),!this._options.multiIdentitySearch&&this._selectedItems&&this._selectedItems.length>0&&this._clearSearchControl(),this.isDropdownVisible()&&this._hideDropdown(),!this._options.forceOpen&&(this._options.multiIdentitySearch||!this._options.highlightResolved)&&this._identityPickerDropdown&&this._identityPickerDropdown.reset(),this._resetPreviousInput(),i&&this._setInputText(""),h=r?this._getSearchPrefix(r):"",h&&(this._replaceAndCleanup(h.toLowerCase()),this._removeFromUnresolved(h.toLowerCase()),this._element.find('.identity-picker-resolved[data-signin="'+ft.replaceBackslash(h.toLowerCase())+'"][data-unresolved="true"]').off(".identityPicker").remove()),this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(h.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove()),this._findInSelectedItems(n)!=-1){this._fireInputValidityEvent();return}if(this._selectedItems.push(n),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),l=et.getUniqueIdentifierForDisambiguation(n),this._$input.width(10),e=this._createResolvedItem(l.toLowerCase()),ft.styleElementBySize(e,this._size,!0),nt=a.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(g=n.image),v=ft.createImgElement(nt,g,"user-picture-resolved",n.entityId),ft.styleElementBySize(v,this._size,!1),c=et.getDisplayName(n),this._options.smallScreenRender&&this._$closeInput.hide(),o=this._createCloseButton(),this._options.multiIdentitySearch&&o.addClass("identity-picker-resolved-bg"),this._options.highlightResolved||o.addClass("identity-picker-resolved-single-bg"),ft.styleElementBySize(o,this._size,!1),o.click(ut(this,function(n){if(f._removeFromResolved(l.toLowerCase(),!0),e.off(".identityPicker").remove(),f._identityPickerDropdown&&f._identityPickerDropdown.updatePrefix(""),f._resolvedIEntity=null,!f._options.multiIdentitySearch){f._resetSearchControl();return}f._recalculateInputWidth();f.focusOnSearchInput();n.stopPropagation()})),e.append(v).append(o).insertBefore(this._$input),s=$("<span>").addClass("identity-picker-resolved-name").text(c),this._readOnlyMode&&s.attr("aria-label",d.format(p.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText)),this._options.multiIdentitySearch&&s.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([v,o])),this._options.highlightResolved?s.addClass("text-cursor"):et.isDirectoryEntityType(n)&&s.addClass("pointer-cursor"),n.active!==!1||et.isAadGroup(n)||s.addClass("identity-picker-inactive-name"),this._isReadOnly()?o.hide():this._setResolvedItemRole(e,c),e.append(s),this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide(),this._showMruExpander&&this._hideMruTriangle(),this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove(),this._options.highlightResolved&&!this._isReadOnly()&&s.attr("tabindex","0")),b=function(t){t.stopPropagation();f._resolvedIEntity=n;f._removeFromResolved(l.toLowerCase());e.off(".identityPicker").remove();f._$input.show();f._showMruTriangle();f._recalculateInputWidth();f.focusOnSearchInput();f._setInputText(c);f._identityPickerDropdown&&f._identityPickerDropdown.updatePrefix(c);f._$input.select()},this._options.highlightResolved)s.on("focus.identityPicker",ut(this,function(n){if(f._isReadOnly())return!1;b(n)}));y=function(t){if($.contains(o[0],t.target)||o[0]===t.target)return!0;if(f._isReadOnly())return!1;if(w)return w=!1,!1;if(w=!0,t.preventDefault(),f._options.highlightResolved)b(t);else if(t.stopPropagation(),et.isDirectoryEntityType(n)){f._showIdCardDialog({anchor:e,identity:n,leftValue:0,consumerId:f._options.consumerId});var i=function(n){n.stopPropagation();e.off("click.identityPicker",i)};e.on("click.identityPicker",i)}f._options.highlightResolved&&f._showAllMruInDropdownWithoutDefaultSelection(!1)};w=!1;e.on("mousedown.identityPicker",ut(this,function(n){y(n)}));e.on("click.identityPicker",ut(this,function(n){y(n)}));if(!this._options.multiIdentitySearch&&!this._options.highlightResolved)e.on("keypress.identityPicker",ut(this,function(n){n&&n.keyCode===ot.ENTER&&y(n)}));e.blur(ut(this,function(n){f._identityPickerDropdown&&!f._isDropdownHovered()&&!f._isContactCardHovered()&&e.is(":visible")&&(f.isDropdownVisible()&&f._hideDropdown(n),f._options.callbacks&&f._options.callbacks.onInputBlur&&f._options.callbacks.onInputBlur())}));this._isReadOnly()||!this._showContactCard||this._options.highlightResolved||e.attr("aria-haspopup","true");this._fireInputValidityEvent();this._$container[0].scrollTop=this._$container[0].scrollHeight;k&&!u&&this.focusOnSearchInput();this._options.highlightResolved&&a.ServiceHelpers.isAuthenticatedMember()&&rt.RichContentTooltip.add(ft.createTooltip(n),s,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._getItemNameContainerMaxWidth=function(n){var t=this._controlWidth-ft.SCROLL_BAR_WIDTH_PX;for(var i in n)n.hasOwnProperty(i)&&(t-=parseInt(n[i].css("width"),10));return t},t.prototype._createCloseButton=function(){var n=$("<span>").addClass("identity-picker-resolved-close-icon bowtie-icon");return n.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete"),$("<span>").addClass("identity-picker-resolved-close").append(n)},t.prototype._getSearchPrefix=function(n){var t=/^.*[(<{\[]\s*([^\s]+@[^\s]+\.[^\s]+[^)>}\]])\s*[)>}\]]+\s*$/.exec(n);return t&&t[0]===n?t[1]:n},t.prototype._unresolveItem=function(n){var e=this,u,i,s,r,f,h,c;if(this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),this._resetPreviousInput(),n){if(u=this._getSearchPrefix(n),this._unresolvedItems.indexOf(u.toLowerCase())!=-1){this._replaceAndCleanup(n.toLowerCase());return}if(!this._replaceAndCleanup(n.toLowerCase()))return;this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(u.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove());this._fireInvalidInput();this._unresolvedItems.push(u.toLowerCase());this._$input.width(10);i=this._createResolvedItem(u.toLowerCase()).attr("data-unresolved","true");ft.styleElementBySize(i,this._size,!0);s=$("<span>").addClass("identity-picker-resolved-close-icon bowtie-icon bowtie-edit-delete");s.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete");r=$("<span>").addClass("identity-picker-resolved-close").append(s);this._options.multiIdentitySearch?r.addClass("identity-picker-resolved-bg"):this._options.highlightResolved||r.addClass("identity-picker-resolved-single-bg");ft.styleElementBySize(r,this._size,!1);r.click(ut(this,function(){e._removeFromUnresolved(n.toLowerCase());i.off(".identityPicker").remove();e._recalculateInputWidth();e.focusOnSearchInput()}));i.append(r).insertBefore(this._$input);f=$("<span>").addClass("identity-picker-unresolved-name").text(d.decodeHtmlSpecialChars(n));this._options.multiIdentitySearch&&f.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([r]));i.attr("role","button").attr("aria-label",d.format(p.IdentityPicker_ButtonUnresolvedItemLabel,n));h=o.getId().toString();c=$("<div>").attr("id",h).addClass("visually-hidden").appendTo(i);c.text(d.format(p.IdentityPicker_ButtonUnresolvedItemDescription,n)+". "+p.IdentityPicker_DeleteBackspaceMessage);i.attr("aria-describedby",h);i.append(f);this._recalculateInputWidth();this.focusOnSearchInput();this._$container[0].scrollTop=this._$container[0].scrollHeight;rt.RichContentTooltip.add(p.IdentityPicker_UnresolvedIdentity+": "+n,f,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._generatePlaceHolder=function(n){return this._isInArray(a.ServiceHelpers.UserEntity,n)&&this._isInArray(a.ServiceHelpers.GroupEntity,n)?p.IdentityPicker_PlaceholderTextUserGroup:this._isInArray(a.ServiceHelpers.UserEntity,n)&&!this._isInArray(a.ServiceHelpers.GroupEntity,n)?p.IdentityPicker_PlaceholderTextUser:!this._isInArray(a.ServiceHelpers.UserEntity,n)&&this._isInArray(a.ServiceHelpers.GroupEntity,n)?p.IdentityPicker_PlaceholderTextGroup:p.IdentityPicker_PlaceholderTextPrefix},t.prototype._isInArray=function(n,t){return t.indexOf(n)>=0},t.INVALID_INPUT_EVENT="identity-picker-search-invalid-input",t.VALID_INPUT_EVENT="identity-picker-search-valid-input",t.RESOLVED_INPUT_REMOVED_EVENT="identity-picker-resolved-input-removed",t.SEARCH_STARTED_EVENT="identity-picker-search-started",t.SEARCH_FINISHED_EVENT="identity-picker-search-finished",t.DIALOG_MOVE_EVENT="dialog-move",t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL="identity-picker-sequenced-identities-in-page-resolved-internal",t.SEARCH_MRU_TRIANGLE_CLASS="identity-picker-search-drop-icon",t.DEFAULT_WIDTH=140,t.OUTER_PADDING_PX=2,t.TRIANGLE_WIDTH_PX=19,t.NAME_PADDING_PX=8,t.INACTIVE_ENTITY_TYPE="inactive_entitytype",t.INACTIVE_ENTITY_ID_PREFIX="INACTIVE_ENTITY_ID",t.INACTIVE_ORIGIN_ID_PREFIX="INACTIVE_ORIGIN_ID",t}(o.Control);t.IdentityPickerSearchControl=dt,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(st=t.IdentityPickerControlSize||(t.IdentityPickerControlSize={})),function(n){n[n.AvatarText=0]="AvatarText";n[n.AvatarOnly=1]="AvatarOnly";n[n.TextOnly=2]="TextOnly"}(pt=t.EDisplayControlType||(t.EDisplayControlType={})),function(n){n[n.ExpiredAccessToken=0]="ExpiredAccessToken";n[n.IsGuestUser=1]="IsGuestUser"}(kt||(kt={}));gt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._displayedEntity=null,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i._size=t.size!==null&&t.size!==undefined?t.size:st.Medium,i._turnOffHover=t.turnOffHover?t.turnOffHover:!1,i}return __extends(t,n),t.prototype.initialize=function(){var t,i;if(n.prototype.initialize.call(this),a.ServiceHelpers.isAuthenticatedMember()||(this._turnOffHover=!0),t=this._options.item,!t||(typeof t=="string"||t instanceof String)&&!t.trim()){i={source:"IdentityDisplayControl.initialize()",message:"The item argument to the IdentityDisplayControl cannot be null or empty"};throw i;}this._displayType=this._options.displayType?this._options.displayType:pt.AvatarText;(typeof t=="string"||t instanceof String)&&t?(t=t.trim(),this._displayString(t),this._resolveStringToEntity(t)):this._displayEntity(t,"")},t.prototype.getDisplayedEntity=function(){if(this._displayedEntity)return this._displayedEntity;throw{source:"getResolvedEntity",message:"No resolved entity found."};},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=w.getService(yt)),this._entityOperationsFacade},t.prototype._resolveStringToEntity=function(n){var t=this,r=function(i){if(t._element){if(!i||!i.queryToken||!i.identities)return;if(i.identities.length!=1)return;t._getEntityOperationsFacade().queryTokenEntityImageCache.set(n,i.identities[0].image);t._displayEntity(i.identities[0],n)}},i=function(n){n&&s.logWarning("_resolveStringToEntity/getIdentitiesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:l.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},f=this._getEntityOperationsFacade().search(u).then(function(n){for(var u in n.queryTokenResponse)n.queryTokenResponse[u].then(ut(t,r),ut(t,i))},i)},t.prototype._showIdCardDialog=function(n){a.ServiceHelpers.isAuthenticatedMember()&&o.Enhancement.enhance(wt,"<div/>",{identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo})},t.prototype._displayString=function(n){var t=$("<span>").addClass("identity-picker-display").attr("data-item",n).attr("tabindex","-1"),i,r,u,f;this._turnOffHover||rt.RichContentTooltip.add(this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n,t);ft.styleElementBySize(t,this._size,!0);i=null;this._displayType!=pt.TextOnly&&(r=this._getEntityOperationsFacade().queryTokenEntityImageCache.get(n),u=r?r:a.ServiceHelpers.DefaultUserImage,i=ft.createImgElement(u,"","user-picture-resolved"),ft.styleElementBySize(i,this._size,!1),t.append(i));this._displayType!=pt.AvatarOnly?(f=$("<span>").addClass("identity-picker-resolved-name").text(this._options.friendlyDisplayName?this._options.friendlyDisplayName:n),t.append(f)):i.attr("alt",this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n);t.appendTo(this._element)},t.prototype._displayEntity=function(n,i){var r=this,f,o,c,h,l,v;if(n){this._displayedEntity=n;var e=et.getDisplayName(this._displayedEntity),y=et.getUniqueIdentifierForDisambiguation(this._displayedEntity),u=$("<span>").addClass("identity-picker-display").attr("data-signin",ft.replaceBackslash(y.toLowerCase())).attr("tabindex","-1");ft.styleElementBySize(u,this._size,!0);f=null;o=null;this._displayType!=pt.TextOnly&&(c=a.ServiceHelpers.getDefaultIdentityImage(this._displayedEntity),f=ft.createImgElement(c,this._displayedEntity.image?this._displayedEntity.image:"","user-picture-resolved",this._displayedEntity.entityId),ft.styleElementBySize(f,this._size,!1),u.append(f));this._displayType!=pt.AvatarOnly?(o=$("<span>").addClass("identity-picker-resolved-name").text(e),$('.identity-picker-display[data-item="'+i+'"]',this._element).remove(),u.append(o)):(h=et.getSignInAddress(this._displayedEntity),f.attr("alt",e!==h?e+" <"+h+">":e));l=function(){var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]');n.length&&$(".ui-dialog-content",n).dialog("close")};v=function(){r._hoverIdCardEnterTimer=new k.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL,"showDisplayControlContactCard",function(){r._element.parent().length>0&&r._element.is(":visible")&&r._showIdCardDialog({anchor:u,identity:r._displayedEntity,leftValue:0,consumerId:r._options.consumerId})})};!this._turnOffHover&&et.isDirectoryEntityType(this._displayedEntity)&&u.hover(function(){r._hoverIdCardEnterTimer?r._hoverIdCardEnterTimer.reset():(v(),r._hoverIdCardEnterTimer.start())},function(){r._hoverIdCardEnterTimer&&r._hoverIdCardEnterTimer.cancel();var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]'),i=function(){r._hoverIdCardExitTimer?r._hoverIdCardExitTimer.reset():(r._hoverIdCardExitTimer=new k.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL,"closeDisplayControlContactCard",l),r._hoverIdCardExitTimer.start())};n&&n.length&&n.mouseenter(function(){r._hoverIdCardExitTimer.cancel();n.mouseleave(function(){i()})});i()});this._element.empty();u.appendTo(this._element)}},t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL=800,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL=200,t.MIN_WIDTH=100,t.OUTER_PADDING_PX=2,t}(o.Control);t.IdentityDisplayControl=gt;ft=function(){function n(){}return n.styleElementBySize=function(n,t,i){i===void 0&&(i=!0);switch(t){case st.Small:i?n.addClass("element-height-small"):n.addClass("element-2d-small");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-small-compensate-padding");break;case st.Medium:i?n.addClass("element-height-medium"):n.addClass("element-2d-medium");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-medium-compensate-padding");break;case st.Large:i?n.addClass("element-height-large"):n.addClass("element-2d-large");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-large-compensate-padding")}},n.createImgElement=function(n,t,i,r){t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");var u=$("<img>").css("background","url('"+n+"') no-repeat").css("background-size","100%").attr("src",t?t:n).attr("alt","").attr("draggable","false").on("dragstart",function(){return!1});u.on("error",function(){u.attr("src")&&u.attr("src")===n?(u.off("error"),u.css("background-color","#7d7d7d").css("background-size","100%")):u.attr("src",n)});return u.load(function(){u.attr("src")&&u.attr("src")!==n&&u.css("background-image","none")}),i&&u.addClass(i),r&&u.attr("data-objectid",r),u},n.getRandomString=function(){return Math.random().toString(36).substring(5)},n.getSizePx=function(n){switch(n){case st.Small:return 16;case st.Medium:return 24;case st.Large:return 32}},n.isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n.isOnPremiseEnvironment=function(){return!e.getPageContext().webAccessConfiguration.isHosted==!0},n.sortGroupMembersByName=function(n){return n.sort(function(n,t){return!n||!n.displayName?-1:!t||!t.displayName?1:n.displayName.toLocaleLowerCase().localeCompare(t.displayName.toLocaleLowerCase())})},n.createTooltip=function(t,i){var u,r,f;return i?i:t?(u=t.displayName&&t.displayName.trim()?t.displayName:"",r="",n.isOnPremiseEnvironment()?t.samAccountName&&t.samAccountName.trim()&&(r="("+(t.scopeName&&t.scopeName.trim()?t.scopeName+"\\":"")+t.samAccountName+")"):t.signInAddress&&t.signInAddress.trim()&&(r="<"+t.signInAddress+">"),f="",t.active!==!1||et.isAadGroup(t)||(f=" - "+(t.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity?p.IdentityPicker_InactiveUser:t.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity?p.IdentityPicker_InactiveGroup:p.IdentityPicker_InactiveIdentity)),(u?u:"")+(r?" "+r:"")+f):""},n.replaceBackslash=function(n){return n.replace(/\\/g,"%")},n.UserEntityType=a.ServiceHelpers.UserEntity,n.GroupEntityType=a.ServiceHelpers.GroupEntity,n.VisualStudioDirectory=a.ServiceHelpers.VisualStudioDirectory,n.AzureActiveDirectory=a.ServiceHelpers.AzureActiveDirectory,n.SourceDirectory=a.ServiceHelpers.SourceDirectory,n.FIXED_POSTIION_CLASS="identity-picker-fixed-position",n.SCROLL_BAR_WIDTH_PX=20,n.IDENTITY_ITEM_BUFFER_WIDTH_PX=18,n}();at=function(){function n(){}return n.createStringEntity=function(t,i){var r=d.htmlEncode(t),u={entityId:n.STRING_ENTITY_ID_PREFIX+"_"+r,entityType:n.STRING_ENTITY_TYPE,originDirectory:n.STRING_DIRECTORY,originId:n.STRING_ORIGIN_ID_PREFIX+"_"+r,localDirectory:n.STRING_DIRECTORY,localId:n.STRING_LOCAL_ID_PREFIX+"_"+r,isMru:!1,displayName:r};return u.image=i||a.ServiceHelpers.getDefaultIdentityImage(u),u},n.isStringEntityId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_ENTITY_ID_PREFIX)==0?!0:!1},n.isStringPrefixedLocalId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_LOCAL_ID_PREFIX)==0},n.STRING_ENTITY_TYPE="string_entitytype",n.STRING_ENTITY_ID_PREFIX="STRING_ENTITYID",n.STRING_DIRECTORY="STRING_DIRECTORY",n.STRING_ORIGIN_ID_PREFIX="STRING_ORIGINID",n.STRING_LOCAL_ID_PREFIX="STRING_LOCALID",n}();t.EntityFactory=at;var et=function(){function n(){}return n.isDirectoryEntityType=function(n){return n.entityType?n.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity:!1},n.isAadGroup=function(n){return n.entityType&&n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity&&n.originDirectory.toLowerCase().trim()==a.ServiceHelpers.AzureActiveDirectory},n.getUniqueIdentifierForDisambiguation=function(n){return ft.isOnPremiseEnvironment()||n.entityType.toLowerCase().trim()!=a.ServiceHelpers.UserEntity?n.entityId:n.signInAddress&&ft.isValidEmail(n.signInAddress)?n.signInAddress:n.entityId},n.getDisplayName=function(t){return t.displayName&&t.displayName.trim()?t.displayName:n.getSignInAddress(t,n.isGitHubIdentity(t))},n.isGitHubIdentity=function(n){return n.originDirectory&&n.originDirectory.toLowerCase().trim()==a.ServiceHelpers.GitHubDirectory},n.getNonDiacriticDisplayName=function(n){return this.replaceDiacriticCharacters(this.getDisplayName(n))},n.replaceDiacriticCharacters=function(n){var t,i,r;if(n){for(t=n,i=0;i<t.length;i++)r=t.charAt(i),r in l.diacriticsRemovalMap&&(t=t.replace(r,l.diacriticsRemovalMap[r]));return t}return n},n.getSignInAddress=function(n,t){return(t===void 0&&(t=!1),ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim())?(n.scopeName&&n.scopeName.trim()?n.scopeName+"\\":"")+n.samAccountName:!t&&n.signInAddress&&n.signInAddress.trim()?n.signInAddress:!t&&n.mail&&n.mail.trim()?n.mail:n.mailNickname&&n.mailNickname.trim()?n.mailNickname:""},n}(),ri=function(){function n(){}return n.prototype.getIdentityAttributes=function(n){if(n.entityType.trim().toLowerCase()==a.ServiceHelpers.UserEntity)return new ti(n);if(n.entityType.trim().toLowerCase()==a.ServiceHelpers.GroupEntity)return new ii(n);throw{source:"getIdentityAttributes",message:"identity entityType do not match existing type"};},n}(),vt=function(){function n(n,t,i){this._displayTitle=n;this._displayContent=t;this._needWordWrap=i?i:!1}return n.prototype.getDisplayTitle=function(){return this._displayTitle},n.prototype.getDisplayContent=function(){return this._displayContent},n.prototype.constructAttribute=function(n){var r=$("<div>").addClass("identity-picker-idcard-attribute-name").attr("id","identity-picker-idcard-attribute-name_"+n).text(this.getDisplayTitle()),i=this.getDisplayContent(),t=$("<div>").addClass("identity-picker-idcard-ellipsis-overflow"),u;return rt.RichContentTooltip.addIfOverflow(i,t,{menuContainer:t}),this._isValidSendEmailAttribute()?u=$("<a>").attr({"aria-labelledby":"identity-picker-idcard-attribute-name_"+n,href:"mailto:"+i,tabindex:"0"}).text(i).appendTo(t):t.text(this.getDisplayContent()),this._needWordWrap&&t.addClass("identity-picker-idcard-word-wrap"),[r,t]},n.prototype._isValidSendEmailAttribute=function(){return p.IdentityPicker_IdCardMail.toLowerCase()==this.getDisplayTitle().toLowerCase().trim()&&ft.isValidEmail(this.getDisplayContent())},n}(),ui=function(){function n(){this._withContactCard=!1;this._smallScreenRender=!1;this._withContactCard=!0;this._focusElementOnContactCardClose=null}return n.prototype.withPrefix=function(n){return this._prefix=n,this},n.prototype.withEntity=function(n){return this._entity=n,this},n.prototype.withContactCard=function(n,t){return this._withContactCard=n,this._withContactCard&&(this._focusElementOnContactCardClose=t),this},n.prototype.forControlOfSize=function(n){return this._size=n,this},n.prototype.withIdentityServiceOptions=function(n){return this._identityServiceOptions=n,this},n.prototype.withIdentityExtensionOptions=function(n){return this._identityExtensionOptions=n,this},n.prototype.withHoverSupport=function(n){return this._supportsHover=n,this},n.prototype.withSmallScreenRender=function(n){return this._smallScreenRender=n,this},n.prototype.withDialogAppendTo=function(n){return this._dialogAppendTo=n,this},n.prototype.registerCallbacks=function(n){return this._callbacks=n,this},n.prototype.build=function(){var i=this,t,h,u,f,e,o,r,c,s,a,v;return!this._entity||this._size===null||this._size===undefined||!this._identityServiceOptions||!this._identityServiceOptions.identityType||!this._identityServiceOptions.operationScope||!this._callbacks?null:(t=$("<li>").attr("role","option"),this._smallScreenRender&&(h=$("<i>").addClass("ms-Icon ms-Icon--CheckMark"),u=$("<span>").addClass("container"),h.appendTo(u),f=$("<span>").addClass("selected-fade"),u.appendTo(f),f.appendTo(t)),ft.styleElementBySize(t,this._size,!0),n._appendImage(this._entity,t,this._size),e=et.isGitHubIdentity(this._entity),o=!e&&this._withContactCard&&et.isDirectoryEntityType(this._entity),this._entity.isMru&&et.isDirectoryEntityType(this._entity)&&(r=$("<div>").addClass("bowtie-icon bowtie-edit-delete bowtie-icon-small identity-picker-delete-icon").attr("role","button").appendTo(t),rt.RichContentTooltip.add(p.IdentityPicker_RemoveFromMru,r,{menuContainer:r}),ft.styleElementBySize(r,this._size,!1),o&&r.addClass("with-idcard"),r.hide(),c=ut(this,function(){var n={};n[l.TelemetryProperties.entityId]=i._entity.entityId;n[l.TelemetryProperties.consumerId]=i._identityExtensionOptions?i._identityExtensionOptions.consumerId:l.ConsumerId.UnknownConsumer;nt.publishEvent(new nt.TelemetryEventData(l.Telemetry.Area,l.Telemetry.Feature_Click_Remove_Mru,n));i._callbacks.deleteIconClickDelegate(i._entity,t)}),this._callbacks.deleteIconClickDelegate&&r.click(c)),o&&!et.isGitHubIdentity(this._entity)&&n._appendIdCard(this._entity,t,this._size,this._identityServiceOptions,this._identityExtensionOptions,this._callbacks,this._focusElementOnContactCardClose,this._dialogAppendTo),s=n._appendTextContainer(this._entity,t,this._size,this._prefix,this._smallScreenRender),this._size==st.Small&&(a=this._entity.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?this._entity.displayName:et.getSignInAddress(this._entity,e),rt.RichContentTooltip.add(a,s,{menuContainer:s})),v=function(){var n,r;i._smallScreenRender&&(n=17,k.delay(null,n,function(){t.children(".selected-fade").attr("class","selected-fade-active")}),r=400,k.delay(null,n+r,function(){t.children(".selected-fade").attr("class","selected-fade")}));i._callbacks.entityListItemClickDelegate(i._entity)},this._callbacks.entityListItemClickDelegate&&t.click(v),this._entity.isMru&&this._supportsHover&&t.hover(ut(this,function(){t.children(".identity-picker-delete-icon").show()}),ut(this,function(){t.children(".identity-picker-delete-icon").hide()})),t)},n._appendTextContainer=function(t,i,r,u,f){var s,o,e;return f===void 0&&(f=!1),s=et.isGitHubIdentity(t)&&!(t.displayName&&t.displayName.trim()),s?o=$("<div>").addClass("item-text-container").append($("<div>").append($("<div>").addClass("bowtie-icon bowtie-brand-github list-icon")).addClass("title-only").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))):(o=$("<div>").addClass("item-text-container").append($("<div>").addClass("title").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))),e=et.getSignInAddress(t,et.isGitHubIdentity(t)),e=d.isGuid(e)?"":e,r!=st.Small&&e&&e.trim()&&o.append($("<div>").append($("<div>").addClass(et.isGitHubIdentity(t)?"bowtie-icon bowtie-brand-github list-icon":"")).addClass("subtitle").addClass(r==st.Large?"large":"").append(n._highlightPrefix(e,u)))),o.appendTo(i),f||o.height(ft.getSizePx(r)+lt.IMAGE_MARGINS_PX),o},n._appendImage=function(n,t,i){var f=a.ServiceHelpers.getDefaultIdentityImage(n),r,u;n.image&&(r=n.image);u=ft.createImgElement(f,r,r&&r.trim()?"identity-picture":"identity-picture hidden",n.entityId).appendTo(t);ft.styleElementBySize(u,i,!1)},n._appendIdCard=function(n,t,i,r,u,f,e,s){var h=$("<div>").addClass("bowtie-icon bowtie-contact-card identity-picker-contact-card-icon").attr("role","button").appendTo(t),c;rt.RichContentTooltip.add(p.IdentityPicker_ShowContactCardTitle,h,{menuContainer:h});ft.styleElementBySize(h,i,!1);c=ut(this,function(t){t.stopPropagation();var f={identity:n,anchor:h,operationScope:r.operationScope,identityType:r.identityType,httpClient:r.httpClient?r.httpClient:null,focusElementOnClose:e,leftValue:h.offset().left,topValue:h.offset().top+h.outerHeight(),consumerId:u.consumerId,appendTo:s},i={};i[l.TelemetryProperties.entityId]=n.entityId;i[l.TelemetryProperties.consumerId]=u?u.consumerId:l.ConsumerId.UnknownConsumer;nt.publishEvent(new nt.TelemetryEventData(l.Telemetry.Area,l.Telemetry.Feature_Click_IdCard,i));o.Enhancement.enhance(wt,"<div/>",f)});h.click(c)},n._highlightPrefix=function(n,t,i){var u;if(i===void 0&&(i=!1),!n)return null;var o=et.replaceDiacriticCharacters(n),s=et.replaceDiacriticCharacters(t),r=o.toLowerCase().indexOf(s.toLowerCase()),f=function(n,t,i){return $("<span>").append(d.htmlEncode(n.substring(0,i))).append($("<b>").text(n.substr(i,t))).append(d.htmlEncode(n.substr(i+t)))},e=function(n,t,i,r){for(var u=et.replaceDiacriticCharacters(n),e=et.replaceDiacriticCharacters(t);i>0&&u.charAt(i-1)!=r;)i=u.toLowerCase().indexOf(e.toLowerCase(),i+1);return i>0?f(n,t.length,i):null};if(r){if(r>0){if(i&&(u=e(n,t,r," "),u)||ft.isOnPremiseEnvironment()&&t.indexOf("\\")<0&&(u=e(n,t,r,"\\"),u))return u}else if(ft.isOnPremiseEnvironment()&&t.indexOf("\\")>0)if(t=t.substring(t.indexOf("\\")+1),r=o.toLowerCase().indexOf(s.toLowerCase()),r){if(i&&(u=e(n,t,r," "),u))return u}else return f(n,t.length,r)}else return f(n,t.length,r);return $("<span>").text(n)},n}(),ct=function(){function n(){}return n.Directory="Directory",n.Mru="Mru",n.Persistent="Persistent",n.String="String",n}();t.SourceId=ct,function(n){n[n.Sync=0]="Sync";n[n.Async=1]="Async"}(ni=t.SourceType||(t.SourceType={}));bt=function(){function n(){}return n.PreferFirst="preferfirst",n.PreferSecond="prefersecond",n}();yt=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._mruEntities={},t._syncSources={},t._requestStack=[],t._deferredStack=[],t._userMruReady={},t._entityRetrieverPrepComplete={},t._mruEntitiesPromise={},t._mruEntities={},t.registerSyncSource({id:ct.Mru,sourceType:ni.Sync,getEntities:t._mruSourceGetEntitiesHandler,sortRank:10}),t.queryTokenEntityImageCache=new v.HashCache,t}return __extends(t,n),t.prototype.registerSyncSource=function(n){if(!(n.id in this._syncSources)){for(var t in this._syncSources)if(this._syncSources[t].sortRank==n.sortRank)return;this._syncSources[n.id]=n}},t.prototype.search=function(n){var i=this,e,u,f;if(!n.sources||n.sources.length==0||!n.identityServiceOptions){e={source:"EntityOperationsFacade: search",message:"missing arguments"};throw e;}var o=it.defer(),s=o.promise,r=c.FilterByScope.GetHashCode(n.filterByScope);return typeof this._requestStack[r]=="undefined"&&(this._requestStack[r]=[]),this._requestStack[r].push(n),typeof this._deferredStack[r]=="undefined"&&(this._deferredStack[r]=[]),this._deferredStack[r].push(o),u=ut(this,function(){for(var e=function(){var e=i._requestStack[r].pop(),o=i._deferredStack[r].pop();n=[];f=i._getRegisteredSyncSourcesSorted().filter(function(n){return e.sources.indexOf(n)!=-1});f&&f.forEach(ut(i,function(r){var u=i._syncSources[r].getEntities.bind(i),f=u(n,e);n=t.mergeEntities(f,n)}));u={entityResponse:[],queryTokenResponse:{}};e.sources.indexOf(ct.Directory)!=-1&&(u.queryTokenResponse=i._directorySourceGetEntities(n,e));n.length>0?i.getImagesForEntities(n,e).then(function(t){n.forEach(ut(i,function(n){t.hasOwnProperty(n.entityId)&&(n.image=t[n.entityId])}));u.entityResponse=n;o.resolve(u)}):o.resolve(u)},n,f,u;i._requestStack[r].length>0;)e()}),f=this.load({loadMru:n.sources.indexOf(ct.Mru)!=-1,filterByScope:n.filterByScope}),f.isFulfilled()?u():f.then(u,u),s},t.prototype.isUserMruReady=function(n){return this._userMruReady[c.FilterByScope.GetHashCode(n)]},t.prototype.getMruEntitiesUnchecked=function(n){return this._mruEntities[c.FilterByScope.GetHashCode(n)]},t.prototype.refreshUserMru=function(n){return this._getUserMruEntities(null,null,n)},t.prototype.load=function(n){var i=this,t=c.FilterByScope.GetHashCode(n.filterByScope);return this._entityRetrieverPrepComplete[t]&&(!n.loadMru||this._userMruReady[t])?this._entityRetrieverPrepComplete[t].promise:(this._entityRetrieverPrepComplete[t]=it.defer(),n.loadMru?this._mruEntitiesPromise[t]?this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)})):(this._mruEntitiesPromise[t]=this._getUserMruEntities(null,null,n.filterByScope),this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)}))):this._entityRetrieverPrepComplete[t].resolve(!0),this._entityRetrieverPrepComplete[t].promise)},t.filterEntities=function(n,t){return!n||n.length==0?[]:n.filter(function(n){return n.displayName&&et.getNonDiacriticDisplayName(n).toLowerCase().indexOf(et.replaceDiacriticCharacters(t))==0?!0:ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim().toLowerCase().indexOf(t)==0||ft.isOnPremiseEnvironment()&&n.scopeName&&n.samAccountName&&(n.scopeName+"\\"+n.samAccountName).trim().toLowerCase().indexOf(t)==0||n.signInAddress&&n.signInAddress.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&n.mail&&n.mail.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&!n.mail&&n.mailNickname&&n.mailNickname.trim().toLowerCase().indexOf(t)==0?!0:!1})},t.mergeEntities=function(n,i,r){var u,f,e;if(r===void 0&&(r=bt.PreferFirst),u={},f=[],!n&&!i)return[];if(!i||i.length==0)return n?n:[];if(!n||n.length==0)return i?i:[];n.forEach(function(n){var i=t._getMergingKeyFromEntity(n);u[i]=u.hasOwnProperty(i)?t._mergeSimilarEntities(u[i],n,r):n});i.forEach(function(n){var i=t._getMergingKeyFromEntity(n),f;i in u?(f=t._mergeSimilarEntities(u[i],n,r),u[i]=f):u[i]=n});for(e in u)u[e].isMru?f.unshift(u[e]):f.push(u[e]);return f},t.prototype.getImagesForEntities=function(n,t){var r=it.defer(),h=r.promise,e={},c=w.getService(a.IdentityService),u,f,o;try{u=c.getIdentityImages(n,{httpClient:t&&t.identityServiceOptions&&t.identityServiceOptions.httpClient?t.identityServiceOptions.httpClient:null});f=[];for(o in u)f.push(u[o]);it.allSettled(f).then(function(n){n.forEach(function(n){if(n.state==l.PromiseResultStatus.Fulfilled){if(!n.value||Object.keys(n.value).length!=1||!Object.keys(n.value)[0]||!Object.keys(n.value)[0].trim())return;var i=Object.keys(n.value)[0],t=n.value[i];if(!t||!t.trim())return;e[i]=t}else n.state==l.PromiseResultStatus.Rejected&&n.reason&&s.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n.reason))});r.resolve(e)},function(n){n&&s.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n));r.reject(n)})}catch(i){if(i!==Object(i)||!("source"in i)||i.source!="IdentityService")throw i;}return h},t._getMergingKeyFromEntity=function(n){var t,i;return ft.isOnPremiseEnvironment()&&n&&n.entityType&&n.localId&&n.localDirectory.toLowerCase().trim()==a.ServiceHelpers.VisualStudioDirectory&&(n.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity)?n.localId:n.entityType.toLowerCase().trim()==a.ServiceHelpers.UserEntity?(t=et.getSignInAddress(n),i=t?t:n.entityId,i):n.entityType.toLowerCase().trim()==a.ServiceHelpers.GroupEntity?n.displayName&&n.displayName.trim()?n.mailNickname&&n.mailNickname.trim()?n.displayName+n.mailNickname:n.mail&&n.mail.trim()?n.displayName+n.mail:n.displayName:n.entityId:n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?n.entityId:void 0},t._mergeSimilarEntities=function(n,i,r){var f,u,e;if(r===void 0&&(r=bt.PreferFirst),n==null)return i;if(i==null)return n;f={entityId:t._computeValue("entityId",n,i,r),entityType:t._computeValue("entityType",n,i,r),originDirectory:t._computeValue("originDirectory",n,i,r),originId:t._computeValue("originId",n,i,r),localDirectory:t._computeValue("localDirectory",n,i,r),localId:t._computeValue("localId",n,i,r)};u=["displayName","scopeName","department","jobTitle","mail","mailNickname","physicalDeliveryOfficeName","signInAddress","surname","guest","description","image","isMru","samAccountName","active","telephoneNumber"];for(e in u)f[u[e]]=t._computeValue(u[e],n,i,r);return f},t._computeValue=function(n,t,i,r){r===void 0&&(r=bt.PreferFirst);return r==bt.PreferFirst?t[n]?typeof t[n]=="string"||t[n]instanceof String?t[n].trim()?t[n]:i[n]:t[n]:i[n]:i[n]?typeof i[n]=="string"||i[n]instanceof String?i[n].trim()?i[n]:t[n]:i[n]:t[n]},t._filterMruEntitiesByIdentityType=function(n,t){if(!n.identityServiceOptions||!n.identityServiceOptions.identityType)return t;var i=a.ServiceHelpers.getIdentityTypeList(n.identityServiceOptions.identityType);return t.filter(function(n){return i.indexOf(n.entityType.trim().toLowerCase())>=0})},t.prototype._mruSourceGetEntitiesHandler=function(n,i){var r=t._filterMruEntitiesByIdentityType(i,this._mruEntities[c.FilterByScope.GetHashCode(i.filterByScope)]);return i.prefix&&(r=t.filterEntities(r,i.prefix)),r},t.prototype._directorySourceGetEntities=function(n,i){var e=this,c,o,u,l;if(!i||!i.prefix)return{};var r={},h={},v=w.getService(a.IdentityService);try{c={httpClient:i.identityServiceOptions.httpClient,minResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:n?n.length>a.IdentityService.MIN_RESULTS?0:a.IdentityService.MIN_RESULTS-n.length:a.IdentityService.MIN_RESULTS,maxResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:a.IdentityService.MAX_RESULTS,extensionData:i.identityServiceOptions.extensionData,getFilterByScope:function(){return i.filterByScope}};o=v.getIdentities(i.prefix,i.identityServiceOptions.operationScope,i.identityServiceOptions.identityType,c,i.queryTypeHint,i.identityExtensionOptions);for(u in o)l=ut(this,function(u){o[u].then(ut(e,function(f){i.prefix&&i.prefix.length>=1&&(f.identities=f&&f.identities?t.mergeEntities(f.identities,n):n);f.identities.length>0?e.getImagesForEntities(f.identities,i).then(function(n){f.identities.forEach(function(t){n.hasOwnProperty(t.entityId)&&(t.image=n[t.entityId])});r[u].resolve(f)}):r[u].resolve(f)}),ut(e,function(n){n&&s.logWarning("_directorySourceGetEntities/getIdentitiesErrorCallback:"+JSON.stringify(n));r[u].reject(n?n:null)}))}),l(u),r[u]=it.defer(),h[u]=r[u].promise}catch(f){if(f!==Object(f)||!("source"in f)||f.source!="IdentityService")throw f;}return h},t.prototype._getRegisteredSyncSourcesSorted=function(){var n=this,t=Object.keys(this._syncSources);return t.sort(function(t,i){return n._syncSources[t].sortRank>n._syncSources[i].sortRank?1:-1}),t},t.prototype._getUserMruEntities=function(n,t,i){var f=this,e=it.defer(),v=e.promise,r=c.FilterByScope.GetHashCode(i),o,s,h;try{return(this._userMruReady[r]=!1,o=ut(this,function(n){f._userMruReady[r]=!0;f._mruEntities[r]=n.filter(function(n){return n.active!==!1});f._mruEntities[r].forEach(function(n){n.image=a.ServiceHelpers.getDefaultIdentityImage(n)});e.resolve(!0)}),s=ut(this,function(){f._mruEntities[r]=[];e.resolve(!1)}),c.FilterByScope.isFilterByScopeEmpty(i))?it(o([])):(h=w.getService(a.MruService),h.getMruIdentities({IMS:!0},a.MruService.DEFAULT_IDENTITY_ID,a.MruService.DEFAULT_FEATURE_ID,{httpClient:n?n.httpClient:null,filterByScope:i},{consumerId:t?t.consumerId:l.ConsumerId.UnknownConsumer}).then(o,s))}catch(u){if(u!==Object(u)||!("source"in u)||u.source!="MruService")throw u;}return v},t}(w.VssService);t.EntityOperationsFacade=yt;ti=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[];return n.jobTitle&&t.push(new vt(p.IdentityPicker_IdCardJobTitle,n.jobTitle)),n.mailNickname&&!d.isGuid(n.mailNickname)&&t.push(new vt(p.IdentityPicker_IdCardAlias,n.mailNickname)),n.physicalDeliveryOfficeName&&t.push(new vt(p.IdentityPicker_IdCardOffice,n.physicalDeliveryOfficeName)),n.department&&t.push(new vt(p.IdentityPicker_IdCardDepartment,n.department)),t},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var i=[],n,r,t,u,f;for(r in this._attributes)t=parseInt(r),this._isEven(t)?(n&&i.push(n),n=$("<div>").addClass("identity-picker-idcard-row"),u=$("<div>").addClass("identity-picker-idcard-left-attribute").appendTo(n),this._appendAttributeBlock(t,u)):(f=$("<div>").addClass("identity-picker-idcard-right-attribute").appendTo(n),this._appendAttributeBlock(t,f));return n&&i.push(n),i},n.prototype._isEven=function(n){return n%2==0},n._idCardEntityAttributeCounter=0,n}();ii=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[],i=new vt(p.IdentityPicker_IdCardDescription,n.description?n.description:"",!0);return t.push(i),n.scopeName&&t.push(new vt(p.IdentityPicker_IdCardGroupSource,this._getScopeNameByDirectoryType(n))),n.mail&&t.push(new vt(p.IdentityPicker_IdCardMail,n.mail)),n.mailNickname&&!d.isGuid(n.mailNickname)&&t.push(new vt(p.IdentityPicker_IdCardAlias,n.mailNickname)),t},n.prototype._getScopeNameByDirectoryType=function(n){var t=n.originDirectory.trim().toLowerCase()==a.ServiceHelpers.VisualStudioDirectory?p.IdentityPicker_IdCardImsGroupSource:p.IdentityPicker_IdCardAadGroupSource;return d.format(t,n.scopeName)},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var t=$("<div>").addClass("identity-picker-idcard-info"),r,n,u,f,e,o,i;if(this._isValidIndex(1))for(r=$("<div>").addClass("identity-picker-idcard-column").appendTo(t),n=1;this._isValidIndex(n);)u=$("<div>").addClass("identity-picker-idcard-row").appendTo(r),f=$("<div>").addClass("identity-picker-idcard-left-attribute").appendTo(u),this._appendAttributeBlock(n,f),n++;return this._attributes[0].getDisplayContent()&&(e=$("<div>").addClass("identity-picker-idcard-column").appendTo(t),o=$("<div>").addClass("identity-picker-idcard-left-attribute").appendTo(e),this._appendAttributeBlock(0,o)),i=[],i.push(t),i},n.prototype._isValidIndex=function(n){return typeof this._attributes[n]!="undefined"},n._idCardEntityAttributeCounter=0,n}()});

define("DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerComponent",["require","exports","VSS/Controls","VSS/Identities/Picker/Controls","VSS/Flux/PlatformComponent"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onIdentityPickerSelectionChange=function(){if(t.props.onSelectedIdentitiesChanged){var n=t._getResolvedIdentities();t.props.onSelectedIdentitiesChanged(n)}},t._onIdentityAdd=function(){t._onIdentityPickerSelectionChange()},t.c_identityPickerConsumerId="4E250E55-B57F-4B12-B248-EB2F9CF59429",t}return __extends(t,n),t.prototype.createControl=function(n){var u=this,t;return this._control||(t=this._getDefaultOptions(),!this.props.options||(t=__assign({},t,this.props.options)),this._control=i.create(r.IdentityPickerSearchControl,$(n),t),!this._control||this._control._bind(r.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,function(){u._onIdentityPickerSelectionChange()})),this._setReadOnlyMode(),this._control},t.prototype._setReadOnlyMode=function(){this._control&&(this.props.disabled?this._control.enableReadOnlyMode():this._control.disableReadOnlyMode())},t.prototype._getDefaultOptions=function(){return{identityType:{User:!0,Group:!0},callbacks:{onItemSelect:this._onIdentityAdd},operationScope:{IMS:!0},consumerId:this.props.consumerId||this.c_identityPickerConsumerId,required:!!this.props.required}},t.prototype._getResolvedIdentities=function(){var n=[],t=this._control.getIdentitySearchResult();return t&&(n=t.resolvedEntities),n},t}(u.Component);t.IdentityPickerComponent=f});

define("DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerInputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/Diag","VSS/Utils/String","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerInputComponent"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.c_identityPickerConsumerId="4E250E55-B57F-4B12-B248-EB2F9CF59429",t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_IDENTITIES},t.prototype.getControl=function(){return e.logVerbose("[IdentityPickerInputComponent.getControl]: Method called."),i.createElement(u.IdentityPickerComponent,{shouldUpdate:!0,cssClass:s.css("dtc-identity-picker-input-component ",this.props.isInvalid?"invalid":"valid"),onSelectedIdentitiesChanged:this.props.onSelectedIdentitiesChanged,disabled:this.props.disabled,required:this.props.required,options:this._getIdentityPickerOptions(),consumerId:this.props.consumerId||this.c_identityPickerConsumerId})},t.prototype._getIdentityPickerOptions=function(){return{multiIdentitySearch:this.props.multiIdentitySearch,items:this.state.value,operationScope:this.props.operationScope||{IMS:!0},placeholderText:this.props.placeholderText||o.empty,showMruTriangle:this.props.showMruTriangle||!1,showMru:this.props.showMru||!1,consumerId:this.props.consumerId||this.c_identityPickerConsumerId,ariaDescribedby:this.props.ariaDescribedBy}},t}(f.InputBase);t.IdentityPickerInputComponent=h});

define("DistributedTaskControls/Sources/SecureFileSource",["require","exports","DistributedTaskControls/Common/Sources/SourceBase","DistributedTaskControls/Common/Sources/SourceManager","TFS/DistributedTask/TaskAgentRestClient","VSS/Context","VSS/Service"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._dtAgentClient=e.getCollectionClient(u.TaskAgentHttpClient),t}return __extends(t,n),t.getKey=function(){return"SecureFileSource"},t.prototype.getSecureFiles=function(n){var t=f.getDefaultWebContext().project.id;return this._dtAgentClient.getSecureFiles(t,null,!1,n)},t.prototype.uploadSecureFile=function(n){var t=f.getDefaultWebContext().project.id;return this._dtAgentClient.uploadSecureFile(n.file,t,n.name)},t.instance=function(){return r.SourceManager.getSource(t)},t}(i.SourceBase);t.SecureFileSource=o});

define("DistributedTaskControls/Actions/SecureFileActionsCreator",["require","exports","DistributedTaskControls/Actions/SecureFileActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/SecureFileSource","VSS/VSS","VSS/Diag"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.SecureFileActionsCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(i.SecureFileActions)},t.prototype.getSecureFiles=function(){var n=this;e.SecureFileSource.instance().getSecureFiles().then(function(t){n._actions.updateSecureFiles.invoke({secureFiles:t})},function(t){s.logError(t);n._actions.updateSecureFiles.invoke({errorMessage:o.getErrorMessage(t)})})},t.prototype.uploadSecureFile=function(n,t){var i=this;e.SecureFileSource.instance().uploadSecureFile(n).then(function(n){i._actions.secureFileUploaded.invoke({secureFile:n});t&&t(n.id)},function(n){s.logError(n);i._actions.secureFileUploaded.invoke({errorMessage:o.getErrorMessage(n)})})},t}(r.ActionCreatorBase);t.SecureFileActionsCreator=h});

define("DistributedTaskControls/Components/ComboBox",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Common/JQueryWrapper","OfficeFabric/Utilities","VSS/Controls/Combos","VSS/Flux/PlatformComponent","VSS/Controls","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ComboBox"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v,y;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Editable=1]="Editable";n[n.Searchable=2]="Searchable"}(a=t.ComboBoxType||(t.ComboBoxType={}));v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement(y,__assign({invalidCss:"invalid-css",enableFilter:!0,autoComplete:!1,cssClass:"combo-box-container",inputCss:"combo-box-input",dropOptions:{itemCss:"combo-box-item"},enabled:!0,required:!1,textfieldOnEmptySource:!1},this.props))},t}(r.Component);t.ComboBox=v;y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._expandComboBox=function(){i._control.isDropVisible()||(i._control.setInvalid(!1),i.setState({isValid:!0,isFocussed:!0}),i._control.getBehavior().showDropPopup())},i._checkValidity=function(){i._isValid()?(i._control.setInvalid(!1),i.setState({isValid:!0,isFocussed:i.state.isFocussed})):(i._control.setInvalid(!0),i.setState({isValid:!1,isFocussed:i.state.isFocussed}))},i._isValid=function(){return i._isComboBoxSearchable()&&i._control.getInputText().length>0?!!i.props.textfieldOnEmptySource&&i._control.getBehavior().getDataSource().getCount()===0?!0:i._control.getBehavior().getDataSource().getItemIndex(i._control.getInputText())!==-1?!0:!1:!!i.props.required&&i._control.getInputText().length===0?!1:!0},i._isComboBoxSearchable=function(){return!!i.props.comboBoxType&&i.props.comboBoxType===a.Searchable?!0:!1},i._handleInputChange=function(){if(i.props.onChange)i.props.onChange(i.getValue())},i.state={isValid:!0,isFocussed:!1},i._checkValidity=i._checkValidity.bind(i),i}return __extends(t,n),t.prototype.createControl=function(n){if(!this._control){var t=f.JQueryWrapper.extend({},this.props);t.change=this._handleInputChange;this._control=h.create(o.Combo,n,t)}return this._control},t.prototype.render=function(){var n=this,t={ref:function(t){n.onRef(t)}};return i.createElement("div",{className:e.css(this.props.comboBoxStyle,"combo-box-with-error-container")},i.createElement("div",__assign({className:"combo-box-container-parent"+(this.state.isFocussed?" combo-box-focus":c.empty)+(this.state.isValid?c.empty:" invalid-css")+(this.props.enabled?c.empty:" is-disabled")},t),this.props.children),this.props.hideErrorMessage?null:i.createElement("div",{className:"combo-error-message"+(this.state.isValid?" visibility-hidden":c.empty)},this.props.errorMessage?this.props.errorMessage:u.ComboBoxInvalidErrorMessage))},t.prototype.componentWillReceiveProps=function(n){this._control&&(this._control.setSource(n.source),this._control.setText(n.value),this._control.setEnabled(n.enabled),this._checkValidity())},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.componentDidMount=function(){var t=this;n.prototype.componentDidMount.call(this);!this.props.value||this._control.setInputText(this.props.value);this._checkValidity();this._control.getInput().click(function(){!t.props.enabled||(t._control.getBehavior().getDataSource().getItems().length!==0?t._expandComboBox():t._control.hideDropPopup())});this._control.getInput().blur(function(){t._checkValidity();t.setState({isValid:t.state.isValid,isFocussed:!1})});this._control.getInput().keyup(function(n){if(!!t.props.enabled)switch(n.keyCode){case l.KeyCode.ESCAPE:t._control.hideDropPopup();break;case l.KeyCode.ENTER:break;default:t._control.getBehavior().getDataSource().getItems().length!==0?t._expandComboBox():t._control.hideDropPopup()}});this._control.getDropButton().keyup(function(n){if(!!t.props.enabled)switch(n.keyCode){case l.KeyCode.ENTER:t._control.isDropVisible()?t._control.hideDropPopup():t._expandComboBox();break;case l.KeyCode.ESCAPE:t._control.hideDropPopup()}})},t.prototype.componentWillUnmount=function(){this._control.getInput().unbind("click");this._control.getInput().unbind("blur");this._control.getInput().unbind("keyup");this._control.getDropButton().unbind("keyup");n.prototype.componentWillUnmount.call(this)},t.prototype.getValue=function(){return this._control.getValue()},t}(s.Component)});

define("DistributedTaskControls/SharedControls/InputControls/Components/FileUploadDialog",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/Utilities","VSSUI/FileInput","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/FileUploadDialog"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.maxFileSize||10485760,t=this.props.resultContentType||2;return i.createElement(e.Dialog,{hidden:!1,title:this.props.title||u.FileUploadDialogTitle,modalProps:{containerClassName:o.css("file-upload-dialog",this.props.cssClass)},dialogContentProps:{type:e.DialogType.close},onDismiss:this._onDialogClose,closeButtonAriaLabel:u.CloseButtonText,firstFocusableSelector:"vss-FileInput-browseContainer"},i.createElement("div",null,i.createElement(s.FileInput,{maximumNumberOfFiles:1,maximumSingleFileSize:n,updateHandler:this._onFileInputUpdate,resultContentType:t}),i.createElement(e.DialogFooter,null,i.createElement(f.PrimaryButton,{className:o.css("fabric-style-overrides"),ariaLabel:u.OK,onClick:this._onOkClicked,disabled:!this.state.file,"aria-disabled":!this.state.file},u.OK),i.createElement(f.DefaultButton,{ariaLabel:u.CancelButtonText,onClick:this._onDialogClose},u.CancelButtonText))))},t.prototype._closeDialog=function(){!this.props.onDialogClose||this.props.onDialogClose()},t.prototype._onDialogClose=function(){this._closeDialog()},t.prototype._onOkClicked=function(){if(!!this.props.onOkClick)this.props.onOkClick(this.state.file);this._closeDialog()},t.prototype._onFileInputUpdate=function(n){var t=null;n&&n.files&&n.files.length&&(t=n.files[0].result);this.setState({file:t})},__decorate([o.autobind],t.prototype,"_onDialogClose",null),__decorate([o.autobind],t.prototype,"_onOkClicked",null),__decorate([o.autobind],t.prototype,"_onFileInputUpdate",null),t}(r.Component);t.FileUploadDialog=h});

define("DistributedTaskControls/SharedControls/InputControls/Components/SecureFileInputComponent",["require","exports","react","react-dom","DistributedTaskControls/Actions/SecureFileActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/ComboBox","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/FileUploadDialog","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","DistributedTaskControls/Stores/SecureFilesStore","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/SecureFileInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var g,d;Object.defineProperty(t,"__esModule",{value:!0});g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return c.InputControlType.INPUT_TYPE_SECURE_FILE},t.prototype.componentWillMount=function(){this._store=o.StoreManager.GetStore(y.SecureFilesStore);this.setState(this._getState())},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._store.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);this._store.removeChangedListener(this._onStoreChanged)},t.prototype.getControl=function(){return b.logVerbose("[SecureFileInputComponent.getControl]: Method called."),i.createElement(d,{value:this.state.value,disabled:this.props.disabled,onValueChanged:this.onValueChanged,onUpdate:this._onUpdate,onOkClick:this._onOkClick,secureFiles:this.state.secureFiles,getErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult})},t.prototype._onStoreChanged=function(){this.setState(this._getState())},t.prototype._onOkClick=function(n){var t=f.ActionCreatorManager.GetActionCreator(u.SecureFileActionsCreator);t.uploadSecureFile(n,this.props.onValueChanged)},t.prototype._onUpdate=function(){var n=f.ActionCreatorManager.GetActionCreator(u.SecureFileActionsCreator);n.getSecureFiles()},t.prototype._getErrorMessage=function(n){var t=this._store.getErrorMessage();return!t?this.getErrorMessage(n):t},t.prototype._getState=function(){return{secureFiles:this._store.getSecureFiles(),value:this.state&&this.state.value?this.state.value:this.props.value}},__decorate([w.autobind],t.prototype,"_onStoreChanged",null),__decorate([w.autobind],t.prototype,"_onOkClick",null),__decorate([w.autobind],t.prototype,"_onUpdate",null),__decorate([w.autobind],t.prototype,"_getErrorMessage",null),t}(a.InputBase);t.SecureFileInputComponent=g;d=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onChanged=function(n){i._currentText=n;var t=i.state.filesByName[n],r=!t?k.empty:t.id;if(!!i.props.onValueChanged)i.props.onValueChanged(r)},i.state=i._getState(t),i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){this.setState(this._getState(n))},t.prototype.componentWillMount=function(){this._refreshIfRequired()},t.prototype.render=function(){var n=this._getSelectedOption();return i.createElement("div",{className:"secure-file-input-container",ref:this._resolveContainer},i.createElement("div",{className:"secure-file-dropdown"},i.createElement(v.Component,{value:this.state.value,onGetErrorMessage:this._getErrorMessage,onNotifyValidationResult:this.props.onNotifyValidationResult},i.createElement("div",{className:"fabric-style-overrides task-input-dropdown secure-file-combobox"},i.createElement(s.ComboBox,{enabled:!this.props.disabled,value:n,comboBoxType:s.ComboBoxType.Editable,source:this.state.filenames,onChange:this._onChanged})))),!this.props.disabled&&i.createElement("div",{className:"input-control-buttons"},i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:this._onRefresh,iconProps:{iconName:"Refresh"},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:h.Refresh,"aria-disabled":this.props.disabled}),i.createElement(p.IconButton,{disabled:this.props.disabled,onClick:this._onUploadClick,iconProps:{iconName:"Settings"},className:w.css("input-control-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:h.Manage,"aria-disabled":this.props.disabled})))},t.prototype._getState=function(n){var t={},i={},r=n.secureFiles.map(function(n){return t[n.name]=n,i[n.id]=n,n.name}).sort(k.localeComparer);return{value:n.value||k.empty,filenames:r,filesByName:t,filesById:i}},t.prototype._refreshIfRequired=function(){this.state&&this.state.filenames.length===0&&this._update()},t.prototype._getSelectedOption=function(){var n=this.state.filesById[this.state.value];return n?n.name:k.empty},t.prototype._update=function(){this.props.onUpdate&&this.props.onUpdate()},t.prototype._resolveContainer=function(n){this._elementInstance=n},t.prototype._getErrorMessage=function(){return this.state.value===k.empty&&this._currentText?h.RequiredInputInValidMessage:!this.props.getErrorMessage?void 0:this.props.getErrorMessage(this.state.value)},t.prototype._onRefresh=function(){this._update()},t.prototype._onUploadClick=function(){this._uploadDialogContainer||(this._uploadDialogContainer=document.createElement("div"),this._elementInstance.appendChild(this._uploadDialogContainer));r.render(i.createElement(l.FileUploadDialog,{onDialogClose:this._onDialogClose,onOkClick:this._onOkClick}),this._uploadDialogContainer)},t.prototype._onDialogClose=function(){r.unmountComponentAtNode(this._uploadDialogContainer)},t.prototype._onOkClick=function(n){if(this.props.onOkClick&&n)this.props.onOkClick(n)},__decorate([w.autobind],t.prototype,"_resolveContainer",null),__decorate([w.autobind],t.prototype,"_getErrorMessage",null),__decorate([w.autobind],t.prototype,"_onRefresh",null),__decorate([w.autobind],t.prototype,"_onUploadClick",null),__decorate([w.autobind],t.prototype,"_onDialogClose",null),__decorate([w.autobind],t.prototype,"_onOkClick",null),t}(e.Component);t.SecureFileInputComponentBase=d});

define("DistributedTaskControls/Actions/DeploymentGroupsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updatePermissibleDeploymentGroups=new i.Action;this._updateNonPermissibleDeploymentGroups=new i.Action;this._manageDeploymentGroups=new i.Action;this._refreshDeploymentGroups=new i.Action;this._addDeploymentGroups=new i.Action},t.getKey=function(){return u.ActionsKeys.DeploymentGroupsActions},Object.defineProperty(t.prototype,"updatePermissibleDeploymentGroups",{get:function(){return this._updatePermissibleDeploymentGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateNonPermissibleDeploymentGroups",{get:function(){return this._updateNonPermissibleDeploymentGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manageDeploymentGroups",{get:function(){return this._manageDeploymentGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshDeploymentGroups",{get:function(){return this._refreshDeploymentGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addDeploymentGroups",{get:function(){return this._addDeploymentGroups},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.DeploymentGroupsActions=f});

define("DistributedTaskControls/Actions/MachinesActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateMachines=new i.Action;this._changeMachineGroup=new i.Action;this._updateTags=new i.Action;this._clearCache=new i.Action},t.getKey=function(){return u.ActionsKeys.MachinesActions},Object.defineProperty(t.prototype,"updateMachines",{get:function(){return this._updateMachines},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeMachineGroup",{get:function(){return this._changeMachineGroup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateTags",{get:function(){return this._updateTags},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clearCache",{get:function(){return this._clearCache},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.MachinesActions=f});

define("DistributedTaskControls/Actions/DeploymentGroupsActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/AgentsSource","DistributedTaskControls/Actions/DeploymentGroupsActions","DistributedTaskControls/Phase/Actions/DeployPhaseActions","TFS/DistributedTask/Contracts","DistributedTaskControls/Actions/MachinesActions","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.DeploymentGroupsActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(e.DeploymentGroupsActions);this._deployPhaseActionsHub=r.ActionsHubManager.GetActionsHub(o.DeployPhaseActionsHub,n);this._machineActions=r.ActionsHubManager.GetActionsHub(h.MachinesActions,n)},t.prototype.refreshDeploymentGroups=function(){this._getAllDeploymentGroups(null,!0)},t.prototype.manageDeploymentGroups=function(n){this._actions.manageDeploymentGroups.invoke(n)},t.prototype.addDeploymentGroups=function(n){var t=this;f.AgentsSource.instance().getDeploymentGroupsByNameOrRegex(!0,n).then(function(i){var u=i.deploymentGroups,r;t._actions.addDeploymentGroups.invoke(u);r=t._getDeploymentGroupByName(n,u);t._deployPhaseActionsHub.updateDeploymentMachineGroup.invoke(r?r.id:null);t._updateMachinesActions(r)},function(){t._sendErrorActions()})},t.prototype._updateMachinesActions=function(n){var t=this;n?f.AgentsSource.instance().getTargets(n.id).then(function(i){t._machineActions.updateMachines.invoke({deploymentGroupId:n.id,deploymentMachines:i})},function(){t._sendErrorActions()}):this._machineActions.changeMachineGroup.invoke(null)},t.prototype._sendErrorActions=function(){this._deployPhaseActionsHub.updateDeploymentMachineGroup.invoke(null);this._machineActions.changeMachineGroup.invoke(null)},t.prototype._getDeploymentGroupByName=function(n,t){return c.first(t,function(t){return l.ignoreCaseComparer(n,t.name)===0})},t.prototype._getAllDeploymentGroups=function(n,t){var i=this;f.AgentsSource.instance().getPermissibleDeploymentGroups(!0,null,s.DeploymentGroupExpands.None,n).then(function(n){i._actions.refreshDeploymentGroups.invoke({permissibleDeploymentGroups:n.deploymentGroups,isFirstBatch:t});n.continuationToken&&i._getAllDeploymentGroups(n.continuationToken,!1)},function(){i._sendErrorActions()})},t}(i.ActionCreatorBase);t.DeploymentGroupsActionsCreator=a});

define("DistributedTaskControls/Actions/MachinesActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Sources/AgentsSource","DistributedTaskControls/Actions/MachinesActions"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.MachinesActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(e.MachinesActions,n)},t.prototype.updateMachines=function(n){var t=this;f.AgentsSource.instance().getTargets(n,null,!0).then(function(i){t._actions.updateMachines.invoke({deploymentGroupId:n,deploymentMachines:i})},function(){t._actions.changeMachineGroup.invoke(null)})},t.prototype.changeMachines=function(n){this._actions.changeMachineGroup.invoke(n)},t.prototype.updateTags=function(n){this._actions.updateTags.invoke(n)},t.prototype.clearCache=function(){this._actions.clearCache.invoke(null)},t}(i.ActionCreatorBase);t.MachinesActionsCreator=o});

define("DistributedTaskControls/Phase/Actions/PhaseInputsActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.ActionsKeys.PhaseInputsActions},t.prototype.initialize=function(){this._updateLinkProcessParameterDialog=new i.Action;this._updateInputError=new i.Action;this._updateInputValue=new i.Action;this._updateInputOptions=new i.Action;this._linkToProcessParameterAction=new i.Action;this._unlinkFromProcessParameterAction=new i.Action},Object.defineProperty(t.prototype,"updateLinkProcessParameterDialog",{get:function(){return this._updateLinkProcessParameterDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateInputError",{get:function(){return this._updateInputError},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateInputValue",{get:function(){return this._updateInputValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateInputOptions",{get:function(){return this._updateInputOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkToProcessParameter",{get:function(){return this._linkToProcessParameterAction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unlinkFromProcessParameter",{get:function(){return this._unlinkFromProcessParameterAction},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.PhaseInputsActionsHub=u});

define("DistributedTaskControls/Phase/PhaseInputDefinitions",["require","exports","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.DeploymentInput="deploymentInput";t.TimeoutInput="timeoutInMinutes";t.DeploymentGroupInput="queueId";t.PhaseInputDefinitions={timeoutInMinutes:{defaultValue:r.empty,groupName:"",helpMarkDown:i.TimeoutDescription,label:i.TimeoutInMinutes,name:t.TimeoutInput,options:{},properties:null,required:!0,type:"string",visibleRule:"true"},queueId:{defaultValue:r.empty,groupName:"",helpMarkDown:i.DeploymentGroupHelpMarkdown,label:i.DeploymentGroupLabel,name:t.DeploymentGroupInput,options:{},properties:null,required:!0,type:"deploymentgroup",visibleRule:"true"}}});

define("DistributedTaskControls/Phase/Stores/PhaseInputsStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/InputValidation","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/Actions/PhaseInputsActions","DistributedTaskControls/Phase/PhaseInputDefinitions","DistributedTaskControls/Stores/ProcessParameterStore","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});var w=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._setDialogState=function(n){i._showLinkProcessParameterDialog=n.isVisible;i.emitChanged()},i._handleUpdateInputError=function(n){i._inputValidation.tryHandleUpdateInputError(n)&&i.emitChanged()},i._handleUpdateInputValue=function(n){i._currentState.inputNameToState[n.name]&&(i._currentState.inputNameToState[n.name].inputValue=n.value,i._inputValidation.updateInputValue(f.InputValidation.name,n.value),i._inputValidation.tryHandlePendingInputErrorDispatch(f.InputValidation.name,n.value));i.emitChanged()},i._handleUpdateInputOptions=function(){},i._handleProcessParametersChanged=function(){Object.keys(i._currentState.overrideInputs).forEach(function(n){i._currentState.inputNameToState[n]&&(i._currentState.inputNameToState[n].inputValue=i._processParameterStore.getTaskInputState(n).inputValue)})},i._handleUpdatePhase=function(n){i.initializeStates(n)},i._handleLinkToProcessParameter=function(n){i._currentState.inputNameToState&&i._currentState.inputNameToState[n.inputName]&&(i._currentState.inputNameToState[n.inputName].disabled=!0,i._currentState.overrideInputs[n.inputName]=p.format(u.ProcessParameterConstants.NewProcessParameterBoundInputValueFormat,n.processParametername),i._currentState.inputNameToState[n.inputName].inputValue=i._processParameterStore.getTaskInputState(n.inputName).inputValue,i.emitChanged())},i._handleUnlinkFromProcessParameter=function(n){i._currentState.inputNameToState&&i._currentState.inputNameToState[n]&&(i._currentState.inputNameToState[n].disabled=!1,delete i._currentState.overrideInputs[n],i.emitChanged())},i._inputValidation=new f.InputValidation,i._activePhaseInputDefinitions=[],i._processInstanceId=t.processInstanceId,i._phaseType=t.phaseType,i.initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return r.StoreKeys.PhaseInputsStore},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionsHub=i.ActionsHubManager.GetActionsHub(a.PhaseInputsActionsHub,t);this._deployPhaseActionsHub=i.ActionsHubManager.GetActionsHub(l.DeployPhaseActionsHub,t);this._actionsHub.updateLinkProcessParameterDialog.addListener(this._setDialogState);this._actionsHub.updateInputValue.addListener(this._handleUpdateInputValue);this._actionsHub.updateInputError.addListener(this._handleUpdateInputError);this._actionsHub.updateInputOptions.addListener(this._handleUpdateInputOptions);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase);this._actionsHub.linkToProcessParameter.addListener(this._handleLinkToProcessParameter);this._actionsHub.unlinkFromProcessParameter.addListener(this._handleUnlinkFromProcessParameter);this._processParameterStore=s.StoreManager.GetStore(y.ProcessParameterStore,this.getTaskContext().processInstanceId);this._processParameterStore.addChangedListener(this._handleProcessParametersChanged)},t.prototype.disposeInternal=function(){this._actionsHub.updateLinkProcessParameterDialog.removeListener(this._setDialogState);this._actionsHub.updateInputValue.removeListener(this._handleUpdateInputValue);this._actionsHub.updateInputError.removeListener(this._handleUpdateInputError);this._actionsHub.updateInputOptions.removeListener(this._handleUpdateInputOptions);this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase);this._actionsHub.linkToProcessParameter.removeListener(this._handleLinkToProcessParameter);this._actionsHub.unlinkFromProcessParameter.removeListener(this._handleUnlinkFromProcessParameter);this._processParameterStore.removeChangedListener(this._handleProcessParametersChanged)},t.prototype.getState=function(){return this._currentState},t.prototype.isDirty=function(){var n=this,t=!1;return Object.keys(this._currentState.inputNameToState).forEach(function(i){n._currentState.inputNameToState[i].inputValue!==n._originalState.inputNameToState[i].inputValue&&(t=!0)}),Object.keys(this._currentState.overrideInputs).forEach(function(i){n._currentState.overrideInputs[i]!==n._originalState.overrideInputs[i]&&(t=!0)}),t},t.prototype.isValid=function(){return!0},t.prototype.getTaskContext=function(){return{onChangeDelegate:function(){},onRemoveDelegate:function(){},processInstanceId:this._processInstanceId,taskListStoreInstanceId:this.getInstanceId(),processParametersNotSupported:!0}},t.prototype.getTaskInputState=function(n){return this._currentState.inputNameToState[n]},t.prototype.getInputDefinitions=function(){return this._activePhaseInputDefinitions},t.prototype.getInputDefinition=function(n){var t=v.PhaseInputDefinitions[n],i;return t&&(this._currentState.inputNameToState[n]||(i=this.initializeInputState(n),this._activePhaseInputDefinitions.push(t),this._currentState.inputNameToState[n]=i,this._originalState.inputNameToState[n]=e.JQueryWrapper.extendDeep({},i))),t},t.prototype.getInputState=function(n){var t=u.InputState.Valid;return this._inputValidation.isValid(n.name)||(t=u.InputState.Invalid),t},t.prototype.isInputValid=function(){return!0},t.prototype.getTaskDefinitionId=function(){return this.getInstanceId()},t.prototype.getActionForInputField=function(){return h.ActionForTaskInput.None},t.prototype.showLinkProcessParameterDialog=function(){return this._showLinkProcessParameterDialog},t.prototype.getInputNameToValueMap=function(){var t=this,n={};return Object.keys(this._currentState.inputNameToState).forEach(function(i){var r=t._currentState.inputNameToState[i].inputValue;n[i]=r}),n},t.prototype.updateVisitor=function(){},t.prototype.getInputNameToProcessParameterNameMap=function(){var t=this,n={};return this._currentState.overrideInputs&&Object.keys(this._currentState.overrideInputs).forEach(function(i){n[i]=c.DtcUtils.getProcParamNameFromProcessParameter(t._currentState.overrideInputs[i])}),n},t.prototype.initializeInputState=function(n){var t={disabled:!1,inputName:n,inputValue:null,isHidden:function(){return!1}},r,i;return t.inputValue=this._phase[v.DeploymentInput][n].toString(),this._currentState.overrideInputs&&this._currentState.overrideInputs[n]&&(r=this._processParameterStore.getInputToValueMap(),i=c.DtcUtils.resolveTaskInputValueByProcessParameters(this._currentState.overrideInputs[n],r),i.isResolved&&(t.inputValue=i.resolvedValue,t.disabled=!0)),t},t.prototype.initializeStates=function(n){this._phase=n;this._currentState||(this._currentState={inputNameToState:{},overrideInputs:{}});this._originalState=e.JQueryWrapper.extendDeep(this._originalState,this._currentState)},t}(o.DataStoreBase);t.PhaseInputsStore=w});

define("DistributedTaskControls/Phase/Stores/MachineGroupInputsStore",["require","exports","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Phase/Stores/PhaseInputsStore","DistributedTaskControls/Phase/PhaseInputDefinitions"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.isValid=function(){return!0},t.prototype.initializeStates=function(t){n.prototype.initializeStates.call(this,t);var r=t.deploymentInput.overrideInputs?t.deploymentInput.overrideInputs:{};this._currentState.overrideInputs=i.JQueryWrapper.extendDeep({},r);this._originalState.overrideInputs=i.JQueryWrapper.extendDeep({},r)},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);this._updateMachineGroupBasedPhase(t)},t.prototype.getOriginalDeploymentGroupId=function(){var n=this._originalState.inputNameToState[u.DeploymentGroupInput],t=null;return n&&n.inputValue&&(t=parseInt(n.inputValue)),t},t.prototype._updateMachineGroupBasedPhase=function(n){if(n){n.deploymentInput.overrideInputs=this._currentState.overrideInputs;var t=this.getTaskInputState(u.TimeoutInput);t&&(n.deploymentInput.timeoutInMinutes=parseInt(t.inputValue));t=this.getTaskInputState(u.DeploymentGroupInput);t&&(n.deploymentInput.queueId=parseInt(t.inputValue))}},t}(r.PhaseInputsStore);t.MachineGroupInputsStore=f});

define("DistributedTaskControls/Stores/DeploymentGroupsStore",["require","exports","DistributedTaskControls/Actions/DeploymentGroupsActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/UrlUtilities","VSS/Context","VSS/Utils/Array","VSS/Utils/String","DistributedTasksCommon/TFS.Tasks.Utils"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleAddDeploymentGroups=function(n){var i=n||[];i.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)});t._permissibleDeploymentGroups=s.union(t._permissibleDeploymentGroups,i,function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)});t.emitChanged()},t._handleUpdatePermissibleDeploymentGroups=function(n){t._areDeploymentGroupsInitialized=!0;t._permissibleDeploymentGroups=s.union(n||[],t._permissibleDeploymentGroups||[]);t._permissibleDeploymentGroups.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)})},t._handleUpdateNonPermissibleDeploymentGroups=function(n){t._nonPermissibleDeploymentGroups=s.union(n||[],t._nonPermissibleDeploymentGroups||[])},t._handleRefreshDeploymentGroups=function(n){t._areDeploymentGroupsInitialized=!0;t._permissibleDeploymentGroups=n.isFirstBatch?n.permissibleDeploymentGroups||[]:s.union(n.permissibleDeploymentGroups||[],t._permissibleDeploymentGroups||[]);t._permissibleDeploymentGroups.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)});t.emitChanged()},t._handleManageDeploymentGroups=function(n){var t;t=!!n&&n>0?c.ActionUrlResolver.getActionUrl(null,null,"machinegroup",{project:o.getDefaultWebContext().project.name,view:"MachineGroupView",mgid:n}):c.ActionUrlResolver.getActionUrl(null,null,"machinegroup",{project:o.getDefaultWebContext().project.name,view:"MachineGroupsView"});e.UrlUtilities.openInNewWindow(t,!0)},t._permissibleDeploymentGroups=[],t._nonPermissibleDeploymentGroups=[],t._areDeploymentGroupsInitialized=!1,t._areRefreshFirstBatch=!1,t}return __extends(t,n),t.getKey=function(){return u.StoreKeys.DeploymentGroupsStore},t.prototype.initialize=function(){this._actionsHub=r.ActionsHubManager.GetActionsHub(i.DeploymentGroupsActions);this._actionsHub.updatePermissibleDeploymentGroups.addListener(this._handleUpdatePermissibleDeploymentGroups);this._actionsHub.updateNonPermissibleDeploymentGroups.addListener(this._handleUpdateNonPermissibleDeploymentGroups);this._actionsHub.refreshDeploymentGroups.addListener(this._handleRefreshDeploymentGroups);this._actionsHub.manageDeploymentGroups.addListener(this._handleManageDeploymentGroups);this._actionsHub.addDeploymentGroups.addListener(this._handleAddDeploymentGroups)},t.prototype.disposeInternal=function(){this._actionsHub.updatePermissibleDeploymentGroups.removeListener(this._handleUpdatePermissibleDeploymentGroups);this._actionsHub.updateNonPermissibleDeploymentGroups.removeListener(this._handleUpdateNonPermissibleDeploymentGroups);this._actionsHub.refreshDeploymentGroups.removeListener(this._handleRefreshDeploymentGroups);this._actionsHub.manageDeploymentGroups.removeListener(this._handleManageDeploymentGroups);this._actionsHub.addDeploymentGroups.removeListener(this._handleAddDeploymentGroups)},t.prototype.getDeploymentGroups=function(){return this._permissibleDeploymentGroups},t.prototype.getDeploymentGroupById=function(n){if(!n||n<0)return null;var t=this._getDeploymentGroupFromList(n,this._permissibleDeploymentGroups);return t||(t=this._getDeploymentGroupFromList(n,this._nonPermissibleDeploymentGroups)),t},t.prototype.getDeploymentGroupByName=function(n){var t=[];return t.push.apply(t,this._permissibleDeploymentGroups),t.push.apply(t,this._nonPermissibleDeploymentGroups),s.first(t,function(t){return h.ignoreCaseComparer(n,t.name)===0})},t.prototype.getDeploymentGroupsNameList=function(n){var t=[],i,r;return this._permissibleDeploymentGroups&&this._permissibleDeploymentGroups.forEach(function(n){t.push(n.name)}),i=this.getDeploymentGroupById(n),i&&(r=s.findIndex(t,function(n){return h.localeIgnoreCaseComparer(n,i.name)===0}),r<0&&t.push(i.name)),t},t.prototype.isDirty=function(){return!1},t.prototype.isValid=function(){return!0},t.prototype.areMachineGroupsInitialized=function(){return this._areDeploymentGroupsInitialized},t.prototype._getDeploymentGroupFromList=function(n,t){return s.first(t,function(t){return t.id===n})},t}(f.ChangeTrackerStoreBase);t.DeploymentGroupsStore=l});

define("DistributedTaskControls/Stores/MachinesStore",["require","exports","DistributedTaskControls/Actions/MachinesActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Utilities"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleUpdateMachines=function(n){i._updateMapAndCurrentMachines(n);i._updateTags();i.emitChanged()},i._handleUpdateTags=function(n){i._tags=n;i._updateTags();i.emitChanged()},i._handleChangedMachineGroup=function(n){i._currentSelectedMachines={deploymentMachines:i.getMachinesByGroupId(n),deploymentGroupId:n};i._updateTags();i.emitChanged()},i._updateMapAndCurrentMachines=function(n){n&&(i._deploymentIdMachinesMap[n.deploymentGroupId]=n.deploymentMachines,i._currentSelectedMachines=n)},i._handleClearCache=function(){i._deploymentIdMachinesMap={};i.emitChanged()},i._deploymentIdMachinesMap={},i._tags=t||[],i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.MachinesStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(i.MachinesActions,n);this._actionsHub.updateMachines.addListener(this._handleUpdateMachines);this._actionsHub.changeMachineGroup.addListener(this._handleChangedMachineGroup);this._actionsHub.updateTags.addListener(this._handleUpdateTags);this._actionsHub.clearCache.addListener(this._handleClearCache)},t.prototype.disposeInternal=function(){this._actionsHub.updateMachines.removeListener(this._handleUpdateMachines);this._actionsHub.changeMachineGroup.removeListener(this._handleChangedMachineGroup);this._actionsHub.updateTags.removeListener(this._handleUpdateTags);this._actionsHub.clearCache.removeListener(this._handleClearCache)},t.prototype.getState=function(){return this._currentSelectedMachines},t.prototype.getMachinesByGroupId=function(n){var t=[];return n&&this.isMachinesOfDeploymentGroupExistInCache(n)&&(t=this._deploymentIdMachinesMap[n]),t},t.prototype.isMachinesOfDeploymentGroupExistInCache=function(n){return this._deploymentIdMachinesMap&&this._deploymentIdMachinesMap.hasOwnProperty(n)?!0:!1},t.prototype.getAllTags=function(n){for(var r,u=this.getMachinesByGroupId(n),t=[],f=u.length,i=0;i<f;i++)r=u[i].tags,r&&t.push.apply(t,r);return t},t.prototype._updateTags=function(){var n;if(this._currentSelectedMachines){var t=this.getMachinesByGroupId(this._currentSelectedMachines.deploymentGroupId),i={deploymentGroupId:this._currentSelectedMachines.deploymentGroupId,deploymentMachines:[]},r=t.length;for(n=0;n<r;n++)e.DtcUtils.isQualifiedMachine(t[n].tags,this._tags)&&i.deploymentMachines.push(t[n]);this._currentSelectedMachines=i}},t}(f.StoreBase);t.MachinesStore=o});

define("DistributedTaskControls/Phase/Components/DeploymentGroupInputComponent",["require","exports","react","DistributedTaskControls/Actions/DeploymentGroupsActionsCreator","DistributedTaskControls/Actions/MachinesActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Stores/MachineGroupInputsStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/Stores/DeploymentGroupsStore","DistributedTaskControls/Stores/MachinesStore","OfficeFabric/Button","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeploymentGroupInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});var d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onRefresh=function(){t._deploymentGroupsActionCreator.refreshDeploymentGroups();t._machinesActionsCreator.clearCache();t._updateMachines(t._getDeploymentGroupByName(),!0)},t._onManageClick=function(){var n=parseInt(t.props.value);t._deploymentGroupsActionCreator.manageDeploymentGroups(n)},t._onDeploymentMachineGroupChange=function(n){t._deploymentGroupName=n;var i=t._getDeploymentGroupByName();if(i){if(i.id){t.props.onValueChanged(i.id.toString());t._updateMachines(i)}}else{t.props.onValueChanged(e.DeploymentGroupConstants.InvalidDeploymentGroupId);t._updateMachines(null)}},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._deploymentGroupsStore=o.StoreManager.GetStore(v.DeploymentGroupsStore);this._machinesStore=o.StoreManager.GetStore(y.MachinesStore,this.props.instanceId);this._deploymentGroupInputComponentStore=o.StoreManager.GetStore(s.MachineGroupInputsStore,this.props.instanceId);this._deploymentGroupsActionCreator=f.ActionCreatorManager.GetActionCreator(r.DeploymentGroupsActionsCreator,this.props.instanceId);this._machinesActionsCreator=f.ActionCreatorManager.GetActionCreator(u.MachinesActionsCreator,this.props.instanceId);this._initialize()},t.prototype.getType=function(){return c.InputControlType.INPUT_TYPE_DEPLOYMENT_GROUP},t.prototype.getControl=function(){var n=this,t;return b.logVerbose("[DeploymentGroupInputComponent.getControl]: Method called."),t=this._getDeploymentGroupNameList(),i.createElement("div",{className:"deployment-group"},i.createElement("div",{className:"deployment-group-selection"},i.createElement("div",{className:"fabric-style-overrides task-input-dropdown"},i.createElement(l.ComboBoxInputComponent,{value:this._deploymentGroupName,comboBoxType:l.ComboBoxType.Searchable,source:t,onValueChanged:this._onDeploymentMachineGroupChange,enableFilter:!0,allowEdit:!0,autoComplete:!0,enabled:!this.props.disabled,required:this.props.required,errorMessage:this._getDeploymentGroupErrorMessage()}))),i.createElement("div",{className:"task-input-buttons"},!this.props.disabled&&i.createElement(p.IconButton,{onClick:function(t){return n._onRefresh(t)},iconProps:{iconName:"Refresh"},className:w.css("task-input-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:h.Refresh,disabled:this.props.disabled}),i.createElement(p.IconButton,{role:"link",onClick:function(t){return n._onManageClick(t)},iconProps:{iconName:"Settings"},className:w.css("task-input-icon-button","fabric-style-overrides","icon-button-override"),ariaLabel:h.Manage})))},t.prototype._getCurrentSelectedGroup=function(){var n=parseInt(this.props.value);return this._deploymentGroupsStore.getDeploymentGroupById(n)},t.prototype._getDeploymentGroupNameList=function(){var n=this._deploymentGroupInputComponentStore.getOriginalDeploymentGroupId();return this._deploymentGroupsStore.getDeploymentGroupsNameList(n)},t.prototype._getDeploymentGroupByName=function(){return this._deploymentGroupsStore.getDeploymentGroupByName(this._deploymentGroupName)},t.prototype._updateMachines=function(n,t){t===void 0&&(t=!1);n?!t&&this._machinesStore.isMachinesOfDeploymentGroupExistInCache(n.id)?this._machinesActionsCreator.changeMachines(n.id):this._machinesActionsCreator.updateMachines(n.id):this._machinesActionsCreator.changeMachines(null)},t.prototype._getDeploymentGroupErrorMessage=function(){return this._deploymentGroupName?this._deploymentGroupName+h.WhiteSpaceSeparator+h.DeploymentGroupNotFound:h.RequiredInputErrorMessage},t.prototype._initialize=function(){if(this.props.value){var n=this._getCurrentSelectedGroup();this._deploymentGroupName=n?n.name:k.empty}},t}(a.InputBase);t.DeploymentGroupInputComponent=d});

define("DistributedTaskControls/SharedControls/InputControls/Components/ContributionComponent",["require","exports","react","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Contributions/Controls","VSS/Error","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/ContributionComponent"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(t,o){var s=__construct(this,n,[t,o]),h,c,l;for(h in s)s.hasOwnProperty(h)&&(this[h]=s[h]);return s.state={component:i.createElement("div",{className:"dtc-contribution-component-loading"},u.Loading)},c=s.props.contributionHostBehavior||{showLoadingIndicator:!1,showErrorIndicator:!1,slowWarningDurationMs:0},s._$contributionContainer=$("<div>"),l=r.JQueryWrapper.extend(s.props.initialConfig,{disabled:s.props.disabled}),f.createContributedControl(s._$contributionContainer,s.props.contribution,l,s.props.webContext,s.props.instanceId,c).then(function(n){s.setState({component:n})},function(n){e.publishErrorToTelemetry({name:"CreateContributionError",message:n.message})}),s}return __extends(t,n),t.prototype.render=function(){return this.state.component},t.prototype.componentWillUnmount=function(){this._$contributionContainer&&(this._$contributionContainer.remove(),this._$contributionContainer=null)},t}(i.Component);t.ContributionComponent=o});

define("TFS/WorkItemTracking/Controls",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n.contributionId="ms.vss-work-web.query-selector"})(i=t.QuerySelectorControl||(t.QuerySelectorControl={}))});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("DistributedTaskControls/SharedControls/InputControls/Components/QueryControlInputComponent",["require","exports","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/ContributionComponent","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","DistributedTaskControls/SharedControls/InputControls/Components/RequiredIndicator","react","TFS/WorkItemTracking/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/WebApi/Constants","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/InputControls/Components/QueryControlInputComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p;Object.defineProperty(t,"__esModule",{value:!0});y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getType=function(){return u.InputControlType.INPUT_TYPE_QUERY_CONTROL},t.prototype.getControl=function(){return l.logVerbose("[QueryControlInputComponent.getControl]: Method called."),s.createElement(p,__assign({},this.props))},t}(e.InputBase);t.QueryControlInputComponent=y;p=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._getErrorMessage=function(){if(i.props.getErrorMessage)return i.props.getErrorMessage(i.props.value)},i.state={teamDataLoaded:!1},i}return __extends(t,n),t.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return n={id:"ms.vss-dashboards-web.dashboards-team-data-provider",properties:{serviceInstanceType:v.ServiceInstanceTypes.TFS}},t=a.getService(c.WebPageDataService),[4,t.ensureDataProvidersResolved([n])];case 1:return i.sent(),this.setState({teamDataLoaded:!0}),[2]}})})},t.prototype.render=function(){if(this.state.teamDataLoaded){var n={value:this.props.value,onValueChanged:this.props.onSelectedQueryChanged,label:r.QueryText};return s.createElement("div",{className:"query-control-input-component"},s.createElement(o.Component,{value:this.props.value,onGetErrorMessage:this._getErrorMessage},s.createElement(f.ContributionComponent,{contribution:h.QuerySelectorControl.contributionId,initialConfig:n,disabled:this.props.disabled})))}return s.createElement("span",{className:"bowtie-icon bowtie-spinner"})},t}(i.Component)});

define("DistributedTaskControls/Components/Task/TaskInputControlFactory",["require","exports","react","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/SharedControls/InputControls/Components/PickListBaseComponent","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Factory","DistributedTaskControls/Common/IdentityUtils","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Utilities","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/AzureConnectionInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/AzureResourceManagerInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputWithEditorExtensionComponent","DistributedTaskControls/SharedControls/InputControls/Components/RadioInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringListInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringInputWithEditorExtensionComponent","DistributedTaskControls/SharedControls/InputControls/Components/ConnectedServiceComponentUtility","DistributedTaskControls/SharedControls/InputControls/Components/FilePathInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/IdentityPickerInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/SecureFileInputComponent","DistributedTaskControls/Phase/Components/DeploymentGroupInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/QueryControlInputComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Context","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){Object.defineProperty(t,"__esModule",{value:!0});var st=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.prototype.getInputControl=function(n){var t=null,st=h.DtcUtils.getTaskInputType(n.inputDefinition),e,r,o,f,a,y,d,ut,ft,et,ot;switch(st){case c.InputControlType.INPUT_TYPE_FILE_PATH.toLowerCase():case c.InputControlType.INPUT_TYPE_ARTIFACT_PATH.toLowerCase():e=this._getFilePathInputControlProps(n);t=i.createElement(g.FilePathInputComponent,__assign({key:n.inputDefinition.name},e));break;case c.InputControlType.INPUT_TYPE_BOOLEAN.toLowerCase():r=s.JQueryWrapper.extend({},n.inputControlProps);r.value=h.DtcUtils.getBoolValue(n.inputControlProps.value);r.onValueChanged=function(t){n.inputControlProps.onValueChanged(t.toString())};t=i.createElement(v.BooleanInputComponent,__assign({key:n.inputDefinition.name},r));break;case c.InputControlType.INPUT_TYPE_AZURE_CONNECTION.toLowerCase():o=this._getAzureConnectionInputControlProps(n);t=i.createElement(l.AzureConnectionInputComponent,__assign({key:n.inputDefinition.name},o));break;case c.InputControlType.INPUT_TYPE_CONNECTED_SERVICE.toLowerCase():t=this._getConnectedServiceComponent(n);break;case c.InputControlType.INPUT_TYPE_RADIO.toLowerCase():f=s.JQueryWrapper.extend({},this._getRadioInputControlProps(n));f.onValueChanged=function(t){n.inputControlProps.onValueChanged(t.key)};t=i.createElement(w.RadioInputComponent,__assign({key:n.inputDefinition.name},f));break;case c.InputControlType.INPUT_TYPE_PICK_LIST.toLowerCase():t=i.createElement(u.PickListBaseComponent,{key:n.inputDefinition.name,args:n});break;case c.InputControlType.INPUT_TYPE_MULTI_LINE.toLowerCase():a=this._getStringOrMultilineInputControlProps(n);t=i.createElement(p.MultilineInputWithEditorExtensionComponent,__assign({key:n.inputDefinition.name},a));break;case c.InputControlType.INPUT_TYPE_SECURE_FILE.toLowerCase():y=this._getSecureFileInputProps(n);t=i.createElement(tt.SecureFileInputComponent,__assign({key:n.inputDefinition.name},y));break;case c.InputControlType.INPUT_TYPE_STRING_LIST.toLowerCase():d=this._getStringListInputComponentProps(n);t=i.createElement(b.StringListInputComponent,__assign({key:n.inputDefinition.name},d));break;case c.InputControlType.INPUT_TYPE_IDENTITIES.toLowerCase():ut=this._getIdentityPickerComponentProps(n);t=i.createElement(nt.IdentityPickerInputComponent,__assign({key:n.inputDefinition.name},ut));break;case c.InputControlType.INPUT_TYPE_DEPLOYMENT_GROUP.toLowerCase():ft=this._getDeploymentGroupInputControlProps(n);t=i.createElement(it.DeploymentGroupInputComponent,__assign({key:n.inputDefinition.name},ft));break;case c.InputControlType.INPUT_TYPE_QUERY_CONTROL.toLowerCase():et=this._getQueryControlComponentProps(n);t=i.createElement(rt.QueryControlInputComponent,__assign({key:n.inputDefinition.name},et));break;default:ot=this._getStringOrMultilineInputControlProps(n);t=i.createElement(k.StringInputWithEditorExtensionComponent,__assign({key:n.inputDefinition.name},ot,{isMultilineExpandable:!0,rows:1}))}return t},t.prototype._getConnectedServiceComponent=function(n){var f=d.ConnectedServiceComponentUtility.getConnectedServiceType(n.inputDefinition),t,u;return ot.ignoreCaseComparer(f,r.ServiceEndpointType.AzureRM)===0&&ft.getPageContext().webAccessConfiguration.isHosted?(t=this._getAzureResourceManagerInputControlProps(n),i.createElement(a.AzureResourceManagerInputComponent,__assign({key:n.inputDefinition.name},t))):(u=this._getConnectedServiceInputControlProps(n),i.createElement(y.ConnectedServiceInputComponent,__assign({key:n.inputDefinition.name},u)))},t.prototype._getSecureFileInputProps=function(n){return n.inputControlProps},t.prototype._getIdentityPickerComponentProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{multiIdentitySearch:!0,onSelectedIdentitiesChanged:function(t){n.inputControlProps.onValueChanged(o.IdentityUtils.getUserIdsAsJSONString(t))},value:o.IdentityUtils.convertJsonArrayIdentitiesStringToSemicolonSeperatedString(n.inputControlProps.value)})},t.prototype._getQueryControlComponentProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{onSelectedQueryChanged:function(t){n.inputControlProps.onValueChanged(t)},value:n.inputControlProps.value})},t.prototype._getFilePathInputControlProps=function(n){var t=n.controllerStore.getTaskContext(),i=null;return t.taskDelegates&&(i=t.taskDelegates.filePathPickerDelegate),s.JQueryWrapper.extend(n.inputControlProps,{isFileSystemBrowsable:t.isFileSystemBrowsable,filePathProviderDelegate:i})},t.prototype._getAzureConnectionInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{options:n.inputDefinition.options,onOptionsChanged:function(t){n.inputControlProps.onOptionsChanged(t)},instanceId:this._getInstanceId(n)})},t.prototype._getAzureResourceManagerInputControlProps=function(n){return n.inputControlProps.infoProps||(n.inputControlProps.infoProps={calloutContentProps:{}}),n.inputControlProps.infoProps.calloutContentProps.calloutMarkdown=this._prepareMarkdownWithNote(n.inputControlProps.infoProps.calloutContentProps.calloutMarkdown,ut.AzureRMInputComponentNote),s.JQueryWrapper.extend(n.inputControlProps,{properties:n.inputDefinition.properties,authSchemes:d.ConnectedServiceComponentUtility.getConnectedServiceAuthSchemes(n.inputDefinition),instanceId:this._getInstanceId(n)})},t.prototype._prepareMarkdownWithNote=function(n,t){return n?n.concat("<br /> <br />",t):ot.empty},t.prototype._getConnectedServiceInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{options:n.inputControlProps.inputOptions,properties:n.inputDefinition.properties,connectedServiceType:d.ConnectedServiceComponentUtility.getConnectedServiceType(n.inputDefinition),authSchemes:d.ConnectedServiceComponentUtility.getConnectedServiceAuthSchemes(n.inputDefinition),instanceId:this._getInstanceId(n)})},t.prototype._getStringOrMultilineInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{properties:n.inputDefinition.properties,inputDefinition:n.inputDefinition,getAllInputValues:function(){return n.controllerStore.getInputToResolvedValueMap?n.controllerStore.getInputToResolvedValueMap():null},taskDelegates:n.controllerStore.getTaskContext().taskDelegates,disabled:this._isDisabled(n)})},t.prototype._isDisabled=function(n){var t=n.inputDefinition.properties;return!n.inputControlProps.disabled&&t&&t[f.INPUT_TYPE_PROPERTY_DISABLED]&&t[f.INPUT_TYPE_PROPERTY_DISABLED].toLowerCase()===f.BOOLEAN_TRUE?!0:n.inputControlProps.disabled},t.prototype._getDeploymentGroupInputControlProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{properties:n.inputDefinition.properties})},t.prototype._getRadioInputControlProps=function(n){var i=[];for(var t in n.inputDefinition.options)n.inputDefinition.options.hasOwnProperty(t)&&i.push({key:t,text:n.inputDefinition.options[t],checked:ot.ignoreCaseComparer(t,n.inputControlProps.value)===0,disabled:n.inputControlProps.disabled});return s.JQueryWrapper.extend(n.inputControlProps,{options:i})},t.prototype._getStringListInputComponentProps=function(n){return s.JQueryWrapper.extend(n.inputControlProps,{disallowResetDelimitedString:function(){return n.controllerStore.isDirty()}})},t.prototype._getInstanceId=function(n){return ot.format("{0}-{1}",n.inputControlProps.instanceId,n.inputDefinition.name)},t}(e.Singleton);t.TaskInputControlFactory=st});

define("DistributedTaskControls/Components/Task/TaskInput",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskInputControlFactory","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/ProcessManagement/ProcessManagementUtils","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){Object.defineProperty(t,"__esModule",{value:!0});var k=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._getFooter=function(n,t){if(r.props.footerRenderer&&r.props.footerRenderer.getFooter)return r.props.footerRenderer.getFooter(r.props.inputDefinition,n,t)},r._onChanged=function(){r.setState(r._controllerStore.getTaskInputState(r.props.inputDefinition.name))},r._onValueChanged=function(n){r._controllerActions.updateTaskInputValue(r.props.inputDefinition.name,n)},r._onNotifyValidationResult=function(n,t){r._controllerActions.updateTaskInputError(r.props.inputDefinition.name,n,t)},r._onOptionsChanged=function(n){r._controllerActions.updateTaskInputOptions(r.props.inputDefinition.name,n)},r._getErrorMessage=function(n){var t=r._controllerStore.getInputState(r.props.inputDefinition,n);switch(t){case i.InputState.Invalid_InputRequired:return v.RequiredInputErrorMessage;case i.InputState.Invalid_NonPositiveNumber:return v.PositiveValidNumberErrorMessage;case i.InputState.Invalid_VariableOrNonPositiveNumber:return v.InvalidVariableOrNonPositiveNumber;case i.InputState.Invalid_SelectedOptionNotPresent:return v.SelectedOptionInvalidMessage;default:return b.empty}},r._handleLinkToProcessParameter=function(){r.props.inputActionDelegates&&r.props.inputActionDelegates.linkToProcParam&&r.props.inputActionDelegates.linkToProcParam(r.props.inputDefinition,r.getState().inputValue)},r._handleUnlinkFromProcessParameter=function(){r.props.inputActionDelegates&&r.props.inputActionDelegates.unlinkFromProcParam&&(r.props.inputActionDelegates.unlinkFromProcParam(r.props.inputDefinition),r._publishProcessParameterUnlinkTelemetry(r.props.inputDefinition))},r._handleCalloutAdditionalContent=function(){return r.props.inputActionDelegates&&r.props.inputActionDelegates.additionalContent?r.props.inputActionDelegates.additionalContent(r.props.inputDefinition):null},r._dependentInputsToValueMap={},r._componentMounted=!1,r._processManagementStore=r.props.skipCapabilityCheck?null:f.StoreManager.GetStore(l.ProcessManagementStore,r.props.controllerStore.getTaskContext().processInstanceId),r._controllerStore=r.props.controllerStore,r._controllerActions=r.props.controllerActions,r}return __extends(t,n),t.prototype.componentWillMount=function(){this._processManagementStore&&this._processManagementStore.addChangedListener(this._onChanged);this._controllerStore.addChangedListener(this._onChanged);this.setState(this._controllerStore.getTaskInputState(this.props.inputDefinition.name))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this._componentMounted=!0},t.prototype.render=function(){return this.state.isHidden&&this.getState().isHidden()?null:this._getControl()},t.prototype.componentWillUnmount=function(){this._processManagementStore&&this._processManagementStore.removeChangedListener(this._onChanged);this._controllerStore.removeChangedListener(this._onChanged);this._componentMounted=!1},t.prototype.componentDidUpdate=function(){var n=this,r=!1,t,f,i;if(this.props.inputDefinition.properties&&this.props.inputDefinition.properties.PopulateDefaultValue&&this.props.inputDefinition.properties.PopulateDefaultValue.toLowerCase()===u.Boolean.trueString&&this._isInputEditable()&&(r=!0),r&&s.DtcUtils.getTaskInputType(this.props.inputDefinition)===y.InputControlType.INPUT_TYPE_PICK_LIST&&(t=w.PickListInputUtility.getDependentInputsToValueMap(this.props.inputDefinition,this._controllerStore.getDataSourceBindings(),this._controllerStore.getSourceDefinitions(),this._controllerStore.getInputToValueMap()),f=!w.PickListInputUtility.areDataSourceDependentValuesMapEqual(t,this._dependentInputsToValueMap),f)){if(this._dependentInputsToValueMap=t,this._dataSourceTriggerTimer&&clearTimeout(this._dataSourceTriggerTimer),i=w.PickListInputUtility.getPickListOptions(this.props.inputDefinition,this._controllerStore.getDataSourceBindings(),this._controllerStore.getSourceDefinitions(),b.empty),!i.dataSourceBinding)return;var o=p.DataSourceBindingUtility.getDataSourceBindingDependency(i.dataSourceBinding),e=this._controllerStore.getInputToValueMap(),h=o.every(function(n){return!!(e[n]&&e[n].trim())});h?this._dataSourceTriggerTimer=setTimeout(function(){var t=w.PickListInputUtility.onRefresh(n.props.inputDefinition,c.TaskStoreUtility.getPickListRefreshOptions(n.props.inputDefinition,n._controllerStore));n._latestDataSourceRefreshPromise=t;t.then(function(i){if(n._latestDataSourceRefreshPromise===t&&n._componentMounted){if(Object.keys(i).length===0){var r=n.props.inputDefinition.defaultValue;i[r]=r}n._onValueChanged(i[Object.keys(i)[0]])}});n._dataSourceTriggerTimer=null},500):setTimeout(function(){n._latestDataSourceRefreshPromise=null;n._onValueChanged("")},0)}},t.prototype.getState=function(){return this.state},t.prototype._getControl=function(){var n=this.props.inputDefinition,u=!!this.props.skipCapabilityCheck||this._processManagementStore&&this._processManagementStore.canEditProcess(),f=this._controllerStore.getActionForInputField(n.name),i=!this._isInputEditable(),r=null,t;return r=this._getInfoButtonIconProps(f,u),t={instanceId:this.props.taskInstanceId,value:this.getState().inputValue,onValueChanged:this._onValueChanged,label:n.label,required:n.required,readOnly:i,disabled:i,infoProps:r,getErrorMessage:this._getErrorMessage,ariaDescription:n.helpMarkDown,options:this.getState().options,onOptionsChanged:this._onOptionsChanged,onNotifyValidationResult:this._onNotifyValidationResult},this.props.footerRenderer&&(t.getFooterElement=this._getFooter),!n.validation||(t.asyncValidator=n.validation.expression?{type:y.InputValidationType.Input,data:{expression:n.validation.expression,reason:n.validation.message}}:{type:y.InputValidationType.Expression}),h.TaskInputControlFactory.instance().getInputControl({inputDefinition:n,inputControlProps:t,controllerStore:this._controllerStore})},t.prototype._isInputEditable=function(){if(this.getState().disabled)return!1;if(this._processManagementStore&&this.props.requiredEditCapability!==undefined){var n=this._processManagementStore.processManagementCapabilities;return a.ProcessManagementUtils.isCapabilitySupported(n,this.props.requiredEditCapability)}return!0},t.prototype._getInfoButtonIconProps=function(n,t){var r,i;if(t===void 0&&(t=!0),n!==o.ActionForTaskInput.None||this.props.inputDefinition.helpMarkDown){if(r=this._getCalloutContent(n,t),!r)return null;i={calloutContentProps:r};switch(n){case o.ActionForTaskInput.UnlinkFromProcessParameter:case o.ActionForTaskInput.NavigateToVariablesTab:i.iconName="Link";i.iconAriaLabel=v.LinkedParameterIconAriaLabel;case o.ActionForTaskInput.LinkToProcessParameter:t&&(i.linkToProcessParameterDelegate=this._handleLinkToProcessParameter,i.unlinkToProcessParameterDelegate=this._handleUnlinkFromProcessParameter)}return i}return null},t.prototype._getCalloutContent=function(n,t){t===void 0&&(t=!0);var i=null;!this.props.inputDefinition.helpMarkDown||(i={calloutMarkdown:this.props.inputDefinition.helpMarkDown});switch(n){case o.ActionForTaskInput.LinkToProcessParameter:t&&(i=i?i:{},i.calloutFooterText=v.LinkLabel,i.calloutFooterOnClick=this._handleLinkToProcessParameter);break;case o.ActionForTaskInput.UnlinkFromProcessParameter:i=i?i:{};i.calloutAdditionalContent=this._handleCalloutAdditionalContent;t&&(i.calloutFooterText=v.UnlinkFromProcessParameterCalloutFooterText,i.calloutFooterOnClick=this._handleUnlinkFromProcessParameter);break;case o.ActionForTaskInput.NavigateToVariablesTab:i=i?i:{};i.calloutAdditionalContent=this._handleCalloutAdditionalContent}return i},t.prototype._publishProcessParameterUnlinkTelemetry=function(n){if(n){var t={};t[e.Properties.InputName]=n.name;t[e.Properties.InputType]=n.type;e.Telemetry.instance().publishEvent(e.Feature.UnlinkToProcessParameter,t)}},t}(r.Component);t.TaskInput=k});

define("DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Collapsible/Collapsible","DistributedTaskControls/SharedControls/InputControls/Utilities","VSS/Utils/String","VSS/Utils/UI","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/SharedControls/Collapsible/Collapsible"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.showContent=function(n){i.props.expanded===undefined&&i.setState({expanded:n})},i._getHeaderElement=function(n,t){var r=i.props.showErrorDelegate?i.props.showErrorDelegate():!1,u=i.props.showWarningDelegate?i.props.showWarningDelegate():!1,f=i.isExpanded();return i._getDtcAccordionHeader(n,f,r,t,u)},i._toggle=function(){var n=!i.isExpanded();if(i.props.expanded===undefined&&i.setState({expanded:n}),i.props.onHeaderClick)i.props.onHeaderClick(n)},i._handleKeyPress=function(n){(n.keyCode===s.KeyCode.SPACE||n.keyCode===s.KeyCode.ENTER)&&(i._toggle(),n.preventDefault(),n.stopPropagation())},i._titleId=t.titleId?t.titleId:e.InputControlUtils.getId("AccordionCustomRenderer"),i.state={expanded:!!(t.expanded!==undefined?t.expanded:t.initiallyExpanded)},i}return __extends(t,n),t.prototype.componentWillReceiveProps=function(n){n.expanded!==undefined&&this.setState({expanded:!!n.expanded})},t.prototype.render=function(){var n=this.isExpanded();return i.createElement(f.Collapsible,__assign({onHeaderClick:this.showContent},this.props,{onRenderHeader:this._getHeaderElement,titleId:this._titleId,expanded:n}))},t.prototype.isExpanded=function(){var n=!1;return n=this.props.expanded===undefined?this.state?this.state.expanded:this.props.initiallyExpanded:this.props.expanded,!!n},t.prototype._getDtcAccordionHeader=function(n,t,i,r,u){return!t&&i?this._getAccordianCustomHeaderComponent(t,n,c.css("collapsible-error","bowtie-status-error-outline"),n.errorTooltipContent):!t&&u?this._getAccordianCustomHeaderComponent(t,n,"bowtie-status-warning",n.warningTooltipContent):this.props.onRenderHeader?this.props.onRenderHeader(n):r?r(n):null},t.prototype._getAccordianCustomHeaderComponent=function(n,t,r,f){var s=o.format("chevron bowtie-icon bowtie-chevron-{0}-light",n?"up":"down"),e=t.label,h=t.addSectionHeaderLine;return i.createElement("div",{tabIndex:0,className:"collapsible-section-header",role:"button",onClick:this._toggle,onKeyDown:this._handleKeyPress,id:this._titleId,"aria-label":e,"aria-expanded":n,"data-first-focus-element":!0},this._getAccordianHeader(e,r,f),i.createElement("div",{className:s,"aria-label":n?u.ExpandText:u.CollapseText}),h&&i.createElement("div",{className:"collapsible-section-line"},i.createElement("hr",null)))},t.prototype._getAccordianHeader=function(n,t,r){var u=r?r:n,f=c.css("collapsible-section-icon bowtie-icon",t);return i.createElement("div",{className:"collapsible-section-label"},r?i.createElement(h.TooltipHost,{content:u,directionalHint:12},i.createElement("span",{"data-is-focusable":!0,"aria-label":u,className:f,tabIndex:0})):i.createElement("span",{className:f}),n)},t}(r.Component);t.AccordionCustomRenderer=l});

define("DistributedTaskControls/Components/Task/TaskInputGroup",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Task/TaskInput","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","OfficeFabric/GroupedList","OfficeFabric/List","OfficeFabric/utilities/selection/interfaces","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onToggleCollapse=function(n){t.setState({isCollapsed:!n.isCollapsed})},t._getUnparentedInputComponent=function(n){return t._getInput(n)},t._getParentedInputComponent=function(n,i){return t._getInput(i)},t._doesInputGroupHaveError=function(){var n=!1;return t.props.inputs&&(n=t.props.inputs.some(function(n){return!t.props.controllerStore.isInputValid(n)})),n},t}return __extends(t,n),t.prototype.render=function(){var n,t,r;return this.props.groupDefinition?(t={key:this.props.groupDefinition.name,name:this.props.groupDefinition.displayName,startIndex:0,count:this.props.inputs.length,isCollapsed:!!this.state.isCollapsed,level:0},r={headerProps:{onToggleCollapse:this._onToggleCollapse,isCollapsedGroupSelectVisible:!1},onRenderHeader:function(){return null}},n=i.createElement("div",{className:"fabric-style-overrides"},i.createElement(f.AccordionCustomRenderer,{label:this.props.groupDefinition.displayName,initiallyExpanded:!this.props.isSectionAutoCollapsed,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0,showErrorDelegate:this._doesInputGroupHaveError,bowtieIconName:this.props.iconClassName},i.createElement(e.GroupedList,{className:"task-input-group",groups:[t],groupProps:r,items:this.props.inputs,onRenderCell:this._getParentedInputComponent,selectionMode:s.SelectionMode.single})))):n=i.createElement("div",{className:"fabric-style-overrides"},i.createElement(o.List,{className:"task-input-unparented-group",items:this.props.inputs,onRenderCell:this._getUnparentedInputComponent})),n},t.prototype._getInput=function(n){return this._getInputControl(n)},t.prototype._getInputControl=function(n){return i.createElement(u.TaskInput,{key:n.name,taskInstanceId:this.props.controllerInstanceId,inputDefinition:n,inputActionDelegates:this.props.inputActionDelegates,controllerStore:this.props.controllerStore,controllerActions:this.props.controllerActions,footerRenderer:this.props.footerRenderer,requiredEditCapability:this.props.requiredEditCapability})},t}(r.Component);t.TaskInputGroup=h});

define("DistributedTaskControls/Actions/ProcessParametersLinkSettingsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._inputSelectionChanged=new i.Action;this._procParamNameChanged=new i.Action;this._displayNameChanged=new i.Action;this._valueChanged=new i.Action},t.getKey=function(){return u.ActionsKeys.LinkUnlinkProcParamsDialogViewActions},Object.defineProperty(t.prototype,"inputSelectionChanged",{get:function(){return this._inputSelectionChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"procParamNameChanged",{get:function(){return this._procParamNameChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayNameChanged",{get:function(){return this._displayNameChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanged",{get:function(){return this._valueChanged},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.ProcessParametersLinkSettingsActions=f});

define("DistributedTaskControls/Actions/ProcessParametersLinkSettingsActionsCreator",["require","exports","DistributedTaskControls/Actions/ProcessParametersLinkSettingsActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.LinkUnlinkProcParamsDialogViewActionCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(i.ProcessParametersLinkSettingsActions)},t.prototype.inputSelectionChanged=function(n){return this._actions.inputSelectionChanged.invoke(n)},t.prototype.procParamNameChanged=function(n){return this._actions.procParamNameChanged.invoke(n)},t.prototype.displayNameChanged=function(n){return this._actions.displayNameChanged.invoke(n)},t.prototype.valueChanged=function(n){return this._actions.valueChanged.invoke(n)},t}(r.ActionCreatorBase);t.ProcessParametersLinkSettingsActionsCreator=e});

define("DistributedTaskControls/Stores/ProcessParametersLinkSettingsViewStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String","DistributedTaskControls/Common/Common","VSS/Diag","DistributedTaskControls/SharedControls/InputControls/Components/DataSourceBindingUtility","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTaskControls/Actions/ProcessParametersLinkSettingsActions"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleInputSelectionChanged=function(n){i._setData(n);i.emitChanged()},i._handleProcParamNameChanged=function(n){var t=i.getProcessParameterNameToInputMap(i.getState().selectedInput),r=!1;t&&Object.keys(t).forEach(function(u){o.ignoreCaseComparer(u,n)===0&&(i._currentState.displayValueDisabled=!0,i._currentState.displayName=t[u].label,i._currentState.value=t[u].defaultValue,r=!0)});r||(i._currentState.displayValueDisabled=!1);i._currentState.processParamName=n;i._currentState.isInvalidProcParamName=i._isDisplayNameProcessParamNameInvalid(n);i.emitChanged()},i._handleDisplayNameChanged=function(n){i._currentState.isInvalidDisplayName=i._isDisplayNameProcessParamNameInvalid(n);i._currentState.displayName=n;i.emitChanged()},i._handleValueChanged=function(n){i._currentState.value=n;i.emitChanged()},i._currentState={},i._initOptions=t?t:{},i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.LinkUnlinkProcParamsDialogViewStore},t.prototype.initialize=function(){this._processParamStore=l.StoreManager.GetStore(a.ProcessParameterStore,this._initOptions.processInstanceId);this._actions=r.ActionsHubManager.GetActionsHub(v.ProcessParametersLinkSettingsActions);this._actions.inputSelectionChanged.addListener(this._handleInputSelectionChanged);this._actions.procParamNameChanged.addListener(this._handleProcParamNameChanged);this._actions.displayNameChanged.addListener(this._handleDisplayNameChanged);this._actions.valueChanged.addListener(this._handleValueChanged);this._setInitState()},t.prototype.disposeInternal=function(){this._actions.inputSelectionChanged.removeListener(this._handleInputSelectionChanged);this._actions.procParamNameChanged.removeListener(this._handleProcParamNameChanged);this._actions.displayNameChanged.removeListener(this._handleDisplayNameChanged);this._actions.valueChanged.removeListener(this._handleDisplayNameChanged)},t.prototype.getState=function(){return this._currentState},t.prototype.getProcessParameterNameToInputMap=function(n){var r=this,i={},t=this._processParamStore.getProcessParameters().inputs;return n&&t&&t.length>0&&t.forEach(function(t){var u=o.equals(t.type,n.type,!0),e=f.DtcUtils.getTaskInputType(n);switch(e){case s.INPUT_TYPE_RADIO:case s.INPUT_TYPE_PICK_LIST:u=u&&r._compareInputOptions(t.options,n.options)}u&&(i[o.format(s.ProcessParameterConstants.NewProcessParameterVariableNameFormat,t.name)]=t);h.logInfo(o.format("[TaskDetailsView]: DefnTofilterBy: {0}, Defn: {1}, shouldFilter: {2}",n.name,t.name,u))}),i},t.prototype.getInputNamesToDependentsMap=function(){return this._inputNamesToDependentsMap},t.prototype.getWarningTextMessage=function(){var r=this,n=o.empty,t=this.getInputNamesToDependentsMap(),i;return t&&Object.keys(t).length>0&&this._initOptions&&this._initOptions.inputsList&&this._initOptions.inputsList.length>0&&this._currentState.selectedInput&&(i=this._currentState.selectedInput.name,t.hasOwnProperty(i)&&t[i].forEach(function(u,f){r._initOptions.inputNameToProcParam&&!r._initOptions.inputNameToProcParam.hasOwnProperty(u)&&r._initOptions.inputsList.forEach(function(r){o.ignoreCaseComparer(r.name,u)===0&&(n===o.empty?n=r.label:n+=t[i].length-1===f?s.STRING_SPACE+e.And+s.STRING_SPACE+r.label:e.Comma+s.STRING_SPACE+r.label)})})),n},t.prototype._compareInputOptions=function(n,t){if(!n&&!t)return!0;if(n&&t&&Object.keys(n).length===Object.keys(t).length){for(var i in n)if(!t.hasOwnProperty(i)||!o.equals(n[i],t[i],!0))return!1;return!0}return!1},t.prototype._isDisplayNameProcessParamNameInvalid=function(n){return n?n.trim()===o.empty:!0},t.prototype._getProcParamNameForExistingProcParam=function(n){var t=null;return this._initOptions.inputNameToProcParam&&Object.keys(this._initOptions.inputNameToProcParam).length>0&&(!this._initOptions.inputNameToProcParam[n.name]||(t=this._initOptions.inputNameToProcParam[n.name])),t},t.prototype._setDependentNamesForSelectedInput=function(n){var t=this._getInputNamesList(n);this._inputNamesToDependentsMap=c.DataSourceBindingUtility.getInputNameToDependentParentNamesMap(t,this._initOptions.inputNameToValueMapping,this._initOptions.dataSourceBindings,this._initOptions.sourceDefinitions)},t.prototype._getInputNamesList=function(n){var t=[];return n&&n.length>0&&n.forEach(function(n){t.push(n.name)}),t},t.prototype._setInitState=function(){this._setData(this._initOptions.selectedInputDefinition);this._setDependentNamesForSelectedInput(this._initOptions.inputsList)},t.prototype._setData=function(n){var u=this._getProcParamNameForExistingProcParam(n),r=[],t=this.getProcessParameterNameToInputMap(n);if(t&&Object.keys(t).length>0&&(r=Object.keys(t)),u)this._setStateForExistingProcParam(n,u,r);else{var i=n?o.format(s.ProcessParameterConstants.NewProcessParameterVariableNameFormat,n.name):o.empty,f=n?n.label:o.empty,e=n?this._initOptions.inputNameToValueMapping[n.name]:o.empty,h=!1;t&&Object.keys(t).length>0&&Object.keys(t).forEach(function(n){o.ignoreCaseComparer(n,i)===0&&(h=!0,f=t[n].label,e=t[n].defaultValue)});this._currentState.selectedInput=n;this._currentState.displayName=f;this._currentState.displayValueDisabled=h;this._currentState.isProcParamAlreadyAttached=!1;this._currentState.processParamName=i;this._currentState.value=e;this._currentState.processParametersListForSelectedInput=r;this._currentState.isInvalidProcParamName=this._isDisplayNameProcessParamNameInvalid(i);this._currentState.isInvalidDisplayName=this._isDisplayNameProcessParamNameInvalid(i)}},t.prototype._setStateForExistingProcParam=function(n,t,i){var u=o.empty,f=o.empty,e=o.empty,r=this._processParamStore.getProcessParameters().inputs;!t||(!!r&&r.length>0&&r.forEach(function(n){o.ignoreCaseComparer(n.name,t)===0&&(f=n.label,e=n.defaultValue)}),u=o.format(s.ProcessParameterConstants.NewProcessParameterVariableNameFormat,t));this._currentState.selectedInput=n;this._currentState.displayName=f;this._currentState.displayValueDisabled=!0;this._currentState.isProcParamAlreadyAttached=!0;this._currentState.processParamName=u;this._currentState.value=e;this._currentState.processParametersListForSelectedInput=i;this._currentState.isInvalidProcParamName=this._isDisplayNameProcessParamNameInvalid(t);this._currentState.isInvalidDisplayName=this._isDisplayNameProcessParamNameInvalid(t)},t}(i.ViewStoreBase);t.ProcessParametersLinkSettingsViewStore=y});

define("DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Label","OfficeFabric/Button","OfficeFabric/Dialog","OfficeFabric/MessageBar","OfficeFabric/Utilities","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Actions/ProcessParametersLinkSettingsActionsCreator","DistributedTaskControls/Actions/ProcessParameterActionsCreator","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/MultilineInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/RadioInputComponent","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Stores/ProcessParametersLinkSettingsViewStore","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","VSS/Utils/String","VSS/Utils/Html","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){Object.defineProperty(t,"__esModule",{value:!0});var et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(){t.setState(t._store.getState())},t._onProcessParameterNameChange=function(n){t._actionCreator.procParamNameChanged(n)},t._onInputsListChange=function(n){var i=null;t.props.inputsList.forEach(function(t){t.name===n.key&&(i=t)});t._actionCreator.inputSelectionChanged(i)},t._onInputDisplayNameChange=function(n){t._actionCreator.displayNameChanged(n)},t._onInputValueChange=function(n){t._actionCreator.valueChanged(n)},t._onLinkClicked=function(){var n=f.DtcUtils.createInputDefinitionCopy(t.state.selectedInput),i;n.name=f.DtcUtils.getProcParamNameFromVariableName(t.state.processParamName);n.label=t.state.displayName;n.defaultValue=t.state.value;n.groupName=ut.empty;n.visibleRule=ut.empty;i=rt.PickListInputUtility.getPickListOptions(n,t.props.dataSourceBindings,t.props.sourceDefinitions,ut.empty);t._processParametersActionsCreator.createProcessParameter({input:n,sourceDefinition:i.sourceDefintion,dataSourceBinding:i.dataSourceBinding});t.props.linkToProcessParameter&&t.props.linkToProcessParameter(t.state.selectedInput.name,n.name);t.state.displayValueDisabled?t._publishProcessParameterLinkTelemetry(e.Feature.LinkToProcessParameter,t.state.selectedInput):t._publishProcessParameterLinkTelemetry(e.Feature.CreateProcessParameter,t.state.selectedInput);t._closeDialog()},t._onUnlinkClicked=function(){t.props.unlinkFromProcessParameter&&t.props.unlinkFromProcessParameter(t.state.selectedInput.name);t._processParametersActionsCreator.unlinkProcessParameter(f.DtcUtils.getProcParamNameFromVariableName(t.state.processParamName));t._publishProcessParameterLinkTelemetry(e.Feature.UnlinkProcessParameterFromDialog,t.state.selectedInput,!0);t._closeDialog()},t._onDialogClose=function(){t._closeDialog()},t._processParameterNameToInputMap={},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=tt.StoreManager.CreateStore(it.ProcessParametersLinkSettingsViewStore,ut.empty,{selectedInputDefinition:this._setSelectedInput(),inputNameToProcParam:this.props.inputNameToProcParam,inputNameToValueMapping:this.props.inputNameToValueMapping,dataSourceBindings:this.props.dataSourceBindings,sourceDefinitions:this.props.sourceDefinitions,inputsList:this.props.inputsList,processInstanceId:this.props.processInstanceId});this._actionCreator=y.ActionCreatorManager.GetActionCreator(p.ProcessParametersLinkSettingsActionsCreator,this.props.controllerInstanceId);this._processParametersActionsCreator=y.ActionCreatorManager.GetActionCreator(w.ProcessParameterActionsCreator,this.props.processInstanceId);this.setState(this._store.getState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onChange);tt.StoreManager.DeleteStore(it.ProcessParametersLinkSettingsViewStore)},t.prototype.render=function(){var t=this,n="input-settings-list",r=ut.format(s.DependentsWarningMessage,this._store.getWarningTextMessage()),u=ft.HtmlNormalizer.normalize(r);return i.createElement(l.Dialog,{modalProps:{containerClassName:"create-link-variable-dialog"},dialogContentProps:{type:l.DialogType.close},hidden:!1,title:s.CreateAndLinkVariableDialogTitle,onDismiss:this._onDialogClose,closeButtonAriaLabel:s.CloseButtonText,firstFocusableSelector:n},i.createElement("div",null,i.createElement(d.DropDownInputControl,{selectedKey:this.state.selectedInput?this.state.selectedInput.name:undefined,label:s.SettingToLink,options:this._getDataSourceForSettingsAvailable(),onValueChanged:function(n){t._onInputsListChange(n.option)},cssClass:n}),i.createElement(o.ComboBoxInputComponent,{required:!0,errorMessage:s.RequiredInputErrorMessage,label:s.VariableLabel,value:this._getProcessParameterName(),comboBoxType:o.ComboBoxType.Editable,source:this.state.processParametersListForSelectedInput,onValueChanged:this._onProcessParameterNameChange,enabled:!this.state.isProcParamAlreadyAttached}),i.createElement(b.StringInputComponent,{required:!0,label:s.DisplayNameLabel,value:this._getInputDisplayName(),onValueChanged:this._onInputDisplayNameChange,disabled:this.state.displayValueDisabled,getErrorMessage:this._getErrorMessage}),this._getValueComponent(),ut.ignoreCaseComparer(this._store.getWarningTextMessage(),ut.empty)!==0&&i.createElement(a.MessageBar,{messageBarType:a.MessageBarType.warning,className:"dependent-warning-container"},i.createElement("div",{className:"dependents-warning-message",dangerouslySetInnerHTML:{__html:u}})),i.createElement(l.DialogFooter,null,i.createElement(c.PrimaryButton,{className:v.css("fabric-style-overrides"),ariaLabel:s.LinkLabel,onClick:this._onLinkClicked,disabled:this._isLinkButtonDisabled(),"aria-disabled":this.state.isProcParamAlreadyAttached},s.LinkLabel),i.createElement(c.PrimaryButton,{className:v.css("fabric-style-overrides"),ariaLabel:s.UnlinkFromProcessParameterCalloutFooterText,onClick:this._onUnlinkClicked,disabled:!this.state.isProcParamAlreadyAttached,"aria-disabled":!this.state.isProcParamAlreadyAttached},s.UnlinkFromProcessParameterCalloutFooterText),i.createElement(c.DefaultButton,{ariaLabel:s.CancelButtonText,onClick:this._onDialogClose},s.CancelButtonText))))},t.prototype._getErrorMessage=function(n){if(n){if(n.trim()===ut.empty)return s.RequiredInputErrorMessage}else return s.RequiredInputErrorMessage},t.prototype._isLinkButtonDisabled=function(){return this.state.isProcParamAlreadyAttached||this.state.isInvalidDisplayName||this.state.isInvalidProcParamName},t.prototype._getDataSourceForSettingsAvailable=function(){var n=[];return this.props.inputsList.forEach(function(t){n.push({key:t.name,text:t.label})}),n},t.prototype._getValueLabel=function(){return i.createElement(h.Label,null,s.ValueLabel)},t.prototype._getValueComponent=function(){var u=this,n,e,t;if(this.state.selectedInput){e=f.DtcUtils.getTaskInputType(this.state.selectedInput);t=this.state.displayValueDisabled;switch(e){case r.INPUT_TYPE_BOOLEAN:n=i.createElement("div",null,this._getValueLabel(),i.createElement(g.BooleanInputComponent,{label:this._getInputDisplayName(),value:ut.ignoreCaseComparer(this._getInputValue(),r.BOOLEAN_TRUE)===0?!0:!1,onValueChanged:function(n){u._onInputValueChange(n?r.BOOLEAN_TRUE:r.BOOLEAN_FALSE)},disabled:t}));break;case r.INPUT_TYPE_RADIO:n=i.createElement("div",{className:"fabric-style-overrides"},i.createElement(nt.RadioInputComponent,{label:s.ValueLabel,options:this._getChoiceGroupInputOptions(),onValueChanged:function(n){u._onInputValueChange(n.key)},disabled:t}));break;case r.INPUT_TYPE_PICK_LIST:n=this._getPickListComponent(t);break;case r.INPUT_TYPE_MULTI_LINE:n=i.createElement("div",null,i.createElement(k.MultiLineInputComponent,{label:s.ValueLabel,isNotResizable:!0,value:this._getInputValue(),onValueChanged:this._onInputValueChange,disabled:t}));break;case r.INPUT_TYPE_STRING:n=this._getTextFieldComponent(t);break;default:n=this._getTextFieldComponentWithMessage(!0)}}return n},t.prototype._getPickListComponent=function(n){var u=this,r=rt.PickListInputUtility.getPickListOptions(this.state.selectedInput,this.props.dataSourceBindings,this.props.sourceDefinitions,ut.empty),t;return!r.dataSourceBinding&&!r.sourceDefintion?i.createElement(d.DropDownInputControl,{label:s.ValueLabel,options:this._getDropdownInputOptions(),selectedKey:this._getInputValue(),onValueChanged:function(n){u._onInputValueChange(n.option.key.toString())},disabled:n}):(t={},t[e.Properties.InputName]=this.state.selectedInput.name,t[e.Properties.InputType]=this.state.selectedInput.type,e.Telemetry.instance().publishEvent(e.Feature.LinkPicklistAsProcessParameter,t),this._getTextFieldComponentWithMessage(!0))},t.prototype._getTextFieldComponentWithMessage=function(n){return i.createElement("div",null,this._getTextFieldComponent(n),i.createElement("div",{className:"value-disabled-message"},s.PickListDisabledGuidanceMessageInfo))},t.prototype._getTextFieldComponent=function(n){return i.createElement("div",null,i.createElement(b.StringInputComponent,{label:s.ValueLabel,value:this._getInputValue(),onValueChanged:this._onInputValueChange,disabled:n}))},t.prototype._getProcessParameterName=function(){return this.state.processParamName},t.prototype._getInputDisplayName=function(){return this.state.displayName},t.prototype._getInputValue=function(){return this.state.value},t.prototype._getChoiceGroupInputOptions=function(){var t=[],n;if(this.state.selectedInput)for(n in this.state.selectedInput.options)this.state.selectedInput.options.hasOwnProperty(n)&&t.push({key:n,text:this.state.selectedInput.options[n],checked:ut.ignoreCaseComparer(n,this._getInputValue())===0,disabled:this.state.displayValueDisabled});return t},t.prototype._getDropdownInputOptions=function(){var t=[],n;if(this.state.selectedInput)for(n in this.state.selectedInput.options)this.state.selectedInput.options.hasOwnProperty(n)&&t.push({key:n,text:this.state.selectedInput.options[n]});return t},t.prototype._closeDialog=function(){!this.props.onDialogClose||this.props.onDialogClose()},t.prototype._publishProcessParameterLinkTelemetry=function(n,t,i){if(i===void 0&&(i=!1),t){var r={};r[e.Properties.InputName]=t.name;r[e.Properties.InputType]=t.type;i||(r[e.Properties.IsExistingProcessParameter]=this.state.displayValueDisabled);e.Telemetry.instance().publishEvent(n,r)}},t.prototype._setSelectedInput=function(){var n=null;return this.props.selectedInputDefinition?n=this.props.selectedInputDefinition:!!this.props.inputsList&&this.props.inputsList.length>0&&(n=this.props.inputsList[0]),n},t}(u.Component);t.ProcessParametersLinkSettingsView=et});

define("DistributedTaskControls/Components/Task/TaskDetailsView",["require","exports","react","react-dom","DistributedTaskControls/Actions/ProcessParameterActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskDetailsHeader","DistributedTaskControls/Components/Task/TaskDetailsEnvironmentVariables","DistributedTaskControls/Components/Task/TaskDetailsOutputGroup","DistributedTaskControls/Components/Task/TaskInputGroup","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Components/Task/TaskStoreUtility","DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView","DistributedTaskControls/ProcessManagement/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/PickListInputUtility","DistributedTaskControls/Stores/ProcessParameterStore","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskDetailsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){Object.defineProperty(t,"__esModule",{value:!0});var ht=function(n){function t(){var t=__construct(this,n,arguments);for(var u in t)t.hasOwnProperty(u)&&(this[u]=t[u]);return t._handleLinkSettingClicked=function(){t._renderCreateLinkUnlinkProcessParametersView()},t._handleLinkToProcessParameter=function(n){t._renderCreateLinkUnlinkProcessParametersView(n)},t._linkToProcesParameter=function(n,i){t._actionCreator.linkToProcessParameter(n,i)},t._unLinkfromProcesParameter=function(n){t._actionCreator.unlinkFromProcessParameter(n)},t._handleUnlinkFromProcessParameter=function(n){var i=t._store.getInputNameToProcessParameterNameMap(),r=i&&i[n.name]?i[n.name]:null;r&&(t._procParamActioncreator.unlinkProcessParameter(r),t._actionCreator.unlinkFromProcessParameter(n.name))},t._getAdditionalContentForInputCallout=function(n){var r=t._store.getProcessParameterName(n.name),u=t._procParamStore.getInputDefinition(r),f=u?u.label:st.empty;return i.createElement("div",{className:"callout-additionalContent"},i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"callout-additionalContent-icon"},i.createElement("span",{className:"bowtie-icon bowtie-link"})),i.createElement("td",null,st.format(tt.TaskInputLinkToProcessParameterCalloutText,f,st.format(o.ProcessParameterConstants.NewProcessParameterVariableNameFormat,r)))))))},t._onDialogSubmit=function(n,i){var r=it.PickListInputUtility.getPickListOptions(i,t._store.getDataSourceBindings(),t._store.getSourceDefinitions(),st.empty);t._procParamActioncreator.createProcessParameter({input:i,sourceDefinition:r.sourceDefintion,dataSourceBinding:r.dataSourceBinding});t._actionCreator.linkToProcessParameter(n.name,i.name)},t._onDialogClose=function(){r.unmountComponentAtNode(t._createAndLinkDialogContainer)},t._onStoreChanged=function(){var n=t._store.getTaskDefinition();t._taskDefinition&&d.TaskStoreUtility.areVersionsEqual(n.version,t._taskDefinition.version)&&!t._store.isVisibilityChanged()||(t._taskDefinition=n,t.setState(t._getState()))},t._onContributionStoreChanged=function(){t.setState(t._getState())},t._controlOptionsGroupName=s.CONTROL_OPTIONS_GROUP,t._unparentedInputsGroupName="unparented",t}return __extends(t,n),t.prototype.componentWillMount=function(){var n=document.getSelection()||window.getSelection();n&&(n.empty?n.empty():n.removeAllRanges&&n.removeAllRanges());this._procParamActioncreator=f.ActionCreatorManager.GetActionCreator(u.ProcessParameterActionsCreator,this.props.processInstanceId);this._procParamStore=l.StoreManager.GetStore(rt.ProcessParameterStore,this.props.processInstanceId);this._actionCreator=f.ActionCreatorManager.GetActionCreator(v.TaskActionCreator,this.props.controllerInstanceId);this._store=l.StoreManager.GetStore(k.TaskStore,this.props.controllerInstanceId);this._taskDefinition=this._store.getTaskDefinition();this.state.taskInputPerGroup||this.setState(this._getState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var f=this,e=st.format("{0} {1}","dtc-task-details-view constrained-width",this.props.controllerInstanceId),r=null,n,t,u;return this._taskDefinition.showEnvironmentVariables&&(r=i.createElement(p.TaskDetailsEnvironmentVariables,{controllerInstanceId:this.props.controllerInstanceId,isSectionAutoCollapsed:!0})),n=null,ot.FeatureAvailabilityService.isFeatureEnabled(o.FeatureFlag_TaskShowOutputVariables,!1)&&this._store.canShowOutputVariables()&&(n=i.createElement(w.TaskDetailsOutputGroup,{controllerInstanceId:this.props.controllerInstanceId,refName:this.props.taskInstance.refName,taskDefinition:this._taskDefinition,isSectionAutoCollapsed:!0})),t=ft.getMajorVersionSpec(this._taskDefinition.version),u=ft.isPreview(this._taskDefinition)?st.format(tt.Task_PreviewMajorVersionSpecFormat,t):t,i.createElement("div",{className:e,ref:function(n){f._elementInstance=n}},i.createElement(y.TaskDetailsHeader,{controllerInstanceId:this.props.controllerInstanceId,taskType:this._taskDefinition.friendlyName,taskDescription:this._taskDefinition.description,taskHelpMarkDown:this._taskDefinition.helpMarkDown,taskReleaseNotes:this._taskDefinition.releaseNotes,taskVersionDisplaySpec:u,taskVersions:this._store.getTaskVersionDisplaySpecs(),onLinkSettingClicked:this._handleLinkSettingClicked,processParametersNotSupported:this.props.processParametersNotSupported,taskId:this.props.taskInstance&&this.props.taskInstance.task&&this.props.taskInstance.task.definitionType===ut.DefinitionType.metaTask?this.props.taskInstance.task.id:""}),i.createElement("div",{className:"task-details-body"},this._getGroupedInputList()),r,n)},t.prototype.getInputActionDelegates=function(){return{linkToProcParam:this._handleLinkToProcessParameter,unlinkFromProcParam:this._handleUnlinkFromProcessParameter,additionalContent:this._getAdditionalContentForInputCallout}},t.prototype._getGroupedInputList=function(){var t=this,n=[],i={displayName:tt.ControlOptionsText,isExpanded:!1,name:this._controlOptionsGroupName,tags:[],visibleRule:st.empty};return n=this._getUpdatedGroupList(this._unparentedInputsGroupName,null,n),this._taskDefinition.groups.forEach(function(i){n=t._getUpdatedGroupList(i.name,i,n)}),this._store.canShowControlOptions()&&(n=this._getUpdatedGroupList(this._controlOptionsGroupName,i,n)),n},t.prototype._getUpdatedGroupList=function(n,t,r){var u=this.state.taskInputPerGroup[n],f=n,e=!0,o;return t&&!!t.visibleRule&&(e=this._store.isGroupOrInputVisible(t.visibleRule)),o=d.TaskStoreUtility.isTaskSectionInitiallyCollapsed(t),this._taskDefinition.version&&(f+=this._taskDefinition.version.major),u&&e&&r.push(i.createElement(b.TaskInputGroup,{key:f,controllerInstanceId:this.props.controllerInstanceId,groupDefinition:t,inputs:u,isSectionAutoCollapsed:o,inputActionDelegates:this.getInputActionDelegates(),controllerStore:this._store,controllerActions:this._actionCreator,requiredEditCapability:nt.ProcessManagementCapabilities.EditTaskInputs})),r},t.prototype._segregateTaskInputs=function(){var i=this,t=[],n={};return t=t.concat(this._taskDefinition.inputs,this._getControlOptionsInputs()),t.forEach(function(t){var r=!t.groupName?i._unparentedInputsGroupName:t.groupName;n[r]||(n[r]=[]);n[r].push(t)}),n},t.prototype._getControlOptionsInputs=function(){var n=[],t=this._store.isMetaTask(),i=this._store.getTaskContext(),p={defaultValue:this.props.taskInstance.enabled.toString(),groupName:this._controlOptionsGroupName,helpMarkDown:t?tt.MetataskControlOptionsTooltipText:st.empty,label:tt.Task_TaskEnabledText,name:s.TaskControlOptionsConstants.ControlOptionsInputName_Enabled,options:{},properties:{},required:!1,type:"boolean",visibleRule:st.empty},w={defaultValue:this.props.taskInstance.continueOnError.toString(),groupName:this._controlOptionsGroupName,helpMarkDown:t?tt.MetataskControlOptionsTooltipText:st.empty,label:tt.ContinueOnErrorText,name:s.TaskControlOptionsConstants.ControlOptionsInputName_ContinueOnError,options:{},properties:{},required:!1,type:"boolean",visibleRule:t.toString()},b={defaultValue:this.props.taskInstance.alwaysRun.toString(),groupName:this._controlOptionsGroupName,helpMarkDown:t?tt.MetataskControlOptionsTooltipText:st.empty,label:tt.AlwaysRunText,name:s.TaskControlOptionsConstants.ControlOptionsInputName_AlwaysRun,options:{},properties:{},required:!1,type:"boolean",visibleRule:t.toString()},h=this.props.taskInstance.timeoutInMinutes?this.props.taskInstance.timeoutInMinutes.toString():st.empty,r,u,l,v,f,y;return this.props.taskInstance.overrideInputs&&this.props.taskInstance.overrideInputs.hasOwnProperty(o.TaskControlOptionsOverridInputConstants.TimeoutInMinutes)&&(h=this.props.taskInstance.overrideInputs[o.TaskControlOptionsOverridInputConstants.TimeoutInMinutes]),r={isNonNegativeNumber:c.Boolean.trueString},e.AppContext.instance().isCapabilitySupported(e.AppCapability.VariablesForTasktimeout)&&(r={isVariableOrNonNegativeNumber:c.Boolean.trueString}),u={defaultValue:h,groupName:this._controlOptionsGroupName,helpMarkDown:tt.TaskTimeoutTooltip,label:tt.TimeoutInMinutes,name:s.TaskControlOptionsConstants.ControlOptionsInputName_TimeOut,options:{},properties:r,required:!0,type:"string",visibleRule:t.toString()},n.push(p),t||(i.donotShowContinueOnError||n.push(w),l=a.DtcUtils.canTaskRunOnServer(this._taskDefinition.runsOn),v=!l,v?(i.donotShowTimeout||n.push(u),f=a.DtcUtils.getRunThisTaskInputDefinition(),f.defaultValue=this.props.taskInstance.condition,y=a.DtcUtils.getCustomConditionInputDefinition(),n.push(f),n.push(y)):(i.donotShowAlwaysRun||n.push(b),i.donotShowTimeout||n.push(u))),n},t.prototype._getProcessParameterNameToInputMap=function(n){var r=this,i={},t=this._procParamStore.getProcessParameters().inputs;return t&&t.length>0&&t.forEach(function(t){var u=st.equals(t.type,n.type,!0),f=a.DtcUtils.getTaskInputType(n);switch(f){case o.INPUT_TYPE_RADIO:case o.INPUT_TYPE_PICK_LIST:u=u&&r._compareInputOptions(t.options,n.options)}u&&(i[st.format(o.ProcessParameterConstants.NewProcessParameterVariableNameFormat,t.name)]=t);et.logInfo(st.format("[TaskDetailsView]: DefnTofilterBy: {0}, Defn: {1}, shouldFilter: {2}",n.name,t.name,u))}),i},t.prototype._compareInputOptions=function(n,t){if(!n&&!t)return!0;if(n&&t&&Object.keys(n).length===Object.keys(t).length){for(var i in n)if(!t.hasOwnProperty(i)||!st.equals(n[i],t[i],!0))return!1;return!0}return!1},t.prototype._setProcParamDialogContainer=function(){this._createAndLinkDialogContainer||(this._createAndLinkDialogContainer=document.createElement("div"),this._elementInstance.appendChild(this._createAndLinkDialogContainer))},t.prototype._renderCreateLinkUnlinkProcessParametersView=function(n){n===void 0&&(n=null);this._setProcParamDialogContainer();r.render(i.createElement(g.ProcessParametersLinkSettingsView,{controllerInstanceId:this.props.controllerInstanceId,processInstanceId:this.props.processInstanceId,inputsList:this._taskDefinition.inputs,selectedInputDefinition:n,inputNameToValueMapping:this._store.getTaskInstance().inputs,inputNameToProcParam:this._store.getInputNameToProcessParameterNameMap(),dataSourceBindings:this._store.getDataSourceBindings(),sourceDefinitions:this._store.getSourceDefinitions(),onDialogClose:this._onDialogClose,linkToProcessParameter:this._linkToProcesParameter,unlinkFromProcessParameter:this._unLinkfromProcesParameter}),this._createAndLinkDialogContainer)},t.prototype._getState=function(){return{taskInputPerGroup:this._segregateTaskInputs()}},t}(h.Component);t.ControllerView=ht});

define("DistributedTaskControls/Components/StateIndicator",["require","exports","react","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/StateIndicator"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Error=0]="Error";n[n.Warning=1]="Warning"}(u=t.StateIndicatorType||(t.StateIndicatorType={}));f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this._getStateIndicatorClass(this.props.type);return i.createElement("div",{className:r.css(n.className,"ms-font-s","dt-state-indicator","small-font",this.props.className),"aria-live":"polite","aria-relevant":"text"},i.createElement("i",{className:r.css("bowtie-icon",n.iconClassName)}),i.createElement("span",{className:"text"},this.props.text))},t.prototype._getStateIndicatorClass=function(n){var t={};switch(n){case u.Error:t.className="error-state";t.iconClassName="bowtie-status-error-outline";break;case u.Warning:t.className="warning";t.iconClassName="bowtie-status-warning"}return t},t}(i.Component);t.StateIndicator=f});

define("DistributedTaskControls/Actions/TaskGroupDialogActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._showTaskGroupSaveDialog=new u.Action;this._hideTaskGroupSaveDialog=new u.Action;this._createMetaTaskGroup=new u.Action;this._dismissErrorMessage=new u.Action},t.getKey=function(){return r.ActionsKeys.TaskGroupDialogActions},Object.defineProperty(t.prototype,"ShowTaskGroupSaveDialog",{get:function(){return this._showTaskGroupSaveDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"HideTaskGroupSaveDialog",{get:function(){return this._hideTaskGroupSaveDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CreateMetaTaskGroup",{get:function(){return this._createMetaTaskGroup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DismissErrorMessage",{get:function(){return this._dismissErrorMessage},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.TaskGroupDialogActions=f});

define("DistributedTaskControls/Actions/TaskGroupPropertiesActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._initializeTaskGroupProperties=new i.Action;this._changeTaskGroupName=new i.Action;this._changeTaskGroupDescription=new i.Action;this._changeTaskGroupCategory=new i.Action},t.getKey=function(){return r.ActionsKeys.TaskGroupPropertiesActions},Object.defineProperty(t.prototype,"InitializeTaskGroupProperties",{get:function(){return this._initializeTaskGroupProperties},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupName",{get:function(){return this._changeTaskGroupName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupDescription",{get:function(){return this._changeTaskGroupDescription},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupCategory",{get:function(){return this._changeTaskGroupCategory},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.TaskGroupPropertiesActions=u});

define("DistributedTaskControls/Actions/TaskGroupPropertiesActionCreator",["require","exports","DistributedTaskControls/Actions/TaskGroupPropertiesActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.TaskGroupPropertiesActionCreator},t.prototype.initialize=function(n){this._actions=f.ActionsHubManager.GetActionsHub(i.TaskGroupPropertiesActions,n)},t.prototype.initializeTaskGroupProperties=function(n,t,i){this._actions.InitializeTaskGroupProperties.invoke({name:n,description:t,category:i})},t.prototype.changeTaskGroupName=function(n){this._actions.ChangeTaskGroupName.invoke(n)},t.prototype.changeTaskGroupDescription=function(n){this._actions.ChangeTaskGroupDescription.invoke(n)},t.prototype.changeTaskGroupCategory=function(n){this._actions.ChangeTaskGroupCategory.invoke(n)},t}(r.ActionCreatorBase);t.TaskGroupPropertiesActionCreator=e});

define("DistributedTaskControls/Actions/TaskGroupDialogActionsCreator",["require","exports","DistributedTaskControls/Actions/TaskGroupDialogActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Actions/TaskGroupPropertiesActionCreator","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.TaskGroupDialogActionsCreator},t.prototype.initialize=function(){this._actions=f.ActionsHubManager.GetActionsHub(i.TaskGroupDialogActions);this._taskGroupPropertiesActionCreator=e.ActionCreatorManager.GetActionCreator(o.TaskGroupPropertiesActionCreator)},t.prototype.showTaskGroupSaveDialog=function(){this._taskGroupPropertiesActionCreator.initializeTaskGroupProperties(s.empty,s.empty,s.empty);this._actions.ShowTaskGroupSaveDialog.invoke(null)},t.prototype.hideTaskGroupSaveDialog=function(){this._actions.HideTaskGroupSaveDialog.invoke(null)},t.prototype.createMetaTaskGroup=function(n){this._actions.CreateMetaTaskGroup.invoke({onMetaTaskCreated:n})},t.prototype.dismissErrorMessage=function(){this._actions.DismissErrorMessage.invoke(null)},t}(r.ActionCreatorBase);t.TaskGroupDialogActionsCreator=h});

define("DistributedTaskControls/Variables/VariablesListBaseStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.StoreBase);t.BaseStore=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleChildrenStoreChange=function(){t.emitChanged()},t}return __extends(t,n),t.prototype.initialize=function(){this.stores=[]},t.getKey=function(){return r.StoreKeys.VariablesListStore},t.prototype.isDirty=function(){var n=!1;return this.stores.forEach(function(t){if(t.isDirty()){n=!0;return}}),n},t.prototype.isValid=function(){var n=!0;return this.stores.forEach(function(t){if(!t.isValid()){n=!1;return}}),n},t.prototype.initializeChildStoreListeners=function(){var n=this;this.stores.forEach(function(t){t.addChangedListener(n._handleChildrenStoreChange)})},t.prototype.resolveVariable=function(){},t.prototype.disposeInternal=function(){var n=this;this.stores.forEach(function(t){t.removeChangedListener(n._handleChildrenStoreChange)});this.stores=[]},t}(u);t.VariablesListBaseStore=f});

define("DistributedTaskControls/Actions/TaskGroupParametersActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._setMetaTaskInput=new i.Action;this._changeTaskGroupMetaInputValue=new i.Action;this._changeTaskGroupMetaInputHelpMarkDown=new i.Action;this._changeTaskGroupEndpointInputOptions=new i.Action},t.getKey=function(){return r.ActionsKeys.TaskGroupParametersActions},Object.defineProperty(t.prototype,"SetMetaTaskInput",{get:function(){return this._setMetaTaskInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupMetaInputValue",{get:function(){return this._changeTaskGroupMetaInputValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupMetaInputHelpMarkDown",{get:function(){return this._changeTaskGroupMetaInputHelpMarkDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChangeTaskGroupEndpointInputOptions",{get:function(){return this._changeTaskGroupEndpointInputOptions},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.TaskGroupParametersActions=u});

define("DistributedTaskControls/Actions/TaskGroupParametersActionCreator",["require","exports","DistributedTaskControls/Actions/TaskGroupParametersActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/ActionsHubManager"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return u.ActionCreatorKeys.TaskGroupParametersActionCreator},t.prototype.initialize=function(n){this._taskGroupParametersActions=f.ActionsHubManager.GetActionsHub(i.TaskGroupParametersActions,n)},t.prototype.setMetaTaskInput=function(n,t,i,r,u){var f={metaTaskInputs:n,tasks:t,dataSourceBindings:i,groups:r,runsOns:u};this._taskGroupParametersActions.SetMetaTaskInput.invoke(f)},t.prototype.changeTaskGroupMetaInputValue=function(n,t){this._taskGroupParametersActions.ChangeTaskGroupMetaInputValue.invoke({value:n,index:t})},t.prototype.changeTaskGroupMetaInputHelpMarkDown=function(n,t){this._taskGroupParametersActions.ChangeTaskGroupMetaInputHelpMarkDown.invoke({value:n,index:t})},t.prototype.changeTaskGroupEndpointInputOptions=function(n,t){this._taskGroupParametersActions.ChangeTaskGroupEndpointInputOptions.invoke({value:n,index:t})},t}(r.ActionCreatorBase);t.TaskGroupParametersActionCreator=e});

define("DistributedTaskControls/Components/Task/MetaTaskManager",["require","exports","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTaskControls/Actions/TaskGroupDialogActionsCreator","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Factory","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Variables/VariablesListBaseStore","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Actions/TaskGroupParametersActionCreator","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/Array","VSS/Utils/String","VSS/Context","VSS/Controls/Dialogs","VSS/LoaderPlugins/Css!DistributedTasksLibrary"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});var nt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.onCreateMetaTaskOkCallBack=function(n,i){var r=o.ActionCreatorManager.GetActionCreator(u.TaskListActionsCreator,t._taskListStoreInstanceId);return r.createMetaTask(n,t._taskItemList.map(function(n){return n.getKey()}),t._workflow,i)},t}return __extends(t,n),t.instance=function(){return n.getInstance.call(this,t)},t.isNewTaskGroupHubEnabled=function(){return!l.DtcUtils.isFeatureFlagEnabled(f.FeatureFlag_EnableOldTaskGroupHub)},t.prototype.manageMetaTask=function(n){var r=k.empty,u=t.isNewTaskGroupHubEnabled();r=u?k.format("{0}/_taskgroup/{1}",i.PresentationUtils.getTeamUrl(),n):l.DtcUtils.getUrlForExtension(f.MetaTaskHubContributionId,"properties",{taskGroupId:n});y.UrlUtilities.openInNewWindow(r,!0)},t.prototype.createMetaTask=function(n,t,i){var p=this,o=[],d=[],s=[],h=[],l=[],r,u,f,a,y;if(this._taskListStoreInstanceId=i,this._workflow=t,this._taskItemList=n,this._variablesListStore=c.StoreManager.GetStore(v.VariablesListBaseStore),f=this._getTaskStoreList(this._taskItemList),a=f.some(function(n){return!n.isValidForCreatingTaskGroup()}),a===!0){y={title:w.ErrorText,buttons:[{id:"ok-button",text:w.OK}]};e.Telemetry.instance().publishEvent(e.Feature.TaskGroupCreationBlockedDueToProcessParam);g.showMessageDialog(w.TaskGroupCreationDeniedBecauseOfProcessParams,y);return}if(b.first(f,function(n){var t=n.getTaskInstance(),i=n.getTaskDefinition(),f;return(r=r?b.intersect(r,i.runsOn,k.localeIgnoreCaseComparer):i.runsOn,r.length<1)?(u=i,!0):(f={displayName:t.displayName,isExpanded:!0,name:t.displayName,tags:[],visibleRule:k.empty},p._extractTaskGroupInputs(n,s,h,d),o.push(t),l.push(f),!1)}),r.length<1&&!!u){alert(k.format(w.Task_UnableToCreateTaskGroupMessage,u.name,u.runsOn.join()));return}this._showCreateMetaTaskDialog(s,o,h,l,r)},t.prototype.extractVariablesFromInput=function(n,t,i,r){var u=[];return(!i||r.isGroupOrInputVisible(i.visibleRule,n))&&(u=this._extractNonSystemVariables(n,t,i)),u},t.prototype.getTaskGroupInputsAndDataSourceBindings=function(n){var r=this,u=[],t=[],i=[],f=this._getTaskStoreList(n);return f.forEach(function(n){r._extractTaskGroupInputs(n,t,i,u)}),t=t.sort(function(n,t){return k.localeIgnoreCaseComparer(n.name,t.name)}),{taskGroupInputs:t,dataSourceBindings:i}},t.prototype.updateTaskGroupInputValues=function(n,t){var i=n.map(function(n){return n});return t.forEach(function(n){var t=b.first(i,function(t){return t.name===n.name});!t||t.type===n.type&&(t.defaultValue=n.defaultValue,t.helpMarkDown=n.helpMarkDown,t.options=n.options)}),i=i.sort(function(n,t){return k.localeIgnoreCaseComparer(n.name,t.name)})},t.prototype._extractNonSystemVariables=function(n,t,r){var u=this;return i.VariableExtractor.extractVariables(n,t,r,function(n){return!u._isSystemVariable(n)})},t.prototype._getTaskStoreList=function(n){return n.map(function(n){return c.StoreManager.GetStore(a.TaskStore,n.getKey())})},t.prototype._extractTaskGroupInputs=function(n,t,r,u){var s=this,f=n.getTaskInstance(),o=n.getTaskDefinition(),e,h,c,a;if(u=u||[],e=[],t=t||[],r=r||[],o.dataSourceBindings&&(e=i.DataSourceBindingUtils.clone(o.dataSourceBindings)),f.inputs){h=function(h){var y;if(f.inputs.hasOwnProperty(h)){f.inputs[h]=l.DtcUtils.resolveTaskInputValueByProcessParameters(f.inputs[h],n.getProcessParameterToValueMap()).resolvedValue;var p=f.inputs[h],v=b.first(o.inputs,function(n){return n.name===h}),a=c.extractVariablesFromInput(h,p,v,n);a.forEach(function(r){b.contains(u,r.name)||(!s._variablesListStore||s._variablesListStore.resolveVariable(r,n.getTaskContext().processInstanceId),t.push(r),u.push(r.name));i.VariableExtractor.normalizeVariableTypeInfo(t,r)});a.length===1&&(y=b.first(t,function(n){return n.name===a[0].name}),i.DataSourceBindingUtils.updateVariables(e,v,y));r=i.DataSourceBindingUtils.merge(r,e)}};c=this;for(a in f.inputs)h(a)}},t.prototype._showCreateMetaTaskDialog=function(n,t,i,u,f){var e=o.ActionCreatorManager.GetActionCreator(r.TaskGroupDialogActionsCreator),s=o.ActionCreatorManager.GetActionCreator(p.TaskGroupParametersActionCreator);s.setMetaTaskInput(n,t,i,u,f);e.showTaskGroupSaveDialog()},t.prototype.generateMetaTaskDefinition=function(n,i,r,u,f,e,o,s){n=n.trim();return{tasks:u,owner:d.getDefaultWebContext().user.id,category:r,description:i,agentExecution:null,author:d.getDefaultWebContext().user.name,contentsUploaded:!0,contributionIdentifier:null,contributionVersion:null,dataSourceBindings:o,satisfies:[],demands:[],disabled:!1,deleted:!1,preview:!1,deprecated:!1,friendlyName:n,groups:s,helpMarkDown:k.empty,helpUrl:k.empty,hostType:null,iconUrl:d.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png",id:k.empty,inputs:f,instanceNameFormat:k.localeFormat(w.MetataskInstanceNameFormat,n,f&&f.length?"$("+f[0].name+")":""),minimumAgentVersion:t._minimumAgentVersion,name:n,packageLocation:k.empty,packageType:k.empty,releaseNotes:null,serverOwned:!1,sourceDefinitions:[],sourceLocation:k.empty,version:{isTest:!1,major:1,minor:0,patch:0},parentDefinitionId:null,visibility:[t._visibilityBuild,t._visibilityRelease],runsOn:e,definitionType:t._definitionType,preJobExecution:{key:k.empty,value:k.empty},execution:{key:k.empty,value:k.empty},postJobExecution:{key:k.empty,value:k.empty},revision:null,createdBy:null,createdOn:null,modifiedBy:null,modifiedOn:null,comment:null,outputVariables:null,showEnvironmentVariables:!1,ecosystem:null}},t.prototype._isSystemVariable=function(n){return b.contains(t._systemVariable,n.toLowerCase())?!0:!!s.AppContext.instance().IsSystemVariable&&s.AppContext.instance().IsSystemVariable(n)?!0:!1},t._systemVariable=["agent.builddirectory","agent.homedirectory","agent.id","agent.jobname","agent.jobstatus","agent.machinename","agent.name","agent.os","agent.osversion","agent.rootdirectory","agent.serveromdirectory","agent.tempdirectory","agent.toolsdirectory","agent.workfolder","agent.workingdirectory","build.artifactstagingdirectory","build.binariesdirectory","build.buildid","build.buildnumber","build.builduri","build.clean","build.definitionname","build.definitionversion","build.fetchtags","build.queuedby","build.queuedbyid","build.reason","build.repository.clean","build.repository.git.submodulecheckout","build.repository.localpath","build.repository.name","build.repository.provider","build.repository.tfvc.shelveset","build.repository.tfvc.workspace","build.repository.uri","build.requestedfor","build.requestedForEmail","build.requestedforid","build.sourcebranch","build.sourcebranchname","build.sourcesdirectory","build.sourcetfvcShelveset","build.sourceversion","build.stagingdirectory","build.syncSources","build.triggeredby.builddefinitionname","build.triggeredby.buildid","build.triggeredby.buildnumber","build.triggeredby.definitionid","build.triggeredby.projectid","common.testresultsdirectory","system.accesstoken","system.collectionid","system.culture","system.debug","system.defaultworkingdirectory","system.definitionid","system.enableaccesstoken","system.hosttype","system.jobid","system.jobparallelismtag","system.parallelexecutiontype","system.planid","system.pullrequest.isfork","system.pullrequest.mergedat","system.pullrequest.pullrequestid","system.pullrequest.pullrequestnumber","system.pullrequest.sourcebranch","system.pullrequest.sourcecommitid","system.pullrequest.sourcerepositoryuri","system.pullrequest.targetbranch","system.servertype","system.teamfoundationcollectionuri","system.teamfoundationserveruri","system.teamproject","system.teamprojectid"],t._visibilityBuild="Build",t._visibilityRelease="Release",t._definitionType="metaTask",t._minimumAgentVersion="*",t}(h.Singleton);t.MetaTaskManager=nt});

define("DistributedTaskControls/Components/Task/TaskItemContextMenuHelper",["require","exports","DistributedTaskControls/Actions/TaskGroupDialogActionsCreator","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/MetaTaskManager","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTasksCommon/TFS.Tasks.Types","VSS/Utils/Accessibility","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){Object.defineProperty(t,"__esModule",{value:!0});var k=function(){function n(){}return n.getContextMenuItems=function(t,s,w,b){var g=this,nt=e.StoreManager.GetStore(a.ProcessManagementStore,b),tt=!0,d=t.map(function(n){var t=e.StoreManager.GetStore(l.TaskStore,n.getKey());return tt=tt&&t.canShowTaskGroupOptions(),t}),rt=t.map(function(n){return u.ActionCreatorManager.GetActionCreator(c.TaskActionCreator,n.getKey())}),ut=u.ActionCreatorManager.GetActionCreator(r.TaskListActionsCreator,s),ft=u.ActionCreatorManager.GetActionCreator(i.TaskGroupDialogActionsCreator),k=[],it=!1;return nt.canEditTaskInputs()&&(k.push({key:f.KEY_ENABLE_TASKS,disabled:!this._getEnableState(f.KEY_ENABLE_TASKS,d),name:v.Tasks_MenuEnableText,iconProps:{iconName:"Completed"},onClick:function(){rt.forEach(function(n){n.updateTaskInputValue(f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled,"true")});var n=t.length===1?v.TaskEnabled:v.TasksEnabled;p.announce(n,!0);g._publishTelemetryForContextMenu(o.Feature.EnableTask,t.length)}}),k.push({key:f.KEY_DISABLE_TASKS,disabled:!this._getEnableState(f.KEY_DISABLE_TASKS,d),name:v.Tasks_MenuDisableText,iconProps:{iconName:"Blocked"},onClick:function(){rt.forEach(function(n){n.updateTaskInputValue(f.TaskControlOptionsConstants.ControlOptionsInputName_Enabled,"false")});var n=t.length===1?v.TaskDisabled:v.TasksDisabled;p.announce(n,!0);g._publishTelemetryForContextMenu(o.Feature.DisableTask,t.length)}}),it=!0),nt.canEditTasks()&&(k.push({key:f.KEY_REMOVE_TASKS,disabled:!this._getEnableState(f.KEY_REMOVE_TASKS,d),name:v.Tasks_MenuRemoveTasks,iconProps:{iconName:"Delete"},onClick:function(){if(t){t.forEach(function(n){n.removeTask()});var n=t.length===1?v.TaskRemoved:v.TasksRemoved;p.announce(n,!0);g._publishTelemetryForContextMenu(o.Feature.RemoveTask,t.length)}}}),k.push({key:f.KEY_CLONE_TASKS,disabled:!this._getEnableState(f.KEY_CLONE_TASKS,d),name:v.Tasks_MenuCloneTasks,iconProps:{iconName:"Copy"},onClick:function(){var n=t.map(function(n){return n.getKey()});ut.cloneTasks(n,g._getProcessParamPayload(b,t));g._publishTelemetryForContextMenu(o.Feature.CloneTask,t.length)}}),it=!0),nt.canEditTaskGroups()&&tt&&(it&&k.push({key:"divider_1",name:"-"}),k.push({key:f.KEY_CREATE_TASK_GROUP,disabled:!this._getEnableState(f.KEY_CREATE_TASK_GROUP,d),name:v.Tasks_MenuCreateMetaTask,iconProps:{iconName:"Add"},onClick:function(){var i=n._getTasksInOrderOfTaskList(t,w);h.MetaTaskManager.instance().createMetaTask(i,t[0].getViewContext(),s)}}),k.push({key:f.KEY_MANAGE_TASK_GROUP,disabled:!this._getEnableState(f.KEY_MANAGE_TASK_GROUP,d),name:v.Tasks_MenuManageMetaTask,iconProps:{iconName:"Settings"},onClick:function(){var n;d.forEach(function(t){if(t.getTaskDefinition().definitionType===y.DefinitionType.metaTask)return n=t,!1});h.MetaTaskManager.instance().manageMetaTask(n.getTaskDefinition().id);g._publishTelemetryForContextMenu(o.Feature.ManageTaskGroup)}})),k},n._getProcessParamPayload=function(n,t){var i=[];return t.map(function(n){var t=n.getProcessParameterNameToReferenceCount();t&&t.forEach(function(n){i.push({processParameterName:n.processParameterName,referenceCount:n.referenceCount})})}),{processParameterReferencePayload:{processParameterReferenceData:i,shouldReferencesIncrease:!0},processInstanceId:n}},n._publishTelemetryForContextMenu=function(n,t){var i={};t&&(i[o.Properties.SelectedTasksLength]=t);o.Telemetry.instance().publishEvent(n,i,o.Source.ContextMenu)},n._getEnableState=function(n,t){var i=!0,r,u;switch(n){case f.KEY_ENABLE_TASKS:i=t.some(function(n){return n.isDisabled()});break;case f.KEY_DISABLE_TASKS:i=t.some(function(n){return!n.isDisabled()});break;case f.KEY_CLONE_TASKS:i=this._areSelectedTasksInSameTaskList(t);break;case f.KEY_REMOVE_TASKS:i=!0;break;case f.KEY_CREATE_TASK_GROUP:r=this._areSelectedTasksInSameTaskList(t);u=!0;r&&t&&t.length>0&&(u=!t.some(function(n){return!n.isValid()||!n.isTaskDefinitionValid()}));i=u&&r;break;case f.KEY_MANAGE_TASK_GROUP:i=t.some(function(n){return n.getTaskDefinition().definitionType===y.DefinitionType.metaTask});break;default:w.logError("[TaskItemContextMenuHelper._getEnableState]: Invalid key - "+n)}return i},n._getTasksInOrderOfTaskList=function(n,t){var r=n.map(function(n){return n.getKey()}),u=s.DtcUtils.getTaskInOrder(r,t),i=[];return u.forEach(function(t){n.forEach(function(n){b.ignoreCaseComparer(n.getKey(),t)||i.push(n)})}),i},n._areSelectedTasksInSameTaskList=function(n){var t=!0,i;return n&&n.length>0&&(i=n[0].getTaskContext().taskListStoreInstanceId,t=!n.some(function(n){return n.getTaskContext().taskListStoreInstanceId!==i})),t},n}();t.TaskItemContextMenuHelper=k});

define("DistributedTaskControls/Components/Task/TaskItemOverviewContent",["require","exports","react","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/StateIndicator","DistributedTaskControls/Components/Task/TaskItemContextMenuHelper","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Components/TwoPanelOverviewComponent","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/ItemSelectionStore","OfficeFabric/Utilities","VSS/Diag","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});var d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(){var n=t._store.getTaskItemOverviewState();n.isSelected=t.state.isSelected;n.isDeleting&&t._elementInstance&&t._elementInstance.setAttribute("style","height:"+t._elementInstance.clientHeight+"px");t.setState(n);n.isDeleting&&t.props.onDeletingTask()},t._onProcessManagementStoreChange=function(){t.state.isSelected&&t._onChange()},t._onItemStoreChange=function(){t.setState({isSelected:t.props.item&&t._itemSelectionStore.isItemInSelectedGroup(t.props.item)})},t._onDragStart=function(n){f.DragDropManager.instance().onDragStart(n,{listId:t.props.parentTaskListInstanceId,key:t.props.item.getKey(),data:t.props.item})},t._onDragOver=function(n){f.DragDropManager.instance().onDragOver(n,t._itemAcceptsDropData)},t._onDragLeave=function(n){f.DragDropManager.instance().onDragLeave(n,t._itemAcceptsDropData)},t._onDrop=function(n){f.DragDropManager.instance().onDrop(n,{listId:t.props.parentTaskListInstanceId,key:t.props.item.getKey(),data:t.props.item},t._itemAcceptsDropData)},t._onDragEnd=function(n){var t=f.DragDropManager.instance().isCopyAction(),i=f.DragDropManager.instance().onDragEnd(n);i===f.DropStatus.Accepted&&(t?o.Telemetry.instance().publishEvent(o.Feature.CloneTask,{},o.Source.DragAndDrop):o.Telemetry.instance().publishEvent(o.Feature.MoveTask,{},o.Source.DragAndDrop))},t._itemAcceptsDropData=function(n){return!n||!t._processManagementStore.canEditTasks()?!1:k.equals(n.key,r.TASK_DEFINITION_DATA_KEY)?n.listId===t.props.parentTaskListInstanceId:n.data.getKey&&k.caseInsensitiveContains(n.data.getKey(),r.TASK_ITEM_PREFIX)?t.props.taskGroupType?s.DtcUtils.isTaskSupportedForTaskGroup(t.props.taskGroupType,n.data.getRunsOn()):!0:!1},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=e.StoreManager.GetStore(l.TaskStore,this.props.controllerInstanceId);this._itemSelectionStore=e.StoreManager.GetStore(p.Store,this.props.instanceId);this._processManagementStore=e.StoreManager.GetStore(v.ProcessManagementStore,this._store.getTaskContext().processInstanceId);this.setState(this._store.getTaskItemOverviewState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange);this._processManagementStore.addChangedListener(this._onProcessManagementStoreChange);this._itemSelectionStore.addChangedListener(this._onItemStoreChange);this.props.isTaskAdditionInProgress&&this._elementInstance&&this._elementInstance.scrollIntoView(!1)},t.prototype.componentWillUnmount=function(){if(this._store.removeChangedListener(this._onChange),this._processManagementStore.removeChangedListener(this._onProcessManagementStoreChange),this._itemSelectionStore.removeChangedListener(this._onItemStoreChange),this.state.isDeleting&&this.props.onRemoveTaskAnimationComplete)this.props.onRemoveTaskAnimationComplete(this.props.item.getKey())},t.prototype.componentDidUpdate=function(){this.state.isDeleting&&this._elementInstance&&this._elementInstance.setAttribute("style","height:0px")},t.prototype.render=function(){var n=this,t;return b.logVerbose("[TaskItemOverview.render]: Method called."),t={ariaProps:this.props.ariaProps,title:this.state.name,view:this._getView(),item:this.props.item,instanceId:this.props.instanceId,iconClassName:"dtc-task-icon",src:this.props.iconUrl,isDraggable:this._processManagementStore.canEditTasks(),canParticipateInMultiSelect:this._processManagementStore.canEditTasks()||this._processManagementStore.canEditTaskInputs(),taskItemKeys:this.props.taskItemKeys,getContextMenuItems:function(){var t=n._itemSelectionStore.getState().selectedItems.filter(function(n){return k.caseInsensitiveContains(n.data.getKey(),r.TASK_ITEM_PREFIX)}).map(function(n){return n.data});return c.TaskItemContextMenuHelper.getContextMenuItems(t,n.props.parentTaskListInstanceId,n.props.taskItemKeys,n.props.processInstanceId)}},i.createElement("div",{className:w.css("task-item-overview",{"is-selected":this.state.isSelected},{"is-disabled ms-bgColor-neutralLighter":this.state.isDisabled},{"location-line-bottom":this.props.showLocationLine}),draggable:this._processManagementStore.canEditTasks(),onDragStart:this._onDragStart,onDragEnter:this._onDragOver,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop,onDragEnd:this._onDragEnd,ref:function(t){return n._elementInstance=t},"aria-disabled":this.state.isDisabled},i.createElement(a.TwoPanelOverviewComponent,__assign({},t)))},t.prototype._getView=function(){return b.logVerbose("[TaskItemOverview._getView]: Method called."),this._getDescription()},t.prototype._getDescription=function(){var n,t;return b.logVerbose("[TaskItemOverview._getDescriptionText]: Method called."),n=null,this.state.isDeprecated?n=i.createElement("span",{className:"task-deprecated-badge"},y.DeprecatedText):this.state.isPreview?n=i.createElement("span",{className:"task-preview-badge"},y.PreviewText):this.state.isTest&&(n=i.createElement("span",{className:"task-test-badge"},y.DraftText)),this.state.isDefinitionValid?this.state.isValid?(t=this.props.description,this.state.isDisabled&&(t=k.format("{0}: {1}",y.DisabledText,t)),i.createElement("div",{className:"task-description-text"},!this.state.isOnLatestMajorVersion&&i.createElement("i",{className:"bowtie-icon bowtie-alert task-version-upsell",title:y.Task_VersionSelectorHelp}),n,t)):i.createElement(h.StateIndicator,{type:h.StateIndicatorType.Error,text:y.SettingsRequiredMessage}):i.createElement(h.StateIndicator,{type:h.StateIndicatorType.Error,text:y.TaskDeletedMessage})},t}(u.Component);t.TaskItemOverviewContent=d});

define("DistributedTaskControls/Components/Task/TaskItemOverview",["require","exports","react","react-transition-group","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Task/TaskItemOverviewContent","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskItemOverview"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=500,o=750,s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleDeleteTask=function(){t.setState({isDeleting:!0})},t}return __extends(t,n),t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.render=function(){var n=!!this.props.isTaskAdditionInProgress;return i.createElement(r.CSSTransitionGroup,{component:"div",className:"task-item-overview-animation-container",transitionName:"task-add-delete-animation",transitionEnter:n,transitionEnterTimeout:e,transitionLeave:!0,transitionLeaveTimeout:o},this.state.isMounted&&!this.state.isDeleting&&i.createElement(f.TaskItemOverviewContent,__assign({key:this.props.item.getKey()},this.props,{onDeletingTask:this._handleDeleteTask})))},t}(u.Component);t.TaskItemOverview=s});

define("DistributedTaskControls/Components/Task/TaskItem",["require","exports","react","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/Components/Task/TaskDetailsView","DistributedTaskControls/Components/Task/TaskItemOverview","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Sources/TaskDefinitionSource","DistributedTasksCommon/TFS.Tasks.Types","VSS/Diag"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function n(t,i){if(!n._intantiatorLock)throw new Error("Error: Direct instantiation of TaskItem object is not allowed. Please use TaskItem.createTaskItem() method.");this._initialize(t,i)}return n.prototype.getOverview=function(n){y.logVerbose("[TaskItem.getOverview]: Method called");var r=this._store.getTaskDefinition(),t=this._store.getTaskContext(),u={key:this.getKey(),controllerInstanceId:this._uniqueTaskInstanceId,instanceId:n.instanceId,iconUrl:r.iconUrl,description:r.friendlyName,item:this,taskItemKeys:n.taskListKeys,showLocationLine:t.isActiveDelegate(this._uniqueTaskInstanceId),parentTaskListInstanceId:t.taskListStoreInstanceId,processInstanceId:t.processInstanceId,taskGroupType:n.taskGroupType,isTaskAdditionInProgress:n.isTaskAdditionInProgress,onRemoveTaskAnimationComplete:n.onRemoveTaskAnimationComplete,ariaProps:n.ariaProps};return this._overView=n.onRenderOverview?n.onRenderOverview(u):i.createElement(c.TaskItemOverview,u),this._overView},n.prototype.getDetails=function(){y.logVerbose("[TaskItem.getDetails]: Method called");var r=this._store.getTaskDefinition(),t=this._store.getTaskInstance(),n=this._store.getTaskContext();return this._details||(this._details=i.createElement(h.ControllerView,{key:this.getKey(),processInstanceId:n.processInstanceId,controllerInstanceId:this._uniqueTaskInstanceId,taskInstance:t,processParametersNotSupported:n.processParametersNotSupported})),this._details},n.prototype.getKey=function(){return y.logVerbose("[TaskItem.getKey]: Method called"),this._uniqueTaskInstanceId},n.prototype.isDirty=function(){return y.logVerbose("[TaskItem.isDirty]: Method called"),this._store.isDirty()},n.prototype.isValid=function(){return y.logVerbose("[TaskItem.isValid]: Method called"),this._store.isValid()},n.prototype.getTask=function(){return this._store.getTaskPayload()},n.prototype.getClonedTask=function(){return this._store.getClonedTaskInstance()},n.prototype.updateTask=function(n){this._store.updateTask(n)},n.prototype.getReadOnlyDemands=function(){if(this._taskDefinition.definitionType===v.DefinitionType.metaTask){var n=a.TaskDefinitionSource.instance().getTaskDefinitionDemandsFromTaskId(this._taskDefinition.id);return n!=null&&n.length>0?n:this._taskDefinition.demands}return this._taskDefinition.demands},n.prototype.getSatisfies=function(){return this._taskDefinition.satisfies||[]},n.prototype.getRunsOn=function(){return this._taskDefinition.runsOn},n.prototype.setTaskContext=function(n){var t=this;this._store.removeChangedListener(function(){t._store.getTaskContext().onChangeDelegate()});this._store.setTaskContext(n);this._store.addChangedListener(function(){n.onChangeDelegate()})},n.prototype.removeTask=function(){var n=this._store.getTaskContext();if(n&&n.onRemoveDelegate)n.onRemoveDelegate(this._uniqueTaskInstanceId)},n.prototype.getViewContext=function(){return r.AppContext.instance().isCapabilitySupported(r.AppCapability.Deployment)?f.Workflow.Release:f.Workflow.Build},n.prototype.getProcessParameterNameToReferenceCount=function(){return this._store.getProcessParameterNameToReferenceCount()},n.prototype.dispose=function(){y.logVerbose("[TaskItem.dispose]: Method called");e.StoreManager.DeleteStore(l.TaskStore,this._uniqueTaskInstanceId);u.ActionCreatorManager.DeleteActionCreator(s.TaskActionCreator,this._uniqueTaskInstanceId)},n.prototype.getTaskContext=function(){return this._store.getTaskContext()},n.createTaskItem=function(t,i){n._intantiatorLock=!0;var r=new n(i,t);return n._intantiatorLock=!1,r._store.addChangedListener(function(){i.onChangeDelegate()}),r},n.prototype.getStore=function(){return this._store},n.prototype._initialize=function(n,t){this._uniqueTaskInstanceId=f.TASK_ITEM_PREFIX+o.DtcUtils.getUniqueInstanceId();this._actionCreator=u.ActionCreatorManager.GetActionCreator(s.TaskActionCreator,this._uniqueTaskInstanceId);var i=a.TaskDefinitionSource.instance().getTaskVersionInfoList(t.task.id);this._taskDefinition=a.TaskDefinitionSource.instance().getTaskDefinition(t.task.id,t.task.versionSpec||"*")||a.TaskDefinitionSource.instance().getEmptyTaskDefinition(t.displayName,t.task.definitionType,t);this._store=e.StoreManager.CreateStore(l.TaskStore,this._uniqueTaskInstanceId,{taskInstance:t,taskDefinition:this._taskDefinition,taskVersionInfoList:i,taskContext:n})},n}();t.TaskItem=p});

define("DistributedTaskControls/Stores/TaskListStore",["require","exports","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Actions/TaskListActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/AggregatorStoreBase","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/AddTaskItem","DistributedTaskControls/Components/Task/TaskItem","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.taskCounter=0,i.isActive=function(n){return i._addTaskLocationItem.getKey()===n&&i._showAddTaskLocation},i._handleAddTask=function(n){i._additionInProgressTaskId=i._addTask(n.task);i.emitChanged()},i._handleRemoveTask=function(n){var t=o.DtcUtils.removeItemFromList(i._currentState.taskItemList,n.taskItemId);i._currentState.taskItemList=t.items;i._itemToBeSelected=n.disposeTaskItem?t.nextItem:null;i._addTaskLocationItem=i._currentState.taskItemList[i._currentState.taskItemList.length-1];i.emitChanged();t.removedItem&&n.disposeTaskItem&&t.removedItem.dispose()},i._handleUpdateTasks=function(n){if(n){var t=n.tasks||[],r,u=[];n.forceUpdate||i._currentState.taskItemList.length===0&&t.length>0?(i.taskCounter=t.length,r=i._currentState.taskItemList,u=t.map(function(n){return i._createTaskItem(n)}),i._updateStates(u),i.emitChanged()):i._currentState.taskItemList.length===t.length&&(i._currentState.taskItemList.forEach(function(n,r){var u=t[r];i._populateConditionIfNeeded(u);n.updateTask(u)}),i._updateState(i._originalState,i._currentState.taskItemList));r&&r.forEach(function(n){n.dispose()})}},i._handleSelectItem=function(n){if(n.data instanceof h.TaskItem)i._addTaskLocationItem=n.data,i._showAddTaskLocation=!1;else if(n.data instanceof s.AddTaskItem){var t=n.data;i._showAddTaskLocation=t.getAddTaskItemDetails().taskListStoreInstanceId===i.getInstanceId()?!0:!1}else i._addTaskLocationItem=i._currentState.taskItemList[i._currentState.taskItemList.length-1],i._showAddTaskLocation=!1;i._addTaskAfter=!0;i.emit(f.TaskListStoreChangedEvents.TasksSelectionUpdatedEvent,i)},i._handleClearAddTaskLocation=function(){i._showAddTaskLocation&&(i._showAddTaskLocation=!1,i.emitChanged())},i._handleShiftTask=function(n){n&&(i._shiftTask(n.itemKey,n.shiftBy),i.emitChanged())},i._handleCloneTask=function(n){var t=i._getTaskListFromTaskIdSet(n),r=i.getState().taskItemList.indexOf(t[t.length-1])+1;t.forEach(function(n){var t=n.getClonedTask(),u=i._createTaskItem(t);i.getState().taskItemList.splice(r++,0,u)});i.emitChanged()},i._handleMetaTaskCreated=function(n){var r=i._getTaskListFromTaskIdSet(n.taskItemIdList),t=i.getState().taskItemList;r.forEach(function(r,u){var f=t.indexOf(r),e;if(f===-1)return!0;u===0?(e=n.metaTask,i._itemToBeSelected=i._createTaskItem(e),t.splice(f,1,i._itemToBeSelected)):t.splice(f,1)});i.emitChanged();r.forEach(function(n){n.dispose()})},i._handleInsertTask=function(n){var r,t,e,u;n&&n.sourceItem&&n.sourceItem.data&&(r=!0,t=n.sourceItem.data,l.equals(n.sourceItem.key,f.TASK_DEFINITION_DATA_KEY)?(e=o.DtcUtils.getTaskFromTaskDefinition(n.sourceItem.data),n.sourceItem.data=i._createTaskItem(e),r=!1,i._addTaskLocationItem=n.sourceItem.data,i._showAddTaskLocation=!0):n.shouldInsertCopy?n.sourceItem.data=i._createTaskItem(t.getClonedTask()):t.getTaskContext().taskListStoreInstanceId===i.getInstanceId()||(t.setTaskContext(i._taskContext),n.sourceItem.data=t),u=o.DtcUtils.insertItemInList(n,i._currentState.taskItemList).map(function(n){return n}),u&&(i._currentState.taskItemList=u,r&&(i._itemToBeSelected=n.sourceItem.data),i.emitChanged()))},i._handleCompleteTaskAddition=function(){i._additionInProgressTaskId&&(i._additionInProgressTaskId=l.empty,i.emitChanged())},i._taskList=t.taskList,i._appContext=t.appContext,i._itemSelectionInstanceId=t.itemSelectionInstanceId,i._taskContextOptions=t.taskContextOptions?t.taskContextOptions:{},i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._initializeTaskContext();this._initializeStates();this._itemSelectorActions=u.ActionsHubManager.GetActionsHub(i.Actions,this._itemSelectionInstanceId);this._itemSelectorActions.selectItem.addListener(this._handleSelectItem);this._taskListActions=u.ActionsHubManager.GetActionsHub(r.TaskListActions,this.getInstanceId());this._taskListActions.addTask.addListener(this._handleAddTask);this._taskListActions.removeTask.addListener(this._handleRemoveTask);this._taskListActions.updateTasks.addListener(this._handleUpdateTasks);this._taskListActions.clearAddTaskLocation.addListener(this._handleClearAddTaskLocation);this._taskListActions.shiftTask.addListener(this._handleShiftTask);this._taskListActions.cloneTasks.addListener(this._handleCloneTask);this._taskListActions.metaTaskCreated.addListener(this._handleMetaTaskCreated);this._taskListActions.insertTask.addListener(this._handleInsertTask);this._taskListActions.completeTaskAddition.addListener(this._handleCompleteTaskAddition)},t.prototype.disposeInternal=function(){this._itemSelectorActions.selectItem.removeListener(this._handleSelectItem);this._taskListActions.addTask.removeListener(this._handleAddTask);this._taskListActions.removeTask.removeListener(this._handleRemoveTask);this._taskListActions.updateTasks.removeListener(this._handleUpdateTasks);this._taskListActions.clearAddTaskLocation.removeListener(this._handleClearAddTaskLocation);this._taskListActions.shiftTask.removeListener(this._handleShiftTask);this._taskListActions.cloneTasks.removeListener(this._handleCloneTask);this._taskListActions.metaTaskCreated.removeListener(this._handleMetaTaskCreated);this._taskListActions.insertTask.removeListener(this._handleInsertTask);this._taskListActions.completeTaskAddition.removeListener(this._handleCompleteTaskAddition)},t.prototype.isSelectionObsolete=function(){return!!this._itemToBeSelected},t.prototype.getNextItemToBeSelected=function(){var n=this._itemToBeSelected;return this._itemToBeSelected=null,n},t.getKey=function(){return f.StoreKeys.TaskListStore},t.prototype.getState=function(){return this._currentState},t.prototype.getTaskList=function(){return this._currentState.taskItemList.map(function(n){return n.getTask()})},t.prototype.isDirty=function(){var n,t,i,r;if(this._currentState.taskItemList.length!==this._originalState.taskItemList.length)return!0;for(n=0;n<this._currentState.taskItemList.length;n++)if(this._currentState.taskItemList[n].getKey()!==this._originalState.taskItemList[n].getKey())return!0;for(t=0,i=this._currentState.taskItemList;t<i.length;t++)if(r=i[t],r.isDirty())return!0;return!1},t.prototype.isValid=function(){var n,t,i;if(this._currentState.taskItemList.length===0)return!0;for(n=0,t=this._currentState.taskItemList;n<t.length;n++)if(i=t[n],!i.isValid())return!1;return!0},t.prototype.getTaskKeys=function(){if(!this._currentState.taskItemList)return[];return this._currentState.taskItemList.map(function(n){return n.getKey()})},t.prototype.getTaskItemList=function(){return this._currentState.taskItemList?this._currentState.taskItemList:[]},t.prototype.updateVisitor=function(){throw new Error("Use getTaskList method instead");},t.prototype.getReadOnlyDemands=function(){var r=this,n=[],t=[],i=[];return this._currentState.taskItemList.forEach(function(u){var e,f,o;r._isTaskEnabled(u.getTask())&&(e=u.getTask().task.id.toLowerCase(),n.indexOf(e)<0&&(f=u.getReadOnlyDemands(),f&&f.length>0&&f.forEach(function(n){c.contains(i,n.toLowerCase())||(t[n]=n)}),o=u.getSatisfies(),c.addRange(i,o.map(function(n){return n.toLowerCase()})),n.push(e)))}),Object.keys(t)},t.prototype.getProcessInstanceId=function(){return this._appContext?this._appContext.processInstanceId:null},t.prototype.isTaskAdditionInProgress=function(n){return this._additionInProgressTaskId===n},t.prototype.getAdditionInProgressTaskInstanceId=function(){return this._additionInProgressTaskId},t.prototype.getCurrentTaskContext=function(){return this._taskContext},t.prototype._isTaskEnabled=function(n){return n.enabled},t.prototype._initializeStates=function(){var t=this,n=[];this._taskList&&(n=this._taskList.map(function(n){return t._createTaskItem(n)}));this._currentState={};this._originalState={};this._updateStates(n)},t.prototype._addTask=function(n){var t=this._addTaskLocationItem?this._addTaskAfter?this._currentState.taskItemList.indexOf(this._addTaskLocationItem)+1:this._currentState.taskItemList.indexOf(this._addTaskLocationItem):this._currentState.taskItemList.length,i=this._createTaskItem(n);return this._currentState.taskItemList.splice(t,0,i),this._addTaskLocationItem=this._currentState.taskItemList[t],this._addTaskAfter=!0,this._showAddTaskLocation=!0,i.getKey()},t.prototype._createTaskItem=function(n){return this._populateConditionIfNeeded(n),h.TaskItem.createTaskItem(n,this._taskContext)},t.prototype._shiftTask=function(n,t){if(this._currentState&&this._currentState.taskItemList&&this._currentState.taskItemList.length>0){var r=-1,i=-1;this._currentState.taskItemList.forEach(function(t,i){if(t&&t.getKey()===n){r=i;return}});i=r+t;r!==-1&&i!==-1&&i<this._currentState.taskItemList.length&&(i=t<0?i:i+1,this._updateState(this._currentState,c.reorder(this._currentState.taskItemList,r,i,1)))}},t.prototype._updateStates=function(n){this._updateState(this._originalState,n);this._updateState(this._currentState,n);this._addTaskLocationItem=this._currentState.taskItemList[this._currentState.taskItemList.length-1];this._addTaskAfter=!0;this._showAddTaskLocation=!1},t.prototype._updateState=function(n,t){n.taskItemList=c.clone(t)},t.prototype._populateConditionIfNeeded=function(n){n.condition===undefined&&(n.condition=n.alwaysRun?f.TaskConditions.SucceededOrFailed:f.TaskConditions.Succeeded)},t.prototype._getTaskListFromTaskIdSet=function(n){var t=l.empty;return n.forEach(function(n){t+=n+" "}),this.getState().taskItemList.filter(function(n){return l.caseInsensitiveContains(t,n.getKey())})},t.prototype._initializeTaskContext=function(){var n=this;this._taskContext=__assign({},this._taskContextOptions,{onChangeDelegate:this.emitChanged.bind(this),onRemoveDelegate:function(t){!n.removeTaskCallDelegate||n.removeTaskCallDelegate(t)},processInstanceId:this._appContext.processInstanceId,taskListStoreInstanceId:this.getInstanceId(),isActiveDelegate:this.isActive,isFileSystemBrowsable:this._appContext.isFileSystemBrowsable,taskDelegates:this._appContext.taskDelegates,processParametersNotSupported:this._appContext.processParametersNotSupported})},t}(e.AggregatorDataStoreBase);t.TaskListStore=a});

define("DistributedTaskControls/Phase/Stores/PhaseStoreBase",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/AggregatorStoreBase","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/TaskListStore","VSS/Events/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(t,i,r,u,f,e,o){var s=__construct(this,n,[]);for(var h in s)s.hasOwnProperty(h)&&(this[h]=s[h]);return s._itemSelectionInstanceId=t,s._taskDelegates=i,s._processInstanceId=r,s._processParamNotSupported=u,s._isFileSystemBrowsable=f,s._phaseDefinition=e,s._taskContextOptions=o,s.onInputStateChanged=function(n,t){s._phaseInputsState||(s._phaseInputsState={});s._phaseInputsState[n]=t;s.emitChanged()},s.getInputValue=function(n){return s._currentState.phaseInputs&&s._currentState.phaseInputs[n]?s._currentState.phaseInputs[n]:null},s._handleMarkPhaseAsDeleting=function(){s._isDeleting||(s._isDeleting=!0,s.emitChanged())},s._handleUpdatePhaseName=function(n){s._currentState.name=n;s.emitChanged()},s._handleStartReorderPhaseList=function(){s._isReorderPhaseListInProgress=!0;s.emitChanged()},s._handleEndReorderPhaseList=function(){s._isReorderPhaseListInProgress=!1;s.emitChanged()},s._phaseDetailsStores=[],s._isReorderPhaseListInProgress=!1,s}return __extends(t,n),t.getKey=function(){return r.StoreKeys.PhaseStoreBase},t.prototype.getPhaseType=function(){return c.DeployPhaseTypes.DefaultPhase},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);var r=this._currentState.tasks;this._taskListStore=e.StoreManager.CreateStore(l.TaskListStore,this.getInstanceId(),{taskList:r,appContext:{isFileSystemBrowsable:this._isFileSystemBrowsable?this._isFileSystemBrowsable:function(){return!0},taskDelegates:this._taskDelegates,processParametersNotSupported:this._processParamNotSupported,processInstanceId:this._processInstanceId},taskContextOptions:this._taskContextOptions,itemSelectionInstanceId:this._itemSelectionInstanceId});this.addToStoreList(this._taskListStore);this._deployPhaseListActionsHub=i.ActionsHubManager.GetActionsHub(h.DeployPhaseListActionsHub,this._processInstanceId);this._deployPhaseListActionsHub.startDragPhase.addListener(this._handleStartReorderPhaseList);this._deployPhaseListActionsHub.endDragPhase.addListener(this._handleEndReorderPhaseList);this._deployPhaseActionsHub=i.ActionsHubManager.GetActionsHub(s.DeployPhaseActionsHub,t);this._deployPhaseActionsHub.updatePhaseName.addListener(this._handleUpdatePhaseName);this._deployPhaseActionsHub.markPhaseAsDeleting.addListener(this._handleMarkPhaseAsDeleting)},t.prototype.disposeInternal=function(){this._deployPhaseListActionsHub&&(this._deployPhaseListActionsHub.startDragPhase.removeListener(this._handleStartReorderPhaseList),this._deployPhaseListActionsHub.endDragPhase.removeListener(this._handleEndReorderPhaseList));this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updatePhaseName.removeListener(this._handleUpdatePhaseName),this._deployPhaseActionsHub.markPhaseAsDeleting.removeListener(this._handleMarkPhaseAsDeleting));this._deployPhaseActionsHub=null;this._phaseDetailsStores=[];n.prototype.disposeInternal.call(this)},t.prototype.getState=function(){return this._currentState},Object.defineProperty(t.prototype,"isReorderPhaseListInProgress",{get:function(){return this._isReorderPhaseListInProgress},enumerable:!0,configurable:!0}),t.prototype.isDirty=function(){var i=this,t=!1;return this._phaseInputsState&&Object.keys(this._phaseInputsState).forEach(function(n){if(i._phaseInputsState[n].isDirty){t=!0;return}}),t||this._currentState.name!==this._originalState.name||n.prototype.isDirty.call(this)},t.prototype.isValid=function(){var i=this,t=!0;return this._phaseInputsState&&Object.keys(this._phaseInputsState).forEach(function(n){if(i._phaseInputsState[n].isValid===!1){t=!1;return}}),t&&n.prototype.isValid.call(this)&&this._isPhaseValid()},t.prototype.getProcessParametersReferenceData=function(){var n=[],t;return n=this._getPhaseLevelProcessParametersReference(),t=this.getTaskItems().taskItemList?this.getTaskItems().taskItemList:[],t.forEach(function(t){var i=t.getProcessParameterNameToReferenceCount();i&&i.forEach(function(t){n.push({processParameterName:t.processParameterName,referenceCount:t.referenceCount})})}),n},t.prototype.getPhaseDefinition=function(){return this._phaseDefinition},t.prototype._getPhaseLevelProcessParametersReference=function(){var t=[],n=this.getOverrideInputs();return Object.keys(n).forEach(function(i){if(n[i]){var r=o.DtcUtils.getProcParamNameFromProcessParameter(n[i]);t.push({processParameterName:r,referenceCount:1})}}),t},t.prototype.arePhaseDetailsValid=function(){var n=!0;return this._phaseDetailsStores.forEach(function(t){if(!t.isValid()){n=!1;return}}),n&&this._isPhaseValid()},t.prototype._isPhaseValid=function(){return o.DtcUtils.isValidStringLength(this._currentState.name,c.DeployPhaseSectionConstants.NameMaxLength)},t.prototype.updateVisitor=function(n){var t=this;u.JQueryWrapper.extendDeep(n,this._currentState);n.phaseInputs&&Object.keys(n.phaseInputs).forEach(function(i){t._phaseInputsState&&!!t._phaseInputsState[i]&&(n.phaseInputs[i]=t._phaseInputsState[i].value)});n.tasks=[];n.tasks=this._taskListStore.getTaskList()},t.prototype.getTaskItems=function(){return this._taskListStore.getState()},t.prototype.getOverrideInputs=function(){return{}},t.prototype.getProcessInstanceId=function(){return this._processInstanceId},t.prototype.isDeleting=function(){return this._isDeleting},t.prototype.areDemandsNotMet=function(){return!1},t.prototype.getReadOnlyDemands=function(){return this._taskListStore?this._taskListStore.getReadOnlyDemands():[]},t.prototype.hideAdditionalOptions=function(){return!1},t.prototype.showPhaseDependencies=function(){return!0},t.prototype._initializeInputsState=function(){this._phaseInputsState={};a.getService().fire(this.getInstanceId())},t}(f.AggregatorDataStoreBase);t.PhaseStoreBase=v});

define("PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsHub",["require","exports","DistributedTaskControls/Common/Actions/Base"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return"GatesPhaseActionsHub"},t.prototype.initialize=function(){this._updateStabilizationTime=new i.Action;this._updateTimeout=new i.Action;this._updateSamplingInterval=new i.Action;this._updateMinimumSuccessDuration=new i.Action},Object.defineProperty(t.prototype,"updateStabilizationTime",{get:function(){return this._updateStabilizationTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateTimeout",{get:function(){return this._updateTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateSamplingInterval",{get:function(){return this._updateSamplingInterval},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateMinimumSuccessDuration",{get:function(){return this._updateMinimumSuccessDuration},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.GatesPhaseActionsHub=r});

define("PipelineWorkflow/Scripts/Shared/Environment/GatesPhaseUtils",["require","exports","DistributedTaskControls/Phase/Types","DistributedTaskControls/Common/Utilities","ReleaseManagement/Core/Constants","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(){}return n.getDefaultGatesDeploymentInput=function(){return{condition:i.PhaseConditionTypeKeys.Succeeded,timeout:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultJobTimeoutInMinutes,f.TimeUnits.Hours),stabilizationTime:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultStabilizationTimeInMinutes,f.TimeUnits.Minutes),samplingInterval:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultSamplingIntervalInMinutes,f.TimeUnits.Minutes),minimumSuccessDuration:r.DtcUtils.convertMinutesToDuration(u.GateConstants.DefaultMinimumSuccessDurationInMinutes,f.TimeUnits.Minutes)}},n}();t.GatesPhaseUtils=e});

define("PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseStore",["require","exports","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsHub","DistributedTaskControls/Common/Actions/ActionsHubManager","PipelineWorkflow/Scripts/Editor/Common/Types","DistributedTaskControls/Common/Utilities","ReleaseManagement/Core/Constants","PipelineWorkflow/Scripts/Shared/Environment/GatesPhaseUtils","PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition,{donotShowOutputVariables:!0,donotShowYAMLFeature:!0,donotShowTimeout:!0,donotShowContinueOnError:!0,donotShowAlwaysRun:!0,donotShowTaskGroupOptions:!0})||this;return i._updateStabilizationTime=function(n){i.getState().deploymentInput.stabilizationTime=n;i.emitChanged()},i._updateTimeout=function(n){i.getState().deploymentInput.timeout=n;i.emitChanged()},i._updateSamplingInterval=function(n){i.getState().deploymentInput.samplingInterval=n;i.emitChanged()},i._updateMinimumSuccessDuration=function(n){i.getState().deploymentInput.minimumSuccessDuration=n;i.emitChanged()},i._updatePhaseCondition=function(n){i.getState().deploymentInput?i.getState().deploymentInput.condition=n:(i._initializePhaseDeploymentInput(i.getState()),i.getState().deploymentInput.condition=n);i.emitChanged()},i._updatePhase=function(n){i._initializeStates(n)},i._initializeStates(t.phase),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionsHub=e.ActionsHubManager.GetActionsHub(f.GatesPhaseActionsHub,t);this._actionsHub.updateMinimumSuccessDuration.addListener(this._updateMinimumSuccessDuration);this._actionsHub.updateSamplingInterval.addListener(this._updateSamplingInterval);this._actionsHub.updateStabilizationTime.addListener(this._updateStabilizationTime);this._actionsHub.updateTimeout.addListener(this._updateTimeout);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._updatePhaseCondition);this._deployPhaseActionsHub.updatePhase.addListener(this._updatePhase)},t.prototype.disposeInternal=function(){this._actionsHub.updateMinimumSuccessDuration.removeListener(this._updateMinimumSuccessDuration);this._actionsHub.updateSamplingInterval.removeListener(this._updateSamplingInterval);this._actionsHub.updateStabilizationTime.removeListener(this._updateStabilizationTime);this._actionsHub.updateTimeout.removeListener(this._updateTimeout);this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._updatePhaseCondition);this._deployPhaseActionsHub.updatePhase.removeListener(this._updatePhase);n.prototype.disposeInternal.call(this)},t.getKey=function(){return"GatesPhaseStore_KEY"},t.prototype.getPhaseType=function(){return o.DeploymentGatesPhaseTypeString},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype.getOriginalState=function(){return this._originalState},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);var i=this.getState();t.phaseType=o.DeploymentGatesPhaseTypeString;t.deploymentInput=u.JQueryWrapper.extendDeep(i.deploymentInput,t.deploymentInput)},t.prototype.isDirty=function(){var t=this.getState(),i=this.getOriginalState(),r=!1;return r=t.deploymentInput.condition!==i.deploymentInput.condition||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.stabilizationTime,i.deploymentInput.stabilizationTime)!==0||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.samplingInterval,i.deploymentInput.samplingInterval)!==0||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.minimumSuccessDuration,i.deploymentInput.minimumSuccessDuration)!==0||s.DtcUtils.getDurationDiffInMinutes(t.deploymentInput.timeout,i.deploymentInput.timeout)!==0,r||n.prototype.isDirty.call(this)},t.prototype.arePhaseDetailsValid=function(){return n.prototype.arePhaseDetailsValid.call(this)&&this.isValid()},t.prototype.isValid=function(){var i=this.getState().deploymentInput;return n.prototype.isValid.call(this)&&t.isValidSamplingInterval(i.samplingInterval)&&t.isValidStabilizationTime(i.stabilizationTime)&&t.isValidTimeout(i.timeout)&&t.isValidMinimumSuccessDuration(i.minimumSuccessDuration)},t.isValidMinimumSuccessDuration=function(n){return s.DtcUtils.isDurationInMinutesRange(n,h.GateConstants.MinimumSuccessDurationMinAllowedValueInMinutes,h.GateConstants.MinimumSuccessDurationMaxAllowedValueInMinutes)},t.isValidTimeout=function(n){return s.DtcUtils.isDurationInMinutesRange(n,h.GateConstants.MinimumTimeoutInMinutes,h.GateConstants.MaximumTimeoutInMinutes)},t.isValidStabilizationTime=function(n){return s.DtcUtils.isDurationInMinutesRange(n,h.GateConstants.MinimumStabilizationTimeInMinutes,h.GateConstants.MaximumStabilizationTimeInMinutes)},t.isValidSamplingInterval=function(n){return s.DtcUtils.isDurationInMinutesRange(n,t.getGatesMinimumSamplingIntervalTimeout(),h.GateConstants.MaximumSamplingIntervalInMinutes)},t.getGatesMinimumSamplingIntervalTimeout=function(){return l.ReleaseEditorWebPageDataHelper.instance().getGatesMinimumSamplingIntervalInMinutes()},t.prototype._initializeStates=function(t){t.deploymentInput||this._initializePhaseDeploymentInput(t);this._originalState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},t.prototype._initializePhaseDeploymentInput=function(n){n.deploymentInput=c.GatesPhaseUtils.getDefaultGatesDeploymentInput()},t}(i.PhaseStoreBase);t.GatesPhaseStore=a});

define("DistributedTaskControls/Actions/AgentsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._createAgentsQueueSection=new i.Action;this._updateAgentsQueueSection=new i.Action;this._updateAgentQueue=new i.Action;this._updateAgentQueueWithSpecifications=new i.Action;this._refreshAgentQueue=new i.Action;this._manageAgent=new i.Action;this._initializeAgentQueues=new i.Action;this._updateAgentSpecifications=new i.Action;this._updateSelectedAgentSpecification=new i.Action;this._updateLoadingAgentSpecifications=new i.Action},t.getKey=function(){return u.ActionsKeys.AgentsActions},Object.defineProperty(t.prototype,"manageAgent",{get:function(){return this._manageAgent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"createAgentsQueueSection",{get:function(){return this._createAgentsQueueSection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentsQueueSection",{get:function(){return this._updateAgentsQueueSection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentQueue",{get:function(){return this._updateAgentQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentQueueWithSpecifications",{get:function(){return this._updateAgentQueueWithSpecifications},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshAgentQueue",{get:function(){return this._refreshAgentQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initializeAgentQueues",{get:function(){return this._initializeAgentQueues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateAgentSpecifications",{get:function(){return this._updateAgentSpecifications},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateSelectedAgentSpecification",{get:function(){return this._updateSelectedAgentSpecification},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateLoadingAgentSpecifications",{get:function(){return this._updateLoadingAgentSpecifications},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.AgentsActions=f});

define("DistributedTaskControls/Actions/MessageHandlerActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._addMessage=new i.Action;this._dismissMessage=new i.Action},t.getKey=function(){return u.ActionsKeys.MessageHandlerActions},Object.defineProperty(t.prototype,"addMessage",{get:function(){return this._addMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dismissMessage",{get:function(){return this._dismissMessage},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.MessageHandlerActions=f});

define("DistributedTaskControls/Actions/MessageHandlerActionsCreator",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Actions/MessageHandlerActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return i.ActionCreatorKeys.MessageHandlerActionsCreator},t.prototype.initialize=function(){this._actions=u.ActionsHubManager.GetActionsHub(f.MessageHandlerActions)},t.prototype.addMessage=function(n,t,i,r){this._actions.addMessage.invoke({parentKey:n,message:t,type:i,statusCode:r})},t.prototype.dismissMessage=function(n){this._actions.dismissMessage.invoke(n)},t}(r.ActionCreatorBase);t.MessageHandlerActionsCreator=e});

define("DistributedTaskControls/Actions/AgentsActionsCreator",["require","exports","DistributedTaskControls/Actions/AgentsActions","DistributedTaskControls/Actions/MessageHandlerActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Phase/PhaseCache","DistributedTaskControls/Sources/AgentsSource","OfficeFabric/MessageBar"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return o.ActionCreatorKeys.AgentsActionsCreator},t.prototype.initialize=function(n){this._actions=f.ActionsHubManager.GetActionsHub(i.AgentsActions,n)},t.prototype.updateAgentQueue=function(n){var t=this;this._actions.updateLoadingAgentSpecifications.invoke(!0);h.AgentsSource.instance().getTaskAgentQueue(n).then(function(i){return t._actions.updateAgentQueue.invoke(i?i.id:n),t.getAgentSpecifications(i)}).catch(function(n){t.onRejected(n)}).then(function(){return t._actions.updateLoadingAgentSpecifications.invoke(!1)})},t.prototype.updateAgentSpecifications=function(n){this.getAgentSpecifications(n)},t.prototype.updateAgentSpecId=function(n){this._actions.updateSelectedAgentSpecification.invoke(n)},t.prototype.refreshAgentQueue=function(){var n=this;h.AgentsSource.instance().getTaskAgentQueues(!0).then(function(t){n._actions.refreshAgentQueue.invoke(t);s.PhaseCache.instance().updatePermissibleQueues(t)}).catch(function(t){n.onRejected(t)})},t.prototype.updateAgentsQueueSection=function(n,t,i){var u=this,r={currentQueueId:n,currentAgentSpecification:t,forceUpdate:i};h.AgentsSource.instance().getTaskAgentQueues().then(function(t){return __awaiter(u,void 0,void 0,function(){var i;return __generator(this,function(){return r.queues=t,i=t.filter(function(t){return t.id===n})[0],[2,i?Promise.resolve(i):h.AgentsSource.instance().getTaskAgentQueue(n)]})})}).then(function(n){return __awaiter(u,void 0,void 0,function(){return __generator(this,function(){return r.agentQueueFromBuild=n,[2,h.AgentsSource.instance().getAgentSpecifications?h.AgentsSource.instance().getAgentSpecifications(n):[]]})})}).then(function(n){r.agentSpecifications=n;u._actions.updateAgentsQueueSection.invoke(r);s.PhaseCache.instance().updatePermissibleQueues(r.queues)}).catch(function(n){u.onRejected(n)})},t.prototype.manageAgentClicked=function(){this._actions.manageAgent.invoke({})},t.prototype.onRejected=function(n){n&&n.message&&u.ActionCreatorManager.GetActionCreator(r.MessageHandlerActionsCreator).addMessage(o.MessageParentKeyConstants.MainParentKey,n.message,c.MessageBarType.error)},t.prototype.getAgentSpecifications=function(n){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(){return h.AgentsSource.instance().getAgentSpecifications?[2,h.AgentsSource.instance().getAgentSpecifications(n).then(function(n){t._actions.updateAgentSpecifications.invoke(n?n:[])}).catch(function(n){t.onRejected(n)})]:[2,Promise.resolve()]})})},t}(e.ActionCreatorBase);t.AgentsActionsCreator=l});

define("DistributedTaskControls/Actions/DemandsActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._createDemands=new i.Action;this._updateDemands=new i.Action;this._updateDemandCondition=new i.Action;this._updateDemandKey=new i.Action;this._updateDemandValue=new i.Action;this._deleteDemand=new i.Action;this._addDemand=new i.Action},t.getKey=function(){return u.ActionsKeys.DemandActions},Object.defineProperty(t.prototype,"createDemands",{get:function(){return this._createDemands},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDemands",{get:function(){return this._updateDemands},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDemandCondition",{get:function(){return this._updateDemandCondition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDemandKey",{get:function(){return this._updateDemandKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDemandValue",{get:function(){return this._updateDemandValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteDemand",{get:function(){return this._deleteDemand},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addDemand",{get:function(){return this._addDemand},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.DemandsActions=f});

define("DistributedTaskControls/Phase/Actions/DependenciesActions",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._updateDependencies=new u.Action;this._updateCurrentDependencies=new u.Action},t.getKey=function(){return r.ActionsKeys.DependenciesActions},Object.defineProperty(t.prototype,"updateDependencies",{get:function(){return this._updateDependencies},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentDependencies",{get:function(){return this._updateCurrentDependencies},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.DependenciesActions=f});

define("DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Actions/AgentsActionsCreator","DistributedTaskControls/Actions/DemandsActions","DistributedTaskControls/Phase/Actions/DependenciesActions","DistributedTaskControls/Actions/TaskListActions","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/Types"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._instanceId=n;this._deployPhaseActionsHub=r.ActionsHubManager.GetActionsHub(l.DeployPhaseActionsHub,n);this._taskListActions=r.ActionsHubManager.GetActionsHub(c.TaskListActions,n)},t.getKey=function(){return f.ActionCreatorKeys.DeployPhaseActionsCreator},t.prototype.updateEnableAccessToken=function(n){this._deployPhaseActionsHub.updateEnableAccessToken.invoke(n)},t.prototype.updatePhaseName=function(n){this._deployPhaseActionsHub.updatePhaseName.invoke(n)},t.prototype.updateSkipArtifactsDownload=function(n){this._deployPhaseActionsHub.updateSkipArtifactsDownload.invoke(n)},t.prototype.updateJobCancelTimeout=function(n){this._deployPhaseActionsHub.updateJobCancelTimeout.invoke(n)},t.prototype.updatePhaseCondition=function(n){this._deployPhaseActionsHub.updatePhaseCondition.invoke(n)},t.prototype.updateTimeout=function(n){this._deployPhaseActionsHub.updateTimeout.invoke(n)},t.prototype.updateTypeOfParallelism=function(n){this._deployPhaseActionsHub.updateTypeOfParallelism.invoke(n)},t.prototype.updateMaximumNumberOfAgents=function(n){this._deployPhaseActionsHub.updateMaximumNumberOfAgents.invoke(n)},t.prototype.updateContinueOnError=function(n){this._deployPhaseActionsHub.updateContinueOnError.invoke(n)},t.prototype.updateMultipliers=function(n){this._deployPhaseActionsHub.updateMultipliers.invoke(n)},t.prototype.updateDeploymentGroup=function(n){return this._deployPhaseActionsHub.updateDeploymentMachineGroup.invoke(n)},t.prototype.updateDeploymentHealthOption=function(n){this._deployPhaseActionsHub.updateDeploymentHealthOption.invoke(n)},t.prototype.updateHealthPercent=function(n){this._deployPhaseActionsHub.updateHealthPercent.invoke(n)},t.prototype.updateTags=function(n){this._deployPhaseActionsHub.updateTags.invoke(n)},t.prototype.updatePhase=function(n,t){var f,c,u;this._deployPhaseActionsHub.updatePhase.invoke(n);this._taskListActions.updateTasks.invoke(this._getUpdateTaskPayload(n.tasks));n.phaseType===a.DeployPhaseTypes.AgentBasedDeployment&&(f=n,u=f.deploymentInput,i.ActionCreatorManager.GetActionCreator(o.AgentsActionsCreator,this._instanceId).updateAgentsQueueSection(f.deploymentInput.queueId,f.deploymentInput.agentSpecification,t),r.ActionsHubManager.GetActionsHub(s.DemandsActions,this._instanceId).updateDemands.invoke({demands:e.DtcUtils.convertSerializedDemandToDemandData(f.deploymentInput.demands)}),r.ActionsHubManager.GetActionsHub(h.DependenciesActions,this._instanceId).updateDependencies.invoke({dependencies:u.dependencies}),this._deployPhaseActionsHub.updateExecutionPlan.invoke(this._getExecutionPlanPayload(u.parallelExecution,u.timeoutInMinutes,u.jobCancelTimeoutInMinutes)));n.phaseType===a.DeployPhaseTypes.RunOnServer&&(c=n,u=c.deploymentInput,r.ActionsHubManager.GetActionsHub(h.DependenciesActions,this._instanceId).updateDependencies.invoke({dependencies:u.dependencies}),this._deployPhaseActionsHub.updateExecutionPlan.invoke(this._getExecutionPlanPayload(u.parallelExecution,u.timeoutInMinutes,u.jobCancelTimeoutInMinutes)))},t.prototype.markPhaseAsDeleting=function(){this._deployPhaseActionsHub.markPhaseAsDeleting.invoke({})},t.prototype._getExecutionPlanPayload=function(n,t,i){return{parallelExecution:n,timeOutInMinutes:t,jobCancelTimeoutInMinutes:i}},t.prototype._getUpdateTaskPayload=function(n){var t=n||[];return{tasks:t,forceUpdate:!1}},t}(u.ActionCreatorBase);t.DeployPhaseActionsCreator=v});

define("DistributedTaskControls/Phase/Components/DeployPhaseCondition",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=this.props.condition;return i.createElement("div",{className:"fabric-style-overrides task-input-dropdown"},i.createElement(o.ComboBoxInputComponent,__assign({},this._getPhaseConditionComboProps())),n!==undefined&&n!==null&&h.ignoreCaseComparer(n,f.PhaseConditionTypeKeys.Succeeded)!==0&&h.ignoreCaseComparer(n,f.PhaseConditionTypeKeys.SucceededOrFailed)!==0&&h.ignoreCaseComparer(n,f.PhaseConditionTypeKeys.Failed)!==0&&i.createElement("div",null,i.createElement(s.StringInputComponent,__assign({},this._getPhaseConditionStringInputProps()))))},t.prototype._getPhaseConditionComboProps=function(){var n=[],t,i;return n.push(u.DeployPhaseUtilities.getPhaseConditionTypeText(f.PhaseConditionTypeKeys.Succeeded)),n.push(u.DeployPhaseUtilities.getPhaseConditionTypeText(f.PhaseConditionTypeKeys.SucceededOrFailed)),n.push(u.DeployPhaseUtilities.getPhaseConditionTypeText(f.PhaseConditionTypeKeys.Failed)),n.push(u.DeployPhaseUtilities.getPhaseConditionTypeText(f.PhaseConditionTypeKeys.Custom)),t={calloutContentProps:{calloutMarkdown:e.PhaseConditionHelpText}},i={value:u.DeployPhaseUtilities.getPhaseConditionTypeText(this.props.condition),comboBoxType:o.ComboBoxType.Editable,source:n,onValueChanged:this.props.onPhaseConditionChange,enableFilter:!1,allowEdit:!1,required:!1,errorMessage:e.RequiredInputErrorMessage,label:e.PhaseConditionLabel,infoProps:t,enabled:!this.props.disabled},i},t.prototype._getPhaseConditionStringInputProps=function(){var n={calloutContentProps:{calloutMarkdown:e.PhaseConditionCustomConditionHelp}};return{value:this.props.condition,onValueChanged:this.props.onPhaseConditionChange,label:e.VariableExpressionLabel,required:!1,infoProps:n,disabled:this.props.disabled}},t}(r.Component);t.DeployPhaseCondition=c});

define("DistributedTaskControls/Phase/Components/DeployPhaseAdditionalOptions",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Components/DeployPhaseCondition","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Types","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","DistributedTaskControls/SharedControls/InputControls/Components/BooleanInputComponent","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Styles/FabricStyleOverrides","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Task/TaskInput","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseDetailsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v,y,p;Object.defineProperty(t,"__esModule",{value:!0});v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onSkipArtifactDownloadChange=function(n){t._actionCreator.updateSkipArtifactsDownload(n)},t._onEnableAccessTokenChange=function(n){t._actionCreator.updateEnableAccessToken(n)},t._onPhaseConditionChange=function(n){t._actionCreator.updatePhaseCondition(o.DeployPhaseUtilities.getPhaseConditionTypeValue(n))},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._actionCreator=r.ActionCreatorManager.GetActionCreator(f.DeployPhaseActionsCreator,this.props.phaseItemStore.getInstanceId())},t.prototype.render=function(){var t=!1,r=!1,n=null,u=a.empty,f;return this.props.phaseItemStore.getState().phaseType===s.DeployPhaseTypes.AgentBasedDeployment?(n=this.props.phaseItemStore.getState().deploymentInput,t=n&&n.enableAccessToken,r=n&&n.skipArtifactsDownload,u=n.condition):this.props.phaseItemStore.getState().phaseType===s.DeployPhaseTypes.MachineGroupBasedDeployment?(n=this.props.phaseItemStore.getState().deploymentInput,t=n&&n.enableAccessToken,r=n&&n.skipArtifactsDownload,u=n.condition):this.props.phaseItemStore.getState().phaseType===s.DeployPhaseTypes.RunOnServer&&(f=this.props.phaseItemStore.getState().deploymentInput,u=f?f.condition:a.empty),i.createElement("div",{className:"deploy-phase-details-section"},i.createElement(c.AccordionCustomRenderer,{label:h.PhaseAdditionalOptionsHeader,initiallyExpanded:!0,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0},this.props.phaseItemStore.getState().phaseType!==s.DeployPhaseTypes.RunOnServer&&i.createElement("div",null,i.createElement(y,{visible:this.props.showSkipArtifactDownload,value:r,onValueChanged:this._onSkipArtifactDownloadChange,disabled:this.props.disabled}),i.createElement(p,{visible:this.props.showAccessToken,value:t,onValueChanged:this._onEnableAccessTokenChange,disabled:this.props.disabled})),i.createElement(e.DeployPhaseCondition,{onPhaseConditionChange:this._onPhaseConditionChange,disabled:this.props.disabled,condition:this.props.condition})))},t}(u.Component);t.DeployPhaseAdditionalOptions=v;y=function(n){var t={calloutContentProps:{calloutDescription:h.SkipDownloadArtifactHelpText}};return n.visible?i.createElement(l.BooleanInputComponent,{key:h.SkipArtifactDownloadLabel,value:n.value,onValueChanged:n.onValueChanged,infoProps:t,label:h.SkipArtifactDownloadLabel,disabled:n.disabled}):null};p=function(n){var t={calloutContentProps:{calloutDescription:h.EnableAccessTokenHelpText}};return n.visible?i.createElement(l.BooleanInputComponent,{key:h.EnableAccessTokenLabel,value:n.value,onValueChanged:n.onValueChanged,infoProps:t,label:h.EnableAccessTokenLabel,disabled:n.disabled}):null}});

define("DistributedTaskControls/Phase/Actions/PhaseInputsActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Phase/Actions/PhaseInputsActions"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._instanceId=n;this._phaseInputsActionsHub=i.ActionsHubManager.GetActionsHub(f.PhaseInputsActionsHub,n)},t.getKey=function(){return u.ActionCreatorKeys.PhaseInputsActionsCreator},t.prototype.updateLinkProcessParameterDialog=function(n){this._phaseInputsActionsHub.updateLinkProcessParameterDialog.invoke(n)},t.prototype.updateTaskInputError=function(n,t,i){this._phaseInputsActionsHub.updateInputError.invoke({name:n,message:t,value:i})},t.prototype.updateTaskInputValue=function(n,t){this._phaseInputsActionsHub.updateInputValue.invoke({name:n,value:t})},t.prototype.updateTaskInputOptions=function(n,t){this._phaseInputsActionsHub.updateInputOptions.invoke({name:n,options:t})},t.prototype.linkToProcessParameter=function(n,t){var i={inputName:n,processParametername:t};this._phaseInputsActionsHub.linkToProcessParameter.invoke(i)},t.prototype.unlinkFromProcessParameter=function(n){this._phaseInputsActionsHub.unlinkFromProcessParameter.invoke(n)},t}(r.ActionCreatorBase);t.PhaseInputsActionsCreator=e});

define("DistributedTaskControls/Components/ConfirmationDialog",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/Dialog","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/ConfirmationDialog"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onConfirmClick=function(){t.props.onConfirm&&t.props.onConfirm();t.props.skipCloseOnOkClick||t._closeDialog()},t._closeDialog=function(){t.props.onCancel&&t.props.onCancel()},t}return __extends(t,n),t.prototype.render=function(){var n="dtc-confirm",t="dtc-cancel",r=this.props.okButtonText||u.Confirm;return this.props.showDialog?i.createElement(e.Dialog,{modalProps:{className:"cix-confirm-dialog bowtie-fabric",containerClassName:"confirm-discard-dialog",isBlocking:!0},hidden:!this.props.showDialog,dialogContentProps:{type:e.DialogType.close,subText:this.props.subText},title:this.props.title,onDismiss:this._closeDialog,closeButtonAriaLabel:u.CloseButtonText,firstFocusableSelector:this.props.focusCancelButton?t:n},i.createElement(e.DialogFooter,null,i.createElement(f.PrimaryButton,{className:n,disabled:this.props.okDisabled,onClick:this._onConfirmClick,ariaLabel:r},r),i.createElement(f.DefaultButton,{className:t,onClick:this._closeDialog,ariaLabel:u.CancelButtonText},u.CancelButtonText))):null},t}(r.Component);t.ConfirmationDialog=o});

define("DistributedTaskControls/Phase/Components/DeletePhaseDialog",["require","exports","react","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/ConfirmationDialog","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t){var i=__construct(this,n,[t]);for(var e in i)i.hasOwnProperty(e)&&(this[e]=i[e]);return i._onConfirmClick=function(){i._actionCreator.markPhaseAsDeleting();var n={processParameterReferenceData:i.props.phaseStore.getProcessParametersReferenceData(),shouldReferencesIncrease:!1};i._processParametersActionsHub.updateReferenceCount.invoke(n)},i._actionCreator=u.ActionCreatorManager.GetActionCreator(s.DeployPhaseActionsCreator,i.props.phaseStore.getInstanceId()),i._processParametersActionsHub=f.ActionsHubManager.GetActionsHub(r.ProcessParameterActions,i.props.phaseStore.getProcessInstanceId()),i}return __extends(t,n),t.prototype.render=function(){var n=c.format(h.DeletePhaseDialogText,this.props.phaseStore.getState().name);return this.props.showDialog?i.createElement(o.ConfirmationDialog,{title:h.DeletePhaseDialogTitle,subText:n,showDialog:this.props.showDialog,onConfirm:this._onConfirmClick,onCancel:this.props.onCancel}):null},t}(e.Component);t.DeletePhaseDialog=l});

define("DistributedTaskControls/Phase/Stores/DependenciesStore",["require","exports","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Phase/Actions/DependenciesActions","VSS/Utils/String"],function(n,t,i,r,u,f,e,o){var h,s;Object.defineProperty(t,"__esModule",{value:!0});h=function(n){function t(t){var i=__construct(this,n,[]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._updateDependencies=function(n){i._currentState.dependencies=n.dependencies;i._originalState.dependencies=n.dependencies},i._updateCurrentDependencies=function(n){i._currentState.dependencies=n.dependencies;i.emitChanged()},u=t.dependencies||[],i._currentState={dependencies:f.JQueryWrapper.extendDeep([],u)},i._originalState={dependencies:f.JQueryWrapper.extendDeep([],u)},i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.DependenciesStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(e.DependenciesActions,n);this._actionsHub.updateDependencies.addListener(this._updateDependencies);this._actionsHub.updateCurrentDependencies.addListener(this._updateCurrentDependencies)},t.prototype.disposeInternal=function(){this._actionsHub.updateDependencies.removeListener(this._updateDependencies);this._actionsHub.updateCurrentDependencies.removeListener(this._updateCurrentDependencies);this._originalState.dependencies=null;this._currentState.dependencies=null},t.prototype.isDirty=function(){return!s.areEqual(this._currentState.dependencies,this._originalState.dependencies)},t.prototype.isValid=function(){var n=this;return this._currentState.dependencies&&this._currentState.dependencies.forEach(function(t){if(n.isDependencyInvalid(t))return!1}),!0},t.prototype.getState=function(){return this._currentState},t.prototype.getCurrentDependencies=function(){return this._currentState&&this._currentState.dependencies?this._currentState.dependencies:[]},t.prototype.isDependencyInvalid=function(n){return!(n.scope&&n.scope.trim()!==o.empty&&n.event&&n.event.trim()!==o.empty)},t}(i.ChangeTrackerStoreBase);t.DependenciesStore=h;s=function(){function n(){}return n.areEqual=function(n,t){var r,i,u;if(!n&&!t)return!0;if(!n||!t||n.length!==t.length)return!1;for(r=!0,i=0,u=n.length;i<u;i++)if(!this._compareStringWithTrim(n[i].scope,t[i].scope)||!this._compareStringWithTrim(n[i].event,t[i].event)){r=!1;break}return r},n._compareStringWithTrim=function(n,t){return n||t?!n&&t||n&&!t?!1:o.ignoreCaseComparer(n.trim(),t.trim())===0:!0},n}();t.DependenciesUtils=s});

define("DistributedTaskControls/Phase/Stores/ExecutionPlanStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseActions","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Types","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleUpdateTimeout=function(n){i._currentState.timeoutInMinutes=n;i.emitChanged()},i._handleUpdateJobCancelTimeout=function(n){i._currentState.jobCancelTimeoutInMinutes=n;i.emitChanged()},i._handleUpdateTypeOfParallelism=function(n){i._currentState.parallelExecution.parallelExecutionType=n;i.emitChanged()},i._handleUpdateMaximumNumberOfAgents=function(n){i._currentState.parallelExecution.maxNumberOfAgents=n;i.emitChanged()},i._handleUpdateContinueOnError=function(n){i._currentState.parallelExecution.continueOnError=n;i.emitChanged()},i._handleMultipliers=function(n){i._currentState.parallelExecution.multipliers=n;i.emitChanged()},i._handleExecutionPlanUpdate=function(n){i._initializeStates(n.parallelExecution,n.timeOutInMinutes,n.jobCancelTimeoutInMinutes)},i._minJobCancelTimeout=s.DeployPhaseUtilities.getDefaultJobCancelTimeout(t.minJobCancelTimeoutInMinutes),i._initializeStates(t.parallelExecution,t.timeoutInMinutes,t.jobCancelTimeoutInMinutes),i}return __extends(t,n),t.getKey=function(){return r.StoreKeys.ExecutionPlanStore},t.prototype.initialize=function(n){this._deployPhaseActionsHub=i.ActionsHubManager.GetActionsHub(o.DeployPhaseActionsHub,n);this._deployPhaseActionsHub.updateTimeout.addListener(this._handleUpdateTimeout);this._deployPhaseActionsHub.updateTypeOfParallelism.addListener(this._handleUpdateTypeOfParallelism);this._deployPhaseActionsHub.updateMaximumNumberOfAgents.addListener(this._handleUpdateMaximumNumberOfAgents);this._deployPhaseActionsHub.updateContinueOnError.addListener(this._handleUpdateContinueOnError);this._deployPhaseActionsHub.updateMultipliers.addListener(this._handleMultipliers);this._deployPhaseActionsHub.updateExecutionPlan.addListener(this._handleExecutionPlanUpdate);this._deployPhaseActionsHub.updateJobCancelTimeout.addListener(this._handleUpdateJobCancelTimeout)},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updateTimeout.removeListener(this._handleUpdateTimeout),this._deployPhaseActionsHub.updateTypeOfParallelism.removeListener(this._handleUpdateTypeOfParallelism),this._deployPhaseActionsHub.updateMaximumNumberOfAgents.removeListener(this._handleUpdateMaximumNumberOfAgents),this._deployPhaseActionsHub.updateContinueOnError.removeListener(this._handleUpdateContinueOnError),this._deployPhaseActionsHub.updateMultipliers.removeListener(this._handleMultipliers),this._deployPhaseActionsHub.updateExecutionPlan.removeListener(this._handleExecutionPlanUpdate),this._deployPhaseActionsHub.updateJobCancelTimeout.removeListener(this._handleUpdateJobCancelTimeout))},t.prototype.getParallelExecution=function(){var n,t;return n=u.JQueryWrapper.extendDeep({},this._currentState.parallelExecution),t=n.parallelExecutionType,c.equals(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiConfiguration],h.ParallelExecutionTypes[t]||t.toString(),!0)&&(n.multipliers=e.DtcUtils.fixEmptyAndRecurringValuesInDelimitedString(n.multipliers||c.empty)),n},t.prototype.getTimeout=function(){return this._currentState.timeoutInMinutes},t.prototype.getJobCancelTimeout=function(){return this._currentState.jobCancelTimeoutInMinutes},t.prototype.getState=function(){return this._currentState},t.prototype.isDirty=function(){var n=!1,t=this._currentState.parallelExecution.parallelExecutionType,i=this._originalState.parallelExecution.parallelExecutionType,r,u;return c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiConfiguration],h.ParallelExecutionTypes[t]||t.toString())===0?(r=e.DtcUtils.fixEmptyAndRecurringValuesInDelimitedString(this._currentState.parallelExecution.multipliers||c.empty),u=e.DtcUtils.fixEmptyAndRecurringValuesInDelimitedString(this._originalState.parallelExecution.multipliers||c.empty),n=r!==u||this._isParallelExecutionInputDirty(this._currentState,this._originalState)):c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiMachine],h.ParallelExecutionTypes[t]||t.toString())===0&&(n=this._isParallelExecutionInputDirty(this._currentState,this._originalState)),n=n||c.ignoreCaseComparer(h.ParallelExecutionTypes[t]||t.toString(),h.ParallelExecutionTypes[i]||i.toString())!==0,n=n||this._currentState.timeoutInMinutes!==this._originalState.timeoutInMinutes,n||this._currentState.jobCancelTimeoutInMinutes!==this._originalState.jobCancelTimeoutInMinutes},t.prototype.isValid=function(){var u=!0,i=this._currentState.timeoutInMinutes,r=this._currentState.jobCancelTimeoutInMinutes,n=this._currentState.parallelExecution.parallelExecutionType,t;return(c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiConfiguration],h.ParallelExecutionTypes[n]||n.toString())===0||c.ignoreCaseComparer(h.ParallelExecutionTypes[h.ParallelExecutionTypes.MultiMachine],h.ParallelExecutionTypes[n]||n.toString())===0)&&(t=this._currentState.parallelExecution.maxNumberOfAgents,u=!(t===null||t===undefined)&&this.isValidMaxAgentsValue(t.toString())),u&&!(i===null||i===undefined)&&this.isValidTimeoutValue(i.toString())&&!(r===null||r===undefined)&&this.isValidTimeoutValue(r.toString(),this._minJobCancelTimeout,h.DeployPhaseSectionConstants.MaxJobCancelTimeout)},t.prototype.isValidMaxAgentsValue=function(n){return this._isValidValue(n,h.ExecutionPlanConstants.MinValidAgentsCount,h.ExecutionPlanConstants.MaxValidAgentsCount)},t.prototype.isValidTimeoutValue=function(n,t,i){return t===void 0&&(t=h.ExecutionPlanConstants.MinTimeout),i===void 0&&(i=r.MaxPositiveNumber),this._isValidValue(n,t,i)},t.prototype._initializeStates=function(n,t,i){n||(n={parallelExecutionType:h.ParallelExecutionTypes.None});t||(t=0);i||(i=this._minJobCancelTimeout);this._currentState={parallelExecution:u.JQueryWrapper.extendDeep({},n),timeoutInMinutes:t,jobCancelTimeoutInMinutes:i};this._originalState={parallelExecution:u.JQueryWrapper.extendDeep({},n),timeoutInMinutes:t,jobCancelTimeoutInMinutes:i}},t.prototype._isParallelExecutionInputDirty=function(n,t){return n.parallelExecution.maxNumberOfAgents!==t.parallelExecution.maxNumberOfAgents||n.parallelExecution.continueOnError!==t.parallelExecution.continueOnError},t.prototype._isValidValue=function(n,t,i){return e.DtcUtils.isValidNonNegativeIntegerInRange(n,t,i)===r.InputState.Valid},t}(f.ChangeTrackerStoreBase);t.ExecutionPlanStore=l});

define("DistributedTaskControls/Stores/AgentsStore",["require","exports","DistributedTaskControls/Actions/AgentsActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/UrlUtilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Context","VSS/FeatureAvailability/Services","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y,v;Object.defineProperty(t,"__esModule",{value:!0});y=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._manageAgentClicked=function(){var n=s.ActionUrlResolver.getActionUrl(null,null,"AgentQueue",{project:h.getDefaultWebContext().project.name,area:"admin",queueId:i._agentsState.defaultQueueId,_a:"agents"});e.UrlUtilities.openInNewWindow(n,!0);i.emitChanged()},i._updateAgentQueue=function(n){i._agentsState.defaultQueueId=n;i._agentsState.agentSpecifications=[];i._agentsState.selectedAgentSpecification=null;i._updateErrors();i.emitChanged()},i._updateAgentQueueWithSpecifications=function(n){i._agentsState.defaultQueueId=n.selectedQueueId;i._agentsState.agentSpecifications=n.agentSpecifications||[];i._agentsState.selectedAgentSpecification=n.currentAgentSpecification;i._areAgentSpecificationsInitialized=!0;i._updateErrors();i.emitChanged()},i._createAgentsQueueSection=function(n){i._createUpdateAgentsQueueSection(n);i._updateErrors();i.emitChanged()},i._updateAgentsQueueSection=function(n){i._createUpdateAgentsQueueSection(n);n.forceUpdate&&(i._updateErrors(),i.emitChanged())},i._refreshAgentQueue=function(n){n=n||[];i._setAgentQueues(n.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy}));i._updateErrors();i.emitChanged()},i._initializeAgentQueues=function(n){var t=i._initializeQueues(n);i._updateErrors();(t<=0||t!==i._agentsState.defaultQueueId)&&i.emitChanged()},i._initializeQueues=function(n){var r=i._agentsState.defaultQueueId,u=n.permissibleQueues.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy}),t=i._getQueueDetailsIfPresent(r,u);return t||(t=i._getQueueDetailsIfPresent(r,n.allQueues),t&&u.push(t)),i._setAgentQueues(u),r},i._handleUpdateAgentSpecifications=function(n){i._areAgentSpecificationsInitialized=!0;n||(n=[]);i._agentsState.agentSpecifications=n.slice();i._agentsState.agentSpecifications&&i._agentsState.agentSpecifications.length!==0||(i._agentsState.selectedAgentSpecification=null);i._updateErrors();i.emit(u.AgentsStoreChangedEvents.AgentSpecificationsChangedEvent,i)},i._updateLoadingAgentSpecifications=function(n){i._agentsState.isLoadingAgentSpecifications=n;i.emitChanged()},i._handleUpdateAgentSpecification=function(n){i._agentsState.selectedAgentSpecification=n;i._updateErrors();i.emitChanged()},i._allowInheritAgentQueue=t.allowInheritAgentQueue,i._initializeState(),i._originalAgentQueue=null,i._areAgentQueuesInitialized=!1,i._areAgentSpecificationsInitialized=!1,i._hideQueues=t.hideQueues,!t.defaultQueueId||(i._originalAgentsState.defaultQueueId=t.defaultQueueId,i._agentsState.defaultQueueId=t.defaultQueueId),(t.permissibleQueues||t.allQueues)&&(i._initializeQueues({permissibleQueues:t.permissibleQueues,allQueues:t.allQueues}),i._originalAgentsState.defaultQueueId=i._agentsState.defaultQueueId),i._isAgentSpecificationEnabled=c.FeatureAvailabilityService.isFeatureEnabled("WebAccess.Build.CIWorkflow.AgentDefinition",!1),i._isAgentSpecificationEnabled&&!!t.agentSpecification&&(i._originalAgentsState.selectedAgentSpecification=t.agentSpecification,i._agentsState.selectedAgentSpecification=t.agentSpecification),i}return __extends(t,n),t.getKey=function(){return u.StoreKeys.AgentsStore},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._actionsHub=r.ActionsHubManager.GetActionsHub(i.AgentsActions,t);this._actionsHub.createAgentsQueueSection.addListener(this._createAgentsQueueSection);this._actionsHub.updateAgentsQueueSection.addListener(this._updateAgentsQueueSection);this._actionsHub.updateAgentQueue.addListener(this._updateAgentQueue);this._actionsHub.updateAgentQueueWithSpecifications.addListener(this._updateAgentQueueWithSpecifications);this._actionsHub.refreshAgentQueue.addListener(this._refreshAgentQueue);this._actionsHub.manageAgent.addListener(this._manageAgentClicked);this._actionsHub.initializeAgentQueues.addListener(this._initializeAgentQueues);this._actionsHub.updateAgentSpecifications.addListener(this._handleUpdateAgentSpecifications);this._actionsHub.updateSelectedAgentSpecification.addListener(this._handleUpdateAgentSpecification);this._actionsHub.updateLoadingAgentSpecifications.addListener(this._updateLoadingAgentSpecifications)},t.prototype.disposeInternal=function(){this._actionsHub.createAgentsQueueSection.removeListener(this._createAgentsQueueSection);this._actionsHub.updateAgentsQueueSection.removeListener(this._updateAgentsQueueSection);this._actionsHub.updateAgentQueue.removeListener(this._updateAgentQueue);this._actionsHub.updateAgentQueueWithSpecifications.removeListener(this._updateAgentQueueWithSpecifications);this._actionsHub.refreshAgentQueue.removeListener(this._refreshAgentQueue);this._actionsHub.manageAgent.removeListener(this._manageAgentClicked);this._actionsHub.initializeAgentQueues.removeListener(this._initializeAgentQueues);this._actionsHub.updateAgentSpecifications.removeListener(this._handleUpdateAgentSpecifications);this._actionsHub.updateSelectedAgentSpecification.removeListener(this._handleUpdateAgentSpecification);this._actionsHub.updateLoadingAgentSpecifications.removeListener(this._updateLoadingAgentSpecifications)},t.prototype.getTaskAgentQueues=function(){return this._agentsState.queues},t.prototype.isDirty=function(){var n=this._originalAgentsState.selectedAgentSpecification?this._originalAgentsState.selectedAgentSpecification.identifier:null,t=this._agentsState.selectedAgentSpecification?this._agentsState.selectedAgentSpecification.identifier:null;return this._originalAgentsState.defaultQueueId!==this._agentsState.defaultQueueId||n!==t},t.prototype.isValid=function(){var t=this,n;return this._areAgentQueuesInitialized?(n=this._agentsState.queues.some(function(n){return n.id===t._agentsState.defaultQueueId}),n&&this._agentsState.agentSpecificationErrorMessage===""):!0},t.prototype.getState=function(){return this._agentsState},t.prototype._initializeState=function(){this._agentsState=this._getDefaultAgentState();this._originalAgentsState=this._getDefaultAgentState()},t.prototype._getDefaultAgentState=function(){var n=[];return this._allowInheritAgentQueue&&n.push({id:0,name:o.InheritAgentQueueFromDefinition}),{queues:n,defaultQueueId:0,selectedAgentSpecification:null,agentSpecificationErrorMessage:"",isLoadingAgentSpecifications:!1,agentSpecifications:[]}},t.prototype.getSelectedQueue=function(){var n=this;return l.first(this._agentsState.queues,function(t){return t.id===n._agentsState.defaultQueueId})},t.prototype._createUpdateAgentsQueueSection=function(n){var i=-1,t;this._areAgentQueuesInitialized=!0;t=n.queues?v.createTaskAgentQueueCopy(n.queues):[];t=t.filter(function(n){return!n.pool||n.pool&&!n.pool.isLegacy});n.agentQueueFromBuild&&n.agentQueueFromBuild.name?(this._originalAgentsState.defaultQueueId=n.agentQueueFromBuild.id,this._agentsState.defaultQueueId=n.agentQueueFromBuild.id,this._originalAgentQueue=v.createBuildTypeAgentCopy(n.agentQueueFromBuild),this._ensureQueue(t,n.agentQueueFromBuild),n.currentAgentSpecification!==undefined&&(this._originalAgentsState.selectedAgentSpecification=n.currentAgentSpecification,this._agentsState.selectedAgentSpecification=n.currentAgentSpecification),n.agentSpecifications&&n.agentSpecifications.length>0&&(this._agentsState.agentSpecifications=n.agentSpecifications.slice(),this._originalAgentsState.agentSpecifications=this._agentsState.agentSpecifications,this._areAgentSpecificationsInitialized=!0)):(this._agentsState.defaultQueueId=0,this._allowInheritAgentQueue&&(n.currentQueueId===0?(this._agentsState.defaultQueueId=0,this._originalAgentsState.defaultQueueId=0):(this._agentsState.defaultQueueId=i,this._originalAgentsState.defaultQueueId=i)));this._setQueueList(t)},t.prototype._ensureQueue=function(n,t){if(t){var i=l.first(n,function(n){return n.id===t.id});i||n.push(t)}},t.prototype._getQueueDetailsIfPresent=function(n,t){var f=null,i,u,r;if(t)for(i=0,u=t;i<u.length;i++)if(r=u[i],r&&r.id===n){f=r;break}return f},t.prototype._setAgentQueues=function(n){var i=this,t;this._areAgentQueuesInitialized=!0;t=n?v.createTaskAgentQueueCopy(n):[];this._originalAgentQueue===null&&this._agentsState.defaultQueueId>0&&(this._originalAgentQueue=t.filter(function(n){return n.id===i._agentsState.defaultQueueId})[0]);this._originalAgentQueue?(this._agentsState.defaultQueueId=this._originalAgentQueue.id,this._agentsState.selectedAgentSpecification=this._originalAgentsState.selectedAgentSpecification,this._agentsState.agentSpecifications=this._originalAgentsState.agentSpecifications):this._agentsState.defaultQueueId=0;this._ensureQueue(t,this._originalAgentQueue);this._setQueueList(t)},t.prototype._setQueueList=function(n){if(this._allowInheritAgentQueue){var t={id:0,name:o.InheritAgentQueueFromDefinition};this._hideQueues?n=[t]:n.push(t)}n.sort(function(n,t){return a.localeIgnoreCaseComparer(n.name,t.name)});this._agentsState.queues=n},t.prototype._updateErrors=function(){var n=this;if(this._agentsState.selectedAgentSpecification&&this._areAgentSpecificationsInitialized&&(!this._agentsState.agentSpecifications||!this._agentsState.agentSpecifications.some(function(t){return t.identifier===n._agentsState.selectedAgentSpecification.identifier}))){this._agentsState.agentSpecificationErrorMessage=o.InvalidAgentSpecification;return}if(this._isAgentSpecificationEnabled&&!this._agentsState.selectedAgentSpecification&&this._agentsState.agentSpecifications&&this._agentsState.agentSpecifications.length>0){this._agentsState.agentSpecificationErrorMessage=o.AgentSpecificationRequired;return}this._agentsState.agentSpecificationErrorMessage=""},t}(f.ChangeTrackerStoreBase);t.AgentsStore=y;v=function(){function n(){}return n.createBuildTypeAgentCopy=function(n){var t={id:n.id,name:n.name};return n.pool&&(t.pool={id:n.pool.id,name:n.pool.name,isHosted:n.pool.isHosted}),t},n.createTaskAgentQueueCopy=function(n){var t=[];return n.forEach(function(n){var i={id:n.id,name:n.name,projectId:n.projectId};n.pool&&(i.pool={id:n.pool.id,isHosted:n.pool.isHosted,name:n.pool.name,poolType:n.pool.poolType,scope:n.pool.scope,size:n.pool.size,isLegacy:n.pool.isLegacy});t.push(i)}),t},n}();t.AgentUtils=v});

define("DistributedTaskControls/Phase/Components/DeployPhaseDetailsHeader",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/YamlHelper","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/Task/TaskStore","DistributedTaskControls/Phase/Actions/PhaseInputsActionsCreator","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/DependenciesStore","DistributedTaskControls/Phase/Stores/ExecutionPlanStore","DistributedTaskControls/Phase/Types","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/AgentsStore","DistributedTaskControls/Variables/ProcessVariables/DataStore","OfficeFabric/Button","OfficeFabric/Label","OfficeFabric/Utilities","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseDetailsHeader"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){Object.defineProperty(t,"__esModule",{value:!0});var rt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onLinkSettingsClicked=function(){t._phaseInputsActionsCreator.updateLinkProcessParameterDialog({isVisible:!0})},t._onViewYAMLClicked=function(){var i=o.StoreManager.GetStore(y.ExecutionPlanStore,t.props.phaseItemStore.getInstanceId()),h=o.StoreManager.GetStore(v.DependenciesStore,t.props.phaseItemStore.getInstanceId()),c=t.props.phaseItemStore.getState().refName,l=t.props.phaseItemStore.getState().name,w=t._getYamlTasks(),b=t._getPhaseDemands(),r="",u=!1,f=h.getCurrentDependencies(),k=f?f.map(function(n){return n.scope}):[],d=a.DeployPhaseUtilities.getPhaseCondition(t.props.phaseItemStore.getState()),n,e;t.props.phaseItemStore.getState().phaseType!==p.DeployPhaseTypes.RunOnServer&&(n=t._getPhasePool(),n&&(r=n.name,u=!!(n.pool&&n.pool.isHosted)));e=i.getParallelExecution().parallelExecutionType;s.handleViewJobAsYaml(c,l,t.props.phaseItemStore.getState().phaseType,w,b,r,u,i.getState().timeoutInMinutes,k,d,e)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._phaseInputsActionsCreator=r.ActionCreatorManager.GetActionCreator(l.PhaseInputsActionsCreator,this.props.phaseItemStore.getInstanceId());this._processManagementStore=o.StoreManager.GetStore(w.ProcessManagementStore,this.props.phaseItemStore.getProcessInstanceId())},t.prototype.render=function(){var n=this.props.phaseTitleString,t=this.props.phaseMarkdown,r={calloutDescription:this.props.phaseTypeDescription,calloutMarkdown:t},f=this._processManagementStore.canEditProcess()||this._processManagementStore.canEditPhaseInputs(),e=u.AppContext.instance().isCapabilitySupported(u.AppCapability.ShowViewYAMLInPhase);return i.createElement("div",{className:"deploy-phase-details-heading-row"},i.createElement("div",{className:"deploy-phase-title"},i.createElement(nt.Label,{className:"phase-type-label"},n),i.createElement(h.Component,{cssClass:"phase-type-info",calloutContent:r,iconStyle:"phase-type-info-icon",isIconFocusable:!0,iconAriaLabel:it.format(b.InfoCalloutAriaLabel,n)})),i.createElement("div",{className:"deploy-phase-controls"},this.props.phaseInputsPresent&&f&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides"),ariaLabel:b.LinkSettings,iconProps:{iconName:"Link"},ariaDescription:b.LinkSettingsDescription,onClick:this._onLinkSettingsClicked},b.LinkSettings),e&&i.createElement(g.CommandButton,{className:tt.css("remove-linkSettings-button","fabric-style-overrides"),ariaLabel:b.MenuViewAsYaml,iconProps:{iconName:"Paste"},disabled:!this.props.phaseItemStore.isValid(),ariaDescription:b.ViewAsYamlDescription,onClick:this._onViewYAMLClicked},b.MenuViewAsYaml),this._processManagementStore.canEditPhases()&&i.createElement(g.CommandButton,{className:tt.css("fabric-style-overrides","remove-linkSettings-button","remove-phase-button"),iconProps:{iconName:"Delete"},"aria-label":b.RemoveText,onClick:this.props.onRemove},b.RemoveText)))},t.prototype._getPhaseDemands=function(){var n=[],r=this.props.phaseItemStore,t=r.getState().deploymentInput,u=t&&t.demands||[],i;return u.forEach(function(t){n.push(t)}),i=this.props.phaseItemStore.getReadOnlyDemands()||[],i.forEach(function(t){n.push(t)}),n},t.prototype._getPhasePool=function(){var i=o.StoreManager.GetStore(k.AgentsStore,this.props.phaseItemStore.getInstanceId()),n=i?i.getSelectedQueue():null,t;return n&&n.id===0&&(t=o.StoreManager.GetStore(k.AgentsStore,f.AGENTS_STORE_INSTANCE_ID),n=t?t.getSelectedQueue():null),n},t.prototype._getYamlTasks=function(){var n=[],r=this.props.phaseItemStore.getTaskItems().taskItemList,t=0,u=o.StoreManager.GetStore(d.ProcessVariablesStore),f=u.getVariableList(),i={};return f.forEach(function(n){i[n.name]=n.variable}),r.forEach(function(r){var u=o.StoreManager.GetStore(c.TaskStore,r.getKey()),e=u.getInputToValueMap(),l=u.getTaskDefinition(),a=u.getTaskRefName(),v=u.getTaskVersion(),y=!u.isDisabled(),f=u.getTaskInstance(),p=f.continueOnError,w=f.condition,b=u.getTaskTimeoutInMinutes(),k=u.getTaskDisplayName(),h={};Object.keys(e).forEach(function(n){h[n]=u.getTaskInputState(n).isHidden()});var d=u.getProcessParameterToValueMap(),g=f.environment,nt=new s.YamlTask(e,l,a,k,v,y,p,w,b,h,i,d,g,!1,t,!1);n.push(nt);t++}),n},t}(e.Component);t.DeployPhaseDetailsHeader=rt});

define("DistributedTaskControls/Phase/Components/DeployPhaseDetailsView",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/ControllerViews/ProcessParametersLinkSettingsView","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Actions/PhaseInputsActionsCreator","DistributedTaskControls/Phase/Components/DeletePhaseDialog","DistributedTaskControls/Phase/Components/DeployPhaseDetailsHeader","DistributedTaskControls/Phase/Types","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/InputControls/Components/StringInputComponent","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseDetailsView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){Object.defineProperty(t,"__esModule",{value:!0});var w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onDialogClose=function(){t._phaseInputsActionCreator.updateLinkProcessParameterDialog({isVisible:!1})},t._linkToProcesParameter=function(n,i){t._phaseInputsActionCreator.linkToProcessParameter(n,i)},t._unLinkfromProcesParameter=function(n){t._phaseInputsActionCreator.unlinkFromProcessParameter(n)},t._showDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!0})},t._hideDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!1})},t._onNameChanged=function(n){t._actionCreator.updatePhaseName(n)},t._onGetErrorMessage=function(n){return e.DtcUtils.checkValidStringLengthErrorMessage(n,a.DeployPhaseSectionConstants.NameMaxLength,y.PhaseNameLengthErrorMessage)},t._onStoreChanged=function(){t._setState()},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._processManagementStore=f.StoreManager.GetStore(v.ProcessManagementStore,this.props.phaseItemStore.getProcessInstanceId());this._actionCreator=r.ActionCreatorManager.GetActionCreator(s.DeployPhaseActionsCreator,this.props.phaseItemStore.getInstanceId());this._phaseInputsActionCreator=r.ActionCreatorManager.GetActionCreator(h.PhaseInputsActionsCreator,this.props.phaseItemStore.getInstanceId());this.props.phaseItemStore.addChangedListener(this._onStoreChanged);this._processManagementStore.addChangedListener(this._onStoreChanged)},t.prototype.componentWillUnmount=function(){this.props.phaseItemStore.removeChangedListener(this._onStoreChanged);this._processManagementStore.removeChangedListener(this._onStoreChanged)},t.prototype.render=function(){var n=this,t=this.props.phaseItemStore.getState();return i.createElement("div",{className:"deploy-phase-details-header constrained-width"},i.createElement(l.DeployPhaseDetailsHeader,{phaseItemStore:this.props.phaseItemStore,onRemove:this._showDeletePhaseDialog,phaseInputsPresent:this.props.phaseInputsPresent,phaseTitleString:this.props.phaseTitleString,phaseMarkdown:this.props.phaseMarkdown,phaseTypeDescription:this.props.phaseTypeDescription}),i.createElement("div",{className:"phase-name"},i.createElement(p.StringInputComponent,{label:y.DisplayNameText,value:t.name,onValueChanged:function(t){n._onNameChanged(t)},required:!0,getErrorMessage:this._onGetErrorMessage,deferredValidationTime:a.DeployPhaseSectionConstants.NameDeferredValidationTime,disabled:!this._processManagementStore.canEditPhases()})),this.state.showLinkProcessParameterDialog&&i.createElement(o.ProcessParametersLinkSettingsView,{controllerInstanceId:this.props.phaseItemStore.getInstanceId(),processInstanceId:this.props.phaseItemStore.getProcessInstanceId(),inputsList:this.props.phaseInputStore.getInputDefinitions(),inputNameToValueMapping:this.props.phaseInputStore.getInputNameToValueMap(),inputNameToProcParam:this.props.phaseInputStore.getInputNameToProcessParameterNameMap(),dataSourceBindings:[],sourceDefinitions:[],onDialogClose:this._onDialogClose,linkToProcessParameter:this._linkToProcesParameter,unlinkFromProcessParameter:this._unLinkfromProcesParameter}),this.state.showDeletePhaseDialog&&i.createElement(c.DeletePhaseDialog,{phaseItem:this.props.phaseItem,phaseStore:this.props.phaseItemStore,phaseListInstanceId:this.props.phaseListInstanceId,showDialog:this.state.showDeletePhaseDialog,onCancel:this._hideDeletePhaseDialog}),this.props.getSections())},t.prototype._setState=function(){this.setState({showLinkProcessParameterDialog:this.props.phaseInputsPresent&&this.props.phaseInputStore.showLinkProcessParameterDialog()})},t}(u.Component);t.DeployPhaseDetailsView=w});

define("DistributedTaskControls/ControllerViews/TaskListControllerView",["require","exports","react","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Actions/TaskListActionsCreator","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Common/ShortKeys","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Components/Task/TaskActionsCreator","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Stores/ItemSelectionStore","DistributedTaskControls/Stores/TaskListStore","OfficeFabric/List","VSS/Diag","VSS/Utils/Accessibility","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){Object.defineProperty(t,"__esModule",{value:!0});var ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onRenderItem=function(n,i){var r={instanceId:t.props.instanceId,taskListKeys:t._store.getTaskKeys(),taskGroupType:t.props.taskGroupType,isTaskAdditionInProgress:t._store.isTaskAdditionInProgress(n.getKey()),onRemoveTaskAnimationComplete:t._onTaskRemove,ariaProps:{level:t.props.treeLevel,setSize:t.state.taskItemList?t.state.taskItemList.length:0,positionInSet:i+1,role:"treeitem"}};return n.getOverview(r)},t._onChange=function(){t.setState(t._store.getState())},t._handleKeyDown=function(n){if(t._processManagementStore.canEditTasks())if(n.keyCode===rt.KeyCode.DELETE)t._removeSelectedTasks();else if(n&&n.ctrlKey&&n.altKey)switch(n.keyCode){case c.KeyCodes.MoveSelectedItemUp:t._shiftSelectedTask(-1);break;case c.KeyCodes.MoveSelectedItemDown:t._shiftSelectedTask(1)}},t._onTaskRemove=function(n){var r=t._store.getState().taskItemList.filter(function(t){return n===t.getKey()})[0],u=t._createReferenceCountPayload(r,!1),i;t._actionCreator.removeTask(n,!0,u);i=t._store.getNextItemToBeSelected();t._itemSelectorActions.deselectItem.invoke({data:r,canParticipateInMultiSelect:!0});t._itemSelectorActions.updateItemList.invoke(t.state.taskItemList);i?t._itemSelectorActions.selectItem.invoke({data:i,canParticipateInMultiSelect:!0}):t.props.onRemove?t.props.onRemove():d.logError("[TaskListControllerView._onTaskRemove]: onRemove method has not been initialized.")},t._onRemoveTaskCallDelegate=function(n){var t=f.ActionCreatorManager.GetActionCreator(v.TaskActionCreator,n);t.markTaskAsDeleting()},t._insertTask=function(n){var r=h.DragDropManager.instance().isCopyAction(),u=it.equals(n.sourceItem.key,o.TASK_DEFINITION_DATA_KEY)?null:t._createReferenceCountPayload(n.sourceItem.data,!0),i;t._actionCreator.insertTask(n,r,u);i=t._store.getNextItemToBeSelected();!i||t._itemSelectorActions.selectItem.invoke({data:i,canParticipateInMultiSelect:!0})},t._removeTask=function(n){t._actionCreator.removeTask(n.getKey(),!1)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=l.StoreManager.GetStore(b.TaskListStore,this.props.taskListStoreInstanceId);this._itemSelectionStore=l.StoreManager.GetStore(w.Store,this.props.instanceId);this._actionCreator=f.ActionCreatorManager.GetActionCreator(u.TaskListActionsCreator,this.props.taskListStoreInstanceId);this._itemSelectorActions=e.ActionsHubManager.GetActionsHub(r.Actions,this.props.instanceId);this._processManagementStore=l.StoreManager.GetStore(y.ProcessManagementStore,this._store.getProcessInstanceId());h.DragDropManager.instance().registerInsertCallback(this.props.taskListStoreInstanceId,this._insertTask);h.DragDropManager.instance().registerRemoveCallback(this.props.taskListStoreInstanceId,this._removeTask);this._store.removeTaskCallDelegate=this._onRemoveTaskCallDelegate;this._store.addListener(o.TaskListStoreChangedEvents.TasksSelectionUpdatedEvent,this._onChange);this.setState(this._store.getState())},t.prototype.componentDidMount=function(){this._store.addChangedListener(this._onChange)},t.prototype.componentWillUnmount=function(){h.DragDropManager.instance().unregisterInsertCallback(this.props.taskListStoreInstanceId);h.DragDropManager.instance().unregisterRemoveCallback(this.props.taskListStoreInstanceId);this._store.removeChangedListener(this._onChange);this._store.removeListener(o.TaskListStoreChangedEvents.TasksSelectionUpdatedEvent,this._onChange);this._addTaskAnimationTimeoutHandle&&this._addTaskAnimationTimeoutHandle.cancel()},t.prototype.render=function(){return i.createElement("div",{className:"task-list-container",onKeyDown:this._handleKeyDown},i.createElement(k.List,{role:"group",items:nt.clone(this.state.taskItemList),onRenderCell:this._onRenderItem}))},t.prototype.componentDidUpdate=function(){var n=this;this._store.isSelectionObsolete()&&tt.delay(this,10,function(){n._resetSelections()});this._store.getAdditionInProgressTaskInstanceId()&&(this._addTaskAnimationTimeoutHandle=tt.delay(this,500,function(){n._addTaskAnimationTimeoutHandle=null;n._actionCreator.completeTaskAddition()}))},t.prototype._removeSelectedTasks=function(){var t=this._itemSelectionStore.getState().selectedItems.filter(function(n){return it.caseInsensitiveContains(n.data.getKey(),o.TASK_ITEM_PREFIX)}),n,i;t&&(n=t.map(function(n){return n.data}),n.forEach(function(n){n.removeTask()}),i=n.length===1?p.TaskRemoved:p.TasksRemoved,g.announce(i,!0),this._itemSelectorActions.updateItemList.invoke(this.state.taskItemList),this._publishTelemetryForRemoveTask(n.length))},t.prototype._publishTelemetryForRemoveTask=function(n){var t={};t[a.Properties.SelectedTasksLength]=n;a.Telemetry.instance().publishEvent(a.Feature.RemoveTask,t,a.Source.Keyboard)},t.prototype._createReferenceCountPayload=function(n,t){var i={};return i.processParameterReferencePayload={processParameterReferenceData:n?n.getProcessParameterNameToReferenceCount():[],shouldReferencesIncrease:t},i.processInstanceId=this._store.getProcessInstanceId(),i},t.prototype._resetSelections=function(){this._itemSelectorActions.selectItem.invoke({data:this._store.getNextItemToBeSelected(),canParticipateInMultiSelect:!0})},t.prototype._shiftSelectedTask=function(n){var t=this._itemSelectionStore.getState().selectedItems.filter(function(n){return it.caseInsensitiveContains(n.data.getKey(),o.TASK_ITEM_PREFIX)}),i,r;t&&t.length===1&&t[0]&&(i=t[0],r=i.data.getKey(),this._actionCreator.shiftTask(r,n),a.Telemetry.instance().publishEvent(a.Feature.MoveTask,{},a.Source.Keyboard),this._itemSelectorActions.updateItemList.invoke(this.state.taskItemList))},t}(s.Component);t.TaskListControllerView=ut});

define("DistributedTaskControls/Components/TaskList",["require","exports","react","DistributedTaskControls/ControllerViews/TaskListControllerView"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t,i,r){this._removeDelegate=n;this._taskListStoreInstanceId=t;this._taskGroupType=i;this._treeLevel=r;this._details=null}return n.prototype.getOverview=function(n){return this._overView||(this._overView=i.createElement(r.TaskListControllerView,{instanceId:n,onRemove:this._removeDelegate,taskListStoreInstanceId:this._taskListStoreInstanceId,taskGroupType:this._taskGroupType,treeLevel:this._treeLevel})),this._overView},n.prototype.getDetails=function(){return this._details},n.prototype.getKey=function(){return"common.tasklist"},n}();t.TaskList=u});

define("DistributedTaskControls/Phase/Actions/DependenciesActionsCreator",["require","exports","DistributedTaskControls/Phase/Actions/DependenciesActions","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.getKey=function(){return f.ActionCreatorKeys.DependenciesActionsCreator},t.prototype.initialize=function(n){this._actions=u.ActionsHubManager.GetActionsHub(i.DependenciesActions,n)},t.prototype.updateDependencies=function(n){return this._actions.updateDependencies.invoke(n)},t.prototype.updateCurrentDependencies=function(n){return this._actions.updateCurrentDependencies.invoke(n)},t}(r.ActionCreatorBase);t.DependenciesActionsCreator=e});

define("DistributedTaskControls/Phase/RefNames",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.GenerateUniqueRefNameForJob=function(n){var r=0,t=i.format(this._phaseRefNameFormat,++r),u;if(!!n)for(u=n.filter(function(n){return n!==null&&n!==undefined});u.indexOf(t)>-1;)t=i.format(this._phaseRefNameFormat,++r);return t},n._phaseRefNameFormat="Job_{0}",n}();t.RefNames=r});

define("DistributedTaskControls/Phase/Stores/DefaultPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/PhaseStoreBase"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition)||this;return i._initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.DefaultPhaseStore},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype._initializeStates=function(t){this._originalState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=r.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},t}(u.PhaseStoreBase);t.DefaultPhaseStore=f});

define("DistributedTaskControls/Stores/DemandsStore",["require","exports","DistributedTaskControls/Actions/DemandsActions","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/AppContext","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c){var a,l;Object.defineProperty(t,"__esModule",{value:!0});a=function(n){function t(t){var i=__construct(this,n,[]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._createDemandsListener=function(n){i._createOrUpdateDemandsListener(n.demands);i.emitChanged()},i._updateDemandsListener=function(n){i._createOrUpdateDemandsListener(n.demands);n.forceUpdate&&i.emitChanged()},i._updateDemandCondition=function(n){n.condition&&(i._currentDemandsState.demands[n.index].condition=n.condition,n.condition===f.DemandCondition.Exists&&(i._currentDemandsState.demands[n.index].value=c.empty));i.emitChanged()},i._updateDemandKey=function(n){i._currentDemandsState.demands[n.index].name=n.key;i.emitChanged()},i._updateDemandValue=function(n){n.value!==null&&n.value!==undefined&&(i._currentDemandsState.demands[n.index].value=n.value);i.emitChanged()},i._addDemand=function(){i._currentDemandsState.demands.push({name:c.empty,condition:f.DemandCondition.Exists,value:c.empty});i.emitChanged()},i._deleteDemand=function(n){i._currentDemandsState.demands.splice(n.index,1);i.emitChanged()},u=t.demands||[],i._currentDemandsState={demands:e.JQueryWrapper.extendDeep([],u)},i._originalDemandsState={demands:e.JQueryWrapper.extendDeep([],u)},i}return __extends(t,n),t.getKey=function(){return f.StoreKeys.DemandsStore},t.prototype.initialize=function(n){this._actionsHub=r.ActionsHubManager.GetActionsHub(i.DemandsActions,n);this._actionsHub.createDemands.addListener(this._createDemandsListener);this._actionsHub.updateDemands.addListener(this._updateDemandsListener);this._actionsHub.updateDemandCondition.addListener(this._updateDemandCondition);this._actionsHub.updateDemandKey.addListener(this._updateDemandKey);this._actionsHub.updateDemandValue.addListener(this._updateDemandValue);this._actionsHub.addDemand.addListener(this._addDemand);this._actionsHub.deleteDemand.addListener(this._deleteDemand)},t.prototype.disposeInternal=function(){this._actionsHub.createDemands.removeListener(this._createDemandsListener);this._actionsHub.updateDemands.removeListener(this._updateDemandsListener);this._actionsHub.updateDemandCondition.removeListener(this._updateDemandCondition);this._actionsHub.updateDemandKey.removeListener(this._updateDemandKey);this._actionsHub.updateDemandValue.removeListener(this._updateDemandValue);this._actionsHub.addDemand.removeListener(this._addDemand);this._actionsHub.deleteDemand.removeListener(this._deleteDemand);this._originalDemandsState.demands=null;this._currentDemandsState.demands=null},t.prototype.isDirty=function(){return!l.areEqual(this._currentDemandsState.demands,this._originalDemandsState.demands)},t.prototype.isValid=function(){var n=this,t=!0;return this._currentDemandsState.demands&&this._currentDemandsState.demands.forEach(function(i){(n.isDemandNameInvalid(i)||i.condition===f.DemandCondition.Equals&&n.isDemandValueInvalid(i.value))&&(t=!1)}),t},t.prototype.isDemandNameInvalid=function(n){return!!this.getDemandNameInvalidErrorMessage(n)},t.prototype.getDemandNameInvalidErrorMessage=function(n){if(n.condition!==f.DemandCondition.Equals&&u.AppContext.instance().isCapabilitySupported(u.AppCapability.GreaterThanConditionInDemand)){var t=[],i=n.name;if(o.DemandGtVersionRegEx.test(i)?t=i.split(o.DemandGtVersionRegEx):o.DemandEqualsRegEx.test(i)&&(t=i.split(o.DemandEqualsRegEx)),!!t&&t.length>0){if(!this._getDemandNameInvalidErrorMessage(t[0])){if(!!this._getDemandValueInvalidErrorMessage(t[1]))return this._getDemandValueInvalidErrorMessage(t[1])}else return this._getDemandNameInvalidErrorMessage(t[0]);return c.empty}return this._getDemandNameInvalidErrorMessage(i)}return this._getDemandNameInvalidErrorMessage(n.name)},t.prototype.isDemandValueInvalid=function(n){return!!this._getDemandValueInvalidErrorMessage(n)},t.prototype.getState=function(){return this._currentDemandsState},t.prototype.getCurrentDemands=function(){return this._currentDemandsState&&this._currentDemandsState.demands?this._currentDemandsState.demands:null},t.prototype._createOrUpdateDemandsListener=function(n){this._originalDemandsState.demands=l.createDemandsCopy(n);this._currentDemandsState.demands=l.createDemandsCopy(n)},t.prototype._getDemandNameInvalidErrorMessage=function(n){return!n?h.DemandNameEmptyErrorTooltip:n.trim()===c.empty?h.DemandNameEmptyErrorTooltip:/\s/g.test(n.trim())?h.DemandNameSpaceErrorTooltip:c.empty},t.prototype._getDemandValueInvalidErrorMessage=function(n){return!n?h.DemandValueEmptyErrorTooltip:n.trim()===c.empty?h.DemandValueEmptyErrorTooltip:c.empty},t}(s.ChangeTrackerStoreBase);t.DemandsStore=a;l=function(){function n(){}return n.createDemandsCopy=function(n){var t=[];return n.forEach(function(n){t.push({name:n.name,condition:n.condition,value:n.value})}),t},n.areEqual=function(n,t){var r,i,u;if(n.length!==t.length)return!1;for(r=!0,i=0,u=n.length;i<u;i++)if(!this._compareStringWithTrim(n[i].name,t[i].name)||n[i].condition!==t[i].condition||!this._compareStringWithTrim(n[i].value,t[i].value)){r=!1;break}return r},n._compareStringWithTrim=function(n,t){return n||t?!n&&t||n&&!t?!1:c.ignoreCaseComparer(n.trim(),t.trim())===0:!0},n}();t.DemandsUtils=l});

define("DistributedTaskControls/Phase/Stores/RunOnAgentPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/PhaseCache","DistributedTaskControls/Phase/Stores/DependenciesStore","DistributedTaskControls/Phase/Stores/ExecutionPlanStore","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/AgentsStore","DistributedTaskControls/Stores/DemandsStore"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition)||this;return i._handleUpdateEnableAccessToken=function(n){i._state.deploymentInput.enableAccessToken=n;i.emitChanged()},i._handleUpdateSkipArtifactsDownload=function(n){i._state.deploymentInput.skipArtifactsDownload=n;i.emitChanged()},i._handleUpdatePhaseCondition=function(n){i.getState().deploymentInput.condition=n;i.emitChanged()},i._handleUpdatePhase=function(n){i._initializeStates(n)},i._allowInheritAgentQueue=t.allowInheritAgentQueue,i._isPipelineOrchestration=t.isPipelineOrchestration,i._showPhaseDependencies=t.showPhaseDependencies,i._minJobCancelTimeoutInMinutes=t.minJobCancelTimeoutInMinutes,i._initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.RunOnAgentPhaseStore},t.prototype.getPhaseType=function(){return c.DeployPhaseTypes.AgentBasedDeployment},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);var i=u.DtcUtils.convertSerializedDemandToDemandData(this._state.deploymentInput.demands),f=this._state.deploymentInput.dependencies,h=this._originalState.deploymentInput.queueId,c=this._originalState.deploymentInput.agentSpecification,v=this._state.deploymentInput.parallelExecution,y=this._state.deploymentInput.timeoutInMinutes,p=this._state.deploymentInput.jobCancelTimeoutInMinutes;this.addToStoreList(this._demandsStore=r.StoreManager.CreateStore(a.DemandsStore,this.getInstanceId(),{demands:i}));this.addToStoreList(this._dependenciesStore=r.StoreManager.CreateStore(o.DependenciesStore,this.getInstanceId(),{dependencies:f}));this._agentsStore=r.StoreManager.CreateStore(l.AgentsStore,this.getInstanceId(),{defaultQueueId:h,permissibleQueues:e.PhaseCache.instance().getPermissibleQueues(),allQueues:e.PhaseCache.instance().getAllQueues(),allowInheritAgentQueue:this._allowInheritAgentQueue,hideQueues:!this._isPipelineOrchestration,agentSpecification:c});this.addToStoreList(this._agentsStore);this.addToStoreList(this._executionPlanStore=r.StoreManager.CreateStore(s.ExecutionPlanStore,this.getInstanceId(),{parallelExecution:v,timeoutInMinutes:y,jobCancelTimeoutInMinutes:p,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes}));this._phaseDetailsStores.push(this._demandsStore);this._phaseDetailsStores.push(this._dependenciesStore);this._phaseDetailsStores.push(this._agentsStore);this._phaseDetailsStores.push(this._executionPlanStore);this._deployPhaseActionsHub.updateEnableAccessToken.addListener(this._handleUpdateEnableAccessToken);this._deployPhaseActionsHub.updateSkipArtifactsDownload.addListener(this._handleUpdateSkipArtifactsDownload);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._handleUpdatePhaseCondition);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase)},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updateEnableAccessToken.removeListener(this._handleUpdateEnableAccessToken),this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._handleUpdatePhaseCondition),this._deployPhaseActionsHub.updateSkipArtifactsDownload.removeListener(this._handleUpdateSkipArtifactsDownload),this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase));n.prototype.disposeInternal.call(this)},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype.isDirty=function(){var t=this._currentState,i=this._originalState,r=!1;return r=r||t.deploymentInput.skipArtifactsDownload!==i.deploymentInput.skipArtifactsDownload||t.deploymentInput.condition!==i.deploymentInput.condition||t.deploymentInput.enableAccessToken!==i.deploymentInput.enableAccessToken,r||n.prototype.isDirty.call(this)},t.prototype.isAgentSelectionValid=function(){return this._demandsStore.isValid()&&this._agentsStore.isValid()},t.prototype.isValid=function(){return n.prototype.isValid.call(this)&&this._executionPlanStore.isValid()},t.prototype.arePhaseDetailsValid=function(){return n.prototype.arePhaseDetailsValid.call(this)&&this._executionPlanStore.isValid()},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);this._agentsStore.getSelectedQueue()&&(t.deploymentInput.queueId=this._agentsStore.getSelectedQueue().id);this._agentsStore.getState()&&(t.deploymentInput.agentSpecification=this._agentsStore.getState().selectedAgentSpecification);t.deploymentInput.parallelExecution=this._executionPlanStore.getParallelExecution();t.deploymentInput.timeoutInMinutes=this._executionPlanStore.getTimeout();t.deploymentInput.jobCancelTimeoutInMinutes=this._executionPlanStore.getJobCancelTimeout();t.deploymentInput.enableAccessToken=this._state.deploymentInput.enableAccessToken;t.deploymentInput.dependencies=this._dependenciesStore.getCurrentDependencies();t.deploymentInput.demands=[];t.deploymentInput.demands=u.DtcUtils.convertDemandDataToSerializedDemand(this._demandsStore.getCurrentDemands())},t.prototype.hideAdditionalOptions=function(){return!this._isPipelineOrchestration},t.prototype.showPhaseDependencies=function(){return this._showPhaseDependencies},t.prototype._initializeStates=function(t){this._originalState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},Object.defineProperty(t.prototype,"_state",{get:function(){return this._currentState},enumerable:!0,configurable:!0}),t}(h.PhaseStoreBase);t.RunOnAgentPhaseStore=v});

define("DistributedTaskControls/Stores/DeploymentGroupDemandsStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Stores/MachinesStore","DistributedTaskControls/Stores/TaskListStore","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(t){var i=__construct(this,n,[]),u,f;for(u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i._getMachines=function(){var n=[];return i._machinesStore.getState()&&(n=i._machinesStore.getState().deploymentMachines),n},i._handleChange=function(){i._currentDemands.deploymentGroupDemands=e.DtcUtils.convertSerializedDemandToDeploymentGroupDemandData(i._taskListStore.getReadOnlyDemands());i._updateMachinesMissingDemands(i._currentDemands.deploymentGroupDemands,i._getMachines());i.emitChanged()},f=t.deploymentGroupDemandsData||[],i._currentDemands={deploymentGroupDemands:r.JQueryWrapper.extendDeep([],f)},i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.DeploymentGroupDemandsStore},t.prototype.initialize=function(n){this._taskListStore=f.StoreManager.GetStore(s.TaskListStore,n);this._machinesStore=f.StoreManager.GetStore(o.MachinesStore,n);this._machinesStore.addChangedListener(this._handleChange);this._taskListStore.addChangedListener(this._handleChange)},t.prototype.disposeInternal=function(){this._currentDemands=null;this._taskListStore.removeChangedListener(this._handleChange);this._machinesStore.removeChangedListener(this._handleChange)},t.prototype.getState=function(){return this._currentDemands},t.prototype.isAnyDemandsNotMet=function(){var n=!1;return this._currentDemands&&this._currentDemands.deploymentGroupDemands.forEach(function(t){t.machinesMissingDemand&&t.machinesMissingDemand.length>0&&(n=!0)}),n},t.prototype.getQueueId=function(){return this._machinesStore.getState()?this._machinesStore.getState().deploymentGroupId:null},t.prototype._updateMachinesMissingDemands=function(n,t){var i=this;n.forEach(function(n){var r=[];t.forEach(function(t){var o=t.agent,u,f,e;if(o){u=o.systemCapabilities;f={};for(e in u)u.hasOwnProperty(e)&&(f[e.toLocaleLowerCase()]=u[e].toLocaleLowerCase());i._isDemandMissing(n,f.hasOwnProperty(n.name.toLocaleLowerCase())?f[n.name.toLocaleLowerCase()]:null)&&r.push({machineNameMissingDemand:o.name,machineIdMissingDemand:t.id})}});n.machinesMissingDemand=r})},t.prototype._isDemandMissing=function(n,t){return n.value!==i.DemandCondition.Exists&&h.localeIgnoreCaseComparer(n.value,t)!==0||n.value===i.DemandCondition.Exists&&!t},t}(u.StoreBase);t.DeploymentGroupDemandsStore=c});

define("DistributedTaskControls/Phase/Stores/RunOnMachineGroupPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/MachineGroupInputsStore","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/Types","DistributedTaskControls/Stores/DeploymentGroupDemandsStore","DistributedTaskControls/Stores/DeploymentGroupsStore","DistributedTaskControls/Stores/MachinesStore","DistributedTaskControls/Common/RegexConstants","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition)||this;return i._handleMachineGroupInputsChange=function(){i._machineGroupInputsStore.updateVisitor(i._currentState);i._handleUpdateDeploymentMachineGroup(i.getState().deploymentInput.queueId)},i._handleMachineStoreChange=function(){i._isTargetsInitialised=!0;i._handleUpdateDeploymentMachineGroup(i.getState().deploymentInput.queueId)},i._handleUpdateEnableAccessToken=function(n){i.getState().deploymentInput.enableAccessToken=n;i.emitChanged()},i._handleUpdateSkipArtifactsDownload=function(n){i.getState().deploymentInput.skipArtifactsDownload=n;i.emitChanged()},i._handleUpdatePhaseCondition=function(n){i.getState().deploymentInput.condition=n;i.emitChanged()},i._handleUpdateTimeout=function(n){i.getState().deploymentInput.timeoutInMinutes=n;i.emitChanged()},i._handleUpdateJobCancelTimeout=function(n){i.getState().deploymentInput.jobCancelTimeoutInMinutes=n;i.emitChanged()},i._handleUpdateDeploymentMachineGroup=function(n){i.getState().deploymentInput.queueId=n===null||n===undefined?-1:n;i._numberOfMachinesWithTags=i._getNumberOfDeploymentMachinesWithTags();i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i.emitChanged()},i._handleUpdateDeploymentHealthOption=function(n){i.getState().deploymentInput.deploymentHealthOption=n;y.equals(n,s.DeploymentHealthOptionConstants.Custom,!0)&&(i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel());i.emitChanged()},i._handleUpdateHealthPercent=function(n){i.getState().deploymentInput.healthPercent=n;i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i.emitChanged()},i._handleUpdateTags=function(n){var t=n.filter(function(n){return n.trim().length>0});i.getState().deploymentInput.tags=t;i._numberOfMachinesWithTags=i._getNumberOfDeploymentMachinesWithTags();i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i._isVariableTagPresent=i._checkVariableTagPresent();i.emitChanged()},i._onDeploymentGroupsStoreChanged=function(){i._numberOfMachinesWithTags=i._getNumberOfDeploymentMachinesWithTags();i._numberOfMachinesToDeployToInParallel=i._getNumberOfMachinesToDeployToInParallel();i.emitChanged()},i._handleUpdatePhase=function(n){i._initializeStates(n)},i._initializeStates(t.phase),i}return __extends(t,n),t.getKey=function(){return i.StoreKeys.RunOnMachineGroupPhaseStore},t.prototype.getPhaseType=function(){return s.DeployPhaseTypes.MachineGroupBasedDeployment},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._machineGroupInputsStore=r.StoreManager.CreateStore(e.MachineGroupInputsStore,t,{phase:this._currentState,processInstanceId:this.getProcessInstanceId(),phaseType:this.getPhaseType()});this._machineGroupInputsStore.addChangedListener(this._handleMachineGroupInputsChange);this._deploymentGroupsStore=r.StoreManager.GetStore(c.DeploymentGroupsStore);this._deploymentGroupsStore.addChangedListener(this._onDeploymentGroupsStoreChanged);var i=this.getState().deploymentInput?this.getState().deploymentInput.tags:[];this._machinesStore=r.StoreManager.CreateStore(l.MachinesStore,t,i);this._machinesStore.addChangedListener(this._handleMachineStoreChange);this._deployPhaseActionsHub.updateEnableAccessToken.addListener(this._handleUpdateEnableAccessToken);this._deployPhaseActionsHub.updateSkipArtifactsDownload.addListener(this._handleUpdateSkipArtifactsDownload);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._handleUpdatePhaseCondition);this._deployPhaseActionsHub.updateTimeout.addListener(this._handleUpdateTimeout);this._deployPhaseActionsHub.updateJobCancelTimeout.addListener(this._handleUpdateJobCancelTimeout);this._deployPhaseActionsHub.updateDeploymentHealthOption.addListener(this._handleUpdateDeploymentHealthOption);this._deployPhaseActionsHub.updateHealthPercent.addListener(this._handleUpdateHealthPercent);this._deployPhaseActionsHub.updateTags.addListener(this._handleUpdateTags);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase);this._deployPhaseActionsHub.updateDeploymentMachineGroup.addListener(this._handleUpdateDeploymentMachineGroup);this._deploymentGroupDemandsStore=r.StoreManager.CreateStore(h.DeploymentGroupDemandsStore,t,{deploymentGroupDemandsData:[]});this._deploymentGroupDemandsStore.addChangedListener(this._handleChange);this._numberOfMachinesWithTags=this._getNumberOfDeploymentMachinesWithTags();this._numberOfMachinesToDeployToInParallel=this._getNumberOfMachinesToDeployToInParallel();this._isVariableTagPresent=this._checkVariableTagPresent();this._isTargetsInitialised=!1},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updateEnableAccessToken.removeListener(this._handleUpdateEnableAccessToken),this._deployPhaseActionsHub.updateSkipArtifactsDownload.removeListener(this._handleUpdateSkipArtifactsDownload),this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._handleUpdatePhaseCondition),this._deployPhaseActionsHub.updateTimeout.removeListener(this._handleUpdateTimeout),this._deployPhaseActionsHub.updateJobCancelTimeout.addListener(this._handleUpdateJobCancelTimeout),this._deployPhaseActionsHub.updateDeploymentHealthOption.removeListener(this._handleUpdateDeploymentHealthOption),this._deployPhaseActionsHub.updateHealthPercent.removeListener(this._handleUpdateHealthPercent),this._deployPhaseActionsHub.updateTags.removeListener(this._handleUpdateTags),this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase),this._deployPhaseActionsHub.updateDeploymentMachineGroup.removeListener(this._handleUpdateDeploymentMachineGroup),this._deploymentGroupDemandsStore.removeChangedListener(this._handleChange));this._machinesStore.removeChangedListener(this._handleMachineStoreChange);this._deploymentGroupsStore.removeChangedListener(this._onDeploymentGroupsStoreChanged);this._machineGroupInputsStore.removeChangedListener(this._handleMachineGroupInputsChange);n.prototype.disposeInternal.call(this)},t.prototype.getState=function(){return this._currentState},t.prototype.isDirty=function(){var t=this.getState(),i=this._originalState,r=!1;return r=this._areTagsDirty(i.deploymentInput.tags,t.deploymentInput.tags)||t.deploymentInput.skipArtifactsDownload!==i.deploymentInput.skipArtifactsDownload||t.deploymentInput.enableAccessToken!==i.deploymentInput.enableAccessToken||t.deploymentInput.condition!==i.deploymentInput.condition||t.deploymentInput.timeoutInMinutes!==i.deploymentInput.timeoutInMinutes||t.deploymentInput.jobCancelTimeoutInMinutes!==i.deploymentInput.jobCancelTimeoutInMinutes||t.deploymentInput.queueId!==i.deploymentInput.queueId||this._isHealthDataDirty(i.deploymentInput,t.deploymentInput),r||n.prototype.isDirty.call(this)},t.prototype.isValid=function(){return n.prototype.isValid.call(this)&&this.areDeploymentTargetsValid()},t.prototype.arePhaseDetailsValid=function(){return n.prototype.arePhaseDetailsValid.call(this)&&this.areDeploymentTargetsValid()},t.prototype.areDeploymentTargetsValid=function(){var n=this.getState(),t=n.deploymentInput.timeoutInMinutes,r=n.deploymentInput.jobCancelTimeoutInMinutes;return u.DtcUtils.isNumberInRange(r,s.DeployPhaseSectionConstants.MinJobCancelTimeout,s.DeployPhaseSectionConstants.MaxJobCancelTimeout)&&u.DtcUtils.isNumberInRange(t,0,i.MaxPositiveNumber)&&this._isValidDeploymentGroupId(n.deploymentInput.queueId)&&this._isValidHealthData(n.deploymentInput)},t.prototype.getOverrideInputs=function(){return this._machineGroupInputsStore.getState().overrideInputs},t.prototype.isValidTimeoutValue=function(n){return u.DtcUtils.isValidNonNegativeIntegerInRange(n,0,i.MaxPositiveNumber)===i.InputState.Valid},t.prototype.isValidJobCancelTimeoutValue=function(n){return u.DtcUtils.isValidNonNegativeIntegerInRange(n,s.DeployPhaseSectionConstants.MinJobCancelTimeout,s.DeployPhaseSectionConstants.MaxJobCancelTimeout)===i.InputState.Valid},t.prototype.getNumberOfMachinesWithSelectedTags=function(){return this._numberOfMachinesWithTags},t.prototype.getNumberOfMachinesToDeployToInParallel=function(){return this._numberOfMachinesToDeployToInParallel},t.prototype._getCurrentSelectedGroup=function(){var n=this.getState().deploymentInput.queueId;return this._deploymentGroupsStore.getDeploymentGroupById(n)},t.prototype.getAllTagsForDeploymentGroup=function(){var t=this._getCurrentSelectedGroup(),n=[],i;return!t||(i=this._machinesStore.getAllTags(t.id),i.forEach(function(t){n.some(function(n){return y.equals(n,t,!0)})||n.push(t)})),n},t.prototype.getDeploymentGroupsNameList=function(){var n=this.getOriginalDeploymentGroupId();return this._deploymentGroupsStore.getDeploymentGroupsNameList(n)},t.prototype.areDemandsNotMet=function(){return this._deploymentGroupDemandsStore?this._deploymentGroupDemandsStore.isAnyDemandsNotMet():!1},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);this._machineGroupInputsStore.updateVisitor(t)},t.prototype.isTargetsInitialised=function(){return this._isTargetsInitialised},t.prototype.isVariableTagPresent=function(){return this._isVariableTagPresent},t.prototype._checkVariableTagPresent=function(){return this.getState().deploymentInput.tags.some(function(n){return a.VariableParameterRegex.test(n)})},t.prototype.getOriginalDeploymentGroupId=function(){var n=this._originalState;return n.deploymentInput&&n.deploymentInput.queueId},t.prototype._setEffectiveHealthData=function(n){(n.deploymentInput.healthPercent===null||n.deploymentInput.healthPercent===undefined)&&(n.deploymentInput.healthPercent=0);switch(n.deploymentInput.deploymentHealthOption){case s.DeploymentHealthOptionConstants.AllTargetsInParallel:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom;n.deploymentInput.healthPercent=0;break;case s.DeploymentHealthOptionConstants.HalfOfTargetsInParallel:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom;n.deploymentInput.healthPercent=50;break;case s.DeploymentHealthOptionConstants.QuarterOfTargetsInParallel:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom;n.deploymentInput.healthPercent=75;break;case s.DeploymentHealthOptionConstants.OneTargetAtATime:break;case s.DeploymentHealthOptionConstants.Custom:break;default:n.deploymentInput.deploymentHealthOption=s.DeploymentHealthOptionConstants.Custom}},t.prototype._isValidDeploymentGroupId=function(n){if(!this._deploymentGroupsStore.areMachineGroupsInitialized())return!0;var t=this._deploymentGroupsStore.getDeploymentGroupById(n);return t?!0:!1},t.prototype._isValidHealthData=function(n){var t=!0;return y.equals(n.deploymentHealthOption,s.DeploymentHealthOptionConstants.Custom,!0)&&(t=u.DtcUtils.isNumberInRange(n.healthPercent,s.RunOnMachineGroupPhaseConstants.HealthPercentMinValue,s.RunOnMachineGroupPhaseConstants.HealthPercentMaxValue)),t},t.prototype._getNumberOfMachinesToDeployToInParallel=function(){var n=this.getState().deploymentInput,t=n.healthPercent===null||n.healthPercent===undefined?0:n.healthPercent;return Math.floor((1-t/100)*this._numberOfMachinesWithTags)},t.prototype._getNumberOfDeploymentMachinesWithTags=function(){return this._machinesStore.getState()?this._machinesStore.getState().deploymentMachines.length:0},t.prototype._areTagsDirty=function(n,t){return!v.arrayEquals(t,n,function(n,t){return y.localeIgnoreCaseComparer(n,t)===0},!0)},t.prototype._isHealthDataDirty=function(n,t){var i=!1;switch(n.deploymentHealthOption){case s.DeploymentHealthOptionConstants.OneTargetAtATime:i=t.deploymentHealthOption!==n.deploymentHealthOption;break;case s.DeploymentHealthOptionConstants.Custom:i=t.deploymentHealthOption!==n.deploymentHealthOption||t.healthPercent!==n.healthPercent}return i},t.prototype._initializeStates=function(t){this._setEffectiveHealthData(t);this._originalState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=f.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},t}(o.PhaseStoreBase);t.RunOnMachineGroupPhaseStore=p});

define("DistributedTaskControls/Phase/Stores/RunOnServerPhaseStore",["require","exports","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/Stores/DependenciesStore","DistributedTaskControls/Phase/Stores/ExecutionPlanStore","DistributedTaskControls/Phase/Stores/PhaseStoreBase","DistributedTaskControls/Phase/Types"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(t){var i=n.call(this,t.itemSelectionInstanceId,t.taskDelegates,t.processInstanceId,t.processParametersNotSupported,t.isFileSystemBrowsable,t.phaseDefinition,{donotShowOutputVariables:!0})||this;return i._handleUpdatePhase=function(n){i._initializeStates(n)},i._handleUpdatePhaseCondition=function(n){i.getState().deploymentInput===undefined?i.getState().deploymentInput={condition:n,dependencies:null,shareOutputVariables:null,parallelExecution:null,timeoutInMinutes:null,jobCancelTimeoutInMinutes:0}:i.getState().deploymentInput.condition=n;i.emitChanged()},i._isPipelineOrchestration=t.isPipelineOrchestration,i._showPhaseDependencies=t.showPhaseDependencies,i._minJobCancelTimeoutInMinutes=t.minJobCancelTimeoutInMinutes,i._initializeStates(t.phase),i}return __extends(t,n),t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);var i=this._state.deploymentInput.parallelExecution,u=this._state.deploymentInput.timeoutInMinutes,o=this._state.deploymentInput.jobCancelTimeoutInMinutes,s=this._state.deploymentInput.dependencies;this.addToStoreList(this._executionPlanStore=r.StoreManager.CreateStore(e.ExecutionPlanStore,this.getInstanceId(),{parallelExecution:i,timeoutInMinutes:u,jobCancelTimeoutInMinutes:o,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes}));this.addToStoreList(this._dependenciesStore=r.StoreManager.CreateStore(f.DependenciesStore,this.getInstanceId(),{dependencies:s}));this._phaseDetailsStores.push(this._dependenciesStore);this._phaseDetailsStores.push(this._executionPlanStore);this._deployPhaseActionsHub.updatePhase.addListener(this._handleUpdatePhase);this._deployPhaseActionsHub.updatePhaseCondition.addListener(this._handleUpdatePhaseCondition)},t.getKey=function(){return i.StoreKeys.RunOnServerPhaseStore},t.prototype.getPhaseType=function(){return s.DeployPhaseTypes.RunOnServer},t.prototype.getState=function(){return n.prototype.getState.call(this)},t.prototype.disposeInternal=function(){this._deployPhaseActionsHub&&(this._deployPhaseActionsHub.updatePhase.removeListener(this._handleUpdatePhase),this._deployPhaseActionsHub.updatePhaseCondition.removeListener(this._handleUpdatePhaseCondition));n.prototype.disposeInternal.call(this)},t.prototype.updateVisitor=function(t){n.prototype.updateVisitor.call(this,t);t.deploymentInput.parallelExecution=this._executionPlanStore.getParallelExecution();t.deploymentInput.timeoutInMinutes=this._executionPlanStore.getTimeout();t.deploymentInput.jobCancelTimeoutInMinutes=this._executionPlanStore.getJobCancelTimeout();t.deploymentInput.dependencies=this._dependenciesStore.getCurrentDependencies()},t.prototype.isDirty=function(){var t=this._currentState,r=this._originalState,i=!1;return t.deploymentInput!==undefined&&(i=t.deploymentInput.condition!==r.deploymentInput.condition),i||n.prototype.isDirty.call(this)},t.prototype.hideAdditionalOptions=function(){return!this._isPipelineOrchestration},t.prototype.showPhaseDependencies=function(){return this._showPhaseDependencies},t.prototype._initializeStates=function(t){t.deploymentInput||(t.deploymentInput={parallelExecution:{parallelExecutionType:s.ParallelExecutionTypes.None},timeoutInMinutes:0,jobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes});this._originalState=u.DeployPhaseUtilities.createDeployPhaseCopy(t);this._currentState=u.DeployPhaseUtilities.createDeployPhaseCopy(t);n.prototype._initializeInputsState.call(this)},Object.defineProperty(t.prototype,"_state",{get:function(){return this._currentState},enumerable:!0,configurable:!0}),t}(o.PhaseStoreBase);t.RunOnServerPhaseStore=h});

define("DistributedTaskControls/Phase/Stores/DeployPhaseListStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Stores/ListDataStoreBase","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/DeployPhaseUtilities","DistributedTaskControls/Phase/RefNames","DistributedTaskControls/Phase/Stores/DefaultPhaseStore","DistributedTaskControls/Phase/Stores/RunOnAgentPhaseStore","DistributedTaskControls/Phase/Stores/RunOnMachineGroupPhaseStore","DistributedTaskControls/Phase/Stores/RunOnServerPhaseStore","DistributedTaskControls/Phase/Types","VSS/Diag","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});var d=function(n){function t(t){var i=__construct(this,n,[!0]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._addPhase=function(n){var r=h.DeployPhaseUtilities.getDefaultDeployPhase(n,i._phaseTypeToDefinitionMap[n],i._minJobCancelTimeoutInMinutes)||i._getDefaultDeployPhase(n,i._phaseTypeToDefinitionMap[n]),t;r.refName=i._generateUniquePhaseRefName();t=i._createStore(r);i._nextSelectablePhaseStore=t;i.addToStoreList(t);i.isSelectionObsolete=!0;i._underAdditionPhaseId=i._nextSelectablePhaseStore.getInstanceId();i.emitChanged()},i._onDeletePhase=function(t){var r=n.prototype.getDataStoreAndIndex.call(i,t),f=r.dataStore,u=r.index;u>=0&&(i.removeFromDataStoreList(f),i._nextSelectablePhaseStore=i.getNextSelectableStoreAfterDelete(u),i.isSelectionObsolete=!0,i.emitChanged())},i._updatePhases=function(n){var t=n&&n.phases?n.phases:[],r=n?n.isForceInitializationOfStore:!1,u;t.length!==i.getDataStoreList().length||r?(u=i._initializeStores(t),i.handleUpdate(u,r),i.emitChanged()):i.handleUpdate()},i._handleShiftPhase=function(n){n&&(i._shiftPhase(n.itemKey,n.shiftBy),i.emitChanged())},i._handleInsertPhase=function(n){var r=i.getDataStoreList(),t=n.phaseToInsert;t&&(i.insertStoreAtTarget(t,n.targetItemInstanceId,n.shouldInsertBefore),i._nextSelectablePhaseStore=t,i.isSelectionObsolete=!0,i.emitChanged())},i._handleCompletePhaseAddition=function(){i._underAdditionPhaseId&&(i._underAdditionPhaseId=k.empty)},i._phaseList=t.phaseList,i._itemSelectionInstanceId=t.itemSelectionInstanceId,i._taskDelegates=t.taskDelegates,i._addTaskVisibilityFilter=t.addTaskVisibilityFilter,i._processParametersNotSupported=t.processParametersNotSupported,i._isFileSystemBrowsable=t.isFileSystemBrowsable,i._allowInheritAgentQueues=t.allowInheritAgentQueues,i._showSkipArtifactDownload=!t.hideSkipArtifactDownload,i._phaseTypeToDefinitionMap={},i._minimumPhaseCount=t.minimumPhaseCount||0,i._createPhaseStoreDelegate=t.createPhaseStoreDelegateMap,i._getDefaultDeployPhase=t.getDefaultDeployPhase,i._isPipelineOrchestration=t.isPipelineOrchestration!=undefined&&t.isPipelineOrchestration!=null?t.isPipelineOrchestration:!0,i._showPhaseDependencies=!!t.showPhaseDependencies,i._minJobCancelTimeoutInMinutes=h.DeployPhaseUtilities.getDefaultJobCancelTimeout(t.minJobCancelTimeout),t.phaseDefinitions&&t.phaseDefinitions.forEach(function(n){i._phaseTypeToDefinitionMap[n.phaseType]=n}),i}return __extends(t,n),t.getKey=function(){return r.StoreKeys.DeployPhaseListStore},t.prototype.initialize=function(t){var u=this,r;n.prototype.initialize.call(this,t);this._deployPhaseListActionsHub=i.ActionsHubManager.GetActionsHub(s.DeployPhaseListActionsHub,t);this._deployPhaseListActionsHub.addPhase.addListener(this._addPhase);this._deployPhaseListActionsHub.deletePhase.addListener(this._onDeletePhase);this._deployPhaseListActionsHub.updatePhases.addListener(this._updatePhases);this._deployPhaseListActionsHub.shiftPhase.addListener(this._handleShiftPhase);this._deployPhaseListActionsHub.insertPhase.addListener(this._handleInsertPhase);this._deployPhaseListActionsHub.completePhaseAddition.addListener(this._handleCompletePhaseAddition);r=[];this._phaseList.forEach(function(n){var t=u._createStore(n);r.push(t)});this.initializeListDataStore(r)},t.prototype.updateVisitor=function(n){n.deployPhases=[];var t=1;this.getDataStoreList().forEach(function(i){var r=u.JQueryWrapper.extend({},null);i.updateVisitor(r);r.rank=t;t=t+1;n.deployPhases.push(r)})},t.prototype.disposeInternal=function(){w.logVerbose("[DeployPhaseList.disposeInternal]: store getting disposed");this._deployPhaseListActionsHub.addPhase.removeListener(this._addPhase);this._deployPhaseListActionsHub.deletePhase.removeListener(this._onDeletePhase);this._deployPhaseListActionsHub.updatePhases.removeListener(this._updatePhases);this._deployPhaseListActionsHub.shiftPhase.removeListener(this._handleShiftPhase);this._deployPhaseListActionsHub.insertPhase.removeListener(this._handleInsertPhase);this._deployPhaseListActionsHub.completePhaseAddition.removeListener(this._handleCompletePhaseAddition);n.prototype.disposeInternal.call(this)},t.prototype.getPhaseStores=function(){return b.clone(this.getDataStoreList())},t.prototype.getNextSelectablePhaseStore=function(){return this._nextSelectablePhaseStore},t.prototype.getTaskVisibilityFilter=function(){return this._addTaskVisibilityFilter},t.prototype.shouldShowSkipArtifactDownload=function(){return this._showSkipArtifactDownload},Object.defineProperty(t.prototype,"isSelectionObsolete",{get:function(){return this._isSelectionObsolete},set:function(n){this._isSelectionObsolete=n},enumerable:!0,configurable:!0}),t.prototype.isValid=function(){var i=this.getDataStoreList(),t=!0;return i&&i.length<this._minimumPhaseCount?t=!1:n.prototype.isValid.call(this)||(t=!1),t},t.prototype.getPhaseCount=function(){var n=this.getDataStoreList();return n?n.length:0},t.prototype.isPhaseAdditionInProgress=function(n){return this._underAdditionPhaseId===n},t.prototype._createStore=function(n){var t,u=r.DEPLOY_PHASE_ITEM_PREFIX+this.getInstanceId()+"-phase-"+o.DtcUtils.getUniqueInstanceId(),i={phaseType:n.phaseType,contributedPhaseInputs:[],phaseInputToContributionMap:null};this._phaseTypeToDefinitionMap&&this._phaseTypeToDefinitionMap[n.phaseType]&&(i=this._phaseTypeToDefinitionMap[n.phaseType]);switch(n.phaseType){case p.DeployPhaseTypes.DefaultPhase:t=e.StoreManager.CreateStore(l.DefaultPhaseStore,r.TaskListStoreInstanceId,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:r.TaskListStoreInstanceId,processParametersNotSupported:this._processParametersNotSupported,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;case p.DeployPhaseTypes.MachineGroupBasedDeployment:t=e.StoreManager.CreateStore(v.RunOnMachineGroupPhaseStore,u,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;case p.DeployPhaseTypes.RunOnServer:t=e.StoreManager.CreateStore(y.RunOnServerPhaseStore,u,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,isPipelineOrchestration:this._isPipelineOrchestration,showPhaseDependencies:this._showPhaseDependencies,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;case p.DeployPhaseTypes.AgentBasedDeployment:case p.DeployPhaseTypes.DefaultPhase:t=e.StoreManager.CreateStore(a.RunOnAgentPhaseStore,u,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,allowInheritAgentQueue:!!this._allowInheritAgentQueues,isPipelineOrchestration:this._isPipelineOrchestration,showPhaseDependencies:this._showPhaseDependencies,minJobCancelTimeoutInMinutes:this._minJobCancelTimeoutInMinutes,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i});break;default:this._createPhaseStoreDelegate&&(t=this._createPhaseStoreDelegate[n.phaseType](u,n,{phase:n,itemSelectionInstanceId:this._itemSelectionInstanceId,taskDelegates:this._taskDelegates,processInstanceId:this.getInstanceId(),processParametersNotSupported:this._processParametersNotSupported,isFileSystemBrowsable:this._isFileSystemBrowsable,phaseDefinition:i}))}return t},t.prototype._shiftPhase=function(n,t){var r=this.getDataStoreList(),u,i;r&&r.length>0&&(u=-1,i=-1,u=b.findIndex(r,function(t){return t&&t.getInstanceId()===n}),i=u+t,u!==-1&&i!==-1&&i<r.length&&(i=t<0?i:i+1,this.reorderDataStoreList(n,i)))},t.prototype._initializeStores=function(n){var i=this,t=[];return n.forEach(function(n){var r=i._createStore(n);t.push(r)}),t},t.prototype._generateUniquePhaseRefName=function(){var t=null,n;return this._isPipelineOrchestration&&(n=[],this.getPhaseStores().forEach(function(t){return n.push(t.getState().refName)}),t=c.RefNames.GenerateUniqueRefNameForJob(n)),t},t}(f.ListDataStoreBase);t.DeployPhaseListStore=d});

define("DistributedTaskControls/Phase/Actions/DeployPhaseListActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Actions/DependenciesActionsCreator","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/Stores/DeployPhaseListStore","DistributedTaskControls/Phase/Types","DistributedTaskControls/Phase/Stores/DependenciesStore"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(n){this._instanceId=n;this._deployPhaseListActionsHub=r.ActionsHubManager.GetActionsHub(h.DeployPhaseListActionsHub,n)},t.getKey=function(){return f.ActionCreatorKeys.DeployPhaseListActionsCreator},t.prototype.addPhase=function(n){this._deployPhaseListActionsHub.addPhase.invoke(n)},t.prototype.deletePhase=function(n,t){var r=e.StoreManager.GetStore(c.DeployPhaseListStore,this._instanceId);r.getPhaseStores().forEach(function(n){var f,s;if(n.getPhaseType()===l.DeployPhaseTypes.AgentBasedDeployment||n.getPhaseType()===l.DeployPhaseTypes.RunOnServer){var r=n.getInstanceId(),h=e.StoreManager.GetStore(a.DependenciesStore,r),u=h.getCurrentDependencies();u.length>0&&(f=u.filter(function(n){return n.scope!==t.refName}),s=i.ActionCreatorManager.GetActionCreator(o.DependenciesActionsCreator,r),s.updateCurrentDependencies({dependencies:f}))}});this._deployPhaseListActionsHub.deletePhase.invoke(n)},t.prototype.updatePhases=function(n,t){var f={phases:n,isForceInitializationOfStore:t},u,r;this._deployPhaseListActionsHub.updatePhases.invoke(f);u=e.StoreManager.GetStore(c.DeployPhaseListStore,this._instanceId);r={};u.getDataStoreList().forEach(function(n,t){var i=n.getInstanceId();r[t]=i});n=n||[];n.forEach(function(n,u){var f=i.ActionCreatorManager.GetActionCreator(s.DeployPhaseActionsCreator,r[u]);f.updatePhase(n,t)})},t.prototype.shiftPhase=function(n,t){this._deployPhaseListActionsHub.shiftPhase.invoke({itemKey:n,shiftBy:t})},t.prototype.insertPhase=function(n){this._deployPhaseListActionsHub.insertPhase.invoke(n)},t.prototype.startDragPhase=function(){this._deployPhaseListActionsHub.startDragPhase.invoke({})},t.prototype.endDragPhase=function(){this._deployPhaseListActionsHub.endDragPhase.invoke({})},t.prototype.completePhaseAddition=function(){this._deployPhaseListActionsHub.completePhaseAddition.invoke({})},t}(u.ActionCreatorBase);t.DeployPhaseListActionsCreator=v});

define("DistributedTaskControls/Phase/Components/DeployPhaseItemOverview",["require","exports","react","react-dom","react-transition-group","DistributedTaskControls/Actions/ItemSelectorActions","DistributedTaskControls/Actions/ProcessParameterActions","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Common","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/DragDropManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Task/AddTaskItem","DistributedTaskControls/Components/TaskList","DistributedTaskControls/Components/TwoPanelOverviewComponent","DistributedTaskControls/Phase/Actions/DeployPhaseListActionsCreator","DistributedTaskControls/Phase/Actions/DeployPhaseListActions","DistributedTaskControls/Phase/Components/DeletePhaseDialog","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/Button","OfficeFabric/List","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Phase/Components/DeployPhaseItemOverview"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){var ct;Object.defineProperty(t,"__esModule",{value:!0});var lt=500,at=1e3,ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleKeyDown=function(n){t._processManagementStore.canEditPhases()&&n.keyCode===st.KeyCode.DELETE&&t._showDeletePhaseDialog()},t._handleDeletePhaseAnimationComplete=function(){var i={refName:t.props.phaseItemStore.getState().refName,name:t.props.phaseItemStore.getState().name},n;t._deployPhaseListActionsCreator.deletePhase(t.props.phaseItemStore.getInstanceId(),i);n={processParameterReferenceData:t.props.phaseItemStore.getProcessParametersReferenceData(),shouldReferencesIncrease:!1};t._processParametersActionsHub.updateReferenceCount.invoke(n)},t._onAddTaskClicked=function(){var n=t._items[0];t._itemSelectorActions.selectItem.invoke({data:t._addTaskItem})},t._onRenderItem=function(n){return n.getOverview(t.props.instanceId)},t._onStoreChanged=function(){t._setState()},t._onDragStart=function(n){l.DragDropManager.instance().onDragStart(n,{listId:t.props.phaseListInstanceId,key:t.props.item.getKey(),data:t.props.item},!1,"move");st.BrowserCheckUtils.isChrome()||st.BrowserCheckUtils.isSafari()?setTimeout(function(){t._deployPhaseListActionsHub.startDragPhase.invoke({})},1):t._deployPhaseListActionsHub.startDragPhase.invoke({})},t._onDragOver=function(n){l.DragDropManager.instance().onDragOver(n,t._itemAcceptsDropData)},t._onDragLeave=function(n){l.DragDropManager.instance().onDragLeave(n,t._itemAcceptsDropData)},t._onDrop=function(n){var i=l.DragDropManager.instance().getSource(),r=t.props.phaseListInstanceId,u=t.props.item;(ot.equals(i.key,h.TASK_DEFINITION_DATA_KEY)||i.data.getKey&&ot.caseInsensitiveContains(i.data.getKey(),h.TASK_ITEM_PREFIX))&&(r=t.props.phaseItemStore.getInstanceId(),u=null);l.DragDropManager.instance().onDrop(n,{listId:r,key:t.props.item.getKey(),data:u},t._itemAcceptsDropData)},t._onDragEnd=function(n){var i=l.DragDropManager.instance().onDragEnd(n);i===l.DropStatus.Accepted&&v.Telemetry.instance().publishEvent(v.Feature.MovePhase,{},v.Source.DragAndDrop);t._deployPhaseListActionsHub.endDragPhase.invoke({})},t._itemAcceptsDropData=function(n,i){if(!n||!n.data)return!1;if(ot.equals(n.key,h.TASK_DEFINITION_DATA_KEY)&&t._processManagementStore.canEditTasks())return n.listId===t.props.phaseItemStore.getInstanceId();if(n.data.getKey&&ot.caseInsensitiveContains(n.data.getKey(),h.TASK_ITEM_PREFIX)&&t._processManagementStore.canEditTasks()){var r=t.props.taskGroupType;return r?y.DtcUtils.isTaskSupportedForTaskGroup(r,n.data.getRunsOn()):!0}return!i&&n.data.getKey&&ot.caseInsensitiveContains(n.data.getKey(),h.DEPLOY_PHASE_ITEM_PREFIX)&&t._processManagementStore.canEditPhases()},t._showDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!0})},t._hideDeletePhaseDialog=function(){t.setState({showDeletePhaseDialog:!1})},t.c_reorderPhaseListInProgressClassName="is-reorder-phase-list-inprogress",t}return __extends(t,n),t.prototype.componentWillMount=function(){var i=this,n=this.props.phaseItemStore.getInstanceId(),t;this._processManagementStore=a.StoreManager.GetStore(nt.ProcessManagementStore,this.props.phaseItemStore.getProcessInstanceId());this._deployPhaseListActionsCreator=o.ActionCreatorManager.GetActionCreator(k.DeployPhaseListActionsCreator,this.props.phaseListInstanceId);this._deployPhaseListActionsHub=s.ActionsHubManager.GetActionsHub(d.DeployPhaseListActionsHub,this.props.phaseListInstanceId);this._processParametersActionsHub=s.ActionsHubManager.GetActionsHub(e.ProcessParameterActions,n);this._itemSelectorActions=s.ActionsHubManager.GetActionsHub(f.Actions,this.props.itemSelectionInstanceId);this._items=[];t=this.props.taskGroupType;this._items.push(this._addTaskItem=new p.AddTaskItem({visibilityFilter:this.props.addTaskVisibilityFilter,taskListStoreInstanceId:n,hideOverview:!0,taskGroupType:t}));this._items.push(new w.TaskList(function(){i._itemSelectorActions.selectItem.invoke({data:i.props.item})},n,t,this.props.ariaProps?this.props.ariaProps.level+1:1));this.setState({name:this.props.phaseItemStore.getState().name,isValid:this.props.phaseItemStore.isValid(),isReorderPhaseListInProgress:this.props.phaseItemStore.isReorderPhaseListInProgress,animationState:this.props.isPhaseAdditionInProgress?h.ReactCSSTransitionStates.Enter:h.ReactCSSTransitionStates.None})},t.prototype.componentWillEnter=function(n){this.props.isPhaseAdditionInProgress?this.setState({animationState:h.ReactCSSTransitionStates.EnterActive},function(){setTimeout(function(){n&&n()},lt)}):n&&n()},t.prototype.componentDidEnter=function(){var n=this;this.props.isPhaseAdditionInProgress&&this.setState({animationState:h.ReactCSSTransitionStates.None},function(){n.props.updatePhaseSelection&&n.props.updatePhaseSelection();n._deployPhaseListActionsHub.completePhaseAddition.invoke({})})},t.prototype.componentWillLeave=function(n){this.setState({animationState:h.ReactCSSTransitionStates.LeaveActive},function(){setTimeout(function(){n&&n()},at)})},t.prototype.componentDidMount=function(){this.props.phaseItemStore.addChangedListener(this._onStoreChanged);this.props.isPhaseAdditionInProgress&&this._phaseContainer.scrollIntoView(!1)},t.prototype.componentWillUnmount=function(){this.props.phaseItemStore.removeChangedListener(this._onStoreChanged);this.state.isDeleting&&(this._handleDeletePhaseAnimationComplete(),this.props.updatePhaseSelection&&this.props.updatePhaseSelection())},t.prototype.componentWillUpdate=function(n){var t=this.state.isReorderPhaseListInProgress!==n.phaseItemStore.isReorderPhaseListInProgress,i=n.phaseItemStore.isDeleting();this.expandTasksContainer(i,n.phaseItemStore.isReorderPhaseListInProgress,t)},t.prototype.componentDidUpdate=function(){this.collapseTasksContainer()},t.prototype.render=function(){var r={ariaProps:this.props.ariaProps,title:this.state.name,view:this._getView(),item:this.props.item,instanceId:this.props.instanceId,overviewClassName:"phase-item-title",controlSection:this._getControlSection(),isDraggable:this._processManagementStore.canEditPhases()},t="phase-item";this.state.isReorderPhaseListInProgress&&(t+=" "+this.c_reorderPhaseListInProgressClassName);var n=this.state.animationState,u=ft.css("phase-item-overview",{"phase-collapsed":this.state.isReorderPhaseListInProgress,"phase-add-delete-animation-enter":n===h.ReactCSSTransitionStates.Enter||n===h.ReactCSSTransitionStates.EnterActive,"phase-add-delete-animation-enter-active":n===h.ReactCSSTransitionStates.EnterActive,"phase-add-delete-animation-leave":n===h.ReactCSSTransitionStates.Leave||n===h.ReactCSSTransitionStates.LeaveActive,"phase-add-delete-animation-leave-active":n===h.ReactCSSTransitionStates.LeaveActive}),f=ft.css("phase-item-task-list-container",{"collapse-expand-transition":!!this.state.collapseExpandAnimation,"deleting-phase-collapse-transition":!!this.state.isDeleting});return i.createElement("div",{className:u,ref:this._resolveRef("_phaseContainer")},i.createElement("div",{ref:this._resolveRef("_phaseItem"),className:t,onKeyDown:this._handleKeyDown,draggable:this._processManagementStore.canEditPhases(),onDragStart:this._onDragStart,onDragEnter:this._onDragOver,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop,onDragEnd:this._onDragEnd},i.createElement(b.TwoPanelOverviewComponent,__assign({},r))),i.createElement("div",{className:f,ref:this._resolveRef("_taskListContainer")},i.createElement(rt.List,{role:"group",ref:this._resolveRef("_taskListComp"),items:this._items,onRenderCell:this._onRenderItem})),this.state.showDeletePhaseDialog&&i.createElement(g.DeletePhaseDialog,{phaseItem:this.props.item,phaseStore:this.props.phaseItemStore,phaseListInstanceId:this.props.phaseListInstanceId,showDialog:this.state.showDeletePhaseDialog,onCancel:this._hideDeletePhaseDialog}))},t.prototype._getView=function(){return i.createElement("div",{className:"phase-overview-description"},this.props.phaseItemStore.arePhaseDetailsValid()?i.createElement("div",{className:"ms-font-s overview-description"},this._areDemandsNotMet()?i.createElement(ut.TooltipHost,{content:tt.MissingDemandWarning,directionalHint:13},i.createElement("span",{"data-is-focusable":!0,"aria-describedby":this.props.phaseTitleDescriptionString+this.props.instanceId,className:"bowtie-icon bowtie-status-warning left",tabIndex:0})):i.createElement("i",{className:this.props.phaseIconName}),this.props.phaseTitleDescriptionString):i.createElement("div",{className:"ms-font-s overview-error-indicator"},i.createElement("i",{className:"bowtie-icon bowtie-status-error-outline left"}),tt.SettingsRequiredMessage))},t.prototype._getControlSection=function(){if(!this._processManagementStore.canEditTasks())return null;var n=ot.localeFormat(tt.AddTaskToPhase,this.state.name);return i.createElement("div",{className:"phase-add-task"},i.createElement(ut.TooltipHost,{content:n,directionalHint:6},i.createElement(it.CommandButton,{className:"add-task-button",iconProps:{iconName:"Add"},onClick:this._onAddTaskClicked,ariaLabel:n})))},t.prototype._areDemandsNotMet=function(){return this.props.phaseItemStore?this.props.phaseItemStore.areDemandsNotMet():!1},t.prototype._setState=function(){var t=this.state.isReorderPhaseListInProgress!==this.props.phaseItemStore.isReorderPhaseListInProgress,n=this.props.phaseItemStore.isDeleting();this.setState({name:this.props.phaseItemStore.getState().name,isValid:this.props.phaseItemStore.isValid(),isReorderPhaseListInProgress:this.props.phaseItemStore.isReorderPhaseListInProgress,collapseExpandAnimation:t,isDeleting:n,animationState:n?h.ReactCSSTransitionStates.Leave:h.ReactCSSTransitionStates.None});n&&this.props.onDeletingPhase()},t.prototype.expandTasksContainer=function(n,t,i){var u=r.findDOMNode(this._taskListContainer),e=r.findDOMNode(this._taskListComp),f;u&&e&&(n?(f=r.findDOMNode(this._phaseItem),f&&(f.setAttribute("style","height:"+f.clientHeight+"px"),u.setAttribute("style","height:"+e.clientHeight+"px"))):t||i?u.setAttribute("style","height:"+e.clientHeight+"px"):u.removeAttribute("style"))},t.prototype.collapseTasksContainer=function(){var n=r.findDOMNode(this._taskListContainer),t;n&&(this.state.isDeleting?(t=r.findDOMNode(this._phaseItem),t&&(t.setAttribute("style","height:0px"),n.setAttribute("style","height:0px"))):this.state.isReorderPhaseListInProgress&&et.delay(this,0,function(){n.setAttribute("style","height:0px")}))},t}(c.Component);t.DeployPhaseItemOverviewContent=ht;ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._handleDeletePhase=function(){t.setState({isDeleting:!0})},t}return __extends(t,n),t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.render=function(){var n=!!this.props.isPhaseAdditionInProgress;return i.createElement(u.TransitionGroup,{component:"div",className:"phase-item-overview-animation-container"},this.state.isMounted&&!this.state.isDeleting&&i.createElement(ht,__assign({key:this.props.item.getKey()},this.props,{onDeletingPhase:this._handleDeletePhase})))},t}(c.Component);t.DeployPhaseItemOverview=ct});

define("PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsCreator",["require","exports","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionsHubManager","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsHub"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return"GatesPhaseActionsCreator"},t.prototype.initialize=function(n){this.actionsHub=r.ActionsHubManager.GetActionsHub(u.GatesPhaseActionsHub,n)},t.prototype.updateStabilizationTime=function(n){this.actionsHub.updateStabilizationTime.invoke(n)},t.prototype.updateTimeout=function(n){this.actionsHub.updateTimeout.invoke(n)},t.prototype.updateSamplingInterval=function(n){this.actionsHub.updateSamplingInterval.invoke(n)},t.prototype.updateMinimumSuccessDuration=function(n){this.actionsHub.updateMinimumSuccessDuration.invoke(n)},t}(i.ActionCreatorBase);t.GatesPhaseActionsCreator=f});

define("PipelineWorkflow/Scripts/Shared/Environment/GatesDeployPhaseItem",["require","exports","react","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Actions/DeployPhaseActionsCreator","DistributedTaskControls/Phase/Components/DeployPhaseAdditionalOptions","DistributedTaskControls/Phase/Components/DeployPhaseDetailsView","DistributedTaskControls/Phase/Components/DeployPhaseItemOverview","DistributedTaskControls/Phase/Types","DistributedTaskControls/ProcessManagement/ProcessManagementStore","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent","DistributedTaskControls/SharedControls/InputControls/Utilities","DistributedTasksCommon/TFS.Tasks.Types","OfficeFabric/Utilities","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseActionsCreator","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseStore","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Constants","VSS/Utils/String","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/Shared/Environment/GatesDeployPhaseItem"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){Object.defineProperty(t,"__esModule",{value:!0});var nt=function(){function n(n,t,o,s,l,a){var v=this;this._phaseStore=n;this._phaseListInstanceId=t;this._itemSelectionInstanceId=o;this._addTaskVisibilityFilter=s;this._getPhaseNames=l;this._showSkipArtifactDownload=a;this._getSections=function(){var n=[],t=v._phaseStore,o=u.StoreManager.GetStore(c.ProcessManagementStore,t.getProcessInstanceId()),r=!o.canEditPhaseInputs(),f=v._getGatesDeploymentInput(v._phaseStore.getState()),s=i.createElement(e.DeployPhaseAdditionalOptions,{key:h.DeployPhaseSectionConstants.AdditionalOptionsKey,phaseItemStore:t,showSkipArtifactDownload:!1,disabled:r,getSections:null,phaseInputsPresent:!1,condition:f.condition});return n.push(v._getGatesOptionsComponentSection(f,r)),n.push(s),n};this._onUpdateTimeout=function(n){v._gatesPhaseActionCreator.updateTimeout(n)};this._onUpdateSamplingIntervalTime=function(n){v._gatesPhaseActionCreator.updateSamplingInterval(n)};this._onUpdateMinimumSuccessfulWindow=function(n){v._gatesPhaseActionCreator.updateMinimumSuccessDuration(n)};this._onUpdateStabilizationTime=function(n){v._gatesPhaseActionCreator.updateStabilizationTime(n)};this._onUpdatePhaseCondition=function(n){v._deployPhaseActionCreator.updatePhaseCondition(n)};this._details=null;this._gatesPhaseActionCreator=r.ActionCreatorManager.GetActionCreator(p.GatesPhaseActionsCreator,this._phaseStore.getInstanceId());this._deployPhaseActionCreator=r.ActionCreatorManager.GetActionCreator(f.DeployPhaseActionsCreator,this._phaseStore.getInstanceId())}return n.CreateDeploymentGatesPhaseItemDelegate=function(t,i,r,u,f,e){return new n(t,i,r,u,f,e)},n.prototype.getOverview=function(n,t,r,u){var f=y.css("bowtie-icon","bowtie-toll","left");return this._overView=i.createElement(s.DeployPhaseItemOverview,{key:this.getKey(),item:this,instanceId:n,phaseItemStore:this._phaseStore,addTaskVisibilityFilter:this._addTaskVisibilityFilter,phaseListInstanceId:this._phaseListInstanceId,itemSelectionInstanceId:this._itemSelectionInstanceId,getPhaseNames:this._getPhaseNames,isPhaseAdditionInProgress:t,updatePhaseSelection:r,ariaProps:u,taskGroupType:v.TaskGroupType.RunsOnServerGate,phaseIconName:f,phaseTitleDescriptionString:b.GatesPhaseTitle}),this._overView},n.prototype.getDetails=function(n){return this._details||(this._details=i.createElement(o.DeployPhaseDetailsView,{key:this.getKey(),instanceId:n,phaseItemStore:this._phaseStore,phaseListInstanceId:this._phaseListInstanceId,phaseItem:this,showSkipArtifactDownload:!1,getPhaseNames:this._getPhaseNames,getSections:this._getSections,phaseInputsPresent:!1,phaseInputStore:null,phaseTitleString:b.GatesPhaseTitle,phaseMarkdown:b.GatesPhaseHelpMarkdown,phaseTypeDescription:b.GatesPhaseTypeDescription,condition:this._getGatesDeploymentInput(this._phaseStore.getState()).condition})),this._details},n.prototype._getGatesDeploymentInput=function(n){return n.deploymentInput},n.prototype._getGatesOptionsComponentSection=function(n,t){var r=w.GatesPhaseStore.isValidSamplingInterval(n.samplingInterval),u=w.GatesPhaseStore.isValidMinimumSuccessDuration(n.minimumSuccessDuration),f=w.GatesPhaseStore.isValidTimeout(n.timeout),e=!r||!u||!f;return i.createElement("div",{className:"gates-phases-options"},this._getStabilizationOptionControl(n.stabilizationTime,t),i.createElement(g.AccordionCustomRenderer,{label:b.EvaluationOptionsLabelText,initiallyExpanded:!0,headingLevel:2,addSeparator:!1,addSectionHeaderLine:!0,showErrorDelegate:function(){return e}},this._getSamplingIntervalTimeOptionControl(n.samplingInterval,t,r),this._getMinimumSuccessDurationOptionControl(n.minimumSuccessDuration,t,u),this._getTimeoutOptionControl(n.timeout,t,f)))},n.prototype._getStabilizationOptionControl=function(n,t){var f=b.GatesStabilizationTimeLabel,r=b.GatesStabilizationTimeHelp,u="";return w.GatesPhaseStore.isValidStabilizationTime(n)||(u=d.localeFormat(b.GatesPhaseTimeError,k.GateConstants.MinimumStabilizationTimeInMinutes,k.GateConstants.MaximumStabilizationTimeInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gates-stabilization-time",value:n,onValueChanged:this._onUpdateStabilizationTime,label:f,errorMessage:u,infoProps:a.InputControlUtils.getCalloutInfoProps(r),showMinute:!0,showHour:!0,required:!1,inputAriaDescription:r,inputAriaLabel:b.AriaLabelGatesStabilizationTimeValue,unitAriaLabel:b.AriaLabelGatesStabilizationTimeUnit,disabled:t})},n.prototype._getTimeoutOptionControl=function(n,t,r){var e=b.GatesTimeoutLabel,u=b.GatesTimeoutHelp,f="";return r||(f=d.localeFormat(b.GatesPhaseTimeError,k.GateConstants.MinimumTimeoutInMinutes,k.GateConstants.MaximumTimeoutInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gate-list-timeout-time",value:n,onValueChanged:this._onUpdateTimeout,label:e,errorMessage:f,infoProps:a.InputControlUtils.getCalloutInfoProps(u),showMinute:!0,showHour:!0,showDay:!0,required:!1,inputAriaDescription:u,inputAriaLabel:b.AriaLabelGatesTimeoutValue,unitAriaLabel:b.AriaLabelGatesTimeoutUnit,disabled:t})},n.prototype._getSamplingIntervalTimeOptionControl=function(n,t,r){var e=b.SamplingIntervalLabel,u=b.SamplingIntervalHelp,f="";return r||(f=d.localeFormat(b.GatesPhaseTimeError,w.GatesPhaseStore.getGatesMinimumSamplingIntervalTimeout(),k.GateConstants.MaximumSamplingIntervalInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gate-list-sampling-interval-time",value:n,onValueChanged:this._onUpdateSamplingIntervalTime,label:e,errorMessage:f,infoProps:a.InputControlUtils.getCalloutInfoProps(u),showMinute:!0,showHour:!0,showDay:!0,required:!1,inputAriaDescription:u,inputAriaLabel:b.AriaLabelGatesSamplingIntervalTimeValue,unitAriaLabel:b.AriaLabelGatesSamplingIntervalTimeUnit,disabled:t})},n.prototype._getMinimumSuccessDurationOptionControl=function(n,t,r){var e=b.MinimumSuccessDurationLabel,u=b.MinimumSuccessDurationHelp,f="";return r||(f=d.localeFormat(b.GatesPhaseTimeError,k.GateConstants.MinimumSuccessDurationMinAllowedValueInMinutes,k.GateConstants.MinimumSuccessDurationMaxAllowedValueInMinutes)),i.createElement(l.DurationInputComponent,{cssClass:"gate-list-success-window-time",value:n,onValueChanged:this._onUpdateMinimumSuccessfulWindow,label:e,errorMessage:f,infoProps:a.InputControlUtils.getCalloutInfoProps(u),showMinute:!0,showDay:!0,showHour:!0,required:!1,inputAriaDescription:u,inputAriaLabel:b.AriaLabelMinimumSuccessDurationValue,unitAriaLabel:b.AriaLabelMinimumSuccessDurationUnit,disabled:t})},n.prototype.getKey=function(){return this._phaseStore.getInstanceId()},n.prototype.getStore=function(){return this._phaseStore},n}();t.GatesDeployPhaseItem=nt});

define("PipelineWorkflow/Scripts/Shared/Environment/ReleaseDeployPhaseHelper",["require","exports","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Phase/Types","PipelineWorkflow/Scripts/Editor/Common/Types","PipelineWorkflow/Scripts/Editor/Environment/GatesPhaseStore","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Shared/Environment/GatesDeployPhaseItem","ReleaseManagement/Core/Contracts","VSS/Utils/Array","VSS/Utils/String","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Shared/Environment/GatesPhaseUtils"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function n(n){var t=this;this._deployPhase=n;this._jobInfoList=[];this._deployPhase&&this._deployPhase.deploymentJobs.forEach(function(n){n&&t._jobInfoList.push({id:n.job.id,name:n.job.name,taskStatusList:t._getTaskStatusList(n.tasks),tasksCount:n.tasks.length,status:n.job.status,rank:n.job.rank})})}return n.prototype.getJobInfoList=function(){return this._jobInfoList},n.prototype._getTaskStatusList=function(n){var t=h.clone(n);return t.sort(function(n,t){return n.rank-t.rank}),t.map(function(n){return{id:n.id,name:n.name,status:n.status,startTime:n.startTime}})},n.prototype.getTasksWithStatusCountFromPhase=function(n){var u=0,f=0,e=0,o=0,h=0,c=0,i,r,t;if(this._jobInfoList)for(i=0,r=this._jobInfoList;i<r.length;i++)if(t=r[i],n&&n>0&&n!==t.rank||(u+=t.tasksCount,t.taskStatusList&&t.taskStatusList.length>0&&t.taskStatusList.forEach(function(n){switch(n.status){case s.TaskStatus.Pending:h++;break;case s.TaskStatus.InProgress:o++;break;case s.TaskStatus.Success:case s.TaskStatus.Succeeded:case s.TaskStatus.PartiallySucceeded:f++;break;case s.TaskStatus.Skipped:c++;break;case s.TaskStatus.Failure:case s.TaskStatus.Canceled:case s.TaskStatus.Failed:e++}})),n&&n>0&&n===t.rank)break;return{totalTasks:u,successfulTasks:f,failedTasks:e,inProgressTasks:o,pendingTasks:h,skippedTasks:c}},n.prototype.getCompletedTasksCountFromPhase=function(){var n=this.getTasksWithStatusCountFromPhase(),t=n.successfulTasks,i=n.failedTasks,r=n.skippedTasks;return t+i+r},n.prototype.getLastTaskWithStatusInFirstJobWithStatusDetails=function(n,t){var r=-1,u=null,f,i;return this._jobInfoList&&(f=this._jobInfoList.sort(function(n,t){return n.rank-t.rank}),i=h.first(f,function(t){return n.indexOf(t.status)>=0}),i&&i.taskStatusList.forEach(function(n,i){t.indexOf(n.status)>=0&&(r=i,u=n)})),{taskWithStatusIndex:r,taskStatus:u}},n.prototype.getLastTaskWithStatusInDeploymentJob=function(n,t){var r=-1,u=null,i;return this._jobInfoList&&(i=h.first(this._jobInfoList,function(t){return t.rank===n}),i&&i.taskStatusList.forEach(function(n,i){t.indexOf(n.status)>=0&&(r=i,u=n)})),{taskWithStatusIndex:r,taskStatus:u}},n.prototype.getTasksCountFromPhase=function(){var n=0;return this._jobInfoList&&this._jobInfoList.forEach(function(t){n+=t.tasksCount}),n},n.getDTPhaseType=function(n){switch(n){case s.DeployPhaseTypes.Undefined:return r.DeployPhaseTypes.Undefined;case s.DeployPhaseTypes.AgentBasedDeployment:return r.DeployPhaseTypes.AgentBasedDeployment;case s.DeployPhaseTypes.RunOnServer:return r.DeployPhaseTypes.RunOnServer;case s.DeployPhaseTypes.MachineGroupBasedDeployment:return r.DeployPhaseTypes.MachineGroupBasedDeployment;case s.DeployPhaseTypes.DeploymentGates:return u.DeploymentGatesPhaseTypeString;default:return null}},n.getRMPhaseType=function(n){switch(n){case r.DeployPhaseTypes.AgentBasedDeployment:case r.DeployPhaseTypes.DefaultPhase:return s.DeployPhaseTypes.AgentBasedDeployment;case r.DeployPhaseTypes.MachineGroupBasedDeployment:return s.DeployPhaseTypes.MachineGroupBasedDeployment;case r.DeployPhaseTypes.RunOnServer:return s.DeployPhaseTypes.RunOnServer;case u.DeploymentGatesPhaseTypeString:return s.DeployPhaseTypes.DeploymentGates;default:return null}},n.getCreatePhaseStoreDelegateMap=function(){var t={};return t[u.DeploymentGatesPhaseTypeString]=n._createDeploymentGatesStore,t},n.getDefaultDeployPhase=function(n){switch(n){case u.DeploymentGatesPhaseTypeString:return{name:e.GatesPhaseTitle,refName:null,phaseType:u.DeploymentGatesPhaseTypeString,rank:-1,tasks:[],deploymentInput:a.GatesPhaseUtils.getDefaultGatesDeploymentInput()};default:return null}},n.getCreateItemDelegateMap=function(){var n={};return n[u.DeploymentGatesPhaseTypeString]=o.GatesDeployPhaseItem.CreateDeploymentGatesPhaseItemDelegate,n},n.isPhaseCompleted=function(n){return n.status===s.DeployPhaseStatus.Succeeded||n.status===s.DeployPhaseStatus.Canceled||n.status===s.DeployPhaseStatus.Failed||n.status===s.DeployPhaseStatus.PartiallySucceeded?!0:!1},n.getFormattedJobName=function(n,t){var i=n.name||c.empty,r=c.empty;return(t&&t.job&&this.isMultiplierJob(t.job.name)||n.deploymentJobs&&n.deploymentJobs.length>1)&&(r=this.getJobNameWithMultiplier(i,t.job.name)),r||i},n.getJobNameWithMultiplier=function(n,t){if(n&&t){var i=this._extractMultiplierName(t);return c.localeFormat(e.LogsTabJobNameFormat,n,i)}return c.empty},n.getDeployPhase=function(n,t){var i,u,r,f;return l.FeatureFlagUtils.enableNewRouteForLogApis()?(i={},u=n.releaseDeployPhases.filter(function(n){return n.runPlanId===t.planId}),u.forEach(function(n){n.deploymentJobs&&n.deploymentJobs.forEach(function(t){t.job&&(i[t.job.timelineRecordId]=n.phaseId);t.tasks&&t.tasks.forEach(function(t){i[t.timelineRecordId]=n.phaseId})})}),r=c.empty,t.job?r=i[t.job.timelineRecordId]:t.tasks&&t.tasks.length>0&&(f=h.first(t.tasks).timelineRecordId,r=i[f]),h.first(u,function(n){return n.phaseId===r})):h.first(n.releaseDeployPhases,function(n){return n.id===t.releaseDeployPhaseId})},n._extractMultiplierName=function(n){var r=n,t,i,u;return n&&(t=e.Multiplier,i=n.indexOf(t),i>=0&&(u=n.substring(i+t.length,n.length),r=u.replace(","," | "))),r},n.isMultiplierJob=function(n){var t=!1,i,r;return n&&(i=e.Multiplier,r=n.indexOf(i),r>=0&&(t=!0)),t},n._createDeploymentGatesStore=function(n,t,r){return i.StoreManager.CreateStore(f.GatesPhaseStore,n,r)},n}();t.ReleaseDeployPhaseHelper=v});

define("PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils",["require","exports","DistributedTaskControls/Phase/Types","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Components/Canvas/GraphLayoutHelper","DistributedTaskControls/Common/JQueryWrapper","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Common/NavigationStateUtils","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Shared/Environment/ReleaseDeployPhaseHelper","DistributedTaskControls/SharedControls/InputControls/Components/DurationInputComponent","ReleaseManagement/Core/Contracts","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function n(){}return n.getNodes=function(n,t,i){return n?n.map(function(n){return{key:n.instanceId,data:n.environment,getNodeElement:t,nodeRankHint:n.environment.rank,friendlyName:n.environment.name,nodeHeightHint:i?i(n.instanceId):undefined}}):[]},n.getDeployPhases=function(t){return t?t.map(function(t){var i=f.JQueryWrapper.extendDeep({},t),e,o,u,v;return i.phaseType=c.ReleaseDeployPhaseHelper.getDTPhaseType(t.phaseType),i.tasks=n.getTasks(t.workflowTasks),i.phaseInputs={},h.FeatureFlagUtils.isPhaseOutputVariableGroupEnabled()&&(t.phaseType===a.DeployPhaseTypes.AgentBasedDeployment||t.phaseType===a.DeployPhaseTypes.RunOnServer)&&(i.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_outputVariable]={refName:i.refName}),h.FeatureFlagUtils.isSelectiveArtifactsEnabled()&&(t.phaseType===a.DeployPhaseTypes.AgentBasedDeployment?(e=t.deploymentInput,i.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput]={artifactsDownloadInput:e.artifactsDownloadInput,skipArtifactsDownload:e.skipArtifactsDownload}):t.phaseType===a.DeployPhaseTypes.MachineGroupBasedDeployment&&(o=t.deploymentInput,i.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput]={artifactsDownloadInput:o.artifactsDownloadInput,skipArtifactsDownload:o.skipArtifactsDownload})),t.phaseType===a.DeployPhaseTypes.DeploymentGates&&(u=t.deploymentInput,v=i,v.deploymentInput={timeout:r.DtcUtils.convertMinutesToDuration(u.timeoutInMinutes,l.TimeUnits.Hours),stabilizationTime:r.DtcUtils.convertMinutesToDuration(u.stabilizationTime,l.TimeUnits.Minutes),samplingInterval:r.DtcUtils.convertMinutesToDuration(u.samplingInterval,l.TimeUnits.Minutes),minimumSuccessDuration:r.DtcUtils.convertMinutesToDuration(u.minimumSuccessDuration,l.TimeUnits.Minutes),condition:u.condition},i=v),i}):[]},n.getTasks=function(n){var i=this,t=[];return n&&n.length>0&&(t=n.map(function(n,t){return i._getTask(n,t)})),t},n.getWorkflowTasks=function(n){var i=this,t=[];return n&&n.length>0&&(t=n.map(function(n){return i._getWorkflowTask(n)})),t},n.hasAnySchedules=function(n){return n&&n.schedules&&n.schedules.length>0},n.canStartOnReleaseCreation=function(t,i){return t&&t.conditions&&t.conditions.length===1&&t.conditions[0].conditionType===e.PipelineEnvironmentTriggerConditionType.Event&&y.equals(t.conditions[0].name,e.PipelineEnvironmentTriggerTypeConstants.ReleaseStarted,!0)&&(!i||!n.hasAnySchedules(t))},n.hasAnyManualPreDeployApprovals=function(t){var i,r,u;return t&&t.preDeployApprovals?(i=t.preDeployApprovals,i.hasOwnProperty("approvals")?(r=i,n._hasManualApproval(r.approvals)):(u=i,n._hasManualApproval(u))):!1},n.hasAnyManualPreDeployApprovalSnapshot=function(t){if(t&&t.preApprovalsSnapshot){var i=t.preApprovalsSnapshot,r=i.approvals;return n._hasManualApproval(r)}return!1},n.fixEnvironmentRanks=function(n,t,i){var a=o.NavigationStateUtils.splitGraph(),f,r,e,h,s,c,l;a?this._fixEnvironmentRanksForSplitGraph(n,t,i):i&&t&&(f=u.GraphLayoutHelper.createStagingOrderAndDependencies(i,t),f&&(r=f.stagingOrder,e=f.dependencies,r&&e&&(h=this._getEnvironmentTriggerInstanceIds(r[0]),this._appendVirtualEdgeForFirstStageNodes(e,h),s=u.GraphLayoutHelper.getDisjointTreeFromEdges(e),s&&(c=this._sortTreesAsPerLayoutOrder(s,r[0]),l=this._getFlatEnvironmentOrder(r,c),this._fixEnvironmentsRank(n,l)))))},n.sortEnvironmentsByRank=function(n){n&&n.sort(function(n,t){return n.rank-t.rank})},n.getDefaultSpecificParallelDeploymentsExecutionPolicy=function(){return{concurrencyCount:1,queueDepthCount:0}},n.getPhaseDefinitions=function(){var t=[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput],r={phaseinput_artifactdownloadinput:"ms.vss-releaseManagement-web.phase-artifacts-selection-view"},u=[],f={},n;return h.FeatureFlagUtils.isPhaseOutputVariableGroupEnabled()&&(n="ms.vss-releaseManagement-web.phase-output-variables-group",t.push(s.SharedConstants.PipelineConstant_phaseinput_outputVariable),r[s.SharedConstants.PipelineConstant_phaseinput_outputVariable]=n,u.push(s.SharedConstants.PipelineConstant_phaseinput_outputVariable),f[s.SharedConstants.PipelineConstant_phaseinput_outputVariable]=n),[{phaseType:i.DeployPhaseTypes.AgentBasedDeployment,contributedPhaseInputs:t,phaseInputToContributionMap:r},{phaseType:i.DeployPhaseTypes.RunOnServer,contributedPhaseInputs:u,phaseInputToContributionMap:f},{phaseType:i.DeployPhaseTypes.MachineGroupBasedDeployment,contributedPhaseInputs:[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput],phaseInputToContributionMap:{phaseinput_artifactdownloadinput:"ms.vss-releaseManagement-web.phase-artifacts-selection-view"}}]},n.getWorkflowTasksAndDeploymentInputs=function(t,u){return t.deployPhases.map(function(t){var e=f.JQueryWrapper.extendDeep({},t),l,v,o;return e.phaseType=c.ReleaseDeployPhaseHelper.getRMPhaseType(e.phaseType),e.workflowTasks=n.getWorkflowTasks(t.tasks),delete e.tasks,e.refName=null,e.phaseInputs&&(h.FeatureFlagUtils.isSelectiveArtifactsEnabled()&&(l=e.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_artifactdownloadinput],l&&(t.phaseType===i.DeployPhaseTypes.AgentBasedDeployment||t.phaseType===i.DeployPhaseTypes.MachineGroupBasedDeployment)&&(e.deploymentInput.skipArtifactsDownload=l.skipArtifactsDownload,e.deploymentInput.artifactsDownloadInput=n._normalizeArtifactsDownloadInput(l.artifactsDownloadInput,u))),h.FeatureFlagUtils.isPhaseOutputVariableGroupEnabled()&&(v=e.phaseInputs[s.SharedConstants.PipelineConstant_phaseinput_outputVariable],v&&!!v.refName&&(t.phaseType===i.DeployPhaseTypes.AgentBasedDeployment||t.phaseType===i.DeployPhaseTypes.RunOnServer)&&(e.refName=v.refName))),e.phaseType===a.DeployPhaseTypes.DeploymentGates&&(o=t.deploymentInput,e.deploymentInput={timeoutInMinutes:r.DtcUtils.convertDurationToNumberInMinutes(o.timeout),stabilizationTime:r.DtcUtils.convertDurationToNumberInMinutes(o.stabilizationTime),samplingInterval:r.DtcUtils.convertDurationToNumberInMinutes(o.samplingInterval),minimumSuccessDuration:r.DtcUtils.convertDurationToNumberInMinutes(o.minimumSuccessDuration),condition:o.condition}),e})},n._normalizeArtifactsDownloadInput=function(n,t){if(n&&n.downloadInputs&&t){var i=t.map(function(n){return n.alias});v.removeWhere(n.downloadInputs,function(n){return!v.contains(i,n.alias)})}return n},n._fixEnvironmentRanksForSplitGraph=function(n,t,i){var r,f,e,o,s,h;i&&t&&(r=u.GraphLayoutHelper.createStagingOrderAndDependencies(i,t),r&&(f=r.stagingOrder,e=r.dependencies,f&&e&&(o=u.GraphLayoutHelper.getDisjointTreeFromEdges(e),o&&(s=this._sortTreesAsPerLayoutOrder(o,f[0]),h=this._getFlatEnvironmentOrder(f,s),this._fixEnvironmentsRank(n,h)))))},n._hasManualApproval=function(n){var t;return n&&n.length>0&&(t=v.first(n,function(n){return!n.isAutomated})),!!t},n._sortTreesAsPerLayoutOrder=function(n,t){var i=[];return t&&t.forEach(function(t){n.some(function(r,u){if(r.indexOf(t.key)>=0)return i.push(r),n.splice(u,1),!0})}),i},n._getEnvironmentTriggerInstanceIds=function(n){var t=[],i=[];return n&&n.forEach(function(n){n.data&&n.data.conditions&&(n.data.conditions[0]?y.equals(n.data.conditions[0].name,e.PipelineEnvironmentTriggerTypeConstants.ReleaseStarted,!0)&&t.push(n.key):i.push(n.key))}),{manualTriggerEnvironmentInstanceIds:i,releaseTriggerEnvironmentInstanceIds:t}},n._appendVirtualEdgeForFirstStageNodes=function(n,t){t.releaseTriggerEnvironmentInstanceIds&&t.releaseTriggerEnvironmentInstanceIds.length>0&&(n[r.DtcUtils.getUniqueInstanceId()]=t.releaseTriggerEnvironmentInstanceIds);t.manualTriggerEnvironmentInstanceIds&&t.manualTriggerEnvironmentInstanceIds.forEach(function(t){n[r.DtcUtils.getUniqueInstanceId()]=[t]})},n._getFlatEnvironmentOrder=function(n,t){for(var o,s,r,u=[],f=[],e=n.length,h=t.length,i=0;i<h;i++)u[i]=[];if(e>0)for(i=0;i<e;i++)for(o=n[i].length,s=function(r){var f=n[i][r];f&&f.data&&t.some(function(n,t){if(n.indexOf(f.key)>=0)return u[t].push(f.data.id),!0})},r=0;r<o;r++)s(r);return u.forEach(function(n){n&&n.length>0&&(f=f.concat(n))}),f},n._fixEnvironmentsRank=function(n,t){n&&t&&n.forEach(function(n){var i=t.indexOf(n.id);i>=0&&(n.rank=i+1)})},n._getTask=function(n,t){return{displayName:n.name,refName:n.refName,enabled:n.enabled,timeoutInMinutes:n.timeoutInMinutes,inputs:n.inputs,task:{id:n.taskId,versionSpec:n.version,definitionType:n.definitionType},order:t,alwaysRun:n.alwaysRun,continueOnError:n.continueOnError,condition:n.condition,overrideInputs:n.overrideInputs,environment:n.environment}},n._getWorkflowTask=function(n){return{name:n.displayName,refName:n.refName,enabled:n.enabled,timeoutInMinutes:n.timeoutInMinutes,inputs:n.inputs,taskId:n.task.id,version:n.task.versionSpec,definitionType:n.task.definitionType,alwaysRun:n.alwaysRun,continueOnError:n.continueOnError,overrideInputs:n.overrideInputs,condition:n.condition,environment:n.environment}},n}();t.EnvironmentUtils=p});

define("PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils",["require","exports","q","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/RegexConstants","DistributedTaskControls/Sources/AgentsSource","DistributedTaskControls/Sources/ConnectedServiceEndpointSource","DistributedTaskControls/Sources/TaskDefinitionSource","DistributedTaskControls/Common/Utilities","DistributedTaskControls/ProcessManagement/Types","PipelineWorkflow/Scripts/Editor/Sources/AadAuthorizerSource","PipelineWorkflow/Scripts/Shared/Sources/ReleaseSource","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/SharedComponents/Security/PermissionHelper","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Contracts","TFS/DistributedTask/Contracts","VSS/VSS","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it,rt;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.EnvironmentTrigger_ManualOptionValueKey=1;n.EnvironmentTrigger_AutomatedOptionValueKey=2;n.Environment_Endpoint_ConnectedServiceKeyPrefix="connectedservice:";n.Environment_Endpoint_SubscriptionNameKey="subscriptionName"}(it=t.ReleaseDialogContentConstants||(t.ReleaseDialogContentConstants={}));rt=function(){function n(){}return n.getEnvironmentsAuthInfo=function(t){var i=n._getTenantsEndpointsURLForAutomatedEnvironments(t);return n._getDeploymentAuthorizationInfoFromTenantInfo(i)},n.getEnvironmentAuthInfo=function(t){var i=n._getTenantsEndpointsURLForAutomatedEnvironmentsHelper(t);return n._getDeploymentAuthorizationInfoFromTenantInfo(i)},n.authorizeDeployments=function(n){if(n&&n.length>0){var t=n.map(function(n){return l.AadAuthorizerSource.instance().authorize(n)});return i.all(t).then(function(n){return a.ReleaseSource.instance().setDeploymentAuthorizationHeader(n),i.resolve(undefined)})}return i.resolve(undefined)},n.getEnvironmentsEndpoints=function(t){var i=n._getAutomatedEnvironmentsWithPhases(t);return n._getEnvironmentsEndpointsHelper(i)},n.getEnvironmentsEndpointsWithoutFilter=function(t){return n._getEnvironmentsEndpointsHelper(t)},n.getEnvironmentEndpoints=function(t){return n._getEnvironmentsEndpointsHelper([t])},n._getEnvironmentsEndpointsHelper=function(t){var e={},f=[],u={},r={};return p.FeatureFlagUtils.isDeploymentAuthorizationEnabled()?s.TaskDefinitionSource.instance().getTaskDefinitionList().then(function(o){return e=n._getTaskDefinitionsMap(o),t.forEach(function(t){var i=n._getDeployPhasesEnabledTasks(t),r;i&&i.length>0&&(r=n._getEnvironmentUniqueEndpointIds(e,i,t.processParameters),f=nt.union(r,f,tt.ignoreCaseComparer),r.forEach(function(n){u[n]||(u[n]=[]);u[n].push(t.id)}))}),n._getOboBasedServiceEndpointsForEndpointIds(f).then(function(n){return n.forEach(function(n){var t=u[n.id];t&&t.length>0&&t.forEach(function(t){r[t]||(r[t]=[]);r[t].push(n)})}),i.resolve(r)})}):i.resolve(r)},n.getEnvironmentsPhasesDemandsWarning=function(t){return n._getEnvironmentsPhasesDemandsWarningHelper(t)},n.getEnvironmentPhasesDemandsWarning=function(t){return n._getEnvironmentsPhasesDemandsWarningHelper([t])},n.isEnvironmentPermissible=function(n,t,i,r,u){var f=w.PermissionHelper.hasEditReleaseEnvironmentPermissions(t,i,r,n);return f&&u!==k.EnvironmentStatus.InProgress},n.getEnvironmentCapabilities=function(t,i,r,u,f){var e=c.ProcessManagementCapabilities.None;return t&&n.isEnvironmentPermissible(t,i,r,u,f)&&(e=c.ProcessManagementCapabilities.EditTaskInputs|c.ProcessManagementCapabilities.EditPhaseInputs|c.ProcessManagementCapabilities.EditProcessInputs),e},n._getEnvironmentsPhasesDemandsWarningHelper=function(t){var r=[];return t&&t.length>0&&t.forEach(function(t){var i=n._getEnvironmentPhasesDemandsWarning(t);i&&i.length>0&&nt.addRange(r,i)}),r&&r.length>0?i.allSettled(r).then(function(n){var t=[];return n.forEach(function(n){n&&n.state==="rejected"&&n.reason&&n.reason.hasWarning&&t.push(n.reason)}),i.resolve(t)}):i.resolve([])},n._getEnvironmentPhasesDemandsWarning=function(t){var u=[],f,r;return t&&(f=n._getDeployPhases(t),r=n._getAgentBasedDeployPhases(f),r&&r.length>0&&r.forEach(function(r){var e=n.getPhaseDemandsWarning(r),f;e&&(f=i.defer(),e.then(function(n){f.resolve(n)},function(n){f.reject(__assign({},n,{environmentId:t.id,environmentName:t.name}))}),u.push(f.promise))})),u},n.getPhaseDemandsWarning=function(t){var u=n._getQueueIdOfAgentBasedDeployPhase(t),r;return u!==0?(r={phaseRank:t.rank,phaseName:t.name},i.all([s.TaskDefinitionSource.instance().getTaskDefinitionList(),n._getTaskAgentQueueWithForceRefreshIfNeeded(u)]).spread(function(u,f){return n._getPhaseWarningDataForDemands(t,u,f).then(function(n){return n&&n.hasWarning?i.reject(__assign({},r,n)):i.resolve({})})},function(n){return i.reject(__assign({},r,{hasWarning:!0,warningMessage:g.getErrorMessage(n)}))})):i.resolve({})},n.isDeploymentTriggerManual=function(n){return n?!n.triggerOptions||n.triggerOptions.length<=1:!1},n.getToggledManullyTriggeredEnvironmentCount=function(t){var i=n.getToggledManuallyTriggeredEnvironment(t);return i.length},n.getToggledManuallyTriggeredEnvironment=function(t){var f=[],i,u,r,e;if(t&&t.length>0)for(i=0,u=t;i<u.length;i++)r=u[i],e=n.isDeploymentTriggerManual(r),e||r.selectedTriggerKey!==it.EnvironmentTrigger_ManualOptionValueKey||f.push(r);return f},n._getPhaseWarningDataForDemands=function(t,r,u){var s,h,f,o;return u&&u.pool?u.pool.isHosted?i.resolve({}):(f=[],f=n.getPhaseDemands(t,r),f=n._removeVaraibleDemand(f),f||(f=[]),o=this._fetchGetAgentsPromiseFromCache(u.pool.id,f),o||(o=e.AgentsSource.instance().getAgents(u.pool.id,null,!1,!1,null,f),this._getAgentsPromisesCache.push({poolId:u.pool.id,demands:f,promise:o})),o.then(function(r){var e=n._getPhaseWarningDataForAvailableAgents(t,u,f,r);return i.resolve(e)},function(n){return i.resolve({hasWarning:!0,warningMessage:g.getErrorMessage(n)})})):(s=!t?tt.empty:t.name,h=tt.localeFormat(b.NoAgentQueueFound,s,n._getQueueIdOfAgentBasedDeployPhase(t)),i.resolve({hasWarning:!0,warningMessage:h}))},n._fetchGetAgentsPromiseFromCache=function(n,t){var i=nt.first(this._getAgentsPromisesCache,function(i){return i.poolId===n&&nt.arrayEquals(i.demands,t,function(n,t){return tt.equals(n,t,!0)})});return i?i.promise:null},n._getPhaseWarningDataForAvailableAgents=function(n,t,i,r){if(n&&t&&i){if(r&&r.length>0){var u=nt.first(r,function(n){return n.status===d.TaskAgentStatus.Online&&n.enabled});return u?{}:{hasWarning:!0,warningMessage:tt.localeFormat(b.AgentOfflineOrDisabled,n.name)}}return{hasWarning:!0,warningMessage:tt.localeFormat(b.DemandsNotMetForDeployPhase,n.name,t.name,i.join(b.JoinNames))}}return{}},n.getPhaseDemands=function(t,i){var f;if(t){var e=n._buildTaskDefinitionMap(i),r=nt.clone(n._getDemandsOfAgentBasedDeployPhase(t)),u=y.EnvironmentUtils.getTasks(t.workflowTasks);return u&&u.length>0&&(f=[],u.forEach(function(n){var t,i;n.enabled&&(t=e[n.task.id],t&&(t.demands&&t.demands.length>0&&(i=t.demands.filter(function(n){return!nt.contains(f,n.toLowerCase())}),nt.addRange(r,i)),t.satisfies&&t.satisfies.length>0&&nt.addRange(f,t.satisfies.map(function(n){return n.toLowerCase()}))))}),r=nt.unique(r)),r}return[]},n.getEnvironmentNamesInProgress=function(n){var t=[];return n&&n.environments&&n.environments.forEach(function(n){n.preDeployApprovals.some(function(n){return n.status===k.ApprovalStatus.Pending})?t.push(n.name):n.deploySteps.some(function(n){return n.status===k.DeploymentStatus.InProgress})&&t.push(n.name)}),t},n._getAgentBasedDeployPhases=function(n){return n&&n.length>0?n.filter(function(n){return n.phaseType===v.PipelineDeployPhaseTypes.AgentBasedDeployment}):[]},n._getQueueIdOfAgentBasedDeployPhase=function(n){return n&&n.deploymentInput?n.deploymentInput.queueId:0},n._getDemandsOfAgentBasedDeployPhase=function(n){return n&&n.deploymentInput?n.deploymentInput.demands:[]},n._removeVaraibleDemand=function(n){if(n&&n.length>0){var t=nt.clone(n);return t.filter(function(n){return!f.VariableParameterRegex.test(n)})}return[]},n._buildTaskDefinitionMap=function(n){var t={};return n&&n.length>0&&n.forEach(function(n){t[n.id]=n}),t},n._getTaskAgentQueueWithForceRefreshIfNeeded=function(n){var t=i.defer(),r,u=e.AgentsSource.instance().getTaskAgentQueue(n);return u.then(function(n){r=n}).fin(function(){r?t.resolve(r):e.AgentsSource.instance().getTaskAgentQueue(n,!0).then(function(n){t.resolve(n)},function(n){t.reject(n)})}),t.promise},n._getDeploymentAuthorizationInfoFromTenantInfo=function(n){var t=[];return n&&Object.keys(n).forEach(function(i){t.push({tenantId:i,resources:n[i],vstsAccessTokenKey:tt.empty,authorizationHeaderFor:v.PipelineAuthorizationHeaderType.OnBehalfOf})}),t},n._getTenantsEndpointsURLForAutomatedEnvironments=function(n){var t=this;return n&&n.length>0&&n.forEach(function(n){n&&n.triggerOptions&&n.triggerOptions.length>0&&n.selectedTriggerKey!==it.EnvironmentTrigger_ManualOptionValueKey&&n.endpoints&&n.endpoints.length>0&&t._getTenantsEndpointsURLForAutomatedEnvironmentsHelper(n.endpoints)}),{}},n._getTenantsEndpointsURLForAutomatedEnvironmentsHelper=function(n){var t={};return n&&n.length>0&&n.forEach(function(n){if(n&&n.authorization&&n.authorization.parameters){var i=tt.empty,u=nt.first(Object.keys(n.authorization.parameters),function(n){return tt.ignoreCaseComparer(n,r.EndpointAuthorizationParameters.TenantId)===0});u&&(i=n.authorization.parameters[u],i&&(t[i]||(t[i]=[]),t[i].push(n.url)))}}),t},n._getOboBasedServiceEndpointsForEndpointIds=function(t){var r=[],u;return t&&t.length>0?t.length===1?o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t[0]).then(function(t){return n._isEndpointRequireOboAuthorization(t)&&r.push(t),i.resolve(r)}):(u=[],o.ConnectedServiceEndpointSource.instance().getServiceEndpoints(undefined,undefined,t).then(function(t){return t.forEach(function(t){n._isEndpointRequireOboAuthorization(t)&&u.push(o.ConnectedServiceEndpointSource.instance().getServiceEndpoint(t.id))}),u.length>0?i.all(u).then(function(n){return nt.addRange(r,n),i.resolve(r)}):i.resolve(r)})):i.resolve(r)},n._getAutomatedEnvironmentsWithPhases=function(t){var i=[];return t&&t.length>0&&(i=t.filter(function(t){var i=n._getDeployPhases(t);return t&&i&&i.length>0&&y.EnvironmentUtils.canStartOnReleaseCreation(t)&&!y.EnvironmentUtils.hasAnySchedules(t)&&!y.EnvironmentUtils.hasAnyManualPreDeployApprovals(t)})),i},n._getTaskDefinitionsMap=function(n){var t={};return n.forEach(function(n){t[n.id]||(t[n.id]=[]);t[n.id].push(n)}),t},n._getTaskDefinitionFromMap=function(n,t){return n[t]&&n[t].length>0?n[t][0]:undefined},n._getEnvironmentUniqueEndpointIds=function(t,i,r){var u=[];return i&&i.length>0&&t&&i.forEach(function(i){var f=n._getTaskDefinitionFromMap(t,i.taskId),e;f&&f.inputs&&f.inputs.length>0&&(e=f.inputs.filter(function(n){return tt.caseInsensitiveContains(n.type,it.Environment_Endpoint_ConnectedServiceKeyPrefix)}).map(function(n){return n.name}),e.forEach(function(n){var f=i.inputs[n],t,e,o;f&&(t=tt.empty,e=h.DtcUtils.getProcParamNameFromProcessParameter(f),t=e?h.DtcUtils.resolveProcessParameterEndpoint(r,e):f,t&&(o=nt.first(u,function(n){return tt.ignoreCaseComparer(n,t)===0}),o||u.push(t)))}))}),u},n._isEndpointRequireOboAuthorization=function(n){return n&&(tt.ignoreCaseComparer(n.type,r.ServiceEndpointType.AzureRM)===0||tt.ignoreCaseComparer(n.type,r.ServiceEndpointType.AzureDeploymentManager)===0)&&n.data[r.EndpointAuthorizationParameters.OboAuthorization]&&u.Boolean.isTrue(n.data[r.EndpointAuthorizationParameters.OboAuthorization])},n._getDeployPhasesEnabledTasks=function(t){var r=[],i=n._getDeployPhases(t);return i&&i.length>0&&i.forEach(function(n){return n.workflowTasks.forEach(function(n){n.enabled&&r.push(n)})}),r},n._getDeployPhases=function(n){var t=[];return n&&(n.hasOwnProperty("deployPhases")?t=n.deployPhases:n.hasOwnProperty("deployPhasesSnapshot")&&(t=n.deployPhasesSnapshot)),t},n._getAgentsPromisesCache=[],n}();t.ReleaseEnvironmentUtils=rt});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActions",["require","exports","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","VSS/Flux/Action"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return r.CreateReleaseKeys.ActionHubKey_CreateReleaseActionHub},t.prototype.initialize=function(){this._initializeDefinition=new u.Action;this._initializeProject=new u.Action;this._initializeEnvironmentsPhasesWarning=new u.Action;this._initializeEnvironmentsEndpoints=new u.Action;this._updateErrorMessage=new u.Action;this._updateDescription=new u.Action;this._updateSelectedDeploymentTrigger=new u.Action;this._initializeArtifactsVersions=new u.Action;this._updateArtifactSelectedVersion=new u.Action;this._toggleDeploymentTrigger=new u.Action;this._updateManualDeploymentTriggers=new u.Action;this._getVersionPickerContributions=new u.Action},Object.defineProperty(t.prototype,"initializeDefinition",{get:function(){return this._initializeDefinition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initializeProject",{get:function(){return this._initializeProject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initializeEnvironmentsPhasesWarning",{get:function(){return this._initializeEnvironmentsPhasesWarning},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initializeEnvironmentsEndpoints",{get:function(){return this._initializeEnvironmentsEndpoints},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateErrorMessage",{get:function(){return this._updateErrorMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateDescription",{get:function(){return this._updateDescription},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateSelectedDeploymentTrigger",{get:function(){return this._updateSelectedDeploymentTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initializeDefinitionArtifactsVersions",{get:function(){return this._initializeArtifactsVersions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateArtifactSelectedVersion",{get:function(){return this._updateArtifactSelectedVersion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleDeploymentTrigger",{get:function(){return this._toggleDeploymentTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateManualDeploymentTriggers",{get:function(){return this._updateManualDeploymentTriggers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getVersionPickerContributions",{get:function(){return this._getVersionPickerContributions},enumerable:!0,configurable:!0}),t}(i.ActionsHubBase);t.CreateReleaseActions=f});

define("PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionCreator",["require","exports","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionsHub","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return i.SharedActionCreatorKeys.Environment},t.prototype.getActionsHub=function(){return this._environmentActionsHub},t.prototype.initialize=function(n){this._environmentActionsHub=u.ActionsHubManager.GetActionsHub(r.EnvironmentActionsHub,n)},t.prototype.initializeEnvironment=function(n,t){this.getActionsHub().initializeEnvironment.invoke({environment:n,artifacts:t})},t.prototype.updateExistingEnvironment=function(n){this.getActionsHub().updateExistingEnvironment.invoke({environment:n})},t}(f.ActionCreatorBase);t.EnvironmentActionCreator=e});

define("PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionCreator",["require","exports","VSS/Diag","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionsHub","PipelineWorkflow/Scripts/Shared/Environment/EnvironmentActionCreator"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getKey=function(){return e.SharedActionCreatorKeys.EnvironmentList},t.prototype.initialize=function(n){this._instanceId=n;this._environmentListActionsHub=u.ActionsHubManager.GetActionsHub(o.EnvironmentListActionsHub,n)},t.prototype.initializeEnvironmentList=function(n,t){var r,u,f,e;if(i.logVerbose("EnvironmentListActionCreator invoking initializeEnvironmentList instanceID "+this._instanceId),this._environmentListActionsHub.initializeEnvironmentList.invoke({environmentList:n}),n)for(r=0,u=n;r<u.length;r++)f=u[r],e=this.getEnvironmentActionCreator(f.id.toString()),e.initializeEnvironment(f,t);i.logVerbose("EnvironmentListActionCreator invoked initializeEnvironment for indv environments instanceID "+this._instanceId)},t.prototype.refreshEnvironmentList=function(n,t){var r,u,f,e;if(i.logVerbose("EnvironmentListActionCreator invoking refreshEnvironmentList instanceID "+this._instanceId),this._environmentListActionsHub.refreshEnvironmentList.invoke({environmentList:n}),n)for(r=0,u=n;r<u.length;r++)f=u[r],e=this.getEnvironmentActionCreator(f.id.toString()),e.initializeEnvironment(f,t);i.logVerbose("EnvironmentListActionCreator invoked initializeEnvironment for indv environments instanceID "+this._instanceId)},t.prototype.updateExistingEnvironments=function(n,t){var i,r,u,f;if(this._environmentListActionsHub.updateExistingEnvironmentList.invoke({environmentList:n}),n)for(i=0,r=n;i<r.length;i++)u=r[i],f=this.getEnvironmentActionCreator(u.id.toString()),f.updateExistingEnvironment(u,t)},t.prototype.getEnvironmentActionCreator=function(n){return r.ActionCreatorManager.GetActionCreator(s.EnvironmentActionCreator,n)},t}(f.ActionCreatorBase);t.EnvironmentListActionCreator=h});

define("PipelineWorkflow/Scripts/Editor/Artifact/ArtifactSource",["require","exports","q","DistributedTaskControls/Common/JQueryWrapper","DistributedTaskControls/Common/Sources/SourceManager","PipelineWorkflow/Scripts/Common/Sources/ReleaseManagementSourceBase","PipelineWorkflow/Scripts/Editor/Sources/ReleaseEditorWebPageData","PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","VSS/Context","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._isDataLoaded=!1,t._getDefinitionArtifactVersionsPromise={},t}return __extends(t,n),t.getKey=function(){return"ArtifactSource"},t.prototype.postInputValuesQuery=function(n){return this.getClient().postInputValuesQuery(n)},t.prototype.getArtifactTypesDefinition=function(){return this._artifactTypesDefinitionPromise||(this._artifactTypesDefinitionPromise=this.getClient().getArtifactTypesDefinition()),this._artifactTypesDefinitionPromise},t.prototype.getPreFetchedArtifactTypeDefinitions=function(){return e.ReleaseEditorWebPageDataHelper.instance().getArtifactTypeDefinitions()},t.prototype.getDefinitionArtifactsVersions=function(n,t,r){var e=this,l,u;if(t===void 0&&(t=!1),!this._isDataLoaded&&s.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var f=o.CreateReleasePanelDataHelper.getInstance(),h=f.getReleaseDefinition(),c=f.getLinkedProjects()?f.getLinkedProjects()[0]:null;h&&c&&(l=y.format("{0}:{1}",c.name,h.id),this._getDefinitionArtifactVersionsPromise[l]=i.resolve(f.getArtifactVersions()));this._isDataLoaded=!0}return(r=r||a.getDefaultWebContext().project.name,u=y.format("{0}:{1}",r,n),!this._getDefinitionArtifactVersionsPromise[u]||t)?this.getClient().getDefinitionArtifactsVersions(n,r).then(function(n){return e._getDefinitionArtifactVersionsPromise[u]=i.resolve(n),e._getDefinitionArtifactVersionsPromise[u]}):this._getDefinitionArtifactVersionsPromise[u]},t.prototype.getArtifactsVersion=function(n){return this.getClient().getArtifactsVersion(n)},t.prototype.getArtifactVersionDetails=function(n,t){var y=this,f=i.defer(),u,e,o,s,v;if(n&&n.definitionReference&&t){u=r.JQueryWrapper.extendDeep({},n);e={};u.definitionReference[c.ArtifactDefinitionConstants.DefaultVersionSpecificId]={id:t.id,name:t.name};for(o in u.definitionReference)e[o]=u.definitionReference[o].id;e[l.ArtifactDefaultVersionConstants.DefaultVersionType]=l.ArtifactDefaultVersionConstants.SpecificVersion;u.definitionReference[c.ArtifactDefinitionConstants.ProjectId]||(s=a.getDefaultWebContext(),e[c.ArtifactDefinitionConstants.ProjectId]=s.project.id);v={currentValues:e,inputValues:[{inputId:l.ArtifactDefaultVersionConstants.DefaultVersionSpecific}],resource:u.type};this.postInputValuesQuery(v).then(function(i){try{var r=y._createBuildVersionFromResult(n.alias,i,t);f.resolve(r)}catch(u){f.reject(u)}},function(n){f.reject(n)})}else f.reject(h.InvalidParmetersMessage);return f.promise},t.instance=function(){return u.SourceManager.getSource(t)},t.prototype._createBuildVersionFromResult=function(n,t,i){var u={},f,r;if(!t||!t.inputValues||t.inputValues.length===0||(f=t.inputValues[0],!f||!f.possibleValues))return u;if(f.possibleValues.length>0)return r=v.first(f.possibleValues,function(n){return!!i&&!!i.id&&y.localeIgnoreCaseComparer(n.value,i.id)===0}),r=r||f.possibleValues[0],r&&r.data&&(u.id=r.value,u.name=r.displayValue,u.definitionId=r.data[c.BuildVersionConstants.DefinitionIdKey],u.definitionName=r.data[c.BuildVersionConstants.DefinitionNameKey],u.sourceBranch=r.data[c.BuildVersionConstants.SourceBranchKey],u.sourceVersion=r.data[c.BuildVersionConstants.SourceVersionKey],u.sourceRepositoryId=r.data[c.BuildVersionConstants.RepositoryIdKey],u.sourceRepositoryType=r.data[c.BuildVersionConstants.RepositoryTypeKey]),u;if(t.resource===c.ArtifactTypes.BuildArtifactType)throw new Error(y.localeFormat(h.InvalidIdForBuildArtifactErrorMessage,n));return u},t.artifactsDataSourceType="artifacts",t.artifactItemsDataSourceType="artifactItems",t}(f.ReleaseManagementSourceBase);t.ArtifactSource=p});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActionsCreator",["require","exports","q","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesActionCreator","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Sources/ContributionSource","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Common/ArtifactUtility","PipelineWorkflow/Scripts/Common/Actions/ProgressIndicatorActionsCreator","PipelineWorkflow/Scripts/Common/Actions/DialogActions","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Common/TelemetryHelper","PipelineWorkflow/Scripts/Editor/Common/DefinitionVariablesUtils","PipelineWorkflow/Scripts/Editor/Sources/DeployPipelineDefinitionSource","PipelineWorkflow/Scripts/Shared/Sources/ReleaseSource","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActions","DistributedTaskControls/Common/Stores/StoreManager","PipelineWorkflow/Scripts/Common/Stores/ProgressIndicatorStore","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListActionCreator","PipelineWorkflow/Scripts/Editor/Artifact/ArtifactSource","PipelineWorkflow/Scripts/Shared/Utils/VariablesUtils","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","VSS/Performance","VSS/VSS","VSS/Utils/String","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt){Object.defineProperty(t,"__esModule",{value:!0});var yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._fetchedVersions={},t}return __extends(t,n),t.getKey=function(){return nt.CreateReleaseKeys.ActionsCreatorKey_CreateReleaseActionsCreator},t.prototype.initialize=function(n){this._actions=r.ActionsHubManager.GetActionsHub(it.CreateReleaseActions,n);this._commonActions=r.ActionsHubManager.GetActionsHub(v.DialogActions,n);this._processVariablesActionCreator=f.ActionCreatorManager.GetActionCreator(o.ProcessVariablesActionCreator,n)},t.prototype.initializeData=function(n,t,i,r,u,e,o){this._endPerfScenario=o;this._progressIndicatorActionsCreator=f.ActionCreatorManager.GetActionCreator(a.ProgressIndicatorActionsCreator,t);this._environmentListActionCreator=f.ActionCreatorManager.GetActionCreator(ft.EnvironmentListActionCreator,i);this._initializeVersionPickerContributionsData();n===-1?this._initializeProjectData(u,e,t):this._initializeData(n,t,r,u,e)},t.prototype.createRelease=function(n,t,i,r,u,f){var e=this;this._logActionStart(nt.CreateReleaseProgressIndicatorAction.authorizeDeploymentAction);this._authorizeAutomatedDeployments(t).then(function(){return r?e._startRelease(n,t,u):e._createNewRelease(n,t,i,u,f)}).catch(function(n){e.updateErrorMessage(lt.getErrorMessage(n))}).fin(function(){g.ReleaseSource.instance().setDeploymentAuthorizationHeader(undefined);e._logActionComplete(nt.CreateReleaseProgressIndicatorAction.authorizeDeploymentAction)})},t.prototype.updateErrorMessage=function(n){n!==null&&this._actions.updateErrorMessage.invoke(n)},t.prototype.updateDescription=function(n){this._actions.updateDescription.invoke(n)},t.prototype.updateSelectedDeploymentTrigger=function(n){this._actions.updateSelectedDeploymentTrigger.invoke(n)},t.prototype.updateArtifactSelectedVersion=function(n,t){if(t){var i={artifactIndex:n,selectedVersionId:t.id,selectedVersionName:t.name};this._actions.updateArtifactSelectedVersion.invoke(i)}},t.prototype.toggleDeploymentTrigger=function(n){this._actions.toggleDeploymentTrigger.invoke(n)},t.prototype.updateManualDeploymentTriggers=function(n){this._actions.updateManualDeploymentTriggers.invoke(n)},t.prototype.getPipelineReleaseStartParameters=function(n,t,i){var u=[],r;return n.environmentTriggers.forEach(function(n){n.triggerOptions&&n.triggerOptions.length>1&&n.selectedTriggerKey===tt.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey&&u.push(n.environmentName)}),r={},r[e.Properties.ReleaseCreationSource]=i||w.PipelineReleaseCreationSourceConstants.Other,{definitionId:n.data.id,isDraft:!1,description:!n.description?at.empty:n.description,manualEnvironments:u,artifacts:this._getArtifactsMetadata(n),variables:ot.VariablesUtils.getVariablesInScope(t,s.VariableConstants.DefaultScopeKey),environmentsMetadata:this._getEnvironmentMetadata(n.data.environments,t),properties:r}},t.prototype._initializeData=function(n,t,i,r){var u=this,o=rt.StoreManager.GetStore(ut.ProgressIndicatorStore,t),f,e;o.isActionInProgress(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)||this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction);e=r&&r.name?!1:!0;f=i?g.ReleaseSource.instance().getRelease(n):d.DeployPipelineDefinitionSource.instance().get(n,e,!r?at.empty:r.name);f.then(function(t){if(t.id===n){u._actions.initializeDefinition.invoke(t);u._initializeEnvironmentsPhasesWarning(t.environments);u._initializeEnvironmentsForCanvas(t.environments);u._initializeEnvironmentsEndpoints(t.environments);var f=t;u._initializeArtifactsVersionsByArtifacts(f.artifacts,i?f.releaseDefinition.id:n,!r?at.empty:r.name);i||u._initializeOverridableVariables(t)}},function(n){u.updateErrorMessage(lt.getErrorMessage(n));u._endPerfScenario?u._endPerfScenario():ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog)}).fin(function(){u._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)})},t.prototype._initializeProjectData=function(n,t,i){var r=this,u,f;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction);u=at.format("{0}:{1}",vt.getDefaultWebContext().project.id,t);f=d.DeployPipelineDefinitionSource.instance().getReleaseDefinitionsForArtifactSource(ht.ArtifactTypes.Build,u,null,!n?at.empty:n.name);f.then(function(u){var f={project:n,releaseDefinitions:u};r._actions.initializeProject.invoke(f);r._initializeData(u[0].id,i,!1,n,t)},function(n){r.updateErrorMessage(lt.getErrorMessage(n));r._endPerfScenario?r._endPerfScenario():ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog);r._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)})},t.prototype._initializeOverridableVariables=function(n){var r=this,t=k.DefinitionVariablesUtils.mapDefinitionToVariablesData(n,!0),i=t.environments,f=(n.environments||[]).map(function(n){return n.id}),u;!!i&&i.length>0&&(this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeOverridableVariablesAction),u=k.DefinitionVariablesUtils.getScopePermissions(n.path,n.id,f),u.then(function(n){var u=r._getPermissionsMap(n);t.environments=i.filter(function(n){if(u[n.definitionId]===undefined||u[n.definitionId])return!0})},function(){t.environments=i}).fin(function(){var n={skipSystemVariables:!0,definitionId:t.definitionId,variableList:k.DefinitionVariablesUtils.getProcessVariables(t),scopes:k.DefinitionVariablesUtils.getScopes(t.environments),disabledMode:!1,hideAddVariables:!0};r._processVariablesActionCreator.createProcessVariables(n);r._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeOverridableVariablesAction)}))},t.prototype._initializeVersionPickerContributionsData=function(){var n=this,t;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeVersionPickerContributionsAction);t=h.ContributionSource.instance().getContributions(p.ContributionIds.CreateReleaseVersionPickerContributionId);t.then(function(t){n._actions.getVersionPickerContributions.invoke(t)},function(t){n.updateErrorMessage(lt.getErrorMessage(t))}).fin(function(){n._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeVersionPickerContributionsAction)})},t.prototype._getPermissionsMap=function(n){var t={};return!!n&&n.length>0&&n.forEach(function(n){t[n.scopeKey]=n.hasPermission}),t},t.prototype._initializeArtifactsVersionsByArtifacts=function(n,t,i){var r=et.ArtifactSource.instance().getDefinitionArtifactsVersions(t,i?!1:!0,i);this._initializeArtifactVersions(r,n)},t.prototype._initializeArtifactVersions=function(n,t){var i=this;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeArtifactVersionsAction);n.then(function(n){i._actions.initializeDefinitionArtifactsVersions.invoke({artifacts:t,versions:n});i._endPerfScenario?i._endPerfScenario():ct.getScenarioManager().endScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog)},function(n){i.updateErrorMessage(lt.getErrorMessage(n));i._endPerfScenario?i._endPerfScenario():ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.CreateReleaseDialog)}).fin(function(){i._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeArtifactVersionsAction)})},t.prototype._initializeEnvironmentsForCanvas=function(n){this._environmentListActionCreator.refreshEnvironmentList(n)},t.prototype._initializeEnvironmentsPhasesWarning=function(n){var t=this,i;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentPhaseWarningAction);i=tt.ReleaseEnvironmentUtils.getEnvironmentsPhasesDemandsWarning(n);i.then(function(n){t._actions.initializeEnvironmentsPhasesWarning.invoke(n);t._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentPhaseWarningAction)})},t.prototype._initializeEnvironmentsEndpoints=function(n){var t=this,i;this._progressIndicatorActionsCreator.actionStarted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentEndpointsAction);i=tt.ReleaseEnvironmentUtils.getEnvironmentsEndpoints(n);i.then(function(n){t._actions.initializeEnvironmentsEndpoints.invoke(n)},function(n){t.updateErrorMessage(lt.getErrorMessage(n))}).fin(function(){t._progressIndicatorActionsCreator.actionCompleted(nt.CreateReleaseProgressIndicatorAction.initializeEnvironmentEndpointsAction)})},t.prototype._authorizeAutomatedDeployments=function(n){if(n&&y.FeatureFlagUtils.isDeploymentAuthorizationEnabled()){var t=tt.ReleaseEnvironmentUtils.getEnvironmentsAuthInfo(n.environmentTriggers);return tt.ReleaseEnvironmentUtils.authorizeDeployments(t)}return i.resolve(undefined)},t.prototype._getEnvironmentMetadata=function(n,t){var r,i,u,f,e;if(!n||n.length===0)return[];for(r=[],i=0,u=n;i<u.length;i++)f=u[i],e=ot.VariablesUtils.getVariablesInScope(t,f.id),r.push({definitionEnvironmentId:f.id,variables:e});return r},t.prototype._getBuildTypeUnfetchedVersions=function(n){var t=[];return(n.artifactsVersionsData||[]).forEach(function(n){var i=l.ArtifactUtility.getArtifactVersionById(n.artifactVersion.versions,n.selectedVersionId);i||n.artifactSource.type!==ht.ArtifactTypes.Build||t.push(n)}),t},t.prototype._fetchNotFoundVersions=function(n){var r=this,t=[],u=this._getBuildTypeUnfetchedVersions(n);return u.forEach(function(n){var f=i.defer();t.push(f.promise);var u=n.artifactSource,e={id:n.selectedVersionId,name:n.selectedVersionName},o=et.ArtifactSource.instance().getArtifactVersionDetails(u,e);o.then(function(n){r._fetchedVersions[u.alias]=n},function(){if(u.type===ht.ArtifactTypes.Build){var n=at.localeFormat(c.InvalidIdForBuildArtifactErrorMessage,u.alias);f.reject(n)}}).fin(function(){f.resolve(null)})}),t},t.prototype._getArtifactsMetadata=function(n){var t=this,i=[];return n.canShowArtifactsVersions&&!n.hasAnyErrorsInArtifacts&&(i=n.artifactsVersionsData.map(function(n){var i={alias:n.artifactVersion.alias,instanceReference:undefined},r=l.ArtifactUtility.getArtifactVersionById(n.artifactVersion.versions,n.selectedVersionId);return i.instanceReference=r?r:t._isVersionFetched(i.alias,n.selectedVersionId)?t._fetchedVersions[i.alias]:{name:n.selectedVersionName,id:n.selectedVersionId},i})),i},t.prototype._isVersionFetched=function(n,t){if(this._fetchedVersions.hasOwnProperty(n)){var i=this._fetchedVersions[n];return i.id===t}return!1},t.prototype._createNewRelease=function(n,t,r,u,f){var e=this,o=function(n){e.updateErrorMessage(lt.getErrorMessage(n));e._logActionComplete(nt.CreateReleaseProgressIndicatorAction.createReleaseAction);ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)};this._logActionStart(nt.CreateReleaseProgressIndicatorAction.createReleaseAction);i.all(this._fetchNotFoundVersions(t)).then(function(){var i=e.getPipelineReleaseStartParameters(t,r,f),s=g.ReleaseSource.instance().createRelease(i,u);return b.TelemetryHelper.publishReleaseTimeVariablesTelemetry(t.data,r),s.then(function(t){e._logActionComplete(nt.CreateReleaseProgressIndicatorAction.createReleaseAction);n&&n(t,u);ct.getScenarioManager().endScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)},o)},o)},t.prototype._startRelease=function(n,t){var r=this,u=function(n){r.updateErrorMessage(lt.getErrorMessage(n));r._logActionComplete(nt.CreateReleaseProgressIndicatorAction.updateReleaseAction);ct.getScenarioManager().abortScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)};this._logActionStart(nt.CreateReleaseProgressIndicatorAction.updateReleaseAction);i.all(this._fetchNotFoundVersions(t)).then(function(){var i=t.data,f=r._getArtifactsMetadata(t);return r._updateArtifactVersionMetaData(i,f),r._dropApprovals(i),i.description=t.description,g.ReleaseSource.instance().updateRelease(i).then(function(f){var e=r._getEnvironmentsSwitchedFromAutomatedToManual(t),o={status:st.ReleaseStatus.Active,manualEnvironments:e,comment:f.description,name:at.empty};g.ReleaseSource.instance().patchRelease(i.id,o).then(function(t){r._logActionComplete(nt.CreateReleaseProgressIndicatorAction.updateReleaseAction);n&&n(t);ct.getScenarioManager().endScenario(p.CommonConstants.FeatureArea,p.PerfScenarios.StartRelease)},u)},u)},u)},t.prototype._updateArtifactVersionMetaData=function(n,t){var r,f,i,o,u,e;if(n&&n.artifacts&&t&&t.length>0)for(r=0,f=n.artifacts;r<f.length;r++)i=f[r],i.alias&&(o=i.alias,u=this._getArtifactMetadata(o,t),i.definitionReference[w.PipelineArtifactDefinitionConstants.Version].id=u.instanceReference.id,i.definitionReference[w.PipelineArtifactDefinitionConstants.Version].name=u.instanceReference.name,e=u.instanceReference.sourceBranch,i.definitionReference[w.PipelineArtifactDefinitionConstants.BranchId]={id:e,name:e})},t.prototype._logActionStart=function(n){this._progressIndicatorActionsCreator&&this._progressIndicatorActionsCreator.actionStarted(n)},t.prototype._logActionComplete=function(n){this._progressIndicatorActionsCreator&&this._progressIndicatorActionsCreator.actionCompleted(n)},t.prototype._getArtifactMetadata=function(n,t){for(var r,u={alias:n,instanceReference:{commitMessage:"",id:"",name:"",isMultiDefinitionType:!1,definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null}},i=0,f=t;i<f.length;i++)if(r=f[i],n===r.alias){u=r;break}return u},t.prototype._dropApprovals=function(n){n.environments.forEach(function(n){n.preDeployApprovals=[];n.postDeployApprovals=[]})},t.prototype._getEnvironmentsSwitchedFromAutomatedToManual=function(n){for(var u,i=[],f=tt.ReleaseEnvironmentUtils.getToggledManuallyTriggeredEnvironment(n.environmentTriggers),t=0,r=f;t<r.length;t++)u=r[t],i.push(u.environmentName);return i},t}(u.ActionCreatorBase);t.CreateReleaseActionsCreator=yt});

define("DistributedTaskControls/Components/OverlayPanelHeading",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/InfoButton","DistributedTaskControls/Components/SafeLink","DistributedTaskControls/Components/TooltipIfOverflow","OfficeFabric/Label","OfficeFabric/Utilities","VSSUI/VssIcon","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/OverlayPanelHeading"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:s.css("overlay-panel-heading-row",this.props.cssClass),role:"heading","aria-level":2},i.createElement("div",{className:"left-section"},i.createElement(o.Label,{id:this.props.labelId,className:"overlay-panel-heading-label"},this.props.label),this.props.subHeader&&this._getSubHeader(),this.props.infoButtonRequired&&i.createElement(u.Component,{cssClass:"overlay-panel-heading-info",calloutContent:{calloutDescription:this.props.infoButtonCallOut}}),this.props.description&&this._getDescriptionElement()))},t.prototype._getSubHeader=function(){return i.createElement("span",{className:"subHeaderContainer"},i.createElement("span",{className:"vertical-line"}),i.createElement("span",{className:"subheader-style"},this.props.subHeader))},t.prototype._getDescriptionElement=function(){var n,t,r,u;return this.props.linkedUrl?i.createElement("div",{className:"description-container overlay-panel-heading-link-container"},i.createElement(f.SafeLink,{href:this.props.linkedUrl,target:"_blank"},this.props.description)):(n=null,this.props.descriptionIcon&&(t=0,this.props.descriptionIconType&&(t=this.props.descriptionIconType),n=i.createElement(h.VssIcon,{className:s.css("description-icon",this.props.descriptionIconClass),iconName:this.props.descriptionIcon,iconType:t})),r="description-content",u=this._getDescriptionContent(r),i.createElement("div",{className:"description-container"},n,typeof this.props.description=="string"?this._getContentWithTooltip(u,r):u))},t.prototype._getDescriptionContent=function(n){return i.createElement("div",{className:n},this.props.description)},t.prototype._getContentWithTooltip=function(n,t){return i.createElement(e.TooltipIfOverflow,{tooltip:this.props.description.toString(),targetElementClassName:t,containerClassName:"tooltip-container-class"},i.createElement("div",{className:"tooltip-container-class"},n))},t}(r.Component);t.OverlayPanelHeading=c});

define("DistributedTaskControls/SharedControls/InputControls/Components/PickListV2InputComponent",["require","exports","react","DistributedTaskControls/SharedControls/InputControls/Common","DistributedTaskControls/SharedControls/InputControls/Components/InputComponentBase","OfficeFabric/Utilities","VSSUI/Components/PickList/index","VSS/Diag"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._getListItem=function(n){return{key:n.key,name:n.name}},t._onChanged=function(n){if(!!n)t.props.onValueChanged(n.selectedItems||[])},t._getPickListItems=function(){var n=t.props.options||[];return t.props.getPickListItems?t.props.getPickListItems(n):n},t}return __extends(t,n),t.prototype.getType=function(){return r.InputControlType.INPUT_TYPE_PICK_LIST_V2},t.prototype.getControl=function(){return o.logVerbose("[PickListV2InputComponent.getControl]: Method called."),i.createElement("div",{className:"input-control-dropdown input-field-picklist"},this._getPickListDropDown())},t.prototype._getPickListDropDown=function(){return i.createElement(e.PickListDropdown,{selectedItems:this.state.value,getPickListItems:this._getPickListItems,getListItem:this._getListItem,onSelectionChanged:this._onChanged,selectionMode:this.props.selectionMode,showSelectAll:this.props.showSelectAll,className:f.css("dtc-picklist-dropdown",this.props.pickListInputClassName),ariaLabelFormat:this.props.ariaLabel,ariaDescribedBy:this.props.ariaDescribedBy})},t}(u.InputBase);t.PickListV2InputComponent=s});

define("DistributedTaskControls/Components/FlatViewCheckBox",["require","exports","react","DistributedTaskControls/Common/Components/Base","OfficeFabric/Checkbox","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/FlatViewCheckBox"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onChange=function(n,i){t.props.onValueChanged(i)},t._onFocus=function(){t._element&&t._element.find("label").addClass("focus")},t._onBlur=function(){t._element&&t._element.find("label").removeClass("focus")},t}return __extends(t,n),t.prototype.render=function(){var t=this,n="flat-view-checkbox";return n+=!this.props.rowSelected&&!this.props.value?" hide":"",i.createElement("div",{className:"flat-view-checkbox-container",ref:function(n){t._element=$(n)}},i.createElement(u.Checkbox,{className:n,checked:!!this.props.value,onChange:this._onChange,onFocus:this._onFocus,onBlur:this._onBlur,ariaLabel:this.props.ariaLabel,disabled:!!this.props.isDisabled}))},t}(r.Component);t.FlatViewCheckBox=f});

define("DistributedTaskControls/Variables/Common/ControllerViewBase",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/FlatViewTableWithAddButton","DistributedTaskControls/Components/FlatViewTable","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Common/Utilities","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/DetailsList","VSS/Utils/UI","VSS/LoaderPlugins/Css!DistributedTaskControls/Variables/Common/ControllerViewBase"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._refreshVariableList=function(){t.setState(t._store.getState())},t._addNewVariable=function(n){t._actionCreator.addVariable({});o.DtcUtils.scrollElementToView(n.currentTarget,c.Positioning.VerticalScrollBehavior.Middle)},t}return __extends(t,n),t.prototype.componentWillMount=function(){this._store=this._getViewStore();this._actionCreator=this._getActionCreator();this.setState(this._store.getState());this._store.addChangedListener(this._refreshVariableList)},t.prototype.componentWillUnmount=function(){this._store.removeChangedListener(this._refreshVariableList)},t.prototype.render=function(){var t=this._getHeaders(),n=this._store.getState();return n.hideAddVariables?i.createElement(f.FlatViewTable,{disabled:!!n.variablesDisabledMode,layoutMode:h.DetailsListLayoutMode.fixedColumns,isHeaderVisible:this._isHeaderVisible(),headers:t,rows:this._getVariableRows(),onCellValueChanged:this._onCellValueChanged.bind(this),ariaLabel:this._getAriaLabel()}):i.createElement(u.FlatViewTableWithAddButton,{disabled:!!n.variablesDisabledMode,layoutMode:h.DetailsListLayoutMode.fixedColumns,flatViewContainerClass:"dtc-variables-list",containerClass:"variables-section",isHeaderVisible:this._isHeaderVisible(),headers:t,rows:this._getVariableRows(),onCellValueChanged:this._onCellValueChanged.bind(this),onAdd:this._addNewVariable,addButtonClass:"fabric-style-overrides add-new-item-button add-variable-btn",addButtonDescription:s.AddVariableDescription,ariaLabel:this._getAriaLabel(),setFocusOnRender:!1,stopAutoFocus:this.isAutoFocusDisabled(),focusSelectorOnAddRow:".dtc-variable-name-cell .flat-view-text"})},t.prototype._onCellValueChanged=function(n,t){switch(t.columnKey){case e.VariableColumnKeys.NameColumnKey:this._actionCreator.updateVariableKey({index:t.rowIndex,key:n});break;case e.VariableColumnKeys.ValueColumnKey:this._actionCreator.updateVariableValue({index:t.rowIndex,variable:{value:n}});break;case e.VariableColumnKeys.SettableAtQueueTimeColumnKey:this._actionCreator.updateVariableValue({index:t.rowIndex,variable:{value:this._store.getCurrentVariablesArray()[t.rowIndex].value,allowOverride:n==="true"}})}},t.prototype._isHeaderVisible=function(){return!0},t.prototype._isVariablesInDisabledMode=function(){return!1},t.prototype.isAutoFocusDisabled=function(){return!1},t}(r.Component);t.VariablesControllerViewBase=l});

define("DistributedTaskControls/Variables/Common/ViewStoreBase",["require","exports","DistributedTaskControls/Common/Stores/Base"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.ViewStoreBase);t.VariablesViewStoreBase=r});

define("DistributedTaskControls/Variables/Filters/ProcessVariablesFilterActions",["require","exports","VSS/Flux/Action","DistributedTaskControls/Common/Actions/Base","DistributedTaskControls/Variables/Common/Constants"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._filter=new i.Action;this._defaultFilterTrigger=new i.Action},t.getKey=function(){return u.VariableActionHubKeys.VariablesSection_FiltersActionsHub},Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultFilterTrigger",{get:function(){return this._defaultFilterTrigger},enumerable:!0,configurable:!0}),t}(r.ActionsHubBase);t.ProcessVariablesFilterActions=f});

define("DistributedTaskControls/Variables/Filters/ProcessVariablesFilterUtility",["require","exports","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/Common/Constants","VSS/Utils/String"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function n(){}return n.filterVariables=function(t,i){var r,f=n.getScopes(i),u;return r=this.filterByScope(t,f),u=n.getKeyword(i),this._filterByKeyword(t,r,u)},n.areDefaultScopesChanged=function(n,t){var r,u,e,f,o,i;if(n=n||[],t=t||[],n.length!==t.length)return!0;for(r={},u=0,e=n;u<e.length;u++)i=e[u],r[i.key]=i.value;for(f=0,o=t;f<o.length;f++)i=o[f],r[i.key]=i.value;return t.length===0||t.length===2&&Object.keys(r).length===2?!1:!0},n.filterByScope=function(n,t){var f,r,o,u,e,s;if(!(t&&t.length>0))return this._getIndexes(n);for(f=[],r=0,o=n.length;r<o;r++)for(u=0,e=t;u<e.length;u++)s=e[u],i.VariablesUtils.isScopeEqual(s,n[r].scope)&&f.push(r);return f},n.doesVariableMatchFilter=function(t,i){var r=n.getKeyword(i),u=n.getScopes(i);return n._doesVariableMatchKeyword(t,r)&&n._doesVariableMatchScopes(t,u)},n.getScopes=function(n){var t=n&&n.getState();return t&&t[r.ProcessVariablesFilterKeys.Scope]?t[r.ProcessVariablesFilterKeys.Scope].value:null},n.getKeyword=function(n){var t=n&&n.getState();return t&&t[r.ProcessVariablesFilterKeys.Keyword]?t[r.ProcessVariablesFilterKeys.Keyword].value:u.empty},n.doesValueMatchKeyword=function(n,t){return!n.isSecret&&u.caseInsensitiveContains(n.value,t)},n._doesVariableMatchKeyword=function(t,i){return n._doesNameMatchKeyword(t,i)||n.doesValueMatchKeyword(t,i)||n._doesScopeMatchKeyword(t,i)},n._filterByKeyword=function(t,i,r){for(var f,e=[],u=0,o=i;u<o.length;u++)f=o[u],n._doesVariableMatchKeyword(t[f],r)&&e.push(f);return e},n._getIndexes=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(t);return i},n._doesNameMatchKeyword=function(n,t){return u.caseInsensitiveContains(n.name,t)},n._doesScopeMatchKeyword=function(n,t){return u.caseInsensitiveContains(n.scope.value,t)},n._doesVariableMatchScopes=function(n,t){var r,u,f;if(!t||t.length===0)return!0;for(r=0,u=t;r<u.length;r++)if(f=u[r],i.VariablesUtils.isScopeEqual(f,n.scope))return!0;return!1},n}();t.ProcessVariablesFilterUtility=f});

define("DistributedTaskControls/Variables/ProcessVariables/ViewStore",["require","exports","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Variables/Common/ViewStoreBase","DistributedTaskControls/Variables/ProcessVariables/DataStore","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesViewActions","DistributedTaskControls/Variables/Filters/ProcessVariablesFilterActions","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/Filters/ProcessVariablesFilterUtility","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","OfficeFabric/Utilities","VSSUI/Utilities/Filter","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return t&&(i._scopeKey=t.scopeKey),i}return __extends(t,n),t.prototype.initialize=function(n){this._state={};this._actionsHub=e.ActionsHubManager.GetActionsHub(o.ProcessVariablesViewActions,n);this._actionsHub.createProcessVariables.addListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.addListener(this._updateProcessVariables);this._actionsHub.addVariable.addListener(this._addVariable);this._actionsHub.addScopedProcessVariables.addListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.addListener(this._cloneScopedVariables);this._actionsHub.deleteScope.addListener(this._deleteScope);this._actionsHub.deleteVariable.addListener(this._deleteVariable);this._actionsHub.resetViewIndexToDataIndexMap.addListener(this._resetViewIndexToDataIndexMap);this._actionsHub.getMenuItemContributions.addListener(this._onMenuItemsFetched);this._filtersActionsHub=e.ActionsHubManager.GetActionsHub(s.ProcessVariablesFilterActions,n);this._filtersActionsHub.filter.addListener(this._filter);this._filtersActionsHub.defaultFilterTrigger.addListener(this._handleDefaultFilterChanged);this._dataStore=i.StoreManager.GetStore(u.ProcessVariablesStore,n);this._dataStore.addChangedListener(this._onDataStoreChanged);this._setDefaultFilterOnLoad();this._onDataStoreChanged()},t.prototype.getState=function(){return this._state},t.prototype.getCurrentVariablesArray=function(){for(var r=this._dataStore.getCurrentVariablesArray(),t=this._state.viewIndexTodataIndexMap,i=[],n=0,u=t.length;n<u;n++)i.push(r[t[n]]);return i},t.prototype.getDuplicateVariableNamesMap=function(){var n=this._dataStore.getCurrentVariablesArray();return l.ValidationHelper.getDuplicateVariableNamesMap(n,f.VariableConstants.DefaultScopeKey)},t.prototype.getDefaultScopeDuplicateVariableNamesMap=function(){var n=this.getDuplicateVariableNamesMap();return n.hasOwnProperty(f.VariableConstants.DefaultScopeKey)?n[f.VariableConstants.DefaultScopeKey]:{}},t.prototype.shouldShowPermissionWarning=function(n){return this._dataStore.shouldShowPermissionWarning(n)},t.prototype.getPermissionWarningMessage=function(){return this._dataStore.getPermissionWarningMessage()},t.prototype.disposeInternal=function(){this._actionsHub.createProcessVariables.removeListener(this._createProcessVariables);this._actionsHub.updateProcessVariables.removeListener(this._updateProcessVariables);this._actionsHub.addVariable.removeListener(this._addVariable);this._actionsHub.addScopedProcessVariables.removeListener(this._addScopedVariables);this._actionsHub.cloneScopedProcessVariables.removeListener(this._cloneScopedVariables);this._actionsHub.deleteScope.removeListener(this._deleteScope);this._actionsHub.deleteVariable.removeListener(this._deleteVariable);this._actionsHub.resetViewIndexToDataIndexMap.removeListener(this._resetViewIndexToDataIndexMap);this._actionsHub.getMenuItemContributions.addListener(this._onMenuItemsFetched);this._filtersActionsHub.defaultFilterTrigger.removeListener(this._handleDefaultFilterChanged);this._filtersActionsHub.filter.removeListener(this._filter);this._dataStore.removeChangedListener(this._onDataStoreChanged)},t.getKey=function(){return f.VariableStoreKeys.StoreKey_VariablesListViewStore},t.prototype._setDefaultFilterOnLoad=function(){this._scopeKey&&(this._state.filter=new v.Filter,this._state.filter.setState(this._getDefaultState(this._scopeKey)),this._postFilterSetChanges())},t.prototype._createProcessVariables=function(){this._state.viewIndexTodataIndexMap=null},t.prototype._updateProcessVariables=function(){this._filterVariables();this.emitChanged()},t.prototype._addVariable=function(){var n=this._dataStore.getCurrentVariablesArray(),t=n.length;this._state.viewIndexTodataIndexMap.push(t)},t.prototype._addScopedVariables=function(n){for(var u,f=this._dataStore.getCurrentVariablesArray(),i=f.length,r=n.variableList,t=0,e=r.length;t<e;t++)u=h.VariablesUtils.convertDefinitionVariableToModelVariable(r[t]),c.ProcessVariablesFilterUtility.doesVariableMatchFilter(u,this._state.filter)&&this._state.viewIndexTodataIndexMap.push(i),i++},t.prototype._cloneScopedVariables=function(n){for(var i=this._dataStore.getCurrentVariablesArray(),r=i.length,f=h.VariablesUtils.getVariablesInScope(i,n.sourceScopeKey),u=h.VariablesUtils.cloneScopedProcessVariables(f,n.targetScope),t=0,e=u.length;t<e;t++)c.ProcessVariablesFilterUtility.doesVariableMatchFilter(u[t],this._state.filter)&&this._state.viewIndexTodataIndexMap.push(r),r++},t.prototype._deleteScope=function(n){for(var u,i=this._dataStore.getCurrentVariablesArray(),r=0,t=0,f=i.length;t<f;t++)u=i[t],u.scope.key===n.key&&(this._delete(t-r),r++)},t.prototype._deleteVariable=function(n){this._delete(n.index)},t.prototype._onMenuItemsFetched=function(n){this._state.variableValueMenuItems=n&&n.length?n:null;this.emitChanged()},t.prototype._delete=function(n){var t=this._state.viewIndexTodataIndexMap,r=t.indexOf(n),i,u;for(r!==-1&&t.splice(r,1),i=0,u=t.length;i<u;i++)t[i]>n&&(t[i]=t[i]-1)},t.prototype._initializeDataIndexesOrder=function(){var t,i,n;if(!this._state.viewIndexTodataIndexMap)for(t=this._dataStore.getCurrentVariablesArray(),i=t.length,this._state.viewIndexTodataIndexMap=[],n=0;n<i;n++)this._state.viewIndexTodataIndexMap.push(n)},t.prototype._onDataStoreChanged=function(){this._state.stopAutoFocus=!1;this._initializeDataIndexesOrder();a.assign(this._state,this._dataStore.getState());this._state.variablesArray=this.getCurrentVariablesArray();this.emitChanged()},t.prototype._handleDefaultFilterChanged=function(n){this._scopeKey!==n&&(this._state.stopAutoFocus=!0,this._state.filter||(this._state.filter=new v.Filter),this._state.filter.setState(this._getDefaultState(n),!0),this._postFilterSetChanges(),this._scopeKey=n,this.emitChanged())},t.prototype._filter=function(n){this._state.stopAutoFocus=!0;this._state.filter=n;this._postFilterSetChanges();this.emitChanged()},t.prototype._postFilterSetChanges=function(){this._filterVariables()},t.prototype._resetViewIndexToDataIndexMap=function(){this._state.viewIndexTodataIndexMap=null},t.prototype._filterVariables=function(){var n=this._dataStore.getCurrentVariablesArray();this._state.viewIndexTodataIndexMap=c.ProcessVariablesFilterUtility.filterVariables(n,this._state.filter);this._state.variablesArray=this.getCurrentVariablesArray()},t.prototype._getDefaultState=function(n){var i=null,t;return n&&(t=this._dataStore.getDefaultScopes(n),t&&t.length>0&&(i={keyword:{value:y.empty},scope:{value:t}})),i},__decorate([a.autobind],t.prototype,"_createProcessVariables",null),__decorate([a.autobind],t.prototype,"_updateProcessVariables",null),__decorate([a.autobind],t.prototype,"_addVariable",null),__decorate([a.autobind],t.prototype,"_addScopedVariables",null),__decorate([a.autobind],t.prototype,"_cloneScopedVariables",null),__decorate([a.autobind],t.prototype,"_deleteScope",null),__decorate([a.autobind],t.prototype,"_deleteVariable",null),__decorate([a.autobind],t.prototype,"_onMenuItemsFetched",null),__decorate([a.autobind],t.prototype,"_onDataStoreChanged",null),__decorate([a.autobind],t.prototype,"_handleDefaultFilterChanged",null),__decorate([a.autobind],t.prototype,"_filter",null),__decorate([a.autobind],t.prototype,"_resetViewIndexToDataIndexMap",null),t}(r.VariablesViewStoreBase);t.ProcessVariablesViewStore=p});

define("DistributedTaskControls/Variables/ProcessVariables/ControllerView",["require","exports","react","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Components/FlatViewCheckBox","DistributedTaskControls/Variables/ProcessVariables/Actions/ProcessVariablesActionCreator","DistributedTaskControls/Variables/Common/ControllerViewBase","DistributedTaskControls/Variables/ProcessVariables/ViewStore","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","OfficeFabric/DetailsList","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(t){var i=__construct(this,n,[t]);for(var f in i)i.hasOwnProperty(f)&&(this[f]=i[f]);return i._processVariableViewStore=r.StoreManager.CreateStore(h.ProcessVariablesViewStore,t.instanceId,{}),i._processVariablesActionCreator=u.ActionCreatorManager.GetActionCreator(o.ProcessVariablesActionCreator,t.instanceId),i}return __extends(t,n),t.prototype._getViewStore=function(){return this._processVariableViewStore},t.prototype._getActionCreator=function(){return this._processVariablesActionCreator},t.prototype._getHeaders=function(){var n=[],t="flatview-header header-variables-table";return n.push({key:c.VariableColumnKeys.NameColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,a.NameLabel),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,200),headerClassName:t,columnActionsMode:v.ColumnActionsMode.disabled}),n.push({key:c.VariableColumnKeys.ValueColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,a.ValueLabel),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,400),headerClassName:t,columnActionsMode:v.ColumnActionsMode.disabled}),this.props.options.settableAtQueueTime&&n.push({key:c.VariableColumnKeys.SettableAtQueueTimeColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,a.SettableAtQueueTimeText),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,80),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,100),headerClassName:t,columnActionsMode:v.ColumnActionsMode.disabled}),n},t.prototype._getColumnOptionsPropertyValue=function(n,t,i){var r=this.props.options.columnOptionOverrides;return!!r&&!!r[n]&&!!r[n][t]?r[n][t]:i},t.prototype._isColumnReadOnly=function(n){return this._getColumnOptionsPropertyValue(n,c.ProcessVariableColumnOptionProperties.IsReadOnly,!1)},t.prototype._getVariableRows=function(){var n=this,u=[],o=this._getViewStore().getState(),s=o.variablesArray,t="Unlock",r=a.UnLockText,h=this._getViewStore().getDefaultScopeDuplicateVariableNamesMap();return s.forEach(function(o,s){var v={cells:{}};v.rowAriaLabel=l.VariablesUtils.getVariableRowAriaLabel(o);v.cells[c.VariableColumnKeys.NameColumnKey]={cssClass:"dtc-variable-name-cell",content:o.name,contentType:f.ContentType.SimpleText,contentHasErrors:o.name.trim()===y.empty||h[o.name.trim().toLocaleLowerCase()]>1,isTextDisabled:!!o.isSystemVariable,controlIcon:"Delete",controlTitle:l.VariablesUtils.getDeleteVariableIconAriaLabel(o),controlClickCallback:function(){n._getActionCreator().deleteVariable({index:s,key:o.name})}};o.isSecret?(t="Lock",r=a.ChangeVariableTypeToPlain):(t="Unlock",r=a.ChangeVariableTypeToSecret);v.cells[c.VariableColumnKeys.ValueColumnKey]={cssClass:"dtc-variable-value-cell",content:o.value,contentType:!o.isSecret?f.ContentType.SimpleText:f.ContentType.PasswordText,payload:o,isTextDisabled:!!o.isSystemVariable,controlIcon:t,controlTitle:r,controlClickCallback:function(){n._getActionCreator().updateVariableValue({index:s,variable:{value:o.value,isSecret:!o.isSecret}})}};n.props.options.settableAtQueueTime&&(v.cells[c.VariableColumnKeys.SettableAtQueueTimeColumnKey]={content:i.createElement(e.FlatViewCheckBox,{value:o.allowOverride,rowSelected:!1,onValueChanged:function(t){n._onCellValueChanged(t.toString(),{rowIndex:s,columnKey:c.VariableColumnKeys.SettableAtQueueTimeColumnKey})},isDisabled:!!o.isSystemVariable}),contentType:f.ContentType.JsxElement});u.push(v)}),u},t.prototype._getAriaLabel=function(){return a.ARIALabelProcessVariablesTable},t}(s.VariablesControllerViewBase);t.ProcessVariablesControllerView=p});

define("DistributedTaskControls/Variables/ProcessVariablesV2/ControllerView",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Components/FlatViewButton","DistributedTaskControls/Components/FlatViewCheckBox","DistributedTaskControls/Components/FlatViewDropdown","DistributedTaskControls/Components/FlatViewIcon","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/Common/VariableUtils","DistributedTaskControls/Variables/ProcessVariables/ControllerView","DistributedTaskControls/Variables/ProcessVariablesV2/ValidationHelper","OfficeFabric/DetailsList","VSSUI/Tooltip","VSSUI/Util","VSSUI/ContextualMenuButton","VSS/Utils/String","VSS/LoaderPlugins/Css!DistributedTaskControls/Variables/ProcessVariablesV2/ControllerView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var d,g;Object.defineProperty(t,"__esModule",{value:!0});d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onColumnClick=function(n,i){if(t._isSortingEnabled()){var r=t._getActionCreator();r.sort({columnKey:i.key,isSortedDescending:!i.isSortedDescending})}},t}return __extends(t,n),t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=this.props.options.valueMenuItemContributionKey;t&&this._getActionCreator().getContributedMenuItems(t)},t.prototype._getHeaders=function(){var n=[],t=this._getViewStore().getState();return this.props.options.hideError||n.push({key:c.VariableColumnKeys.IconColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.IconColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.VariableErrorMessageColumnHeader),isIconOnly:!0,columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.IconColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,20),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.IconColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,20)}),n.push({key:c.VariableColumnKeys.NameColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.NameLabel),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,200),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.NameColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,300),onColumnClick:this._onColumnClick,columnActionsMode:this._isSortingEnabled()?y.ColumnActionsMode.clickable:y.ColumnActionsMode.disabled,isSorted:this._isSortingEnabled()&&t.sortedColumnKey===c.VariableColumnKeys.NameColumnKey,isSortedDescending:t.sortedColumnKey===c.VariableColumnKeys.NameColumnKey?t.isSortedDescending:!1}),this.props.options.hideDelete||n.push({key:c.VariableColumnKeys.DeleteColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.DeleteColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.VariableDeleteColumnHeader),isIconOnly:!0,columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.DeleteColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,32),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.DeleteColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,32)}),n.push({key:c.VariableColumnKeys.ValueColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.ValueLabel),columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,300),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ValueColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,450),isSorted:this._isSortingEnabled()&&t.sortedColumnKey===c.VariableColumnKeys.ValueColumnKey,isSortedDescending:t.sortedColumnKey===c.VariableColumnKeys.ValueColumnKey?t.isSortedDescending:!1}),this.props.options.valueMenuItemContributionKey&&this._getViewStore().getState().variableValueMenuItems&&n.push({key:c.VariableColumnKeys.ContributedValueMenuColumnKey,name:"",columnActionsMode:y.ColumnActionsMode.disabled,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,16),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,16)}),this.props.options.hideSecret||n.push({key:c.VariableColumnKeys.SecretColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.VariableSecretColumnHeader),isIconOnly:!0,columnActionsMode:y.ColumnActionsMode.disabled,iconClassName:"dtc-variables-secret-icon",iconName:"Lock",minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,32),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SecretColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,32)}),this.props.options.supportScopes&&n.push({key:c.VariableColumnKeys.ScopeColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ScopeColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.ScopeText),minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ScopeColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,220),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.ScopeColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,220),onColumnClick:this._onColumnClick,columnActionsMode:this._isSortingEnabled()?y.ColumnActionsMode.clickable:y.ColumnActionsMode.disabled,isSorted:this._isSortingEnabled()&&t.sortedColumnKey===c.VariableColumnKeys.ScopeColumnKey,isSortedDescending:t.sortedColumnKey===c.VariableColumnKeys.ScopeColumnKey?t.isSortedDescending:!1}),this.props.options.settableAtQueueTime&&n.push({key:c.VariableColumnKeys.SettableAtQueueTimeColumnKey,name:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.HeaderName,h.SettableAtQueueTimeText),columnActionsMode:y.ColumnActionsMode.disabled,isFixedColumn:!0,minWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MinWidth,130),maxWidth:this._getColumnOptionsPropertyValue(c.VariableColumnKeys.SettableAtQueueTimeColumnKey,c.ProcessVariableColumnOptionProperties.MaxWidth,140)}),n},t.prototype._getVariableRows=function(){var n=this,i=[],t=this._getViewStore().getState(),r=t.variablesArray,u=t.scopes,f=t.variablesDisabledMode,e=this._getViewStore().getDuplicateVariableNamesMap();return r.forEach(function(t,r){var o={cells:{}},s;o.rowAriaLabel=l.VariablesUtils.getVariableRowAriaLabel(t);s=e[t.scope&&t.scope.key||c.VariableConstants.DefaultScopeKey];o.cells[c.VariableColumnKeys.IconColumnKey]=n._getIconCellContent(t,s,f);o.cells[c.VariableColumnKeys.NameColumnKey]=n._getNameCellContent(t,s);o.cells[c.VariableColumnKeys.ValueColumnKey]=n._getValueCellContent(t);n.props.options.settableAtQueueTime&&(o.cells[c.VariableColumnKeys.SettableAtQueueTimeColumnKey]=n._getSettableAtQueueTime(t,r));o.cells[c.VariableColumnKeys.SecretColumnKey]=n._getSecretCellContent(t,r);o.cells[c.VariableColumnKeys.DeleteColumnKey]=n._getDeleteCellContent(t,r);n.props.options.supportScopes&&(o.cells[c.VariableColumnKeys.ScopeColumnKey]=n._getScopeCellContent(t,u,r));o.cells[c.VariableColumnKeys.ContributedValueMenuColumnKey]=n._getContributedMenuItemCellContent(t,r);i.push(o)}),i},t.prototype._onCellValueChanged=function(n,t){switch(t.columnKey){case c.VariableColumnKeys.NameColumnKey:this._getActionCreator().updateVariableKey({index:this._getDataIndex(t.rowIndex),key:n});break;case c.VariableColumnKeys.ValueColumnKey:this._getActionCreator().updateVariableValue({index:this._getDataIndex(t.rowIndex),variable:{value:n}});break;case c.VariableColumnKeys.SettableAtQueueTimeColumnKey:this._getActionCreator().updateVariableValue({index:this._getDataIndex(t.rowIndex),variable:{value:this._getViewStore().getCurrentVariablesArray()[t.rowIndex].value,allowOverride:n==="true"}});break;case c.VariableColumnKeys.ScopeColumnKey:var u=this._getViewStore().getState(),f=u.scopes,r=void 0,i=f.filter(function(t){return t.value===n});i&&i.length>0&&(r=i[0]);this._getActionCreator().updateVariableValue({index:this._getDataIndex(t.rowIndex),variable:{value:this._getViewStore().getCurrentVariablesArray()[t.rowIndex].value,scope:r}})}},t.prototype.isAutoFocusDisabled=function(){var n=this._getViewStore().getState();return n.stopAutoFocus},t.prototype._getIconCellContent=function(n,t,r){var f,e;if(r===void 0&&(r=!1),f=r?null:this._getMessageIconProps(n,t),f){var o=f.message,h=f.iconName,c=f.className;e=i.createElement(p.TooltipHost,{content:o,directionalHint:5},i.createElement(s.FlatViewIcon,{ariaLiveRegionMessage:o,rowSelected:!1,iconName:h,className:c}))}return{content:e,contentType:u.ContentType.JsxElement}},t.prototype._getMessageIconProps=function(n,t){var r=v.ValidationHelper.getValueValidationState(n),i;return r.state===v.ValidState.Invalid?{iconName:"Error",className:"dtc-variable-validation-error",message:r.message}:(i=v.ValidationHelper.getNameValidationState(n,t),i.state===v.ValidState.Invalid)?{iconName:"Error",className:"dtc-variable-validation-error",message:i.message}:n.scope&&this._getViewStore().shouldShowPermissionWarning(n.scope.key)?{iconName:"Info",message:this._getViewStore().getPermissionWarningMessage()}:null},t.prototype._getNameCellContent=function(n,t){var i=v.ValidationHelper.getNameValidationState(n,t);return{cssClass:"dtc-variable-name-cell",content:n.name,contentType:u.ContentType.SimpleText,contentHasErrors:i.state===v.ValidState.Invalid,isTextDisabled:!!n.disableVariable||!!n.isSystemVariable||!!n.disableSecretVariableName||!!this._isColumnReadOnly(c.VariableColumnKeys.NameColumnKey),placeHolder:h.VariableNamePlaceHolder}},t.prototype._getValueCellContent=function(n){var t=v.ValidationHelper.getValueValidationState(n);return{cssClass:"dtc-variable-value-cell",content:n.value,contentType:!n.isSecret?u.ContentType.SimpleText:u.ContentType.PasswordText,contentHasErrors:t.state===v.ValidState.Invalid,payload:n,isTextDisabled:!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.ValueColumnKey),placeHolder:h.VariableValuePlaceHolder,ariaLabel:k.format(h.VariableValueLabel,n.name)}},t.prototype._getSecretCellContent=function(n,t){var e=this,r,o=k.empty;return r=this._isVariableDisabled(n),o=r?!n.isSecret?h.PlainVariable:h.SecretVariable:!n.isSecret?h.ChangeVariableTypeToSecret:h.ChangeVariableTypeToPlain,{content:i.createElement(f.FlatViewButton,{tooltip:o,rowSelected:!1,iconProps:{iconName:!n.isSecret?"Unlock":"Lock"},onClick:function(){e._getActionCreator().updateVariableValue({index:e._getDataIndex(t),variable:{value:n.value,isSecret:!n.isSecret}})},disabled:r}),contentType:u.ContentType.JsxElement}},t.prototype._isVariableDisabled=function(n){return!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.SecretColumnKey)},t.prototype._getScopeCellContent=function(n,t,r){var a=this,f=k.empty,s=[],l=[],e=t.filter(function(t){return t.key===n.scope.key});return e&&e.length>0&&(f=e[0].value),s=t.map(function(n){return n.value}),t.forEach(function(n){n.isDisabled&&l.push(n.value)}),this._isColumnReadOnly(c.VariableColumnKeys.ScopeColumnKey)?{content:f,contentType:u.ContentType.SimpleText,contentHasErrors:!1,isTextDisabled:!0}:{content:i.createElement(o.FlatViewDropdown,{disabledConditions:l,staticFlatViewDropdown:!0,maxAutoExpandDropWidth:300,conditions:s,selectedCondition:f,rowSelected:!1,isDisabled:!!n.disableVariable,onValueChanged:function(n){a._onCellValueChanged(n,{rowIndex:r,columnKey:c.VariableColumnKeys.ScopeColumnKey})}}),contentType:u.ContentType.JsxElement,ariaLabel:k.format(h.VariableScopeLabel,n.name)}},t.prototype._getDeleteCellContent=function(n,t){var r=this;return{content:i.createElement(f.FlatViewButton,{tooltip:l.VariablesUtils.getDeleteVariableIconAriaLabel(n),rowSelected:!1,iconProps:{iconName:"Delete"},onClick:function(){r._getActionCreator().deleteVariable({index:r._getDataIndex(t),key:n.name})},disabled:!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.DeleteColumnKey)}),contentType:u.ContentType.JsxElement}},t.prototype._getSettableAtQueueTime=function(n,t){var r=this;return{content:i.createElement(e.FlatViewCheckBox,{ariaLabel:l.VariablesUtils.getSettableAtQueueTimeAriaLabel(n),value:n.allowOverride,rowSelected:!1,onValueChanged:function(n){r._onCellValueChanged(n.toString(),{rowIndex:t,columnKey:c.VariableColumnKeys.SettableAtQueueTimeColumnKey})},isDisabled:!!n.disableVariable||!!n.isSystemVariable||!!this._isColumnReadOnly(c.VariableColumnKeys.SettableAtQueueTimeColumnKey)}),contentType:u.ContentType.JsxElement}},t.prototype._getContributedMenuItemCellContent=function(n,t){var s=this,f=this._getViewStore().getState().variableValueMenuItems,r,e,o;if(f&&f.length)return r=__assign({},this.props.options.menuItemContributionContext),r.variable=n,r.updateVariableValue=function(i){var r=__assign({},n);r.value=i;s._getActionCreator().updateVariableValue({index:t,variable:r})},e=f.map(function(n){return __assign({},n)}),e.forEach(function(n){return n.data={menuContext:r}}),o=i.createElement(g,null,i.createElement(p.TooltipHost,{content:h.GetVariableValueTooltip,directionalHint:1,hostClassName:"flex flex-grow"},i.createElement(b.ContextualMenuButton,{className:"process-variables-value-menu",iconProps:{iconName:"MoreVertical"},getItems:function(){return e}}))),{content:o,contentType:u.ContentType.JsxElement}},t.prototype._getDataIndex=function(n){return this._getViewStore().getState().viewIndexTodataIndexMap[n]},t.prototype._isSortingEnabled=function(){return!this.props.options.disableSorting},t}(a.ProcessVariablesControllerView);t.ProcessVariablesV2ControllerView=d;g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:w.css("flex flex-grow",this.props.rowSelected?"row-selected":"")},this.props.children)},t}(r.Component)});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseArtifactsComponent",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/SharedControls/InputControls/Components/ComboBoxInputComponent","DistributedTaskControls/Components/FlatViewDropdown","DistributedTaskControls/Components/FlatViewIcon","DistributedTaskControls/Components/FlatViewTable","DistributedTaskControls/Components/FlatViewText","DistributedTaskControls/Common/FlatViewTableTypes","DistributedTaskControls/Sources/ContributionSource","VSSUI/Tooltip","VSSUI/ContextualMenuButton","PipelineWorkflow/Scripts/Common/ArtifactUtility","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","OfficeFabric/Utilities","OfficeFabric/DetailsList","VSS/Utils/Array","VSS/Utils/String","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseArtifactsComponent"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var tt,it;Object.defineProperty(t,"__esModule",{value:!0});tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var n=!this.props?nt.empty:this.props.cssClass;return i.createElement("div",{className:k.css("create-release-artifacts-content",n)},this._artifactsDisplayContent())},t.prototype._getSelectedVersion=function(n,t){var i,r;return n&&n.versions&&t?(r=g.first(n.versions,function(n){return nt.localeIgnoreCaseComparer(n.name,t)===0}),i=r?v.ArtifactUtility.getArtifactVersionDisplayValue(r):t):i=t,i},t.prototype._getVersions=function(n){var t=[];return n&&n.versions&&(t=n.versions.map(function(n){return v.ArtifactUtility.getArtifactVersionDisplayValue(n)})),t},t.prototype._getErrorTooltipComponent=function(n,t,r){var u=n?"artifact-version-error":undefined,f=r+"-tooltip-message-override";return n&&i.createElement(l.TooltipHost,{directionalHint:4,content:t},i.createElement(e.FlatViewIcon,{ariaLiveRegionMessage:t,rowSelected:!0,iconName:"Error",className:u}))},t.prototype._getArtifactsRows=function(){var n=this,r=[],e=this.props.artifactsVersionsData||[],o=this.props.versionPickerContributions||[],c=this._hasContributionMenuItems(e,o);return e.forEach(function(e,l){var a={cells:{}},k=n._getVersions(e.artifactVersion),d=!e.artifactVersion?nt.empty:e.artifactVersion.alias,y,p,b;a.cells[t.ARTIFACT_ERROR_HEADER_KEY]=n._getIconCellContent(e,l);y=i.createElement(s.FlatViewText,{text:d});a.cells[t.ARTIFACT_SOURCE_HEADER_KEY]={cssClass:"artifact-source-cell",content:y,contentType:h.ContentType.JsxElement,isTextDisabled:!0};p=n._getSelectedVersion(e.artifactVersion,e.selectedVersionName);a.cells[t.ARTIFACT_VERSION_BRANCH_HEADER_KEY]={content:i.createElement(f.FlatViewDropdown,{maxAutoExpandDropWidth:300,cssClass:"artifact-version-selector",conditions:k,selectedCondition:p,rowSelected:!1,onValueChanged:function(t){var i,r;if(n.props.onArtifactSelectedVersionChange){i=v.ArtifactUtility.getArtifactVersionIdByName(e.artifactVersion.versions,t,!0);i||(i=t);r={id:i,name:t};n.props.onArtifactSelectedVersionChange(l,r)}},ariaLabel:nt.localeFormat(w.ArtifactVersionsOptionAriaLabelText,e.artifactVersion.alias),type:u.ComboBoxType.Editable,enableFilter:!0,allowEdit:!0,hasErrors:e.hasError}),contentType:h.ContentType.JsxElement,contentHasErrors:e.hasError};c&&(b=n._getVersionPickerMenuItems(o,e),a.cells[t.ARTIFACT_VERSION_PICKER_HEADER_KEY]=n._getMenuItemCellContent(e.artifactSource,l,b));r.push(a)}),r},t.prototype._getVersionPickerMenuItems=function(n,t){var i=this._getContributionsForArtifactType(n,t.artifactSource.type);return i.length===0?[]:i.map(function(n){return{key:n.id,name:n.properties.name||n.properties.text,href:n.properties.href,iconProps:n.properties.iconProps,onClick:function(t,i){i&&i.data&&c.ContributionSource.instance().getContributionResult(n).then(function(n){return n.execute(i.data.menuContext)})}}})},t.prototype._getMenuItemCellContent=function(n,t,r){var f=this,e,u,o;if(r&&r.length)return e={artifact:n,onVersionSelected:function(n){if(f.props.onArtifactSelectedVersionChange)f.props.onArtifactSelectedVersionChange(t,n)}},u=r.map(function(n){return __assign({},n)}),u.forEach(function(n){return n.data={menuContext:e}}),o=i.createElement(it,null,i.createElement(l.TooltipHost,{content:w.VersionPickerTooltip,directionalHint:1,hostClassName:"flex flex-grow"},i.createElement(a.ContextualMenuButton,{className:"version-picker-value-menu",iconProps:{iconName:"MoreVertical"},getItems:function(){return u}}))),{content:o,contentType:h.ContentType.JsxElement}},t.prototype._getIconCellContent=function(n,t){var i=this._getErrorTooltipComponent(n.hasError,n.errorMessage,t);return{content:i,contentType:h.ContentType.JsxElement}},t.prototype._getContributionsForArtifactType=function(n,t){var i=[];return t&&n&&n.length>0&&p.FeatureFlagUtils.isArtifactVersionPickerEnabled()&&n.forEach(function(n){n.properties&&n.properties.artifactTypes&&g.contains(n.properties.artifactTypes,t)&&g.add(i,n)}),i},t.prototype._isVersionPickerSupportedForSourceRepositoryType=function(n,t){return nt.localeIgnoreCaseComparer(t,b.ArtifactTypes.Build)!==0?!0:n&&n.versions&&n.versions.length>0&&nt.localeIgnoreCaseComparer(n.versions[0].sourceRepositoryType,y.CreateReleaseArtifactConstants.repoTypeTfsGit)===0},t.prototype._hasContributionMenuItems=function(n,t){var i=this,r=!1;return n&&n.length>0&&n.forEach(function(n){if(i._isVersionPickerSupportedForSourceRepositoryType(n.artifactVersion,n.artifactSource.type)&&i._getContributionsForArtifactType(t,n.artifactSource.type).length>0){r=!0;return}}),r},t.prototype._artifactsDisplayContent=function(){var n=[],u=this.props.artifactsVersionsData||[],f=this.props.versionPickerContributions||[],r=this._hasContributionMenuItems(u,f);return n.push({key:t.ARTIFACT_ERROR_HEADER_KEY,name:w.CreateReleasePanelArtifactErrorIconAriaLabel,isIconOnly:!0,isFixedColumn:!0,minWidth:20,maxWidth:20,columnActionsMode:d.ColumnActionsMode.disabled}),n.push({key:t.ARTIFACT_SOURCE_HEADER_KEY,name:w.ArtifactSourceAlias,isFixedColumn:!0,maxWidth:217,minWidth:217,columnActionsMode:d.ColumnActionsMode.disabled}),n.push({key:t.ARTIFACT_VERSION_BRANCH_HEADER_KEY,name:w.VersionBranchCombinationText,isFixedColumn:!0,maxWidth:r?483:493,minWidth:r?270:280,columnActionsMode:d.ColumnActionsMode.disabled}),r&&n.push({key:t.ARTIFACT_VERSION_PICKER_HEADER_KEY,name:nt.empty,isFixedColumn:!1,maxWidth:10,minWidth:10,columnActionsMode:d.ColumnActionsMode.disabled}),i.createElement(o.FlatViewTable,{headers:n,rows:this._getArtifactsRows(),onCellValueChanged:function(){}})},t.ARTIFACT_SOURCE_HEADER_KEY="alias",t.ARTIFACT_VERSION_BRANCH_HEADER_KEY="versions",t.ARTIFACT_ERROR_HEADER_KEY="error-icon",t.ARTIFACT_VERSION_PICKER_HEADER_KEY="versionPickerMenu",t}(r.Component);t.CreateReleaseArtifactsComponent=tt;it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:k.css("flex flex-grow",this.props.rowSelected?"row-selected":"")},this.props.children)},t}(r.Component)});

define("DistributedTaskControls/Components/Canvas/PathHelpers",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){this._pathBuilder=i.empty}return n.prototype.start=function(n){return this._pathBuilder+=" "+i.format("M{0},{1}",n.x,n.y),this},n.prototype.line=function(n){return this._pathBuilder+=" "+i.format("L{0},{1}",n.x,n.y),this},n.prototype.quadraticBezier=function(n,t){return this._pathBuilder+=" "+i.format("Q {0} {1}, {2} {3}",t.x,t.y,n.x,n.y),this},n.prototype.arc=function(n,t,r,u,f){return this._pathBuilder+=" "+i.format("A {0} {1} {2} {3} {4} {5} {6}",t,r,0,u,f,n.x,n.y),this},n.prototype.toString=function(){return this._pathBuilder},n}();t.PathBuilder=r});

define("DistributedTaskControls/Components/Canvas/Edge",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Canvas/Types","DistributedTaskControls/Components/Canvas/PathHelpers","VSS/Utils/String","VSS/Diag","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Canvas/Edge"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){var a=this.props,t=a.from,n=a.to,h=e.empty,v=this.props.fromDepth||0,l,c,r;return t.x>n.x&&o.logError("Edge can only be drawn from left to right."),t.y===n.y||t.x===n.x?h=(new f.PathBuilder).start(t).line(n).toString():(l=n.x-t.x,c=(new f.PathBuilder).start(t),t.y>n.y?(r=t.x+Math.min(l/2+u.depthScaleModifier(v),l-u.Constants.minOffset),c.quadraticBezier({x:r,y:t.y-this._getQuadraticBezierVerticalDisplacement()},{x:r,y:t.y}).line({x:r,y:n.y+this._getQuadraticBezierVerticalDisplacement()}).quadraticBezier({x:n.x,y:n.y},{x:r,y:n.y}),h=c.toString()):t.y<n.y&&(r=t.x+Math.max(l/2-u.depthScaleModifier(v),u.Constants.minOffset),c.quadraticBezier({x:r,y:t.y+this._getQuadraticBezierVerticalDisplacement()},{x:r,y:t.y}).line({x:r,y:n.y-this._getQuadraticBezierVerticalDisplacement()}).quadraticBezier({x:n.x,y:n.y},{x:r,y:n.y}),h=c.toString())),this.props.showLabels?i.createElement("g",null,i.createElement("text",{x:t.x,y:t.y,fontSize:"12px"},"("+t.x+","+t.y+")"),i.createElement("path",{className:s.css("dtc-canvas-path",this.props.cssClass),d:h}),";",i.createElement("text",{x:n.x,y:n.y,textAnchor:"end",fontSize:"12px"},"("+n.x+","+n.y+")")):i.createElement("path",{className:s.css("dtc-canvas-path",this.props.cssClass),d:h})},t.prototype._getQuadraticBezierVerticalDisplacement=function(){return this.props.quadraticBezierVerticalDisplacement?this.props.quadraticBezierVerticalDisplacement:u.Constants.verticalDisplacement},t}(r.Component);t.Edge=h});

define("DistributedTaskControls/Components/Canvas/Graph",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Canvas/Types","DistributedTaskControls/Components/Canvas/Edge","DistributedTaskControls/Components/Canvas/GraphLayoutHelper","DistributedTaskControls/SharedControls/ErrorComponent/ErrorComponent","DistributedTaskControls/Common/Telemetry","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/Core","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!DistributedTaskControls/Components/Canvas/Graph"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y,v;Object.defineProperty(t,"__esModule",{value:!0});y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disjointGraphs=[],i._graphComponents=[],i.state={incomingEdges:[],incomingEdgesEvaluated:!1},i}return __extends(t,n),t.prototype.componentWillMount=function(){this._disjointGraphs=e.GraphLayoutHelper.splitGraph(this.props.nodes,this.props.edges);this._graphComponents=[]},t.prototype.componentWillReceiveProps=function(n){this._disjointGraphs=e.GraphLayoutHelper.splitGraph(n.nodes,n.edges);this.setState({incomingEdgesEvaluated:!1});this._graphComponents=[]},t.prototype.getGraphComponents=function(){return this._graphComponents},t.prototype.render=function(){var t=this,r=[],n,u;return this._disjointGraphs.forEach(function(n){r.push(i.createElement(v,__assign({ref:function(n){return n&&t._graphComponents.push(n)},key:n.nodes[0].key},t.props,{nodes:n.nodes,edges:n.edges,leftMargin:0})))}),n=this._getGraphLeftMargin(),u=this._getHeight(),i.createElement("div",{className:"dtc-graph-list-parent"},n&&n>0?i.createElement("div",{className:"dtc-incoming-edge-container",style:{width:n,height:u}},i.createElement("svg",{className:"dtc-incoming-edge-canvas"},this.state.incomingEdges)):null,i.createElement("div",{className:"dtc-disjoint-graph-container"},r))},t.prototype.componentDidMount=function(){this._evaluateAndSetIncomingEdges()},t.prototype.componentDidUpdate=function(){this._evaluateAndSetIncomingEdges()},t.prototype._evaluateAndSetIncomingEdges=function(){var r=this,n,t;this.state.incomingEdgesEvaluated||(n=e.GraphLayoutHelper.getIncomingEdgeLayouts(this.props,this._graphComponents),t=n.map(function(n){return i.createElement(f.Edge,{from:n.from,to:n.to,fromDepth:n.fromDepth,quadraticBezierVerticalDisplacement:r._getQuadraticBezierVerticalDisplacement(),key:n.key})}),this.setState({incomingEdgesEvaluated:!0,incomingEdges:t}))},t.prototype._getQuadraticBezierVerticalDisplacement=function(){return this.props.nodeHeight/u.Constants.edgeQuadraticBezierScaleDownFactor},t.prototype._getGraphLeftMargin=function(){return e.GraphLayoutHelper.resolveGraphLeftMargin(this.props.leftMargin)},t.prototype._getHeight=function(){var i=0,n,t,r;if(this._graphComponents)for(n=0,t=this._graphComponents;n<t.length;n++)r=t[n],i+=r.getGraphSize().height;return i},t}(r.Component);t.GraphList=y;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._nodesComparer=function(n,t){return n.key===t.key&&n.nodeRankHint===t.nodeRankHint&&n.nodeHeightHint===t.nodeHeightHint&&n.friendlyName===t.friendlyName},t._identifiedAncestors={},t.__unitTestMode=!1,t._incomingNodeRelativePositions=[],t}return __extends(t,n),t.prototype.componentWillMount=function(){this._validateNodesAndEdges(this.props.nodes,this.props.edges);this._stagingOrderAndDependencies=e.GraphLayoutHelper.createStagingOrderAndDependencies(this.props.nodes,this.props.edges)},t.prototype.componentWillReceiveProps=function(n){l.equals(n.edges,this.props.edges)?c.arrayEquals(n.nodes,this.props.nodes,this._nodesComparer,!1,!0)||(this._validateNodesAndEdges(n.nodes,n.edges),this._stagingOrderAndDependencies=e.GraphLayoutHelper.createStagingOrderAndDependencies(n.nodes,n.edges)):(this._validateNodesAndEdges(n.nodes,n.edges),this._stagingOrderAndDependencies=e.GraphLayoutHelper.createStagingOrderAndDependencies(n.nodes,n.edges),this._identifiedAncestors={})},t.prototype.getStagingOrder=function(){return this._stagingOrderAndDependencies?this._stagingOrderAndDependencies.stagingOrder:[]},t.prototype.getGraphSize=function(){return{height:this._svgHeight,width:this._svgWidth}},t.prototype.getPositionOfIncomingNodes=function(){return this._incomingNodeRelativePositions},t.prototype.render=function(){var r=this._stagingOrderAndDependencies,n=r.stagingOrder,e;this._publishTelemetry(n);var s=r.dependencies,t=r.layoutError,u={x:0,y:0},h=this._getNodeElements(n,u),f=[];return t||(f=this._getEdgeElements(n,s)),e=this._getGraphLeftMargin(),this._svgWidth=u.x+this.props.horizontalMargin+e,this._svgHeight=u.y+this.props.verticalMargin,t?this._incomingNodeRelativePositions=[]:this._populateIncomingNodeIndices(n[0]),i.createElement("div",{className:"dtc-canvas-container"},t&&i.createElement(o.ErrorComponent,{cssClass:"dtc-canvas-error",errorMessage:t}),i.createElement("div",{className:"dtc-graph-container"},i.createElement("svg",{className:"svg-surface",height:this._svgHeight+"px",width:this._svgWidth+"px",focusable:"false"},f),h))},t.prototype._populateIncomingNodeIndices=function(n){var i=this,t=this.props.edges[h.empty];this._incomingNodeRelativePositions=[];t&&n.forEach(function(n){t[n.key]&&i._incomingNodeRelativePositions.push({x:n.midPoints.left.x,y:n.midPoints.left.y})})},t.prototype._validateNodesAndEdges=function(n,t){e.GraphLayoutHelper.validateNodesAndEdges(n,t)},t.prototype._getNodeElements=function(n,t){var i=this,r=this._getGraphLeftMargin(),u=e.GraphLayoutHelper.getNodeDataForLayout(n,this.props,r,t);return u.map(function(n){return i._getNodeElement(n,n.nodeHeightHint||i.props.nodeHeight,i.props.nodeWidth)})},t.prototype._getEdgeElements=function(n,t){var r=this,u=e.GraphLayoutHelper.getEdgeDataForLayout(n,t,this.props.edges,this.props,this.props.selectedNodeKey,this._identifiedAncestors);return u.map(function(n){var t=a.css({"dtc-cross-stage-edge":n.isCrossStage,"dtc-highlight-edge":n.highlightEdge});return i.createElement(f.Edge,{cssClass:t,from:n.from,to:n.to,key:n.key,fromDepth:n.fromDepth,crossStages:n.isCrossStage||!1,quadraticBezierVerticalDisplacement:r._getQuadraticBezierVerticalDisplacement(),showLabels:r.__unitTestMode})})},t.prototype._publishTelemetry=function(n){var i,r;n&&n.length>0&&this.props.telemetryKey&&!t.s_telemetryKeyTracker[this.props.telemetryKey]&&(i=0,n.forEach(function(n){n&&(i=Math.max(n.length,i))}),r={},r[s.Properties.canvasColumnCount]=n.length,r[s.Properties.canvasRowCount]=i,s.Telemetry.instance().publishEvent(s.Feature.CanvasDimensions,r),t.s_telemetryKeyTracker[this.props.telemetryKey]=!0)},t.prototype._getNodeElement=function(n,t,r){var u={position:"absolute",height:t,width:r,top:n.topLeftPosition.y,left:n.topLeftPosition.x};return i.createElement("div",{className:"div-node",style:u,key:n.key},n.getNodeElement&&n.getNodeElement(n.key,n.data))},t.prototype._getGraphLeftMargin=function(){return e.GraphLayoutHelper.resolveGraphLeftMargin(this.props.leftMargin)},t.prototype._getQuadraticBezierVerticalDisplacement=function(){return this.props.nodeHeight/u.Constants.edgeQuadraticBezierScaleDownFactor},t.s_telemetryKeyTracker={},t}(r.Component);t.Graph=v});

define("DistributedTaskControls/Components/Canvas/GridFocusZone",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Primitives","DistributedTaskControls/Common/Common","OfficeFabric/Utilities","VSS/Diag"],function(n,t,i,r,u,f,e,o){var h,s;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Vertical=0]="Vertical";n[n.Horizontal=1]="Horizontal"}(h=t.Direction||(t.Direction={}));s=function(n){function t(i){var r=__construct(this,n,[i]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._handleGlobalKeydown=function(n){n.which===9&&r._populateNavigationGridIfRequired()},r._onFocus=function(n){r._selectElementWithoutTakingFocus(n)},r._onMouseDown=function(n){r._selectElementWithoutTakingFocus(n)},r._onKeyDown=function(n){if(r._populateNavigationGridIfRequired(),!n.altKey){var i=n.target;if(u.Boolean.isTrue(i.getAttribute(t._gridFocusableAttribute))){switch(n.which){case 38:if(r._moveVertical(r._selectedCell.rowIndex-1,r._selectedCell.columnIndex,-1,r.props.columnMarginCount,r._navigationGrid.length,function(n){return n>=0},function(n){return n>=0}))break;return;case 40:if(r._moveVertical(r._selectedCell.rowIndex+1,r._selectedCell.columnIndex,1,r.props.columnMarginCount,0,function(n){return n<r._navigationGrid.length},function(n){return n<r._maxColumnCount}))break;return;case 37:if(r._moveHorizontal(r._selectedCell.columnIndex-1,r._selectedCell.rowIndex,-1,r.props.rowMarginCount,r._maxColumnCount,function(n){return n>=0},function(n){return n>=0}))break;return;case 39:if(r._moveHorizontal(r._selectedCell.columnIndex+1,r._selectedCell.rowIndex,1,r.props.rowMarginCount,0,function(n){return n<r._maxColumnCount},function(n){return n<r._navigationGrid.length}))break;return;default:return}n.preventDefault();n.stopPropagation()}}},r._navigationGrid=[],r._maxColumnCount=0,r.state={error:null},r}return __extends(t,n),t.prototype.componentDidMount=function(){if(this._navigationGrid=[],this._parentElement){var n=this._parentElement.ownerDocument.defaultView;n.addEventListener("keydown",this._handleGlobalKeydown)}},t.prototype.componentWillUnmount=function(){if(this._parentElement){var n=this._parentElement.ownerDocument.defaultView;n.removeEventListener("keydown",this._handleGlobalKeydown)}},t.prototype.componentWillReceiveProps=function(n){this.props.gridZoneKey!==n.gridZoneKey&&(this._navigationGrid=[])},t.prototype.render=function(){return this.state.error?(o.logError(this.state.error),null):i.createElement("div",{className:e.css(this.props.cssClass,"dtc-grid-focus-zone"),ref:this._resolveRef("_parentElement"),role:"presentation",onKeyDown:this._onKeyDown,onFocus:this._onFocus,onMouseDown:this._onMouseDown},this.props.children)},t.prototype._populateNavigationGridIfRequired=function(){var o,u,l,n,e,s,i;if(this._navigationGrid.length===0){var h=this._parentElement.querySelectorAll("["+t._gridFocusableAttribute+"]"),a=h.length,v=h.item(0),y=this._parentElement.getBoundingClientRect(),r=this._navigationGrid;for(o=0;o<a;o++){u=h.item(o);u.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexMinusOne);var c=this._getCellLocationForElement(u,y),n=c.rowIndex,i=c.columnIndex;u===v&&(u.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexZero),this._selectedCell={rowIndex:n,columnIndex:i});r[n]||(r[n]=[]);r[n][i]&&this.setState({error:"Multiple elements map to same cell in the grid. Reduce the gridCellHeight and gridCellWidth and try again."});r[n][i]=u}for(l=r.length,n=0;n<l;n++)if(e=r[n],e){for(s=e.length,i=0;i<s;i++)e[i]&&e[i].setAttribute(t._locationAttribute,""+n+t._locationSeparator+i);s>this._maxColumnCount&&(this._maxColumnCount=s)}}},t.prototype._getCellLocationForElement=function(n,t){var i=n.getBoundingClientRect(),r=i.top-t.top,u=i.left-t.left,f=Math.floor(r/this.props.gridCellHeight),e=Math.floor(u/this.props.gridCellWidth);return{rowIndex:f,columnIndex:e}},t.prototype._selectElementWithoutTakingFocus=function(n){this._populateNavigationGridIfRequired();var i=n.target;this._selectTargetElement(i,u.Boolean.isFalse(i.getAttribute(t._gridFocusableAttribute)))},t.prototype._moveVertical=function(n,i,r,u,f,e,o){for(var s=n,c=i,h=!1,l;o(c);){for(h=!1;e(s);)if(l=this._findNearestColumnWithElementInAGivenRow(s,c,u),l===t._invalidIndex)s=s+r;else{i=l;h=!0;break}if(h)break;else c+=u*(r>0?1:-1)+r,s=f}return h&&this._selectElement(s,i)?!0:!1},t.prototype._moveHorizontal=function(n,i,r,u,f,e,o){for(var s=n,c=i,h=!1,l;o(c);){for(h=!1;e(s);)if(l=this._findNearestRowWithElementInAGivenColumn(s,c,u),l===t._invalidIndex)s=s+r;else{h=!0;i=l;break}if(h)break;else s=f,c+=u*(r>0?1:-1)+r}return h&&this._selectElement(i,s)?!0:!1},t.prototype._selectTargetElement=function(n,i){for(var r;n&&n!==this._parentElement&&n.getAttribute;)if(u.Boolean.isTrue(n.getAttribute(t._gridFocusableAttribute))){if(r=n.getAttribute(t._locationAttribute),r){var f=r.split(t._locationSeparator),s=parseInt(f[0]),h=parseInt(f[1]);this._selectElement(s,h,i)}else o.Debug.logInfo("Target element does not have cell location. This should get regenerated with next update");break}else n=e.getParent(n)},t.prototype._findNearestRowWithElementInAGivenColumn=function(n,t,i){var r=this;return this._findNearestIndexWithElementInAGivenDimension(t,i,0,this._navigationGrid.length-1,function(t){return r._getElement(t,n)})},t.prototype._findNearestColumnWithElementInAGivenRow=function(n,t,i){var r=this;return this._findNearestIndexWithElementInAGivenDimension(t,i,0,this._maxColumnCount-1,function(t){return r._getElement(n,t)})},t.prototype._findNearestIndexWithElementInAGivenDimension=function(n,i,r,u,f){for(var e=n,o=n,s=t._invalidIndex,h=0;!f(e)&&!f(o);){if(e>=u&&o<=r)break;if(h>=i)break;e<u&&e++;e>r&&o--;h++}return f(e)&&(s=e),f(o)&&(s=o),s},t.prototype._getElement=function(n,t){return this._navigationGrid[n]?this._navigationGrid[n][t]:null},t.prototype._selectElement=function(n,t,i){var r,u;return!this._navigationGrid[n]||!this._navigationGrid[n][t]?!1:(r=this._navigationGrid[n][t],r?(this._selectedCell&&this._navigationGrid[this._selectedCell.rowIndex]&&(u=this._navigationGrid[this._selectedCell.rowIndex][this._selectedCell.columnIndex],u&&u!==r&&u.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexMinusOne)),this._selectedCell={rowIndex:n,columnIndex:t},r.setAttribute(f.DomAttributeConstants.TabIndex,f.DomAttributeConstants.TabIndexZero),i||r.focus(),!0):!1)},t._gridFocusableAttribute="data-is-grid-focusable",t._locationAttribute="data-grid-cell-location",t._locationSeparator="_",t._invalidIndex=-1,t}(r.Component);t.GridFocusZone=s});

define("PipelineWorkflow/Scripts/Common/Canvas/LayoutConstants",["require","exports"],function(n,t){var i,r,e,u,f;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(){}return n.corePropertiesWidth=200,n.corePropertiesHeight=80,n.releaseCorePropertiesHeight=90,n.horizontalMargin=80,n.verticalMargin=60,n.postDeploymentIndicatorElementRadius=18,n.postDeploymentIndicatorElementRadiusSmall=14,n.gatesInprogressIndicatorElementRadius=17,n.triggersAndPreDeploymentApprovalsElementWidth=n.postDeploymentIndicatorElementRadius*2,n.triggersAndPreDeploymentApprovalsElementHeight=62,n.prePostDeploymentApprovalsAndGatesElementHeight=66,n.stabilizationPhaseGatesRendererHeight=50,n.evaluationPhaseGatesRendererHeight=46,n.nodeWidth=n.corePropertiesWidth+n.triggersAndPreDeploymentApprovalsElementWidth/2+n.postDeploymentIndicatorElementRadius,n.nodeHeight=Math.max(n.corePropertiesHeight,n.triggersAndPreDeploymentApprovalsElementHeight,n.postDeploymentIndicatorElementRadius*2),n.releaseNodeHeight=Math.max(n.releaseCorePropertiesHeight,n.triggersAndPreDeploymentApprovalsElementHeight,n.postDeploymentIndicatorElementRadius*2),n.marginLeftForCorePropertiesToOverlapOnTriggersAndPreDeployments=-n.triggersAndPreDeploymentApprovalsElementWidth/2,n.marginLeftForPostDeploymentToOverlapOnCoreProperties=-n.postDeploymentIndicatorElementRadius,n.artifactPropertiesWidth=140,n.artifactPropertiesHeight=90,n.artifactPropertiesTopMargin=10,n.artifactTriggerRadius=18,n.artifactTriggerLeftMargin=30,n.artifactLeftMargin=10,n.releaseScheduleTriggerSideLength=18,n.gapBetweenArtifactAndEnvironmentPanel=20,n.verticalMarginOfEdgeJoiningArtifactAndEnvironmentPanel=153,n.gridFocusZoneCellHeight=10,n.gridFocusZoneCellWidth=10,n.gridFocusMargin=5,n.inProgressPhaseContentHeight=130,n.inProgressDeploymentGroupPhaseContentHeight=55,n.subStatusMargin=15,n.subStatusLineHeight=20,n}();t.LayoutConstants=i;r=function(){function n(){}return n.verticalMarginOfEdgeJoiningReleaseAndEnvironmentPanel=140,n.gapBetweenReleaseAndEnvironmentPanel=20,n.releasePropertiesWidth=200,n.releasePropertiesMinimumHeight=195,n}();t.ReleaseSummaryLayoutConstants=r;e=function(){function n(){}return n.corePropertiesWidth=60,n.corePropertiesHeight=100,n.releaseCorePropertiesHeight=90,n.horizontalMargin=100,n.verticalMargin=100,n.postDeploymentApprovalsElementRadius=20,n.triggersAndPreDeploymentApprovalsElementWidth=i.postDeploymentIndicatorElementRadius*2,n.triggersAndPreDeploymentApprovalsElementHeight=26,n.nodeWidth=i.corePropertiesWidth+i.triggersAndPreDeploymentApprovalsElementWidth/2+i.postDeploymentIndicatorElementRadius,n.nodeHeight=Math.max(i.corePropertiesHeight,i.triggersAndPreDeploymentApprovalsElementHeight,i.postDeploymentIndicatorElementRadius*2),n.releaseNodeHeight=Math.max(i.releaseCorePropertiesHeight,i.triggersAndPreDeploymentApprovalsElementHeight,i.postDeploymentIndicatorElementRadius*2),n.marginLeftForCorePropertiesToOverlapOnTriggersAndPreDeployments=-i.triggersAndPreDeploymentApprovalsElementWidth/2,n.marginLeftForPostDeploymentToOverlapOnCoreProperties=-i.postDeploymentIndicatorElementRadius,n.artifactPropertiesRadius=45,n.artifactTriggerRadius=18,n.releaseScheduleTriggerSideLength=18,n.gapBetweenArtifactAndEnvironmentPanel=20,n.verticalMarginOfEdgeJoiningArtifactAndEnvironmentPanel=140,n}();u=function(){function n(){}return n.nodeWidth=150,n.verticalMarginOfEdgeJoiningReleaseAndEnvironmentPanel=107,n.verticalMargin=40,n}();t.ReleaseEnvironmentSummaryCanvasConstants=u;f=function(){function n(){}return n.verticalMargin=i.verticalMargin+i.releaseScheduleTriggerSideLength,n.horizontalMargin=100,n}();t.ReleaseProgressCanvasConstants=f});

define("PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvasViewStore",["require","exports","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Common/Stores/Base","PipelineWorkflow/Scripts/Shared/Constants","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListStore"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onEnvironmentListStoreChanged=function(){t._updateState()},t}return __extends(t,n),t.getKey=function(){return u.SharedStoreKeys.EnvironmentsCanvasViewStore},t.prototype.initialize=function(n){this._state={};this._environmentListStore=this._getEnvironmentListStore(n);this._environmentListStore.addChangedListener(this._onEnvironmentListStoreChanged);this._onEnvironmentListStoreChanged()},t.prototype.disposeInternal=function(){this._environmentListStore.removeChangedListener(this._onEnvironmentListStoreChanged)},t.prototype.getState=function(){return this._state},t.prototype._getEnvironmentListStore=function(n){return i.StoreManager.GetStore(f.EnvironmentListStore,n)},t.prototype._isInitialized=function(){return!!this._state.environmentConnections&&!!this._state.environmentsData},t.prototype._updateState=function(){this._state.environmentConnections=this._environmentListStore.getEnvironmentConnections();this._state.environmentsData=this._environmentListStore.getEnvironmentsData();this.emitChanged()},t}(r.StoreBase);t.EnvironmentsCanvasViewStore=e});

define("PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvas",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Components/Canvas/Graph","DistributedTaskControls/Components/Canvas/GridFocusZone","DistributedTaskControls/Common/Utilities","PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils","PipelineWorkflow/Scripts/Common/Canvas/LayoutConstants","PipelineWorkflow/Scripts/Common/NavigationStateUtils","PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvasViewStore","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Utils/String","OfficeFabric/Utilities","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvas"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){Object.defineProperty(t,"__esModule",{value:!0});var p=function(n){function t(t){var i=__construct(this,n,[t]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._handleStoreChange=function(){var n=i._canvasViewStore.getState();n.gridZoneKey="gridZoneKey"+o.DtcUtils.getUniqueInstanceId();i.props.onDidUpdate&&i.props.onDidUpdate();i.setState(n)},i._canvasViewStore=i.getViewStore(),u=i._canvasViewStore.getState(),i.state=u,i._canvasViewStore.addChangedListener(i._handleStoreChange),i}return __extends(t,n),t.prototype.componentWillUnmount=function(){u.StoreManager.DeleteStore(l.EnvironmentsCanvasViewStore,this.props.instanceId);this._canvasViewStore.removeChangedListener(this._handleStoreChange)},t.getDerivedStateFromProps=function(n){return n.forceRefresh?{gridZoneKey:"gridZoneKey"+o.DtcUtils.getUniqueInstanceId()}:null},t.prototype.render=function(){var n=this._getGraphProps(this.state),t=c.NavigationStateUtils.splitGraph();return i.createElement("div",{ref:this._resolveRef("canvasContainerElement"),role:"region","aria-label":this.props.ariaLabel||a.EnvironmentsText,className:y.css("cd-environment-canvas",this.props.cssClass)},this.props.label&&i.createElement("div",{className:"environment-canvas-heading"},i.createElement("h2",{className:"cd-environment-canvas-title"},this.props.label),this.props.headerMenu&&i.createElement("div",{className:"cd-environment-canvas-title-menu"},this.props.headerMenu)),i.createElement(e.GridFocusZone,{gridCellHeight:this.props.gridCellHeight||h.LayoutConstants.gridFocusZoneCellHeight,gridCellWidth:this.props.gridCellWidth||h.LayoutConstants.gridFocusZoneCellWidth,rowMarginCount:h.LayoutConstants.gridFocusMargin,columnMarginCount:h.LayoutConstants.gridFocusMargin,gridZoneKey:this.state.gridZoneKey},t?i.createElement(f.GraphList,__assign({},n)):i.createElement(f.Graph,__assign({},n))))},t.prototype.getCanvasContainerElement=function(){return this._canvasContainerElement},t.prototype.getViewStore=function(){return u.StoreManager.GetStore(l.EnvironmentsCanvasViewStore,this.props.instanceId)},t.prototype._getGraphProps=function(n){var t=s.EnvironmentUtils.getNodes(n.environmentsData,this.getNodeElement,this.getNodeHeightHint)||[],i=h.LayoutConstants.verticalMargin+2*h.LayoutConstants.releaseScheduleTriggerSideLength;return this.props.hideIncomingEdges&&this._removeIncomingEdges(n.environmentConnections),{nodeWidth:this.props.nodeWidth||h.LayoutConstants.corePropertiesWidth,nodeHeight:this.props.nodeHeight||h.LayoutConstants.corePropertiesHeight,horizontalMargin:this.props.horizontalMargin||h.LayoutConstants.horizontalMargin,verticalMargin:this.props.verticalMargin||i,nodes:t,edges:n.environmentConnections,selectedNodeKey:n.selectedEnvironmentKey,leftMargin:this.props.leftMargin}},t.prototype._removeIncomingEdges=function(n){n&&delete n[v.empty]},t}(r.Component);t.EnvironmentsCanvas=p});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentNode",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Common/Utilities","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","VSSUI/Tooltip","OfficeFabric/Utilities","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentNode"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t._renderTooltipContent=function(){return i.createElement("div",{className:"compact-environment-node-tooltip"},i.createElement("div",{className:"node-tooltip-section tooltip-environment-name-container"},i.createElement("span",{className:"tooltip-environment-name"},t.props.environmentName)),i.createElement("div",{className:"node-tooltip-section tooltip-environment-description-container"},i.createElement("span",{className:o.css("tooltip-icon","bowtie-icon",t.props.bowtieIcon)}),i.createElement("span",{className:"tooltip-environment-description"},t.props.environmentDescription)),t._isWarningPresent()&&i.createElement("div",{className:"node-tooltip-section tooltip-environment-warning-container"},i.createElement("span",{className:o.css("tooltip-icon","bowtie-icon","bowtie-status-warning")}),i.createElement("span",{className:"tooltip-environment-warning"},t.props.environmentWarning)))},t._onNodeClick=function(){if(t.props.onEnvironmentNodeClick)t.props.onEnvironmentNodeClick(t.props.environmentId)},t._handleKeyDown=function(n){(n.keyCode===h.KeyCode.ENTER||n.keyCode===h.KeyCode.SPACE)&&(t._onNodeClick(),n.preventDefault(),n.stopPropagation())},t}return __extends(t,n),t.prototype.render=function(){return i.createElement(e.TooltipHost,{directionalHint:1,tooltipProps:{onRenderContent:this._renderTooltipContent},delay:e.TooltipDelay.medium},this._getNodeContent())},t.prototype._getNodeContent=function(){var t={height:this.props.nodeHeight||f.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeHeight,width:this.props.nodeWidth||f.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeWidth},r=o.css(this.props.cssClass,"compact-environment-node"),e=this.props.ariaLabel||this.props.environmentName,h=this.props.environmentId.toString(),n="node-description"+u.DtcUtils.getUniqueInstanceId(),c=s.localeFormat("{0} {1}",this.props.environmentDescription,this.props.environmentWarning);return i.createElement("div",{className:r,key:h,"aria-disabled":this.props.isDisabled,"data-is-grid-focusable":!0,onKeyDown:this._handleKeyDown,"aria-label":e,onClick:this._onNodeClick,"aria-describedby":n},i.createElement("div",{className:"hidden",id:n},c),i.createElement("div",{className:o.css("node-content","dtc-canvas-element-border",this.props.borderCssClass),style:t},i.createElement("div",{className:o.css("environment-node-icon","bowtie-icon",this._isWarningPresent()?"bowtie-status-warning":this.props.bowtieIcon)}),i.createElement("div",{ref:this._resolveRef("_environmentNameContainer"),className:"node-environment-name"},this.props.environmentName),this._isEnvironmentNameOverflow()&&i.createElement("span",{className:"text-fadeout"})))},t.prototype._isEnvironmentNameOverflow=function(){return this._environmentNameContainer&&this._environmentNameContainer.offsetWidth<this._environmentNameContainer.scrollWidth?!0:!1},t.prototype._isWarningPresent=function(){return!!this.props.environmentWarning},t}(r.Component);t.CreateReleaseEnvironmentNode=c});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentsCanvas",["require","exports","react","PipelineWorkflow/Scripts/SharedComponents/EnvironmentsCanvas/EnvironmentsCanvas","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentNode","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSS/Utils/String","VSS/Utils/Array","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentsCanvas"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});var h=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.getNodeElement=function(n,r){var o,e=t._getEnvironmentTrigger(r.id);return r&&(o={environmentId:r.id,environmentName:r.name,onEnvironmentNodeClick:t.props.onEnvironmentNodeClick,ariaLabel:r.name,environmentDescription:t._getEnvironmentDescription(e),bowtieIcon:t._getEnvironmentNodeIcon(e),borderCssClass:t._getEnvironmentNodeBorderClass(e),environmentWarning:t._getWarningMessage(e),isDisabled:f.ReleaseEnvironmentUtils.isDeploymentTriggerManual(e)}),i.createElement(u.CreateReleaseEnvironmentNode,__assign({},o))},t.getNodeHeightHint=function(){return 0},t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{className:"create-release-environment-canvas-container"},i.createElement("div",{className:"create-release-environment-canvas-content"},n.prototype.render.call(this)))},t.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);this.props.onDidUpdate&&this.props.onDidUpdate()},t.prototype._getEnvironmentNodeIcon=function(n){return n?n.selectedTriggerKey===f.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?"bowtie-trigger-user":"bowtie-trigger-approval":o.empty},t.prototype._getWarningMessage=function(n){return n?n.warningMessage:o.empty},t.prototype._getEnvironmentDescription=function(n){return n?n.selectedTriggerKey===f.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?f.ReleaseEnvironmentUtils.isDeploymentTriggerManual(n)?e.CreateReleaseManualEnvironmentNodeDescription:e.CreateReleaseToggledManualEnvironmentNodeDescription:e.CreateReleaseAutomatedEnvironmentNodeDescription:o.empty},t.prototype._getEnvironmentNodeBorderClass=function(n){return n?f.ReleaseEnvironmentUtils.isDeploymentTriggerManual(n)?"manual-trigger-environment-node non-clickable-environment-node":n.selectedTriggerKey===f.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?"manual-trigger-environment-node":"automated-trigger-environment-node":o.empty},t.prototype._getEnvironmentTrigger=function(n){var t;return this.props.environmentTriggers&&(t=s.first(this.props.environmentTriggers,function(t){return t.environmentId===n})),t},t}(r.EnvironmentsCanvas);t.CreateReleaseEnvironmentsCanvas=h});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseControllerView",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Resources/TFS.Resources.DistributedTaskControls","DistributedTaskControls/SharedControls/Accordion/AccordionCustomRenderer","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Components/LoadingComponent","OfficeFabric/TextField","DistributedTaskControls/Components/OverlayPanelHeading","DistributedTaskControls/SharedControls/InputControls/Components/PickListV2InputComponent","DistributedTaskControls/Common/Telemetry","DistributedTaskControls/Variables/Common/Constants","DistributedTaskControls/Variables/ProcessVariablesV2/ControllerView","DistributedTaskControls/SharedControls/InputControls/Components/DropDownInputComponent","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActionsCreator","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseArtifactsComponent","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Common/Constants","PipelineWorkflow/Scripts/Common/TelemetryHelper","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseEnvironmentsCanvas","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Common/ArtifactUtility","OfficeFabric/MessageBar","OfficeFabric/Button","OfficeFabric/Spinner","OfficeFabric/Selection","VSS/Utils/Array","VSS/Utils/String","VSS/Context","VSS/Performance","VSS/LoaderPlugins/Css!RM:PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseControllerView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){Object.defineProperty(t,"__esModule",{value:!0});var at=function(n){function t(t){var i=__construct(this,n,[t]),r,u;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onProjectChanged=function(n){var t=n.option,u={id:t.key,name:t.text},r=i.props.createReleaseStore.getInstanceId();i._actionsCreator.initializeData(-1,r,r,!1,u,i.props.buildDefinitionId)},i._onDefinitionChanged=function(n){var r=n.option,t=i.props.createReleaseStore.getInstanceId();i._actionsCreator.initializeData(parseInt(String(r.key)),t,t,!1,i.state.selectedProject)},i._onStoreChange=function(){var n=i.props.createReleaseStore.getState();n.hasVariables=(i.props.variablesListStore.getVariableList()||[]).length>0;i.setState(n)},i._getPickListItems=function(n){var f=[],r,e,t,u,o;if(n&&i.state.data&&i.state.data.environments)for(r=i.state.data.environments,r.sort(function(n,t){return n.rank-t.rank}),e=function(t){var i=st.first(n,function(n){return n.key===t.id.toString()});i&&f.push(i)},t=0,u=r;t<u.length;t++)o=u[t],e(o);return f},i._onCreateReleaseClick=function(){lt.getScenarioManager().startScenario(k.CommonConstants.FeatureArea,k.PerfScenarios.StartRelease,undefined,undefined,d.TelemetryHelper.getServiceInstanceIdForTelemetry());var n=i.props.variablesListStore.getVariableList();i._publishTelemetry();i._actionsCreator.createRelease(i._onCreateReleaseSuccessful,i.state,n,i.props.startReleaseMode,i.state.selectedProject?i.state.selectedProject.name:ct.getDefaultWebContext().project.name,tt.PipelineReleaseCreationSourceConstants.ReleaseHub)},i._onArtifactSelectedVersionChange=function(n,t){i._actionsCreator.updateArtifactSelectedVersion(n,t)},i._onReleaseDescriptionChange=function(n){i._actionsCreator.updateDescription(n)},i._onEnvironmentNodeClick=function(n){i._actionsCreator.toggleDeploymentTrigger(n);i._environmentToggledByCanvas=!0},i._onEnvironmentTriggerChanged=function(n){i._actionsCreator.updateManualDeploymentTriggers(n.map(function(n){return n.key}));i._environmentToggledByPicklist=!0},i._onCreateReleaseSuccessful=function(n,t){if(i.props.onQueueRelease)i.props.onQueueRelease(n,t);i._publishQueueReleaseTelemetry();i._onCloseClick()},i._onErrorBarDismiss=function(){i._actionsCreator.updateErrorMessage(ht.empty)},i._environmentToggledByCanvas=!1,i._environmentToggledByPicklist=!1,u=i.props.createReleaseStore.getInstanceId(),i._actionsCreator=e.ActionCreatorManager.GetActionCreator(p.CreateReleaseActionsCreator,u),i.state=__assign({},i.props.createReleaseStore.getState()),i}return __extends(t,n),t.prototype.componentWillMount=function(){this.props.progressStore.addChangedListener(this._onStoreChange);this.props.createReleaseStore.addChangedListener(this._onStoreChange);this.props.variablesListStore.addChangedListener(this._onStoreChange)},t.prototype.componentWillUnmount=function(){this.props.progressStore.removeChangedListener(this._onStoreChange);this.props.createReleaseStore.removeChangedListener(this._onStoreChange);this.props.variablesListStore.removeChangedListener(this._onStoreChange)},t.prototype.render=function(){return i.createElement("div",{className:"create-release-controller-view flex-grow"},i.createElement("div",{className:"create-release-content-section"},this._isDefinitionDataLoaded()&&this._getErrorSection(),this._getProjectsSection(),i.createElement("div",{className:"create-release-definition-section"},this._getReleaseDefinitionsSection(),this._getDefinitionLoadingSection(),this._getEnvironmentTriggerSection(),this._getArtifactSection(),this._getVariablesSection(),this._getDescriptionSection(),this._getCreateReleaseLoadingComponent())),i.createElement("div",{className:"create-release-footer-section"},this._getFooterSection()))},t.prototype._getDefinitionLoadingSection=function(){return this._isDefinitionDataLoaded()?null:i.createElement(o.LoadingComponent,{className:"create-release-panel-main-loading",size:et.SpinnerSize.large})},t.prototype._getProjectsSection=function(){return this.state.selectedProject?i.createElement("div",{className:"create-release-projects"},i.createElement("div",{className:"create-release-projects-header-text"},it.ProjectsTitle),i.createElement(y.DropDownInputControl,{ariaLabel:it.SelectProjectText,cssClass:"create-release-projects-drop-down",onValueChanged:this._onProjectChanged,selectedKey:this.state.selectedProject.id,options:this._getLinkedProjects()})):null},t.prototype._getReleaseDefinitionsSection=function(){return this.state.selectedProject?i.createElement("div",{className:"create-release-definition"},i.createElement("div",{className:"create-release-definition-header-text"},it.ReleaseDefinitionsTitle),i.createElement(y.DropDownInputControl,{ariaLabel:it.SelectDefinitionText,cssClass:"create-release-definition-drop-down",onValueChanged:this._onDefinitionChanged,selectedKey:this.state.data?this.state.data.id:null,options:this._getLinkedReleaseDefinitions()})):null},t.prototype._getLinkedReleaseDefinitions=function(){return(this.state.linkedReleaseDefinitions||[]).map(function(n){return{key:n.id,text:n.name}})},t.prototype._getLinkedProjects=function(){return(this.props.createReleaseStore.getlinkedProjects()||[]).map(function(n){return{key:n.id,text:n.name}})},t.prototype._getVariablesSection=function(){if(this.props.startReleaseMode||!this.state.hasVariables||!this.state.data)return null;var n=this.props.createReleaseStore.getInstanceId(),t=this._getVariablesSectionOptions();return i.createElement(f.AccordionCustomRenderer,{label:it.CreateReleasePanelVariablesAccordionLabel,initiallyExpanded:!0,headingLevel:2,addSeparator:!0,description:it.CreateReleasePanelVariablesAccordionDescription,descriptionInfoText:it.CreateReleasePanelVariablesSectionInfoText},i.createElement(v.ProcessVariablesV2ControllerView,{instanceId:n,options:t}))},t.prototype._getVariablesSectionOptions=function(){var n={settableAtQueueTime:!1,supportScopes:!0,supportGridView:!1,disableSorting:!0,hideDelete:!0,hideSecret:!0,hideError:!0,columnOptionOverrides:{}},i,t;return this.props.startReleaseMode||(n.valueMenuItemContributionKey="ms.vss-releaseManagement-web.create-release-variables-value-menu",i=this._actionsCreator.getPipelineReleaseStartParameters(this.state,this.props.variablesListStore.getVariableList()||[],tt.PipelineReleaseCreationSourceConstants.ReleaseHub),t=__assign({},i),t.artifactsVersionsData=this.state.artifactsVersionsData,n.menuItemContributionContext=t),n.columnOptionOverrides[a.VariableColumnKeys.NameColumnKey]={minWidth:150,maxWidth:150,isReadOnly:!0},n.columnOptionOverrides[a.VariableColumnKeys.ValueColumnKey]={minWidth:200,maxWidth:200,isReadOnly:!1},n.columnOptionOverrides[a.VariableColumnKeys.ScopeColumnKey]={minWidth:150,maxWidth:150,isReadOnly:!0},n},t.prototype._getHeaderSection=function(){var n=this.state.data?this.state.data.name:ht.empty,t=this.props.startReleaseMode?it.CreateReleasePanelStartReleaseLabel:it.CreateReleasePanelHeaderLabel;return i.createElement(h.OverlayPanelHeading,{label:t,infoButtonRequired:!1,description:n})},t.prototype._getCreateReleaseLoadingComponent=function(){return this._isCreateReleaseInProgress()?i.createElement(o.LoadingComponent,{className:"create-release-loading-component",size:et.SpinnerSize.large,blocking:!0}):null},t.prototype._getErrorSection=function(){return this.state.errorMessage?i.createElement("div",{className:"create-release-error-section"},i.createElement(ut.MessageBar,{className:"release-dialog-message-bar",onDismiss:this._onErrorBarDismiss,messageBarType:ut.MessageBarType.error,dismissButtonAriaLabel:it.CloseText},this.state.errorMessage)):null},t.prototype._getEnvironmentTriggerSection=function(){return i.createElement(f.AccordionCustomRenderer,{label:it.CreateReleasePanelDeploymentTriggerLabel,initiallyExpanded:!0,headingLevel:2,addSeparator:!0,description:it.CreateReleasePanelDeploymentTriggerDescription,bowtieIconName:"bowtie-trigger"},i.createElement(g.CreateReleaseEnvironmentsCanvas,{nodeHeight:b.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeHeight,nodeWidth:b.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeWidth,gridCellHeight:b.CreateReleaseEnvironmentNodeConstants.gridCellHeight,gridCellWidth:b.CreateReleaseEnvironmentNodeConstants.gridCellWidth,verticalMargin:b.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasVerticalMargin,horizontalMargin:b.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasHorizontalMargin,instanceId:this.props.environmentListStore.getInstanceId(),cssClass:"create-release-environment-canvas",environmentTriggers:this.state.environmentTriggers,onEnvironmentNodeClick:this._onEnvironmentNodeClick,ariaLabel:it.CreateReleaseEnvironmentCanvasAriaLabel,leftMargin:b.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasLeftMargin,onDidUpdate:this.props.onDidUpdate}),i.createElement("div",{className:"create-release-environment-picklist"},this._getPickList()))},t.prototype._getPickList=function(){if(this.state.data){var r=this._getSelectedEnvironments(),u={calloutContentProps:{calloutMarkdown:it.CreateReleaseEnvironmentDropdownHelpText}},n=this._getPickListOptions(),t=this._getPickListItems(n);return t&&t.length>0?i.createElement(c.PickListV2InputComponent,{label:it.CreateReleaseEnvironmentDropdownLabel,ariaLabel:it.CreateReleaseEnvironmentDropdownLabel,selectionMode:ot.SelectionMode.multiple,key:"pick-list-component",infoProps:u,pickListInputClassName:"environment-trigger-pick-list-input",value:r,onValueChanged:this._onEnvironmentTriggerChanged,options:n,getPickListItems:this._getPickListItems,showSelectAll:!0}):null}},t.prototype._getArtifactSection=function(){var n=this;return this._showArtifactSection()?i.createElement(f.AccordionCustomRenderer,{label:it.CreateReleasePanelArtifactAccordionLabel,initiallyExpanded:!0,headingLevel:2,addSeparator:!0,description:it.CreateReleasePanelArtifactAccordionDescription,showErrorDelegate:function(){return n.state.hasAnyErrorsInArtifacts},bowtieIconName:"bowtie-package"},this._isArtifactDataLoaded()?i.createElement("div",{className:"create-release-panel-artifact-section"},i.createElement(w.CreateReleaseArtifactsComponent,{artifactsVersionsData:this.state.artifactsVersionsData,versionPickerContributions:this.state.versionPickerContributions,onArtifactSelectedVersionChange:this._onArtifactSelectedVersionChange})):i.createElement(o.LoadingComponent,null)):null},t.prototype._getDescriptionSection=function(){return i.createElement("div",null,i.createElement("div",{className:"create-release-panel-description-header-text"},it.ReleaseDescriptionText),i.createElement("div",{className:"create-release-panel-description-section"},i.createElement(s.TextField,{className:"create-release-content-description",ariaLabel:it.ReleaseDescriptionText,resizable:!0,value:this.state.description,multiline:!0,onChanged:this._onReleaseDescriptionChange,maxLength:k.CommonConstants.ReleaseDescriptionLengthLimit})))},t.prototype._getFooterSection=function(){var n=this;return i.createElement("div",{className:"create-release-panel-footer"},i.createElement(ft.PrimaryButton,{ariaLabel:u.Create,onClick:this._onCreateReleaseClick,className:"create-release-queue-button",disabled:!this._canCreatePipelineRelease()},u.Create),i.createElement(ft.DefaultButton,{className:"create-release-cancel-button",onClick:function(){n._onCloseClick()},ariaLabel:it.CancelText},it.CancelText))},t.prototype._isArtifactDataLoaded=function(){return!this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.initializeArtifactVersionsAction)},t.prototype._isDefinitionDataLoaded=function(){return!this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.initializeDefinitionAction)},t.prototype._isCreateReleaseInProgress=function(){return this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.createReleaseAction)||this.props.progressStore.isActionInProgress(b.CreateReleaseProgressIndicatorAction.updateReleaseAction)},t.prototype._canCreatePipelineRelease=function(){return!!this.state.data&&this.state.canShowDialogContent&&!this.state.hasAnyErrorsInArtifacts&&!this.props.progressStore.hasAnyActionsInProgress()},t.prototype._showArtifactSection=function(){return this.state.data?this.state.data.artifacts&&this.state.data.artifacts.length>0:!1},t.prototype._getPickListOptions=function(){var r=[],n,i,t,u;if(this.state.environmentTriggers&&this.state.environmentTriggers.length>0)for(n=0,i=this.state.environmentTriggers;n<i.length;n++)t=i[n],u=nt.ReleaseEnvironmentUtils.isDeploymentTriggerManual(t),u||r.push({key:t.environmentId.toString(),name:t.environmentName});return r},t.prototype._getSelectedEnvironments=function(){var r=[],t,i,n,u;if(this.state.environmentTriggers&&this.state.environmentTriggers.length>0)for(t=0,i=this.state.environmentTriggers;t<i.length;t++)n=i[t],u=nt.ReleaseEnvironmentUtils.isDeploymentTriggerManual(n),u||n.selectedTriggerKey!==nt.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey||r.push({key:n.environmentId.toString(),name:n.environmentName});return r},t.prototype._onCloseClick=function(){this.props.onCloseClick&&this.props.onCloseClick()},t.prototype._publishTelemetry=function(){(this.state.artifactsVersionsData||[]).forEach(function(n){var i=!1,r=!0,t;(!n.artifactVersion.versions||n.artifactVersion.versions&&n.artifactVersion.versions.length===0)&&(i=!1,r=!1);r&&(i=!!rt.ArtifactUtility.getArtifactVersionById(n.artifactVersion.versions,n.selectedVersionId));t={};t[l.Properties.IsVersionManuallyEntered]=!i;t[l.Properties.AreVersionsAvailable]=r;t[l.Properties.ArtifactType]=n.artifactSource.type;l.Telemetry.instance().publishEvent(l.Feature.ArtifactVersionInputMethod,t)})},t.prototype._publishQueueReleaseTelemetry=function(){var n={},t=nt.ReleaseEnvironmentUtils.getToggledManullyTriggeredEnvironmentCount(this.state.environmentTriggers);n[l.Properties.ToggledEnvironmentsCount]=t;n[l.Properties.EnvironmentToggledByCanvas]=this._environmentToggledByCanvas;n[l.Properties.EnvironmentToggledByPicklist]=this._environmentToggledByPicklist;n[l.Properties.DescriptionAdded]=!!this.state.description;l.Telemetry.instance().publishEvent(l.Feature.CreateReleasePanelQueueRelease,n)},t}(r.Component);t.CreateReleaseControllerView=at});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanel",["require","exports","react","DistributedTaskControls/Common/Components/Base","DistributedTaskControls/Components/Canvas/GraphLayoutHelper","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseControllerView","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/Shared/Utils/EnvironmentUtils","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","VSSUI/Panel","VSSUI/Util"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});var l=function(n){function t(i){var r=__construct(this,n,[i]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._closePanel=function(){r.state&&r.state.showPanel&&r.setState({showPanel:!1});r._handleOnClosed()},r._handleOnClosed=function(){r.props.onClose&&r.props.onClose()},r._setPanelWidth=function(){var f;if(r.props.environmentListStore){var s=r.props.environmentListStore.getEnvironmentConnections(),h=r.props.environmentListStore.getEnvironmentsData(),c=o.EnvironmentUtils.getNodes(h,null),i=u.GraphLayoutHelper.createStagingOrderAndDependencies(c,s);if(i&&i.stagingOrder){var e=i.stagingOrder.length,l=e<t._maxColumnsToShow?e:t._maxColumnsToShow,n=(l+1)*r._columnWidth;n>document.documentElement.clientWidth-200&&(n=document.documentElement.clientWidth-200);f=r._getMinWidth();n<f&&(n=f);r.setState({width:n})}}},r.state={showPanel:!0,width:r._getMinWidth()},r._columnWidth=e.CreateReleaseEnvironmentNodeConstants.compactEnvironmentNodeWidth+e.CreateReleaseEnvironmentNodeConstants.createReleaseEnvironmentCanvasHorizontalMargin,r}return __extends(t,n),t.prototype.render=function(){var n=this.props.createReleaseStore.getState().data,r=this.state.width<=t._defaultMinWidth?"cr-rel-xs":this.state.width<=t._defaultSmallWidth?"cr-rel-s":this.state.width<=t._defaultMediumWidth?"cr-rel-m":"cr-rel-l";return i.createElement("div",null,this.state.showPanel&&i.createElement(h.Panel,{onDismiss:this._closePanel,titleProps:{text:this.props.startReleaseMode?s.CreateReleasePanelStartReleaseLabel:s.CreateReleasePanelHeaderLabel},description:n&&n.name,modal:!0,className:"create-release-panel",contentClassName:c.css("create-release-panel-content",r),elementToFocusOnDismiss:this.props.elementToFocusOnDismiss},i.createElement(f.CreateReleaseControllerView,{createReleaseStore:this.props.createReleaseStore,progressStore:this.props.progressStore,environmentListStore:this.props.environmentListStore,variablesListStore:this.props.variablesListStore,onCloseClick:this._closePanel,onQueueRelease:this.props.onQueueRelease,onDidUpdate:this._setPanelWidth,startReleaseMode:this.props.startReleaseMode,buildDefinitionId:this.props.buildDefinitionId})))},t.prototype._getMinWidth=function(){return this.props.minWidth?this.props.minWidth:t._defaultMinWidth},t._maxColumnsToShow=10,t._defaultMinWidth=630,t._defaultSmallWidth=720,t._defaultMediumWidth=1200,t}(r.Component);t.CreateReleasePanel=l});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseStore",["require","exports","DistributedTaskControls/Common/Actions/ActionsHubManager","DistributedTaskControls/Common/Stores/Base","PipelineWorkflow/Scripts/Common/Actions/DialogActions","PipelineWorkflow/Scripts/Common/ArtifactUtility","PipelineWorkflow/Scripts/Common/Types","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActions","PipelineWorkflow/Scripts/Resources/TFS.Resources.PipelineWorkflow","PipelineWorkflow/Scripts/Shared/Utils/ReleaseEnvironmentUtils","ReleaseManagement/Core/Constants","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){Object.defineProperty(t,"__esModule",{value:!0});var y=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._options=t,i._handleInitializeDefinitionArtifactsVersions=function(n){var t,u,e,r;n&&(t=n.versions,u=n.artifacts,!t||!t.artifactVersions||(e=t.artifactVersions,r=[],r=e.map(function(n){var e=!!n.errorMessage&&!!n.errorMessage.trim(),o=a.first(u,function(t){return v.localeIgnoreCaseComparer(n.alias,t.alias)===0}),t,r;return t=!i._options.buildName||!i._options.buildSource||n.sourceId!==i._options.buildSource?i._getDefaultArtifactVersion(n,o):i._options.buildName,r={artifactVersion:n,artifactSource:o,selectedVersionId:f.ArtifactUtility.getArtifactVersionIdByName(n.versions,t),selectedVersionName:t,hasError:e,errorMessage:e?n.errorMessage:t?undefined:h.ArtifactVersionSelectErrorMessageDefault},r.errorMessage&&(r.hasError=!0),r}),i._state.artifactsVersionsData=r,i._updateDependentStateProperties(),i.emitChanged()))},i._handleUpdateArtifactSelectedVersion=function(n){if(!!i._state.artifactsVersionsData&&i._state.artifactsVersionsData.length>n.artifactIndex){var r=!n.selectedVersionName||!n.selectedVersionName.trim(),u=i._state.artifactsVersionsData[n.artifactIndex].artifactVersion,t=null;u&&(t=f.ArtifactUtility.getArtifactVersionById(u.versions,n.selectedVersionId));t?(i._state.artifactsVersionsData[n.artifactIndex].selectedVersionId=t.id,i._state.artifactsVersionsData[n.artifactIndex].selectedVersionName=t.name):(i._state.artifactsVersionsData[n.artifactIndex].selectedVersionId=n.selectedVersionId,i._state.artifactsVersionsData[n.artifactIndex].selectedVersionName=n.selectedVersionName);i._state.artifactsVersionsData[n.artifactIndex].hasError=r;i._state.artifactsVersionsData[n.artifactIndex].errorMessage=r?h.ArtifactVersionSelectErrorMessageDefault:undefined;i._updateDependentStateProperties();i.emitChanged()}},i._handleInitializeData=function(n){var f,l,r,e,s,y;if(n&&n.environments&&n.environments.length>0){for(f=[],l=n.environments,r=0,e=l;r<e.length;r++){var u=e[r],o=c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey,a=i._getAdditionalTriggerOptionText(u.conditions,u.schedules),p={key:o,text:h.ManualTriggerText},t={};t.environmentName=u.name;t.environmentId=u.id;t.selectedTriggerKey=o;t.triggerOptions=[];a&&(s=o+1,y={key:s,text:a},t.triggerOptions.push(y),t.selectedTriggerKey=s);t.triggerOptions.push(p);f.push(t)}i._state.data=n;i._state.environmentTriggers=f;i._state.errorMessage=v.empty;i._state.description=v.empty;i._updateDependentStateProperties();i.emitChanged()}},i._handleInitializeProject=function(n){i._state.linkedReleaseDefinitions=n.releaseDefinitions;i._state.selectedProject=n.project},i._handleInitializeEnvironmentsPhasesWarning=function(n){var t=i._state;t.environmentTriggers&&t.environmentTriggers.length>0&&n&&n.length>0&&(t.environmentTriggers.forEach(function(t){var r=[];n.forEach(function(n){n&&n.environmentId===t.environmentId&&n.hasWarning&&r.push(n.warningMessage)});r.length>0&&(t.warningMessage=i._getWarningMessage(r.join(v.newLine),t.warningMessage),t.hasWarning=i._canSetEnvironmentTriggerWarning(t))}),i._updateDependentStateProperties(),i.emitChanged())},i._handleInitializeEnvironmentsEndpoints=function(n){var t=i._state,r=!1;t.environmentTriggers&&t.environmentTriggers.length>0&&n&&(t.environmentTriggers.forEach(function(t){var f=[],u=n[t.environmentId],e;u&&u.length>0&&(t.endpoints=a.clone(u),u.forEach(function(n){n&&n.data&&n.data[c.ReleaseDialogContentConstants.Environment_Endpoint_SubscriptionNameKey]&&f.push(n.data[c.ReleaseDialogContentConstants.Environment_Endpoint_SubscriptionNameKey])}));f.length>0&&(r=!0,e=v.localeFormat(h.DeploymentAuthorizationRequiredFor,f.join(h.JoinNames)),t.warningMessage=i._getWarningMessage(t.warningMessage,e),t.hasWarning=i._canSetEnvironmentTriggerWarning(t))}),r&&(i._updateDependentStateProperties(),i.emitChanged()))},i._handleUpdateErrorMessage=function(n){v.localeComparer(i._state.errorMessage,n)!==0&&(i._state.errorMessage=n?n:v.empty,i.emitChanged())},i._handleUpdateDescription=function(n){v.localeComparer(i._state.description,n)!==0&&(i._state.description=n?n:v.empty,i.emitChanged())},i._handleUpdateSelectedDeploymentTrigger=function(n){if(n&&i._state.environmentTriggers&&i._state.environmentTriggers.length>0){var t=a.first(i._state.environmentTriggers,function(t){return t.environmentId===n.environmentId&&t.selectedTriggerKey!==n.selectedTriggerOptionKey});t&&(t.selectedTriggerKey=n.selectedTriggerOptionKey,t.hasWarning=i._canSetEnvironmentTriggerWarning(t),i._updateDependentStateProperties(),i.emitChanged())}},i._handleShowDialog=function(){i._updateDialogVisibility(i._state.showDialog,!0)},i._handleCloseDialog=function(){i._updateDialogVisibility(i._state.showDialog,!1)},i._handleToggleDeploymentTrigger=function(n){if(i._state.environmentTriggers&&i._state.environmentTriggers.length>0){var t=a.first(i._state.environmentTriggers,function(t){return t.environmentId===n}),r=c.ReleaseEnvironmentUtils.isDeploymentTriggerManual(t);t&&!r&&(t.selectedTriggerKey=t.selectedTriggerKey===c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey?c.ReleaseDialogContentConstants.EnvironmentTrigger_AutomatedOptionValueKey:c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey,t.hasWarning=i._canSetEnvironmentTriggerWarning(t),i._updateDependentStateProperties(),i.emitChanged())}},i._handleUpdateManualDeploymentTriggers=function(n){for(var t,f,e=n||[],r=0,u=i._state.environmentTriggers;r<u.length;r++)t=u[r],f=c.ReleaseEnvironmentUtils.isDeploymentTriggerManual(t),f||(t.selectedTriggerKey=a.contains(e,t.environmentId.toString())?c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey:c.ReleaseDialogContentConstants.EnvironmentTrigger_AutomatedOptionValueKey);i._updateDependentStateProperties();i.emitChanged()},i._handleInitializeVersionPickerContributions=function(n){i._state.versionPickerContributions=n||[];i._updateDependentStateProperties();i.emitChanged()},i._state={showDialog:!!i._options&&!!i._options.showDialog,selectedProject:!!i._options.linkedProjects&&i._options.linkedProjects.length>0?i._options.linkedProjects[0]:null},i}return __extends(t,n),t.getKey=function(){return o.CreateReleaseKeys.StoreKey_CreateReleaseStoreKey},t.prototype.initialize=function(t){n.prototype.initialize.call(this,t);this._commonActions=i.ActionsHubManager.GetActionsHub(u.DialogActions,t);this._commonActions.showDialog.addListener(this._handleShowDialog);this._commonActions.closeDialog.addListener(this._handleCloseDialog);this._actions=i.ActionsHubManager.GetActionsHub(s.CreateReleaseActions,t);this._actions.initializeDefinition.addListener(this._handleInitializeData);this._actions.initializeProject.addListener(this._handleInitializeProject);this._actions.initializeEnvironmentsPhasesWarning.addListener(this._handleInitializeEnvironmentsPhasesWarning);this._actions.initializeEnvironmentsEndpoints.addListener(this._handleInitializeEnvironmentsEndpoints);this._actions.updateErrorMessage.addListener(this._handleUpdateErrorMessage);this._actions.updateDescription.addListener(this._handleUpdateDescription);this._actions.updateSelectedDeploymentTrigger.addListener(this._handleUpdateSelectedDeploymentTrigger);this._actions.initializeDefinitionArtifactsVersions.addListener(this._handleInitializeDefinitionArtifactsVersions);this._actions.updateArtifactSelectedVersion.addListener(this._handleUpdateArtifactSelectedVersion);this._actions.toggleDeploymentTrigger.addListener(this._handleToggleDeploymentTrigger);this._actions.updateManualDeploymentTriggers.addListener(this._handleUpdateManualDeploymentTriggers);this._actions.getVersionPickerContributions.addListener(this._handleInitializeVersionPickerContributions)},t.prototype.getState=function(){return this._state},t.prototype.getlinkedProjects=function(){return this._options.linkedProjects},t.prototype.disposeInternal=function(){this._commonActions.showDialog.removeListener(this._handleShowDialog);this._commonActions.closeDialog.removeListener(this._handleCloseDialog);this._actions.initializeDefinition.removeListener(this._handleInitializeData);this._actions.initializeProject.removeListener(this._handleInitializeProject);this._actions.initializeEnvironmentsPhasesWarning.removeListener(this._handleInitializeEnvironmentsPhasesWarning);this._actions.initializeEnvironmentsEndpoints.removeListener(this._handleInitializeEnvironmentsEndpoints);this._actions.updateErrorMessage.removeListener(this._handleUpdateErrorMessage);this._actions.updateDescription.removeListener(this._handleUpdateDescription);this._actions.updateSelectedDeploymentTrigger.removeListener(this._handleUpdateSelectedDeploymentTrigger);this._actions.initializeDefinitionArtifactsVersions.removeListener(this._handleInitializeDefinitionArtifactsVersions);this._actions.updateArtifactSelectedVersion.removeListener(this._handleUpdateArtifactSelectedVersion);this._actions.toggleDeploymentTrigger.removeListener(this._handleToggleDeploymentTrigger);this._actions.updateManualDeploymentTriggers.removeListener(this._handleUpdateManualDeploymentTriggers);this._actions.getVersionPickerContributions.removeListener(this._handleInitializeVersionPickerContributions)},t.prototype._getDefaultArtifactVersion=function(n,t){if(t&&t.definitionReference){var i=t.definitionReference[l.ArtifactDefinitionConstants.Version];if(i&&i.id!==v.empty&&i.name!==v.empty)return i.name}return n&&n.defaultVersion?n.defaultVersion.name:undefined},t.prototype._updateDialogVisibility=function(n,t){n!==t&&(this._state.showDialog=t,this.emitChanged())},t.prototype._getAdditionalTriggerOptionText=function(n,t){var i=v.empty,r=!!t&&t.length>0,u,f;return n&&n.length>0&&(n.length===1?i=this._getFirstConditionTriggerOptionText(n[0],r):(u=n.map(function(n){return n.name}).join(h.JoinNames),f=r?h.ScheduledTriggerAfterEnvironmentsText:h.AutoTriggerAfterEnvironmentsText,i=v.localeFormat(f,u))),i},t.prototype._getFirstConditionTriggerOptionText=function(n,t){var i=v.empty,r;return n!=null&&(n.conditionType===e.PipelineEnvironmentTriggerConditionType.Event?i=t?h.ScheduledTriggerAfterReleaseText:h.AutoTriggerAfterReleaseText:n.conditionType===e.PipelineEnvironmentTriggerConditionType.EnvironmentState&&(r=t?h.ScheduledTriggerAfterEnvironmentText:h.AutoTriggerAfterEnvironmentText,i=v.localeFormat(r,n.name))),i},t.prototype._updateDependentStateProperties=function(){this._state.canShowDialogContent=this._canShowDialogContent();this._state.canShowArtifactsVersions=this._canShowArtifactsVersions();this._state.hasAnyErrorsInArtifacts=this._hasAnyErrorsInArtifacts();this._state.canQueue=this._canCreatePipelineRelease();this._state.hasTriggerWarning=this._hasAnyTriggersWarning()},t.prototype._hasAnyErrorsInArtifacts=function(){var n=this._state,t;return n.canShowArtifactsVersions&&(t=a.first(n.artifactsVersionsData,function(n){return n.hasError})),!!t},t.prototype._hasAnyTriggersWarning=function(){var n=this._state,t;return!n.environmentTriggers||n.environmentTriggers.length<=0?!1:(t=a.first(n.environmentTriggers,function(n){return n.hasWarning}),!!t)},t.prototype._canShowDialogContent=function(){var n=this._state;if(!n.data)return!1;var t=!!n.data.environments&&n.data.environments.length>0,i=t&&!!n.environmentTriggers&&n.environmentTriggers.length===n.data.environments.length,r=!!n.data.artifacts&&n.data.artifacts.length>0,u=!r||!!n.artifactsVersionsData&&n.artifactsVersionsData.length>0;return i&&u},t.prototype._canShowArtifactsVersions=function(){var n=this._state,t,i;return n.data?(t=!!n.data.artifacts&&n.data.artifacts.length>0,i=t&&!!n.artifactsVersionsData&&n.artifactsVersionsData.length>0,i&&!!n.versionPickerContributions):!1},t.prototype._canCreatePipelineRelease=function(){return this._state.canShowDialogContent&&!this._state.hasAnyErrorsInArtifacts},t.prototype._canSetEnvironmentTriggerWarning=function(n){return n&&n.selectedTriggerKey!==c.ReleaseDialogContentConstants.EnvironmentTrigger_ManualOptionValueKey&&!!n.warningMessage},t.prototype._getWarningMessage=function(n,t){return n&&t?[n,t].join(v.newLine):n?n:t?t:v.empty},t}(r.StoreBase);t.CreateReleaseStore=y});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanelHelper",["require","exports","react","react-dom","DistributedTaskControls/Common/Actions/ActionCreatorManager","DistributedTaskControls/Common/Stores/StoreManager","DistributedTaskControls/Variables/ProcessVariablesV2/DataStore","PipelineWorkflow/Scripts/Common/Stores/ProgressIndicatorStore","PipelineWorkflow/Scripts/Shared/EnvironmentList/EnvironmentListStore","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/Constants","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseActionsCreator","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanel","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseStore","VSS/Utils/String","VSS/Context","VSS/LWP"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var w,b;Object.defineProperty(t,"__esModule",{value:!0});w=function(){function n(n){var t=this;this._options=n;this._onCreateReleasePanelClose=function(n){r.unmountComponentAtNode(t._createReleasePanelContainer);t._createReleasePanelContainer.remove();f.StoreManager.DeleteStore(a.CreateReleaseStore,n);f.StoreManager.DeleteStore(o.ProgressIndicatorStore,n);f.StoreManager.DeleteStore(s.EnvironmentListStore,n);t._options.onClose&&t._options.onClose()};this._onCreateRelease=function(n,i){if(t._options.onQueueRelease)t._options.onQueueRelease(n,i)}}return n.prototype.openCreateReleasePanel=function(){var t=this,n;this.initializeCreateReleaseStore(h.CreateReleasePanelInstances.CreateReleasePanelInstanceId);this._createReleasePanelContainer=document.createElement("div");document.body.appendChild(this._createReleasePanelContainer);n=i.createElement(l.CreateReleasePanel,{hasCloseButton:!0,onClose:function(){t._onCreateReleasePanelClose(h.CreateReleasePanelInstances.CreateReleasePanelInstanceId)},createReleaseStore:this._createReleaseStore,progressStore:this._createReleaseProgressIndicatorStore,environmentListStore:this._createReleaseEnvironmentListStore,variablesListStore:this._createReleaseVariablesStore,onQueueRelease:this._onCreateRelease,startReleaseMode:!!this._options.startReleaseMode,buildDefinitionId:this._options.buildDefinitionId});r.render(n,this._createReleasePanelContainer)},n.prototype.initializeCreateReleaseStore=function(n){this._createReleaseStore=f.StoreManager.CreateStore(a.CreateReleaseStore,n,{showDialog:!0,linkedProjects:this._options.linkedProjects,buildName:this._options.buildName,buildSource:v.format("{0}:{1}",y.getDefaultWebContext().project.id,this._options.buildDefinitionId)});this._createReleaseProgressIndicatorStore=f.StoreManager.GetStore(o.ProgressIndicatorStore,n);this._createReleaseEnvironmentListStore=f.StoreManager.GetStore(s.EnvironmentListStore,n);this._createReleaseVariablesStore=f.StoreManager.GetStore(e.ProcessVariablesV2Store,n);this._createReleaseActionCreator=u.ActionCreatorManager.GetActionCreator(c.CreateReleaseActionsCreator,n);var t=this._options.startReleaseMode?this._options.releaseId:this._options.definitionId;this._createReleaseActionCreator.initializeData(t,n,n,this._options.startReleaseMode,!!this._options.linkedProjects&&this._options.linkedProjects.length>0?this._options.linkedProjects[0]:null,this._options.buildDefinitionId,this._options.endPerfScenario)},n.prototype.getCreateReleaseStore=function(){return this._createReleaseStore},n.prototype.getCreateReleaseActionCreator=function(){return this._createReleaseActionCreator},n}();t.CreateReleasePanelHelper=w;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return""},t.prototype.componentDidMount=function(){var n=new w(this.props);n.openCreateReleasePanel()},t}(i.Component);p.registerLWPComponent("createReleasePanelProxy",b)});

define("PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleaseExtension",["require","exports","PipelineWorkflow/Scripts/SharedComponents/CreateRelease/CreateReleasePanelHelper","PipelineWorkflow/Scripts/Editor/Sources/CreateReleasePanelData","PipelineWorkflow/Scripts/Shared/Utils/FeatureFlagUtils","VSS/SDK/Shim"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});f.registerContent("cd-create-release",function(n){var t=n.options,f;t.startReleaseMode?f=new i.CreateReleasePanelHelper(t):(u.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()&&r.CreateReleasePanelDataHelper.getInstance().initializeData(),f=new i.CreateReleasePanelHelper(t));f.openCreateReleasePanel()})});

define("VSS/Adapters/Knockout",["require","exports","knockout","VSS/Controls","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f){var o,e,s;Object.defineProperty(t,"__esModule",{value:!0});o=function(){function n(){this._disposalManager=new u.DisposalManager}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.subscribe=function(n,t){return this._disposalManager.addDisposable(n.subscribe(t))},n.prototype.computed=function(n){return this._disposalManager.addDisposable(i.computed(n))},n.prototype._addDisposable=function(n){return this._disposalManager.addDisposable(n)},n}();t.TemplateViewModel=o;e={};s=function(n){function t(t,i){var r=__construct(this,n,[i]);for(var f in r)r.hasOwnProperty(f)&&(this[f]=r[f]);return r._viewModel=t,r._disposalManager=new u.DisposalManager,r}return __extends(t,n),t.registerBinding=function(n,t,i){if(!n)throw new Error("You must specify templateId to register a control type.");if(!t)throw new Error("You must specify control type to register.");if(!i)throw new Error("You must specify viewmodel generator to register.");e[n]={controlType:t,viewModelGenerator:i}},t.applyRegisteredBinding=function(n,i,r){if(n){var u=e[n];if(u)return t.applyBinding(u.controlType,i,u.viewModelGenerator(r),{templateId:n})}return null},t.applyBinding=function(n,t,i,r){if(!r.templateHtml&&!r.templateId)throw new Error("You must specify templateHtml or templateId to instantiate a template control.");if(!i)throw new Error("You must specify viewModel to instantiate a template control.");var u=new n(i,r);return u.applyBinding(t),u},t.prototype.getViewModel=function(){return this._viewModel},t.prototype.applyBinding=function(n){this._setElement(n);this._initializeElement();this._performBinding(n,this._options);this._attemptInitialize()},t.prototype.subscribe=function(n,t){return this._disposalManager.addDisposable(n.subscribe(t))},t.prototype.computed=function(n){return this._disposalManager.addDisposable(i.computed(n))},t.prototype._cleanup=function(){n.prototype._cleanup.call(this);var t=this.getElement();t&&(this.getElement().removeAttr("data-bind"),i.cleanNode(this.getElement()[0]),this._disposalManager.dispose(),this._viewModel.dispose())},t.prototype._performBinding=function(n,t){t.templateHtml?n.html(t.templateHtml):t.templateId&&n.attr("data-bind",f.format("template: {{ name: '{0}' }}",t.templateId));i.applyBindings(this.getViewModel(),n[0])},t}(r.BaseControl);t.TemplateControl=s});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea",["require","exports","knockout","VSS/VSS","VSS/Controls/Notifications","VSS/Utils/Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core"],function(n,t,i,r,u,f,e){function l(n){t.currentContext=n}var o,s,h,c;Object.defineProperty(t,"__esModule",{value:!0});o=f.delegate;s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposalManager=new f.DisposalManager,i._messageAreaViewModel=t.viewModel,i._messageAreaViewModel.clearDelegate=o(i,i._clearHandler),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({closeable:!0},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._subscribe()},t.prototype.clear=function(){n.prototype.clear.call(this);this._messageAreaViewModel.logError("");this._messageAreaViewModel.logErrorWithLink("");this._messageAreaViewModel.logWarning("");this._messageAreaViewModel.logMessage("");this._link&&this._link.length>0&&(this._link.off("click"),this._link=null);var t=this._element.find("a");t&&t.length>0&&(t.off("click"),t=null)},t.prototype.dispose=function(){this.clear();this._disposalManager.dispose()},t.prototype._clearHandler=function(n){n?(this.getMessageType()===u.MessageAreaType.Error||this.getMessageType()===u.MessageAreaType.Warning)&&this.clear():this.clear()},t.prototype._subscribe=function(){var n=this;this._disposalManager.addDisposable(this._messageAreaViewModel.logError.subscribe(function(t){t&&n.setError(e.ErrorHelper.getErrorMessage(t))}));this._disposalManager.addDisposable(this._messageAreaViewModel.logErrorWithLink.subscribe(function(t){t&&n.setMessage(t,u.MessageAreaType.Error)}));this._disposalManager.addDisposable(this._messageAreaViewModel.logWarning.subscribe(function(t){t&&n.setMessage(t,u.MessageAreaType.Warning)}));this._disposalManager.addDisposable(this._messageAreaViewModel.logMessage.subscribe(function(t){if(t&&(n.setMessage(t,u.MessageAreaType.Info),n._messageAreaViewModel.logMessage(""),t.jquery&&$(t).length>0&&(n._link=$(t).find("a").on("click",o(n,n.clear)),n._link.length>0))){n._link.on("click",o(n,n.clear));f.delay(n,10,function(){n._link.first().focus()})}}))},t}(u.MessageAreaControl);t.MessageAreaView=s;h=function(){function n(){this.logError=i.observable("");this.logErrorWithLink=i.observable({});this.logMessage=i.observable({});this.logWarning=i.observable({})}return n.prototype.clear=function(n){n===void 0&&(n=!1);this.clearDelegate&&this.clearDelegate(n)},n.prototype.clearError=function(){this.clearDelegate&&this.clearDelegate(!0)},n}();t.MessageAreaViewModel=h;c=function(){function n(n){this._viewModel=n}return n.prototype.logError=function(n){this._viewModel.logError(n)},n.prototype.clearError=function(){this._viewModel.clearError()},n.prototype.logMessage=function(n){this._viewModel.logMessage(n)},n.prototype.logWarning=function(n){this._viewModel.logWarning(n)},n.prototype.clear=function(){this._viewModel.clear()},n}();t.MessageContext=c;t.setCurrentContext=l;r.tfsModuleLoaded("TFS.ReleaseManagement.MessageArea",t)});

define("VSS/Authentication/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.Session=0]="Session";n[n.App=1]="App"})(i=t.DelegatedAppTokenType||(t.DelegatedAppTokenType={}));t.TypeInfo={DelegatedAppTokenType:{enumValues:{session:0,app:1}},WebSessionToken:{}};t.TypeInfo.WebSessionToken.fields={tokenType:{enumType:t.TypeInfo.DelegatedAppTokenType},validTo:{isDate:!0}}});

define("VSS/Authentication/RestClient",["require","exports","VSS/Authentication/Contracts","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.createSessionToken=function(n){return this._beginRequest({httpMethod:"POST",area:"WebPlatformAuth",locationId:"11420b6b-3324-490a-848d-b8aafdb906ba",resource:"SessionToken",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.WebSessionToken,responseType:i.TypeInfo.WebSessionToken,apiVersion:this.sessionTokenApiVersion,data:n})},t}(r.VssHttpClient);t.CommonMethods2To5_1=u;f=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="5.1-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient5_1=f;e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="5.0-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient5=e;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="4.1-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient4_1=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="4.0-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient4=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="3.2-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient3_2=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="3.1-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient3_1=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="3.0-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient3=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="2.3-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient2_3=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="2.2-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient2_2=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="2.1-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient2_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.sessionTokenApiVersion="2.0-preview.1",r}return __extends(t,n),t}(u);t.AuthenticationHttpClient2=p;w=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(f);t.AuthenticationHttpClient=w});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils",["require","exports","VSS/Diag","VSS/Telemetry/Services","VSS/Utils/String"],function(n,t,i,r,u){var f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt;Object.defineProperty(t,"__esModule",{value:!0});f="Release";e=function(){function n(){}return n.cancelClick="Cancel_Click",n.click="Click",n.okClick="Ok_Click",n}();t.Events=e;o=function(){function n(){}return n.templateId="TemplateId",n.templateName="TemplateName",n.artifactSource="ArtifactSource",n.ciEnabled="CIEnabled",n.approval="Approval",n.orinalApproval="OriginalApproval",n.triggerEnabled="TriggerEnabled",n.sourceOfCall="SourceOfCall",n.releaseId="ReleaseId",n.releaseEnvId="ReleaseEnvironmentId",n.releaseDefinitionId="ReleaseDefinitionId",n.releaseDefinitionEnvId="ReleaseDefinitionEnvironmentId",n.action="Action",n}();t.EventProperties=o;s=function(){function n(){}return n.releaseId="ReleaseId",n.hasTests="HasTests",n}();t.ReleaseProperties=s;h=function(){function n(){}return n.eventType="EventType",n.reconnectDelay="ReconnectDelay",n.reconnectCount="ReconnectCount",n.errorMessage="ErrorMessage",n}();t.SignalRProperties=h;c=function(){function n(){}return n.reconnected="Reconnected",n.reconnecting="Reconnecting",n.connectionSlow="ConnectionSlow",n.startConnectionError="StartConnectionError",n.disconnected="Disconnected",n.error="Error",n}();t.SignalREventTypes=c;l=function(){function n(){}return n.manual="Manual",n.automated="Automated",n.explorer="ReleaseExplorer",n.anchorLink="AnchorLink",n.build="Build",n.overview="Overview",n.dashboardLink="DashboardLink",n.releaseSummary="ReleaseSummary",n}();t.EventValues=l;a=function(){function n(){}return n.environmentSummary="EnvironmentSummary",n}();t.ReleaseEventValues=a;v=function(){function n(){}return n.getStarted="GettingStarted",n.guidanceLink="GuidanceLink",n.codeHubSetupReleaseButton="CodeHubSetupReleaseButton",n.noArtifactLinked="None",n}();t.ReleaseDefinitionEventValues=v;y=function(){function n(){}return n.createNew="RD_CreateNew",n.createCompleted="RD_CreateCompleted",n.templateSelect="RD_TemplateSelect",n.settings="RD_Settings",n}();t.ReleaseDefinitionFeatures=y;p=function(){function n(){}return n.openRelease="Release_View",n.navigateToReleaseView="Release_View_Navigation",n.signalR="SignalR",n}();t.ReleaseFeatures=p;w=function(){function n(){}return n.cancelClick="ES_CancelClick",n.openEnvironmentSummary="ES_Open",n}();t.EnvironmentSummary=w;b=function(){function n(){}return n.cloneSettings="DE_CloneSettings",n.cloneCompleted="DE_CloneCompleted",n.templateSelect="DE_AddTemplateSelect",n.addSettings="DE_AddSettings",n.addCompleted="DE_AddCompleted",n}();t.DefinitionEnvironmentFeatures=b;k=function(){function n(){}return n.FeatureName="TaskDefinitionCacheEmpty",n.MessageKey="MessageKey",n.ObjectContentKey="ObjectContent",n}();t.TaskDefinitionCacheEmptyFeature=k;t.InvalidTaskInReleaseDefinitionFeature="InvalidTaskInReleaseDefinition";d=function(){function n(){}return n.refreshTaskList="TG_RefreshList",n.importTaskGroup="TG_Import",n.exportTaskGroup="TG_Export",n.deleteTaskGroup="TG_Delete",n.saveAsDraft="TG_SaveAsDraft",n.publishDraftAsPreview="TG_PublishDraftAsPreview",n.publishDraft="TG_PublishDraft",n.publishPreview="TG_PublishPreview",n}();t.TaskGroupFeatures=d;g=function(){function n(){}return n.success="TG_Success",n.failure="TG_Failure",n}();t.TaskGroupEvents=g;nt=function(){function n(){}return n.prototype.publishEvent=function(n,t,e){i.logVerbose("[TelemetryService.publishEvent]: method called.");i.logVerbose(u.format("[TelemetryService.publishEvent]: feature: {0}",n));try{r.publishEvent(r.TelemetryEventData.fromProperty(f,n,t,e))}catch(o){i.logError(u.format("[TelemetryService.publishEvent]: Error in publishing event to telemetry service. Error: {0}",o.message))}},n.prototype.publishEvents=function(n,t){i.logVerbose("[TelemetryService.publishEvents]: method called.");i.logVerbose(u.format("[TelemetryService.publishEvents]: feature: {0}",n));try{r.publishEvent(new r.TelemetryEventData(f,n,t))}catch(e){i.logError(u.format("[TelemetryService.publishEvents]: Error in publishing events to telemetry service. Error: {0}",e.message))}},n.prototype.publishEventsWithElapsedTime=function(n,t,i,u){r.publishEvent(new r.TelemetryEventData(f,n,t,i,u))},n}();t.TelemetryService=nt});

define("VSS/Diag/Services",["require","exports","VSS/Ajax","VSS/Context","VSS/Service"],function(n,t,i,r,u){function s(){var n=r.getPageContext();n&&n.diagnostics.allowStatsCollection&&n.diagnostics.activityId&&u.getLocalService(f).logActivity(n.diagnostics.activityId,window.location.href)}var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});f=function(){function n(){this._activtyIdHeader="ActivityId";this._progressPendingActions=null;this._progressPendingActionsNewId=0;this._progressPendingActions={};this._activtyStatsCollectionAllowedCallbacks=[]}return n.prototype.initialize=function(){},n.prototype.addActivtyStatsCollectionAllowedCallback=function(n){this._activtyStatsCollectionAllowedCallbacks.push(n)},n.prototype.actionStarted=function(n){if(!this.isCollectingStats())return-1;var t=++this._progressPendingActionsNewId;return this._progressPendingActions[t]=n,t},n.prototype.actionCompleted=function(n,t){var r=null,i,u,f;if(n>-1&&this._allowStatsCollection()&&this.isCollectingStats()&&(i=this._progressPendingActions[n],i)){delete this._progressPendingActions[n];try{u=t.getResponseHeader(this._activtyIdHeader);u&&i.toLowerCase().indexOf("/_apis/stats/activities")===-1&&(r=this.getCurrentPage(),f={actionDate:(new Date).toUTCString(),name:i,id:u,status:t.status,parentId:r?r.id:null},this._saveActivity(f))}catch(e){this.clearStats()}}},n.prototype.logActivity=function(n,t){try{if(this._allowStatsCollection()&&t&&t.toLowerCase().indexOf("_statistics")===-1){var i={actionDate:(new Date).toUTCString(),name:t,id:n};this._saveActivity(i,!0)}}catch(r){this.clearStats()}},n.prototype.getActivityStatistics=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_ID_STORAGE_ITEM);return t?JSON.parse(t):[]}catch(i){return[]}},n.prototype.clearStats=function(){try{window.localStorage.removeItem(n.ACTIVITY_ID_STORAGE_ITEM);window.localStorage.removeItem(n.CURRENT_PAGE)}catch(t){}},n.prototype.collectStats=function(t){try{window.localStorage.setItem(n.ACTIVITY_COLLECTION_STATUS,t.toString())}catch(i){}},n.prototype.getCurrentPage=function(){try{var t=window.localStorage.getItem(n.CURRENT_PAGE);if(t)return JSON.parse(t)}catch(i){}return null},n.prototype.setCurrentPage=function(t){try{window.localStorage.setItem(n.CURRENT_PAGE,JSON.stringify(t))}catch(i){}},n.prototype.isCollectingStats=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_COLLECTION_STATUS);return t?(t=t.toLowerCase(),t==="true"?!0:t==="false"?!1:(window.localStorage.removeItem(n.ACTIVITY_COLLECTION_STATUS),!1)):!1}catch(i){return!1}},n.prototype._saveActivity=function(t,i){if(this.isCollectingStats()&&this._allowStatsCollection()){var r=this.getActivityStatistics();r.push(t);window.localStorage.setItem(n.ACTIVITY_ID_STORAGE_ITEM,JSON.stringify(r));i&&this.setCurrentPage(t)}},n.prototype._allowStatsCollection=function(){for(var t=!0,n=0;n<this._activtyStatsCollectionAllowedCallbacks.length;n++)t=t&&this._activtyStatsCollectionAllowedCallbacks[n]();return t},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}();t.ActivityStatsCollector=f;s();u.getLocalService(f).addActivtyStatsCollectionAllowedCallback(function(){var n=r.getPageContext();return!!(n&&n.diagnostics.allowStatsCollection)});e={};o=r.getPageContext();o&&o.diagnostics.allowStatsCollection&&i.addGlobalListener({beforeRequest:function(n,t){var i=u.getLocalService(f).actionStarted(t);e[n]=i},responseReceived:function(n,t,i,r){u.getLocalService(f).actionCompleted(e[n],r);delete e[n]}})});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Legacy.Ajax",["require","exports","VSS/VSS","VSS/Service","VSS/Diag/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Resources/VSS.Resources.Common"],function(n,t,i,r,u,f,e,o,s){function nt(n,f,e,s,c){var l,v,p,a;if(o.logTracePoint("Ajax.response-received",c.requestId),r.getLocalService(u.ActivityStatsCollector).actionCompleted(g[c.requestId],e),delete g[ut],c.isComplete=!0,delete y[c.requestId],c.options!==null&&c.options!==undefined&&c.options.wait!==null&&c.options.wait!==undefined&&t.endWait(c),f!=="timeout"&&e&&e.status===203&&(l=e.getResponseHeader("X-Tfs-Location"),l)){if(v=l.indexOf("reply_to="),v!==-1){for(p=l.indexOf("&",v),a=l.substring(0,v),p!==-1&&(a+=l.substring(p));a.charAt(a.length-1)==="&";)a=a.substring(0,a.length-1);l=a+"&reply_to="+encodeURIComponent(window.location.href)}window.location.href=l;return}if(s)try{s(n,f,e)}catch(w){o.logTracePoint("Ajax.callback-exception",w);h(w)}o.logTracePoint("Ajax.callback-complete",c.requestId);c.progressActionId&&i.globalProgressIndicator.actionCompleted(c.progressActionId);c.options&&c.options.tracePoint&&o.logTracePoint(c.options.tracePoint)}function c(n,t){return function(i,r,u){nt(i,r,u,t,n)}}function a(n,i){return function(r,u,e){nt(null,u,r,function(){var n;if(u==="timeout")h(ht(r),i);else if(r.status===0)t.unloadRequested||t.unloading||f.delay(this,2e3,function(){t.unloadRequested||t.unloading||h(ft(r),i)});else if(r.status>=12e3&&r.status<13e3)t.unloadRequested||t.unloading||h(ft(r),i);else{if(t.unloading&&u==="abort")return;try{n=f.parseMSJSON(r.responseText,!1)}catch(o){}n?h(new Error(n.message),i):h(st(r,e||r.statusText||r.status),i)}},n)}}function l(n,f,e){var s,h,c;return s={isComplete:!1,requestId:ut++,options:e},e&&e.wait&&t.startWait(s),h=n+" ("+s.requestId+")",o.logTracePoint("Ajax.request-started",h),c=r.getLocalService(u.ActivityStatsCollector).actionStarted(n),g[s.requestId]=c,e&&e.showGlobalProgressIndicator===!1||(s.progressActionId=i.globalProgressIndicator.actionStarted(h)),y[s.requestId]=s,s}function et(n){var t=n.options.wait;t.entireWindow||(t.element.css("margin-top",-parseInt(t.target.css("padding-top"),10)),t.element.css("margin-left",-parseInt(t.target.css("padding-left"),10)),t.element.height(t.target.outerHeight()),t.element.width(t.target.outerWidth()));t.msgElement&&(t.msgElement.css("top",t.element.position().top+(t.element.height()-t.msgElement.height())/2+parseInt(t.element.css("margin-top"),10)),t.msgElement.css("left",t.element.position().left+(t.element.width()-t.msgElement.width())/2+parseInt(t.element.css("margin-left"),10)))}function tt(n){var t;return typeof n=="string"&&(n=n.replace(/\u2028/g,"\\u2028")),t=f.parseMSJSON(n,!1),t.hasOwnProperty("__wrappedArray")&&(t=t.__wrappedArray),t}function ct(){t.unloadRequested=!0;f.delay(this,2e3,function(){t.unloadRequested=!1})}function lt(n,t,i,r,u){var f=l(n,t,u),e={type:"GET",data:t,success:c(f,i),error:a(f,r),dataType:"json",traditional:!0,timeout:b};return d.allowArrayResult||(e.converters={"text json":tt}),f.xhr=jQuery.ajax(n,$.extend(e,u)),f}function ot(n,t,i,r,u,f){var h,o,e,y,s,p;if(d.byPassAntiForgery||(t=$.extend(t||{},{__RequestVerificationToken:w()}),h=v(),h&&(t=$.extend(t,{__RequestVerificationToken2:h}))),o=l(n,t,u),u&&u.timeout&&(b=u.timeout),e={type:"POST",data:t,success:c(o,i),error:a(o,r),dataType:"json",traditional:!0,timeout:b},d.allowArrayResult||(e.converters={"text json":tt}),f)for(e.contentType=!1,e.processData=!1,e.data=new FormData,y=Object.keys(t),s=0;s<y.length;s++)p=y[s],e.data.append(p,t[p]);try{o.xhr=jQuery.ajax(n,$.extend(e,u))}catch(k){r(k)}return o}function at(n,t,i,r,u){return ot(n,t,i,r,u,!0)}function vt(n,t,i,r,u){var e,f;return t=$.extend(t,{__RequestVerificationToken:w()}),e=v(),e&&(t=$.extend(t,{__RequestVerificationToken2:e})),f=l(n,t,u),f.xhr=jQuery.ajax(n,$.extend({type:"POST",data:t,ajaxHandler:this,success:c(f,i),error:a(f,r),dataType:"html",traditional:!0,cache:!1},u)),f}function yt(n,t,i,r,u){var f=l(n,t,u);return f.xhr=jQuery.ajax(n,$.extend({type:"GET",data:t,success:c(f,i),error:a(f,r),dataType:"html",traditional:!0,cache:!1},u)),f}function pt(n){var t=l(n&&n.url,n&&n.data,n);return t.xhr=jQuery.ajax(n&&n.url,$.extend({type:"GET",dataType:"jsonp",traditional:!0,success:c(t,n&&n.callback)},n)),t}function w(){return it||(it=$("input[name=__RequestVerificationToken]").val()),it}function v(){return rt||(rt=$("input[name=__RequestVerificationToken2]").val()),rt}function wt(){var n,t;return n=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val(w()),t=v(),t&&n.after($("<input />").attr("type","hidden").attr("name","__RequestVerificationToken2").val(v())),n}function bt(n){var t=$(n);if(t.find("input[name=__RequestVerificationToken]").length===0)return t.append(wt())}var it,rt;Object.defineProperty(t,"__esModule",{value:!0});t.unloading=!1;t.unloadRequested=!1;var ut=1,b=3e5,h=i.handleError,y,k,d={allowArrayResult:!1,byPassAntiForgery:!1},g={},p;(function(n){n.AjaxException="TFS.Core.Ajax.AjaxException";n.AjaxTimeoutException="TFS.Core.Ajax.AjaxTimeoutException";n.NetworkException="TFS.Core.Ajax.NetworkException"})(p=t.Exceptions||(t.Exceptions={}));y={};var st=function(n,t){var i=new Error(e.format(s.AjaxRequestFailedWithStatus,t));return i.name=p.AjaxException,i.response=n.responseText,i.xhr=n,i},ht=function(n){var t=new Error(s.AjaxRequestTimedOut);return t.name=p.AjaxTimeoutException,t.status=n.status,t.xhr=n,t},ft=function(n){var t=new Error(s.NetworkConnectionUnavailable);return t.name=p.NetworkException,t.status=n.status,t.xhr=n,t};t.endRequest=nt;t.wrapSuccessCallback=c;t.wrapErrorCallback=a;t.beginRequest=l;t.startWait=function(n){var t=n.options.wait;t.end=function(){t.element&&n.isComplete&&!t.timeout&&(t.fade!==!1?(t.element.css("cursor","auto"),t.element.fadeOut("fast",function(){t.element.remove();t.element=null}),t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.fadeOut("fast",function(){t.msgElement.remove();t.msgElement=null}))):(t.element.css("cursor","auto"),t.element.remove(),t.element=null,t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.remove(),t.msgElement=null)),$(window).unbind("resize."+n.requestId))};t.showDelay||(t.showDelay=250);t.target||(t.entireWindow=!0,t.target=$("body"));t.target.children(".wait-element").hide();t.target.children(".wait-box").hide();t.showDelay!==0?n.showTimer=f.delay(this,t.showDelay,function(){delete n.showTimer;k(n)}):k(n)};t.endWait=function(n){n.options.wait.end();n.showTimer&&(n.showTimer.cancel(),delete n.showTimer)};k=function(n){var i="",r="",t=n.options.wait;t.image&&(i+='<img class="wait-image" src="'+t.image+'" />');t.message&&(i+='<div class="wait-message">'+t.message+"<\/div>");i.length>0&&(t.target.prepend('<div class="wait-box">'+i+"<\/div>"),t.msgElement=t.target.children(".wait-box").first());t.backgroundcolor&&(r+="background-color: "+t.backgroundcolor+";");t.target.prepend('<div class="wait-element" style="'+r+'"><\/div>');t.element=t.target.children(".wait-element").first();et(n);$(window).bind("resize."+n.requestId,function(){et(n)});t.minLifetime||(t.minLifetime=100);t.timeout=f.delay(this,t.minLifetime,function(){delete t.timeout;t.end()})};t.msJSONFilter=tt;$(window).bind("beforeunload",ct);$(window).bind("unload",function(){t.unloading=!0;$.each(y,function(n,t){if(t.xhr)try{t.xhr.abort()}catch(i){}})});t.getMSJSON=lt;t.postMSJSON=ot;t.multipartPostMSJSON=at;t.postHTML=vt;t.getHTML=yt;t.getJSONp=pt;t.getAntiForgeryTokenValue=w;t.getAntiForgeryTokenValue2=v;t.setAntiForgeryToken=bt});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.TfsOM.Common",["require","exports","VSS/VSS","VSS/Diag","VSS/Service","VSS/Context","VSS/Common/Contracts/Platform","ReleasePipeline/Scripts/TFS.ReleaseManagement.Legacy.Ajax","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function it(n){var t=new Error(h.format("Favorite item '{0}' already exist.",n));return t.name=b.FavoriteItemAlreadyExist,t}function ut(n,t){var i;return i={area:"api"},t=t||n.navigation.topMostLevel,t>=a.NavigationContextLevels.Application&&(t<a.NavigationContextLevels.Team&&(i.ignoreDefaultTeam=!0,i.team=""),t<a.NavigationContextLevels.Project&&(i.project=""),t<a.NavigationContextLevels.Collection&&(i.serviceHost="")),i}var k,y,d,g,nt,et,v,tt,b,p,w,rt,ft;Object.defineProperty(t,"__esModule",{value:!0});k=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:f.getDefaultWebContext();return u.VssConnection.getConnection(t,e.ContextHostType.ProjectCollection)},n.getDefaultConnection=function(){return u.VssConnection.getConnection(f.getDefaultWebContext(),e.ContextHostType.ProjectCollection)},n}();t.ProjectCollection=k;y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.tfsConnection=t},t.prototype.getTfsContext=function(){if(!this._tfsContext){var n=this.getWebContext();this._tfsContext=n===f.getDefaultWebContext()?a.TfsContext.getDefault():new a.TfsContext(n)}return this._tfsContext},t.prototype.getCurrentServiceHost=function(){var n=this.getTfsContext(),t=this.getConnection().getHostType();return t===e.ContextHostType.ProjectCollection?n.navigation.collection:t===e.ContextHostType.Application?n.navigation.applicationServiceHost:n.navigation.serviceHost},t}(u.VssService);t.TfsService=y;d=function(n){function t(){var t=n.call(this)||this;return t._integrations=[{_properties:[{name:"name",value:"Advanced Code Editor"}],end_point:"tfs.source-control.file-viewer",handshake:1,loadBehavior:1,url:"{TfsRootPath}_BuiltInExtensions/_CodeEditor/Edit"},{_properties:[{name:"name",value:"Advanced Code Editor"}],end_point:"tfs.source-control.diff-viewer",handshake:1,loadBehavior:1,url:"{TfsRootPath}_BuiltInExtensions/_CodeEditor/Diff"}],t}return __extends(t,n),t.prototype.beginGetIntegrations=function(n,t){var u=this,i;this._processedRawIntegrations||($.each(this._integrations,function(n,t){t.url!=="undefined"&&(t.url=u._replaceUrlTokens(t.url));t.properties={};t._properties&&$.each(t._properties,function(n,i){i&&i.name&&(t.properties[i.name]=i.value)})}),this._processedRawIntegrations=!0);i=[];$.each(this._integrations,function(t,r){r.end_point===n&&i.push(r)});t.call(this,i)},t.prototype._replaceUrlTokens=function(n){return n?n.replace(t.TFS_ROOT_PATH_TOKEN,this._getTfsRootPath()):n},t.prototype._getTfsRootPath=function(){var n=this.getTfsContext();return n.contextData.account.uri},t.TFS_ROOT_PATH_TOKEN="{TfsRootPath}",t}(y);t.ExtensionManagementService=d;g=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._licenses=s.parseJsonIsland($(document),".feature-licenses",!1),t}return __extends(t,n),t.getDefaultService=function(){return u.getApplicationService(t)},t.isFeatureActive=function(n){return this.getDefaultService(a.TfsContext.getDefault()).getFeatureState(n)>=nt.Trial},t.prototype.getFeatureState=function(n){var t=n.toLowerCase();return this._licenses&&this._licenses.hasOwnProperty(t)&&this._licenses[t]},t}(y);t.FeatureLicenseService=g,function(n){n[n.Off=0]="Off";n[n.Advertising=1]="Advertising";n[n.Trial=2]="Trial";n[n.Licensed=3]="Licensed"}(nt=t.FeatureMode||(t.FeatureMode={})),function(n){n.Admin="65AC9DB3-BB0A-42fe-B584-A690FB0D817B";n.AdvancedBacklogManagement="CEDD6BE8-B717-4a0a-8BFD-C4E9B4CAA071";n.AdvancedHomePage="509B6940-9948-47e6-A392-99E0CA873F65";n.AdvancedPortfolioBacklogManagement="F1026762-C08D-4de3-9C17-7587296F3CFE";n.AgileBoards="181DDF83-AFAF-4982-97D9-870AE96BB8D3";n.BacklogManagement="EC7545A3-E5DB-40E8-B0D0-F64DF7619BBA";n.Build="D8BE799B-2716-4c4b-A939-E97C46A28CAA";n.ChartAuthoring="F01E607A-F55C-4038-8F4B-7956712DEA22";n.ChartViewing="A510D786-5E4B-432F-8C31-F9D7B42CF17E";n.ChatRooms="AE97B526-0D80-401E-9EC5-EA74BA543855";n.Code="2FF0A29B-5679-44f6-8FAD-F5968AE3E32E";n.Feedback="BB000720-4CF7-466A-BA47-1AB40B7A8DFB";n.PortfolioBacklogManagement="68DFF179-850A-4F20-A489-E6BD6E6A17EC";n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4";n.Standard="D91355E2-2A55-4CBE-9636-4D73F70FBA7C";n.TestManagementForBasicUsers="2BAEE8C9-BB36-4DE1-B991-3C1B6B5CB2B5";n.TestManagementForExpressSku="2DD84BB6-7821-4FDE-85BA-A6CC4AB1B7E9";n.TestManagement="8D00EEB7-D5AD-4141-B601-FBB500F264BA";n.ViewMyWorkItems="4F5D9D44-EC3F-4AF1-921A-DEE2147C54DC"}(et=t.LicenseFeatureIds||(t.LicenseFeatureIds={})),function(n){n[n.User=1]="User";n[n.UserAndTeam=3]="UserAndTeam";n[n.Project=4]="Project";n[n.ProjectAndUser=5]="ProjectAndUser";n[n.Collection=6]="Collection";n[n.Root=7]="Root"}(v=t.WebSettingsScope||(t.WebSettingsScope={}));tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.canAccessTeamSettings=function(){var n=this.getTfsContext();return Boolean(n.currentTeam)},t.prototype.beginWriteSetting=function(n,t,i,r,u,f){var e;return typeof t=="boolean"?e="setBoolean":typeof t=="number"?(t=Math.floor(t),e="setInteger"):(e="setString",typeof t=="undefined"?t=null:t!==null&&typeof t!="string"&&(t=$.param(t))),typeof i=="undefined"&&(i=v.User),o.postMSJSON(this._getApiLocation(e,this._getContext(i)),{path:n,value:t,scope:i},r,u,f)},t.prototype.beginReadSetting=function(n,t,i,r,u){return typeof t=="undefined"&&(t=v.User),o.getMSJSON(this._getApiLocation("readSetting",this._getContext(t)),{path:n,scope:t},i,r,u)},t.prototype.writeLocalSetting=function(n,t,i,u){var f=this._getScopedKey(n,i);if(f)try{window.localStorage.setItem(f,t)}catch(e){if(u)throw e;else r.logWarning("Local storage write failed."),r.logWarning(e)}},t.prototype.readLocalSetting=function(n,t,i){var u=this._getScopedKey(n,t);if(u)try{return window.localStorage.getItem(u)}catch(f){if(i)throw f;else r.logWarning("Local storage read failed."),r.logWarning(f)}return null},t.prototype._getScopedKey=function(n,t){var i=this.getTfsContext(),u=i.currentIdentity?i.currentIdentity.id:null,o=i.currentTeam?i.currentTeam.identity.id:null,e,f;switch(t){case v.User:return u+n;case v.UserAndTeam:return u+"/"+o+n;case v.Project:return f=i.navigation?i.navigation.projectId:null,e=i.navigation?i.navigation.collection.instanceId:null,e+"/"+f+n;case v.ProjectAndUser:return f=i.navigation?i.navigation.projectId:null,f+"/"+u+n;default:return null}},t.prototype._getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n,"webSettings",{area:"api",team:t.team,project:t.project,serviceHost:this.getCurrentServiceHost()})},t.prototype._getContext=function(n){return n===v.User||n===v.Collection?{team:"",project:""}:{team:this.getTfsContext().currentTeam.identity.id}},t}(y);t.WebSettingsService=tt,function(n){n.FavoriteItemAlreadyExist="VSS.Service.FavoriteItemAlreadyExist"}(b||(b={}));p=function(){function n(n,t){this.favStore=n;t&&(this.id=t.id,this.name=t.name,this.parentId=t.parentId,this.type=t.type,this.data=t.data)}return n.prototype.path=function(n){return l.calculateTreePath.call(this,n,"/","name","root")},n.prototype.beginRename=function(n,t,r){var u=this,f;this.parent&&this.parent.findChildItem(n,this.type,this.data)?i.handleError(it(n),r,this):(f=$.extend({},this),f.name=n,this.favStore.beginUpdateItems([f],function(){u.name=n;$(window).trigger("favorite-item-renamed",u);$.isFunction(t)&&t.call(u,u)},r))},n.prototype.beginDelete=function(n,t,i){this.favStore.beginDeleteItems([this],n,t,i)},n.prototype.onDelete=function(n,t){!t&&this.parent&&this.parent.remove(this);delete this.favStore.all[this.id];n&&$(window).trigger("favorite-item-removed",this)},n.FAVITEM_TYPE_WIT_QUERYITEM="Microsoft.TeamFoundation.WorkItemTracking.QueryItem",n.FAVITEM_TYPE_WIT_QUERYCHART="Microsoft.TeamFoundation.WorkItemTracking.QueryChart",n.FAVITEM_TYPE_VC_PATH="Microsoft.TeamFoundation.VersionControl.Path",n.FAVITEM_TYPE_BUILD_DEFINITION="Microsoft.TeamFoundation.Build.Definition",n.FAVITEM_TYPE_TESTMANAGEMENT_CHART="Microsoft.Teamfoundation.TestManagement.Charts",n}();t.FavoriteItem=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.children=[],r}return __extends(t,n),t.prototype.add=function(n,t){this.children.push(n);n.parent=this;t||this.children.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)})},t.prototype.remove=function(n){c.remove(this.children,n)},t.prototype.clear=function(){this.children=[]},t.prototype.findByPath=function(n){return l.findTreeNode.call(this,n,"/",h.localeIgnoreCaseComparer,"name")},t.prototype.findByData=function(n){for(var i,t=0,u=this.children.length;t<u;t++)if(i=this.children[t],i.data===n)return i;return null},t.prototype.beginCreateNewFolder=function(n,t,i){this.beginCreateNewItem(n,null,null,t,i)},t.prototype.beginCreateNewItem=function(n,r,u,f,e,o){var s,h=this,c;(o===null||o===undefined)&&(o=!0);this.findChildItem(n,r,u)?i.handleError(it(n),e,this):(c={id:undefined,parentId:this.id,name:n,type:r,data:u},s=r?new p(this.favStore,c):new t(this.favStore,c),this.favStore.beginUpdateItems([s],function(){h.add(s);h.favStore.all[s.id]=s;o&&$(window).trigger("favorite-item-created",s);$.isFunction(f)&&f.call(h,s)},e))},t.prototype.onDelete=function(t,i){$.each(this.children,function(n,t){t.onDelete(!1,!0)});n.prototype.onDelete.call(this,t,i)},t.prototype.findChildItem=function(n,t,i){for(var u,f=0,e=this.children.length;f<e;f++)if(u=this.children[f],h.localeIgnoreCaseComparer(n,u.name)===0&&u.type===t&&u.data===i)return u;return null},t}(p);t.FavoriteFolder=w;rt={};ft=function(n){function t(t,i,r,u,f,e){var o=n.call(this,null,{id:f,name:e})||this;return o.root=!0,o.favStore=o,o._tfsContext=t,o._routeData=i,o._identity=r,o._scope=u,o.all={},o}return __extends(t,n),t.computeStoreKey=function(n,t,i,r){return n.getActionUrl("list","favorites",$.extend({},r,{identityId:t,scope:i}))},t.createFavoriteStore=function(n,i,r,u,f){var e,o;return r===null&&(r=undefined),e=ut(n,i),o=t.computeStoreKey(n,r,u,e),new t(n,e,r,u,o,f)},t.beginGetFavoriteStore=function(n,r,u,f,e,o,s,h){var c,l;o?(c=t.createFavoriteStore(n,r,u,f,e),c.beginRefresh(function(){s(c)},h)):(l=t.computeStoreKey(n,u,f,ut(n,r)),i.queueRequest(this,rt,l,s,h,function(i,o){var s=t.createFavoriteStore(n,r,u,f,e);s.beginRefresh(function(){i(s)},o)}))},t.getFavoriteStore=function(n,i,r,u,f){return t.createFavoriteStore(n,i,r,u,f)},t.prototype.beginRefresh=function(n,t){var i,r=this;i=this._tfsContext.getActionUrl("list","favorites",this._routeData);o.getMSJSON(i,{identityId:this._identity,scope:this._scope},function(t){r._populateItems(t);$.isFunction(n)&&n.call(r)},t)},t.prototype.beginDeleteItems=function(n,t,i,r){var e=this,u,f;(r===null||r===undefined)&&(r=!0);n&&n.length&&(f=this._tfsContext.getActionUrl("delete","favorites",this._routeData),u=$.map(n,function(n){return n.id}),o.postMSJSON(f,{identityId:this._identity,scope:this._scope,favItemIds:u},function(){$.each(n,function(n,t){t.onDelete(r)});$.isFunction(t)&&t.call(e,n)},i))},t.prototype.beginUpdateItems=function(n,t,i){var r=this,u,f;n&&n.length&&(f=this._tfsContext.getActionUrl("update","favorites",this._routeData),u=$.map(n,function(n){return s.stringifyMSJSON({id:n.id,parentId:n.parentId===r.id?undefined:n.parentId,name:n.name,type:n.type,data:n.data})}),o.postMSJSON(f,{identityId:this._identity,scope:this._scope,favItemJsons:u},function(i){$.each(i,function(t,i){n[i.index].id=i.id});$.isFunction(t)&&t.call(r,n)},i))},t.prototype._populateItems=function(n){var t={},r,i,u,f=this;this.clear();n&&(n.sort(function(n,t){return h.localeIgnoreCaseComparer(n.name,t.name)}),$.each(n,function(n,i){var r;r=i.type?new p(f,i):new w(f,i);t[r.id]=r}));for(r in t)t.hasOwnProperty(r)&&(i=t[r],u=t[i.parentId],u?u.add(i,!0):this.add(i,!0));this.all=t},t.FAVORITE_STORE_SCOPE_FAVORITE_QUERIES="WorkItemTracking.Queries",t.FAVORITE_STORE_SCOPE_FAVORITE_BUILD_DEFINITIONS="Build.Definitions",t.FAVORITE_STORE_SCOPE_FAVORITE_PATHS="VersionControl.Paths",t}(w);t.FavoriteStore=ft;i.tfsModuleLoaded("TFS.ReleaseManagement.TfsOM.Common",t)});

define("MachineManagement/RestClient",["require","exports","MachineManagement/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function s(n){return window.VSS&&window.VSS.VssSDKRestVersion&&e[window.VSS.VssSDKRestVersion]?r.getClient(e[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(f,undefined,undefined,undefined,n)}var f,o,e;Object.defineProperty(t,"__esModule",{value:!0});f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getMachineConfiguration=function(n,t){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"50c4e238-51d9-4144-93cc-8a842315f95d",resource:"configuration",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}/{instanceName}",routeValues:{poolName:n,instanceName:t},apiVersion:"3.1-preview.1"})},t.prototype.publishNotification=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"mms",locationId:"b770d7eb-cb9e-4d55-af35-4ce10d01dc1c",resource:"events",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}",requestType:i.TypeInfo.MachinePoolEvent,routeValues:{poolName:t},apiVersion:"3.1-preview.1",data:n})},t.prototype.getPoolFriendlyImageNameList=function(){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"33e5d203-cc38-478b-a0a0-aad8d7cc04ed",resource:"images",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:"3.1-preview.1"})},t.prototype.registerMachineInstance=function(n,t,r,u,f,e,o){var s={imageName:u,imageVersion:f,provisioning:e,startProvisioning:o};return this._beginRequest({httpMethod:"POST",area:"mms",locationId:"80ed82a1-c9f1-41bf-95b6-8becc1a72b89",resource:"machineregistration",routeTemplate:"_apis/{area}/pools/{poolName}/machines/{instanceName}/{resource}",responseType:i.TypeInfo.MachineRegistrationResponseData,routeValues:{poolName:t,instanceName:r},queryParams:s,apiVersion:"3.1-preview.1",data:n})},t.prototype.updateMachineInstance=function(n,t,r,u,f,e,o,s){var h={state:u,enabled:f,imageName:e,imageVersion:o,provisioned:s};return this._beginRequest({httpMethod:"PATCH",area:"mms",locationId:"a67cc23a-6234-4f05-a75b-f08892603e86",resource:"machines",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}/{instanceName}",responseType:i.TypeInfo.MachineInstance,routeValues:{poolName:t,instanceName:r},queryParams:h,apiVersion:"3.1-preview.1",data:n})},t.prototype.deleteMessage=function(n,t,i,r,u){var f={queueName:i,accessToken:r,messageId:u};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"mms",locationId:"b53c80e3-c3eb-4224-9294-82e773974c5a",resource:"messages",routeTemplate:"_apis/{area}/{poolName}/{instanceName}/{resource}",routeValues:{poolName:n,instanceName:t},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.getMessage=function(n,t,i,r,u){var f={queueName:i,accessToken:r,lastMessageId:u};return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"b53c80e3-c3eb-4224-9294-82e773974c5a",resource:"messages",routeTemplate:"_apis/{area}/{poolName}/{instanceName}/{resource}",routeValues:{poolName:n,instanceName:t},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.getMachinePool=function(n,t){var i={propertyFilters:t};return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"11ee58b6-3140-4a8d-a6dd-3e5093db23db",resource:"pools",routeTemplate:"_apis/{area}/{resource}/{poolName}",routeValues:{poolName:n},queryParams:i,apiVersion:"3.1-preview.1"})},t.prototype.requestAction=function(n,t,r){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"mms",locationId:"dc8c72f1-74e2-4788-98b0-26117efc38eb",resource:"requestaction",routeTemplate:"_apis/{area}/pools/{poolName}/{resource}/{requestId}",requestType:i.TypeInfo.RequestStateData,routeValues:{poolName:t,requestId:r},apiVersion:"3.1-preview.1",data:n})},t.prototype.queueRequest=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"mms",locationId:"658f89f4-f19c-464c-85a4-7ea6669d78e5",resource:"requests",routeTemplate:"_apis/{area}/{resource}/{requestId}",requestType:i.TypeInfo.MachineRequest,apiVersion:"3.1-preview.1",data:n})},t.prototype.getResource=function(n,t){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"37016efb-bdea-4ddf-9684-19098d11ebd4",resource:"resources",routeTemplate:"_apis/{area}/{requestType}/{resource}/{version}",responseType:i.TypeInfo.MachineRequestResource,routeValues:{requestType:n,version:t},apiVersion:"3.1-preview.1"})},t.prototype.getResources=function(n){return this._beginRequest({httpMethod:"GET",area:"mms",locationId:"37016efb-bdea-4ddf-9684-19098d11ebd4",resource:"resources",routeTemplate:"_apis/{area}/{requestType}/{resource}/{version}",responseType:i.TypeInfo.MachineRequestResource,responseIsCollection:!0,routeValues:{requestType:n},apiVersion:"3.1-preview.1"})},t.serviceInstanceId="00000040-0000-8888-8000-000000000000",t}(u.VssHttpClient);t.MachineManagementHttpClient3_1=f;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(f);t.MachineManagementHttpClient=o;e={"3.1":f};t.getClient=s});

define("VSS/Operations/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;(function(n){n[n.NotSet=0]="NotSet";n[n.Queued=1]="Queued";n[n.InProgress=2]="InProgress";n[n.Cancelled=3]="Cancelled";n[n.Succeeded=4]="Succeeded";n[n.Failed=5]="Failed"})(i=t.OperationStatus||(t.OperationStatus={}));t.TypeInfo={Operation:{},OperationReference:{},OperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5}}};t.TypeInfo.Operation.fields={status:{enumType:t.TypeInfo.OperationStatus}};t.TypeInfo.OperationReference.fields={status:{enumType:t.TypeInfo.OperationStatus}}});

define("TFS/Core/RestClient",["require","exports","TFS/Core/Contracts","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e){"use strict";function ut(n){return window.VSS&&window.VSS.VssSDKRestVersion&&it[window.VSS.VssSDKRestVersion]?u.getClient(it[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(h,undefined,undefined,undefined,n)}var o,c,l,a,s,h,v,y,p,w,b,k,d,g,nt,tt,rt,it;Object.defineProperty(t,"__esModule",{value:!0});o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTeam=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:t,teamId:i},apiVersion:this.teamsApiVersion,data:n})},t.prototype.deleteTeam=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:this.teamsApiVersion})},t.prototype.createTeam=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:t},apiVersion:this.teamsApiVersion,data:n})},t.prototype.getProxies=function(n){var t={proxyUrl:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:t,apiVersion:this.proxiesApiVersion})},t.prototype.updateProject=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:r.TypeInfo.OperationReference,routeValues:{projectId:t},apiVersion:this.projectsApiVersion,data:n})},t.prototype.queueDeleteProject=function(n){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.OperationReference,routeValues:{projectId:n},apiVersion:this.projectsApiVersion})},t.prototype.queueCreateProject=function(n){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:i.TypeInfo.TeamProject,responseType:r.TypeInfo.OperationReference,apiVersion:this.projectsApiVersion,data:n})},t.prototype.getProjects=function(n,t,r,u,f){var e={stateFilter:n,$top:t,$skip:r,continuationToken:u,getDefaultTeamImageUrl:f};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:e,apiVersion:this.projectsApiVersion})},t.prototype.getProject=function(n,t,r){var u={includeCapabilities:t,includeHistory:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:i.TypeInfo.TeamProject,routeValues:{projectId:n},queryParams:u,apiVersion:this.projectsApiVersion})},t.prototype.getProjectCollections=function(n,t){var i={$top:n,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseIsCollection:!0,queryParams:i,apiVersion:this.projectCollectionsApiVersion})},t.prototype.getProjectCollection=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:i.TypeInfo.TeamProjectCollection,routeValues:{collectionId:n},apiVersion:this.projectCollectionsApiVersion})},t.prototype.getProcesses=function(){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,responseIsCollection:!0,apiVersion:this.processesApiVersion})},t.prototype.getProcessById=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"93878975-88c5-4e6a-8abb-7ddd77a8a7d8",resource:"processes",routeTemplate:"_apis/process/{resource}/{*processId}",responseType:i.TypeInfo.Process,routeValues:{processId:n},apiVersion:this.processesApiVersion})},t.prototype.updateIdentityMru=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion,data:n})},t.prototype.getIdentityMru=function(n){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseIsCollection:!0,routeValues:{mruName:n},apiVersion:this.identityMruApiVersion})},t.prototype.deleteIdentityMru=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion})},t.prototype.createIdentityMru=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",routeValues:{mruName:t},apiVersion:this.identityMruApiVersion,data:n})},t.prototype.getConnectedServices=function(n,t){var r={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:this.connectedServicesApiVersion})},t.prototype.getConnectedServiceDetails=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:i.TypeInfo.WebApiConnectedServiceDetails,routeValues:{projectId:n,name:t},apiVersion:this.connectedServicesApiVersion})},t.prototype.createConnectedService=function(n,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:i.TypeInfo.WebApiConnectedServiceDetails,responseType:i.TypeInfo.WebApiConnectedService,routeValues:{projectId:t},apiVersion:this.connectedServicesApiVersion,data:n})},t.serviceInstanceId=e.ServiceInstanceTypes.TFS,t}(f.VssHttpClient);t.CommonMethods2To5_1=o;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.deleteProxy=function(n,t){var i={proxyUrl:n,site:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",queryParams:i,apiVersion:this.proxiesApiVersion})},t.prototype.createOrUpdateProxy=function(n){return this._beginRequest({httpMethod:"PUT",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",apiVersion:this.proxiesApiVersion,data:n})},t}(o);t.CommonMethods3_1To5_1=c;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setProjectProperties=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"4976a71a-4487-49aa-8aab-a1eda469037a",resource:"properties",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.propertiesApiVersion,data:t})},t.prototype.getProjectProperties=function(n,t){var i={keys:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"4976a71a-4487-49aa-8aab-a1eda469037a",resource:"properties",routeTemplate:"_apis/projects/{projectId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:i,apiVersion:this.propertiesApiVersion})},t}(c);t.CommonMethods3_2To5_1=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getProjectHistoryEntries=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.ProjectInfo,responseIsCollection:!0,queryParams:t,apiVersion:this.projectHistoryApiVersion})},t}(l);t.CommonMethods4To5_1=a;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTeamMembersWithExtendedProperties=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:this.membersApiVersion})},t}(a);t.CommonMethods4_1To5_1=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="5.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="5.1-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="5.1-preview.2",r}return __extends(t,n),t.prototype.removeProjectAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"54b2a2a0-859b-4d05-827c-ec4c862f641a",resource:"avatar",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:n},apiVersion:"5.1-preview.1"})},t.prototype.setProjectAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"core",locationId:"54b2a2a0-859b-4d05-827c-ec4c862f641a",resource:"avatar",routeTemplate:"_apis/projects/{projectId}/{resource}",routeValues:{projectId:t},apiVersion:"5.1-preview.1",data:n})},t.prototype.getProjectsProperties=function(n,t){var i={projectIds:n&&n.join(","),properties:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"0a3ffdfc-fe94-47a6-bb27-79bf3f762eac",resource:"projectsproperties",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:"5.1-preview.1"})},t.prototype.getTeam=function(n,t,i){var r={$expandIdentity:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},queryParams:r,apiVersion:"5.1"})},t.prototype.getTeams=function(n,t,i,r,u){var f={$mine:t,$top:i,$skip:r,$expandIdentity:u};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:f,apiVersion:"5.1"})},t.prototype.getAllTeams=function(n,t,i,r){var u={$mine:n,$top:t,$skip:i,$expandIdentity:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:u,apiVersion:"5.1-preview.3"})},t}(s);t.CoreHttpClient5_1=h;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="5.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="5.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="5.0-preview.2",r}return __extends(t,n),t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"5.0"})},t.prototype.getTeams=function(n,t,i,r){var u={$mine:t,$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"5.0"})},t.prototype.getAllTeams=function(n,t,i){var r={$mine:n,$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:r,apiVersion:"5.0-preview.2"})},t}(s);t.CoreHttpClient5=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.membersApiVersion=r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="4.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="4.1-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="4.1-preview.2",r}return __extends(t,n),t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"4.1"})},t.prototype.getTeams=function(n,t,i,r){var u={$mine:t,$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:u,apiVersion:"4.1"})},t.prototype.getAllTeams=function(n,t,i){var r={$mine:n,$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"7a4d9ee9-3433-4347-b47a-7a80f1cf307e",resource:"teams",routeTemplate:"_apis/{resource}",responseIsCollection:!0,queryParams:r,apiVersion:"4.1-preview.2"})},t}(s);t.CoreHttpClient4_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="4.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="4.0-preview.1",r.projectHistoryApiVersion=r.proxiesApiVersion="4.0-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"4.0"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"4.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"4.0"})},t}(a);t.CoreHttpClient4=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.2",r.connectedServicesApiVersion=r.identityMruApiVersion=r.propertiesApiVersion="3.2-preview.1",r.proxiesApiVersion="3.2-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.2-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"3.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.2"})},t}(l);t.CoreHttpClient3_2=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.1",r.connectedServicesApiVersion=r.identityMruApiVersion="3.1-preview.1",r.proxiesApiVersion="3.1-preview.2",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.1-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"3.1"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.1"})},t}(c);t.CoreHttpClient3_1=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="3.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"3.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"3.0"})},t}(o);t.CoreHttpClient3=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.3",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.3-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.3"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.3"})},t}(o);t.CoreHttpClient2_3=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.2",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.2-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.2"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.2"})},t}(o);t.CoreHttpClient2_2=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.1",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.1-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.1"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.1"})},t}(o);t.CoreHttpClient2_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.processesApiVersion=r.projectCollectionsApiVersion=r.projectsApiVersion=r.teamsApiVersion="2.0",r.connectedServicesApiVersion=r.identityMruApiVersion=r.proxiesApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getTeamMembers=function(n,t,i,r){var u={$top:i,$skip:r};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseIsCollection:!0,routeValues:{projectId:n,teamId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getProjectHistory=function(n){var t={minRevision:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:i.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.2"})},t.prototype.getTeam=function(n,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",routeValues:{projectId:n,teamId:t},apiVersion:"2.0"})},t.prototype.getTeams=function(n,t,i){var r={$top:t,$skip:i};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseIsCollection:!0,routeValues:{projectId:n},queryParams:r,apiVersion:"2.0"})},t}(o);t.CoreHttpClient2=tt;rt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(h);t.CoreHttpClient=rt;it={"5.1":h,"5.0":v,"4.1":y,"4.0":p,"3.2":w,"3.1":b,"3.0":k,"2.3":d,"2.2":g,"2.1":nt,"2.0":tt};t.getClient=ut});

define("VSS/ExtensionManagement/RestClient",["require","exports","VSS/Contributions/Contracts","VSS/Gallery/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function it(n){return window.VSS&&window.VSS.VssSDKRestVersion&&nt[window.VSS.VssSDKRestVersion]?u.getClient(nt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(s,undefined,undefined,undefined,n)}var h,c,o,e,s,l,a,v,y,p,w,b,k,d,g,tt,nt;Object.defineProperty(t,"__esModule",{value:!0});h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getToken=function(){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"3a2e24ed-1d6f-4cb2-9f3b-45a96bbfaf50",resource:"Token",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.tokenApiVersion})},t.prototype.requestExtension=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"f5afca1e-a728-4294-aa2d-4af0173431b5",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/requests/me",responseType:i.TypeInfo.RequestedExtension,routeValues:{publisherName:n,extensionName:t},apiVersion:this.requestedExtensionsApiVersion,data:r})},t.prototype.deleteRequest=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"ExtensionManagement",locationId:"f5afca1e-a728-4294-aa2d-4af0173431b5",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/requests/me",routeValues:{publisherName:n,extensionName:t},apiVersion:this.requestedExtensionsApiVersion})},t.prototype.resolveAllRequests=function(n,t,i,r){var u={state:r};return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"ba93e1f3-511c-4364-8b9c-eb98818f2e0b",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}",routeValues:{publisherName:t,extensionName:i},queryParams:u,apiVersion:this.requestedExtensionsApiVersion_ba93e1f3,data:n})},t.prototype.getRequests=function(){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"216b978f-b164-424e-ada2-b77561e842b7",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.RequestedExtension,responseIsCollection:!0,apiVersion:this.requestedExtensionsApiVersion_216b978f})},t.prototype.resolveRequest=function(n,t,i,r,u){var f={state:u};return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"aa93e1f3-511c-4364-8b9c-eb98818f2e0b",resource:"RequestedExtensions",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/requests/{requesterId}",routeValues:{publisherName:t,extensionName:i,requesterId:r},queryParams:f,apiVersion:this.requestedExtensionsApiVersion_aa93e1f3,data:n})},t.prototype.updateInstalledExtension=function(n){return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"275424d0-c844-4fe2-bda6-04933a1357d8",resource:"InstalledExtensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",requestType:i.TypeInfo.InstalledExtension,responseType:i.TypeInfo.InstalledExtension,apiVersion:this.installedExtensionsApiVersion,data:n})},t.prototype.getInstalledExtensions=function(n,t,r,u){var f={includeDisabledExtensions:n,includeErrors:t,assetTypes:r&&r.join(":"),includeInstallationIssues:u};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"275424d0-c844-4fe2-bda6-04933a1357d8",resource:"InstalledExtensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,queryParams:f,apiVersion:this.installedExtensionsApiVersion})},t.serviceInstanceId="00000028-0000-8888-8000-000000000000",t}(f.VssHttpClient);t.CommonMethods2To5_1=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.uninstallExtensionByName=function(n,t,i,r){var u={reason:i,reasonCode:r};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"ExtensionManagement",locationId:"fb0da285-f23e-4b56-8b53-3ef5f9f6de66",resource:"InstalledExtensionsByName",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/{version}",routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedExtensionsByNameApiVersion})},t.prototype.installExtensionByName=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"fb0da285-f23e-4b56-8b53-3ef5f9f6de66",resource:"InstalledExtensionsByName",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/{version}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t,version:r},apiVersion:this.installedExtensionsByNameApiVersion})},t.prototype.getInstalledExtensionByName=function(n,t,r){var u={assetTypes:r&&r.join(":")};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"fb0da285-f23e-4b56-8b53-3ef5f9f6de66",resource:"InstalledExtensionsByName",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}/{version}",responseType:i.TypeInfo.InstalledExtension,routeValues:{publisherName:n,extensionName:t},queryParams:u,apiVersion:this.installedExtensionsByNameApiVersion})},t.prototype.queryExtensions=function(n){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"046c980f-1345-4ce2-bf85-b46d10ff4cfd",resource:"InstalledExtensionQuery",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.InstalledExtension,responseIsCollection:!0,apiVersion:this.installedExtensionQueryApiVersion,data:n})},t.prototype.getStates=function(n,t,r,u){var f={includeDisabled:n,includeErrors:t,includeInstallationIssues:r,forceRefresh:u};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"92755d3d-9a8a-42b3-8a4d-87359fe5aa93",resource:"ExtensionStates",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.ExtensionState,responseIsCollection:!0,queryParams:f,apiVersion:this.extensionStatesApiVersion})},t.prototype.updateDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"PATCH",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:t,extensionName:i,scopeType:r,scopeValue:u,collectionName:f},apiVersion:this.dataApiVersion,data:n})},t.prototype.setDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"PUT",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:t,extensionName:i,scopeType:r,scopeValue:u,collectionName:f},apiVersion:this.dataApiVersion,data:n})},t.prototype.getDocumentsByName=function(n,t,i,r,u){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",responseIsCollection:!0,routeValues:{publisherName:n,extensionName:t,scopeType:i,scopeValue:r,collectionName:u},apiVersion:this.dataApiVersion})},t.prototype.getDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:n,extensionName:t,scopeType:i,scopeValue:r,collectionName:u,documentId:f},apiVersion:this.dataApiVersion})},t.prototype.deleteDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:n,extensionName:t,scopeType:i,scopeValue:r,collectionName:u,documentId:f},apiVersion:this.dataApiVersion})},t.prototype.createDocumentByName=function(n,t,i,r,u,f){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"bbe06c18-1c8b-4fcd-b9c6-1535aaab8749",resource:"Data",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/Scopes/{scopeType}/{scopeValue}/Collections/{collectionName}/Documents/{documentId}",routeValues:{publisherName:t,extensionName:i,scopeType:r,scopeValue:u,collectionName:f},apiVersion:this.dataApiVersion,data:n})},t}(h);t.CommonMethods2_1To5_1=c;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getPolicies=function(n){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"e5cc8c09-407b-4867-8319-2ae3338cbf6f",resource:"Policies",routeTemplate:"_apis/{area}/{resource}/{userId}",responseType:r.TypeInfo.UserExtensionPolicy,routeValues:{userId:n},apiVersion:this.policiesApiVersion})},t.prototype.queryCollectionsByName=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"56c331f1-ce53-4318-adfd-4db5c52a7a2e",resource:"ExtensionDataCollectionQuery",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}",responseIsCollection:!0,routeValues:{publisherName:t,extensionName:i},apiVersion:this.extensionDataCollectionQueryApiVersion,data:n})},t}(c);t.CommonMethods2_2To5_1=o;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.registerAuthorization=function(n,t,i){return this._beginRequest({httpMethod:"PUT",area:"ExtensionManagement",locationId:"f21cfc80-d2d2-4248-98bb-7820c74c4606",resource:"Authorizations",routeTemplate:"_apis/{area}/InstalledExtensions/{publisherName}/{extensionName}/{resource}/{registrationId}",routeValues:{publisherName:n,extensionName:t,registrationId:i},apiVersion:this.authorizationsApiVersion})},t.prototype.requestAcquisition=function(n){return this._beginRequest({httpMethod:"POST",area:"ExtensionManagement",locationId:"da616457-eed3-4672-92d7-18d21f5c1658",resource:"AcquisitionRequests",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.ExtensionAcquisitionRequest,responseType:i.TypeInfo.ExtensionAcquisitionRequest,apiVersion:this.acquisitionRequestsApiVersion,data:n})},t.prototype.getAcquisitionOptions=function(n,t,r,u,f,e,o){var s={itemId:n,testCommerce:t,isFreeOrTrialInstall:r,isAccountOwner:u,isLinked:f,isConnectedServer:e,isBuyOperationValid:o};return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"288dff58-d13b-468e-9671-0fb754e9398c",resource:"AcquisitionOptions",routeTemplate:"_apis/{area}/{resource}",responseType:i.TypeInfo.AcquisitionOptions,queryParams:s,apiVersion:this.acquisitionOptionsApiVersion})},t}(o);t.CommonMethods3To5_1=e;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="5.1-preview.1",r}return __extends(t,n),t.prototype.getAuditLog=function(n,t){return this._beginRequest({httpMethod:"GET",area:"ExtensionManagement",locationId:"23a312e0-562d-42fb-a505-5a046b5635db",resource:"AuditLog",routeTemplate:"_apis/{area}/{resource}/{publisherName}/{extensionName}",responseType:i.TypeInfo.ExtensionAuditLog,routeValues:{publisherName:n,extensionName:t},apiVersion:"5.1-preview.1"})},t}(e);t.ExtensionManagementHttpClient5_1=s;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="5.0-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient5=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="4.1-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient4_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="4.0-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient4=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="3.2-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient3_2=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="3.1-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient3_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.acquisitionOptionsApiVersion=r.acquisitionRequestsApiVersion=r.authorizationsApiVersion=r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="3.0-preview.1",r}return __extends(t,n),t}(e);t.ExtensionManagementHttpClient3=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.3-preview.1",r}return __extends(t,n),t}(o);t.ExtensionManagementHttpClient2_3=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataApiVersion=r.extensionDataCollectionQueryApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.policiesApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.2-preview.1",r}return __extends(t,n),t}(o);t.ExtensionManagementHttpClient2_2=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.dataApiVersion=r.extensionStatesApiVersion=r.installedExtensionQueryApiVersion=r.installedExtensionsApiVersion=r.installedExtensionsByNameApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.1-preview.1",r}return __extends(t,n),t}(c);t.ExtensionManagementHttpClient2_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.installedExtensionsApiVersion=r.requestedExtensionsApiVersion=r.requestedExtensionsApiVersion_ba93e1f3=r.requestedExtensionsApiVersion_216b978f=r.requestedExtensionsApiVersion_aa93e1f3=r.tokenApiVersion="2.0-preview.1",r}return __extends(t,n),t}(h);t.ExtensionManagementHttpClient2=g;tt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(s);t.ExtensionManagementHttpClient=tt;nt={"5.1":s,"5.0":l,"4.1":a,"4.0":v,"3.2":y,"3.1":p,"3.0":w,"2.3":b,"2.2":k,"2.1":d,"2.0":g};t.getClient=it});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager",["require","exports","q","VSS/VSS","VSS/Service","VSS/Context","VSS/Performance","VSS/Contributions/LocalPageData","VSS/Common/Contracts/Platform","VSS/Utils/Array","VSS/Utils/String","VSS/WebApi/Constants","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Authentication/RestClient","VSS/Authentication/Services","VSS/Security/RestClient","VSS/Locations","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/ServiceEndpoints/ServiceEndpoint.Common","DistributedTasksCommon/ServiceEndpoints/VstsAadAuthorizer","DistributedTaskControls/Common/Utilities","TFS/DistributedTask/Contracts","TFS/DistributedTask/Contracts","DistributedTaskControls/Clients/TaskAgentRestClient","TFS/Build/Contracts","ReleasePipeline/Scripts/Clients/ReleaseClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Contracts","ReleaseManagement/Core/RestClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils","ReleasePipeline/Scripts/TFS.ReleaseManagement.TfsOM.Common","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleaseManagement/Core/Constants","MachineManagement/RestClient","TFS/Core/RestClient","VSS/ExtensionManagement/RestClient"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt){var gt,dt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr;Object.defineProperty(t,"__esModule",{value:!0});gt=function(){function n(n){this._connection=n}return n.prototype.getReleaseManagementClient=function(){return this._connection.getService(ft.ReleaseManagementService)},n.prototype.getAuthClient=function(){return this._connection.getHttpClient(y.AuthenticationHttpClient,lt.ReleaseHttpClient.serviceInstanceId)},n.prototype.getSecurityPermissionClient=function(){return this._connection.getService(et.SecurityPermissionsService)},n.prototype.getPerformanceScenarioManager=function(){return e.getScenarioManager()},n.prototype.getDistributedTaskService=function(){return this._connection.getService(et.DistributedTaskService)},n.prototype.getTaskHttpClientService=function(){return this._connection.getService(et.TaskHttpClientService)},n.prototype.getCollectionTaskAgentClient=function(){return et.DistributedTaskAgentClient.getCollectionTaskAgentClient()},n.prototype.getCollectionServiceEndpointClient=function(){return et.DistributedTaskAgentClient.getCollectionServiceEndpointClient()},n.prototype.getAtrifactTypeClient=function(){return new et.ArtifactTypesService(dt.releaseManagementClient)},n.prototype.getTestManagementClient=function(){return this._connection.getService(et.TestManagementService)},n.prototype.getWorkItemClient=function(){return this._connection.getService(et.WorkItemService)},n.prototype.getGitClient=function(){return this._connection.getService(et.GitService)},n.prototype.getBuildClient=function(){return this._connection.getService(et.BuildService)},n.prototype.getDashboardClient=function(){return this._connection.getService(et.DashboardService)},n.prototype.getVstsAadAuthorizeClient=function(){return this._connection.getService(g.VstsAadAuthorizer)},n.prototype.getTelemetryClient=function(){return new at.TelemetryService},n.prototype.getTaskDefinitions=function(n){return et.DistributedTaskAgentClient.getTaskDefinitionsPromise(n)},n.prototype.getMachineManagementClient=function(){return this._connection.getHttpClient(wt.MachineManagementHttpClient)},n.prototype.getExtensionManagementClient=function(){return u.getClient(kt.ExtensionManagementHttpClient)},n.prototype.getProjectManagementClient=function(){return this._connection.getHttpClient(bt.CoreHttpClient)},n}();t.DefaultClientFactory=gt;dt=function(){function n(t){n.webContext||(t?(n.webContext=t.webContext||f.getDefaultWebContext(),n.releaseManagementClient=t.releaseManagementClient):n.webContext=f.getDefaultWebContext());n.clientFactory||(n.tfsConnection=new u.VssConnection(n.webContext),n.clientFactory=new gt(n.tfsConnection));n.releaseManagementClient||(n.releaseManagementClient=n.clientFactory.getReleaseManagementClient())}return n}();t.BaseManager=dt;ni=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient()),i}return __extends(t,n),t.prototype.getVstsAadTenantId=function(){return this._distributedTaskClient.getVstsAadTenantId()},t.prototype.getDeploymentAuthInfo=function(n){var r=this,i=[],t={};return!!n&&ot.ArrayHelper.hasItems(n)&&(n.map(function(n){var i=r.GetTenantIdFromEndpoint(n);!i||(t[i]||(t[i]=[]),t[i].push(n.url))}),Object.keys(t).forEach(function(n){i.push({tenantId:n,resources:t[n],vstsAccessTokenKey:"",authorizationHeaderFor:ct.AuthorizationHeaderFor.OnBehalfOf,completeCallbackPayload:""})})),i},t.prototype.GetTenantIdFromEndpoint=function(n){var i=c.empty,t;return!n||!n.authorization||!n.authorization.parameters||(t=h.first(Object.keys(n.authorization.parameters),function(n){return c.ignoreCaseComparer(n,d.EndpointAuthorizationParameters.TenantId)===0}),!t||(i=n.authorization.parameters[t])),i},t.prototype.authenticateToAad=function(n,t){var f=this,r=i.defer(),u;return!!n&&ot.ArrayHelper.hasItems(n)?(u=[],n.forEach(function(n){u.push(f._authenticate(n,t))}),i.all(u).then(function(n){r.resolve(n)},function(n){r.reject(n)})):r.resolve([]),r.promise},t.prototype.getUniqueSubscriptionNames=function(n){var t=[];return ot.ArrayHelper.hasItems(n)&&n.map(function(n){!n.data||!n.data.subscriptionName||t.push(n.data.subscriptionName)}),t},t.prototype._authenticate=function(n,t){var o=f.getDefaultWebContext(),r=i.defer(),y=o.collection.uri,h=o.project.id,u=y+h+"/_admin/_services/completecallback",l=c.empty,e=tt.AadLoginPromptOption.FreshLogin,a,v;return ot.FeatureFlagUtils.isDistributedTaskRevalidateIdentityFeatureEnabled()&&(e=tt.AadLoginPromptOption.FreshLoginWithMfa),n.authorizationHeaderFor===ct.AuthorizationHeaderFor.RevalidateApproverIdentity&&(a=b.urlHelper.getMvcUrl({serviceInstanceId:lt.ReleaseHttpClient.serviceInstanceId,level:s.NavigationContextLevels.Project,area:"release",action:"AadOauthCallback"}),u=a+"?tenantId="+n.tenantId+"&projectId="+h+"&authorizationFor="+n.authorizationHeaderFor,ot.FeatureFlagUtils.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled()&&(l=b.urlHelper.getMvcUrl({serviceInstanceId:lt.ReleaseHttpClient.serviceInstanceId,level:s.NavigationContextLevels.Project,area:"release",action:"GetReleaseApprovalOAuthUrl",queryParams:{tenantId:n.tenantId,redirectUri:u,promptOption:""+e,completeCallbackPayload:t,completeCallbackByAuthCode:""+ot.FeatureFlagUtils.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled()}}))),v=dt.clientFactory.getVstsAadAuthorizeClient(),v.authorize(n.tenantId,u,e,t,ot.FeatureFlagUtils.isCompleteAadOAuthCallbackByAuthCodeFeatureEnabled(),l).then(function(t){n.vstsAccessTokenKey=t;r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype._queryServiceEndpointInUse=function(n,t,i){var r=[],u=t.filter(function(n){return n.enabled});return u.forEach(function(t){var u=n.TryResolveTaskReference(t.taskId),f;!u||(f=u.inputs.filter(function(n){return c.caseInsensitiveContains(n.type,"connectedservice:")}).map(function(n){return n.name}),f.forEach(function(n){var f=t.inputs[n],u,e,o;!f||(u=c.empty,e=nt.DtcUtils.getProcParamNameFromProcessParameter(f),u=i&&e?nt.DtcUtils.resolveProcessParameterEndpoint(i,e):f,u&&(o=h.first(r,function(n){return c.ignoreCaseComparer(n,u)===0}),o||r.push(u)))}))}),r},t.prototype._getTaskDefinitions=function(){return dt.clientFactory.getTaskDefinitions(!1)},t}(dt);t.DeploymentAuthorizationManager=ni;ti=function(){function n(n){var t=this;this._taskMap={};n.forEach(function(n){t._taskMap[n.id]||(t._taskMap[n.id]=[]);t._taskMap[n.id].push(n)})}return n.prototype.TryResolveTaskReference=function(n){return this._taskMap[n]&&this._taskMap[n].length>0?this._taskMap[n][0]:null},n}();t.TaskDefinitionResolver=ti;ii=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._isHosted=f.getPageContext().webAccessConfiguration.isHosted,r._isHosted&&(r._authTokenManager=p.getAuthTokenManager(t._liveLogsTokenProviderKey)),r}return __extends(t,n),t.prototype.getLiveLogsAuthToken=function(){var n=i.defer();return this._isHosted?this._authTokenManager.getAuthToken(!1,f.getDefaultWebContext()).then(function(t){n.resolve(t.token)},function(t){n.reject(t)}):n.resolve(""),n.promise},t._liveLogsTokenProviderKey="RM.LiveLogs.2",t}(dt);t.ReleaseManagementAuthorizationManager=ii;ri=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return t.securityPermissionClient||(t.securityPermissionClient=dt.clientFactory.getSecurityPermissionClient()),r._permissionSet=st.SecurityOptions.getOptions().permissionSet,r}return __extends(t,n),t.prototype.getPermissionSet=function(){return this._permissionSet},t.prototype.getPermissionsBatch=function(n){var r;if(!n||!n.evaluations||n.evaluations.length===0)return i.resolve([]);if(r=f.getPageContext().webAccessConfiguration.isHosted,!r)return t._getPermissionsBatch(n,t._getSecurityClient(l.ServiceInstanceTypes.TFS));var u=t._extractPermissionsBatch(n,function(n){if(t._isRMPermissionEvaluation(n))return n}),e=t._extractPermissionsBatch(n,function(n){if(!t._isRMPermissionEvaluation(n))return n}),o=t._getPermissionsBatch(u,t._getSecurityClient(ht.CommonSecurityConstants.ReleaseManagementServiceInstanceId)),s=t._getPermissionsBatch(e,t._getSecurityClient(l.ServiceInstanceTypes.TFS));return i.spread([o,s],function(n,t){return n.concat(t)})},t.prototype.hasUIPermission=function(n){var s=f.getPageContext().webAccessConfiguration.isHosted,r=ht.CommonSecurityConstants.ReleaseManagementUISecurityNamespaceId,u=ht.CommonSecurityConstants.ReleaseManagementUIPermissionToken,e=t._getPermissionsFromSharedData(r,u),o;return e!==undefined?i.resolve((e&n)!=0):(o=s?t._getSecurityClient(ht.CommonSecurityConstants.ReleaseManagementServiceInstanceId):t._getSecurityClient(l.ServiceInstanceTypes.TFS),o.hasPermissions(r,n,u).then(function(n){return n&&n.length>0?n[0]:!1}))},t.prototype.hasPermission=function(n,r){var o,u,f,s,e;return this._permissionSet?(t._readInitialPageData(),o=dt.webContext.project.id,n&&(o+="/"+n),u=t._getTokenKey(n,o,r),t._cachedPermissions.hasOwnProperty(u)?i.resolve(t._cachedPermissions[u]):(f=i.defer(),t._tokenToListPromisesMap.hasOwnProperty(u))?(s=t._tokenToListPromisesMap[u],s.then(function(){t._cachedPermissions.hasOwnProperty(u)&&f.resolve(t._cachedPermissions[u])}),f.promise):(t._tokenToPromisesMap.hasOwnProperty(u)?e=t._tokenToPromisesMap[u]:(e=t.securityPermissionClient.hasPermission(o,this._permissionSet,r),t._tokenToPromisesMap[u]=e),e?e.then(function(n){t._cachedPermissions[u]=n;f.resolve(n)},function(n){f.reject(n)}):f.resolve(!1),f.promise)):i.resolve(!0)},t.prototype.listPermissions=function(n,r){var f,s;if(!this._permissionSet)return i.resolve($.map(n,function(){return!0}));t._readInitialPageData();var h={},e=[],u=[],o=dt.webContext.project.id;return n.forEach(function(n,i){var f=t._getTokenKey(n,o,r);t._cachedPermissions.hasOwnProperty(f)||(u.push(n),h[n]=i)}),ot.ArrayHelper.hasItems(u)?(s=u.map(function(n){return o+"/"+n}),f=t.securityPermissionClient.listPermissions(s,this._permissionSet,r)):f=i.resolve([]),f=f.then(function(i){return n.forEach(function(n,f){var s=t._getTokenKey(n,o,r);t._cachedPermissions.hasOwnProperty(s)?e[f]=t._cachedPermissions[s]:(e[f]=i[u.indexOf(n)],t._cachedPermissions[s]=e[f])}),e}),ot.ArrayHelper.hasItems(u)&&u.forEach(function(n){var i=t._getTokenKey(n,o,r);t._tokenToListPromisesMap[i]=f}),f},t._constructBatchTokenString=function(n){var i="";return n.forEach(function(n,r){r>0&&(i+=t._defaultDelimiter);i+=n}),i},t._getTokenKey=function(n,t,i){return c.format("{0}/{1}",n?n.toLowerCase():t.toLowerCase(),i.toString().toLowerCase())},t._readInitialPageData=function(){if(!!et.initialServiceData&&!!et.initialServiceData.releasePermissionsCache)for(var n in et.initialServiceData.releasePermissionsCache)t._cachedPermissions[n]=et.initialServiceData.releasePermissionsCache[n]},t._getSecurityClient=function(n){var t=f.getDefaultWebContext(),i=new u.VssConnection(t);return i.getHttpClient(w.SecurityHttpClient,n)},t._getPermissionsBatch=function(n,t){return n&&n.evaluations&&n.evaluations.length>0?t.hasPermissionsBatch(n).then(function(n){return n.evaluations}):i.resolve([])},t._extractPermissionsBatch=function(n,t){if(!n||!n.evaluations||n.evaluations.length===0)return null;var i=n.evaluations.filter(t);return!i||i.length===0?null:{alwaysAllowAdministrators:!0,evaluations:i}},t._isRMPermissionEvaluation=function(n){return c.ignoreCaseComparer(n.securityNamespaceId,ht.CommonSecurityConstants.ReleaseManagementSecurityNamespaceId)==0||c.ignoreCaseComparer(n.securityNamespaceId,ht.CommonSecurityConstants.ReleaseManagementUISecurityNamespaceId)==0},t._getPermissionsFromSharedData=function(n,t){var r=o.getSharedData("_permissions"),i;return!r||!n?undefined:(n=n.toLowerCase(),i=r[n],!i)?undefined:i[t]},t._defaultDelimiter=",",t._cachedPermissions={},t._tokenToListPromisesMap={},t._tokenToPromisesMap={},t}(dt);t.PermissionsManager=ri;ui=function(n){function t(){var i=n.call(this)||this;return t._scenarioManager||(t._scenarioManager=dt.clientFactory.getPerformanceScenarioManager(),a.getService().attachEvent(v.HubEventNames.PostXHRNavigate,function(){t._isPageInteractiveScenarioStarted=!1;t._extraNavSplits=[];t._isXhrHubSwitch=!0})),i}return __extends(t,n),t.prototype.startScenario=function(n,i){var r=t._scenarioManager.getScenarios(ht.PerfScenariosConstants.Area,n);return r&&r.length>0&&this.abortScenario(n),t._scenarioManager.startScenario(ht.PerfScenariosConstants.Area,n,i)},t.prototype.startScenarioFromNavigation=function(n){return t._scenarioManager.startScenarioFromNavigation(ht.PerfScenariosConstants.Area,n)},t.prototype.startPageInteractiveScenarioFromNavigation=function(n){return t._isPageInteractiveScenarioStarted?null:(t._isPageInteractiveScenarioStarted=!0,t._scenarioManager.startScenarioFromNavigation(ht.PerfScenariosConstants.Area,n,!0))},t.prototype.endScenario=function(n){var s=t._scenarioManager.getScenarios(ht.PerfScenariosConstants.Area,n),i=h.first(s,function(n){return n.isPageInteractive()}),r,e,u,o;!i||(f.getPageContext().diagnostics.bundlingEnabled&&window&&window.performance&&window.performance.getEntriesByType&&(r=[],e=window.performance.getEntriesByType("resource"),e.forEach(function(n){var i=t._doesResourceNameContainEmailId(n.name);!i&&n.duration>t._resourceDurationLimit&&r.push({name:n.name,startTime:n.startTime,requestEnd:n.responseStart,responseEnd:n.responseEnd,duration:n.duration})}),ot.ArrayHelper.hasItems(r)&&i.addData({resourceTimings:JSON.stringify(r),isXHR:t._isXhrHubSwitch})),ot.ArrayHelper.hasItems(t._extraNavSplits)&&(u=i.getSplitTimings(),o=i.getStartTime(),u.unshift.apply(u,t._extraNavSplits.map(function(n){return n.timestamp-=o,n}))));t._scenarioManager.endScenario(ht.PerfScenariosConstants.Area,n)},t.prototype.abortScenario=function(n){t._scenarioManager.abortScenario(ht.PerfScenariosConstants.Area,n)},t.prototype.split=function(n){return t._scenarioManager.split(n)},t.recordNavigationSplit=function(n){if(t._scenarioManager&&t._isPageInteractiveScenarioStarted)t._scenarioManager.split(n);else{var i=Date.now();t._extraNavSplits.push({name:n,timestamp:i})}},t.blockInteractiveScenarios=function(){t._isPageInteractiveScenarioStarted=!0},t._doesResourceNameContainEmailId=function(n){return n&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)?!0:!1},t._isXhrHubSwitch=!1,t._extraNavSplits=[],t._resourceDurationLimit=200,t._isPageInteractiveScenarioStarted=!1,t}(dt);t.CustomerIntelligence=ui;fi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getTaskDefinitions=function(n){return dt.clientFactory.getTaskDefinitions(n)},t.prototype.getCollectionTaskAgentClient=function(){return dt.clientFactory.getCollectionTaskAgentClient()},t.prototype.getQueuedPlanGroups=function(n,t){return dt.clientFactory.getDistributedTaskService().getQueuedPlanGroups(n,t)},t.prototype.getQueuedPlanGroup=function(n){return dt.clientFactory.getDistributedTaskService().getQueuedPlanGroup(n)},t.prototype.getPlanGroupsQueueMetrics=function(){return dt.clientFactory.getDistributedTaskService().getPlanGroupsQueueMetrics()},t.prototype.getTimelines=function(n,t){return dt.clientFactory.getDistributedTaskService().beginGetTimelines(n,t)},t.prototype.getTimelineRecords=function(n,t,i){return dt.clientFactory.getDistributedTaskService().beginGetTimelineRecords(n,t,i)},t}(dt);t.DistributedTasksManager=fi;ei=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getQueuedPlanGroups=function(n,t){return dt.clientFactory.getTaskHttpClientService().getQueuedPlanGroups(n,t)},t}(dt);t.TaskHttpClientManager=ei;oi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getSummaryMailSections=function(n){var t=i.defer(),r=dt.releaseManagementClient.beginGetSummaryMailSections(n);return r.then(function(n){ot.ArrayHelper.hasItems(n)&&n.sort(function(n,t){return n.rank-t.rank});t.resolve(n)},function(n){t.reject(n)}),t.promise},t.prototype.sendSummaryMail=function(n,t){return dt.releaseManagementClient.beginSendSummaryMail(n,t)},t}(dt);t.SummaryMailManager=oi;si=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return!t||(i.distributedTaskClient=t.distributedTaskClient),i.distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i}return __extends(t,n),t.prototype.getTaskDefinitions=function(n){return n===void 0&&(n=!1),(!this._taskDefinitionsPromise||n)&&this._initializeTaskDefinitionPromise(n),this._taskDefinitionsPromise},t.prototype.getTaskDefinition=function(n,t,i){var r=this,u;return i===void 0&&(i=!1),(!this._taskDefinitionMapPromise||i)&&(u=this.getTaskDefinitions(i),this._taskDefinitionMapPromise=u.then(function(n){var t={};return $.each(n,function(n,i){var e=r._getTaskDefinitionKey(i.id,k.getVersionSpec(i.version)),u,f;t[e]=i;i.version.isTest||(u=r._getTaskDefinitionKey(i.id,i.version.major+".*"),t[u]=i,f=r._getTaskDefinitionKey(i.id,k.LatestVersionSpec),t[f]=i)}),t})),this._taskDefinitionMapPromise.then(function(i){var u=r._getTaskDefinitionKey(n,t||k.LatestVersionSpec);return i[u]})},t.prototype._initializeTaskDefinitionPromise=function(n){n===void 0&&(n=!1);this._taskDefinitionsPromise=dt.clientFactory.getTaskDefinitions(n)},t.prototype._getTaskDefinitionKey=function(n,t){return n.toLowerCase()+":"+t},t.prototype.getReleaseDefinitions=function(n,t,r){var u,f;return!!et.initialServiceData&&!!et.initialServiceData.releaseDefinitionsCache?(et.initialServiceData.releaseDefinitionsCache.forEach(function(n){st.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments)}),u=i.resolve(et.initialServiceData.releaseDefinitionsCache),et.initialServiceData.releaseDefinitionsCache=null,u):(f=dt.releaseManagementClient.beginGetReleaseDefinitions(null,n,null,null,null,st.PropertySelectorUtils.convertToQueryParam(t),r),f.then(function(n){return n.definitions}))},t.prototype.getReleaseDefinitionsForArtifactSource=function(n,t,i,r){var u;return u=r?dt.releaseManagementClient.beginGetReleaseDefinitionsForArtifactSource(n,t,i,r):dt.releaseManagementClient.beginGetReleaseDefinitionsForArtifactSource(n,t,i),u.then(function(n){return n.forEach(function(n){st.EnvironmentDefinitionHelper.sortEnvironmentsByRank(n.environments)}),n})},t.prototype.getProjects=function(n,t){return dt.releaseManagementClient.beginGetProjects(n,t)},t.prototype.create=function(n){return dt.releaseManagementClient.beginCreateReleaseDefinition(n)},t.prototype.save=function(n){return dt.releaseManagementClient.beginSaveReleaseDefinition(n)},t.prototype.deleteReleaseDefinition=function(n,t,i){return dt.releaseManagementClient.beginDeleteReleaseDefinition(n,t,i)},t.prototype.listEnvironmentTemplates=function(){return dt.releaseManagementClient.beginListEnvironmentTemplates()},t.prototype.getEnvironmentTemplate=function(n){return dt.releaseManagementClient.beginGetEnvironmentTemplate(n)},t.prototype.saveEnvironmentTemplate=function(n){return dt.releaseManagementClient.beginSaveEnvironmentTemplate(n)},t.prototype.deleteEnvironmentTemplate=function(n){return dt.releaseManagementClient.beginDeleteEnvironmentTemplate(n)},t.prototype.getReleaseDefinition=function(n,t){return t?dt.releaseManagementClient.beginGetReleaseDefinition(n,t):dt.releaseManagementClient.beginGetReleaseDefinition(n)},t.prototype.getReleaseDefinitionHistory=function(n){return dt.releaseManagementClient.beginGetReleaseDefinitionHistory(n)},t.prototype.getReleaseDefinitionRevision=function(n,t){return dt.releaseManagementClient.beginGetReleaseDefinitionRevision(n,t)},t.prototype.getReleaseDefinitionSummary=function(n,t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=null),dt.releaseManagementClient.beginGetReleaseDefinitionSummary(n,t,i,r)},t.prototype.getTaskAgentPool=function(n){return n===void 0&&(n=!1),(!this._agentPoolViewModel||n)&&(this._agentPoolViewModel=this.distributedTaskClient.getAgentPools()),this._agentPoolViewModel},t.prototype.beginGetReleaseSettings=function(){return this._releaseSettingsPromise||(this._releaseSettingsPromise=dt.releaseManagementClient.beginGetReleaseSettings()),this._releaseSettingsPromise},t.prototype.beginUpdateReleaseSettings=function(n){return dt.releaseManagementClient.beginUpdateReleaseSettings(n)},t.prototype.beginGetDefinitionEnvironments=function(n){return dt.releaseManagementClient.beginGetDefinitionEnvironments(n)},t}(dt);t.ReleaseDefinitionManager=si;hi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetReleasesWithContinuationToken=function(n,t,r,u,f,e,o,s,c,l,a,v,y,p,w){var b,k;if(!!et.initialServiceData&&!!et.initialServiceData.releasesCache)if(b=h.first(et.initialServiceData.releasesCache,function(t){return n!==t.releaseDefinition.id}),b&&n!==ht.AllReleaseDefinitionId)et.initialServiceData.releasesCache=null,et.initialServiceData.cachedContinuationToken=null;else return k=i.resolve({releases:et.initialServiceData.releasesCache,continuationToken:et.initialServiceData.cachedContinuationToken}),et.initialServiceData.releasesCache=null,et.initialServiceData.cachedContinuationToken=null,k;return dt.releaseManagementClient.beginGetReleasesWithContinuationToken(n,t,r,u,f,e,o,s,c,l,a,v,st.PropertySelectorUtils.convertToQueryParam(y),p,w)},t.prototype.create=function(n,t){return t?dt.releaseManagementClient.beginCreateRelease(n,t):dt.releaseManagementClient.beginCreateRelease(n)},t.prototype.getReleaseHistory=function(n){return dt.releaseManagementClient.beginGetReleaseHistory(n)},t.prototype.getReleaseRevision=function(n,t){return dt.releaseManagementClient.beginGetReleaseRevision(n,t)},t.prototype.beginGetRelease=function(n,t){var r,u,f;return(t===void 0&&(t=!1),!!et.initialServiceData&&!!et.initialServiceData.releaseSummaryCache&&et.initialServiceData.releaseSummaryCache.id===n)?(r=i.resolve(et.initialServiceData.releaseSummaryCache),et.initialServiceData.releaseSummaryCache=null,r):(u=t?ct.ApprovalFilters.All:ct.ApprovalFilters.ManualApprovals|ct.ApprovalFilters.AutomatedApprovals,f=["DownloadBuildArtifactsUsingTask, ReleaseCreationSource"],dt.releaseManagementClient.beginGetRelease(n,u,f))},t.prototype.beginGetReleaseEnvironment=function(n,t){return dt.releaseManagementClient.beginGetReleaseEnvironment(n,t)},t.prototype.beginCancelReleaseEnvironment=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironment(n,t,ct.EnvironmentStatus.Canceled,i)},t.prototype.beginRetryReleaseEnvironment=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironment(n,t,ct.EnvironmentStatus.InProgress,i)},t.prototype.beginDeployReleaseEnvironment=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironment(n,t,ct.EnvironmentStatus.InProgress,i)},t.prototype.getReleasesForArtifact=function(n,t,i,r){return dt.releaseManagementClient.beginGetReleasesForArtifact(n,t,i,r)},t.prototype.getIssues=function(n,t,i){return dt.releaseManagementClient.beginGetIssues(n,t,i)},t.prototype.getAutoTriggerIssues=function(n,t,i,r){return dt.releaseManagementClient.beginGetAutoTriggerIssues(n,t,i,r)},t.prototype.beginSetReleaseEnvironmentScheduledDeploymentTime=function(n,t,i){return dt.releaseManagementClient.beginPatchReleaseEnvironmentScheduledDeploymentTime(n,t,i)},t.prototype.beginGetReleaseWorkItems=function(n,t,i){return dt.releaseManagementClient.beginGetReleaseWorkItems(n,t,i)},t.prototype.beginGetReleaseChangesForCurrentRelease=function(n,t){return dt.releaseManagementClient.beginGetReleaseChanges(n,0,t)},t.prototype.beginGetReleaseChanges=function(n,t,i){return dt.releaseManagementClient.beginGetReleaseChanges(n,t,i)},t.prototype.beginUpdateRelease=function(n){return dt.releaseManagementClient.beginUpdateRelease(n)},t.prototype.beginPatchRelease=function(n,t){var r=i.defer();return dt.releaseManagementClient.beginPatchRelease(n,t,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype.getReleaseTasks=function(n,t,i){return dt.releaseManagementClient.beginGetTasks(n,t,i)},t.prototype.getReleaseTasks2=function(n,t,i,r){return dt.releaseManagementClient.beginGetTasks2(n,t,i,r)},t.prototype.deleteRelease=function(n,t){return dt.releaseManagementClient.beginDeleteRelease(n,t)},t.prototype.undeleteRelease=function(n,t){return dt.releaseManagementClient.beginUndeleteRelease(n,t)},t.prototype.downloadLog=function(n){return ot.FeatureFlagUtils.enableNewRouteForLogApis()?this.downloadLogNew(n):this.downloadLogOld(n)},t.prototype.downloadLogOld=function(n){var i=t._extractIdsFromLink(n);return dt.releaseManagementClient.beginDownloadLog(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3]))},t.prototype.downloadLogNew=function(n){var i=n.split("/");return dt.releaseManagementClient.beginDownloadLog2(t._extractInt(i,"releases"),t._extractInt(i,"environments"),t._extractInt(i,"attempts"),t._extractString(i,"timelines"),t._extractInt(i,"tasks"))},t.prototype.getTasks=function(n){return ot.FeatureFlagUtils.enableNewRouteForLogApis()?this.getTasksNew(n):this.getTasksOld(n)},t.prototype.getTasksOld=function(n){var i=t._extractIdsFromLink(n);return dt.releaseManagementClient.beginGetTasks(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]))},t.prototype.getTasksNew=function(n){var i=n.split("/");return dt.releaseManagementClient.beginGetTasks2(t._extractInt(i,"releases"),t._extractInt(i,"environments"),t._extractInt(i,"attempts"),t._extractString(i,"timelines"))},t.prototype.beginGetSourceBranches=function(n){return dt.releaseManagementClient.beginGetSourceBranches(n)},t._extractInt=function(n,t){var i=n.findIndex(function(n){return t.toLowerCase()===n.toLowerCase()})+1;return parseInt(n[i])},t._extractIdsFromLink=function(n){var t=n.match(/(releases\/\d+\/environments\/\d+\/deployPhases\/\d+\/tasks\/\d+\/logs)/gi)[0];return t.match(/\d+/g)},t._extractString=function(n,t){var i=n.findIndex(function(n){return t.toLowerCase()===n.toLowerCase()})+1;return n[i]},t.prototype._getTaskDefinitionPromise=function(n){return n===void 0&&(n=!1),dt.clientFactory.getTaskDefinitions(n)},t}(dt);t.ReleaseManager=hi;ci=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginDeploymentsOnEnvironments=function(n){return dt.releaseManagementClient.beginDeploymentsOnEnvironments(n)},t.prototype.beginGetDeploymentsWithContinuationToken=function(n,t,r,u,f,e,o,s){var c,l;if(!!et.initialServiceData&&!!et.initialServiceData.deploymentsCache)if(c=h.first(et.initialServiceData.deploymentsCache,function(t){return n!==t.releaseDefinition.id}),c&&n!==ht.AllReleaseDefinitionId)et.initialServiceData.deploymentsCache=null,et.initialServiceData.cachedDeploymentsContinuationToken=null;else return l=i.resolve({deployments:et.initialServiceData.deploymentsCache,continuationToken:et.initialServiceData.cachedDeploymentsContinuationToken}),et.initialServiceData.deploymentsCache=null,et.initialServiceData.cachedDeploymentsContinuationToken=null,l;return dt.releaseManagementClient.beginGetDeploymentsWithContinuationToken(n,t,r,u,f,e,o,s)},t}(dt);t.DeploymentsManager=ci;li=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getDefinitionArtifactVersions=function(n){return dt.releaseManagementClient.beginGetDefinitionArtifactsVersion(n)},t.prototype.getArtifactVersions=function(n){return dt.releaseManagementClient.beginGetArtifactsVersion(n)},t.prototype.getArtifactVersionDetails=function(n){var r=i.defer(),t={},u,f;for(u in n.definitionReference)t[u]=n.definitionReference[u].id;return n.definitionReference[pt.ArtifactDefinitionConstants.ProjectId]||(t[pt.ArtifactDefinitionConstants.ProjectId]=dt.webContext.project.id),t[ht.ArtifactDefaultVersionConstants.DefaultVersionType]=ht.ArtifactDefaultVersionConstants.SpecificVersion,f={currentValues:t,inputValues:[{inputId:ht.ArtifactDefaultVersionConstants.DefaultVersionSpecific}],resource:n.type},dt.releaseManagementClient.beginPostInputValuesQuery(f).then(function(n){var i={},u,t;!!n&&ot.ArrayHelper.hasItems(n.inputValues)&&(u=n.inputValues[0],!!u&&ot.ArrayHelper.hasItems(u.possibleValues)&&(t=u.possibleValues[0],!t||!t.data||(i.sourceBranch=t.data[pt.BuildVersionConstants.SourceBranchKey],i.sourceVersion=t.data[pt.BuildVersionConstants.SourceVersionKey],i.sourceRepositoryId=t.data[pt.BuildVersionConstants.RepositoryIdKey],i.sourceRepositoryType=t.data[pt.BuildVersionConstants.RepositoryTypeKey])));r.resolve(i)},function(n){r.reject(n)}),r.promise},t}(dt);t.ArtifactsVersionManager=li;ai=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginPatchApproval=function(n,t){return dt.releaseManagementClient.beginPatchApproval(n,t)},t.prototype.beginPatchApprovals=function(n){return dt.releaseManagementClient.beginPatchApprovals(n)},t.prototype.beginGetReleaseApprovals=function(n,t,i){return dt.releaseManagementClient.beginGetReleaseApprovals(n,t,i)},t.prototype.beginGetReleaseApproval=function(n,t){return dt.releaseManagementClient.beginGetReleaseApproval(n,t)},t}(dt);t.ReleaseApprovalManager=ai;vi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetManualIntervention=function(n,t){return dt.releaseManagementClient.beginGetManualIntervention(n,t)},t.prototype.beginGetManualInterventions=function(n){return dt.releaseManagementClient.beginGetManualInterventions(n)},t.prototype.beginUpdateManualIntervention=function(n,t,i){return dt.releaseManagementClient.beginUpdateManualIntervention(n,i,t)},t}(dt);t.ManualInterventionManager=vi;yi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetArtifactTypes=function(){return dt.clientFactory.getAtrifactTypeClient().getArtifactTypes()},t.prototype.beginGetArtifactsVersions=function(n){return dt.releaseManagementClient.beginGetDefinitionArtifactsVersion(n)},t}(dt);t.ArtifactDefinitionManager=yi;pi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginGetBranches=function(n,t,i){var r={},u;return r[pt.ArtifactDefinitionConstants.ProjectId]=n,r[ht.ArtifactDefaultVersionConstants.DefaultVersionType]=ht.ArtifactDefaultVersionConstants.LatestFromBranch,r[pt.ArtifactDefinitionConstants.DefinitionId]=t,u={currentValues:r,inputValues:[{inputId:ht.ArtifactDefaultVersionConstants.DefaultVersionBranch}],resource:i},dt.releaseManagementClient.beginPostInputValuesQuery(u)},t}(dt);t.BranchesManager=pi;wi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._artifactsModel||(i._artifactsModel=dt.clientFactory.getAtrifactTypeClient()),i}return __extends(t,n),t.prototype.beginGetBuildArtifacts=function(n,t,i,r,u,f){var e={},o;return e[pt.ArtifactDefinitionConstants.ProjectId]=f,e[pt.ArtifactDefinitionConstants.ConnectionId]=u,e[pt.ArtifactDefinitionConstants.DefinitionId]=n,e[pt.ArtifactDefinitionConstants.MultipleDefinitionsId]=t,e[pt.ArtifactDefinitionConstants.IsMultiDefinitionType]=r,o={currentValues:e,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactId}],resource:i},this._artifactsModel.queryInputValues(o)},t.prototype.beginGetCustomArtifacts=function(n,t,i){var r=!i?{}:i,u;return r[pt.ArtifactDefinitionConstants.ItemPath]=t,u={currentValues:r,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactId}],resource:n},this._artifactsModel.queryInputValues(u)},t.prototype.beginGetCustomArtifactItems=function(n,t,i){var r=!i?{}:i,u;return r[pt.ArtifactDefinitionConstants.ItemPath]=t,u={currentValues:r,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactItems}],resource:n},this._artifactsModel.queryInputValues(u)},t.prototype.beginGetCustomArtifactItemContent=function(n,t,i){var r=!i?{}:i,u;return r[pt.ArtifactDefinitionConstants.ItemPath]=t,u={currentValues:r,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactItemContent}],resource:n},this._artifactsModel.queryInputValues(u)},t.prototype.beginGetArtifactItems=function(n,t,i,r,u,f,e){var o={},s;return o[pt.ArtifactDefinitionConstants.DefinitionId]=n,o[pt.ArtifactDefinitionConstants.ItemPath]=r,o[pt.ArtifactDefinitionConstants.ConnectionId]=f,o[pt.ArtifactDefinitionConstants.ProjectId]=e,o[pt.ArtifactDefinitionConstants.MultipleDefinitionsId]=t,o[pt.ArtifactDefinitionConstants.IsMultiDefinitionType]=i,s={currentValues:o,inputValues:[{inputId:pt.ArtifactDefinitionConstants.ArtifactItems}],resource:u},this._artifactsModel.queryInputValues(s)},t}(dt);t.ArtifactItemsManager=wi;bi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._testManagementClient||(i._testManagementClient=dt.clientFactory.getTestManagementClient()),i}return __extends(t,n),t.prototype.getTestResultDetailsForRelease=function(n,t,i,r,u){return this._testManagementClient.getTestResultDetailsForRelease(n,t,i,r,u)},t.prototype.queryTestResultsSummaryForReleases=function(n){return this._testManagementClient.queryTestResultsSummaryForReleases(n)},t}(dt);t.TestResultsManager=bi;ki=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._workItemsClient||(i._workItemsClient=dt.clientFactory.getWorkItemClient()),i}return __extends(t,n),t.prototype.beginGetWorkItemsDetails=function(n,t){return this._workItemsClient.beginGetWorkItems(n,t)},t.prototype.beginGetWorkItemIconsAndColors=function(){return this._workItemsClient.beginGetWorkItemIcons()},t}(dt);t.WorkItemsDetailsManager=ki;di=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._buildClient||(i._buildClient=dt.clientFactory.getBuildClient()),i}return __extends(t,n),t.prototype.beginGetBuildDefinition=function(n,t,i){return this._buildClient.beginGetBuildDefinition(n,t,i)},t.prototype.beginGetBuildDefinitions=function(n,t,i){return this._buildClient.beginGetBuildDefinitions(n,t,i)},t.prototype.beginGetBuildDefinitions_2_3=function(n,t,i){return this._buildClient.beginGetBuildDefinitions_2_3(n,t,i)},t.prototype.beginGetBuildDefinitionsWithFilters=function(n,t){return this._buildClient.beginGetBuildDefinitionsWithFilters(n,t)},t.prototype.beginGetBuild=function(n,t){return this._buildClient.beginGetBuild(n,t)},t.prototype.beginGetBuilds=function(n,t,i,r,u,f,e){return this._buildClient.beginGetBuilds(n,t,i,ut.DefinitionType.Build,u,f,e)},t.prototype.beginGetBuildCommits=function(n,t){return this._buildClient.beginGetBuildCommits(n,t)},t.prototype.beginGetProjectTags=function(n){return this._buildClient.beginGetProjectTags(n)},t.prototype.beginGetBuildsById=function(n,t){return this._buildClient.beginGetBuildsById(n,t)},t}(dt);t.BuildManager=di;gi=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._gitClient||(i._gitClient=dt.clientFactory.getGitClient()),i}return __extends(t,n),t.prototype.getBranchNames=function(n){return this._gitClient.getBranchNames(n)},t.prototype.getMyBranchNames=function(n){return this._gitClient.getMyBranchNames(n)},t}(dt);t.GitManager=gi;nr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._dashboardClient||(i._dashboardClient=dt.clientFactory.getDashboardClient()),i}return __extends(t,n),t.prototype.beginGetDashboardGroup=function(n,t){return this._dashboardClient.getDashboardGroup(n,t)},t.prototype.createWidget=function(n,t,i,r){return this._dashboardClient.createWidget(n,t,i,r)},t}(dt);t.DashboardManager=nr;tr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i._poolDistributedTaskClient=f.getPageContext().webAccessConfiguration.isHosted?i._distributedTaskClient:u.getApplicationClient(rt.TaskAgentRestClient)),i}return __extends(t,n),t.prototype.beginGetAgentPool=function(n,t){var u=this,r;return t===void 0&&(t=it.TaskAgentPoolType.Automation),r=i.defer(),this.beginGetAgentPools(!1,t).then(function(i){var f=u._getPoolDetailsIfPresent(n,i);f?r.resolve(f):u.beginGetAgentPools(!0,t).then(function(t){var i=u._getPoolDetailsIfPresent(n,t);i?r.resolve(i):r.reject(c.localeFormat(yt.NoAgentPoolFound,n))})},function(n){r.reject(n)}),r.promise},t.prototype.beginGetDeploymentPool=function(n){return this._distributedTaskClient.getAgentPool(n)},t.prototype.beginGetDeploymentPools=function(){return this._distributedTaskClient.getAgentPools(null,null,it.TaskAgentPoolType.Deployment)},t.prototype.beginDeleteAgentPool=function(n){var r=this,t=i.defer();return this._poolDistributedTaskClient.deleteAgentPool(n).then(function(){r.invalidateCache();t.resolve(undefined)},function(n){t.reject(n)}),t.promise},t.prototype.beginGetAgentPools=function(n,t){return n===void 0&&(n=!1),t===void 0&&(t=it.TaskAgentPoolType.Automation),this._agentPoolsPromise&&this._isCacheValid&&!n||(this._agentPoolsPromise=this._distributedTaskClient.getAgentPools(null,null,t),this._isCacheValid=!0),this._agentPoolsPromise},t.prototype.beginGetDeploymentAgentPoolsWithActionFilter=function(n,t){return this._distributedTaskClient.getAgentPools(t,null,it.TaskAgentPoolType.Deployment,n)},t.prototype.beginGetAgentRequestsForAgent=function(n,t,i){return this._distributedTaskClient.getAgentRequestsForAgent(n,t,i)},t.prototype.invalidateCache=function(){this._isCacheValid=!1},t.prototype.beginGetAgents=function(n,t,i,r,u,f,e){return this._distributedTaskClient.getAgents(n,t,i,r,u,f,e)},t.prototype.beginGetAgent=function(n,t,i,r,u,f){return this._distributedTaskClient.getAgent(n,t,i,r,u,f)},t.prototype.beginGetAgentRequestsForAgents=function(n,t,i){return this._distributedTaskClient.getAgentRequestsForAgents(n,t,i)},t.prototype.beginAddAgentPool=function(n){return this._distributedTaskClient.addAgentPool(n)},t.prototype.beginCreatePersonalAccessTokenForDeploymentPool=function(n){return this._distributedTaskClient.generateDeploymentPoolAccessToken(n)},t.prototype.beginGetDeploymentPoolSummary=function(n,t){return t===void 0&&(t=it.DeploymentPoolSummaryExpands.None),this._distributedTaskClient.getDeploymentPoolsSummary(n,t)},t.prototype.beginUpdateAgentPool=function(n){return this._distributedTaskClient.updateAgentPool(n,n.id)},t.prototype.beginUpgradeAgents=function(n){return this._distributedTaskClient.refreshAgents(n)},t.prototype.beginDeleteAgent=function(n,t){return this._distributedTaskClient.deleteAgent(n,t)},t.prototype.beginUpdateAgent=function(n,t,i){return this._distributedTaskClient.updateAgent(n,t,i)},t.prototype._getPoolDetailsIfPresent=function(n,t){return ot.ArrayHelper.hasItems(t)?h.first(t,function(t){return t.id===n}):null},t}(dt);t.AgentPoolManager=tr;ir=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient()),i._machineManagementClient||(i._machineManagementClient=dt.clientFactory.getMachineManagementClient()),i}return __extends(t,n),t.prototype.beginGetQueue=function(n){var t=i.defer(),r;return r=this._getQueueDetailsIfPresent(n,this._cachedQueuesDataWithUsageFilter),r?t.resolve(r):this._tryGetQueueFromAllQueuesCache(n,t),t.promise},t.prototype.beginCreateQueue=function(n){return this._distributedTaskClient.addAgentQueue(n)},t.prototype.beginGetQueues=function(n,t){var r=this,i;return n===void 0&&(n=null),t===void 0&&(t=!1),this._agentQueuesPromiseWithUsageFilter&&this._isUsageFilteredDataCacheValid&&!t||(i=n?n:dt.webContext.project.id,this._agentQueuesPromiseWithUsageFilter=this._distributedTaskClient.getAgentQueues(i,null,it.TaskAgentQueueActionFilter.Use),this._agentQueuesPromiseWithUsageFilter.then(function(n){r._cachedQueuesDataWithUsageFilter=n}),this._isUsageFilteredDataCacheValid=!0),this._agentQueuesPromiseWithUsageFilter},t.prototype.beginGetAgents=function(n,t,i,r,u,f,e){return this._agentsPromise=this._distributedTaskClient.getAgents(n,t,i,r,u,f,e),this._agentsPromise},t.prototype.beginDeleteQueue=function(n){return this._distributedTaskClient.deleteAgentQueue(n)},t.prototype.invalidateCache=function(){this._isUsageFilteredDataCacheValid=!1;this._isAllAgentQueuesDataCacheValid=!1;this._cachedQueuesDataWithUsageFilter=null},t.prototype.getHostedImageNames=function(){return ot.FeatureFlagUtils.isHostedImageSelectionEnabled()?this._machineManagementClient.getPoolFriendlyImageNameList():i.resolve([])},t.prototype._fetchAllQueues=function(n){return n===void 0&&(n=!1),this._agentQueuesPromise&&this._isAllAgentQueuesDataCacheValid&&!n||(this._agentQueuesPromise=this._distributedTaskClient.getAgentQueues(dt.webContext.project.id),this._isAllAgentQueuesDataCacheValid=!0),this._agentQueuesPromise},t.prototype._getQueueDetailsIfPresent=function(n,t){return ot.ArrayHelper.hasItems(t)?h.first(t,function(t){return t.id===n}):null},t.prototype._tryGetQueueFromAllQueuesCache=function(n,t){var i=this;this._fetchAllQueues().then(function(r){var u=i._getQueueDetailsIfPresent(n,r);u?t.resolve(u):i._fetchAllQueues(!0).then(function(r){u=i._getQueueDetailsIfPresent(n,r);u?t.resolve(u):t.reject(c.localeFormat(yt.NoAgentQueueFound,n))})},function(n){t.reject(n)})},t}(dt);t.QueueManager=ir;rr=function(n){function t(i){var r=__construct(this,n,[i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return t._telemetryService||(t._telemetryService=dt.clientFactory.getTelemetryClient()),r}return __extends(t,n),t.prototype.publishEvent=function(n,i,r){t._telemetryService.publishEvent(n,i,r)},t.prototype.publishEvents=function(n,i){t._telemetryService.publishEvents(n,i)},t}(dt);t.TelemetryServiceManager=rr;ur=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.areBasicLicenseReleaseManagementFeaturesEnabled=function(){return t._getAvailabilityofFeature(vt.LicenseFeatureIds.ReleaseManagement)},t.isBuildFeatureEnabled=function(){return vt.FeatureLicenseService.isFeatureActive(vt.LicenseFeatureIds.Build)},t._getAvailabilityofFeature=function(n){return vt.FeatureLicenseService.isFeatureActive(n)},t}(dt);t.FeaturesManager=ur;fr=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i}return __extends(t,n),t.prototype.beginGetTaskGroups=function(n,t){var r,u;return(t===void 0&&(t=!0),t&&!n&&!!et.initialServiceData&&!!et.initialServiceData.taskDefinitionsCache&&ot.ArrayHelper.hasItems(et.initialServiceData.taskDefinitionsCache))?(r=i.resolve(et.initialServiceData.taskDefinitionsCache.filter(function(n){return n.definitionType==="metaTask"})),h.removeWhere(et.initialServiceData.taskDefinitionsCache,function(n){return n.definitionType==="metaTask"}),r):(u=dt.webContext.project.id,this._distributedTaskClient.getTaskGroups(u,null,null,n))},t.prototype.beginGetTaskGroup=function(n,t){t===void 0&&(t=!1);var r=i.defer(),u=dt.webContext.project.id;return this._distributedTaskClient.getTaskGroups(u,n,t).then(function(n){r.resolve(n[0])},function(n){r.reject(n)}),r.promise},t.prototype.beginAddTaskGroup=function(n){var t=dt.webContext.project.id,i=st.TaskGroupHelper.ToTaskGroupCreateParameter(n);return this._distributedTaskClient.addTaskGroup(i,t)},t.prototype.beginUpdateTaskGroup=function(n){var i=dt.webContext.project.id,t=st.TaskGroupHelper.ToTaskGroupUpdateParameter(n);return this._distributedTaskClient.updateTaskGroup(t,i,t.id)},t.prototype.beginPublishTaskGroup=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.publishTaskGroup(n,i,t)},t.prototype.beginPublishPreviewTaskGroup=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.publishPreviewTaskGroup(n,r,t,i)},t.prototype.beginDeleteTaskGroup=function(n){var t=dt.webContext.project.id;return this._distributedTaskClient.deleteTaskGroup(t,n)},t.prototype.beginGetTaskGroupHistory=function(n){var t=dt.webContext.project.id;return this._distributedTaskClient.getTaskGroupHistory(t,n)},t.prototype.beginGetTaskGroupRevision=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.getTaskGroupRevision(i,n,t)},t}(dt);t.TaskGroupManager=fr;er=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient||(i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient()),i}return __extends(t,n),t.prototype.beginGetDeploymentTargets=function(n,t,i,r,u,f,e,o,s,h){var c=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentTargetsWithContinuationToken(c,n,t,i,r,u,f,e,o,s,h)},t.prototype.beginGetDeploymentTarget=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentTarget(r,n,t,i)},t.prototype.beginUpdateTargets=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.updateDeploymentTargets(t,i,n)},t.prototype.beginGetDeploymentGroups=function(n,t,i,r,u,f){var e=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroupsWithContinuationToken(e,n,t,i,r,u,f)},t.prototype.beginGetAllDeploymentGroups=function(){return this._machineGroupsPromise(!0,[])},t.prototype.beginGetMachineGroups=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroups(i,n,it.DeploymentGroupActionFilter.None,t)},t.prototype.beginGetDeploymentGroupsMetrics=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroupsMetricsWithContinuationToken(r,n,t,i)},t.prototype.beginGetMachineGroup=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getDeploymentGroup(r,n,t,i)},t.prototype.beginAddMachineGroup=function(n,t){var i=!t?dt.webContext.project.id:t;return this._distributedTaskClient.addDeploymentGroup(n,i)},t.prototype.beginUpdateMachineGroup=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.updateDeploymentGroup(t,i,n)},t.prototype.beginDeleteMachineGroup=function(n,t){var i=!t?dt.webContext.project.id:t;return this._distributedTaskClient.deleteDeploymentGroup(i,n)},t.prototype.beginGetAgentRequestsForDeploymentTarget=function(n,t,i){var r=dt.webContext.project.id;return this._distributedTaskClient.getAgentRequestsForDeploymentTarget(r,n,t,i)},t.prototype.beginUpgradeMachines=function(n){var t=i.defer(),r=dt.webContext.project.id;return this._distributedTaskClient.refreshDeploymentMachines(r,n).then(function(){t.resolve(undefined)},function(n){t.reject(n)}),t.promise},t.prototype.beginUpgradeTargets=function(n){var t=i.defer(),r=dt.webContext.project.id;return this._distributedTaskClient.refreshDeploymentTargets(r,n).then(function(){t.resolve(undefined)},function(n){t.reject(n)}),t.promise},t.prototype.beginDeleteTarget=function(n,t){var i=dt.webContext.project.id;return this._distributedTaskClient.deleteDeploymentTarget(i,n,t)},t.prototype.beginCreatePersonalAccessTokenForMachineGroup=function(n){var t=dt.webContext.project.id;return this._distributedTaskClient.generateDeploymentGroupAccessToken(t,n)},t.prototype._machineGroupsPromise=function(n,t,r){var f=this,u;return!n&&!r?i.resolve(t):(u=this.beginGetDeploymentGroups(null,null,it.DeploymentGroupExpands.None,r),u.then(function(n){return t.push.apply(t,n.deploymentGroups),f._machineGroupsPromise(!1,t,n.continuationToken)}))},t}(dt);t.MachineGroupManager=er;or=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._distributedTaskClient=dt.clientFactory.getCollectionTaskAgentClient(),i}return __extends(t,n),t.prototype.beginGetHubLicenseDetails=function(){return this._licenseDetailsPromise||(this._licenseDetailsPromise=this._distributedTaskClient.getTaskHubLicenseDetails(ht.WebApiConstants.Area)),this._licenseDetailsPromise},t.prototype.beginUpdateHubLicenseDetails=function(n){return this._licenseDetailsPromise=null,this._distributedTaskClient.updateTaskHubLicenseDetails(n,ht.WebApiConstants.Area)},t}(dt);t.HubLicenseManager=or;sr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetVariableGroups=function(n,t,i){return dt.clientFactory.getCollectionTaskAgentClient().getVariableGroups(n,t,i)},t.prototype.beginGetVariableGroupsByIds=function(n,t){return dt.clientFactory.getCollectionTaskAgentClient().getVariableGroupsById(n,t)},t}(dt);t.VariableGroupManager=sr;hr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._extnDataPromises={},t}return __extends(t,n),t.prototype.beginGetExtensionData=function(n,t){var i=c.format("{0}.{1}",n.toLowerCase(),t.toLowerCase());return this._extnDataPromises.hasOwnProperty(i)||(this._extnDataPromises[i]=dt.clientFactory.getExtensionManagementClient().getInstalledExtensionByName(n,t)),this._extnDataPromises[i]},t}(dt);t.ExtensionDataManager=hr;cr=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getProjects=function(n,t,i,r){return dt.clientFactory.getProjectManagementClient().getProjects(n,t,i,r)},t}(dt);t.ProjectManager=cr;r.tfsModuleLoaded("TFS.ReleaseManagement.Manager",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Context",["require","exports","VSS/VSS","VSS/Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});f=function(){function n(){}return n.prototype.webContext=function(){return this._webContext||(this._webContext=r.getDefaultWebContext()),this._webContext},n.prototype.releaseDefinitionManager=function(){return this._releaseDefinitionManager||(this._releaseDefinitionManager=new u.ReleaseDefinitionManager),this._releaseDefinitionManager},n.prototype.releaseManager=function(){return this._releaseManager||(this._releaseManager=new u.ReleaseManager),this._releaseManager},n.prototype.releaseApprovalManager=function(){return this._releaseApprovalManager||(this._releaseApprovalManager=new u.ReleaseApprovalManager),this._releaseApprovalManager},n.prototype.manualInterventionManager=function(){return this._manualInterventionManager||(this._manualInterventionManager=new u.ManualInterventionManager),this._manualInterventionManager},n.prototype.artifactsVersionManager=function(){return this._artifactsVersionManager||(this._artifactsVersionManager=new u.ArtifactsVersionManager),this._artifactsVersionManager},n.prototype.artifactsDefinitionManager=function(){return this._artifactsDefinitionManager||(this._artifactsDefinitionManager=new u.ArtifactDefinitionManager),this._artifactsDefinitionManager},n.prototype.testPlanManager=function(){return this._testPlanManager||(this._testPlanManager=new u.TestResultsManager),this._testPlanManager},n.prototype.workItemsManager=function(){return this._workItemsManager||(this._workItemsManager=new u.WorkItemsDetailsManager),this._workItemsManager},n.prototype.buildManager=function(){return this._buildManager||(this._buildManager=new u.BuildManager),this._buildManager},n.prototype.dashboardManager=function(){return this._dashboardManager||(this._dashboardManager=new u.DashboardManager),this._dashboardManager},n.prototype.permissionManager=function(){return this._permisionManager||(this._permisionManager=new u.PermissionsManager),this._permisionManager},n.prototype.customerIntelligence=function(){return this._customerIntelligence||(this._customerIntelligence=new u.CustomerIntelligence),this._customerIntelligence},n.prototype.queueManager=function(){return this._queueManager||(this._queueManager=new u.QueueManager),this._queueManager},n.prototype.agentPoolManager=function(){return this._agentPoolManager||(this._agentPoolManager=new u.AgentPoolManager),this._agentPoolManager},n.prototype.artifactItemsManager=function(){return this._artifactItemsManager||(this._artifactItemsManager=new u.ArtifactItemsManager),this._artifactItemsManager},n.prototype.branchesManager=function(){return this._branchesManager||(this._branchesManager=new u.BranchesManager),this._branchesManager},n.prototype.telemetryServiceManager=function(){return this._telemetryServiceManager||(this._telemetryServiceManager=new u.TelemetryServiceManager),this._telemetryServiceManager},n.prototype.authorizationManager=function(){return this._authorizationManager||(this._authorizationManager=new u.ReleaseManagementAuthorizationManager),this._authorizationManager},n.prototype.summaryMailManager=function(){return this._summaryMailManager||(this._summaryMailManager=new u.SummaryMailManager),this._summaryMailManager},n.prototype.taskGroupManager=function(){return this._taskGroupManager||(this._taskGroupManager=new u.TaskGroupManager),this._taskGroupManager},n.prototype.gitManager=function(){return this._gitManager||(this._gitManager=new u.GitManager),this._gitManager},n.prototype.deploymentManager=function(){return this._deploymentManager||(this._deploymentManager=new u.DeploymentsManager),this._deploymentManager},n.prototype.deploymentAuthorizationManager=function(){return this._deploymentAuthorizationManager||(this._deploymentAuthorizationManager=new u.DeploymentAuthorizationManager),this._deploymentAuthorizationManager},n.prototype.distributedTasksManager=function(){return this._distributedTaskManager||(this._distributedTaskManager=new u.DistributedTasksManager),this._distributedTaskManager},n.prototype.taskHttpClientManager=function(){return this._taskHttpClientManager||(this._taskHttpClientManager=new u.TaskHttpClientManager),this._taskHttpClientManager},n.prototype.hubLicenseManager=function(){return this._hubLicenseManager||(this._hubLicenseManager=new u.HubLicenseManager),this._hubLicenseManager},n.prototype.machineGroupManager=function(){return this._machineGroupManager||(this._machineGroupManager=new u.MachineGroupManager),this._machineGroupManager},n.prototype.variableGroupManager=function(){return this._variableGroupManager||(this._variableGroupManager=new u.VariableGroupManager),this._variableGroupManager},n.prototype.extensionDataManager=function(){return this._extensionDataManager||(this._extensionDataManager=new u.ExtensionDataManager),this._extensionDataManager},n.prototype.projectManager=function(){return this._projectManager||(this._projectManager=new u.ProjectManager),this._projectManager},n}();t.ServiceContext=f;e=function(){function n(){this._tabIdToTabContentMap={}}return n.prototype.registerForTabSelection=function(n,t){this._tabIdToTabContentMap[n]||(this._tabIdToTabContentMap[n]=[]);this._tabIdToTabContentMap[n].push(t)},n.prototype.selectTab=function(n){var t=this._tabIdToTabContentMap[n];t&&t.forEach(function(n){n.onTabSelected.valueHasMutated()})},n}();t.TabSelectionNotifier=e;t.serviceContext=new f;t.tabSelectionNotifier=new e;i.tfsModuleLoaded("TFS.ReleaseManagement.Context",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.DemandsValidator",["require","exports","q","VSS/Utils/Array","VSS/Utils/String","TFS/DistributedTask/Contracts","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context"],function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function n(t,i){this._distributedTaskClient=t;this._taskDefinitionsPromise=i;n._queueManager||(n._queueManager=h.serviceContext.queueManager())}return n.prototype.validate=function(t){var s=this,f=$.Deferred(),i="",o=[];return t.forEach(function(n){o.push(s.validateEnvironment(n))}),$.when.apply($,o).then(function(){var t=$.map(arguments,function(n){return n}),o;t&&(o=r.first(t,function(n){return n!==u.empty}),o&&(i=e.IssueWithReleaseProblem+n._lineSeparator,t.forEach(function(t){t&&(i+=t+n._lineSeparator)}),i+=e.ContinueWithReleasePrompt));i=u.htmlEncode(i);f.resolve(i)}).fail(function(t){f.reject(e.IssueWithReleaseProblem+n._lineSeparator+t)}),f.promise()},n.prototype.validateEnvironment=function(t,r,c){var a=this,v=$.Deferred(),y=[],p=s.DeployPhaseHelper.getAgentBasedDeployPhases(t.deployPhases),l;return!p||(p.forEach(function(t){var l=i.defer(),p=$.Deferred(),v=$.Deferred(),w=r||s.DeployPhaseHelper.getQueueIdOfAgentBasedDeployPhases([t]);n._queueManager.beginGetQueue(w).then(function(n){n?(p.resolve(n.pool.id),v.resolve(n.name)):(l.reject(u.localeFormat(e.QueueCannotBeFound,t.name)),v.resolve(""))},function(n){l.reject(o.ErrorHelper.getErrorMessage(n));v.resolve("")});i.all([a._taskDefinitionsPromise,p,v]).spread(function(n,i,r){var o=c,s;o||(o=a._getDemands(t,n));o=a._removeVaraibleDemand(o);o?(s=h.serviceContext.agentPoolManager().beginGetAgentPool(i),s.then(function(n){var s=a._distributedTaskClient.getAgents(i,null,!1,!1,!1,null,o);s.then(function(i){i.length>0?i.some(function(t){return n.isHosted||t.status===f.TaskAgentStatus.Online&&t.enabled?!0:!1})?l.resolve(""):l.reject(u.localeFormat(e.AgentOfflineOrDisabled,t.name)):l.reject(u.localeFormat(e.DemandsNotMetForDeployPhase,t.name,r,o.join(", ")))},function(){l.resolve("")})},function(){l.resolve("")})):l.resolve("")},function(){l.resolve("")});y.push(l.promise)}),l=new u.StringBuilder(""),i.allSettled(y).then(function(i){var r=u.empty;i.forEach(function(n){n.state==="rejected"&&(l.append(n.reason),l.appendNewLine())});l.toLocaleString()!==u.empty&&(r=n.generateWarningMessageForEnvironment(t.name,l.toLocaleString()));v.resolve(r)})),v.promise()},n.prototype._getDemands=function(n,t){var e=this;this._taskIdToTaskDefinitionMap||(this._taskIdToTaskDefinitionMap=this._buildTaskDefinitionMap(t));var u=s.WorkFlowHelper.getTasks(n.workflowTasks),i=r.clone(s.DeployPhaseHelper.getDemandsOfAgentBasedDeployPhases([n])),f=[];return u&&(u.forEach(function(n){var t,u;n.enabled&&(t=e._taskIdToTaskDefinitionMap[n.task.id],t&&(t.demands&&t.demands.length>0&&(u=t.demands.filter(function(n){return!r.contains(f,n.toLowerCase())}),r.addRange(i,u)),t.satisfies&&t.satisfies.length>0&&r.addRange(f,t.satisfies.map(function(n){return n.toLowerCase()}))))}),i=r.unique(i)),i},n.prototype._buildTaskDefinitionMap=function(n){var t={};return n.forEach(function(n){t[n.id]=n}),t},n.prototype._removeVaraibleDemand=function(t){var i=r.clone(t);return i?i.filter(function(t){return!n.containsVaraible(t)}):i},n.containsVaraible=function(n){var t=new RegExp("\\$\\(.*?\\)");return t.test(n)},n.generateWarningMessageForEnvironment=function(n,t){return u.localeFormat(e.DemandsNotMetForEnvironment,n)+u.newLine+t},n.getDemandsValidator=function(){if(n._queueManager||(n._queueManager=h.serviceContext.queueManager()),!n._singleton){var t=h.serviceContext.distributedTasksManager().getTaskDefinitions(!1),i=h.serviceContext.distributedTasksManager().getCollectionTaskAgentClient();n._singleton=new n(i,t)}return n._singleton},n._lineSeparator="\n\n",n}();t.DemandsValidator=c});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog",["require","exports","VSS/VSS","VSS/Utils/String","VSS/SDK/Shim","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","jQueryUI/button","VSS/SDK/VSS.SDK"],function(n,t,i,r,u,f,e,o,s){var h,c;Object.defineProperty(t,"__esModule",{value:!0});h=function(){function n(){}return n.showDialog=function(n){u.VSS.getService("ms.vss-web.dialog-service").then(function(t){var i={width:800,height:650,title:n.title,resizable:!0,modal:!0,cssClass:"admin-dialog external-admin-dialog external-dialog",cancelText:f.Cancel},r=$.extend({style:"minControl"},n.params);t.openDialog("ms.vss-admin-web.security-control",i,r)})},n}();t.ExternalSecurityDialog=h;c=function(){function n(){}return n.CreateSecurityMenuItem=function(t){return{id:e.MenuCommands.PROJECT_SECURITY,text:f.SecurityToolBarMenu,setTitleOnlyOnOverflow:!0,disabled:t.disabled,icon:"bowtie-icon bowtie-security",showText:!0,action:function(){n.showSecurityDialog(t)}}},n.showSecurityDialog=function(t){if(!!t.releaseDefinitionId&&t.releaseDefinitionId>0&&!!t.addFolderPathToToken){var i=o.serviceContext.releaseDefinitionManager().getReleaseDefinition(t.releaseDefinitionId,t.projectId);i.then(function(i){var r=n.createFolderPathSecurityToken(i.path),u=t.projectId+(r?"/"+r:"");n.launchSecurityDialog(u,t)},function(n){s.currentContext.logError(n)})}else n.launchSecurityDialog(t.projectId,t)},n.launchSecurityDialog=function(n,t){var i=n+(t.token?"/"+t.token:""),u={useApiUrl:!0,permissionSet:t.permissionSet,token:i,tokenDisplayValue:t.resource};h.showDialog({params:u,title:r.localeFormat(f.PermissionsForText,t.resourceName)})},n.CreateDefinitionSecurityToken=function(t,i){return n.isRootPath(t)?i.toString():n.createFolderPathSecurityToken(t)+n._securityTokenSeparator+i},n.CreateEnvironmentSecurityToken=function(t,i,u){return r.format(n._environmentSecurityTokenFormat,n.CreateDefinitionSecurityToken(t,i),u)},n.createFolderPathSecurityToken=function(t){if(n.isRootPath(t))return r.empty;var i=r.startsWith(t,n._pathSeparator,r.ignoreCaseComparer)?t.substring(1):t;return i.split(n._pathSeparator).join(n._securityTokenSeparator)},n.isRootPath=function(t){return t?r.equals(t,n._pathSeparator,!0)?!0:!1:!0},n._pathSeparator="\\",n._securityTokenSeparator="/",n._environmentSecurityTokenFormat="{0}/Environment/{1}",n}();t.SecurityHelper=c;i.tfsModuleLoaded("TFS.ReleaseManagement.SecurityDialog",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Model",["require","exports","q","VSS/VSS","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Array","VSS/Service","VSS/Context","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/Clients/ReleaseClient","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","ReleasePipeline/Scripts/TFS.ReleaseManagement.SecurityDialog","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function ri(){st.resolve(!0)}var nt,it,ht,ct,g,lt,at,vt,et,rt,yt,pt,d,kt,ot,dt,gt,st;Object.defineProperty(t,"__esModule",{value:!0});nt=function(){function n(n){this._releaseManagementService=n?n:k.BaseManager.releaseManagementClient||o.getCollectionService(c.ReleaseManagementService)}return n.prototype._getReleaseManagementService=function(){return this._releaseManagementService},n}();t.ReleaseManagementModelBase=nt;it=function(){function n(n){this._releaseManagementService=n?n:o.getCollectionService(c.ReleaseManagementService)}return n.prototype._getReleaseManagementService=function(){return this._releaseManagementService},n}();t.DeploymentModelBase=it;ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetAllReleaseDefinitions=function(){return n.prototype._getReleaseManagementService.call(this).beginGetReleaseDefinitions().then(function(n){return n.definitions})},t.prototype.beginGetReleaseDefinition=function(n){return this._getReleaseManagementService().beginGetReleaseDefinition(n)},t.prototype.beginGetReleaseDefinitionSummary=function(n,t,r,u){u===void 0&&(u=null);var f=i.defer(),e=this._getReleaseManagementService(),o=e.beginGetReleaseDefinitionSummary(n,t,r,u);return o.then(function(n){var t=[],i=[];y.ArrayHelper.hasItems(n.releases)?(n.releases.forEach(function(n){var r=g.create(n,e);!r||(r.environments.forEach(function(n){p.ApprovalsHelper.setCanApproveForCurrentUser(n.preDeployApprovals,i);p.ApprovalsHelper.setCanApproveForCurrentUser(n.postDeployApprovals,i)}),t.push(r))}),n.releases=t,f.resolve(n)):f.resolve(n)},function(n){f.reject(n)}),f.promise},t}(nt);t.ReleaseDefinitionsModel=ht;ct=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t}(nt);t.ContinuousDeploymentTriggerIssue=ct;g=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.create=function(n,i,r){if(r===void 0&&(r=!0),!n)throw new Error("releaseData for Release creation should not be null or undefined");var u=new t(i);return u._updateReleaseData(n),u},t.prototype.getReleaseData=function(){return{id:this.id,status:this.status,name:this.name,description:this.description,createdOn:this.createdOn,createdBy:this.createdBy,modifiedOn:this.modifiedOn,modifiedBy:this.modifiedBy,environments:this.environments,releaseDefinition:this.releaseDefinition,releaseDefinitionRevision:this.releaseDefinitionRevision,artifacts:this.artifacts,poolName:this.poolName,variables:this.variables,variableGroups:this.variableGroups,projectReference:this.projectReference,reason:this.reason,releaseNameFormat:this.releaseNameFormat,keepForever:this.keepForever,url:this.url,_links:this._links,logsContainerUrl:this.logsContainerUrl,definitionSnapshotRevision:this.definitionSnapshotRevision,comment:this.comment,properties:this.properties,tags:this.tags,triggeringArtifactAlias:""}},t.prototype.beginStart=function(n,t){this._beginSetReleaseStatus(h.ReleaseStatus.Active,null,n,t)},t.prototype.beginAbandon=function(n,t,i){this._beginSetReleaseStatus(h.ReleaseStatus.Abandoned,n,t,i)},t.prototype.beginSetReleaseRetention=function(n){return this._beginSetReleaseRetention(n)},t.prototype.beginCreateRelease=function(t){return n.prototype._getReleaseManagementService.call(this).beginCreateRelease(t)},t.prototype.getEnvironmentById=function(n){for(var t=0;t<this.environments.length;t++)if(this.environments[t].id===n)return this.environments[t];return null},t.getApisEndPoint=function(){var n=s.getDefaultWebContext(),t=p.ReleaseManagementEndpointHelper.getReleaseEndPoint();return u.format("{0}{1}/{2}/",t,w.TfsContext.getDefault().getActionUrl("",v.ReleasePipelineAreas.APIS,{project:n.project.id,team:""}),v.WebApiConstants.Area)},t.getDownloadAllLogsLink=function(n){return u.format("{0}releases/{1}/logs",t.getApisEndPoint(),n.toString())},t.prototype._beginSetReleaseStatus=function(t,i,r,u){var e=this;l.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.UpdateReleaseStatusScenario);n.prototype._getReleaseManagementService.call(this).beginPatchRelease(this.id,{status:t,requestTime:f.shiftToUTC(new Date),keepForever:null,manualEnvironments:null,comment:i,name:null},function(n){e._updateReleaseData(n);r&&(r(e),l.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.UpdateReleaseStatusScenario))},function(n){u(n);l.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.UpdateReleaseStatusScenario)})},t.prototype._beginSetReleaseRetention=function(n){var r=this;l.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.UpdateReleaseRetentionScenario);var t=i.defer(),u={status:h.ReleaseStatus.Undefined,requestTime:f.shiftToUTC(new Date),keepForever:n,manualEnvironments:null,comment:null,name:null},e=l.serviceContext.releaseManager().beginPatchRelease(this.id,u);return e.then(function(n){r._updateReleaseData(n);t.resolve(n);l.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.UpdateReleaseRetentionScenario)},function(n){t.reject(n);l.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.UpdateReleaseRetentionScenario)}),t.promise},t.prototype._updateReleaseData=function(n){var i=this,t,r;n&&(this.id=n.id,this.name=n.name,this.description=n.description||u.empty,this.createdOn=n.createdOn||new Date,this.modifiedOn=n.modifiedOn||new Date,this.createdBy=n.createdBy,this.modifiedBy=n.modifiedBy,this.releaseDefinition=n.releaseDefinition,this.artifacts=n.artifacts||[],this.definitionName=!n.releaseDefinition?u.empty:n.releaseDefinition.name,this.status=n.status,this.reason=n.reason,this.releaseNameFormat=n.releaseNameFormat,this.keepForever=n.keepForever,this.definitionSnapshotRevision=n.definitionSnapshotRevision,this.tags=n.tags||[],this.variables=n.variables,this.properties=n.properties,t=this.variables&&Object.getOwnPropertyNames(this.variables)||[],y.ArrayHelper.hasItems(t)&&t.forEach(function(n){i.variables[n].isSecret&&(i.variables[n].value="********")}),this.environments=[],y.ArrayHelper.hasItems(n.environments)&&(r=$.map(n.environments,function(n){return et.create(n)}),this.environments=r.sort(function(n,t){return n.rank-t.rank})))},t}(nt);t.Release=g;lt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.createReleaseModel=function(n){return g.create(n,this._getReleaseManagementService())},t.prototype.beginGetRelease=function(n,t){var u=this;t===void 0&&(t=!1);var r=i.defer(),f=this._getReleaseManagementService(),e=t?h.ApprovalFilters.All:h.ApprovalFilters.ManualApprovals|h.ApprovalFilters.AutomatedApprovals,o=f.beginGetRelease(n,e,["DownloadBuildArtifactsUsingTask, ReleaseCreationSource"]);return o.then(function(n){var t=u.updateReleaseApprovals(n);t.then(function(n){r.resolve(n)},function(n){r.reject(n)})},function(n){r.reject(n)}),r.promise},t.prototype.beginCreateRelease=function(n){return this._getReleaseManagementService().beginCreateRelease(n)},t.prototype.beginGetReleasesWithContinuationToken=function(n,t,r,u,f,e,o,s,h,c,a,v,p,w){var k=this,b=i.defer(),d=l.serviceContext.releaseManager().beginGetReleasesWithContinuationToken(n,t,r,u,f,e,o,s,h,c,a,v,p,w);return d.then(function(t){if(k._continuationToken=t.continuationToken,l.serviceContext.customerIntelligence().split("GetReleasesResponseReceived"),y.ArrayHelper.hasItems(t.releases)){var i=[],r=[];t.releases.forEach(function(n){i.push(k._updateReleaseApprovalsWithCanApproveState(r,n))});t.releases=i;t.queryDefinitionId=n;b.resolve(t)}else t.queryDefinitionId=n,b.resolve(t)},function(n){b.reject(n)}),b.promise},t.prototype.getContinuationToken=function(){return this._continuationToken},t.prototype.beginCreateDraftRelease=function(n){var t=i.defer(),r=l.serviceContext.releaseDefinitionManager().getReleaseDefinition(n);return r.then(function(){var i=new ot(n,null,null),r;i.isDraft=!0;l.serviceContext.customerIntelligence().split("VSO.RM.GetReleaseDefinition");r=l.serviceContext.releaseManager().create(i);r.then(function(n){t.resolve(n)},function(n){t.reject(n)})},function(n){t.reject(n)}),t.promise},t.prototype.updateReleaseApprovals=function(n){var e=this,r=i.defer(),o=s.getDefaultWebContext().user.id,c=h.ApprovalStatus.Pending,u,f;return p.ReleaseStatusHelper.getComputedReleaseStatus(n)===v.ComputedReleaseStatus.InProgress?(u=t._hasAnyPendingApprovalsOnAGroup(n,this._getReleaseManagementService())?l.serviceContext.releaseApprovalManager().beginGetReleaseApprovals(o,c,[n.id]):i.resolve(t._getPendingApprovalsOnCurrentUser(n,this._getReleaseManagementService())),f=this._getManageDeploymentPermissionsPromise(n),i.all([u,f]).spread(function(i,u){var f=e._updateReleaseApprovalsWithCanApproveState(i,n);t._updateReleaseManageDeploymentPermissions(u,f);r.resolve(f)},function(n){r.reject(n)})):r.resolve(this._updateReleaseApprovalsWithCanApproveState([],n)),r.promise},t.prototype.getSourceBranches=function(n){return l.serviceContext.releaseManager().beginGetSourceBranches(n)},t._hasAnyPendingApprovalsOnAGroup=function(n,t){var i,r;return n&&(r=g.create(n,t),i=e.first(r.environments,function(n){var t=p.ReleaseEnvironmentHelper.getMaxAttemptNumberFromDeploySteps(n.deploySteps);return n.hasPendingApprovalByAnyGroup(v.ApprovalType.PreApproval,t)||n.hasPendingApprovalByAnyGroup(v.ApprovalType.PostApproval,t)})),!!i},t._getPendingApprovalsOnCurrentUser=function(n,t){var i=[],r;return n&&(r=g.create(n,t),r.environments.forEach(function(n){n.getPendingApprovalsOnCurrentUser(v.ApprovalType.PreApproval).forEach(function(n){i.push(n)});n.getPendingApprovalsOnCurrentUser(v.ApprovalType.PostApproval).forEach(function(n){i.push(n)})})),i},t._updateReleaseManageDeploymentPermissions=function(n,t){t.environments.forEach(function(t){t.setManageDeploymentPermission(n[t.id])})},t.prototype._getManageDeploymentPermissionsPromise=function(n){var t=[],r={};return n.environments.forEach(function(n){var u=b.SecurityHelper.CreateEnvironmentSecurityToken(n.releaseDefinition.path,n.releaseDefinition.id,n.definitionEnvironmentId),f=l.serviceContext.permissionManager().hasPermission(u,v.ReleaseManagementSecurityPermissions.ManageDeployments).then(function(t){r[n.id]=t;i.resolve("")});t.push(f)}),i.allSettled(t).then(function(){return r})},t.prototype._updateReleaseApprovalsWithCanApproveState=function(n,t){var i=g.create(t,this._getReleaseManagementService());return i.environments.forEach(function(t){p.ApprovalsHelper.setCanApproveForCurrentUser(t.preDeployApprovals,n);p.ApprovalsHelper.setCanApproveForCurrentUser(t.postDeployApprovals,n)}),i},t}(nt);t.ReleasesModel=lt;at=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getDeploymentData=function(){return{attempt:this.attempt,conditions:this.conditions,definitionEnvironmentId:this.definitionEnvironmentId,deploymentStatus:this.deploymentStatus,id:this.id,projectReference:this.projectReference,lastModifiedBy:this.lastModifiedBy,lastModifiedOn:this.lastModifiedOn,operationStatus:this.operationStatus,postDeployApprovals:this.postDeployApprovals,preDeployApprovals:this.preDeployApprovals,queuedOn:this.queuedOn,reason:this.reason,release:this.release,releaseDefinition:this.releaseDefinition,releaseEnvironment:this.releaseEnvironment,requestedBy:this.requestedBy,requestedFor:this.requestedFor,scheduledDeploymentTime:this.scheduledDeploymentTime,startedOn:this.startedOn,_links:this._links,completedOn:this.completedOn}},t}(it);t.Deployment=at;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetDeploymentsWithContinuationToken=function(n,t,r,u,f,e,o,s,h){var a=this,c=i.defer(),v=l.serviceContext.deploymentManager().beginGetDeploymentsWithContinuationToken(n,t,r,u,f,o,s,h);return v.then(function(n){a._continuationToken=n.continuationToken;l.serviceContext.customerIntelligence().split("GetDeploymentsResponseReceived");c.resolve(n)},function(n){c.reject(n)}),c.promise},t.prototype.getContinuationToken=function(){return this._continuationToken},t}(it);t.DeploymentsModel=vt;et=function(){function n(){this._logs=null;this._hasManageDeploymentPermission=!1}return n.create=function(t){var i,o,s,u,r,h,f,c,e,l,a,v;if(!t)throw new Error("sourceDate for environment creation should not be null or undefined");if(i=new n,i.id=t.id,i.releaseId=t.releaseId,i.name=t.name,i.rank=t.rank||t.id,i.status=t.status,i.definitionEnvironmentId=t.definitionEnvironmentId,i.variables=t.variables,i.variableGroups=t.variableGroups,i.environmentOptions=t.environmentOptions,i.conditions=t.conditions,i.deploySteps=t.deploySteps,i.deployPhasesSnapshot=t.deployPhasesSnapshot,i.scheduledDeploymentTime=t.scheduledDeploymentTime,i.schedules=t.schedules,i.nextScheduledUtcTime=t.nextScheduledUtcTime,i.releaseDefinition=t.releaseDefinition,i.processParameters=t.processParameters,i.preApprovalsSnapshot=t.preApprovalsSnapshot,i.postApprovalsSnapshot=t.postApprovalsSnapshot,o=p.ReleaseEnvironmentHelper.getMaxAttemptNumber(t.preDeployApprovals,i.deploySteps),s=$.map(t.preDeployApprovals,function(n){return rt.create(n)}),i.preDeployApprovals=p.ReleaseEnvironmentHelper.getSortedApprovalsForAllAttempts(s,o),s=$.map(t.postDeployApprovals,function(n){return rt.create(n)}),i.postDeployApprovals=p.ReleaseEnvironmentHelper.getSortedApprovalsForAllAttempts(s,o),y.ArrayHelper.hasItems(t.deploySteps))for(u=t.deploySteps.sort(function(n,t){return n.attempt-t.attempt}),i.deploySteps=u,r=0;r<u.length;r++){if(u[r].releaseDeployPhases)for(h=u[r].releaseDeployPhases.sort(function(n,t){return n.rank-t.rank}),i.deploySteps[r].releaseDeployPhases=h,f=0;f<h.length;f++)for(c=h[f].deploymentJobs.sort(n._orderJobs),i.deploySteps[r].releaseDeployPhases[f].deploymentJobs=c,e=0;e<c.length;e++)l=c[e].tasks.sort(n._orderRecord),i.deploySteps[r].releaseDeployPhases[f].deploymentJobs[e].tasks=l;a=p.ReleaseEnvironmentHelper.sortGatesBasedOnRank(u[r].preDeploymentGates);u[r].preDeploymentGates=a;v=p.ReleaseEnvironmentHelper.sortGatesBasedOnRank(u[r].postDeploymentGates);u[r].postDeploymentGates=v}return i.maxAttemptNumber=o,i.preDeploymentGatesSnapshot=t.preDeploymentGatesSnapshot,i.postDeploymentGatesSnapshot=t.postDeploymentGatesSnapshot,i},n.prototype.getDeferredDeploymentTime=function(){return this.hasDeferredDeployment()?this.scheduledDeploymentTime:null},n.prototype.hasDeferredDeployment=function(){return!!this.scheduledDeploymentTime&&y.DateHelper.isGivenTimeInFuture(this.scheduledDeploymentTime)},n.prototype.getLogs=function(){var i,t,r,f,n;if(!y.ArrayHelper.hasItems(this._logs)){for(this._logs=[],this._logs.push(ft.create(this,this.maxAttemptNumber)),i=this.maxAttemptNumber>0&&this.deploySteps.length>0&&this.deploySteps[this.maxAttemptNumber-1].reason===h.DeploymentReason.RedeployTrigger,i&&(t=ft.create(this),t.name=a.ReleaseLogsAutoRedeployTriggerHeader,t.logProperties.releaseLogType=v.ReleaseLogTypes.RetryHeading,this._logs.push(t)),r=this._pushLogsForAttempt(this.maxAttemptNumber),i&&(t.childLogCount=r),n=1;n<=this.maxAttemptNumber-1;n++){n===1&&(f=this._insertEnvironmentLogForRetriesHeader(u.localeFormat(a.ReleaseLogsRetriesHeaderNewText,this.maxAttemptNumber-1),v.ReleaseLogTypes.RetryHeading));var e=this._getDeployAttemptStatus(n),o=this.deploySteps[n-1].reason,s=o===h.DeploymentReason.RedeployTrigger?u.localeFormat(a.ReleaseLogsAutoTriggerRetriesAttemptHeader,n):u.localeFormat(a.ReleaseLogsRetriesAttemptHeader,n),c=this._insertEnvironmentLogForRetriesHeader(s,v.ReleaseLogTypes.RetryAttemptHeading,n,e),l=this._pushLogsForAttempt(n);c.childLogCount=l;n===this.maxAttemptNumber-1&&(f.childLogCount=this._logs.length-(r+2+(i?1:0)))}this._logs[0].childLogCount=this._logs.length-1}return this._logs},n.prototype.hasManualIntervention=function(){var n=p.ReleaseEnvironmentHelper.getManualInterventionsForEnvironment(this);return!!n&&y.ArrayHelper.hasItems(n)?!0:!1},n.prototype.hasManualPreApproval=function(){var n=null;return!!this.preApprovalsSnapshot&&y.ArrayHelper.hasItems(this.preApprovalsSnapshot.approvals)&&(n=e.first(this.preApprovalsSnapshot.approvals,function(n){return!n.isAutomated})),!!n},n.prototype.hasPendingApproval=function(n,t){return!!this._getAnyPendingApproval(n,!0,!1,!1,!1,t)},n.prototype.hasPendingApprovalByAnyGroup=function(n,t){return!!this._getAnyPendingApproval(n,!1,!1,!0,!1,t)},n.prototype.hasPendingApprovalByAnyUser=function(n,t){return!!this._getAnyPendingApproval(n,!1,!0,!1,!1,t)},n.prototype.hasPendingApprovalByCurrentUser=function(n,t){return!!this._getAnyPendingApproval(n,!1,!1,!1,!0,t)},n.prototype.getPendingApprovalsOnCurrentUser=function(t,i){var u=t===v.ApprovalType.PreApproval?this.preDeployApprovals:this.postDeployApprovals,f=t===v.ApprovalType.PostApproval?this._areTasksCompleted(i):!0,r;return this._isEnvironmentNeedApproval(t)&&f&&y.ArrayHelper.hasItems(u)&&(r=this._getFilteredApprovalsByAttempt(u,i),r.forEach(function(t){n._checkCriteriaOnApproval(t,!1,!1,!1,!0)&&r.push(t)})),[]},n.prototype.canBeDeployed=function(){var n=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(this);return n===v.ComputedReleaseEnvironmentStatus.NotStarted||n===v.ComputedReleaseEnvironmentStatus.Scheduled},n.prototype.canBeCancelled=function(){var n=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(this);switch(n){case v.ComputedReleaseEnvironmentStatus.Queued:case v.ComputedReleaseEnvironmentStatus.Deferred:case v.ComputedReleaseEnvironmentStatus.InProgress:case v.ComputedReleaseEnvironmentStatus.Pending:case v.ComputedReleaseEnvironmentStatus.PreApprovalPending:case v.ComputedReleaseEnvironmentStatus.QueuedForAgent:case v.ComputedReleaseEnvironmentStatus.Scheduled:case v.ComputedReleaseEnvironmentStatus.QueuedForPipeline:case v.ComputedReleaseEnvironmentStatus.GatesInProgress:case v.ComputedReleaseEnvironmentStatus.GatesStabilizing:return!0}return!1},n.prototype.canBeRedeployed=function(){var n=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(this);switch(n){case v.ComputedReleaseEnvironmentStatus.Canceled:case v.ComputedReleaseEnvironmentStatus.Rejected:case v.ComputedReleaseEnvironmentStatus.Failed:case v.ComputedReleaseEnvironmentStatus.PreApprovalRejected:case v.ComputedReleaseEnvironmentStatus.PartiallySucceeded:case v.ComputedReleaseEnvironmentStatus.Succeeded:case v.ComputedReleaseEnvironmentStatus.GatesFailed:return!0}return!1},n._orderDates=function(n,t){return n&&t?f.defaultComparer(n,t):n?-1:t?1:0},n._orderRecord=function(t,i){if(!t||!i)return 0;var r=t.rank,u=i.rank;return!r||!u||r==u?n._orderDates(t.startTime,i.startTime):r-u},n._orderJobs=function(t,i){return!t.job||!i.job?0:n._orderRecord(t.job,i.job)},n.prototype._getDeployAttemptStatus=function(n){var t=v.ReleaseLogStates.Undefined,i=null;return y.ArrayHelper.hasItems(this.postDeployApprovals)&&(t=this._getApprovalsState(this.postDeployApprovals,n,v.ApprovalType.PostApproval),t!==v.ReleaseLogStates.Undefined)?t===v.ReleaseLogStates.Succeeded&&y.ArrayHelper.hasItems(this.deploySteps)&&(i=e.first(this.deploySteps,function(t){return t.attempt===n}),!!i&&i.status===h.DeploymentStatus.PartiallySucceeded)?v.ReleaseLogStates.PartiallySucceeded:t:y.ArrayHelper.hasItems(this.deploySteps)&&(i=e.first(this.deploySteps,function(t){return t.attempt===n}),!!i&&i.status===h.DeploymentStatus.Failed&&i.operationStatus===h.DeploymentOperationStatus.Canceled)?v.ReleaseLogStates.Canceled:y.ArrayHelper.hasItems(this.preDeployApprovals)&&(t=this._getApprovalsState(this.preDeployApprovals,n),t!==v.ReleaseLogStates.Undefined)?t:v.ReleaseLogStates.Failed},n.prototype._getApprovalsState=function(n,t,i){i===void 0&&(i=v.ApprovalType.PreApproval);var r=this._getFilteredApprovalsByAttempt(n,t);if(y.ArrayHelper.hasItems(r)){if(r.some(function(n){return n.status===h.ApprovalStatus.Rejected}))return v.ReleaseLogStates.Rejected;if(r.some(function(n){return n.status===h.ApprovalStatus.Canceled}))return v.ReleaseLogStates.Canceled;if(i===v.ApprovalType.PostApproval&&r.some(function(n){return n.status===h.ApprovalStatus.Approved}))return v.ReleaseLogStates.Succeeded}return v.ReleaseLogStates.Undefined},n.prototype.getManageDeploymentPermission=function(){return this._hasManageDeploymentPermission},n.prototype.setManageDeploymentPermission=function(n){this._hasManageDeploymentPermission=n},n.prototype._getAnyPendingApproval=function(t,i,r,u,f,o){var s=null,h=t===v.ApprovalType.PreApproval?this.preDeployApprovals:this.postDeployApprovals,l=t===v.ApprovalType.PostApproval?this._areTasksCompleted(o):!0,c;return this._isEnvironmentNeedApproval(t)&&l&&y.ArrayHelper.hasItems(h)&&(c=this._getFilteredApprovalsByAttempt(h,o),s=e.first(c,function(t){return n._checkCriteriaOnApproval(t,i,r,u,f)})),s},n._checkCriteriaOnApproval=function(n,t,i,r,u){if(n.status===h.ApprovalStatus.Pending){if(t)return!0;if(!n.isAutomated)return i?!0:r?n.isAssignedToGroup():u&&n.isApproverCurrentUser()}return!1},n.prototype._getFilteredApprovalsByAttempt=function(n,t){return t?n.filter(function(n){return n.attempt===t}):n},n.prototype._areTasksCompleted=function(n){var t=null,i=p.ReleaseEnvironmentHelper.getTasksForAttempt(this,n);return t=e.first(i,function(n){return!p.ReleaseHelper.isTaskSuccessful(n.status)}),!t},n.prototype._insertEnvironmentLogForRetriesHeader=function(n,t,i,r){r===void 0&&(r=null);var u=ft.create(this,i);return u.status=r,u.duration=null,u.dateStarted=null,u.name=n,u.logProperties.releaseLogType=t,this._logs.push(u),u},n.prototype._pushApprovalLogs=function(n,t){var i=0,r;return y.ArrayHelper.hasItems(n)&&(r=n[n.length-1],this._logs.push(ii.create(r,t)),i++),i},n.prototype._pushGatesLogs=function(n,t,i,r,f){var p=this,s=0,c,o,h,l,a,v;if(n){if((c=ti.create(n,r,f,t,i),this._logs.push(c),s++,!y.ArrayHelper.hasItems(n.deploymentJobs))||(o=n.deploymentJobs[0].tasks,n.deploymentJobs.length>1&&(h=n.deploymentJobs[1].tasks,y.ArrayHelper.hasItems(o)?o.length!=h.length&&(l=e.subtract(h,o,function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)}),a=l.concat(o),o=a):o=h),!y.ArrayHelper.hasItems(o)))return s;v=o.sort(function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)});v.forEach(function(u){p._logs.push(ni.create(r,f,t,u,i,n.stabilizationCompletedOn));s++});c.childLogCount=o.length}return s},n.prototype._areGatesBeforeApprovals=function(n,t){if(y.ArrayHelper.hasItems(n)&&t&&y.ArrayHelper.hasItems(t.deploymentJobs)){n.sort(function(n,t){return f.defaultComparer(n.createdOn,t.createdOn)});var i=n[0].createdOn,r=t.deploymentJobs[0].job.startTime;return f.defaultComparer(i,r)<0?!1:!0}return t&&y.ArrayHelper.hasItems(t.deploymentJobs)?!0:!1},n.prototype._isApprovalExeuctionOrderBeforeGates=function(n,t,i,r){if(i===this.maxAttemptNumber){var u=r===v.ApprovalType.PreApproval?this.preApprovalsSnapshot:this.postApprovalsSnapshot;if(u&&u.approvalOptions)return!u.approvalOptions.executionOrder||u.approvalOptions.executionOrder===h.ApprovalExecutionOrder.BeforeGates}return!this._areGatesBeforeApprovals(n,t)},n.prototype._pushLogsForApprovalsAndGates=function(n,t,i,r){var u=[],e=t===v.ApprovalType.PreApproval?this.preDeployApprovals:this.postDeployApprovals,f,o;return y.ArrayHelper.hasItems(e)&&(u=this._getFilteredApprovalsByAttempt(e,n)),f=p.ReleaseEnvironmentHelper.getReleaseGatesForSpecificAttempt(this,i,n),o=this._isApprovalExeuctionOrderBeforeGates(u,f,n,t),o?(r=r+this._pushApprovalLogs(u,t,n),r=r+this._pushGatesLogs(f,i,n,this.releaseId,this.id)):(r=r+this._pushGatesLogs(f,i,n,this.releaseId,this.id),r=r+this._pushApprovalLogs(u,t,n)),r},n.prototype._pushLogsForAttempt=function(t){var i=this,r=0,f=null,o;return t<=this.maxAttemptNumber&&(r=this._pushLogsForApprovalsAndGates(t,v.ApprovalType.PreApproval,v.ApprovalType.PreGates,r),o=p.ReleaseEnvironmentHelper.getDeployPhasesForSpecificAttempt(this,t),o.forEach(function(o){var d=e.first(i.deployPhasesSnapshot,function(n){return o.rank===n.rank}),s=!d?o.name:d.name,w,g,c,l,nt,k,b,it;if(s||(s=a.DeployNodeText),w=o.phaseType===h.DeployPhaseTypes.AgentBasedDeployment||o.phaseType===h.DeployPhaseTypes.RunOnServer?!0:!1,w&&(y.ArrayHelper.hasItems(o.deploymentJobs)&&(o.deploymentJobs.length!==1||o.deploymentJobs[0].job&&o.deploymentJobs[0].job.name&&!u.equals(o.deploymentJobs[0].job.name.trim(),"Release"))||(w=!1)),o.phaseType!==h.DeployPhaseTypes.MachineGroupBasedDeployment)if(w)g=s,c=bt.create(i,o,t,g),r++,l=o.deploymentJobs.length,i._logs.push(c),y.ArrayHelper.hasItems(o.deploymentJobs)&&o.deploymentJobs.forEach(function(r){var u,f;!r.job.name||(u=ut.create(i.releaseId,i.id,o.id,o.phaseType,r.job,t,r.job.name,o.runPlanId),c.status===v.ReleaseLogStates.Cancelling&&(u.status=c.status),i._logs.push(u),f=r.tasks,f.forEach(function(r){var u=n._tryGetManualInterventionForTask(r,o.manualInterventions);u?i._logs.push(wt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,u,o.runPlanId)):i._logs.push(tt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,o.runPlanId))}),l=l+f.length,u.childLogCount=f.length)}),c.childLogCount=l,r=r+l;else{if(o.status==h.DeployPhaseStatus.Skipped){nt={agentName:null,dateEnded:null,dateStarted:null,finishTime:null,id:0,issues:[],lineCount:0,logUrl:null,name:s,rank:1,startTime:null,status:h.TaskStatus.Skipped,task:null,timelineRecordId:null,percentComplete:100,resultCode:null};f=ut.create(i.releaseId,i.id,o.id,o.phaseType,nt,t,s,o.runPlanId);i._logs.push(f);r++;return}if(!y.ArrayHelper.hasItems(o.deploymentJobs)||!o.deploymentJobs[0].job.name)return;k=p.EnumTranslator.convertDeploymentPhaseStatusToReleaseLogState(o.status);f=ut.create(i.releaseId,i.id,o.id,o.phaseType,o.deploymentJobs[0].job,t,s,o.runPlanId);k===v.ReleaseLogStates.Cancelling&&(f.status=k);i._logs.push(f);r++;b=o.deploymentJobs[0].tasks;b.forEach(function(r){var u=n._tryGetManualInterventionForTask(r,o.manualInterventions);u?i._logs.push(wt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,u,o.runPlanId)):i._logs.push(tt.create(i.releaseId,i.id,o.id,o.phaseType,r,t,o.runPlanId))});r=r+b.length;f.childLogCount=b.length}else it=i._pushLogsForMachineGroupBasedDeployPhase(o,s,t),r=r+it}),r=this._pushLogsForApprovalsAndGates(t,v.ApprovalType.PostApproval,v.ApprovalType.PostGates,r)),r},n.prototype._pushLogsForMachineGroupBasedDeployPhase=function(n,t,i){var r=this,u=0,f=null,e=bt.create(this,n,i,t),o;return this._logs.push(e),u++,o=p.ReleaseEnvironmentHelper.getDeployJobsForDeploymentPhase(n),!o||(o.forEach(function(t){if(!!t.job&&!!t.job.agentName&&t.job.agentName.length>0){f=ut.create(r.releaseId,r.id,n.id,n.phaseType,t.job,i,t.job.agentName,n.runPlanId);e.status===v.ReleaseLogStates.Cancelling&&(f.status=e.status);r._logs.push(f);u++;var o=t.tasks;o.forEach(function(t){r._logs.push(tt.create(r.releaseId,r.id,n.id,n.phaseType,t,i,n.runPlanId))});u=u+o.length;!f||(f.childLogCount=o.length)}}),e.childLogCount=u-1),u},n.prototype._isEnvironmentNeedApproval=function(){return this.status===h.EnvironmentStatus.InProgress},n._tryGetManualInterventionForTask=function(n,t){return e.first(t,function(t){return t.taskInstanceId===n.timelineRecordId})},n}();t.ReleaseEnvironmentBase=et;rt=function(){function n(){}return n.create=function(t){if(!t)throw new Error("sourceData for release appproval creation should not be null or undefined");var i=new n;return i.updateData(t),i},n.prototype.getApproverProfileImageSource=function(){return!this._approverProfileImageSource&&this.approver&&(this._approverProfileImageSource=y.TfsActionUrlProvider.getImageUrl(this.approver.id)),this._approverProfileImageSource},n.prototype.isAssignedToGroup=function(){return this.approver.isContainer},n.prototype.isApproverCurrentUser=function(){return this.canApprove!==undefined?this.canApprove:!this.isAutomated&&this.status===h.ApprovalStatus.Pending&&u.localeIgnoreCaseComparer(s.getDefaultWebContext().user.id,this.approver.id)===0},n.prototype.isActionable=function(){switch(this.status){case h.ApprovalStatus.Canceled:return!1}return!0},n.prototype.updateData=function(n){this.id=n.id;this.release=n.release;this.releaseDefinition=n.releaseDefinition;this.releaseEnvironment=n.releaseEnvironment;this.comments=n.comments;this.isAutomated=n.isAutomated;this.isNotificationOn=n.isNotificationOn;this.createdOn=n.createdOn||new Date;this.modifiedOn=n.modifiedOn||new Date;this.approver=n.approver;this.approvedBy=n.approvedBy;this.status=n.status===undefined?h.ApprovalStatus.Pending:n.status;this.attempt=n.attempt===undefined?1:n.attempt;this.trialNumber=this.attempt;this.revision=n.revision;this.rank=n.rank;this.history=n.history},n}();t.ReleaseApproval=rt;yt=function(){function n(){}return n.create=function(t){if(!t)throw new Error("sourceData for release appproval creation should not be null or undefined");var i=new n;return i.updateData(t),i},n.prototype.getApproverProfileImageSource=function(){return!this._approverProfileImageSource&&this.approver&&(this._approverProfileImageSource=y.TfsActionUrlProvider.getImageUrl(this.approver.id)),this._approverProfileImageSource},n.prototype.updateData=function(n){this.approver=n.approver;this.changedBy=n.approvedBy;this.comments=n.comments;this.createdOn=n.createdOn||new Date;this.modifiedOn=n.modifiedOn||new Date;this.revision=n.revision;this._approverProfileImageSource=n.getApproverProfileImageSource()},n}();t.ReleaseApprovalHistory=yt;pt=function(){function n(){this.recordType=n.TaskRecordType.Task}return n.create=function(t){if(!t)throw new Error("sourceData for ReleaseTask creation should not be null or undefined");var i=new n;return i.id=t.id,i.name=t.name,i.startTime=t.startTime,i.finishTime=t.finishTime,i.status=t.status,i.issues=t.issues,i.rank=t.rank||t.id,i.percentComplete=t.percentComplete,i.agentName=t.agentName,i.task=t.task,i.timelineRecordId=t.timelineRecordId,i.logUrl=t.logUrl,i.resultCode=t.resultCode,i},n._hasTaskStarted=function(n){var t=!0;switch(n){case h.TaskStatus.Pending:case h.TaskStatus.Unknown:t=!1}return t},n.TaskRecordType={Job:"Job",Task:"Task"},n}();t.ReleaseTask=pt;d=function(){function n(){}return n}();t.ReleaseLogBase=d;var tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,u,f,e,o,s){if(s===void 0&&(s=!0),!f)throw new Error("sourceData for ReleaseTaskLog creation should not be null or undefined");var h=new t;return h.id=f.id,h.name=f.name,h.dateStarted=f.startTime,h.duration=h._getDuration(f),h.details=f.name,h.status=p.EnumTranslator.convertTaskStatusToReleaseLogState(f.status),h.logProperties={releaseLogType:v.ReleaseLogTypes.Task,environmentId:i,releaseDeployPhaseId:r,deploymentPhaseType:u,timelineRecordId:f.timelineRecordId,agentName:f.agentName,percentComplete:f.percentComplete,attempt:e},!!f.logUrl&&s&&(h.logProperties.downloadLink=f.logUrl),h.childLogCount=0,h},t.prototype._getDuration=function(n){return this._hasTaskCompleted(n.status)?y.DurationHelper.diff(n.finishTime,n.startTime):""},t.prototype._hasTaskCompleted=function(n){var t=!0;switch(n){case h.TaskStatus.InProgress:case h.TaskStatus.Pending:case h.TaskStatus.Unknown:t=!1}return t},t}(d),ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,e,o,s){if(!e)throw new Error("sourceData for ReleaseTaskLog creation should not be null or undefined");var h=new t;return h.id=e.id,h.name=e.name,h.dateStarted=e.startTime,h.duration=h._getDuration(e),h.details=e.name,h.status=p.EnumTranslator.convertTaskStatusToReleaseLogState(e.status),h.logProperties={releaseLogType:v.ReleaseLogTypes.GateTask,environmentId:i,timelineRecordId:e.timelineRecordId,percentComplete:e.percentComplete,attempt:o,approvalType:r},(!s||e.dateEnded&&f.defaultComparer(e.dateEnded,s)<0)&&(h.logProperties.iconCss=u.format("status {0}",p.ReleaseLogStates.DisplayOutlineIconMap[h.status])),h.childLogCount=0,h},t.prototype._getDuration=function(n){return this._hasTaskCompleted(n.status)?y.DurationHelper.diff(n.finishTime,n.startTime):""},t.prototype._hasTaskCompleted=function(n){var t=!0;switch(n){case h.TaskStatus.InProgress:case h.TaskStatus.Pending:case h.TaskStatus.Unknown:t=!1}return t},t}(d),wt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,t,i,r,u,f,e,o){if(!u)throw new Error("sourceData for ReleaseManualInterventionLog creation should not be null or undefined");var s=tt.create(n,t,i,r,u,f,o,!1);return s.logProperties.releaseLogType=v.ReleaseLogTypes.ManualIntervention,s.logProperties.manualIntervention=e,s},t}(d),ut=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,t,i,r,u,f,e,o){var s=tt.create(n,t,i,r,u,f,o);return s.name=e,s.logProperties.releaseLogType=v.ReleaseLogTypes.Job,s.logProperties.agentName=u.agentName,s.logProperties.attempt=f,s},t}(d),bt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,u){if(!i)throw new Error("sourceData for ReleaseDeploymentPhaseLog creation should not be null or undefined");var f=new t;return f.id=i.rank,f.name=u,f.dateStarted=f._getDateStarted(i),f.status=p.EnumTranslator.convertDeploymentPhaseStatusToReleaseLogState(i.status),f.duration=f._getDuration(i),f.logProperties={releaseLogType:v.ReleaseLogTypes.DeployPhase,environmentId:n.id},f.logProperties.downloadLink=null,f.logProperties.attempt=r,f.logProperties.releaseDeployPhaseId=i.id,f.logProperties.deploymentPhaseType=i.phaseType,f},t.prototype._getDateStarted=function(n){var t=null;return y.ArrayHelper.hasItems(n.deploymentJobs)&&!!n.deploymentJobs[0].job.startTime&&(t=n.deploymentJobs[0].job.startTime),t},t.prototype._getDuration=function(n){var i=this._getDateStarted(n);if(!i)return"";var t=null,r=p.ReleaseEnvironmentHelper.getJobsForDeploymentPhase(n),u=r.sort(function(n,t){return y.DurationHelper.getDurationMs(n.finishTime,t.finishTime)});return t=u[0].finishTime,!t?"":y.DurationHelper.diff(t,i)},t}(d),ti=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i,r,u,f){var e,o,s;if(!n)throw new Error("sourceData for ReleaseDeploymentGateLog creation should not be null or undefined");return e=new t,e.name=u===v.ApprovalType.PreGates?a.PreDeploymentGates:a.PostDeploymentGates,e.status=p.EnumTranslator.convertDeploymentGateStatusToReleaseLogStatus(n.status),o=e._getDateStarted(n),e.dateStarted=o,e.duration=e._getDuration(n,o),s=e._getLatestRunningJobTimelineRecordId(n),e.logProperties={releaseLogType:v.ReleaseLogTypes.Gates,environmentId:r,attempt:f,approvalType:u,timelineRecordId:s},e.childLogCount=0,e},t.prototype._getDateStarted=function(n){var i=null,t;return y.ArrayHelper.hasItems(n.deploymentJobs)&&(t=n.deploymentJobs.length,n.deploymentJobs[t-1].job.startTime&&(i=n.deploymentJobs[t-1].job.startTime)),i},t.prototype._getLatestRunningJobTimelineRecordId=function(n){var t=p.ReleaseEnvironmentHelper.getLatestRunningGateDeploymentJob(n);return t&&t.job&&t.job.timelineRecordId?t.job.timelineRecordId:u.empty},t.prototype._getDuration=function(n,t){if(!t)return"";var i=null,r=p.ReleaseEnvironmentHelper.getJobsForDeploymentGates(n),u=r.sort(function(n,t){return y.DurationHelper.getDurationMs(n.finishTime,t.finishTime)});return i=u[0].finishTime,i?y.DurationHelper.diff(i,t):""},t}(d),ii=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i){if(!n)throw new Error("sourceData for ReleaseApprovalLog creation should not be null or undefined");var r=new t;return r.id=n.id,r.name=i===v.ApprovalType.PreApproval?a.PreDeploymentApproval:a.PostDeploymentApproval,r.dateStarted=n.createdOn,r.duration=y.DurationHelper.diff(n.modifiedOn,n.createdOn),r.details=n.comments,r.status=n.isAutomated?v.ReleaseLogStates.AutomatedApproval:r._getLogStatus(n.status),r.logProperties={releaseLogType:v.ReleaseLogTypes.Approval,environmentId:n.releaseEnvironment.id,approvalType:i,attempt:n.attempt},r.childLogCount=0,r},t.prototype._getLogStatus=function(n){switch(n){case h.ApprovalStatus.Undefined:return v.ReleaseLogStates.Undefined;case h.ApprovalStatus.Pending:return v.ReleaseLogStates.Pending;case h.ApprovalStatus.Approved:return v.ReleaseLogStates.Approved;case h.ApprovalStatus.Rejected:return v.ReleaseLogStates.Rejected;case h.ApprovalStatus.Reassigned:return v.ReleaseLogStates.Reassigned;case h.ApprovalStatus.Canceled:return v.ReleaseLogStates.Canceled;case h.ApprovalStatus.Skipped:return v.ReleaseLogStates.Approved}return v.ReleaseLogStates.Undefined},t}(d),ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.create=function(n,i){var r,e,f;if(!n)throw new Error("sourceData for ReleaseEnvironmentLog creation should not be null or undefined");r=new t;r.id=n.id;r.name=n.name;r.dateStarted=r._getDateStarted(n);e=p.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(n);r.status=p.EnumTranslator.covnertEnvironmentStatusToReleaseLogState(e);r.logProperties={releaseLogType:v.ReleaseLogTypes.Environment,environmentId:n.id,computedEnvironmentStatus:e,hasAtleastOneDeployment:y.ArrayHelper.hasItems(n.deploySteps)};r.logProperties.attempt=i?i:p.ReleaseEnvironmentHelper.getMaxAttemptNumberFromDeploySteps(n.deploySteps);f=u.empty;switch(r.status){case v.ReleaseLogStates.NotStarted:f=r._getConditionText(n.conditions);break;case v.ReleaseLogStates.Queued:f=u.localeFormat(a.QueuedEnvironmentLogText,u.newLine);break;case v.ReleaseLogStates.Deferred:f=u.localeFormat(a.DeferredEnvironmentLogText,y.DateHelper.getDateTimeInLocaleFormat(n.scheduledDeploymentTime));break;case v.ReleaseLogStates.Scheduled:f=a.ScheduledEnvironmentLogText;k.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()&&(f=u.localeFormat("{0}{1}",f,u.localeFormat(a.ScheduledEnvironmentLogBasicUserText,u.newLine)))}return r.logProperties.logText=f,r},t.prototype._getConditionText=function(n){var t=a.NotDeployedManualConditionEnvironmentLogText,i,r,f;if(k.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()&&(t=u.localeFormat("{0}{1}",t,u.localeFormat(a.NotDeployedManualConditionEnvironmentLogBasicUserText,u.newLine))),y.ArrayHelper.hasItems(n)){i=n[0];switch(i.conditionType){case h.ConditionType.EnvironmentState:r=n.map(function(n){return n.name}).join(", ");f=i.value===h.EnvironmentStatus.Succeeded.toString()?a.NotDeployedOtherEnvironmentConditionEnvironmentLogText:a.NotDeployedPartiallySucceededOtherEnvironmentConditionEnvironmentLogText;t=u.localeFormat(f,r);k.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()&&(t=u.localeFormat("{0}{1}",t,u.localeFormat(a.EnvironmentAdditionalLogForBasicUserText,u.newLine)));break;case h.ConditionType.Event:t=u.empty}}return t},t.prototype._getDateStarted=function(n){var t=null;return y.ArrayHelper.hasItems(n.preDeployApprovals)?t=n.preDeployApprovals[0].createdOn:y.ArrayHelper.hasItems(n.deploySteps)&&y.ArrayHelper.hasItems(n.deploySteps[0].releaseDeployPhases)&&y.ArrayHelper.hasItems(n.deploySteps[0].releaseDeployPhases[0].deploymentJobs)&&y.ArrayHelper.hasItems(n.deploySteps[0].releaseDeployPhases[0].deploymentJobs[0].tasks)?t=n.deploySteps[0].releaseDeployPhases[0].deploymentJobs[0].tasks[0].startTime:y.ArrayHelper.hasItems(n.postDeployApprovals)&&(t=n.postDeployApprovals[0].createdOn),t},t}(d);t.ReleaseEnvironmentLog=ft;kt=function(){function n(){}return n.create=function(t,i,r){if(!t)throw new Error("sourceData for ReleaseApprovalLog creation should not be null or undefined");var u=new n;return u.name=t.agentName,u.dateFinished=t.finishTime,u.dateStarted=t.startTime,u.duration=u._getDuration(t),u.deploymentStatus=p.EnumTranslator.convertTaskStatusToReleaseLogState(t.status),u.manageLink=y.UrlHelper.getMachineAdminPageUrl(i,r),u},n.createFromMachine=function(t,i){if(!t)throw new Error("sourceData for ReleaseApprovalLog creation should not be null or undefined");var r=new n;return r.name=t.agent.name,r.deploymentStatus=p.EnumTranslator.convertTaskStatusToReleaseLogState(h.TaskStatus.Pending),r.duration="",r.manageLink=y.UrlHelper.getMachineAdminPageUrl(i,t.id),r},n.prototype._getDuration=function(n){return!n.finishTime?y.DurationHelper.diff(new Date,n.startTime):y.DurationHelper.diff(n.finishTime,n.startTime)},n}();t.DeploymentMachine=kt;ot=function(){function n(n,t,i,r){this.definitionId=n;this.description=i;this.artifacts=t;this.isDraft=!1;this.properties=r}return n}();t.CreateReleaseParameters=ot;dt=function(){function n(n){this.id=n.id;this.name=n.name;this.isHosted=!1}return n}();t.AgentPool=dt;gt=function(){function n(){}return n.prototype.createSnapshot=function(){return this._throwNotImplementedError("createSnaphot"),null},n.prototype.getFromSnapshot=function(){return this._throwNotImplementedError("getFromSnapshot"),null},n.prototype.save=function(){return this._throwNotImplementedError("save"),null},n.prototype.delete=function(){return this._throwNotImplementedError("delete"),null},n.prototype._throwNotImplementedError=function(n){throw new Error(u.localeFormat("{0} should be implemented in the derived class",n));},n}();t.BaseSnapshot=gt;st=i.defer();t.signalRPromise=st.promise;t.resolveSignalRPromise=ri;r.tfsModuleLoaded("TFS.ReleaseManagement.Model",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorModels",["require","exports","q","VSS/VSS","VSS/Utils/String","VSS/Context","ReleaseManagement/Core/Constants","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleaseManagement/Core/Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var b,p,y,w,k,d;Object.defineProperty(t,"__esModule",{value:!0});b=function(){function n(n,t){this.id=0;this.name=n;this.description=null;this.source=o.ReleaseDefinitionSource.UserInterface;this.comment=null;this.createdOn=new Date;this.createdBy=null;this.modifiedBy=null;this.modifiedOn=new Date;this.environments=[t||new p];this.environments[0].name=u.localeFormat(h.EnvironmentDefaultNameText,"1");this.artifacts=[];this.variables={};this.variableGroups=[];this.triggers=[];this.lastRelease=null;this.tags=[];this.projectReference=null}return n}();t.ReleaseDefinitionModel=b;p=function(){function n(){this.id=0;this.name="";this.rank=1;this.owner=null;this.currentRelease=null;this.conditions=[];this.variables={};this.variableGroups=[];this.deployPhases=[];this.environmentOptions={emailNotificationType:v.RunOptionsConstants.EnvironmentOwnerEmailNotificationTypeDefaultValue,emailRecipients:v.RunOptionsConstants.EnvironmentOwner+";"+v.RunOptionsConstants.ReleaseCreator,skipArtifactsDownload:!1,timeoutInMinutes:0,enableAccessToken:!1,publishDeploymentStatus:!0,badgeEnabled:!1,autoLinkWorkItems:!1,pullRequestDeploymentEnabled:!1};this.environmentTriggers=[];this.executionPolicy=null;this.preDeployApprovals=n.getDefaultApprovals();this.postDeployApprovals=n.getDefaultApprovals();this.schedules=[];this.retentionPolicy=null;this.processParameters=null;this.properties={};this.preDeploymentGates=null;this.postDeploymentGates=null}return n.getDefaultApprovals=function(){return{approvals:[{id:0,approver:null,isAutomated:!0,isNotificationOn:!1,rank:0}],approvalOptions:null}},n}();t.EnvironmentDefinition=p;y=function(){function n(){}return n.create=function(t){var i=new n;return t&&(i.type=t.type,t.definitionReference&&(i.definitionReference=t.definitionReference),i.alias=t.alias,i.isPrimary=t.isPrimary,i.isRetained=t.isRetained),i},n.createArtifact=function(n,t,i,r){var u={};switch(t.id){case c.ArtifactTypes.Build:u[e.ArtifactDefinitionConstants.ProjectId]=r?{id:r.id,name:r.name}:{id:f.getDefaultWebContext().project.id,name:f.getDefaultWebContext().project.name};u[c.ArtifactDefaultVersionConstants.DefaultVersionType]={id:c.ArtifactDefaultVersionConstants.Latest,name:h.DefaultArtifactLatestText};break;case c.ArtifactTypes.JenkinsId:!i||(u[e.ArtifactDefinitionConstants.ConnectionId]={id:i.id,name:i.name})}return u[e.ArtifactDefinitionConstants.DefinitionId]={id:n.id,name:n.name},{id:0,definitionReference:u,alias:a.ArtifactHelper.getSanitizedAliasName(n.name),type:t.id,artifactTypeName:t.name,sourceId:"",isPrimary:!1,isRetained:!1}},n.areSameTypeArtifacts=function(t,i){if(!t||!i)return!1;var u=n.create(t),r=n.create(i),f=u.getArtifactType();switch(f){case c.ArtifactTypes.Build:if(f!==r.getArtifactType()||u.getProjectId()!==r.getProjectId()||u.getDefinitionId()!==r.getDefinitionId()||u.getBranchId()!==r.getBranchId())return!1;case c.ArtifactTypes.JenkinsId:if(f!==r.getArtifactType()||u.getDefinitionId()!==r.getDefinitionId())return!1}return!0},n.getVersionDifference=function(t,i){var r=n.create(t),u=n.create(i);return r.getVersionRank()-u.getVersionRank()},n.isSupportedArtifactTypeId=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,n)===0},n.isSupportedArtifactTypeIdForCommits=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,n)===0||u.localeIgnoreCaseComparer(c.ArtifactTypes.JenkinsId,n)===0},n.isSupportedArtifactTypeIdForWorkItems=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,n)===0||u.localeIgnoreCaseComparer(c.ArtifactTypes.JenkinsId,n)===0&&l.FeatureFlagUtils.isBuildArtifactTasksEnabled()},n.isArtifactConfiguredWithExternalWorkItemService=function(n){return u.localeIgnoreCaseComparer(c.ArtifactTypes.JenkinsId,n)===0&&l.FeatureFlagUtils.isBuildArtifactTasksEnabled()},n.isPrimaryArtifactSupportedType=function(t){var i=a.ArtifactsHelper.getPrimaryArtifact(t.artifacts),r=!i?null:n.create(i);return!!r&&n.isSupportedArtifactTypeId(r.getArtifactType())},n.getPrimaryArtifactTypeId=function(t){var i=!!t&&l.ArrayHelper.hasItems(t.artifacts)?a.ArtifactsHelper.getPrimaryArtifact(t.artifacts):null,r=!i?null:n.create(i);return!r?u.empty:r.getArtifactType()},n.prototype.getSourceName=function(){return this._getPropertyDisplayValue(e.ArtifactDefinitionConstants.DefinitionId)},n.prototype.getProjectId=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.ProjectId)},n.prototype.getBranchId=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.BranchId)},n.prototype.getAlias=function(){return this.alias},n.prototype.getDefinitionId=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.DefinitionId)},n.prototype.getVersion=function(){return this._getPropertyDisplayValue(e.ArtifactDefinitionConstants.Version)},n.prototype.getVersionRankAsString=function(){return this._getPropertyValue(e.ArtifactDefinitionConstants.Version)},n.prototype.getVersionRank=function(){return this._getPropertyValueNumber(e.ArtifactDefinitionConstants.Version)},n.prototype.getArtifactType=function(){return this.type?this.type:u.empty},n.prototype.getServicesId=function(){return this.definitionReference.hasOwnProperty(e.ArtifactDefinitionConstants.ConnectionId)?this.definitionReference[e.ArtifactDefinitionConstants.ConnectionId].id:u.empty},n.prototype.setVersion=function(n){this._setValue(e.ArtifactDefinitionConstants.Version,n)},n.prototype._setValue=function(n,t){this.definitionReference&&(this.definitionReference[n]={id:t.value,name:t.displayValue})},n.prototype._getPropertyDisplayValue=function(n){return this.definitionReference&&this.definitionReference.hasOwnProperty(n)&&this.definitionReference[n]?this.definitionReference[n].name:u.empty},n.prototype._getPropertyValue=function(n){return this.definitionReference&&this.definitionReference.hasOwnProperty(n)&&this.definitionReference[n]?this.definitionReference[n].id:u.empty},n.prototype._getPropertyValueNumber=function(n){return this.definitionReference&&this.definitionReference.hasOwnProperty(n)&&this.definitionReference[n]&&this.definitionReference[n].id?parseInt(this.definitionReference[n].id):undefined},n}();t.Artifact=y;w=function(){function n(){}return n.getLastReleasePromise=function(t){var r=i.defer(),u=o.ReleaseExpands.Artifacts;return n._getLastNReleases(t.id,t.releaseDefinition.id,2,u,null,t.status).then(function(n){var t=null;!n||!n.releases||n.releases.length!==1?!!n&&!!n.releases&&n.releases.length>=2&&(t=n.releases[1]):t=n.releases[0];r.resolve(t)},function(n){r.reject(n)}),r.promise},n.getLastNReleasePromise=function(t){var r=i.defer(),u=o.ReleaseExpands.Artifacts|o.ReleaseExpands.Environments,f=o.ReleaseStatus.Active|o.ReleaseStatus.Abandoned;return n._getLastNReleases(t.id,t.releaseDefinition.id,n.defaultWICommitsDropDownReleasesCount,u,f,t.status).then(function(n){r.resolve(n.releases)},function(n){r.reject(n)}),r.promise},n.getLastReleaseOnEnvironment=function(n){return function(t){var r=i.defer(),u=!1;return n.then(function(n){var i=t;!n||(i=n,u=!0);r.resolve({lastRelease:i,hasLastReleaseDeployed:u})},function(n){r.reject(n)}),r.promise}},n.getReleaseDefinitionSummaryPromise=function(t){var r=i.defer();return n._getReleaesDefinitionSummary(t).then(function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},n.getReleaseDefintionSummary=function(n){var t;return s.serviceContext.releaseDefinitionManager().getReleaseDefinitionSummary(n,1,!1).then(function(n){t=n}),t},n.getReleaseNamesWithEnvironmentStatus=function(n,t,i){var f=[],r={};return!i||!i.environments||i.environments.forEach(function(t){if(!!t.lastReleases&&l.ArrayHelper.hasItems(t.lastReleases)&&t.lastReleases[0].id!==n.id){var f=t.lastReleases[0].id;i.releases.forEach(function(n){n.id===f&&n.environments.forEach(function(n){n.definitionEnvironmentId===t.id&&(r[f]=r[f]?u.format("{0}, {1}",r[f],n.name):n.name)})})}}),t.forEach(function(t){if(t.id!==n.id){var i=t.name,e=r[t.id];e?(i=u.format("{0} ({1} {2})",i,h.NowOnText,e),f.push(i)):f.push(i)}}),f},n.clearLastReleasesCache=function(){n._releaseIdToLastNReleasesPromiseMap={}},n._getReleaesDefinitionSummary=function(n){return s.serviceContext.releaseDefinitionManager().getReleaseDefinitionSummary(n,1,!1)},n._getLastNReleases=function(t,i,r,u,f,e){if(n._releaseIdToLastNReleasesPromiseMap[t])return n._releaseIdToLastNReleasesPromiseMap[t];var h=s.serviceContext.releaseManager().beginGetReleasesWithContinuationToken(i,0,null,f,null,null,null,o.ReleaseQueryOrder.Descending,r,t,u,null);return e!==o.ReleaseStatus.Draft&&(n._releaseIdToLastNReleasesPromiseMap[t]=h),h},n.defaultMaxItems=250,n.defaultWICommitsDropDownReleasesCount=11,n._releaseIdToLastNReleasesPromiseMap={},n}();t.ReleaseWorkItemChangesHelper=w;k=function(){function n(){}return n.getWorkItemsListPromise=function(t,r,f,e){var a=this;if(f===void 0&&(f=c.ArtifactTypes.Build),e===void 0&&(e=w.defaultMaxItems),t===r&&(r=0),!!t&&t<=0)return i.resolve([]);var o=i.defer(),h=s.serviceContext,v=h.releaseManager().beginGetReleaseWorkItems(t,r,e);return v.then(function(t){var i,r,s;l.ArrayHelper.hasItems(t)?!!f&&y.isSupportedArtifactTypeIdForWorkItems(f)&&u.localeIgnoreCaseComparer(c.ArtifactTypes.Build,f)!==0?o.resolve(a._getWorkItemsDetailsFromReleaseWorkItem(t)):(i=[],t.forEach(function(n){i.push({id:n.id,url:n.url})}),i=!!e&&e>0?i.length>e?i.slice(0,e):i:i,r=["System.AssignedTo","System.State","System.Title","System.WorkItemType"],s=h.workItemsManager().beginGetWorkItemsDetails(i,r),s.then(function(t){o.resolve(n._getWorkItemsWithDetails(t))},function(n){o.reject(n)})):o.resolve([])},function(n){o.reject(n)}),o.promise},n._getWorkItemsWithDetails=function(n){var t=[];return l.ArrayHelper.hasItems(n)&&$.each(n,function(n,i){var r={};r.url=i.url;r.id=i.id?i.id.toString():null;$.each(i.fields,function(n,t){switch(n){case"System.AssignedTo":r.assignedTo=t?t.displayName||t.uniqueName||u.empty:null;break;case"System.State":r.state=t;break;case"System.Title":r.title=t;break;case"System.WorkItemType":r.workItemType=t}});t.push(r)}),t},n._getWorkItemsDetailsFromReleaseWorkItem=function(n){var t=[];return l.ArrayHelper.hasItems(n)&&n.forEach(function(n){var i={};i.url=n.url;i.id=n.id;i.assignedTo=n.assignee;i.state=n.state;i.title=n.title;i.workItemType=n.type;t.push(i)}),t},n}();t.WorkItemsHelper=k;d=function(){function n(){}return n.GetArtifactDeploymentType=function(n,t){var i,r,u;return!n||!t?c.ArtifactDeployment.None:n.id===t.id?c.ArtifactDeployment.SameRelease:(i=a.ArtifactsHelper.getPrimaryArtifact(n.artifacts),r=a.ArtifactsHelper.getPrimaryArtifact(t.artifacts),!y.areSameTypeArtifacts(i,r))?c.ArtifactDeployment.None:(u=y.getVersionDifference(i,r),u===0)?c.ArtifactDeployment.SameArtifact:u<0?c.ArtifactDeployment.Rollback:c.ArtifactDeployment.None},n}();t.DeployedArtifact=d;r.tfsModuleLoaded("TFS.ReleaseManagement.EditorModels",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorSnapshots",["require","exports","q","VSS/VSS","VSS/Utils/String","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Model","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorModels","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleaseManagement/Core/Constants"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a,v;Object.defineProperty(t,"__esModule",{value:!0});l=function(){function n(){this.id=0;this.name="";this.rank=1;this.owner=null;this.conditions=[];this.deployPhases=[];this.variables={};this.variableGroups=[];this.environmentOptions={emailNotificationType:c.RunOptionsConstants.EnvironmentOwnerEmailNotificationTypeDefaultValue,emailRecipients:c.RunOptionsConstants.EnvironmentOwner+";"+c.RunOptionsConstants.ReleaseCreator,skipArtifactsDownload:!1,timeoutInMinutes:0,enableAccessToken:!1,publishDeploymentStatus:!1,badgeEnabled:!1,autoLinkWorkItems:!1,pullRequestDeploymentEnabled:!1};this.environmentTriggers=[];this.executionPolicy=null;this.releaseId=0;this.definitionEnvironmentId=0;this.preDeployApprovals=s.EnvironmentDefinition.getDefaultApprovals();this.postDeployApprovals=s.EnvironmentDefinition.getDefaultApprovals();this.schedules=[];this.retentionPolicy=null;this.processParameters=null;this.properties={};this.preDeploymentGates=null;this.postDeploymentGates=null}return n.createFromReleaseEnvironment=function(t){var i=new n;return t&&(i.id=t.id,i.name=t.name,i.rank=t.rank,i.conditions=this.getConditions(t.conditions),i.variables=t.variables,i.variableGroups=t.variableGroups,i.environmentOptions=t.environmentOptions,i.releaseId=t.releaseId,i.executionPolicy=null,i.deployStep={id:0,tasks:[]},i.deployPhases=t.deployPhasesSnapshot,i.definitionEnvironmentId=t.definitionEnvironmentId,i.preDeployApprovals=t.preApprovalsSnapshot,i.postDeployApprovals=t.postApprovalsSnapshot,i.owner=t.owner,i.schedules=t.schedules,i.processParameters=t.processParameters,i.properties=null,i.preDeploymentGates=t.preDeploymentGatesSnapshot,i.postDeploymentGates=t.postDeploymentGatesSnapshot),i},n.createFromEnvironmentDefinition=function(t){var i=new n;return t&&(i.id=t.id,i.name=t.name,i.rank=t.rank,i.conditions=this.getConditions(t.conditions),i.variables=t.variables,i.variableGroups=this._convertToVariableGroups(t.variableGroups),i.environmentOptions=t.environmentOptions,i.environmentTriggers=t.environmentTriggers,i.executionPolicy=!t.executionPolicy?null:t.executionPolicy,i.schedules=t.schedules,i.owner=t.owner,i.deployStep=t.deployStep,i.deployPhases=t.deployPhases,i.preDeployApprovals=t.preDeployApprovals,i.postDeployApprovals=t.postDeployApprovals,i.releaseId=null,i.definitionEnvironmentId=null,i.retentionPolicy=t.retentionPolicy,i.processParameters=t.processParameters,i.properties=t.properties,i.preDeploymentGates=t.preDeploymentGates,i.postDeploymentGates=t.postDeploymentGates),i},n.getReleaseEnvironment=function(n){var t=new o.ReleaseEnvironmentBase;return n&&(t.id=n.id,t.name=n.name,t.rank=n.rank,t.conditions=this.getConditions(n.conditions),t.variables=n.variables,t.variableGroups=n.variableGroups,t.environmentOptions=n.environmentOptions,t.releaseId=n.releaseId,t.definitionEnvironmentId=n.definitionEnvironmentId,t.preApprovalsSnapshot=n.preDeployApprovals,t.postApprovalsSnapshot=n.postDeployApprovals,t.deployPhasesSnapshot=n.deployPhases,t.schedules=n.schedules,t.processParameters=n.processParameters,t.preDeploymentGatesSnapshot=n.preDeploymentGates,t.postDeploymentGatesSnapshot=n.postDeploymentGates),t},n.getEnvironmentDefinition=function(n){var t=new s.EnvironmentDefinition;return n&&(t.id=n.id,t.name=n.name,t.rank=n.rank,t.conditions=n.conditions,t.variables=n.variables,t.variableGroups=this._getVariableGroupIds(n.variableGroups),t.environmentOptions=n.environmentOptions,t.environmentTriggers=n.environmentTriggers,t.executionPolicy=!n.executionPolicy?null:n.executionPolicy,t.schedules=n.schedules,t.preDeployApprovals=n.preDeployApprovals,t.postDeployApprovals=n.postDeployApprovals,t.owner=n.owner,t.deployStep=n.deployStep,t.deployPhases=n.deployPhases,t.retentionPolicy=n.retentionPolicy,t.properties=n.properties,t.processParameters=n.processParameters,t.preDeploymentGates=n.preDeploymentGates,t.postDeploymentGates=n.postDeploymentGates),t},n.getConditions=function(n){var t=this;return h.ArrayHelper.hasItems(n)?$.map(n,function(n){return{conditionType:n.conditionType,name:n.name,value:t.getConditionValue(n.conditionType,n.value),result:null}}):[]},n.getConditionValue=function(n,t){return n===f.ConditionType.Artifact?t:isNaN(parseInt(t))?u.ignoreCaseComparer(f.EnvironmentStatus[f.EnvironmentStatus.Succeeded],t)===0?f.EnvironmentStatus.Succeeded.toString():u.empty:t},n._convertToVariableGroups=function(n){var t=[];return h.ValidateParameters.isNullOrEmpty(n)||n.forEach(function(n){t.push({id:n,type:"VSTS",createdBy:null,createdOn:null,description:null,providerData:null,modifiedBy:null,modifiedOn:null,name:null,isShared:undefined,variables:null})}),t},n._getVariableGroupIds=function(n){return n.map(function(n){return n.id})},n}();t.EnvironmentSnapshot=l;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.createSnapshot=function(n){var t=new o.BaseSnapshot;return n&&(t.id=n.id,t.name=n.name,t.comment=n.comment,t.description=n.description,t.releaseNameFormat=n.releaseNameFormat,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getEnvironmentSnapshots(n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=n.variableGroups,t.keepForever=n.keepForever,t.triggers=[],t.modifiedBy=null,t.properties=n.properties,t.definitionSnapshotRevision=n.definitionSnapshotRevision),t},t.prototype.getFromSnapshot=function(n){var t=new o.Release;return t.id=n.id,t.name=n.name,t.description=n.description,t.comment=n.comment,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getReleaseEnvironments(n.id,n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=n.variableGroups,t.releaseNameFormat=n.releaseNameFormat,t.keepForever=n.keepForever,t.properties=n.properties,t.definitionSnapshotRevision=n.definitionSnapshotRevision,t.getReleaseData()},t.prototype.save=function(n){var t=i.defer(),r=this.getFromSnapshot(n),u=e.serviceContext.releaseManager,f=u().beginUpdateRelease(r);return f.then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},t.prototype.delete=function(n,t){return e.serviceContext.releaseManager().deleteRelease(n,t)},t.prototype.getRelease=function(){return this._release},t.prototype.updateRelease=function(n){this._release=n},t.prototype._getEnvironmentDefinitions=function(n){return $.map(n,function(n){return l.getEnvironmentDefinition(n)})},t.prototype._getReleaseEnvironments=function(n,t){return $.map(t,function(n){return l.getReleaseEnvironment(n)})},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return l.createFromReleaseEnvironment(n)})},t}(o.BaseSnapshot);t.ReleaseSnapshot=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.createSnapshot=function(n){var t=new o.BaseSnapshot;return n&&(t.id=n.id,t.revision=n.revision,t.name=n.name,t.releaseNameFormat=n.releaseNameFormat,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getEnvironmentSnapshots(n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=this._convertToVariableGroups(n.variableGroups),t.triggers=n.triggers),t},t.prototype.getFromSnapshot=function(n){var t=new s.ReleaseDefinitionModel(n.name);return n&&(t.id=n.id,t.revision=n.revision,t.releaseNameFormat=n.releaseNameFormat,t.createdOn=n.createdOn,t.createdBy=n.createdBy,t.modifiedOn=n.modifiedOn,t.modifiedBy=n.modifiedBy,t.environments=this._getEnvironmentDefinitions(n.environments),t.artifacts=n.artifacts,t.variables=n.variables,t.variableGroups=this._getVariableGroupIds(n.variableGroups),t.triggers=n.triggers,t.comment=n.comment),t},t.prototype.save=function(n){var r=i.defer(),t=this.getFromSnapshot(n),u=null;return t.id>0?u=e.serviceContext.releaseDefinitionManager().save(t):(t.source=f.ReleaseDefinitionSource.UserInterface,u=e.serviceContext.releaseDefinitionManager().create(t)),u.then(function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},t.prototype.delete=function(n){return e.serviceContext.releaseDefinitionManager().deleteReleaseDefinition(n)},t.prototype._getEnvironmentDefinitions=function(n){return $.map(n,function(n){return l.getEnvironmentDefinition(n)})},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return l.createFromEnvironmentDefinition(n)})},t.prototype._convertToVariableGroups=function(n){var t=[];return h.ValidateParameters.isNullOrEmpty(n)||n.forEach(function(n){t.push({id:n,type:"VSTS",createdBy:null,createdOn:null,description:null,providerData:null,modifiedBy:null,modifiedOn:null,name:null,isShared:undefined,variables:null})}),t},t.prototype._getVariableGroupIds=function(n){return n.map(function(n){return n.id})},t}(o.BaseSnapshot);t.DefinitionSnapshot=v;r.tfsModuleLoaded("TFS.ReleaseManagement.EditorSnapshots",t)});

/*! knockout-secure-binding - v1.0.6 - 2017-08-24
 *  https://github.com/brianmhunt/knockout-secure-binding
 *  Copyright (c) 2013 - 2017 Brian M Hunt; License: MIT */
;(function(factory) {
    //AMD
    if (typeof define === "function" && define.amd) {
        define("knockoutSecureBinding",["knockout", "exports"], factory);
        //normal script tag
    } else {
        factory(ko);
    }
}(function(ko, exports, undefined) {
function value_of(e){return e instanceof Identifier||e instanceof Expression?e.get_value():e}function _object_map(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n}function _virtualNodeBindingValue(e){var t=(commentNodesHaveTextProperty?e.text:e.nodeValue).match(startCommentRegex);return t?t[1]:null}function is_identifier_char(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<=9||"_"===e||"$"===e}function secureBindingsProvider(e){new ko.bindingProvider;e=e||{},this.attribute=e.attribute||"data-sbind",this.noVirtualElements=e.noVirtualElements||!1,this.globals=e.globals||{},this.bindings=e.bindings||ko.bindingHandlers}function registerBindings(e){ko.utils.extend(this.bindings,e)}function nodeHasBindings(e){var t;return e.nodeType===e.ELEMENT_NODE?e.getAttribute(this.attribute)||ko.components&&ko.components.getComponentNameForNode(e):e.nodeType===e.COMMENT_NODE?!this.noVirtualElements&&(t=(""+e.nodeValue||e.text).trim(),0===t.indexOf("ko ")):void 0}function getBindingsString(e){switch(e.nodeType){case e.ELEMENT_NODE:return e.getAttribute(this.attribute);case e.COMMENT_NODE:return _virtualNodeBindingValue(e);default:return null}}function nodeParamsToObject(e,t){var n=t.parse(e.getAttribute("params"));if(!n||0===Object.keys(n).length)return{$raw:{}};var r=_object_map(n,function(t,n){return ko.computed(t,null,{disposeWhenNodeIsRemoved:e})}),i=_object_map(r,function(t,n){var r=t.peek();return t.isActive()?ko.computed({read:function(){return ko.utils.unwrapObservable(t())},write:ko.isWriteableObservable(r)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):r});return i.hasOwnProperty("$raw")||(i.$raw=r),i}function getBindings(e,t){var n,r={},i=new Parser(e,t,this.globals),o=this.getBindingsString(e);if(e.nodeType===e.ELEMENT_NODE&&ko.components&&(n=ko.components.getComponentNameForNode(e)),o&&(r=i.parse(o||"")),n){if(r.component)throw new Error("Cannot use a component binding on custom elements");var s={name:n,params:nodeParamsToObject(e,i)};r.component=function(){return s}}return r}var Identifier,Expression,Parser,Node,originalBindingProviderInstance=new ko.bindingProvider,commentNodesHaveTextProperty=document&&"<!--test-->"===document.createComment("test").text,startCommentRegex=commentNodesHaveTextProperty?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/;Identifier=function(){function e(e,t,n){this.token=t,this.dereferences=n,this.parser=e}return e.prototype.lookup_value=function(e){var t=this.token,n=this.parser,r=n.context,i=r.$data||{},o=n.globals||{};if(e)return value_of(e)[t];switch(t){case"$element":return n.node;case"$context":return r;case"$data":return i}return i[t]||r[t]||o[t]},e.prototype.dereference=function(e){var t,n,r,i,o=this.dereferences||[],s=this.parser,h=s.context||{},a=h.$data||{},u={$context:h,$data:a,globals:s.globals||{},$element:s.node};for(r=0,i=o.length;r<i;++r)t=o[r],t instanceof Array?e&&e.call&&(e=e.apply(n||a||u,this.convert_args(t)),n=e):(n=e,e&&(e=e[value_of(t)]));return e},e.prototype.convert_args=function(t){var n,r=[];if(!t||0===t.length)return r;for(n=0;n<t.length;n++)t[n]instanceof e||t[n]instanceof Expression?r.push(t[n].get_value()):r.push(t[n]);return r},e.prototype.get_value=function(e){return this.dereference(this.lookup_value(e))},e.prototype.set_value=function(e){var t,n,r,i=this.parser,o=i.context,s=o.$data||{},h=i.globals||{},a=this.dereferences||[],u=this.token;if(Object.hasOwnProperty.call(s,u))r=s;else if(Object.hasOwnProperty.call(o,u))r=o;else{if(!Object.hasOwnProperty.call(h,u))throw new Error("Identifier::set_value -- The property '"+u+"' does not exist on the $data, $context, or globals.");r=h}for(n=a.length,0===n&&(r[u]=e),r=r[u],t=0;t<n-1;++t)u=a[t],r=u===!0?r():r[value_of(u)];if(a[t]===!0)throw new Error("Cannot assign a value to a function.");r[value_of(a[t])]=e},e}(),Node=function(){function e(e,t,n){this.lhs=e,this.op=t,this.rhs=n}var t={"!":function(e,t){return!t},"!!":function(e,t){return!!t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"^":function(e,t){return e^t},"|":function(e,t){return e|t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?":function(e,t){return e||t},"-:":function(e,t){return e?t:null},":-":function(e,t){return e?null:t}};return t["!"].precedence=4,t["!!"].precedence=4,t["*"].precedence=5,t["/"].precedence=5,t["%"].precedence=5,t["+"].precedence=6,t["-"].precedence=6,t["<"].precedence=8,t["<="].precedence=8,t[">"].precedence=8,t[">="].precedence=8,t["=="].precedence=9,t["!="].precedence=9,t["==="].precedence=9,t["!=="].precedence=9,t["&"].precedence=10,t["^"].precedence=11,t["|"].precedence=12,t["&&"].precedence=13,t["||"].precedence=14,e.operators=t,e.prototype.get_leaf_value=function(t,n){if("function"==typeof t)return ko.utils.unwrapObservable(t());if("object"!=typeof t)return n?n[t]:t;if(t instanceof Identifier||t instanceof Expression)return ko.utils.unwrapObservable(t.get_value(n));if(t instanceof e)return t.get_node_value(n);throw new Error("Invalid type of leaf node: "+t)},e.prototype.get_node_value=function(){return this.op(this.get_leaf_value(this.lhs),this.get_leaf_value(this.rhs))},e}(),Expression=function(){function e(e){this.nodes=e,this.root=this.build_tree(e)}return e.operators=Node.operators,e.Node=Node,e.prototype.build_tree=function(e){var t,n,r,i;for(n=t=new Node(e.shift(),e.shift(),e.shift());e&&(r=e.shift(),i=e.shift(),r);)r.precedence>=t.op.precedence?(t=new Node(t,r,i),n=t):(n.rhs=new Node(n.rhs,r,i),n=n.rhs);return t},e.prototype.get_value=function(){return this.root||(this.root=this.build_tree(this.nodes)),this.root.get_node_value()},e}(),Parser=function(){function e(e,t,n){this.node=e,this.context=t,this.globals=n||{}}var t={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},n=Expression.operators;return e.Expression=Expression,e.Identifier=Identifier,e.Node=Node,e.prototype.white=function(){for(var e=this.ch;e&&e<=" ";)e=this.next();return e},e.prototype.next=function(e){return e&&e!==this.ch&&this.error("Expected '"+e+"' but got '"+this.ch+"'"),this.ch=this.text.charAt(this.at),this.at+=1,this.ch},e.prototype.error=function(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}},e.prototype.name=function(){var e="";this.white();for(var t=this.ch;t;){if(":"===t||t<=" "||","===t)return e;e+=t,t=this.next()}return e},e.prototype.number=function(){var e,t="",n=this.ch;for("-"===n&&(t="-",n=this.next("-"));n>="0"&&n<="9";)t+=n,n=this.next();if("."===n)for(t+=".",n=this.next();n&&n>="0"&&n<="9";)t+=n,n=this.next();if("e"===n||"E"===n)for(t+=n,n=this.next(),"-"!==n&&"+"!==n||(t+=n,n=this.next());n>="0"&&n<="9";)t+=n,n=this.next();return e=+t,isFinite(e)?e:void error("Bad number")},e.prototype.object_add_value=function(e,t,n){n instanceof Identifier||n instanceof Expression?Object.defineProperty(e,t,{get:function(){return n.get_value()},enumerable:!0}):e[t]=n},e.prototype.object=function(){var e,t={},n=this.ch;if("{"===n){if(this.next("{"),n=this.white(),"}"===n)return n=this.next("}"),t;for(;n;){if(e='"'===n||"'"===n?this.string():this.name(),this.white(),n=this.next(":"),Object.hasOwnProperty.call(t,e)&&this.error('Duplicate key "'+e+'"'),this.object_add_value(t,e,this.expression()),n=this.white(),"}"===n)return n=this.next("}"),t;this.next(","),n=this.white()}}this.error("Bad object")},e.prototype.read_string=function(e){for(var n,r,i,o="",s=this.next();s;){if(s===e)return s=this.next(),o;if("\\"===s)if(s=this.next(),"u"===s){for(i=0,r=0;r<4&&(n=parseInt(s=this.next(),16),isFinite(n));r+=1)i=16*i+n;o+=String.fromCharCode(i)}else{if("string"!=typeof t[s])break;o+=t[s]}else o+=s;s=this.next()}this.error("Bad string")},e.prototype.string=function(){var e=this.ch;return'"'===e?this.read_string('"'):"'"===e?this.read_string("'"):void this.error("Bad string")},e.prototype.array=function(){var e=[],t=this.ch;if("["===t){if(t=this.next("["),this.white(),"]"===t)return t=this.next("]"),e;for(;t;){if(e.push(this.expression()),t=this.white(),"]"===t)return t=this.next("]"),e;this.next(","),t=this.white()}}this.error("Bad array")},e.prototype.value=function(){var e;switch(this.white(),e=this.ch){case"{":return this.object();case"[":return this.array();case'"':case"'":return this.string();case"-":return this.number();default:return e>="0"&&e<="9"?this.number():this.identifier()}},e.prototype.operator=function(){for(var e,t="",r=this.white();r&&!(is_identifier_char(r)||r<=" "||""===r||'"'===r||"'"===r||"{"===r||"["===r||"("===r);)t+=r,r=this.next();return""!==t&&(e=n[t],e||this.error("Bad operator: '"+t+"'.")),e},e.prototype.condExpression=function(e){var t,n,r,i;return this.white(),this.next("?"),this.white(),t=this.expression(),r=new Expression([e,Expression.operators["-:"],t]),this.white(),this.next(":"),this.white(),n=this.expression(),i=new Expression([e,Expression.operators[":-"],n]),new Expression([r,Expression.operators["?"],i])},e.prototype.expression=function(){for(var e,t=[],n=this.white();n&&(op=this.operator(),op&&(t.push(void 0),t.push(op)),n=this.ch,"("===n?(this.next(),t.push(this.expression()),this.next(")")):(e=this.value(),t.push(e)),n=this.white(),":"!==n&&"}"!==n&&","!==n&&"]"!==n&&")"!==n&&""!==n);){if("?"===n&&1===t.length)return this.condExpression(t[0]);op=this.operator(),op&&t.push(op),n=this.white()}if(0!==t.length)return 1===t.length?t[0]:new Expression(t)},e.prototype.dereference=function(){for(var e,t=this.white();t;){if("("===t){this.next("("),t=this.white();for(var n=[];t;){if(")"===t){this.next(")"),this.white();break}","===t&&(this.next(","),t=this.white()),n.push(this.expression()),t=this.white()}return n}if("["===t)return this.next("["),e=this.expression(),this.white(),this.next("]"),e;if("."===t){for(e="",this.next("."),t=this.white();t&&is_identifier_char(t);)e+=t,t=this.next();return e}break}},e.prototype.identifier=function(){var e,t,n="",r=[];for(e=this.white();e&&is_identifier_char(e);)n+=e,e=this.next();switch(n){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return}for(;e&&(t=this.dereference(),void 0!==t);)r.push(t);return new Identifier(this,n,r)},e.prototype.bindings=function(){var e,t,n={},r=!1;this.white(),"{"===this.ch&&(this.next("{"),this.white(),r=!0);for(var i=this.ch;i;)e=this.name(),t=this.white(),t&&","!==t?(i=this.next(":"),n[e]=this.expression(),this.white(),"}"===this.ch?r?(this.next("}"),i=this.white()):this.error("Unexpected char '}' found"):i=this.ch?this.next(","):""):(i=t?this.next(","):"",n[e]=null);return n},e.prototype.convert_to_accessors=function(e){var t={};return ko.utils.objectForEach(e,function(n,r){r instanceof Identifier?(e[n]=r.get_value(),ko.expressionRewriting._twoWayBindings[n]&&(t[n]=function(e){r.set_value(e)})):r instanceof Expression?e[n]=r.get_value():"function"!=typeof r&&(e[n]=r)}),Object.keys(t).length>0&&(e._ko_property_writers=function(){return t}),e},e.prototype.parse=function(e){if(this.text=(e||"").trim(),this.at=0,this.ch=" ",!this.text)return null;var t=this.bindings();return this.white(),this.ch&&this.error("Syntax Error"),this.convert_to_accessors(t)},e}(),ko.utils.objectForEach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},ko.expressionRewriting._twoWayBindings={},ko.expressionRewriting._twoWayBindings.checked=!0,ko.expressionRewriting._twoWayBindings.hasfocus=!0,ko.expressionRewriting._twoWayBindings.hasFocus=!0,ko.expressionRewriting._twoWayBindings.selectedOptions=!0,ko.expressionRewriting._twoWayBindings.textInput=!0,ko.expressionRewriting._twoWayBindings.value=!0,ko.utils.extend(secureBindingsProvider.prototype,{registerBindings:registerBindings,nodeHasBindings:nodeHasBindings,getBindings:getBindings,getBindingsString:getBindingsString,nodeParamsToObject:nodeParamsToObject,Parser:Parser});    
    ko.secureBindingsProvider = secureBindingsProvider;
    
    return secureBindingsProvider;
}));

// Copyright (C) Microsoft Corporation. All rights reserved.
define("DistributedTasksCommon/TFS.Knockout.Secure",["require","exports","knockout","knockoutSecureBinding","VSS/FeatureAvailability/Services"],function(n,t,i,r,u){function o(){if(!e){if(!u.FeatureAvailabilityService.isFeatureEnabled(f,!1)){console.log("Please enable FF "+f+" to register knockout secure binding.");return}var n={attribute:"data-bind",globals:window,bindings:i.bindingHandlers,noVirtualElements:!1};i.bindingProvider.instance=new r(n);e=!0}}Object.defineProperty(t,"__esModule",{value:!0});var f="Webaccess.DistributedTask.KSB",e=!1;t.registerSecureBinding=o});

define("DistributedTasksCommon/TFS.Knockout.Tree.TreeView",["require","exports","knockout","VSS/Controls/TreeView"],function(n,t,i,r){var u,f,e;Object.defineProperty(t,"__esModule",{value:!0});u="tfs-knockout-tree-view-tree-node-holder";f=function(n){function t(t,i,r,u){var f=n.call(this,i,{css:r},u,t)||this;return f.templateName="",f.ariaLabel="",f}return __extends(t,n),t.prototype.getContributionContext=function(){return n.prototype.getContributionContext.call(this)},t}(r.TreeNode);t.KnockoutTreeNode=f;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._onMenuItemClick=function(n){if(t._options.menuOptions.onMenuItemClick){var i=n.get_commandName(),r=n.get_commandArgument().node;t._options.menuOptions.onMenuItemClick(i,r)}},t}return __extends(t,n),t.prototype.setNodes=function(n){n&&n.length>0&&(this.rootNode.clear(),this.rootNode.addRange(n),this._draw(),this._initializeNode())},t.prototype.initializeOptions=function(t){var r="tfs-knockout-tree ",i;t&&t.className&&(r+=t.className);i=__assign({className:r,useBowtieStyle:!0,useArrowKeysForNavigation:!0,setTitleOnlyOnOverflow:!0},t);t.menuOptions&&(i.contextMenu={executeAction:this._onMenuItemClick,arguments:function(n){return{node:n.item}}});n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._element.bind("selectionchanged",function(n){t._onSelectionChanged(n)});this._initializeNode()},t.prototype.onShowPopupMenu=function(t,i){var r=this._options.menuOptions.getMenuOptions(t);n.prototype.onShowPopupMenu.call(this,t,__assign({},i,r))},t.prototype._updateNode=function(t,r,f){var o=n.prototype._updateNode.call(this,t,r,f),e;r.ariaLabel&&o.attr("aria-label",r.ariaLabel);r.templateName&&(e=t.find("."+u),e.length==0&&(e=$("<div />").addClass(u),e.attr("data-bind",'template: { name: "'+r.templateName+'" }'),t.append(e)),i.cleanNode(e[0]),i.applyBindings(r.tag,e[0]))},t.prototype._initializeNode=function(){if(this._options.selectFirstNodeByDefault&&this._options.nodes&&this._options.nodes[0]){var n=this._options.nodes[0];this.setSelectedNode(n);n.hasChildren()&&!n.expanded&&this._toggle(this._options.nodes[0],this._getNodeElement(n))}},t.prototype._onSelectionChanged=function(n){var t=this.getSelectedNode();if($.isFunction(this._options.onClick))this._options.onClick(t,n)},t}(r.TreeViewO);t.TreeView=e});

define("VSS/Controls/Splitter",["require","exports","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!Splitter"],function(n,t,i,r,u,f,e){var o;Object.defineProperty(t,"__esModule",{value:!0});var s=f.delegate,h=e.domElem,c=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._screenXY="pageX",i._cssPosProp="left",i._cssSizeProp="width",i._leftFix=!0,i._deltaMultiplier=1,i._dragStart=!1,i._ignoreWindowResize=!1,t&&t.initialSize&&(i._fixedSidePixels=t.initialSize),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"splitter",vertical:!0,fixedSide:"left"},t))},t.prototype._enhance=function(t){var i,r;n.prototype._enhance.call(this,t);this.leftPane=t.children(".leftPane");this.handleBar=t.children(".handleBar");this.rightPane=t.children(".rightPane");this.handleBar.append(h("div","handleBar-hitTarget"));i=this._options;t.hasClass(o.VERTICAL_CLASS)?i.vertical=!0:t.hasClass(o.HORIZONTAL_CLASS)?i.vertical=!1:i.vertical===!0?t.addClass(o.VERTICAL_CLASS):t.addClass(o.HORIZONTAL_CLASS);i.expandState?this.expandState=i.expandState:this.getElement().hasClass("left-expand")?this.expandState="left":this.getElement().hasClass("right-expand")&&(this.expandState="right");this.getElement().hasClass("right-fix")?i.fixedSide="right":i.fixedSide==="right"?t.addClass("right-fix"):i.fixedSide="left";r=i.collapsedLabel;r||(r=t.data().collapsedLabel);r&&this.setCollapsedLabel(r)},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._setupHandleBar();var t=this._options;this.setMaxWidth(t.maxWidth);this.setMinWidth(t.minWidth);this._configureCssProps();this._isCollapsed()||this._setInitialSize();this._attachEvents();(this._options.enableToggleButton||this._isToggleButtonEnabled())&&(this.getElement().addClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME),this._ensureToggleButton(),this._isToggleButtonHotkeyEnabled()&&this._bind($(window.document),"keyup",s(this,this._onDocumentKeyup)));this.getElement().hasClass(o._noSplitCssClass)&&this._fixedSide.toggle(!1)},t.prototype._setupHandleBar=function(){var n=this.handleBar;n.attr({tabindex:this.isExpanded()?"0":"-1",role:"separator","aria-label":u.SplitterLabel});this._setAriaOrientation(this._options.vertical)},t.prototype._setInitialSize=function(){var n=0;this._options.initialSize>0&&(n=this._options.initialSize);n<=0&&(n=this.getElement().data().initialSize);n&&this.resize(n,!0,!1)},t.prototype.setMinWidth=function(n){this._minWidth=n;this.setAttribute("aria-valuemin",n,this.handleBar)},t.prototype.setMaxWidth=function(n){this._maxWidth=n;this.setAttribute("aria-valuemax",n,this.handleBar)},t.prototype._getAdjustedSize=function(n){var t=this._minWidth,i=this._maxWidth;return typeof t=="number"&&n<t&&(n=t),typeof i=="number"&&n>i&&(n=i),n},t.prototype.resize=function(n,t,i,r){var u,f,s,e,h;this.getElement().hasClass(o._noSplitCssClass)||this.getElement().is(":visible")&&(this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!1),n!==null&&n!==undefined&&(n<0?n=0:(e=this.getElement()[this._cssSizeProp]()-this.handleBar[this._cssSizeProp](),n>e&&(h=this.leftPane[this._cssSizeProp](),e<h&&(e=h),n=e))),u=n===null||n===undefined?"":n,i?(s=this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED,f=this._createAnimationOption(this._cssSizeProp,u+"px"),this._fixedSide.animate(f,s),f=this._createAnimationOption(this._cssPosProp,u+"px"),this._fillSide.animate(f,s),this.handleBar.animate(f,s,r)):(this._fixedSide.css(this._cssSizeProp,u),this._fillSide.css(this._cssPosProp,u),this.handleBar.css(this._cssPosProp,u),r&&r()),this._fixedSidePixels=n,this._layoutToggleButton(i),this.setAttribute("aria-valuenow",n,this.handleBar),t||this._fireWindowResize())},t.prototype.toggleExpanded=function(n){if((n===undefined||n!==this.isExpanded())&&(this.expandState?(this.removeExpand(),this.handleBar.attr("tabindex","0")):(this._options.fixedSide==="left"?this._expandInternal("right"):this._expandInternal("left"),this.handleBar.attr("tabindex","-1")),this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!this.isExpanded()),this._setToggleButtonTooltip(),this._fireWindowResize(),this._fire("changed",this),this._options.onToggle))this._options.onToggle(this.isExpanded())},t.prototype.expand=function(){this.toggleExpanded(!0)},t.prototype.collapse=function(){this.toggleExpanded(!1)},t.prototype.isExpanded=function(){return!this.expandState},t.prototype.removeExpand=function(n){this.getElement().removeClass("left-expand");this.getElement().removeClass("right-expand");this.expandState=null;n?(this._layoutToggleButton(),this._fireWindowResize()):this.resize(this._fixedSidePixels)},t.prototype._expandInternal=function(n){var t=this.getElement();n||(n="left");n==="left"?t.removeClass("right-expand").addClass("left-expand"):t.removeClass("left-expand").addClass("right-expand");this.expandState=n;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._layoutToggleButton();this.setAttribute("aria-valuenow",0,this.handleBar)},t.prototype.getFixedSidePixels=function(){return this._fixedSidePixels},t.prototype.toggleSplit=function(n,t,i){var r=this,u;n?(this.getElement().removeClass(o._noSplitCssClass),this._savedFixedSidePixels!==undefined&&(this._fixedSidePixels=this._savedFixedSidePixels,this._savedFixedSidePixels=undefined),this._fixedSide.css("display",""),this.expandState?(this._expandInternal(this.expandState),this.getElement().addClass(o.COLLAPSED_CLASS_NAME),this._setToggleButtonTooltip(),this._fireWindowResize()):t?(u=this._fixedSidePixels||i,this.resize(0,!0,!1),this.resize(u,!0,!0)):this.resize(this._fixedSidePixels||i)):(this._savedFixedSidePixels=this._fixedSidePixels,this.resize(0,!0,t,function(){r.getElement().addClass(o._noSplitCssClass);r.getElement().removeClass(o.COLLAPSED_CLASS_NAME);r._fixedSide.css(r._cssSizeProp,"").css("display","none");r._fillSide.css(r._cssPosProp,"");r.handleBar.css(r._cssPosProp,"");r._fireWindowResize()}))},t.prototype.noSplit=function(n){this.toggleSplit(!1,n)},t.prototype.split=function(n,t){this.toggleSplit(!0,n,t)},t.prototype.toggleOrientation=function(n,t){if(n=Boolean(n),this._options.vertical!==n){var i=this.getElement();i.removeClass("left-expand");i.removeClass("right-expand");this.expandState=null;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._options.vertical=n;i.toggleClass(o.VERTICAL_CLASS,n);i.toggleClass(o.HORIZONTAL_CLASS,!n);this._configureCssProps();this._setAriaOrientation(n);this.resize(t)}},t.prototype.vertical=function(){this.toggleOrientation(!0)},t.prototype.horizontal=function(){this.toggleOrientation(!1)},t.prototype._setAriaOrientation=function(n){this.setAttribute("aria-orientation",n===!1?"vertical":"horizontal",this.handleBar)},t.prototype.setCollapsedLabel=function(n){var i=this,t;this.handleBar.children(":not(.handleBar-hitTarget)").remove();n&&(t=$(h("div","handlebar-label")).prependTo(this.handleBar).attr("title",n).bind("mousedown",function(n){i.toggleExpanded(!0);n.preventDefault();n.stopPropagation()}),$(h("span","handlebar-label-text")).appendTo(t).text(n))},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._options.vertical===!1?this.getElement().addClass(o.HORIZONTAL_CLASS):this.getElement().addClass(o.VERTICAL_CLASS);this._options.expandState&&(this.expandState=this._options.expandState,this.getElement().addClass(this.expandState==="left"?"left-expand":"right-expand"));this._options.fixedSide==="right"&&this.getElement().addClass("right-fix");this.leftPane=$(h("div","leftPane")).appendTo(this.getElement());this.handleBar=$(h("div","handleBar")).appendTo(this.getElement());this.rightPane=$(h("div","rightPane")).appendTo(this.getElement());this.handleBar.append(h("div","handleBar-hitTarget"));this._options.collapsedLabel&&this.setCollapsedLabel(this._options.collapsedLabel)},t.prototype._configureCssProps=function(){var n=this._leftFix=this._options.fixedSide==="left";n?(this._deltaMultiplier=1,this._fixedSide=this.leftPane,this._fillSide=this.rightPane):(this._deltaMultiplier=-1,this._fixedSide=this.rightPane,this._fillSide=this.leftPane);this._options.vertical===!1?(this._screenXY="pageX",this._cssSizeProp="width",this._cssPosProp=n?"left":"right"):(this._screenXY="pageY",this._cssSizeProp="height",this._cssPosProp=n?"top":"bottom");this._isCollapsed()&&(this.expandState=this._options.fixedSide==="left"?"right":"left")},t.prototype._attachEvents=function(){var n=this;this._bind(this.handleBar,"mousedown",s(this,this._handleBarMouseDown));this._bind(this.handleBar,"dblclick",s(this,this._handleBarDoubleClick));this._bind(this.handleBar,"mouseover",function(){n.handleBar.addClass("hover")});this._bind(this.handleBar,"mouseout",function(){n.handleBar.removeClass("hover")});this._bind(this.handleBar,"selectstart",function(){return!1});this._bind(this.handleBar,"keydown",this._handleBarKeydown.bind(this));e.attachResize(this.getElement(),s(this,this._onWindowResize))},t.prototype._ensureToggleButton=function(){if(!this._$toggleButton){var t=this.getElement(),n=t.find(".toggle-button");n.length===0&&(this._$toggleButtonIcon=$("<span>").addClass("bowtie-icon"),n=$("<button>").addClass("toggle-button").append(this._$toggleButtonIcon),n.insertBefore(t.children(".handleBar")));this._$toggleButton=n;this._setToggleButtonTooltip();this._layoutToggleButton();this._$toggleButton.click(s(this,this._onToggleButtonClick))}},t.prototype._layoutToggleButton=function(n){var t,i,r=this.isExpanded();this._$toggleButton&&(r?(this._measureFixedSide(),t=this._fixedSidePixels-(o.TOGGLE_BUTTON_MARGIN+o.TOGGLE_BUTTON_LENGTH)):t=o.TOGGLE_BUTTON_MARGIN,this._$toggleButtonIcon&&this._setToggleButtonIconClass(r),n?(i=this._createAnimationOption(this._cssPosProp,t+"px"),this._$toggleButton.animate(i,this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED)):this._$toggleButton.css(this._cssPosProp,t))},t.prototype._setToggleButtonIconClass=function(n){var t=this._options.fixedSide==="left",i="bowtie-icon ";i+=this._options.vertical?n?t?"bowtie-chevron-up":"bowtie-chevron-down":t?"bowtie-chevron-down":"bowtie-chevron-up":n?t?"bowtie-chevron-left":"bowtie-chevron-right":t?"bowtie-chevron-right":"bowtie-chevron-left";this._$toggleButtonIcon.removeClass().addClass(i)},t.prototype._setToggleButtonTooltip=function(){var n=this._options,t=this._$toggleButton;t&&(this._isCollapsed()?t.attr({title:n.toggleButtonCollapsedTooltip?n.toggleButtonCollapsedTooltip:u.ExpandSplitterTooltip,"aria-expanded":"false"}):t.attr({title:n.toggleButtonExpandedTooltip?n.toggleButtonExpandedTooltip:u.CollapseSplitterTooltip,"aria-expanded":"true"}))},t.prototype.setOnToggle=function(n){this._options.onToggle=n},t.prototype._measureFixedSide=function(){this._fixedSidePixels=this._cssSizeProp==="width"?this._fixedSide.outerWidth():this._fixedSide.outerHeight()},t.prototype._handleBarMouseDown=function(n){n.preventDefault();this._dragStart={pointer:n[this._screenXY],originalSize:this._isCollapsed()?n[this._screenXY]:this._fixedSide[this._cssSizeProp]()};this.getElement().addClass("dragging");this._ensureHandleBarClone();this._setupDragEvents();this._ensureOverlay()},t.prototype._handleBarKeydown=function(n){var t=this._options.vertical!==!1,i=!this._isCollapsed();switch(n.keyCode){case e.KeyCode.LEFT:i&&!t&&this._moveSeparator("left");break;case e.KeyCode.RIGHT:i&&!t&&this._moveSeparator("right");break;case e.KeyCode.UP:i&&t&&this._moveSeparator("left");break;case e.KeyCode.DOWN:i&&t&&this._moveSeparator("right")}},t.prototype._moveSeparator=function(n){var t=25*(this._options.fixedSide===n?-1:1);typeof this._fixedSidePixels!="number"&&this._measureFixedSide();this.resize(this._getAdjustedSize(this._fixedSidePixels+t))},t.prototype._isToggleButtonEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME)},t.prototype._isToggleButtonHotkeyEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME)},t.prototype._isCollapsed=function(){return this.getElement().hasClass(o.COLLAPSED_CLASS_NAME)},t.prototype._onDocumentKeyup=function(n){if(n.ctrlKey&&n.altKey&&n.keyCode===e.KeyCode.SPACE&&this._isToggleButtonHotkeyEnabled())return this.toggleExpanded(),!1},t.prototype._onToggleButtonClick=function(n){return this.toggleExpanded(),!1},t.prototype._ensureHandleBarClone=function(){this._$handleBarClone||(this._$handleBarClone=$("<div>").addClass("handleBar-clone").css(this._cssPosProp,this._dragStart.originalSize+"px").css(this._cssSizeProp,o.HANDLE_BAR_CLONE_SIZE).appendTo(this.getElement()))},t.prototype._removeHandleBarClone=function(){this._$handleBarClone&&(this._$handleBarClone.remove(),this._$handleBarClone=null)},t.prototype._setupDragEvents=function(){this._bind(window.document,"mousemove",s(this,this._documentMouseMove),!0);this._bind(window.document,"mouseup",s(this,this._documentMouseUp),!0)},t.prototype._ensureOverlay=function(){this._splitterOverlay||(this._splitterOverlay=$(h("div","overlay")),this.getElement().append(this._splitterOverlay),this._bind(this._splitterOverlay,"mousemove",s(this,this._documentMouseMove)),this._bind(this._splitterOverlay,"mouseup",s(this,this._documentMouseUp)),this._bind(this._splitterOverlay,"selectstart",function(){return!1}))},t.prototype._removeOverlay=function(){this._splitterOverlay&&(this._splitterOverlay.remove(),this._splitterOverlay=null)},t.prototype._clearDragEvents=function(){this._removeOverlay();this._unbind(window.document,"mousemove");this._unbind(window.document,"mouseup")},t.prototype._documentMouseMove=function(n){var t;if(this._dragStart)return t=n[this._screenXY]-this._dragStart.pointer,t&&this._ensureOverlay(),this._ensureHandleBarClone(),this._$handleBarClone.css(this._cssPosProp,+(this._dragStart.originalSize+this._deltaMultiplier*t)+"px"),!1},t.prototype._documentMouseUp=function(n){var i,r,t;if(this._dragStart)return i=n[this._screenXY]-this._dragStart.pointer,r=!1,Math.abs(i)>1&&(r=!0,t=this._dragStart.originalSize+this._deltaMultiplier*i,t=this._getAdjustedSize(t),this._isToggleButtonEnabled()&&t<=o.AUTO_COLLAPSE_THRESHOLD?this.toggleExpanded(!1):(this.expandState&&this.removeExpand(!0),this.resize(t))),this._dragStart=null,this.getElement().removeClass("dragging"),this._removeHandleBarClone(),this._clearDragEvents(),r&&this._fire("changed",this),!1},t.prototype._onWindowResize=function(){this._ignoreWindowResize||this.expandState||this.resize(this._fixedSidePixels,!0)},t.prototype._fireWindowResize=function(){try{this._ignoreWindowResize=!0;var n=document.createEvent("Event");n.initEvent("resize",!1,!0);window.dispatchEvent(n)}finally{this._ignoreWindowResize=!1}},t.prototype.attachResize=function(n){this._ignoreWindowResize=!1;n&&this._onWindowResize()},t.prototype.detachResize=function(){this._ignoreWindowResize=!0},t.prototype._createAnimationOption=function(n,t){var i={};return i[n]=t,i},t.prototype._handleBarDoubleClick=function(){this.toggleExpanded()},t.prototype._dispose=function(){n.prototype._dispose.call(this);this.unregisterEvents()},t.prototype.unregisterEvents=function(){e.detachResize(this.getElement())},t.enhancementTypeName="tfs.splitter",t._noSplitCssClass="no-split",t.CORE_CSS_CLASS="splitter",t.HORIZONTAL_CLASS="horizontal",t.VERTICAL_CLASS="vertical",t.TOGGLE_BUTTON_LENGTH=16,t.TOGGLE_BUTTON_MARGIN=2,t.COLLAPSED_CLASS_NAME="collapsed",t.TOGGLE_BUTTON_ENABLED_CLASS_NAME="toggle-button-enabled",t.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME="toggle-button-hotkey-enabled",t.AUTO_COLLAPSE_THRESHOLD=20,t.DEFAULT_ANIMATION_SPEED=800,t.HANDLE_BAR_CLONE_SIZE=5,t}(i.Control);t.SplitterO=c;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(c);t.Splitter=o;i.Enhancement.registerJQueryWidget(o,o.CORE_CSS_CLASS);i.Enhancement.registerEnhancement(o,"."+o.CORE_CSS_CLASS)});

define("DistributedTasksCommon/TFS.Tasks.Controls",["require","exports","VSS/Controls/Combos","VSS/VSS","VSS/Controls","VSS/Identities/Picker/Controls","VSS/Utils/UI"],function(n,t,i,r,u,f,e){var o,s,h;Object.defineProperty(t,"__esModule",{value:!0});o=e.KeyCode;s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.toggleDropDown=function(){var i=this,t=this._options.refreshData();t?t.then(function(){n.prototype.toggleDropDown.call(i)}):n.prototype.toggleDropDown.call(this)},t.prototype.showDropPopup=function(){var i=this,t=this._options.refreshData();t?t.then(function(){n.prototype.showDropPopup.call(i)}):n.prototype.showDropPopup.call(this)},t.prototype._onInputKeyDown=function(t){var r=this,i;if(!t.altKey||t.keyCode!==o.DOWN||(i=this._options.refreshData(),!i))return n.prototype._onInputKeyDown.call(this,t);i.then(function(){return n.prototype._onInputKeyDown.call(r,t)})},t}(i.ComboO);t.FetchingCombo=s;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){var r=this,i;n.prototype.initialize.call(this);i=this.getElement();i.addClass(t.CONTROL_ROOT);this._identityPickerControl=u.create(f.IdentityPickerSearchControl,i,{items:[],identityType:{User:!0,Group:!0},multiIdentitySearch:!0,operationScope:{IMS:!0},showMru:!1,consumerId:t._distributedCommonPickerConsumerId,showContactCard:!0,callbacks:{onItemSelect:function(){r._fireChange()}}});this._bind(f.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT,function(){r._fireChange()})},t.prototype.setValue=function(n){try{var t=JSON.parse(n);$.isArray(t)&&this._identityPickerControl.setEntities(null,t)}catch(i){}},t.prototype.getSelectedIdentities=function(){var n=this._identityPickerControl.getIdentitySearchResult().resolvedEntities,t=[],i=[];return n&&n.length>0&&n.forEach(function(n){n.localId?t.push(n.localId):n.originId&&i.push(n.originId)}),{existingUsers:t,newUsers:[],unresolvedEntityIds:i}},t.prototype.setEnable=function(n){n?(this._identityPickerControl.disableReadOnlyMode(),this._element.find(".identity-picker-input").removeClass("identity-picker-element-hide")):(this._identityPickerControl.enableReadOnlyMode(),this._element.find(".identity-picker-input").addClass("identity-picker-element-hide"))},t.prototype.getSelectedEntities=function(){return this._identityPickerControl.getIdentitySearchResult().resolvedEntities||[]},t.prototype.dispose=function(){this._unbind(f.IdentityPickerSearchControl.RESOLVED_INPUT_REMOVED_EVENT);this._identityPickerControl.dispose();n.prototype.dispose.call(this)},t.CONTROL_ROOT="task-editor-identity-picker",t._distributedCommonPickerConsumerId="33553f9f-9d2b-4d6a-9a6c-209371d5ef99",t}(u.BaseControl);t.MultiSelectIdentityPickerControl=h;r.tfsModuleLoaded("TFS.Tasks.Controls",t)});

define("DistributedTasksCommon/TFS.Knockout.CustomHandlers",["require","exports","knockout","VSS/Adapters/Knockout","DistributedTasksCommon/TFS.Knockout.Secure","DistributedTasksCommon/TFS.Knockout.Tree.TreeView","DistributedTasksCommon/TFS.Tasks.Utils","VSS/Utils/UI","VSS/Utils/Html","VSS/Controls","VSS/Controls/Combos","VSS/Controls/PopupContent","VSS/Controls/Splitter","VSS/Utils/String","VSS/Utils/String","VSS/VSS","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Tasks.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function nt(n){n===void 0&&(n=!0);n&&u.registerSecureBinding();i.bindingHandlers.applyTemplate={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,u,f,e){var s=$(n),o=t(),l,c,h;o&&(l=r.TemplateControl.applyRegisteredBinding(o.templateName,s,o.viewModel),l||(s.removeAttr("data-bind"),c=i.utils.unwrapObservable(o.templateName),c&&s.attr("data-bind","template: { name: '"+c+"' }"),o.cssClass&&s.addClass(o.cssClass),h=o.viewModel,o.parentIndex&&(h.$vmparent=e.$parents[parseInt(o.parentIndex)]),o.customData&&(h.$vmcustom=o.customData),h.$vmroot=e.$root,i.cleanNode(s[0]),i.applyBindings(h,s[0]),o.fadeIn&&s.hide().fadeIn("slow")))}};i.bindingHandlers.showTooltip={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var f=$(n),l="TaskEditorToolTipKey",k=4,r=t(),g,h,it,c,a,p;if(r&&r.text){if(f.data(l))return;if(g=r.rootCssClass||"taskeditor-inputs-grid-table",h=r.text,i.isObservable(h)||(h=i.observable(r.text)),!h())return;c=$(v.format('<span class="{0}"><\/span>',r.className?r.className:"help bowtie-icon bowtie-status-info-outline")).attr({tabindex:"0",role:"tooltip"});a=$(v.format('<span class="close bowtie-icon bowtie-navigate-close" aria-label="{0}"><\/span>',y.htmlEncode(w.CloseTooltipText))).attr({tabindex:"0",role:"button"});a.on("keydown",function(n){return e.AccessibilityHelper.triggerClickOnEnterOrSpaceKeyPress(n)});p=$("<div />").addClass("content").html(s.HtmlNormalizer.normalize(h()));p.length>0&&p[0].outerText&&c.attr("aria-label",p[0].outerText);r.labelledby&&c.attr("aria-labelledby",r.labelledby);var u=$("<div />").addClass("taskeditor-help-tooltip").append(a).append(p),ut=$(document).data(l),b=function(){$(document).off("click.TaskEditorToolTipKey");$(document).on("click.TaskEditorToolTipKey",it=function(){b()});var n=$(document).data(l);n&&n.length>0&&n.hide("fast")},nt,o=null,rt=function(){nt=setTimeout(function(){var c,a,v,e,y,p;b();var nt=f.parents("."+g),w=$(n),i=[],t=-1;r.pivotSiblingCssClass&&(o=w.parent().find("."+r.pivotSiblingCssClass),o.length>0&&(i=o.prevAll().toArray(),t=o.width()));i.length!==0||r.unsetDefaultLeftOffset||(i=f.prevAll().toArray());t===-1&&(c=i.splice(0,1),t=c&&c.length>0?c[0].clientWidth:300);r.minWidth&&r.minWidth>t&&(t=r.minWidth);r.pinToPivot&&o.length>0?r.pinPosition===d.Right?u.css("right",o[0].clientLeft+o[0].clientWidth):u.css("left",o[0].clientLeft):r.leftOffset?(u.css("left",r.leftOffset+"px"),u.css("width",t+"px")):(a=0,$.each(i,function(n,t){a+=t.clientWidth}),v=f.prevAll().find("textarea"),v.length>0&&(k=v[0].clientHeight-15),e=parseInt(f.css("padding").replace("px",""))||0,e===0&&(y=f.outerWidth(),p=f.width(),p&&y&&(e=(y-p)/2)),u.css("left",a+e+"px"),u.css("width",t-2*e+"px"));u.css("margin-top",k+"px");u.show("fast");u.find(".content").html(s.HtmlNormalizer.normalize(h()));$(document).data(l,u)},450)},tt=function(){return clearTimeout(nt),b(),c.focus(),!1};a.click(function(){tt()});c.click(function(){rt()});c.keydown(function(n){return e.AccessibilityHelper.triggerClickOnEnterOrSpaceKeyPress(n)});a.blur(function(){tt()});f.append(c).append(u);f.data(l,{text:h});i.utils.domNodeDisposal.addDisposeCallback(f[0],function(){$(document).off("click.TaskEditorToolTipKey")})}}};i.bindingHandlers.showRichContentTooltip={init:function(){return},update:function(n,t){var e=$(n),r=t(),u,f;r&&r.text&&(u=r.text,i.isObservable(u)&&(u=u()),f=__assign({popupTag:!1},r),r.showTooltipIfOverflowOnly&&(f=__assign({onlyShowWhenOverflows:e},f)),g.bindTooltip(e,u,f))}};i.bindingHandlers.dtcCombo={init:function(n,t){var i=h.Control.create(c.Combo,$(n),t());$(n).data("dtcCombo-control",i)},update:function(n,t){var i=t(),r=$(n).data("dtcCombo-control");r&&i&&(r.setSource(i.source),i.value&&r.setInputText(i.value,!1),r.setEnabled(i.enabled))}};i.bindingHandlers.dtcFetchingCombo={init:function(n,t){var i=h.Control.create(b.FetchingCombo,$(n),t());$(n).data("dtcFetchingCombo-control",i)},update:function(n,t){var i=t(),r=$(n).data("dtcFetchingCombo-control");r&&i&&(r.setSource(i.source),i.value!==undefined&&i.value!==null&&r.setInputText(i.value,!1),r.setEnabled(i.enabled))}};i.bindingHandlers.taskEditorGroup={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,r,u,f){var e=$(n),c="TaskEditorGroupKey",l=t(),o,s,h;if(l){if(o=l.viewModel,e.data(c))return;s=e.find(".taskeditor-inputs-grid-table");o.isExpanded.peek()||s.toggle();e.find(".fieldset").find("legend").click(function(n){var t=o.isExpanded,i;s.toggle();t(!t.peek());!t()||(i=$(n.target).closest(".taskeditor-group").find(":focusable")[0],!i||i.focus())});e.data(c,{});h=o;h.$parent=f.$parent;h.$parents=f.$parents;i.applyBindingsToDescendants(o,e[0])}}};i.bindingHandlers.expandGroupOnKeyBoardEvent={init:function(n){n=$(n);n.keydown(function(n){var t=n.which,i=$(n.target).find(".fieldset").find("legend");i.length!=0&&(t===o.KeyCode.ENTER||t===o.KeyCode.SPACE)&&i.click()})},update:function(){}};i.bindingHandlers.tfsSplitter={init:function(n,t){var i=t(),r={};i&&i.options&&(r=i.options);h.Enhancement.enhance(a.Splitter,n,r)}};i.bindingHandlers.hover={init:function(n,t){var i=$(n),r=t();i.hover(function(){i.addClass(r.hoverClass)},function(){i.removeClass(r.hoverClass)})}};i.bindingHandlers.renderTreeView={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,r,u){var f=this,e=$(n),o=t();p.using(["DistributedTasksCommon/TFS.Knockout.Tree.TreeView"],function(){var s="Knockout_TreeView_Control",o="Knockout_TreeView_Subscription",r=$(n),e=t();p.using(["DistributedTasksCommon/TFS.Knockout.Tree.TreeView"],function(n){var c=k(i.utils.unwrapObservable(e.treeNodes)),a=__assign({nodes:c,onClick:function(n,t){e.onNodeClick.call(u,n.tag,t)},onItemToggle:function(n){var t=n.tag,r,u;$.isFunction(t.onItemToggle)&&(r=t.onItemToggle.call(f),r&&(u=k(i.utils.unwrapObservable(t.nodes)),n.children=u))}},e),t=r.data(s),l;t||(t=h.create(n.TreeView,r,a),r.data(s,t));e.focusFirstNode&&c&&c.length>0&&t.focusOnNode(c[0]);l=r.data(o);l||(l=e.treeNodes.subscribe(function(n){t&&t.setNodes(k(n))}),r.data(o,l));i.utils.domNodeDisposal.addDisposeCallback(r[0],function(){var n=r.data(o);n&&n.dispose();t.dispose()})})})}}}function k(n){return(n||[]).map(function(n,t){var e=n.text.peek(),r=n.id?n.id.peek():"",i,u;return r=r||"treeNode"+t+e.replace(/[\.\: ]/g,"_"),i=new f.KnockoutTreeNode(r,e,n.cssClass.peek()),i.expanded=n.expanded.peek(),i.selected=n.selected.peek(),i.noTreeIcon=!n.showIcon.peek(),i.icon=n.nodeIconCssClass.peek(),i.tag=n,i.templateName=n.templateName?n.templateName.peek():"",i.ariaLabel=n.ariaLabel?n.ariaLabel.peek():"",n.getContributionContext&&(i.getContributionContext=n.getContributionContext),u=n.nodes.peek(),u.length>0&&i.addRange(k(u)),i})}var d,g;Object.defineProperty(t,"__esModule",{value:!0});d=function(){function n(){}return n.Left=1,n.Right=2,n}();t.PinPosition=d;t.initKnockoutHandlers=nt;t.getTreeViewNodes=k;g=function(){function n(){}return n.bindTooltip=function(t,i,r){if(t){t.on("mouseover focusin",function(t){n._onMouseOver($(t.currentTarget),i,r)});t.on("mouseout focusout",function(t){n._onMouseOut($(t.currentTarget))})}},n._onMouseOver=function(n,t,i){var r=t;r&&n.removeAttr("title").data("tooltip-text",r);n.length>0&&(this._tooltip&&this._tooltip.dispose(),this._tooltip=l.RichContentTooltip.add(r,n,__assign({},i)),this._tooltip.showDelayed())},n._onMouseOut=function(){this._tooltip&&this._tooltip.disable()},n}();t.RmTooltipHost=g;p.tfsModuleLoaded("TFS.Knockout.CustomHandlers",t)});

define("ReleasePipeline/Scripts/CommonControls/RM.Tags.QueryFilter",["require","exports","VSS/Diag","VSS/Events/Handlers","VSS/Utils/Array","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){var o,s;Object.defineProperty(t,"__esModule",{value:!0});o=function(){function n(n){n===void 0&&(n=[]);this._filterProviders={};this._workItems=[];this._originalWorkItemIds=[];this._originalWorkItemIds=n;this._workItems=this._originalWorkItemIds.slice(0)}return n.prototype.getFilterProvider=function(n){return this._filterProviders[n]},n.prototype.registerFilterProvider=function(n,t){this._filterProviders[n]=t},n.prototype.unregisterFilterProvider=function(n){delete this._filterProviders[n]},n.prototype.addFilter=function(t,r){i.logTracePoint("FilterManager.addFilter.start");var u=this.getFilterProvider(t),f=this._workItems;u&&(u.addFilter(r),this._workItems=u.getMatchingWorkItems(this._workItems),this._fireEvent(n.EVENT_FILTER_CHANGED))},n.prototype.removeFilter=function(t,r){i.logTracePoint("FilterManager.removeFilter.start");var u=this.getFilterProvider(t);u&&(u.removeFilter(r),this.rebuildMatchingWorkItems(),this._areProvidersFiltering()?this._fireEvent(n.EVENT_FILTER_CHANGED):this._fireEvent(n.EVENT_FILTER_CLEARED))},n.prototype.clearFilters=function(t,i){t?this._filterProviders[t].clearFilters():$.each(this._filterProviders,function(n,t){t.clearFilters()});this.rebuildMatchingWorkItems();this._areProvidersFiltering()?this._fireEvent(n.EVENT_FILTER_CHANGED):i||this._fireEvent(n.EVENT_FILTER_CLEARED)},n.prototype.rebuildMatchingWorkItems=function(){var n=this;this._workItems=this._originalWorkItemIds.slice(0);$.each(this._filterProviders,function(t,i){n._workItems=u.intersectPrimitives(n._workItems,i.getMatchingWorkItems(n._workItems))})},n.prototype.getMatchingWorkItems=function(){return this._workItems},n.prototype.isFiltered=function(){return this._areProvidersFiltering()},n.prototype._areProvidersFiltering=function(){var n=!1;return $.each(this._filterProviders,function(t,i){if(i.isFiltering())return n=!0,!1}),n},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new r.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.updateWorkItemId=function(n,t){var r;r=$.inArray(n,this._originalWorkItemIds);r>=0&&(this._originalWorkItemIds[r]=t);r=$.inArray(n,this._workItems);r>=0&&(this._workItems[r]=t);$.each(this._filterProviders,function(i,r){r.updateWorkItemId(n,t)})},n.prototype.setOriginalWorkItems=function(n){var t=this;this._originalWorkItemIds=n;this._workItems=n;$.each(this._filterProviders,function(n,i){t._workItems=i.getMatchingWorkItems(t._workItems)})},n.EVENT_FILTER_CHANGED="filter-changed",n.EVENT_FILTER_CLEARED="filter-cleared",n.EVENT_WORK_ITEM_UPDATED="work-item-updated",n.EVENT_FILTER_ACTIVATED="filter-activated",n.EVENT_FILTER_DEACTIVATED="filter-deactivated",n.EVENT_TAG_FILTER_CHANGED="tag-filter-changed",n}();t.FilterManager=o;e.initClassPrototype(o,{_filterProviders:null,_originalWorkItems:null,_workItems:null});s=function(){function n(n){n===void 0&&(n={});this._tagsDictionary={};this._activeFilterTags=[];this._isActive=!n.deactivatedOnCreate;n&&n.filterManager&&(this._filterManager=n.filterManager)}return n.prototype.getTagsDictionary=function(){return this._tagsDictionary},n.prototype.getFilterManager=function(){return this._filterManager},n.prototype.addFilter=function(n){u.contains(this._activeFilterTags,n,f.localeIgnoreCaseComparer)||this._tagsDictionary.hasOwnProperty(n)&&(this._activeFilterTags.push(n),this._fireTagFilterChangedEvent(),this.invalidateTagCountCache())},n.prototype.removeFilter=function(n){var t=$.inArray(n,this._activeFilterTags);t>=0&&(this._activeFilterTags.splice(t,1),this._fireTagFilterChangedEvent(),this.invalidateTagCountCache())},n.prototype.clearFilters=function(){this._activeFilterTags.length>0&&(this._activeFilterTags=[],this._fireTagFilterChangedEvent(),this.invalidateTagCountCache())},n.prototype.getMatchingWorkItems=function(n){var i=this,r,t=n;return $.each(this._activeFilterTags,function(n,f){if(i._tagsDictionary.hasOwnProperty(f))r=i._tagsDictionary[f],t=u.intersectPrimitives(t,r);else return t=[],!1}),t},n.prototype.invalidateTagCountCache=function(){this._tagCountCache=null},n.prototype.setTags=function(n){if(this.isActive()){var t=this._activeFilterTags.slice(0);this._validateDictionary(n);this._tagsDictionary=$.extend(!0,{},n);this._repopulateFilterTags(t);this.invalidateTagCountCache();this._filterManager.fire(o.EVENT_WORK_ITEM_UPDATED,this,{})}},n.prototype._fireTagFilterChangedEvent=function(){this._filterManager.fire(o.EVENT_TAG_FILTER_CHANGED,this,{})},n.prototype._unsetTags=function(){this._tagsDictionary={};this._activeFilterTags=[];this.invalidateTagCountCache()},n.prototype.updateWorkItemId=function(n,t){var r,u,f;if(this.isActive())for(u in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(u)&&(f=this._tagsDictionary[u],r=$.inArray(n,f),r>=0&&(f[r]=t))},n.prototype.updateWorkItem=function(n,t,r){if(this.isActive()){var e,s,f,h=this._activeFilterTags.slice(0);for(f in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(f)&&(e=$.inArray(n,this._tagsDictionary[f]),e>=0&&!u.contains(t,f)&&(this._tagsDictionary[f].splice(e,1),this._tagsDictionary[f].length===0&&delete this._tagsDictionary[f]));for(e=0,s=t.length;e<s;e++)f=t[e],this._tagsDictionary.hasOwnProperty(f)?u.contains(this._tagsDictionary[f],n)||this._tagsDictionary[f].push(n):this._tagsDictionary[f]=[n];this._repopulateFilterTags(h);this.invalidateTagCountCache();r||this._filterManager.fire(o.EVENT_WORK_ITEM_UPDATED,this,{})}},n.prototype.getActiveFilterTags=function(){return this._activeFilterTags.slice(0)},n.prototype.getAvailableFilterTags=function(){var t=[];for(var n in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(n)&&$.inArray(n,this._activeFilterTags)===-1&&this.getTagItemCount(n)>0&&t.push(n);return t},n.prototype.getAllFilterTags=function(){var n=[];for(var t in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(t)&&n.push(t);return n},n.prototype.getTagItemCount=function(n){return this._tagCountCache||this._recalculateTagCounts(),this._tagCountCache.hasOwnProperty(n)?this._tagCountCache[n]:0},n.prototype._recalculateTagCounts=function(){var n;this._tagCountCache={};for(n in this._tagsDictionary)this._tagsDictionary.hasOwnProperty(n)&&this.recalculateTagCount(n)},n.prototype.recalculateTagCount=function(n){var t=this._tagsDictionary[n];this._filterManager.isFiltered()&&(t=u.intersectPrimitives(t,this._filterManager.getMatchingWorkItems()));this._tagCountCache[n]=t.length},n.prototype.isActive=function(){return this._isActive},n.prototype.toggleFilterActivation=function(){this.isActive()?this.deactivateFilter():(i.logTracePoint("TagFilterProvider.activating"),this.activateFilter())},n.prototype.deactivateFilter=function(t){var i=this.isFiltering();this._isActive&&(this._isActive=!1,this._activeFilterTags=[],this._filterManager.fire(o.EVENT_FILTER_DEACTIVATED,this,{}),this._unsetTags(),this._filterManager.clearFilters(n.PROVIDER_TYPE,t),t&&this._filterManager.fire(o.EVENT_WORK_ITEM_UPDATED,this,{}),i&&this._filterManager.fire(o.EVENT_TAG_FILTER_CHANGED,this,{}))},n.prototype.activateFilter=function(){this._isActive||(this._isActive=!0,this._filterManager.fire(o.EVENT_FILTER_ACTIVATED,this,{}))},n.prototype._validateDictionary=function(n){var t,r,u;if(i.getDebugMode())for(t in n)if(n.hasOwnProperty(t))for(r=0,u=n[t].length;r<u;r++);},n.prototype._repopulateFilterTags=function(n){var t=this;this._activeFilterTags=[];$.each(n,function(n,i){t.addFilter(i)})},n.prototype.isFiltering=function(){return this._activeFilterTags.length!==0},n.PROVIDER_TYPE="tag",n}();t.TagFilterProvider=s;e.initClassPrototype(s,{_isActive:null,_tagsDictionary:null,_activeFilterTags:null})});

/*!
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/menu",["jquery", "./core", "./widget", "./position"], n) : n(jQuery) })(function (n) { return n.widget("ui.menu", { version: "1.11.4", defaultElement: "<ul>", delay: 300, options: { icons: { submenu: "ui-icon-carat-1-e" }, items: "> *", menus: "ul", position: { my: "left-1 top", at: "right top" }, role: "menu", blur: null, focus: null, select: null }, _create: function () { this.activeMenu = this.element; this.mouseHandled = !1; this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({ role: this.options.role, tabIndex: 0 }); this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"); this._on({ "mousedown .ui-menu-item": function (n) { n.preventDefault() }, "click .ui-menu-item": function (t) { var i = n(t.target); !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(t), t.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && n(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && this.active.parents(".ui-menu").length === 1 && clearTimeout(this.timer))) }, "mouseenter .ui-menu-item": function (t) { if (!this.previousFilter) { var i = n(t.currentTarget); i.siblings(".ui-state-active").removeClass("ui-state-active"); this.focus(t, i) } }, mouseleave: "collapseAll", "mouseleave .ui-menu": "collapseAll", focus: function (n, t) { var i = this.active || this.element.find(this.options.items).eq(0); t || this.focus(n, i) }, blur: function (t) { this._delay(function () { n.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t) }) }, keydown: "_keydown" }); this.refresh(); this._on(this.document, { click: function (n) { this._closeOnDocumentClick(n) && this.collapseAll(n); this.mouseHandled = !1 } }) }, _destroy: function () { this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(); this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function () { var t = n(this); t.data("ui-menu-submenu-carat") && t.remove() }); this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content") }, _keydown: function (t) { var i, u, r, f, e = !0; switch (t.keyCode) { case n.ui.keyCode.PAGE_UP: this.previousPage(t); break; case n.ui.keyCode.PAGE_DOWN: this.nextPage(t); break; case n.ui.keyCode.HOME: this._move("first", "first", t); break; case n.ui.keyCode.END: this._move("last", "last", t); break; case n.ui.keyCode.UP: this.previous(t); break; case n.ui.keyCode.DOWN: this.next(t); break; case n.ui.keyCode.LEFT: this.collapse(t); break; case n.ui.keyCode.RIGHT: this.active && !this.active.is(".ui-state-disabled") && this.expand(t); break; case n.ui.keyCode.ENTER: case n.ui.keyCode.SPACE: this._activate(t); break; case n.ui.keyCode.ESCAPE: this.collapse(t); break; default: e = !1; u = this.previousFilter || ""; r = String.fromCharCode(t.keyCode); f = !1; clearTimeout(this.filterTimer); r === u ? f = !0 : r = u + r; i = this._filterMenuItems(r); i = f && i.index(this.active.next()) !== -1 ? this.active.nextAll(".ui-menu-item") : i; i.length || (r = String.fromCharCode(t.keyCode), i = this._filterMenuItems(r)); i.length ? (this.focus(t, i), this.previousFilter = r, this.filterTimer = this._delay(function () { delete this.previousFilter }, 1e3)) : delete this.previousFilter } e && t.preventDefault() }, _activate: function (n) { this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(n) : this.select(n)) }, refresh: function () { var i, t, u = this, f = this.options.icons.submenu, r = this.element.find(this.options.menus); this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length); r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({ role: this.options.role, "aria-hidden": "true", "aria-expanded": "false" }).each(function () { var t = n(this), i = t.parent(), r = n("<span>").addClass("ui-menu-icon ui-icon " + f).data("ui-menu-submenu-carat", !0); i.attr("aria-haspopup", "true").prepend(r); t.attr("aria-labelledby", i.attr("id")) }); i = r.add(this.element); t = i.find(this.options.items); t.not(".ui-menu-item").each(function () { var t = n(this); u._isDivider(t) && t.addClass("ui-widget-content ui-menu-divider") }); t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({ tabIndex: -1, role: this._itemRole() }); t.filter(".ui-state-disabled").attr("aria-disabled", "true"); this.active && !n.contains(this.element[0], this.active[0]) && this.blur() }, _itemRole: function () { return { menu: "menuitem", listbox: "option" }[this.options.role] }, _setOption: function (n, t) { n === "icons" && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu); n === "disabled" && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t); this._super(n, t) }, focus: function (n, t) { var i, r; this.blur(n, n && n.type === "focus"); this._scrollIntoView(t); this.active = t.first(); r = this.active.addClass("ui-state-focus").removeClass("ui-state-active"); this.options.role && this.element.attr("aria-activedescendant", r.attr("id")); this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"); n && n.type === "keydown" ? this._close() : this.timer = this._delay(function () { this._close() }, this.delay); i = t.children(".ui-menu"); i.length && n && /^mouse/.test(n.type) && this._startOpening(i); this.activeMenu = t.parent(); this._trigger("focus", n, { item: t }) }, _scrollIntoView: function (t) { var e, o, i, r, u, f; this._hasScroll() && (e = parseFloat(n.css(this.activeMenu[0], "borderTopWidth")) || 0, o = parseFloat(n.css(this.activeMenu[0], "paddingTop")) || 0, i = t.offset().top - this.activeMenu.offset().top - e - o, r = this.activeMenu.scrollTop(), u = this.activeMenu.height(), f = t.outerHeight(), i < 0 ? this.activeMenu.scrollTop(r + i) : i + f > u && this.activeMenu.scrollTop(r + i - u + f)) }, blur: function (n, t) { (t || clearTimeout(this.timer), this.active) && (this.active.removeClass("ui-state-focus"), this.active = null, this._trigger("blur", n, { item: this.active })) }, _startOpening: function (n) { (clearTimeout(this.timer), n.attr("aria-hidden") === "true") && (this.timer = this._delay(function () { this._close(); this._open(n) }, this.delay)) }, _open: function (t) { var i = n.extend({ of: this.active }, this.options.position); clearTimeout(this.timer); this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"); t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i) }, collapseAll: function (t, i) { clearTimeout(this.timer); this.timer = this._delay(function () { var r = i ? this.element : n(t && t.target).closest(this.element.find(".ui-menu")); r.length || (r = this.element); this._close(r); this.blur(t); this.activeMenu = r }, this.delay) }, _close: function (n) { n || (n = this.active ? this.active.parent() : this.element); n.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active") }, _closeOnDocumentClick: function (t) { return !n(t.target).closest(".ui-menu").length }, _isDivider: function (n) { return !/[^\-\u2014\u2013\s]/.test(n.text()) }, collapse: function (n) { var t = this.active && this.active.parent().closest(".ui-menu-item", this.element); t && t.length && (this._close(), this.focus(n, t)) }, expand: function (n) { var t = this.active && this.active.children(".ui-menu ").find(this.options.items).first(); t && t.length && (this._open(t.parent()), this._delay(function () { this.focus(n, t) })) }, next: function (n) { this._move("next", "first", n) }, previous: function (n) { this._move("prev", "last", n) }, isFirstItem: function () { return this.active && !this.active.prevAll(".ui-menu-item").length }, isLastItem: function () { return this.active && !this.active.nextAll(".ui-menu-item").length }, _move: function (n, t, i) { var r; this.active && (r = n === "first" || n === "last" ? this.active[n === "first" ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[n + "All"](".ui-menu-item").eq(0)); r && r.length && this.active || (r = this.activeMenu.find(this.options.items)[t]()); this.focus(i, r) }, nextPage: function (t) { var i, r, u; if (!this.active) { this.next(t); return } this.isLastItem() || (this._hasScroll() ? (r = this.active.offset().top, u = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () { return i = n(this), i.offset().top - r - u < 0 }), this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())) }, previousPage: function (t) { var i, r, u; if (!this.active) { this.next(t); return } this.isFirstItem() || (this._hasScroll() ? (r = this.active.offset().top, u = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () { return i = n(this), i.offset().top - r + u > 0 }), this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items).first())) }, _hasScroll: function () { return this.element.outerHeight() < this.element.prop("scrollHeight") }, select: function (t) { this.active = this.active || n(t.target).closest(".ui-menu-item"); var i = { item: this.active }; this.active.has(".ui-menu").length || this.collapseAll(t, !0); this._trigger("select", t, i) }, _filterMenuItems: function (t) { var i = t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"), r = new RegExp("^" + i, "i"); return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function () { return r.test(n.trim(n(this).text())) }) } }) });

/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
(function (n) { typeof define == "function" && define.amd ? define("jQueryUI/autocomplete",["jquery", "./core", "./widget", "./position", "./menu"], n) : n(jQuery) })(function (n) { return n.widget("ui.autocomplete", { version: "1.11.4", defaultElement: "<input>", options: { appendTo: null, autoFocus: !1, delay: 300, minLength: 1, position: { my: "left top", at: "left bottom", collision: "none" }, source: null, change: null, close: null, focus: null, open: null, response: null, search: null, select: null }, requestIndex: 0, pending: 0, _create: function () { var t, i, r, u = this.element[0].nodeName.toLowerCase(), f = u === "textarea", e = u === "input"; this.isMultiLine = f ? !0 : e ? !1 : this.element.prop("isContentEditable"); this.valueMethod = this.element[f || e ? "val" : "text"]; this.isNewMenu = !0; this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"); this._on(this.element, { keydown: function (u) { if (this.element.prop("readOnly")) { t = !0; r = !0; i = !0; return } t = !1; r = !1; i = !1; var f = n.ui.keyCode; switch (u.keyCode) { case f.PAGE_UP: t = !0; this._move("previousPage", u); break; case f.PAGE_DOWN: t = !0; this._move("nextPage", u); break; case f.UP: t = !0; this._keyEvent("previous", u); break; case f.DOWN: t = !0; this._keyEvent("next", u); break; case f.ENTER: this.menu.active && (t = !0, u.preventDefault(), this.menu.select(u)); break; case f.TAB: this.menu.active && this.menu.select(u); break; case f.ESCAPE: this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(u), u.preventDefault()); break; default: i = !0; this._searchTimeout(u) } }, keypress: function (r) { if (t) { t = !1; (!this.isMultiLine || this.menu.element.is(":visible")) && r.preventDefault(); return } if (!i) { var u = n.ui.keyCode; switch (r.keyCode) { case u.PAGE_UP: this._move("previousPage", r); break; case u.PAGE_DOWN: this._move("nextPage", r); break; case u.UP: this._keyEvent("previous", r); break; case u.DOWN: this._keyEvent("next", r) } } }, input: function (n) { if (r) { r = !1; n.preventDefault(); return } this._searchTimeout(n) }, focus: function () { this.selectedItem = null; this.previous = this._value() }, blur: function (n) { if (this.cancelBlur) { delete this.cancelBlur; return } clearTimeout(this.searching); this.close(n); this._change(n) } }); this._initSource(); this.menu = n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({ role: null }).hide().menu("instance"); this._on(this.menu.element, { mousedown: function (t) { t.preventDefault(); this.cancelBlur = !0; this._delay(function () { delete this.cancelBlur }); var i = this.menu.element[0]; n(t.target).closest(".ui-menu-item").length || this._delay(function () { var t = this; this.document.one("mousedown", function (r) { r.target === t.element[0] || r.target === i || n.contains(i, r.target) || t.close() }) }) }, menufocus: function (t, i) { var r, u; if (this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type))) { this.menu.blur(); this.document.one("mousemove", function () { n(t.target).trigger(t.originalEvent) }); return } u = i.item.data("ui-autocomplete-item"); !1 !== this._trigger("focus", t, { item: u }) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(u.value); r = i.item.attr("aria-label") || u.value; r && n.trim(r).length && (this.liveRegion.children().hide(), n("<div>").text(r).appendTo(this.liveRegion)) }, menuselect: function (n, t) { var i = t.item.data("ui-autocomplete-item"), r = this.previous; this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = r, this._delay(function () { this.previous = r; this.selectedItem = i })); !1 !== this._trigger("select", n, { item: i }) && this._value(i.value); this.term = this._value(); this.close(n); this.selectedItem = i } }); this.liveRegion = n("<span>", { role: "status", "aria-live": "assertive", "aria-relevant": "additions" }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body); this._on(this.window, { beforeunload: function () { this.element.removeAttr("autocomplete") } }) }, _destroy: function () { clearTimeout(this.searching); this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"); this.menu.element.remove(); this.liveRegion.remove() }, _setOption: function (n, t) { this._super(n, t); n === "source" && this._initSource(); n === "appendTo" && this.menu.element.appendTo(this._appendTo()); n === "disabled" && t && this.xhr && this.xhr.abort() }, _appendTo: function () { var t = this.options.appendTo; return t && (t = t.jquery || t.nodeType ? n(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t }, _initSource: function () { var i, r, t = this; n.isArray(this.options.source) ? (i = this.options.source, this.source = function (t, r) { r(n.ui.autocomplete.filter(i, t.term)) }) : typeof this.options.source == "string" ? (r = this.options.source, this.source = function (i, u) { t.xhr && t.xhr.abort(); t.xhr = n.ajax({ url: r, data: i, dataType: "json", success: function (n) { u(n) }, error: function () { u([]) } }) }) : this.source = this.options.source }, _searchTimeout: function (n) { clearTimeout(this.searching); this.searching = this._delay(function () { var t = this.term === this._value(), i = this.menu.element.is(":visible"), r = n.altKey || n.ctrlKey || n.metaKey || n.shiftKey; t && (!t || i || r) || (this.selectedItem = null, this.search(null, n)) }, this.options.delay) }, search: function (n, t) { return (n = n != null ? n : this._value(), this.term = this._value(), n.length < this.options.minLength) ? this.close(t) : this._trigger("search", t) === !1 ? void 0 : this._search(n) }, _search: function (n) { this.pending++; this.element.addClass("ui-autocomplete-loading"); this.cancelSearch = !1; this.source({ term: n }, this._response()) }, _response: function () { var t = ++this.requestIndex; return n.proxy(function (n) { t === this.requestIndex && this.__response(n); this.pending--; this.pending || this.element.removeClass("ui-autocomplete-loading") }, this) }, __response: function (n) { n && (n = this._normalize(n)); this._trigger("response", null, { content: n }); !this.options.disabled && n && n.length && !this.cancelSearch ? (this._suggest(n), this._trigger("open")) : this._close() }, close: function (n) { this.cancelSearch = !0; this._close(n) }, _close: function (n) { this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", n)) }, _change: function (n) { this.previous !== this._value() && this._trigger("change", n, { item: this.selectedItem }) }, _normalize: function (t) { return t.length && t[0].label && t[0].value ? t : n.map(t, function (t) { return typeof t == "string" ? { label: t, value: t } : n.extend({}, t, { label: t.label || t.value, value: t.value || t.label }) }) }, _suggest: function (t) { var i = this.menu.element.empty(); this._renderMenu(i, t); this.isNewMenu = !0; this.menu.refresh(); i.show(); this._resizeMenu(); i.position(n.extend({ of: this.element }, this.options.position)); this.options.autoFocus && this.menu.next() }, _resizeMenu: function () { var n = this.menu.element; n.outerWidth(Math.max(n.width("").outerWidth() + 1, this.element.outerWidth())) }, _renderMenu: function (t, i) { var r = this; n.each(i, function (n, i) { r._renderItemData(t, i) }) }, _renderItemData: function (n, t) { return this._renderItem(n, t).data("ui-autocomplete-item", t) }, _renderItem: function (t, i) { return n("<li>").text(i.label).appendTo(t) }, _move: function (n, t) { if (!this.menu.element.is(":visible")) { this.search(null, t); return } if (this.menu.isFirstItem() && /^previous/.test(n) || this.menu.isLastItem() && /^next/.test(n)) { this.isMultiLine || this._value(this.term); this.menu.blur(); return } this.menu[n](t) }, widget: function () { return this.menu.element }, _value: function () { return this.valueMethod.apply(this.element, arguments) }, _keyEvent: function (n, t) { (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(n, t), t.preventDefault()) } }), n.extend(n.ui.autocomplete, { escapeRegex: function (n) { return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&") }, filter: function (t, i) { var r = new RegExp(n.ui.autocomplete.escapeRegex(i), "i"); return n.grep(t, function (n) { return r.test(n.label || n.value || n) }) } }), n.widget("ui.autocomplete", n.ui.autocomplete, { options: { messages: { noResults: "No search results.", results: function (n) { return n + (n > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate." } } }, __response: function (t) { var i; (this._superApply(arguments), this.options.disabled || this.cancelSearch) || (i = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults, this.liveRegion.children().hide(), n("<div>").text(i).appendTo(this.liveRegion)) } }), n.ui.autocomplete });

// Copyright (C) Microsoft Corporation. All rights reserved.
define("ReleasePipeline/Scripts/CommonControls/RM.Tags",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Diag","VSS/Utils/UI","VSS/Controls","VSS/Controls/PopupContent","ReleasePipeline/Scripts/CommonControls/RM.Tags.QueryFilter","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","jQueryUI/autocomplete"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var y,v,b,p,k,w;Object.defineProperty(t,"__esModule",{value:!0});y=r.delegate;v=o.domElem,function(n){n[n.Add=0]="Add";n[n.Delete=1]="Delete"}(b=t.TagChangeType||(t.TagChangeType={}));p=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.shouldKeydownTriggerClick=function(n){return n.keyCode===o.KeyCode.ENTER||n.keyCode===o.KeyCode.SPACE},t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.coreCssClass,tags:[],readOnly:!1},i))},t.prototype.initialize=function(){n.prototype.initialize.call(this);var i=this.getElement(),t;this._selectedIndex=0;this._visibleTagsCount=-1;this._options.tagLabel&&$(v("span","tags-label")).attr("id","tags-label").text(this._options.tagLabel).appendTo($(v("div","r-tags-label-container")).appendTo(i));this._$tagsList=$(v("ul"));this._options.readOnly||this._initializeInputElements();t=$(v("div","r-tags-items-container")).attr("role","toolbar");this._options.tagLabel?t.attr("aria-labelledby","tags-label"):t.attr("aria-label",a.Tags);this._$tagsList.appendTo(t);t.appendTo(i);this._options.tags&&this.setItems(this._options.tags)},t.prototype.addTag=function(n){var t;n&&(t=n.trim(),t&&!f.contains(this._tags,t,u.localeIgnoreCaseComparer)&&(this._selectedIndex===this._tags.length&&this._selectedIndex++,this._tags.push(t),this._renderItems(),this._fireChange({type:b.Add,name:t})))},t.prototype.removeTag=function(n){this._removeTag(n,!0,!1)},t.prototype.setItems=function(n,t){this._selectedIndex=t?this._selectedIndex:0;this._tags=n;this._options.unsorted||this._tags.sort(this._options.tagSort||u.localeIgnoreCaseComparer);this._renderItems(t)},t.prototype.clearItems=function(){this.flush();this._tags=[];this._renderItems()},t.prototype.setTagCount=function(n){this._options.getTagCount=n},t.prototype.setMaxWidth=function(n){this._options.maxWidth=n},t.prototype.getWidth=function(){return this._width},t.prototype.focusAddButton=function(){this._selectedIndex=this._getLastIndex();this._renderItems(!0)},t.prototype._setupOverflowEvents=function(n){var i=this;n.click(function(){i._selectedIndex=i._visibleTagsCount;i._overflowClick(n)});n.keydown(function(r){i._updateSelectedIndex(r);t.shouldKeydownTriggerClick(r)&&n.click()})},t.prototype._tagKeyDown=function(n){this._updateSelectedIndex(n);$.isFunction(this._options.tagKeyDown)?this._options.tagKeyDown(n):(t.shouldKeydownTriggerClick(n)&&$(n.target).click(),this._removeTagAndSetFocus(n))},t.prototype._updateSelectedIndex=function(n){var t=0,i,s,r,u,f,e;if(n.keyCode===o.KeyCode.RIGHT)t=1;else if(n.keyCode===o.KeyCode.LEFT)t=-1;else return;i=this._getLastIndex();s=this._selectedIndex;this._selectedIndex+=t;this._selectedIndex<0?this._selectedIndex=i:this._selectedIndex>i&&(this._selectedIndex=0);r=this.getElement().find(".r-tag-container[index='"+s+"']");u=r.find(".r-tag-delete");u.length>0?u.attr("tabindex",-1):r.attr("tabindex",-1);f=this.getElement().find(".r-tag-container[index='"+this._selectedIndex+"']");e=f.find(".r-tag-delete");e.length>0?e.attr("tabindex",0).focus():f.attr("tabindex",0).focus()},t.prototype._getLastIndex=function(){var n=this._visibleTagsCount>=0?this._visibleTagsCount:this._tags.length-1;return this._options.readOnly||n++,n},t.prototype._tagClick=function(n,t){n.preventDefault();n.stopPropagation();var i=Number($(n.target).parent().attr("index"));isNaN(i)||(this._selectedIndex=i,this._renderItems(!0));$.isFunction(this._options.tagClick)&&(n.data={tagName:t},this._options.tagClick(n))},t.prototype._normalizeName=function(n,i){var r=n;return n.length>i&&(r=n.substring(0,i-4)+t.ELLIPSIS),r},t.prototype._renderOverflowElement=function(n,i){var r=$(v("li","tag-item tags-overflow")),u=w.generateTagContainer(i,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex);return u.children(".r-tag-box").text(t.ELLIPSIS),u.prependTo(r),r.appendTo(n),r},t.prototype._splitAndAddTags=function(n){var t,r,i;for(i=this._splitAndTrimTags(n),t=0,r=i.length;t<r;t++)this.addTag(i[t])},t.prototype._splitAndTrimTags=function(n){var f,i,t,r,e,u;if(!n)return[];for(f=n.split(/,|;/),i=[],t=0,r=f;t<r.length;t++)e=r[t],u=e.trim(),u&&i.push(u);return i},t.prototype._showInputControl=function(){this._$addButtonContainer.hide();this._$tagInput.val("");this._$tagInput.data("ui-autocomplete")||this._$tagInput.autocomplete();this._$tagInput.autocomplete("enable");this._$tagInput.css("display","inline-block");this._$tagInput.focus();this._$tagInput.closest("li.r-tag-item-delete-experience").attr("aria-hidden","false")},t.prototype._hideInputControl=function(n){this._$tagInput.val("");this._$tagInput.is(":visible")&&(this._$tagInput.css("display","none"),this._$tagInput.autocomplete("close"),this._$tagInput.autocomplete("disable"),this._$addButtonContainer.show());n&&this.focusAddButton();this._$tagInput.closest("li.r-tag-item-delete-experience").attr("aria-hidden","true")},t.prototype._renderTagsInContainer=function(n,i){for(var u,f,o,r=this._tags.length-1;r>=0;r--)u=this._renderTag(this._tags[r],this._normalizeName(this._tags[r],t.TAG_CHARACTER_LIMIT),r),u.prependTo(n),i&&r===this._selectedIndex&&(f=u.find(".r-tag-container"),o=f.find(".r-tag-delete"),o.length>0?o.focus():f.focus());return n.find(".tag-item").not(".tags-overflow")},t.prototype._renderTagsWithMaxWidth=function(n,i,r,u){var y,f,l,s,c,a,o,v;if(y=this,c=[],i){for(o=0,s=0,a=r.width();n[o]&&i-s>$(n[o]).outerWidth(!0);)s=s+$(n[o]).outerWidth(!0),o++;if(o!==n.length)while(n[o-1]&&i-s<a)s=s-$(n[o-1]).outerWidth(!0),o--;this._visibleTagsCount=o}for(f=0;f<this._visibleTagsCount;f++)$(n[f]).appendTo(this._$tagsList),u&&f===this._selectedIndex&&$(n[f]).find(".r-tag-container")[0].focus();for(f=this._visibleTagsCount,l=n.length;f<l;f++)c.push(this._tags[f]);c.length>0?(this._options.type==="grid"||this._options.type==="single.line"?(v=c.join(t.TAG_FORMATTING_SEPARATOR),h.RichContentTooltip.add(v,r)):this._setupOverflowEvents(r),r.appendTo(this._$tagsList),this._selectedIndex==this._visibleTagsCount&&r.find(".r-tag-container")[0].focus()):(r.remove(),this._visibleTagsCount=-1)},t.prototype._render=function(n){$("li.tag-item",this._$tagsList).remove();this._renderTagsInContainer(this._$tagsList,n)},t.prototype._renderTagsInContainerWithMaxTags=function(n){for(var r,u=this._options.maxTags,f=this._tags.length>u?u-1:this._tags.length-1,e=this._options.tagCharacterLimit||t.TAG_CHARACTER_LIMIT,i=f;i>=0;i--)r=this._renderTag(this._tags[i],this._normalizeName(this._tags[i],e),i),r.prependTo(n);this._tags.length>this._options.maxTags&&this._renderOverflowInContainer(n)},t.prototype._renderForCard=function(){$("li.tag-item",this._$tagsList).remove();this._renderTagsInContainerWithMaxTags(this._$tagsList)},t.prototype._renderOverflowInContainer=function(n){var t=this._getOverFlowElement(),i=this._getOverflowTooltipContent();h.RichContentTooltip.add(i,t);t.appendTo(n)},t.prototype._getOverflowTooltipContent=function(){for(var r=[],n=this._options.maxTags,i=this._tags.length;n<i;n++)r.push(this._tags[n]);return r.join(t.TAG_FORMATTING_SEPARATOR)},t.prototype._getOverFlowElement=function(){var i=w.generateTagContainer(),n;return i.children(".r-tag-box").text(t.ELLIPSIS),n=$(v("li","tag-item tags-overflow")),n.append(i),n},t.prototype._renderForSingleLine=function(){var r,u;$("li.tag-item",this._$tagsList).remove();var n=$(this.getElement().parent()).clone(),i=$(v("div","r-tags-items-container off-screen")),t=$(v("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);r=this._renderOverflowElement(t,!1);u=this._renderTagsInContainer(t);this._renderTagsWithMaxWidth(u,this._options.maxWidth,r);n.remove()},t.prototype._renderForGrid=function(){var r,u,f,i,t,n;n=$(this.getElement().parent(".grid-cell")).clone();i=$(v("div","r-tags-items-container off-screen"));t=$(v("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);f=this._renderOverflowElement(t,!1);r=this._renderTagsInContainer(t);u=n.width();this._renderTagsWithMaxWidth(r,u,f);n.remove()},t.prototype._renderFilterAvailable=function(n){var f,r,u,t,i;$("li.tag-item",this._$tagsList).remove();i=$(this.getElement().parent(".r-tfs-tags-filter")).clone();u=$(v("div","r-tags-items-container off-screen"));t=$(v("ul","tags-unused-host"));t.appendTo(u);u.appendTo(i);i.appendTo(document.body);r=this._renderOverflowElement(t,this._options.selectable);h.RichContentTooltip.add(l.TagFilterDropdownTooltip,r);f=this._renderTagsInContainer(t);this._renderTagsWithMaxWidth(f,this._options.maxWidth,r,n);i.remove()},t.prototype._renderFilterApplied=function(n){var r=this._options.maxTags,l,a,e,s,u,i,y,o,f,c,p=[],b;if($("li.tag-item",this._$tagsList).remove(),e=$(this.getElement().parent(".r-tfs-tags-filter")).clone(),s=$(v("div","r-tags-items-container off-screen")),u=$(v("ul","tags-unused-host")),u.appendTo(s),s.appendTo(e),e.appendTo(document.body),!this._tags){this._width=0;return}for(l=this._tags.length>r?r-1:this._tags.length-1,i=l;i>=0;i--)a=this._renderTag(this._tags[i],this._normalizeName(this._tags[i],t.TAG_CHARACTER_LIMIT),i),a.prependTo(u);if(this._tags.length>r){for(this._visibleTagsCount=r,c=w.generateTagContainer(!0,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex),c.children(".r-tag-box").text(t.ELLIPSIS),f=$(v("li","tag-item tags-overflow")),f.append(c),i=r,y=this._tags.length;i<y;i++)p.push(this._tags[i]);b=p.join(t.TAG_FORMATTING_SEPARATOR);h.RichContentTooltip.add(b,f);f.appendTo(u);this._setupOverflowEvents(f)}else this._visibleTagsCount=-1;o=0;$.map(u.children(),function(t){o=o+$(t).outerWidth(!0);this._$tagsList.append(t);var i=$(t).find(".r-tag-container"),r=Number(i.attr("index"));n&&r===this._selectedIndex&&i.focus()});this._width=o;e.remove()},t.prototype._initializeFilterDropdown=function(){var n=this,r;this._isAutoCompleteVisible=!1;var f=function(){n._$tagInput.show();n._$tagInput.autocomplete("enable");$(".tags-filter-overflow-text").toggleClass("pressed",!0)},t=function(){n._$tagInput.hide();n._$tagInput.val("");n._$tagInput.autocomplete("disable");$(".tags-filter-overflow-text").toggleClass("pressed",!1)},i=function(t){$.inArray(t,n._tags)>=0&&n._options.availableDropdownSelect(t&&$.isFunction(n._options.availableDropdownSelect))};this._$tagInput=$(v("input","r-tags-input r-tags-filter-dropdown-input r-tag-box")).attr("type","text").attr("placeholder","").hide();this._$tagInput.closest("li.r-tag-item-delete-experience").attr("aria-hidden","true");this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",offset:"0 -1"},source:function(t,i){var r=n._getMatchesForPrefix(t.term,n._tags.sort(u.localeIgnoreCaseComparer),!0);i(r)},open:function(){n._isAutoCompleteVisible=!0},select:function(n,r){i(r.item.value);t()},change:function(){i(n._$tagInput.val());t()},close:function(){n._isAutoCompleteVisible=!1;n._$tagInput.is(":focus")||(n._$tagInput.val()&&i(n._$tagInput.val()),t())}});this._$tagInput.blur(function(){this._isAutoCompleteVisible||t()});this._$tagInput.focus(function(){this._$tagInput.is(":visible")&&this._$tagInput.autocomplete("search")});this._$tagInput.keydown(function(i){i.keyCode===o.KeyCode.ESCAPE?(n._$tagInput.autocomplete("close"),t()):i.keyCode===o.KeyCode.ENTER&&$.inArray(n._$tagInput.val(),n._tags)>=0&&($.isFunction(n._options.availableDropdownSelect)&&n._options.availableDropdownSelect(n._$tagInput.val()),n._$tagInput.autocomplete("close"),t())});this._$tagInput.data("ui-autocomplete").menu.element.addClass("r-tags-autocomplete-menu");r=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+r+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,t){var r=t.label,i;return i=$(v("a")).text(r),h.RichContentTooltip.addIfOverflow(t.value,i),$(v("li")).data("ui-autocomplete-item",t).append(i).appendTo(n)};$(window).resize(function(){n._$tagInput.autocomplete("close")});$(document.body).append(this._$tagInput)},t.prototype._getNextZIndex=function(){var t,n,i=0;return $("div.ui-dialog").each(function(){t=$(this).css("z-index");!isNaN(t)&&t>i&&(i=t)}),i<100022?n=100023:(n=i+2,n%2!=0&&n++),n},t.prototype._overflowClick=function(n){n.children().first().addClass("tags-filter-overflow-text");this._$tagInput||this._initializeFilterDropdown();this._$tagInput.show();this._$tagInput.autocomplete("enable");$(".tags-filter-overflow-text").toggleClass("pressed",!0);this._$tagInput.position({my:"right top",at:"right bottom",of:n.children().first()});this._$tagInput.autocomplete("search");this._$tagInput.focus()},t.prototype._renderItems=function(n){this._$tagInput&&this._$tagInput.data("ui-autocomplete")&&this._$tagInput.autocomplete("close");this._options.type?this._options.type==="grid"?this._renderForGrid():this._options.type==="filter.available"?this._renderFilterAvailable(n):this._options.type==="filter.applied"?this._renderFilterApplied(n):this._options.type==="card"?this._renderForCard():this._options.type==="single.line"&&this._renderForSingleLine():this._render(n);this._renderAddButton(n)},t.prototype._renderTag=function(n,i,r){var c=this,f,o,y,s,p;return i||(i=n),o=$(v("li","tag-item")),this._options.useDeleteExperience&&o.addClass("r-tag-item-delete-experience"),y=r===this._selectedIndex,f=w.generateTagContainer(this._options.selectable,this._options.useDeleteExperience,r,y),n!==i&&(h.RichContentTooltip.add(n,f),o.data(t.FullTagNameKey,n)),this._options.selectable&&(f.click(function(t){return c._tagClick(t,n)}),f.keydown({tagName:n},function(n){return c._tagKeyDown(n)}),f.appendTo(o)),$.isFunction(this._options.tagRenderer)?this._options.tagRenderer(f,n,i):f.children(".r-tag-box").text(i),f.appendTo(o),Boolean(this._options.useDeleteExperience)&&(s=$("<span>").addClass("r-tag-delete r-tag-box-delete-experience").attr("role","button").attr("aria-label",u.format(a.TagsDeleteButton_AriaLabel,n)).attr("tabindex",y?0:-1).attr("dir","ltr").appendTo(f),h.RichContentTooltip.add(l.DeleteText,s),p=$("<span>").addClass("bowtie-icon bowtie-math-multiply-light").appendTo(s),s.click(function(n){c._removeTagAndSetFocus(n,!0)})),o},t.prototype._removeTagAndSetFocus=function(n,i){var r=this,u,f=n.keyCode===o.KeyCode.DELETE,e=n.keyCode===o.KeyCode.BACKSPACE,s=function(n){var i,u;n[0]&&(r._selectedIndex=Number(n.find(".r-tag-container").attr("index")),i=r._getLastIndex(),r._selectedIndex>i&&(r._selectedIndex=i));u=n.data(t.FullTagNameKey)||n.text();r._removeTag(u,!0,!0)};(i||f||e||t.shouldKeydownTriggerClick(n))&&(n.preventDefault(),n.stopPropagation(),u=$(n.target).closest(".tag-item"),s(u),u.remove())},t.prototype._removeTag=function(n,t,i){if(n&&f.contains(this._tags,n,u.localeIgnoreCaseComparer)){this._tags.splice($.inArray(n,this._tags),1);var r=this._getLastIndex();this._selectedIndex>r&&this._selectedIndex==r;t?this._renderItems(i):this._renderAddButton(i);this._fireChange({type:b.Delete,name:n})}},t.prototype._getMatchesForPrefix=function(n,i,r){var o,s,h,c;if(s=t.AUTOCOMPLETE_MATCHES_LIMIT+1,n){if(h=$.ui.autocomplete.escapeRegex(n),c=new RegExp("^"+h,"i"),o=$.grep(i||[],function(n){return s>0&&(c.test(n)?s-->0:!1)}),s<=0)return[]}else if(i.length<s)o=i;else return[];return Boolean(r)||(o=f.subtract(o,this._tags,u.localeIgnoreCaseComparer)),o},t.prototype.gettingSuggestedTagNamesForPrefix=function(n){var t=this;return this._getSuggestedValues().then(function(i){e.logTracePoint("TagControl.getAutoCompleteMatches.start");var r=t._getMatchesForPrefix(n,i,!1);return e.logTracePoint("TagControl.getAutoCompleteMatches.completed"),r})},t.prototype._initializeSuggestedValues=function(){var n=this,t;this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",collision:"none",offset:"0 -1"},source:function(t,i){n.gettingSuggestedTagNamesForPrefix(t.term).done(function(n){i(n)}).fail(function(){i([])})},select:function(t,i){n.addTag(i.item.value);n._hideInputControl(!0)},change:function(){n.flush()},close:function(){n._$tagInput.is(":focus")||(n._$tagInput.val()&&n.flush(),n._hideInputControl())}});this._$tagInput.data("ui-autocomplete").menu.element.addClass("r-tags-autocomplete-menu");t=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+t+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,t){var r=t.label,i;return i=$(v("a")).text(r),h.RichContentTooltip.addIfOverflow(t.value,i),$(v("li")).data("ui-autocomplete-item",t).append(i).appendTo(n)}},t.prototype._getSuggestedValues=function(){if(this._options.refreshSuggestedTags||!this._gettingSuggestedValues){var n=jQuery.Deferred();$.isFunction(this._options.beginGetSuggestedValues)?this._options.beginGetSuggestedValues(function(t){n.resolve(t)}):n.resolve([]);this._gettingSuggestedValues=n.promise()}return this._gettingSuggestedValues},t.prototype.resetSuggestedValues=function(){this._gettingSuggestedValues=null},t.prototype._renderAddButton=function(n){var t,i;this._$addButtonContainer&&(this._options.addTagTextOnChange&&(t=this._$addButtonContainer.find(".r-tag-box"),this._tags.length===0?(t.removeClass("bowtie-icon bowtie-math-plus-light"),t.text(this._options.addButtonText||l.TagAddButtonText)):(t.text(""),t.append($(v("span","bowtie-icon bowtie-math-plus-light"))),h.RichContentTooltip.add(this._options.addButtonText||l.TagAddButtonText,this._$addButtonContainer.find(".r-tag-container"))),t.closest(".r-tag-container").attr("aria-label",this._options.addButtonText||l.TagAddButtonText)),i=this._$addButtonContainer.find(".r-tag-container"),i.attr("index",this._getLastIndex()),this._selectedIndex===this._getLastIndex()?(i.attr("tabIndex",0),n&&i.focus()):i.attr("tabIndex",-1))},t.prototype._initializeInputElements=function(){var n=this,u=this,i,r;this._$addButtonContainer=$(v("li","r-tags-add-button"));Boolean(this._options.useDeleteExperience)&&this._$addButtonContainer.addClass("r-tag-item-delete-experience");i=w.generateTagContainer(!0,!1,0,!0);i.children(".r-tag-box").text(this._options.addButtonText||l.TagAddButtonText);i.attr({role:"button","aria-label":l.AddTag});i.click(function(){u._showInputControl()});i.keydown(function(r){n._updateSelectedIndex(r);t.shouldKeydownTriggerClick(r)?i.click():r.keyCode===o.KeyCode.BACKSPACE&&(r.preventDefault(),r.stopPropagation())});h.RichContentTooltip.add(this._options.addButtonText||l.TagAddButtonText,i);r=$(v("li"));Boolean(this._options.useDeleteExperience)&&r.addClass("r-tag-item-delete-experience");this._$tagInput=$(v("input","r-tags-input r-tag-box")).attr({type:"text",placeholder:""}).hide();this._$tagInput.change(function(n){n.stopPropagation();n.preventDefault()});$.isFunction(u._options.beginGetSuggestedValues)&&this._initializeSuggestedValues();this._$tagInput.focus(function(){n._$tagInput.autocomplete("search")});this._$tagInput.blur(function(){n._$tagInput.data("ui-autocomplete").menu.element.is(":visible")||n._$tagInput.val()||n._hideInputControl()});this._$tagInput.keydown(function(t){var i,r;(t.keyCode!==o.KeyCode.ENTER||o.KeyUtils.isModifierKey(t))&&t.keyCode!==o.KeyCode.TAB?t.keyCode===o.KeyCode.ESCAPE&&(t.stopPropagation(),n._hideInputControl(!0)):(i=$(t.target).val(),n._splitAndAddTags(i),r=i.replace(/,|;/g,""),t.keyCode===o.KeyCode.TAB&&r.length===0?(n._hideInputControl(!0),t.shiftKey&&t.preventDefault()):($(t.target).val(""),t.preventDefault(),t.stopPropagation(),$.isFunction(n._options.beginGetSuggestedValues)&&n._$tagInput.autocomplete("search")),n._selectedIndex=n._tags.length)});i.appendTo(this._$addButtonContainer);this._$addButtonContainer.appendTo(this._$tagsList);this._$tagInput.appendTo(r);r.appendTo(this._$tagsList)},t.prototype.flush=function(){var n;n=this._$tagInput.val();n&&this._splitAndAddTags(n);this._hideInputControl()},t.enhancementTypeName="tfs.ui.tagcontrol",t.TAG_CHARACTER_LIMIT=30,t.AUTOCOMPLETE_CHARACTER_LIMIT=15,t.AUTOCOMPLETE_MATCHES_LIMIT=200,t.FILTER_DROPDOWN_WIDTH=150,t.ELLIPSIS="...",t.coreCssClass="r-tfs-tags",t.FullTagNameKey="fullTagName",t.TAG_FORMATTING_SEPARATOR="; ",t.TAG_SPLITTING_SEPARATOR=/[,;]/,t}(s.BaseControl);t.TagControl=p;i.initClassPrototype(p,{_tags:null,_$tagsList:null,_$tagInput:null,_$addButtonContainer:null,_gettingSuggestedValues:null,_width:null});k=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._refreshDelegate=y(i,i._refresh),i._suppressDuplicateRenders=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.coreCssClass},i))},t.prototype.initialize=function(){this._addStaticElements();this._appliedFiltersTagControl=s.BaseControl.createIn(p,this.getElement(),{readOnly:!0,selectable:!0,cssClass:"r-tag-filter-applied-tags",tagClick:y(this,this._onAppliedTagClick),tagKeyDown:y(this,this._onAppliedTagKeyDown),unsorted:!0,maxTags:t.APPLIED_TAGS_LIMIT,type:"filter.applied",availableDropdownSelect:y(this,this._onAppliedDropdownSelect)});this._availableFiltersTagControl=s.BaseControl.createIn(p,this.getElement(),{readOnly:!0,selectable:!0,cssClass:"r-tag-filter-available-tags",tagClick:y(this,this._onAvailableTagClick),tagKeyDown:y(this,this._onAvailableTagKeyDown),tagSort:y(this,this._tagSortByCount),tagRenderer:y(this,this._renderTagWithCounts),availableDropdownSelect:y(this,this._onAvailableDropdownSelect),type:"filter.available"});this._bindEvents()},t.prototype.bindFilterManager=function(n){this._filterManager&&this._detachFilterManagerEvents();this._filterManager=n;this._tagFilterProvider=this._filterManager.getFilterProvider(c.TagFilterProvider.PROVIDER_TYPE);this._attachFilterManagerEvents();this._availableFiltersTagControl.setTagCount(y(this,this._tagFilterProvider.getTagItemCount));this._refresh()},t.prototype.bindToData=function(n){this._tagFilterProvider.setTags(n)},t.prototype.clear=function(){this._setInnerTagControls([],[])},t.prototype._bindEvents=function(){var n=this,t=-1;$(window).bind("resize",function(){var i=n.getElement().width();t!=i&&(t=i,n._refresh())})},t.prototype._getAvailableWidth=function(){var i,n;return n=this._appliedFiltersTagControl.getWidth(),n=n+this._showAllButton.outerWidth(!0),n=n+this._tagsLabel.outerWidth(!0),n=n+t.APPLIED_AVAILABLE_SPACER,i=this.getElement().parent().outerWidth(!0),Math.floor(i-n)},t.prototype._addStaticElements=function(){var n,i=this.getElement();this._tagsLabel=$(v("div","r-tag-filter-control-label")).text(l.TagFilterLabel);i.append(this._tagsLabel);n=$(v("div","r-tag-filter-control-show-all-container"));this._showAllButton=w.generateTagContainer(!0,!1,0,!0).attr("id",t.SHOW_ALL_ATTR_ID).addClass("r-tag-filter-control-show-all").click(function(n){n.preventDefault();n.stopPropagation();$(this).focus()}).click(y(this,this._onShowAllClick)).keydown(function(n){p.shouldKeydownTriggerClick(n)&&$(this).click()});h.RichContentTooltip.add(l.TagFilterShowAllButtonTooltip,this._showAllButton);this._showAllButton.children(".r-tag-box").text(l.TagFilterShowAllButtonText);n.append(this._showAllButton);i.append(n)},t.prototype._attachFilterManagerEvents=function(){this._filterManager.attachEvent(c.FilterManager.EVENT_FILTER_CHANGED,this._refreshDelegate);this._filterManager.attachEvent(c.FilterManager.EVENT_FILTER_CLEARED,this._refreshDelegate);this._filterManager.attachEvent(c.FilterManager.EVENT_WORK_ITEM_UPDATED,this._refreshDelegate)},t.prototype._detachFilterManagerEvents=function(){this._filterManager.detachEvent(c.FilterManager.EVENT_FILTER_CHANGED,this._refreshDelegate);this._filterManager.detachEvent(c.FilterManager.EVENT_FILTER_CLEARED,this._refreshDelegate);this._filterManager.detachEvent(c.FilterManager.EVENT_WORK_ITEM_UPDATED,this._refreshDelegate)},t.prototype._refresh=function(){this._tagFilterProvider.isActive()&&(this._tagFilterProvider&&this._tagFilterProvider.invalidateTagCountCache(),this._setInnerTagControls(this._tagFilterProvider.getActiveFilterTags(),this._tagFilterProvider.getAvailableFilterTags()))},t.prototype._setInnerTagControls=function(n,t){this._suppressDuplicateRenders||(this._suppressDuplicateRenders=!0,this._appliedFiltersTagControl.setItems(n),this._availableFiltersTagControl.setMaxWidth(this._getAvailableWidth()),this._availableFiltersTagControl.setItems(t),this._suppressDuplicateRenders=!1,e.logTracePoint("TagFilterControl.renderComplete"))},t.prototype._onAppliedDropdownSelect=function(n){this._filterManager.removeFilter(c.TagFilterProvider.PROVIDER_TYPE,n);this._appliedFiltersTagControl.getElement().find(".tag-item .r-tag-container[tabIndex='0']").first().focus()},t.prototype._onAvailableDropdownSelect=function(n){this._filterManager.addFilter(c.TagFilterProvider.PROVIDER_TYPE,n)},t.prototype._onAvailableTagClick=function(n){var t=n.data.tagName;e.logTracePoint("TagFilterControl.AvailableTag.Clicked");this._filterManager.addFilter(c.TagFilterProvider.PROVIDER_TYPE,t)},t.prototype._onAvailableTagKeyDown=function(n){this._commonTagKeyDownBehavior(!1,n)},t.prototype._onAppliedTagClick=function(n){var t=n.data.tagName;e.logTracePoint("TagFilterControl.AppliedTag.Clicked");this._filterManager.removeFilter(c.TagFilterProvider.PROVIDER_TYPE,t)},t.prototype._onAppliedTagKeyDown=function(n){this._commonTagKeyDownBehavior(!0,n)},t.prototype._commonTagKeyDownBehavior=function(n,t){var i;p.shouldKeydownTriggerClick(t)&&(t.preventDefault(),t.stopPropagation(),n?this._onAppliedTagClick(t):this._onAvailableTagClick(t),i=n?this._appliedFiltersTagControl.getElement().find(".tag-item .r-tag-container").last():this._availableFiltersTagControl.getElement().find(".tag-item .r-tag-container").first(),i.length===0&&(i=this._showAllButton),i.focus())},t.prototype._onShowAllClick=function(){this._filterManager&&this._filterManager.clearFilters(c.TagFilterProvider.PROVIDER_TYPE)},t.prototype._renderTagWithCounts=function(n,t,i){var r;n.children(".r-tag-box").text(i);r=$(v("span","tag-item-count")).text(this._tagFilterProvider.getTagItemCount(t).toString());n.children(".r-tag-box").append(r)},t.prototype._tagSortByCount=function(n,t){var i,r=this._tagFilterProvider.getTagItemCount(n),f=this._tagFilterProvider.getTagItemCount(t);return(i=f-r,i)?i:u.localeIgnoreCaseComparer(n,t)},t.enhancementTypeName="tfs.ui.tagfiltercontrol",t.coreCssClass="r-tfs-tags-filter",t.APPLIED_TAGS_LIMIT=5,t.APPLIED_AVAILABLE_SPACER=100,t.SHOW_ALL_ATTR_ID="id-tag-filter-show-all-btn",t}(s.BaseControl);t.TagFilterControl=k;i.initClassPrototype(k,{_tagsLabel:null,_filterManager:null,_tagFilterProvider:null,_availableFiltersTagControl:null,_appliedFiltersTagControl:null,_showAllButton:null,_refreshDelegate:null});w=function(){function n(){}return n.renderTagCellContents=function(n,t,i,r){var u,o,h,f;return o=i.getColumnValue.call(n,t,i.index,r),u=o?o.split(p.TAG_SPLITTING_SEPARATOR):[],$.each(u,function(n,t){u[n]=$.trim(t)}),f=$(v("div","grid-cell")),f.width(i.width||20),u&&u.length>0?(s.BaseControl.createIn(p,f,{tags:u,readOnly:!0,type:"grid"}),h=u.join("     "),i.maxLength=Math.max(i.maxLength||0,h.length)):f.html("&nbsp;"),f},n.generateTagContainer=function(n,t,i,r){var u=$(v("span","r-tag-container")).attr("index",i),f=$(v("span","r-tag-box"));return n&&(r&&!t?u.attr("tabindex",0):t||u.attr("tabindex",-1),t?(f.addClass("r-tag-box-delete-experience"),u.addClass("r-tag-container-delete-experience")):(u.attr("role","button"),u.addClass("r-tag-container-selectable"),f.addClass("r-tag-box-selectable"))),f.attr("dir","ltr"),u.attr("dir","ltr"),u.append(f),u},n.enhancementTypeName="tfs.ui.tagutilities",n}();t.TagUtilities=w;i.tfsModuleLoaded("RM.Tags",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Tags",["require","exports","knockout","q","VSS/Context","VSS/Adapters/Knockout","VSS/Controls","VSS/VSS","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/CommonControls/RM.Tags","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p;Object.defineProperty(t,"__esModule",{value:!0});y=function(n){function t(t,r){var u=__construct(this,n,[]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.tags=i.observableArray([]),u.originalTags=[],u.suggestedTags=[],u.projectId=i.observable(null),u.options=t,u.dirty=i.computed(function(){return u.computeDirty()}),!r||u.projectId(r),u._changeTracker=new c.ChangeTracker(u),u._changeTracker.addDisposable(u.dirty),u}return __extends(t,n),t.prototype.isDirty=function(){return!l.arrayEquals(this.originalTags,this.tags(),function(n,t){return v.localeIgnoreCaseComparer(n,t)===0},!0)},t.prototype.computeDirty=function(){return this.isDirty()},t.prototype.dispose=function(){this._changeTracker.dispose()},t.prototype.getSuggestedTags=function(){if(this.options&&this.options.doNotShowBuildTags===!0)return r.resolve(this.suggestedTags);if(!this._suggestedTagsPromise){var n=!this.projectId()||v.localeIgnoreCaseComparer(this.projectId(),v.empty)===0,t=n?u.getDefaultWebContext().project.id:this.projectId();this._suggestedTagsPromise=s.serviceContext.buildManager().beginGetProjectTags(t)}return this._suggestedTagsPromise},t}(f.TemplateViewModel);t.TagsViewModel=y;p=function(n){function t(t){var i=n.call(this,t,t.options)||this;return i._branchDisposalManager=new a.DisposalManager,i._branchDisposalManager.addDisposable(i.getViewModel().projectId.subscribe(function(){i.initializeOptions(i.getViewModel().options)})),i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i=this;n.prototype.initializeOptions.call(this,$.extend({useDeleteExperience:!0,beginGetSuggestedValues:function(n){i.getViewModel().getSuggestedTags().then(function(t){n(t)},function(){n([])})}},t))},t.prototype.setTags=function(n){this.getViewModel().tags(n)},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._branchDisposalManager.dispose()},t.prototype.initialize=function(){var t=this,i=$("<div />").appendTo(this.getElement()),n=this.getViewModel();this._options.tags=n.tags();this._options.selectable=!0;this._tagsControl=e.BaseControl.createIn(h.TagControl,i,this._options);this.subscribe(n.tags,function(i){t._tagsControl.setItems(i,n.focusLastSelected)});this._tagsControl._bind("change",function(i,r){n.tags.valueHasMutated();r.type===h.TagChangeType.Add?t._fire("add",r.name):r.type===h.TagChangeType.Delete&&t._fire("delete",r.name)})},t}(f.TemplateControl);t.TagsControl=p;f.TemplateControl.registerBinding("rm_tags",p,function(){return new y});o.tfsModuleLoaded("TFS.ReleaseManagement.Controls.Tags",t)});

define("TFS/VersionControl/Controls",["require","exports","VSS/Contributions/Controls","VSS/LoaderPlugins/Css!VersionControlControls","VSS/LoaderPlugins/Css!Presentation/Components/PivotView"],function(n,t,i){var r,u,f,e,o,s;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.Graph="graph";n.Author="author";n.Message="message";n.PullRequest="pullrequest";n.Date="date";n.Commit="commit";n.Build="build";n.ChangeType="changeType";n.CommitOptions="commitOptions"}(r=t.HistoryListColumnKeys||(t.HistoryListColumnKeys={})),function(n){n.Author="userString";n.HistoryMode="gitLogHistoryMode";n.FromDate="fromDate";n.ToDate="toDate"}(u=t.HistoryListFilterKeys||(t.HistoryListFilterKeys={})),function(n){function t(t,r,u){return i.createContributedControl(t,n.contributionId,r,u)}n.contributionId="ms.vss-code-web.tfvc-history-list";n.create=t}(f=t.TfvcHistoryList||(t.TfvcHistoryList={})),function(n){function t(t,r,u){return i.createContributedControl(t,n.contributionId,r,u)}n.contributionId="ms.vss-code-web.simple-commit-history-list";n.create=t}(e=t.SimpleCommitHistoryList||(t.SimpleCommitHistoryList={})),function(n){function t(t,r,u){return i.createContributedControl(t,n.contributionId,r,u)}n.contributionId="ms.vss-code-web.git-history-list";n.create=t}(o=t.GitHistoryList||(t.GitHistoryList={})),function(n){function t(t,r,u){return i.createContributedControl(t,n.contributionId,r,u)}n.contributionId="ms.vss-code-web.git-version-selector";n.create=t}(s=t.GitVersionSelector||(t.GitVersionSelector={}))});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Branch",["require","exports","knockout","VSS/VSS","VSS/Adapters/Knockout","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","TFS/VersionControl/Controls","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types"],function(n,t,i,r,u,f,e,o,s,h,c,l){var y,a,v;Object.defineProperty(t,"__esModule",{value:!0});y=e.domElem;a=function(n){function t(t){var i=n.call(this,t,t.options)||this;return i._branchDisposalManager=new f.DisposalManager,i._branchDisposalManager.addDisposable(i.getViewModel().repositoryId.subscribe(function(n){!i._gitVersionMenuExt||!n||i.getViewModel().artifactType===l.ArtifactTypes.GitHubId||i._gitVersionMenuExt.setRepositoryId(n)})),i._branchDisposalManager.addDisposable(i.getViewModel().selectedArtifactSourceBranch.subscribe(function(n){!i._gitVersionMenuExt||!n||i.getViewModel().artifactType===l.ArtifactTypes.GitHubId||i._gitVersionMenuExt.setSelectedVersion({branchName:n})})),i}return __extends(t,n),t.prototype.initializeOptions=function(t){var i=this;n.prototype.initializeOptions.call(this,$.extend({allowUnmatchedSelection:!0,disableTags:!0,onItemChanged:function(n){n.branchName&&i.getViewModel()&&(i.getViewModel().originalArtifactSourceBranch=i.getViewModel().selectedArtifactSourceBranch(),i.getViewModel().selectedArtifactSourceBranch(n.branchName))}},t))},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._branchDisposalManager.dispose()},t.prototype.initialize=function(){var n=this,i=$("<div />").appendTo(this.getElement()),t=$(y("div","extension-git-version-selector")).css("display","inline-block");i.append(t);this.getViewModel().artifactType!==l.ArtifactTypes.GitHubId&&s.GitVersionSelector.create(t,this._options).then(function(t){n._gitVersionMenuExt=t;!n.getViewModel().repositoryId()||n._gitVersionMenuExt.setRepositoryId(n.getViewModel().repositoryId());!n.getViewModel().selectedArtifactSourceBranch()||n._gitVersionMenuExt.setSelectedVersion({branchName:n.getViewModel().selectedArtifactSourceBranch()})})},t}(u.TemplateControl);t.BranchControl=a;v=function(n){function t(t,r){var u=__construct(this,n,[]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.selectedArtifactSourceBranch=i.observable(null),u.repositoryId=i.observable(null),u.computedBranchNames=i.observableArray([]),u.options=t,!r||u.repositoryId(r),u.isInvalid=u.computed(function(){return!u._isValidBranch()}),u._changeTracker=new c.ChangeTracker(u),u._changeTracker.addDisposable(u.dirty),u._artifactsModel=h.BaseManager.clientFactory.getAtrifactTypeClient(),u}return __extends(t,n),t.prototype.isDirty=function(){return this.isInvalid()?!1:o.localeComparer(this.selectedArtifactSourceBranch(),this.originalArtifactSourceBranch)!==0},t.prototype.computeDirty=function(){return this.isDirty()},t.prototype._queryBranches=function(){var u=this,n,t,i;this.artifactType===l.ArtifactTypes.GitHubId&&(n={},n.connection=this.connectionId,n.definition=this.repositoryId(),t=[],t.push({inputId:"branch"}),i={currentValues:n,inputValues:t,resource:this.artifactType.toString()},this._artifactsModel.queryInputValues(i).then(function(n){var t=[];$.each(n.inputValues,function(n,i){i.error&&i.error.message?console.log(i.error.message):($.each(i.possibleValues,function(n,i){t.push(i.displayValue)}),u.computedBranchNames(t))})},function(n){r.handleError(n)}))},t.prototype._isValidBranch=function(){var r=!0,t=this.selectedArtifactSourceBranch(),i,n;return!t||(i=t.length,n=t.indexOf("*"),n>=0&&(r=n===0&&i===1||n===i-1)),r},t}(u.TemplateViewModel);t.BranchViewModel=v;u.TemplateControl.registerBinding("rm_branch",a,function(){return new v});r.tfsModuleLoaded("TFS.ReleaseManagement.Controls.Branch",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.KnockoutExtensions",["require","exports","knockout","knockoutSecureBinding","VSS/Controls","VSS/Controls/Combos","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Model","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Knockout.CustomHandlers","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Tags","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Branch"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function g(){var n=i,t;n.hasDefaultBindingsBeenOverridden||(n.hasDefaultBindingsBeenOverridden=!0,t={attribute:"data-bind",globals:window,bindings:i.bindingHandlers,noVirtualElements:!1},i.bindingProvider.instance=new r(t))}function tt(){i.bindingHandlers.combo={init:function(n,t){var r=t(),i=u.BaseControl.createIn(f.Combo,$(n),{mode:r.mode||"drop",allowEdit:r.allowEdit||!1,change:function(){i.getValue()===e.empty?i.setInvalid(!0):i.setInvalid(!1);var n=i.getText();r.selectedValue(n)},invalidCss:r.invalidCss});i.setInvalid(!1);$(n).data("combo-control",i)},update:function(n,t){var i=$(n).data("combo-control"),r=t(),u=r.possibleValues();i.setSource(u);!r.defaultValue()||r.defaultValue()===e.empty?i.setInvalid(!0):(i.setText(r.defaultValue(),!1),i.setInvalid(!1))}}}function b(n,t){if(!!n){var i=$(n.target);return i.closest(t).index()}return-1}function k(n,t,i){if(!!n){var r=$(n.target);return r.closest(t).find(i).index(r.closest(i))}return-1}function d(n,t,i,r,u){var f,e;return!!n&&(f=$(n.target),!!f.closest(t)&&(e=f.closest(t).parent(),!!$(e).find(t).eq(r)))?$(e).find(t).eq(r).find(i).eq(u):null}function nt(n,t){var i=t()||{},r=i.navigatableCellSelector||"td",u=i.navigatableRowSelector||"tr";return!n||($(n).find(r).attr("tabindex","-1"),$(n).find("a").attr("tabindex","-1"),!i||!i.tabInSelector||$(n).find(u).has(i.tabInSelector).first().find(i.tabInSelector).attr("tabindex","0")),null}Object.defineProperty(t,"__esModule",{value:!0});t.overrideDefaultBindings=g;g();y.initKnockoutHandlers();t.initKnockoutHandlers=tt;i.bindingHandlers.createBranchEnhancement={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i,r){n=$(n);u.BaseControl.createIn(w.BranchControl,n,r)}};i.bindingHandlers.customTableNavigation={init:function(n,t,i,r){var u=t()||{},s=r||{},f=u.navigatableRowSelector||"tr",e=u.navigatableCellSelector||"td";if(!!n){$(n).on("DOMNodeInserted",function(){nt(n,t)});$(n).keydown(function(n){var i,r,t;if(!n)return!0;switch(n.keyCode){case o.KeyCode.ENTER:return!!u&&!!u.onEnterPress&&$.isFunction(u.onEnterPress)?u.onEnterPress(s,n):!0;case o.KeyCode.DOWN:if(!!u&&!!u.customDownKeyHandler&&$.isFunction(u.customDownKeyHandler))return u.customDownKeyHandler(n);var i=b(n,f),r=k(n,f,e),t=d(n,f,e,i+1,r);return!t||t.focus(),!1;case o.KeyCode.UP:return!!u&&!!u.customUpKeyHandler&&$.isFunction(u.customUpKeyHandler)?u.customUpKeyHandler(n):(i=b(n,f),r=k(n,f,e),i>0&&(t=d(n,f,e,i-1,r),!t||t.focus()),!1);case o.KeyCode.RIGHT:var i=b(n,f),r=k(n,f,e),t=d(n,f,e,i,r+1);return!t||t.focus(),!1;case o.KeyCode.LEFT:return i=b(n,f),r=k(n,f,e),r>0&&(t=d(n,f,e,i,r-1),!t||t.focus()),!1;case o.KeyCode.TAB:return!!u&&!!u.tabOutSelector&&!n.shiftKey?($(n.target).parents().has(u.tabOutSelector).first().find(u.tabOutSelector).focus(),!1):!0}return!0})}},update:function(n,t){nt(n,t)}};i.bindingHandlers.createTagEnhancement={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var i=t(),r,e;if(n=$(n),r="EnhancedControlKey",i){var o=p.TagsControl,s=n.data(r),f=s;if(!f){f=u.BaseControl.createIn(o,n,i.viewModel);n.data(r,f);try{e=i.eventHandlers;e&&$.each(e,function(t,i){n.bind(i.type,i.eventHandler)})}catch(h){console.log(h)}}}}};i.bindingHandlers.metaTaskCreateTaskEditor={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var f=$(n),r=t();r&&s.using(["DistributedTasksCommon/TFS.Tasks.TasksEditor.Internal","DistributedTasksCommon/TFS.Tasks.Utils"],function(t,e){var h,c,o,s;f.removeAttr("data-bind");f.removeAttr("data-bind");h="taskeditor_view";c=i.observable(r.viewModel);f=e.loadHtmlTemplate(h,"tasks-editor-content").appendTo(n);o=new t.TaskGroupListEditorViewModel(c,null,!1,{addTasksLabel:a.AddTasksLabel,defaultTaskCategoryName:r.viewModel.defaultCategory,disableAddTasks:!1,tasksVisibilityFilter:[],metaTaskManager:r.viewModel.metaTaskManager,variableProvider:r.viewModel.variableProvider});r.viewModel.taskEditorViewModel(o);i.applyBindings(o,f[0]);s=u.BaseControl.enhance(t.TaskGroupListEditorControl,f,o);i.applyBindings(o,s.getElement()[0]);s.initialize()})}};i.bindingHandlers.accessibility={init:function(n,t){var i=$(n),r=t();if(r)h.AccessibilityHelper.onEnterPress(i)}};i.RMUtils={getRMResource:function(n){if(n in a)return a[n];throw"The resource with resource id: "+n+" not found. Please check the spelling and whether the resource actually exists in the resx or not";},getDTResource:function(n){if(n in v)return v[n];throw"The resource with resource id: "+n+" not found. Please check the spelling and whether the resource actually exists in the resx or not";},getRDWidgetEnvironmentTileToolTip:function(n,t,i){var r=l.ReleaseEnvironmentBase.create(n),u=c.ReleaseEnvironmentStatusHelper.getComputedReleaseEnvironmentStatus(l.ReleaseEnvironmentBase.create(r)),f=c.ReleaseEnvironmentHelper.getStatusToolTipText(r,u);return e.localeFormat(a.RDWidgetEnvironmentTileTooltip,n.name,f,t,i)},getHtmlDecodedResource:function(n){return h.HtmlHelper.htmlDecode(n)}};s.tfsModuleLoaded("TFS.ReleaseManagement.KnockoutExtensions",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease",["require","exports","knockout","q","VSS/Controls","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/VSS","VSS/Utils/UI","VSS/Adapters/Knockout","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.DemandsValidator","ReleasePipeline/Scripts/TFS.ReleaseManagement.Model","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorSnapshots","ReleasePipeline/Scripts/TFS.ReleaseManagement.KnockoutExtensions","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","DistributedTaskControls/Common/JQueryWrapper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){function st(){var t=$(document).find(".create-rel-automated-deployment-grid-table td.deployment-trigger div.select-input-box input"),i,n,r,u;if(!!t)for(n=0,r=t.length;n<r;n++)i=$(t[n]).closest("tr.automatedEnvironment").find("td.environment-name span"),!i||(u=i.attr("id"),$(t[n]).attr("aria-labelledby",u))}function ht(){var t=$(document).find(".create-release-view-artifacts-section td.release-artifact-source-versions div.select-input-box input"),i,n,r,u;if(!!t)for(n=0,r=t.length;n<r;n++)i=$(t[n]).closest("tr.release-artifact-source-data").find("td span"),!i||(u=i.attr("id"),$(t[n]).attr("aria-labelledby",u))}var ut,lt,at,et,ot;Object.defineProperty(t,"__esModule",{value:!0});var ft=h.domElem,ct=f.delegate,vt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._createReleaseViewModel=t.viewModel,i}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);tt.initKnockoutHandlers();this._createView();this._applyBindings();this._element.addClass("create-release-view")},t.prototype.getViewModel=function(){return this._createReleaseViewModel},t.prototype._createView=function(){var i=$(ft("div")).addClass("create-release-container-message-area"),n,r;u.Enhancement.enhance(p.MessageAreaView,i,{viewModel:this._createReleaseViewModel.getMessageViewModel()});i.appendTo(this._element);n=t.templateHtml;n+=t._linkedArtifactsTemplateHtml;n+=t._automatedDeploymentsTemplateHtml;n+=t._manualDeploymentsTemplateHtml;w.HtmlHelper.renderTemplateIfNeeded(t.templateId,n);r=w.loadHtmlTemplate(t.templateId,"create-release-view-container");r.appendTo(this._element);this._createReleaseViewModel.viewAttached()},t.prototype._applyBindings=function(){i.applyBindings(this._createReleaseViewModel,this._element.find(".create-release-view-container")[0])},t.templateId="create_new_release_template",t.templateHtml="\n               <div class='release-project-selection' data-bind='visible: enableReleaseDefinitionSelect'>\n                   <label class='select-project-label' for='select_release_project' data-bind='html: ko.RMUtils.getRMResource(\"SelectReleaseProject\")'><\/label>\n                   <div class='select-release-project-container'>\n                       <select id='select_release_project' class='select-release-project' data-bind='options: linkedReleaseProjects, value: selectedReleaseProject, optionsText: \"name\"'><\/select>\n                   <\/div>\n               <\/div>\n\n               <div class='release-definition-selection' data-bind='visible: enableReleaseDefinitionSelect'>\n                   <label class='select-definition-label' for='select_release_definition' data-bind='html: ko.RMUtils.getRMResource(\"SelectReleaseDefinition\")'><\/label>\n                   <div class='select-release-definition-container'>\n                       <select id='select_release_definition' class='select-release-definition' data-bind='options: linkedReleaseDefinitions, value: selectedReleaseDefinition, optionsText: \"name\"'><\/select>\n                   <\/div>\n               <\/div>\n\n               <div class='release-basic-input-container'>\n                   <table class='release-basic-input-table filter'>\n                       <tr class='release-description-input-row'>\n                           <td class='release-input-label'><label for='release_description_textarea' data-bind='html: ko.RMUtils.getRMResource(\"DescriptionLabel\")'><\/label><\/td>\n                           <td colspan='5'><textarea id='release_description_textarea' class='release-description-textarea' rows='2' data-bind='value: description, valueUpdate: \"afterkeydown\"'><\/textarea><\/td>\n                       <\/tr>\n                   <\/table>\n               <\/div>",t._linkedArtifactsTemplateHtml="\n               <div data-bind='if: (artifacts().length > 0)' class = 'create-release-view-artifacts-section'>\n               <div class='create-release-artifacts-section-name' data-bind='html: ko.RMUtils.getRMResource(\"Artifacts\")'>  <\/div>\n                   <div class = 'horizontal-line splitter horizontal create-release-view-splitter'><\/div>\n                   <table class='create-release-artifacts-table linked-artifact-table'>\n                       <tr>\n                           <td colspan='5' class='create-release-artifacts-grid-table-container'>\n                               <table class='create-release-artifacts-grid-table'>\n                                   <thead>\n                                       <tr>\n                                           <th data-bind='html: ko.RMUtils.getRMResource(\"SourceColumnHeader\")'><\/th>\n                                           <th class='version-header'>\n                                                <span data-bind='html: ko.RMUtils.getRMResource(\"VersionColumnHeader\")'><\/span>\n                                                <span tabindex='0' class=\"bowtie-icon bowtie-status-info-outline\" data-bind='showRichContentTooltip: { text: createReleaseSelectArtifactVersionHelpText, setAriaDescribedBy: true }'><\/span>\n                                           <\/th>\n                                       <\/tr>\n                                   <\/thead>\n                                   <tbody data-bind='foreach: artifacts' class='create-release-linked-artifacts-table-body'>\n                                       <tr class='release-artifact-source-data'>\n                                           <td><span data-bind='text: sourceNameAndType, attr: { title: sourceNameAndType, \"id\":\"start-release-dialog-input-for-\" + alias().split(\" \").join(\"-\") + \"-\" + definitionId().split(\" \").join(\"-\") }'><\/span><\/td>\n                                           <td class='release-artifact-source-versions' data-bind=\"attr:{ 'title': versionsDetails }\">\n                                               <!-- ko if: $data.sourceTypeId() === '"+v.ArtifactTypes.TeamBuildExternalId+"' -->\n                                                   <input class='text-input-box' data-bind='value: selectedVersion'>\n                                               <!-- /ko -->\n                                               <!-- ko if: $data.sourceTypeId() !== '"+v.ArtifactTypes.TeamBuildExternalId+"' -->\n                                                   <div class='select-input-box' data-bind=\"combo: { possibleValues: versions, selectedValue: selectedVersion, defaultValue: selectedVersion, allowEdit: true, invalidCss: 'invalid-indicator' }\"><\/div>\n                                               <!-- /ko -->\n                                           <\/td>\n                                       <\/tr>\n                                   <\/tbody>\n                               <\/table>\n                           <\/td>\n                       <\/tr>\n                   <\/table>\n               <\/div>",t._automatedDeploymentsTemplateHtml="\n               <div class = 'create-release-view-automated-deployments-section'>\n                   <div class='create-release-automated-deployments-section-name' data-bind='html: ko.RMUtils.getRMResource(\"AutomatedDeploymentsSection\")'> <\/div>\n                   <div class = 'horizontal-line splitter horizontal create-release-view-splitter'><\/div>\n               \n                   <!-- ko if: automatedEnvironments().length > 0 -->\n                       <div class='create-release-deployments-message' data-bind='html: ko.RMUtils.getRMResource(\"AutomatedDeploymentsMessage\")'><\/div>\n\n                       <table class='create-rel-automated-deployment-grid-table'>\n                            <thead>\n                                <tr>\n                                    <th class='automatedDeploymentTrigger' data-bind='html: ko.RMUtils.getRMResource(\"EnvironmentColumnHeaderInRelease\")'><\/th>\n                                    <th class='deploymentTrigger-header' data-bind='html: ko.RMUtils.getRMResource(\"DeploymentTriggerColumnHeaderInRelease\")'><\/th>\n                                <\/tr>\n                            <\/thead>\n                            <tbody data-bind='foreach: automatedEnvironments'>\n                                    <tr class='automatedEnvironment'>\n                                        <td class='environment-name'><span data-bind='text: environmentName, attr: {\"id\": \"start-release-dialog-input-for-\" + environmentName().split(\" \").join(\"-\") }'><\/span><\/td>\n                                        <td class='deployment-trigger'>\n                                        <div class='select-input-box' data-bind=\"combo: { possibleValues: possibleConditions, selectedValue: selectedCondition, defaultValue: selectedCondition }\"><\/div>\n                                        <\/td>\n                                    <\/tr>\n                            <\/tbody>\n                       <\/table>\n                   <!-- /ko -->\n\n                   <!-- ko ifnot: automatedEnvironments().length > 0 -->\n                       <div class='automated-deployments-missing-warning'>\n                          <span class='bowtie-icon bowtie-status-warning' ><\/span>\n                          <span data-bind='html: ko.RMUtils.getRMResource(\"AutomatedDeploymentsMissingMessage\")'><\/span>\n                       <\/div>\n                       <br />\n                   <!-- /ko -->\n              <\/div>",t._manualDeploymentsTemplateHtml="\n               <div class = 'create-release-view-manual-deployments-section' data-bind='if: (manualEnvironments().length > 0)'>\n                   <div class='create-release-manual-deployments-section-name' data-bind='html: ko.RMUtils.getRMResource(\"ManualDeploymentsSection\")'> <\/div>\n                   <div class='horizontal-line splitter horizontal create-release-view-splitter'><\/div>\n                   <div class='create-release-deployments-message' data-bind='html: ko.RMUtils.getRMResource(\"ManualDeploymentsMessage\")'><\/div>\n                   <br />\n                   <div class='create-release-deployments-message' data-bind=\"text: manualEnvironments().join(', ')\"><\/div>\n                   <br />\n               <\/div>",t}(u.Control);t.CreateReleaseView=vt;ut=function(n){function t(t,u){var f=__construct(this,n,[]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.title=i.observable(""),f.description=i.observable(""),f.linkedReleaseProjects=i.observableArray([]),f.linkedReleaseDefinitions=i.observableArray([]),f.enableReleaseDefinitionSelect=i.observable(!1),f.enableReleaseProjectSelect=i.observable(!1),f.environmentsList=i.observableArray([]),f.artifacts=i.observableArray([]),f.selectedReleaseDefinition=i.observable(null),f.selectedReleaseProject=i.observable(null),f.linkedProjectName=i.observable(null),f.createReleaseSelectArtifactVersionHelpText=a.CreateReleaseSelectArtifactVersionHelpText,f._viewAttached=r.defer(),f._id=t,f._actionHandler=u,f._areAgentPoolDetailsPresent=!1,f._areQueueDetailsPresent=!1,f._initializationInProgress=!0,f.canPerform=f.computed(function(){return f._canPerform()}),f._addDisposable(f.canPerform),f.subscribe(f.linkedReleaseDefinitions,function(n){f.enableReleaseDefinitionSelect(w.ArrayHelper.hasItems(n))}),f.subscribe(f.linkedReleaseProjects,function(n){f.enableReleaseProjectSelect(w.ArrayHelper.hasItems(n))}),f.manualEnvironments=i.computed(function(){return f.environmentsList().filter(function(n){return!w.ArrayHelper.hasItems(n.conditions)}).map(function(n){return n.name})}),f.automatedEnvironments=i.computed(function(){var n=[];return f.environmentsList().forEach(function(t){w.ArrayHelper.hasItems(t.conditions)&&n.push(f._createAutomatedEnvironmentDropdown(t.name,t.conditions,t.schedules))}),n}),f.computed(i.computed({read:function(){var n=f.artifacts(),t;w.ArrayHelper.hasItems(n)&&(t=o.first(n,function(n){if(!n.selectedVersion())return!0}),t||f._clearArtifactVersionNotSelectedWarning())}})),f}return __extends(t,n),t.prototype._createAutomatedEnvironmentDropdown=function(n,t,i){var f=w.ArrayHelper.hasItems(i),r=[],u;switch(t[0].conditionType){case y.ConditionType.Event:u=a.AutomatedDeploymentOnReleaseCreationToolTipText;f&&(u=a.ScheduledDeploymentOnReleaseCreationToolTipText);r.push(u);break;case y.ConditionType.EnvironmentState:var s=t.map(function(n){return n.name}).join(", "),o=t[0].value===y.EnvironmentStatus.Succeeded.toString(),u=o?a.AutomatedDeploymentAfterSuccessfulDeploymentToolTipText:a.AutomatedDeploymentAfterPartialSuccessfulDeploymentToolTipText;f&&(u=o?a.ScheduledDeploymentAfterSuccessfulDeploymentToolTipText:a.ScheduledDeploymentAfterPartialSuccessfulDeploymentToolTipText);r.push(e.format("{0} {1}",u,s))}return r.push(a.ManualDeploymentToolTipText),new et(n,r[0],r)},t.prototype.logError=function(n){var t=this.getMessageViewModel();this._viewAttached.promise.then(function(){t.logError(n)})},t.prototype.logWarning=function(n){var t=this.getMessageViewModel();this._viewAttached.promise.then(function(){t.logWarning(n)})},t.prototype.logErrorWithLink=function(n){var t=this.getMessageViewModel();this._viewAttached.promise.then(function(){t.logErrorWithLink(n)})},t.prototype.viewAttached=function(){this._viewAttached.resolve(!0)},t.prototype.getMessageViewModel=function(){return this._messageViewModel||(this._messageViewModel=new p.MessageAreaViewModel),this._messageViewModel},t.prototype.checkForEnvironmentsWithoutQueueIds=function(n){var i=this,r=this._getEnvironmentSnapshots(n),t=!0,u=$.map(r,function(n){return i._areAllQueuesValid(n.deployPhases)?null:(t=!1,n.name)});return this._areQueueDetailsPresent=t,this.canPerform.notifySubscribers(this._canPerform()),u},t.prototype.releaseDataRefreshed=function(n,t){var i=this.checkForEnvironmentsWithoutQueueIds(n);w.ArrayHelper.hasItems(i)&&this.logErrorWithLink(this._getAgentPoolErrorMessage(i,a.QueuesNotFoundErrorMessage,t))},t.prototype.dispose=function(){this.artifacts().forEach(function(n){n.dispose()});n.prototype.dispose.call(this)},t.prototype.getArtifactsVersionsPromise=function(n){var n=$.map(n,function(n){return n});return k.serviceContext.artifactsVersionManager().getArtifactVersions(n)},t.prototype._validateDemands=function(n,t){var i=r.defer(),u=d.DemandsValidator.getDemandsValidator().validate(n);u.then(function(n){k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.ValidateAgentsScenario);n?it.DialogUtils.confirm(n,function(n){i.resolve(n);t(i.promise)},a.ValidateDemandsConfirmationTitle):(i.resolve(!0),t(i.promise))}).fail(function(n){n&&(it.DialogUtils.alert(n),i.reject(n),k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.ValidateAgentsScenario))})},t.prototype._populateEnvironments=function(n){this.environmentsList(n)},t.prototype._populateArtifacts=function(n){var t=this;n&&(this.artifacts([]),n.forEach(function(n){var i=new ot(n);t.artifacts.push(i)}))},t.prototype._getEnvironmentSnapshots=function(){return null},t.prototype._getEnvironmentSnapshotsWithConditions=function(n){var i=this._getEnvironmentSnapshots(n),t;return i?(t=[],$.each(i,function(n,i){w.ArrayHelper.hasItems(i.conditions)&&t.push(i)}),t):null},t.prototype._canPerform=function(){return this._isValid()&&!this._initializationInProgress},t.prototype.areReleaseParametersValid=function(){var n,i,r;return this._areSelectedArtifactVersionsValid()?(n=this._findBuildArtifactWithInvalidVersion(),!!n)?(i=e.localeFormat(a.InvalidIdForBuildArtifactErrorMessage,n.alias.peek(),t._invalidBuildIdGuidanceLink),r=$(ft("div")).append(i),this.logErrorWithLink(r),!1):!0:(this.logError(a.NoVersionSelectedForOneOrMoreSourcesErrorMessage),!1)},t.prototype._getEnvironmentsSwitchedFromAutomatedToManual=function(){var n=[];return this.automatedEnvironments().forEach(function(t){e.ignoreCaseComparer(t.selectedCondition(),a.ManualDeploymentToolTipText)===0&&n.push(t.environmentName())}),n},t.prototype._getArtifactVersionDetails=function(){var u=this,t=r.defer(),n=[],i;return this._artifactVersions?(i=[],this.artifacts().forEach(function(t){var c=r.defer(),f,h,y,s,a,p;i.push(c.promise);f={alias:null,instanceReference:null};h=t.selectedVersion();f.alias=t.downloadLocation();t.sourceTypeId()===v.ArtifactTypes.TeamBuildExternalId?(f.instanceReference={commitMessage:"",name:h,id:h,isMultiDefinitionType:!1,definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null},n.push(f),c.resolve(null)):(y=o.first(u._artifactVersions,function(n){return e.ignoreCaseComparer(n.alias,t.alias())===0}).versions,s=o.first(y,function(n){return e.localeIgnoreCaseComparer(h,n.name)===0}),s?(f.instanceReference={commitMessage:"",name:s.name,id:s.id,isMultiDefinitionType:s.isMultiDefinitionType,definitionId:s.definitionId,definitionName:s.definitionName,sourceBranch:s.sourceBranch,sourceVersion:s.sourceVersion,sourceRepositoryId:s.sourceRepositoryId,sourceRepositoryType:s.sourceRepositoryType,sourcePullRequestVersion:s.sourcePullRequestVersion},n.push(f),c.resolve(null)):(f.instanceReference={commitMessage:"",name:h,id:h,isMultiDefinitionType:!1,definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null},e.localeIgnoreCaseComparer(t.sourceTypeId(),v.ArtifactTypes.Build)===0?(a=rt.JQueryWrapper.extendDeep({},t.originalArtifactSource),a.definitionReference[l.ArtifactDefinitionConstants.DefaultVersionSpecificId]={id:h,name:h},p=k.serviceContext.artifactsVersionManager().getArtifactVersionDetails(a),p.then(function(t){!t||(f.instanceReference.sourceBranch=t.sourceBranch,f.instanceReference.sourceRepositoryId=t.sourceRepositoryId,f.instanceReference.sourceRepositoryType=t.sourceRepositoryType,f.instanceReference.sourceVersion=t.sourceVersion);n.push(f);c.resolve(null)},function(){n.push(f);c.resolve(null)})):(n.push(f),c.resolve(null))))}),w.ArrayHelper.hasItems(i)?r.allSettled(i).then(function(){t.resolve(n)}):t.resolve(n)):t.resolve(n),t.promise},t.prototype._populateArtifactVersions=function(n){var t=this;n.artifactVersions&&(this._artifactVersions=n.artifactVersions,this.artifacts().forEach(function(i){var u,f=b.ArtifactsVersionQueryHelper.getVersions(n,i.alias()),s=$.map(f,function(n){return!u&&t._isSelectedArtifactVersion(i.sourceTypeId.peek(),i.definitionId.peek(),n.id)&&(u=t._getDisplayVersionName(i.sourceTypeId.peek(),n)),t._getDisplayVersionName(i.sourceTypeId.peek(),n)}),r,h;i.versions(s);r=b.ArtifactsVersionQueryHelper.getDefaultVersions(n,i.alias());w.ValidateParameters.isNullOrEmpty(i.selectedVersion())&&!!r&&!!r.name&&b.ArtifactsVersionQueryHelper.isDefaultVersionValid(f,r)&&i.selectedVersion(t._getDisplayVersionName(i.sourceTypeId.peek(),r));u?i.selectedVersion(u):s.length<=0&&n.artifactVersions&&(h=o.first(n.artifactVersions,function(n){return e.ignoreCaseComparer(n.alias,i.alias())===0}).errorMessage,i.error(h))}));this._validateDefaultArtifactVersions();this._validateArtifactVersions()},t.prototype._getDisplayVersionName=function(n,t){return!t?e.empty:t.name},t.prototype._isSelectedArtifactVersion=function(){return!1},t.prototype._initializeFetchingAgentQueuesAndPools=function(){var n=this.selectedReleaseProject()?this.selectedReleaseProject().id:k.serviceContext.webContext().project.id;n!==k.serviceContext.webContext().project.id?(k.serviceContext.queueManager().beginGetQueues(n,!0),k.serviceContext.queueManager().invalidateCache()):k.serviceContext.queueManager().beginGetQueues(n);k.serviceContext.agentPoolManager().beginGetAgentPools()},t.prototype._areSelectedArtifactVersionsValid=function(){var n=!0;return w.ArrayHelper.hasItems(this.artifacts())&&this.artifacts().forEach(function(t){n=t.isValid()&&n}),n},t.prototype._findBuildArtifactWithInvalidVersion=function(){var n,t=this.artifacts.peek();return w.ArrayHelper.hasItems(t)&&(n=o.first(t,function(n){if(n.sourceTypeId()===v.ArtifactTypes.Build&&w.ArrayHelper.hasItems(n.versions.peek())&&n.versions.peek().indexOf(n.selectedVersion.peek())<0){var t=parseInt(n.selectedVersion.peek());if(isNaN(t)||t.toString()!==n.selectedVersion.peek())return!0}return!1})),n},t.prototype._getAgentPoolErrorMessage=function(n,t,i){var u="<span class='create-release-error-clickable-link'>"+i+"<\/span>",f=e.format(t,u,n.join(", ")),r=$(ft("div","create-release-agentpool-not-found-message")).append(f);if(this._actionHandler)r.find(".create-release-error-clickable-link").attr("tabindex",0).on("click",ct(this._actionHandler,this._actionHandler.onAgentPoolErrorLinkClick)).on("keydown",ct(this,w.AccessibilityHelper.onEnterPress));return r},t.prototype._validateArtifactVersions=function(){var n=o.first(this.artifacts(),function(n){return!n.hasVersions()});!n||this.logWarning(a.ArtifactSourceVersionIsEmpty);this._initializationInProgress=!1;this.title.valueHasMutated()},t.prototype._validateDefaultArtifactVersions=function(){var n=!1;this.artifacts().forEach(function(t){(!t.selectedVersion()||w.ValidateParameters.isNullOrEmpty(t.selectedVersion()))&&(n=!0)});n&&this.logWarning(a.ArtifactDefaultVersionIsInvalid);this._initializationInProgress=!1;this.title.valueHasMutated()},t.prototype._isValid=function(){return!w.ValidateParameters.isNullOrEmpty(this.title())&&this._areQueueDetailsPresent},t.prototype._areAllQueuesValid=function(n){for(var r,u,t=0,i=n;t<i.length;t++)if(r=i[t],r.phaseType===y.DeployPhaseTypes.AgentBasedDeployment&&(u=r.deploymentInput.queueId,!u||u<=0))return!1;return!0},t.prototype._clearArtifactVersionNotSelectedWarning=function(){var n=this.getMessageViewModel();this._viewAttached.promise.then(function(){e.localeComparer(n.logWarning.peek(),a.ArtifactDefaultVersionIsInvalid)===0&&n.clear()})},t._invalidBuildIdGuidanceLink="http://go.microsoft.com/fwlink/?LinkId=761060",t}(c.TemplateViewModel);t.BaseReleaseActionViewModel=ut;lt=function(n){function t(t,i,r,u,f,o,s,h,c){var l=__construct(this,n,[i,r]);for(var a in l)l.hasOwnProperty(a)&&(this[a]=l[a]);return l._releaseCreationSource=e.empty,l._releaseDefinitionManager=k.serviceContext.releaseDefinitionManager(),l._releaseManager=k.serviceContext.releaseManager(),l._cachedReleaseDefinitions={},l._cachedArtifactVersions={},l.linkedReleaseProjects(u),l.linkedReleaseDefinitions(f),l._customCreateReleaseCallBack=h||null,l._releaseCreationSource=c||v.ReleaseCreationSource.Other,l.selectedReleaseProject&&l.subscribe(l.selectedReleaseProject,function(n){!n||l._selectReleaseProject(n)}),i!==-1?l._fetchReleaseDefinition(i):(l._selectedBuildDefinitionId=o,l._selectedBuildId=s,l.subscribe(l.selectedReleaseDefinition,function(n){var t=l.selectedReleaseProject()?l.selectedReleaseProject().id:k.serviceContext.webContext().project.id;l._selectReleaseDefinition(t,n.id)})),l}return __extends(t,n),t.prototype.beginPerformAction=function(){var n=this,t=r.defer(),i;return this.areReleaseParametersValid()?(i=this._getEnvironmentSnapshotsWithConditions(this._currentReleaseDefinition.environments),this._validateDemands(i,function(i){i.then(function(i){if(i){k.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.StartReleaseScenario);var e=n._getEnvironmentsSwitchedFromAutomatedToManual(),f=r.defer(),u=null;n._getArtifactVersionDetails().then(function(t){var i=b.ReleaseHelper.createReleasePropertiesList(n._releaseCreationSource);u=new g.CreateReleaseParameters(n._currentReleaseDefinition.id,t,$.trim(n.description()),i);u.manualEnvironments=e;f.resolve(null)});f.promise.then(function(){if(!n._customCreateReleaseCallBack){var i;i=n.selectedReleaseProject()!==null?n._releaseManager.create(u,n.selectedReleaseProject().name):n._releaseManager.create(u);i.then(function(n){t.resolve({forceEndAction:!1,release:n})},function(n){t.reject(n)})}else n._customCreateReleaseCallBack(u),t.resolve({forceEndAction:!0,release:null})}),function(n){t.reject(n)}}else t.resolve(null)})}),t.promise):(t.resolve(null),t.promise)},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return nt.EnvironmentSnapshot.createFromEnvironmentDefinition(n)})},t.prototype._isSelectedArtifactVersion=function(n,t,i){return this._selectedBuildDefinitionId&&n===v.ArtifactTypes.Build&&t===this._selectedBuildDefinitionId&&i===this._selectedBuildId},t.prototype._getLinkedReleaseDefinitions=function(n,t){var i=e.format("{0}:{1}",k.serviceContext.webContext().project.id,t.toString());return this._releaseDefinitionManager.getReleaseDefinitionsForArtifactSource(v.ArtifactTypes.Build,i,null,n)},t.prototype._selectReleaseProject=function(n){var t=this;this._getLinkedReleaseDefinitions(n.name,this._selectedBuildDefinitionId).then(function(n){w.ArrayHelper.hasItems(n)&&n.sort(function(n,t){return n.name.localeCompare(t.name)});t.linkedReleaseDefinitions(n)},function(n){t.logError(n)})},t.prototype._selectReleaseDefinition=function(n,t){var i=this._cachedReleaseDefinitions[n.concat(":",String(t))];i?this._onReleaseDefinitionReady(i):this._fetchReleaseDefinition(t)},t.prototype._fetchReleaseDefinition=function(n){var t=this,i;i=this.selectedReleaseProject()!==null?this._releaseDefinitionManager.getReleaseDefinition(n,this.selectedReleaseProject().name):this._releaseDefinitionManager.getReleaseDefinition(n);this._initializationInProgress=!0;this.canPerform.notifySubscribers(this._canPerform());i.then(function(n){var i=t.selectedReleaseProject()?t.selectedReleaseProject().id:k.serviceContext.webContext().project.id;t._cachedReleaseDefinitions[i.concat(":",String(n.id))]=n;t._onReleaseDefinitionReady(n)},function(n){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogFromBuildScenario);t.logError(n)})},t.prototype._onReleaseDefinitionReady=function(n){var t=this,i,r;this._setDefaultReleaseTitle(n);i=this._getArtifactVersions(n);i.then(function(n){t._populateArtifactVersions(n);t._initializationInProgress=!1;k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogFromBuildScenario);k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);t._initializeFetchingAgentQueuesAndPools()},function(n){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogFromBuildScenario);t.logError(e.localeFormat(a.ErrorWhileFetchingArtifactVersions,w.ErrorHelper.getErrorMessage(n)))});this.canPerform.notifySubscribers(this._canPerform());r=this._getEnvironmentSnapshots(n.environments);this._populateEnvironments(r);this._populateArtifacts(n.artifacts);this._currentReleaseDefinition=n;this.releaseDataRefreshed(n.environments,n.name);st();ht()},t.prototype._getArtifactVersions=function(n){var e=this,t=r.defer(),o=this.selectedReleaseProject()?this.selectedReleaseProject().id:k.serviceContext.webContext().project.id,i=o.concat(":",String(n.id)),u=this._cachedArtifactVersions[i],f;return u?t.resolve(u):(f=this.getArtifactsVersionsPromise(n.artifacts),f.then(function(n){e._cachedArtifactVersions[i]=n;t.resolve(n)},function(n){t.reject(n)})),t.promise},t.prototype._setDefaultReleaseTitle=function(n){var t=b.ReleaseHelper.getDefaultReleaseName(n);this.title(t)},t}(ut);t.CreateReleaseViewModel=lt;at=function(n){function t(t,i,r){var u=__construct(this,n,[t,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._releaseId=t,u._releaseManager=k.serviceContext.releaseManager(),u.title(i),u._initialize(),u}return __extends(t,n),t.prototype.beginPerformAction=function(){var n=this,t=r.defer(),i;return this.areReleaseParametersValid()?(i=this._getEnvironmentSnapshotsWithConditions(this._currentRelease.environments),this._validateDemands(i,function(i){i.then(function(i){k.serviceContext.customerIntelligence().split("VSO.RM.Split.StartDraftRelease");i?(k.serviceContext.customerIntelligence().startScenario(v.PerfScenariosConstants.StartReleaseScenario),n._dropApprovals(n._currentRelease),n._updateRelease(n._currentRelease).then(function(){var i=n._releaseManager.beginUpdateRelease(n._currentRelease);i.then(function(i){var r=n._getEnvironmentsSwitchedFromAutomatedToManual(),u={status:y.ReleaseStatus.Active,manualEnvironments:r,comment:i.description},f=n._releaseManager.beginPatchRelease(i.id,u);f.then(function(n){t.resolve({forceEndAction:!1,release:n})},function(n){t.reject(n)})},function(n){t.reject(n)})},function(n){t.reject(n)})):t.resolve(null)})}),t.promise):(t.resolve(null),t.promise)},t.prototype._getEnvironmentSnapshots=function(n){return $.map(n,function(n){return nt.EnvironmentSnapshot.createFromReleaseEnvironment(n)})},t.prototype._updateRelease=function(n){var t=this,i=r.defer();return this._getArtifactVersionDetails().then(function(r){$.each(n.artifacts,function(n,i){var u,f;i.alias&&(u=i.alias,i.definitionReference[l.ArtifactDefinitionConstants.Version].id=t._getArtifactMetadata(u,r).instanceReference.id,i.definitionReference[l.ArtifactDefinitionConstants.Version].name=t._getArtifactMetadata(u,r).instanceReference.name,f=t._getArtifactMetadata(u,r).instanceReference.sourceBranch,i.definitionReference[l.ArtifactDefinitionConstants.BranchId]={id:f,name:f})});n.name=t.title();n.description=t.description();i.resolve(null)},function(n){i.reject(n)}),i.promise},t.prototype._getArtifactMetadata=function(n,t){var i={alias:n,instanceReference:{commitMessage:"",id:"",isMultiDefinitionType:!1,name:"",definitionId:"",definitionName:"",sourceBranch:"",sourceVersion:"",sourceRepositoryId:"",sourceRepositoryType:"",sourcePullRequestVersion:null}};return $.each(t,function(t,r){if(n===r.alias)return i=r,!1}),i},t.prototype._initialize=function(){var n=this,t=this._releaseManager.beginGetRelease(this._releaseId,!0);t.then(function(t){var i=n.getArtifactsVersionsPromise(t.artifacts);i.then(function(t){n._populateArtifactVersions(t);k.serviceContext.customerIntelligence().endScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);n._initializeFetchingAgentQueuesAndPools()},function(t){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);n.logError(e.localeFormat(a.ErrorWhileFetchingArtifactVersions,w.ErrorHelper.getErrorMessage(t)))});n.canPerform.notifySubscribers(n._canPerform());n._populateEnvironments(n._getEnvironmentSnapshots(t.environments));n._populateArtifacts(t.artifacts);st();ht();n._currentRelease=t;n.releaseDataRefreshed(t.environments,t.releaseDefinition.name)},function(t){k.serviceContext.customerIntelligence().abortScenario(v.PerfScenariosConstants.OpenCreateReleaseDialogScenario);n.logError(t)})},t.prototype._dropApprovals=function(n){n.environments.forEach(function(n){n.preDeployApprovals=[];n.postDeployApprovals=[]})},t}(ut);t.StartReleaseViewModel=at;et=function(){function n(n,t,r){this.selectedCondition=i.observable("");this.environmentName=i.observable("");this.possibleConditions=i.observableArray([]);this.selectedCondition(t);this.environmentName(n);this.possibleConditions(r)}return n}();t.AutomatedDeploymentViewModel=et;ot=function(){function n(n){var t=this;this.alias=i.observable("");this.definitionId=i.observable("");this.sourceType=i.observable("");this.artifactTypeDisplayName=i.observable("");this.sourceTypeId=i.observable("");this.versions=i.observableArray([]);this.error=i.observable("");this.selectedVersion=i.observable("");this.downloadLocation=i.observable("");this.artifactNames=i.observable("");this.originalArtifactSource=null;this._disposalManager=new f.DisposalManager;n&&this._populateArtifactDetails(n);this.hasVersions=this._disposalManager.addDisposable(i.computed(function(){return t.versions().length>0||t.sourceTypeId()===v.ArtifactTypes.TeamBuildExternalId}));this.versionsDetails=this._disposalManager.addDisposable(i.computed(function(){return t.hasVersions()&&$.trim(t.selectedVersion())===""?a.NoVersionHasBeenSelectedToolTip:t.hasVersions()?t.selectedVersion():t.error()}));this.isValid=this._disposalManager.addDisposable(i.computed(function(){return $.trim(t.selectedVersion())!==""}))}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype._populateArtifactDetails=function(n){var t=this,r,u,f;n&&(this.originalArtifactSource=n,this.alias(n.alias),r=n.definitionReference[l.ArtifactDefinitionConstants.DefinitionId],r&&r.id&&this.definitionId(r.id),this.downloadLocation(n.alias),u=n.definitionReference[l.ArtifactDefinitionConstants.Version],u&&u.id!==""&&u.name!==""&&(f=n.definitionReference[l.ArtifactDefinitionConstants.Version].name,this.selectedVersion(f),this.versions.push(f)),this.sourceType(n.type),this.sourceTypeId(n.type),k.serviceContext.artifactsDefinitionManager().beginGetArtifactTypes().then(function(n){t.artifactTypeDisplayName(b.ReleaseArtifactsHelper.getArtifactDisplayName(t.sourceType(),n))}),this.sourceNameAndType=i.computed(function(){return e.format("{0} ({1})",t.alias(),t.artifactTypeDisplayName())}))},n}();t.ReleaseArtifactViewModel=ot;t.setLabelForEnvironmentInputElements=st;t.setLabelForArtifactInputElements=ht;s.tfsModuleLoaded("TFS.ReleaseManagement.CreateRelease",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease.Controls",["require","exports","VSS/VSS","VSS/Controls","VSS/Utils/Core","VSS/Utils/Html","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Dialogs","VSS/Navigation/Services","VSS/Contributions/Controls","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","jQueryUI/button"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){Object.defineProperty(t,"__esModule",{value:!0});var k=o.domElem,d=u.delegate,g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposalManager=new u.DisposalManager,i._buildAbsoluteReleaseUrl=!1,i._currentId=t.id,i._name=t.name,i._messageCallBack=t.messageCallBack,i._errorCallBack=t.errorCallBack,i._buildAbsoluteReleaseUrl=t.buildAbsoluteReleaseUrl,i}return __extends(t,n),t.prototype.initializeOptions=function(i){var r={};r.Ok={id:t.OK_BUTTON,text:i.okButtonText,click:d(this,this._onOk),disabled:!0};r.Cancel={id:t.CANCEL_BUTTON,text:l.CancelButtonText,click:d(this,this._onCancel)};n.prototype.initializeOptions.call(this,$.extend({defaultButton:"Ok",buttons:r},i))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._viewModel=this._getViewModel();this._createView();this._applyBindings()},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._disposalManager.dispose();this._viewModel.dispose()},t.prototype._getViewModel=function(){throw new Error("_getViewModel should be implemented in the derived class");},t.prototype._closeDialog=function(){this.dispose();n.prototype.close.call(this)},t.prototype._createView=function(){var n=$(k("div"));this._createReleaseView=r.create(p.CreateReleaseView,n,{viewModel:this._viewModel});n.appendTo(this._element)},t.prototype._onOk=function(){var n=this,i;this._updateButtonStatus(t.OK_BUTTON,!1);this._updateButtonStatus(t.CANCEL_BUTTON,!1);w.serviceContext.customerIntelligence().startScenario(a.PerfScenariosConstants.ValidateAgentsScenario);i=this._viewModel.beginPerformAction();i.then(d(this,this._onActionPerformed),function(i){n._logError(i);n._updateButtonStatus(t.OK_BUTTON,!0);n._updateButtonStatus(t.CANCEL_BUTTON,!0);w.serviceContext.customerIntelligence().abortScenario(a.PerfScenariosConstants.StartReleaseScenario)})},t.prototype._onActionPerformed=function(n){var i,r;n?(i=n.release,!i||(this._messageCallBack&&(r=tt.getReleaseQueuedMessageControl(i.id,i.name,i.releaseDefinition.id,this._buildAbsoluteReleaseUrl),this._messageCallBack(r,i.releaseDefinition.id)),this._disposed||this._closeDialog()),n.forceEndAction&&this._closeDialog()):(this._updateButtonStatus(t.OK_BUTTON,!0),this._updateButtonStatus(t.CANCEL_BUTTON,!0));w.serviceContext.customerIntelligence().endScenario(a.PerfScenariosConstants.StartReleaseScenario)},t.prototype._onCancel=function(){n.prototype.onCancelClick.call(this)},t.prototype._logError=function(n){this._viewModel.logError(n)},t.prototype._applyBindings=function(){var n=this;this._disposalManager.addDisposable(this._viewModel.canPerform.subscribe(function(i){n._updateButtonStatus(t.OK_BUTTON,i)}))},t.prototype._updateButtonStatus=function(n,t){this._element.trigger(s.ModalDialog.EVENT_BUTTON_STATUS_CHANGE,{button:n,enabled:t})},t.OK_BUTTON="ok",t.CANCEL_BUTTON="cancel",t}(s.ModalDialogO),it=function(n){function t(t){var i=this,r;$.extend(t,{okButtonText:l.StartButtonText});i=__construct(this,n,[t]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._releaseId=t.id,i._releaseName=t.name,i}return __extends(t,n),t.prototype.onAgentPoolErrorLinkClick=function(){var n=this;b.DialogUtils.confirm(l.CreateReleaseDialogClosing,function(t){t&&(n._closeDialog(),h.getHistoryService().addHistoryPoint(a.ReleaseEditorAction.environmentsEditorAction,{releaseId:n._releaseId}))},l.CreateReleaseDialogClosingConfirmationTitle)},t.prototype._getViewModel=function(){return new p.StartReleaseViewModel(this._releaseId,this._releaseName,this)},t}(g),nt=function(n){function t(t){var i=this,r;$.extend(t,{width:670,okButtonText:l.CreateButtonText});i=__construct(this,n,[t]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._releaseDefinitionId=t.id,i}return __extends(t,n),t.prototype.onAgentPoolErrorLinkClick=function(){var n=this;b.DialogUtils.confirm(l.CreateReleaseDialogClosing,function(t){t&&(n._closeDialog(),y.ReleaseDefinitionActions.editReleaseDefinition(n._releaseDefinitionId))},l.CreateReleaseDialogClosingConfirmationTitle)},t.prototype._getViewModel=function(){return new p.CreateReleaseViewModel(this._releaseProjectName,this._releaseDefinitionId,this,this._options.linkedProjectDefinitions,this._options.linkedReleaseDefinitions,this._options.buildDefinitionId,this._options.buildId,this._options.customCreateReleaseCallBack,this._options.releaseCreationSource)},t}(g),tt=function(){function n(){}return n.CreateRelease=function(t,i,r,u,f){if(w.serviceContext.customerIntelligence().startScenario(a.PerfScenariosConstants.OpenCreateReleaseDialogScenario),n._showNewCreateReleasePanel())n._openNewCreateReleasePanel(t,-1,!1,r,!1);else{var o={cssClass:"create-new-release",minWidth:600,minHeight:420,resizable:!0,id:t,name:i,messageCallBack:r,errorCallBack:u,customCreateReleaseCallBack:f,title:e.format(l.CreateNewReleaseForDefinition,i),releaseCreationSource:a.ReleaseCreationSource.ReleaseHub};return s.show(nt,o)}},n.createReleaseFromBuild=function(t,i,r,u,f,e,o,h){if(n._showNewCreateReleasePanel())return n._openNewCreateReleasePanel(-1,-1,!1,u,!0,t,r.toString(),o,h);var c={cssClass:"create-new-release",minWidth:600,minHeight:420,resizable:!0,id:-1,linkedProjectDefinitions:t,messageCallBack:u,errorCallBack:f,buildId:i.toString(),buildDefinitionId:r.toString(),title:l.CreateNewRelease,buildAbsoluteReleaseUrl:!0,releaseCreationSource:a.ReleaseCreationSource.BuildSummary};return s.show(nt,c)},n.StartRelease=function(t,i,r,u){if(w.serviceContext.customerIntelligence().startScenario(a.PerfScenariosConstants.OpenCreateReleaseDialogScenario),n._showNewCreateReleasePanel())n._openNewCreateReleasePanel(-1,t,!0,r,!1);else{var f={cssClass:"create-new-release",width:800,minWidth:600,minHeight:420,resizable:!0,id:t,name:i,messageCallBack:r,errorCallBack:u,title:e.format(l.StartReleasePopupDialogTitle,i)};return s.show(it,f)}},n._openNewCreateReleasePanel=function(t,i,r,u,f,o,s,h,l){o===void 0&&(o=null);s===void 0&&(s=e.empty);h===void 0&&(h=e.empty);l===void 0&&(l=null);var a={definitionId:t,releaseId:i,startReleaseMode:!!r,linkedProjects:o,buildDefinitionId:s,buildName:h,endPerfScenario:l,onQueueRelease:function(t,i){var r=n.getReleaseQueuedMessageControl(t.id,t.name,t.releaseDefinition.id,f,i);u(r)}};c.createContributedControl($("<div/>"),"ms.vss-releaseManagement-web.cd-create-release",a)},n.getReleaseQueuedMessageControl=function(n,t,i,r,u){var a=$(k("div")),s,o,c,h;return o=v.CDReleaseProgressViewHelper.getCDReleaseViewUrl(n,u),s=$(k("a","new-release-created-message-release-name")).addClass("text-wrap").text(t).attr("href",o).appendTo(a).attr("tabindex",0).attr("title",t),r&&(o=v.CDReleaseProgressViewHelper.getCDReleaseViewUrl(n,u),s.attr("href",o),s.attr("target","_blank"),s.attr("rel","noopener noreferrer")),c=$(k("div")),h=e.localeFormat(l.ReleaseHasBeenQueued,a.html()),h=f.HtmlNormalizer.sanitize(h),c.append("<span> "+h+"<\/span>"),c},n._showNewCreateReleasePanel=function(){return v.FeatureFlagUtils.isNewCreateReleaseWorkflowIntegartionEnabled()},n}();t.ReleasePipelineDialogs=tt;i.tfsModuleLoaded("TFS.ReleaseManagement.CreateRelease.Controls",t)});

define("DistributedTasksCommon/TFS.Tasks.Categories",["require","exports","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary"],function(n,t,i){function r(n){var r=i.Task_MiscCategoryText;return n?(n=n.charAt(0).toUpperCase()+n.slice(1),t.TaskDefinitionStepExistingCategories[n]||r):r}Object.defineProperty(t,"__esModule",{value:!0});t.TaskDefinitionStepExistingCategories={Build:i.Task_BuildCategoryText,Utility:i.Task_UtilityCategoryText,Test:i.Task_TestCategoryText,Package:i.Task_PackageCategoryText,Deploy:i.Task_DeployCategoryText,Tool:i.Task_ToolCategoryText};t.getTaskCategoryDisplayName=r});

define("DistributedTasksCommon/TFS.Tasks.Common.Dialogs",["require","exports","knockout","VSS/VSS","VSS/Controls","VSS/Controls/Dialogs","VSS/Controls/Splitter","VSS/Service","VSS/Context","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Resources/VSS.Resources.Platform","VSS/Events/Action","DistributedTasksCommon/Resources/TFS.Resources.DistributedTasksLibrary","DistributedTasksCommon/TFS.Tasks.Categories","DistributedTasksCommon/TFS.Tasks.Utils","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Tasks.Types","DistributedTasksCommon/TFS.Knockout.Tree","VSS/Telemetry/Services","VSS/Contributions/RestClient","jQueryUI/dialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var it,ot,st,ht,ct,lt,at,vt,rt,ut,ft,yt,pt,et;Object.defineProperty(t,"__esModule",{value:!0});it=h.delegate;ot=function(){function n(n,t,i,r,u){this.displayName=n;this.instanceName=t;this.displayNameComputed=i;this.isDisplayNameSet=r;this.okCallback=u}return n}();t.RenameTaskDialogModel=ot;st=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._model=t,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({title:y.Task_RenameTaskLabel,resizable:!0,buttons:{ok:{id:"ok",text:a.ModalDialogOkButton,click:it(this,this.onOkClick)},cancel:{id:"cancel",text:a.ModalDialogCancelButton,click:it(this,this.onCancelClick)}},cssClass:"rename-task-dialog",contentMargin:!1},t))},t.prototype.initialize=function(){var t=this,i;n.prototype.initialize.call(this);i="task-name";this._initialValue=this._model.displayNameComputed;$("<label />").attr("for",i).text(y.Task_NameLabel).appendTo(this.getElement());this._$nameInput=$("<input />").attr("id",i).attr("type","text").attr("placeholder","Enter a name").addClass("taskeditor-tab rename-task-dialog-input").keyup(function(n){t._validateInput(n)}).appendTo(this.getElement());$("<br/>").appendTo(this.getElement());this._generateLink=$("<a />").attr("href","#").text(y.GenerateLinkText).attr("title",y.GenerateLinkTooltip).addClass("link-style").appendTo(this.getElement());this._generateLink.click(function(n){n.preventDefault();t._$nameInput.val(t._model.instanceName);t._validateInput()});this._resetLink=$("<a />").attr("href","#").text(y.Task_ResetText).addClass("link-style").appendTo(this.getElement());this._resetLink.click(function(n){n.preventDefault();t._$nameInput.val(t._initialValue);t._validateInput()});this._$nameInput.val(this._initialValue)},t.prototype.dispose=function(){n.prototype.dispose.call(this)},t.prototype.onOkClick=function(t){var i=this._$nameInput.val().trim();c.localeComparer(i,this._model.instanceName)!==0?this._model.isDisplayNameSet(!0):c.localeComparer(i,this._initialValue)!==0?this._model.isDisplayNameSet(!0):c.localeComparer(i,this._model.displayNameComputed)===0&&this._model.isDisplayNameSet(!1);this.setDialogResult(this._$nameInput.val());n.prototype.onOkClick.call(this,t)},t.prototype._validateInput=function(){var n=this._$nameInput.val().trim().length>0;this.onButtonStatusChange(undefined,{button:"ok",enabled:n});n?this._$nameInput.removeClass("invalid"):this._$nameInput.addClass("invalid")},t}(f.ModalDialog);t.RenameTaskDialog=st;ht=function(){function n(n,t,r,u,f){var e=this;this.dialogTemplate="add_tasks_dialog";this.taskDefinitions=i.observableArray([]);this.numTasksToUpdate=i.observable(0);this.taskTypeDescription=i.observable("");this.errorMessage=i.observable("");this.taskTypeDescriptioHelpUrl=i.observable(y.TaskTypeDescriptioHelpUrl);this.tasksInitialized=i.observable(!1);this._allTaskDefinitions=[];this._taskDefinitionsByCategory={};this._currentCategories=[];this._allCategoriesNodeValue="all_categories";this._subscriptions=[];this._defaultCategoryOtherThanAllValue="";this._taskCategories=i.observableArray([]);this._visibilityFilter=[];this._galleryServerKey=i.observable("");this.taskListOwner=n;this.okCallback=u;this._allCategoriesNode=new b.TaskCategoryTreeNode(this._allCategoriesNodeValue,y.Task_AllCategoriesText);this._defaultCategoryNode=this._allCategoriesNode;this._defaultCategoryOtherThanAllValue=t;this.taskCategoriesTree=new g.TreeViewModel(this._taskCategories);this._visibilityFilter=r;this.taskTypeDescription(this._getTaskTypeDescription(n.taskList.type));b.TaskDefinitionCache.metaTaskManager=f;b.TaskDefinitionCache.getTaskDefinitionCache().refresh(this._visibilityFilter).then(function(n){var i=n.tasks,t;e.numTasksToUpdate(n.numTasksToUpdate);t=new b.TaskDefinitionCollection(i).getLatestVersionArray();$.each(t,function(n,t){var i,r;!t.disabled&&e.taskListOwner.taskList.isSupported(t)&&(i=e._taskDefinitionsByCategory[t.category],i||(i=[],e._taskDefinitionsByCategory[t.category]=i),r=new b.TaskDefinitionViewModel(t,function(){e._addTaskToDefinition(t)}),i.push(r),e._allTaskDefinitions.push(r))});e._sortDefinitions(e._allTaskDefinitions);e.taskDefinitions(e._allTaskDefinitions);$.each(e._taskDefinitionsByCategory,function(n,t){e._currentCategories.push(n);e._sortDefinitions(t)});e._taskCategories(e._getOrderedCategoryNodes());e.taskCategoriesTree.selectedNode(e._defaultCategoryNode);e._defaultCategoryOtherThanAllValue!==e._allCategoriesNodeValue&&(e.taskDefinitions(e._taskDefinitionsByCategory[e._defaultCategoryOtherThanAllValue]),e.tasksInitialized(!e.tasksInitialized.peek()));e._subscriptions.push(e.taskCategoriesTree.selectedNode.subscribe(function(n){n.selected(!0);var t=n.value();t===e._allCategoriesNodeValue?e.taskDefinitions(e._allTaskDefinitions):e.taskDefinitions(e._taskDefinitionsByCategory[t]);e.tasksInitialized(!e.tasksInitialized.peek())}))});s.getPageContext().webAccessConfiguration.isHosted||this._beginGetMarketPlaceData().then(function(n){e._galleryServerKey(n)})}return n.prototype._getTaskTypeDescription=function(n){return n===k.TaskGroupType.RunOnServer?y.RunOnServerTaskTypeDescription:""},n.prototype._addTaskToDefinition=function(n){this.errorMessage("");try{this.taskListOwner.taskList.addTask(n)}catch(t){this.errorMessage(t)}},n.prototype.onMarketplaceLinkClick=function(n,t){t.preventDefault();nt.publishEvent(new nt.TelemetryEventData(b.CustomerIntelligenceInfo.Area,b.CustomerIntelligenceInfo.FeatureTask,{ExtensionMarketPlaceClicked:1}));v.getService().performAction(v.CommonActions.ACTION_WINDOW_OPEN,{url:this.getMarketplaceLink()})},n.prototype.getMarketplaceLink=function(){var n="https://go.microsoft.com/fwlink/?LinkId=797831";return!s.getPageContext().webAccessConfiguration.isHosted&&this._galleryServerKey()&&(n=n+"&serverKey="+encodeURIComponent(this._galleryServerKey())),n},n.prototype._beginGetMarketPlaceData=function(){var n=o.VssConnection.getConnection().getHttpClient(tt.ContributionsHttpClient);return n.queryDataProviders({context:{properties:{}},contributionIds:["ms.vss-tfs.marketplace-data-provider"]}).then(function(n){var t=n.data["ms.vss-tfs.marketplace-data-provider"]||{};return t&&t.serverKey})},n.prototype._getOrderedCategoryNodes=function(){var n=this,t=[this._allCategoriesNode];return Object.keys(p.TaskDefinitionStepExistingCategories).forEach(function(i){if($.inArray(i,n._currentCategories)!=-1){var r=new b.TaskCategoryTreeNode(i,p.getTaskCategoryDisplayName(i));i===n._defaultCategoryOtherThanAllValue&&(n._defaultCategoryNode=r);t.push(r)}}),t},n.prototype._sortDefinitions=function(n){n.sort(function(n,t){return c.localeIgnoreCaseComparer(n.friendlyName(),t.friendlyName())})},n}();t.AddTasksDialogModel=ht;ct=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposables=[],i._model=t,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!0,height:600,width:650,buttons:{ok:{id:"ok",text:t&&t.okText||a.CloseButtonLabelText,click:it(this,this.onOkClick),disabled:"disabled"}},contentMargin:!1,coreCssClass:"add-tasks-dialog-content"},t))},t.prototype.initialize=function(){var r=this;n.prototype.initialize.call(this);w.HtmlHelper.renderTemplateIfNeeded("task_category_tree_node",t._taskEditorNodeHtmlTemplate);w.HtmlHelper.renderTemplateIfNeeded(this._model.dialogTemplate,t._dialogHtmlTemplate);this._$template=w.loadHtmlTemplate(this._model.dialogTemplate,"add-tasks-dialog-tasksexplorer");this._element.append(this._$template);i.applyBindings(this._model,this._$template[0]);this._splitter=u.Enhancement.enhance(e.Splitter,this.getElement().find(".splitter"));this._splitter.leftPane.css("width","20%");this._splitter.rightPane.css("left","20%");this._splitter.handleBar.css("left","20%");this.updateOkButton(!0);this._disposables.push(this._model.numTasksToUpdate.subscribe(function(n){r.getFooterText(n)}));this._disposables.push(this._model.tasksInitialized.subscribe(function(){var n=r._element.find(".taskeditor-add-tasks-dialog").find(".task-definition").get(0);n&&$(n).find(".task-definition-add").find("button").focus()}));this._model.taskTypeDescription.peek()?this.getElement().find(".taskeditor-add-tasks").addClass("taskeditor-add-tasks-withdescription"):this.getElement().find(".taskeditor-add-tasks").addClass("taskeditor-add-tasks-withoutdescription")},t.prototype.getTitle=function(){return y.Task_AddTasksDialogTitle},t.prototype.getFooterText=function(n){n>0&&$(".ui-dialog-buttonpane").append(c.format(y.Task_NumTasksUpdateInProgress,n))},t.prototype.onOkClick=function(){this.close();$.isFunction(this._model.okCallback)&&this._model.okCallback()},t.prototype.dispose=function(){this._disposables.forEach(function(n){n.dispose()});n.prototype.dispose.call(this)},t._taskEditorNodeHtmlTemplate="\n    <li class='taskeditor-node' data-bind=\"css: { 'dirty': dirty, 'expanded': expanded(), 'collapsed': !expanded(), 'no-children': !showIcon(), 'hover': hovering, 'selected': selected }, attr: {'title': text}\">\n        <div tabindex='0' class='node-content' data-bind=\"event: { contextmenu: _onContextMenuClick, mouseover: _onMouseover, mouseout: _onMouseout, click: _onClick, keydown: _onKeyDown }\">\n            <div class='icon tree-icon' data-bind=\"css: { 'invisibleIcon': !isFolder() }, click: _onTreeIconClick\"><\/div>\n            <div data-bind='css: cssClass'><label data-bind=\"text: text, css: { 'dirty': dirty }\" /><\/div>\n        <\/div>\n        <ul class='tree-children' data-bind=\"template: { name: 'task_category_tree_node', foreach: nodes }, visible: expanded() && nodes().length !== 0\"><\/ul>\n    <\/li>",t._dialogHtmlTemplate="\n    <div class='splitter vertical taskeditor-tasks-explorer'>\n        <div class='task-editor-error' data-bind='visible: errorMessage()'>\n            <div class='task-editor-typedescription-message' >\n                <span class=\"alert-message\">\n                    <i class=\"bowtie-icon bowtie-status-warning warning_col\"><\/i>\n                    <span data-bind='text: taskTypeDescription'><\/span> "+c.localeFormat(y.TaskTypeDescriptionHelpText,y.TaskTypeDescriptioHelpUrl)+" \n                    <a data-bind='href: taskTypeDescriptioHelpUrl' target=\"_blank\"><span class=\"bowtie-icon bowtie-navigate-external\"><\/span><\/a>\n                <\/span>\n            <\/div>\n        <\/div>\n        <div class='task-editor-typedescription' data-bind='visible: (!!taskTypeDescription() && !errorMessage())'>\n            <div class='task-editor-typedescription-message' >\n                <span class=\"alert-message\">\n                    <i class=\"bowtie-icon bowtie-status-info success_blue\"><\/i>\n                    <span data-bind='text: taskTypeDescription'/> "+c.localeFormat(y.TaskTypeDescriptionHelpText,y.TaskTypeDescriptioHelpUrl)+"                    \n                <\/span>\n            <\/div>\n        <\/div>\n        <div class='splitter horizontal taskeditor-add-tasks'>\n            <div class='leftPane'>\n                <div class='taskeditor-tree taskeditor-tree-task-category'>\n                    <ul class='tree-children' data-bind=\"template: { name: 'task_category_tree_node', foreach: taskCategoriesTree.nodes }\"><\/ul>\n                <\/div>\n            <\/div>\n            <div class='handleBar'><\/div>\n            <div class='rightPane splitter vertical'>\n                <div class='taskeditor-add-tasks-dialog' data-bind='foreach: taskDefinitions'>\n                    <div class='task-definition'>\n                        <div class='task-definition-details'>\n                            <!-- ko if: hasIcon -->\n                            <div class='icon task-definition-details-icon'><img data-bind='attr: { src: iconUrl }' /><\/div>\n                            <!-- /ko -->\n                            <!-- ko ifnot: hasIcon -->\n                            <div class='icon task-definition-details-icon'><\/div>\n                            <!-- /ko -->\n                            <div class='taskeditor-dialog-item-title task-definition-details-title' data-bind='text: friendlyName'><\/div>\n                        <\/div>\n                        <div class='task-definition-description' data-bind='text: description'><\/div>\n                        <div class='task-definition-add'>\n                            <button data-bind='click: addCommand, event: {keydown: onAddButtonKeyDown}' value='Add'>"+y.Task_AddLabelText+"<\/button>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <div class='extensions-external' data-bind=\"click: onMarketplaceLinkClick\">\n                    <a data-bind=\"attr: { 'href': getMarketplaceLink() }\"><span class='bowtie-icon bowtie-status-info-outline'><\/span>&nbsp;"+y.Tasks_MarketPlaceText+"<span class='bowtie-icon bowtie-navigate-external'><\/span><\/a>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>",t}(f.ModalDialog);t.AddTasksDialog=ct;lt=function(){function n(t){var r=this;this.dialogTemplate="wizard_dialog";this.wizardPages=i.observableArray([]);this.currentWizardPage=i.observable(null);this.loaded=i.observable(!1);this.dialogCssClass="wizard-dialog";this.errorMessage=i.observable("");this.lastPageNextIcon=i.observable("icon-save");this.lastPageNextText=i.observable(y.WizardSave);this.chevronNextButtonIcon="bowtie-icon bowtie-chevron-right";this.chevronPrevButtonIcon="bowtie-icon bowtie-chevron-left";this.standardButtonCssClass="button-standard";this.jqeryUIClass="ui-icon";this.rootDialogCssClass="root-wizard-dialog";this.brandColorCssClass="cta";this.nextButtonId="next";this.prevButtonId="prev";this.closeButtonId="close";t&&(this.dialogCssClass=t);w.HtmlHelper.renderTemplateIfNeeded(this.dialogTemplate,n._wizardDialogHtmlTemplate);this.wizardPages.subscribe(function(n){if(n&&n.length>0){var t=r.currentWizardPage.peek();t||r.currentWizardPage(n[0])}})}return n.prototype.getPreviousPage=function(){var t=this.wizardPages.peek(),i=this.currentWizardPage.peek(),n=i.order;return n-1>=0?t[n-1]:null},n.prototype.getNextPage=function(){var n=this.wizardPages.peek(),i=this.currentWizardPage.peek(),t=i.order;return t+1<n.length?n[t+1]:null},n.prototype.insertAfterCurrentPage=function(n){var t=this.wizardPages.peek(),i=this.currentWizardPage.peek(),r=i.order;t.splice(r+1,0,n);this.wizardPages(t)},n._wizardDialogHtmlTemplate="\n    <!-- ko if: errorMessage -->\n    <div class='input-error-tip' data-bind=\"text: errorMessage, attr: { title: errorMessage }\"><\/div>\n    <!-- /ko -->\n    <div class='status-indicator' data-bind='visible: !loaded()'>\n            <div class='status'>\n                <table>\n                    <tr>\n                        <td>\n                            <span class='icon big-status-progress'><\/span>\n                        <\/td>\n                    <\/tr>\n                <\/table>\n            <\/div>\n     <\/div>\n    <div data-bind='visible: loaded, css: dialogCssClass'>\n        <!-- ko with: currentWizardPage -->\n        <div class='wizard-container'  data-bind='css: cssClass'>\n            <span class='page-heading' data-bind=\"text: title, visible: title\"><\/span>\n            <div class='page-content custom-input' data-bind=\"applyTemplate: { templateName: templateName, viewModel: viewModel, fadeIn: 'true' }\"><\/div>\n        <\/div>\n        <!-- /ko -->\n    <\/div>",n}();t.WizardDialogModel=lt;at=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._disposables=[],i._pixelsForTransition=0,i._nextButtonPrevIconClass="",i._model=t,i}return __extends(t,n),t.prototype.initialize=function(){var t=this,r;n.prototype.initialize.call(this);r=w.loadHtmlTemplate(this._model.dialogTemplate);this._element.append(r);i.applyBindings(this._model,r[0]);this._disposables.push(i.computed(function(){var i=t._model.currentWizardPage(),n,u,r,f;i&&(n=i.order,u=n===t._model.wizardPages.peek().length-1,u?(t._nextButtonPrevIconClass=t._model.chevronNextButtonIcon,n>0&&t.addPreviousButton(),t._updateNextButton(t._model.lastPageNextText.peek(),t._model.lastPageNextIcon.peek(),!0)):n===0?(t.removePreviousButton(),t._resetNextButton()):(t._resetNextButton(),t.addPreviousButton()),r=i.viewModel(),r&&(f=!r.isInvalid()&&t._model.loaded(),t.changeNextButtonStatus(f)))}));this._element.closest(".ui-dialog").addClass(this._model.rootDialogCssClass)},t.prototype._resetNextButton=function(){this.changeNextButtonStatus(this._model.loaded.peek());this._updateNextButton(y.WizardNext,this._model.chevronNextButtonIcon,!0)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!0,height:600,width:600,coreCssClass:t.dialogCssClass,buttons:{next:{id:t.nextButtonId,text:y.WizardNext,click:it(this,this.onNextClick),icons:{secondary:t.chevronNextButtonIcon}},close:{id:t.closeButtonId,text:a.ModalDialogCancelButton,click:it(this,this._close)}},noAutoCta:!0,useBowtieStyle:!0,contentMargin:!1},t))},t.prototype.addDisposable=function(n){this._disposables.push(n)},t.prototype.onPrevClick=function(){var n=this._model.getPreviousPage();n&&(this._model.loaded(!1),this._model.errorMessage(""),this._model.currentWizardPage(n),this._model.loaded(!0))},t.prototype.changeNextButtonStatus=function(n){this.onButtonStatusChange(undefined,{button:this._model.nextButtonId,enabled:n})},t.prototype.addPreviousButton=function(){var t=this._getExistingButtonsDictionary(),i,n;t[this._model.prevButtonId]||(i={icons:{primary:this._model.chevronPrevButtonIcon},id:this._model.prevButtonId,text:y.WizardPrevious,click:it(this,this.onPrevClick)},n={},n[this._model.prevButtonId]=i,$.extend(n,t),this.getElement().dialog("option","buttons",n),this._addStandardClass())},t.prototype.removePreviousButton=function(){var n=this._getExistingButtonsDictionary();n[this._model.prevButtonId]&&(delete n[this._model.prevButtonId],this.getElement().dialog("option","buttons",n),this._addStandardClass())},t.prototype.onNextClick=function(){this._model.errorMessage("");var n=this._model.getNextPage();n?(this._model.loaded(!1),this._model.currentWizardPage(n),this._model.loaded(!0)):this._model.currentWizardPage(null)},t.prototype.onOkClick=function(){this._close()},t.prototype.dispose=function(){n.prototype.dispose.call(this);$.each(this._disposables,function(n,t){t.dispose()})},t.prototype.getViewModel=function(){return this._model},t.prototype._addStandardClass=function(){this._addOrRemoveButtonsClass(!0,{css:this._model.standardButtonCssClass,add:!0})},t.prototype._getExistingButtonsDictionary=function(){return this.getElement().dialog("option","buttons")},t.prototype._close=function(){this.close();this.dispose()},t.prototype._addOrRemoveButtonsClass=function(n,t){var r=this.getElement().siblings(".ui-dialog-buttonpane"),i;n&&r.find(".ui-button-icon-primary,.ui-button-icon-secondary").removeClass(this._model.jqeryUIClass);t&&(i=r.find(".ui-button"),t.add?i.addClass(t.css):i.removeClass(t.css))},t.prototype._updateNextButton=function(n,t,i){var r=this.getElement().siblings(".ui-dialog-buttonpane").find("#"+this._model.nextButtonId),u=r.find(".ui-button-text"),f;(u.hasClass("wizard-next-button-text")?t||u.removeClass("wizard-next-button-text"):!t||u.addClass("wizard-next-button-text"),u.text(n),f=r.find(".ui-button-icon-secondary"),this._nextButtonPrevIconClass!==t)&&(f.removeClass(this._nextButtonPrevIconClass),f.addClass(t),this._nextButtonPrevIconClass=t,this._addOrRemoveButtonsClass(!0),i?r.addClass(this._model.brandColorCssClass):r.removeClass(this._model.brandColorCssClass))},t}(f.ModalDialogO);t.WizardDialog=at;vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getTaskDefinitionCache=function(){return b.TaskDefinitionCache.getTaskDefinitionCache()},t.prototype.getCurrentTaskDefinitions=function(){return n.prototype.getCurrentTaskDefinitions.call(this)},t.prototype.refresh=function(t){return n.prototype.refresh.call(this,t)},t.setMetaTaskManager=function(n){b.TaskDefinitionCache.metaTaskManager=n;t.metaTaskManager=n},t}(b.TaskDefinitionCache);t.TaskDefinitionCache=vt;rt=function(){function n(n,t,i,r){this.taskGroupName=n;this.taskGroupDescription=t;this.selectedCategory=i;this.metaTaskInput=r}return n.prototype.update=function(n,t,i,r){this.taskGroupName=n;this.taskGroupDescription=t;this.selectedCategory=i;this.metaTaskInput=r},n}();t.MetaTaskPropertiesModel=rt;ut=function(){function n(n){this.name=i.observable("");this.defaultValue=i.observable("");this.helpMarkDown=i.observable("");this.groupName="";this._taskInputDefinition=n;n&&(this.name(n.name),this.defaultValue(n.defaultValue),this.helpMarkDown(n.helpMarkDown),this.groupName=n.groupName)}return n.prototype.getTaskInputDefinition=function(){return this._taskInputDefinition&&(this._taskInputDefinition.name=this.name(),this._taskInputDefinition.defaultValue=this.defaultValue(),this._taskInputDefinition.helpMarkDown=this.helpMarkDown(),this._taskInputDefinition.groupName=this.groupName),this._taskInputDefinition},n}();t.TaskInputDefinitionViewModel=ut;ft=function(){function n(n,t,r,u,f,e,o,s){var h=this;this.taskGroupName=i.observable("");this.taskGroupDescription=i.observable("");this.editable=i.observable(!0);this.category=i.observableArray(d.MetaTaskCategoryType.metaTaskCategory);this.selectedCategory=i.observable(d.MetaTaskCategoryType.metaTaskCategory[0]);this.helpMarkDown=i.observable(y.Task_HelpMessageForTaskCategory);this.metaTaskInput=i.observableArray([]);this.dirty=i.computed(function(){return!1});this.onlySafeFieldsDirty=!1;this.invalid=i.computed(function(){return!1});this.areSystemVariablesDirty=i.observable(!1);this.dataSourceBindings=i.observableArray([]);this.groups=i.observableArray([]);this.errorMessage=i.observable("");this.variableGridHandler=it(this,this._variableChangeHandler);this.Tasks_MetaTaskParamTooltip=y.Tasks_MetaTaskParamTooltip;this.Tasks_MetaTaskValueTooltip=y.Tasks_MetaTaskValueTooltip;this.Tasks_MetaTaskDescTooltip=y.Tasks_MetaTaskDescTooltip;this.ExternalLinkTooltipText=y.ExternalLinkTooltipText;this.MoreInformationTooltipText=y.MoreInformationTooltipText;this.CreateMetaTaskDescriptionWatermarkText=y.CreateMetaTaskDescriptionWatermarkText;this._tasks=[];this._tasks=f;this._runsOn=s;this.dataSourceBindings(e);this.groups(o.filter(function(n){var t=l.first(u,function(t){return t.groupName===n.name});return!!t}));this.metaTaskInput(this._createTaskInputDefinitions(u));this._model=new rt(n,t,r,u);this.dirty=i.computed(function(){var n=h.taskGroupName()===h._model.taskGroupName,t=h.taskGroupDescription()===h._model.taskGroupDescription,i=h.selectedCategory()===h._model.selectedCategory,r=h.areSystemVariablesDirty();return h.onlySafeFieldsDirty=r?!1:n&&t&&i?!1:!0,!(n&&t&&i&&!r)});this.invalid=i.computed(function(){return h.taskGroupName().trim().length<=0})}return n.prototype.getTaskCategoryDisplayName=function(n){return p.getTaskCategoryDisplayName(n)},n.prototype.dispose=function(){},n.prototype.update=function(n,t,i,r,u,f){this.areSystemVariablesDirty(!1);this._tasks=u;this._runsOn=f;this.metaTaskInput(this._createTaskInputDefinitions(r));this._model=new rt(n,t,i,r);this.taskGroupName(n);this.taskGroupDescription(t);this.selectedCategory(i)},n.prototype._createTaskInputDefinitions=function(n){return!n||n.length==0?[]:$.map(n,function(n){return new ut(n)})},n.prototype._variableChangeHandler=function(){var i=this,t=this.metaTaskInput.peek(),n;if(t.length!==this._model.metaTaskInput.length){this.areSystemVariablesDirty(!0);return}n=!1;$.each(t,function(t,r){var u=i._model.metaTaskInput[t];if(!!u&&(u.name!==r.name()||u.defaultValue!==r.defaultValue()||u.helpMarkDown!==r.helpMarkDown()))return n=!0,!1});this.areSystemVariablesDirty(n)},n.prototype.setModel=function(n,t,i,r){this._model.update(n,t,i,r)},n.prototype._updateData=function(){this._model.update(this.taskGroupName(),this.taskGroupDescription(),this.selectedCategory(),this.metaTaskInput().map(function(n){return n.getTaskInputDefinition()}))},n.prototype.getOriginalMetaTaskinputs=function(){return this._model&&this._model.metaTaskInput},n.prototype._resetData=function(){this.taskGroupName(this._model.taskGroupName);this.taskGroupDescription(this._model.taskGroupDescription);this.selectedCategory(this._model.selectedCategory);this.metaTaskInput(this._createTaskInputDefinitions(this._model.metaTaskInput))},n.prototype._generateMetaTaskDefinition=function(n,t,i,r,u,f){n=n.trim();return{tasks:r,owner:s.getDefaultWebContext().user.id,category:i,description:t,agentExecution:null,author:s.getDefaultWebContext().user.name,contentsUploaded:!0,contributionIdentifier:null,contributionVersion:null,dataSourceBindings:this.dataSourceBindings.peek(),satisfies:[],demands:[],disabled:!1,deleted:!1,preview:!1,deprecated:!1,ecosystem:null,friendlyName:n,groups:this.groups.peek(),helpMarkDown:"",helpUrl:"",hostType:null,iconUrl:s.getPageContext().webAccessConfiguration.paths.resourcesPath+"icon-meta-task.png",id:"",inputs:u,instanceNameFormat:w.getTaskGroupInstanceNameFormat(n,u),minimumAgentVersion:"*",name:n,packageLocation:"",packageType:"",releaseNotes:null,serverOwned:!1,showEnvironmentVariables:!1,sourceDefinitions:[],sourceLocation:"",version:{isTest:!1,major:1,minor:0,patch:0},parentDefinitionId:null,visibility:["Build","Release"],runsOn:f,definitionType:"metaTask",preJobExecution:{key:"",value:""},execution:{key:"",value:""},postJobExecution:{key:"",value:""},revision:null,createdBy:null,createdOn:null,modifiedBy:null,modifiedOn:null,comment:null,outputVariables:null}},n}();t.MetaTaskPropertiesBaseViewModel=ft;yt=function(n){function t(t,i,r,u,f,e){var o=n.call(this,"","","",t,r,u,f,e)||this;return o._onOkCallBack=i,o}return __extends(t,n),t.prototype.onOkClick=function(){var n=this.metaTaskInput().map(function(n){return n.getTaskInputDefinition()}),t=this._generateMetaTaskDefinition(this.taskGroupName(),this.taskGroupDescription(),this.selectedCategory(),this._tasks,n,this._runsOn);return this._updateData(),this._onOkCallBack(t)},t.prototype.onCancelClick=function(){this._resetData()},t}(ft);t.CreateMetaTaskDialogViewModel=yt;pt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._metaTaskPropertiesTemplateId="metatask-properties",i._metaTaskPropertiesTemplateHTML="<div/>",i._viewModel=t,i}return __extends(t,n),t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this._renderUI();this._invalidSubscription=this._viewModel.invalid.subscribe(function(n){t.onButtonStatusChange(undefined,{button:"ok",enabled:!n})})},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._invalidSubscription.dispose()},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!0,height:450,width:740,useBowtieStyle:!0,buttons:{ok:{id:"ok",text:y.Tasks_MetaTaskDialogCreate,disabled:"disabled",click:it(this,this.onOkClick)},cancel:{id:"cancel",text:a.ModalDialogCancelButton,click:it(this,this.onCancelClick)}},contentMargin:!1},t))},t.prototype.onOkClick=function(){var n=this;this._$errorMessage.hide();this._viewModel.errorMessage(c.empty);this._viewModel.onOkClick().then(function(){n.close()},function(t){t.message&&(t=t.message);n._$errorMessage.text(t);n._$errorMessage.toggle(!!t);n._viewModel.errorMessage(t.toString())})},t.prototype.onCancelClick=function(){this._viewModel.onCancelClick();n.prototype.onCancelClick.call(this)},t.prototype.getTitle=function(){return y.Task_CreateMetaTaskDialogTitle},t.prototype._renderUI=function(){this._$errorMessage=$("<div class='input-error-tip meta-task-cre-error'>").hide().text("").appendTo(this._element);u.Control.create(et,this._element,{viewModel:this._viewModel})},t}(f.ModalDialog);t.CreateMetaTaskDialog=pt;et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._templateHTML="\n    <div class='meta-task-dialog' data-bind=\"css: { 'adjust-margin': !!errorMessage() }\">\n        <div class='meta-task-properties'>\n            <table>\n                <tr>\n                    <td class='property-name meta-task-name' for='taskGroupNameId' data-bind=\"css: { 'bold-text': invalid() }\">"+y.Task_NameLabel+"<\/td>\n                    <td class='property-value meta-task-name-value'><input  id='taskGroupNameId' class='meta-task-name-textbox' data-bind='value: taskGroupName, valueUpdate: \"afterkeydown\", css: { \"invalid\": invalid() }'/><\/td>\n                <\/tr>\n                <tr>\n                    <td class='property-name meta-task-description'>"+y.Tasks_MetaTaskDialogDescriptionHeader+"<\/td>\n                    <td class='property-value meta-task-description-value'>\n                        <textarea rows='2' data-bind='attr: {placeholder: CreateMetaTaskDescriptionWatermarkText}, value: taskGroupDescription, valueUpdate: \"afterkeydown\"' class='meta-task-description-textarea'>\n                        <\/textarea>\n                    <\/td>\n                <\/tr>\n                <tr>\n                    <td class='property-name meta-task-category'>"+y.CategoryText+"<\/td>\n                    <td class='property-value meta-task-category-value'>\n                        <select class='meta-task-category-options' data-bind='options: category,\n                                                                              optionsText: getTaskCategoryDisplayName ,\n                                                                              value: selectedCategory'>\n                        <\/select>\n                    <\/td>\n                    <td class='tooltip' data-bind = \"showTooltip: { text: helpMarkDown, pivotSiblingCssClass: 'meta-task-category-value' }\"><\/td>\n                <\/tr>\n            <\/table>\n        <\/div>\n        <div class='task-variables' data-bind='visible: metaTaskInput().length > 0'>\n            <div class='param-heading'>"+y.Task_MetaTaskDialogParentParameterHeading+"<\/div>\n            <div class='horizontal-line splitter horizontal meta-task-dialog-splitter'><\/div>\n            <div class='message'>"+y.Tasks_MetaTaskVariablesMessage+"<\/div>\n            <table class='non-sys-var'>\n                <tr>\n                    <th class='param-header' data-bind='attr: { \"title\": Tasks_MetaTaskParamTooltip }'>"+y.Tasks_MetaTaskDialogParameterHeader+"<\/th>\n                    <th class='value-header' data-bind='attr: { \"title\": Tasks_MetaTaskValueTooltip }'>"+y.Tasks_MetaTaskDialogValuesHeader+"<\/th>\n                    <th class='desc-header' data-bind='attr: { \"title\": Tasks_MetaTaskDescTooltip }'>"+y.Tasks_MetaTaskDialogDescriptionHeader+"<\/th>\n                <\/tr>\n                <tbody data-bind='foreach: metaTaskInput'>\n                    <tr>\n                        <td class='param-name' data-bind='text:name'><\/td>\n                        <td class='param-value'><input class='val' type='text' data-bind='value: defaultValue, event: { change: $parent.variableGridHandler }'/><\/td>\n                        <td class='param-description'><input class='desc' type='text' data-bind='value: helpMarkDown, event: { change: $parent.variableGridHandler }'/><\/td>\n                    <\/tr>\n                <\/tbody>\n        <\/div>\n    <\/div>",t._templateName="meta_task_create_dialog_template",t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this._metaTaskDialogViewModel=t.viewModel},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._renderUI()},t.prototype._renderUI=function(){w.HtmlHelper.renderTemplateIfNeeded(this._templateName,this._templateHTML);this._$template=w.loadHtmlTemplate(this._templateName);this._element.append(this._$template);i.applyBindings(this._metaTaskDialogViewModel,this._$template[0])},t}(u.Control);t.MetaTaskDialogControl=et;r.tfsModuleLoaded("TFS.Tasks.Common.Dialogs",t)});

define("DistributedTasksCommon/TFS.Knockout.HubPageExplorerPivot",["require","exports","knockout","VSS/Adapters/Knockout","VSS/Controls","VSS/Navigation/Services","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f,e,o){var s,h,c,l,a,v;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(n){var t=this;this.isSelected=i.observable(!1);this.text=i.observable("");this.title=i.observable("");this.visible=i.observable(!0);this.order=0;this.disposableManager=new e.DisposalManager;n=$.extend(n||{},{isVisible:i.computed({read:function(){return t.visible()}}),onClick:function(){return!0}});this.isVisible=n.isVisible;this.onClick=n.onClick}return n.prototype.dispose=function(){this.disposableManager.dispose()},n}();t.PivotTabBase=s;h=function(n){function t(t,i,r,u){var f=__construct(this,n,[]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.id=t,f.templateName=r,f.title(i),f.text(i),f.order=u||0,f}return __extends(t,n),t}(s);t.BasicPivotTab=h;c=function(){function n(n){var t=this;this.hubTitleContent=i.observable("");this.tabs=i.observableArray([]);this.tabClicked=i.observable(null);this._selectedTab=i.observable("");this.showContent=i.observable(!0);this.selectedTab=i.computed({read:function(){return t._selectedTab()},write:function(n){t._selectedTab(n);$.each(t.tabs(),function(t,i){i.isSelected(i.id===n)});t.tabClicked({tabName:n})}});this._onPivotTabChanged=function(n,i){t._onTabClick(i.value)};this._options=n||{};this._onTabClick=function(n){var i=!0,r;$.isFunction(n.onClick)&&(i=n.onClick());i&&(r=!n?"":n.id,t.selectedTab(r))};this.showTabs=i.computed({read:function(){var n=0;return $.each(t.tabs(),function(t,i){i.isVisible()&&n++}),n>1}})}return n.prototype.dispose=function(){this._pivotView&&(this._pivotView._unbind("changed",this._onPivotTabChanged),this._pivotView.dispose(),this._pivotView=null)},n.prototype.getLink=function(n){var t=f.getHistoryService().getCurrentState();return t?f.getHistoryService().getFragmentActionLink(n.id,t):""},n.prototype.renderPivotView=function(t){var i=this;o.using(["VSS/Controls/Navigation"],function(r){var f=i.tabs.peek(),e;f=f.filter(function(n){return n&&n.isVisible()});e=f.map(function(n){return{id:n.id,text:n.text.peek(),value:n,selected:n.isSelected.peek()}});i._pivotView?(i._pivotView._options.items=e,i._pivotView.updateItems(!0)):(i._pivotView=u.BaseControl.create(r.PivotView,t.find(n.PIVOT_HOLDER_CLASS),{items:e}),i._pivotView._bind("changed",i._onPivotTabChanged))})},n.PIVOT_HOLDER_CLASS=".tfs_knockout_hubpageexplorerpivot_holder",n}();t.HubPageExplorerPivotBase=c;l=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.onTabSelected=i.observable(!1),t}return __extends(t,n),t}(r.TemplateViewModel);t.TabContentViewModel=l;a=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onTabClick=function(n){var t=!n?"":n.id;i.selectedTab(t);i._onSelectedTabChanged(t)},i}return __extends(t,n),t.prototype._onSelectedTabChanged=function(){},t.prototype.refresh=function(){},t}(c);t.BaseTabViewModel=a;v=function(n){function t(t,r,u,f){var e=__construct(this,n,[t,r,u,f]);for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);return e.dirty=i.computed({read:function(){return!1}}),e.invalid=i.computed({read:function(){return!1}}),e}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this);this.dirty.dispose();this.invalid.dispose()},t}(h);t.BasePivotTab=v;o.tfsModuleLoaded("TFS.Knockout.HubPageExplorerPivot",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Presentation.Identities",["require","exports","knockout","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Resources/VSS.Resources.Platform","VSS/Controls","VSS/Identities/Picker/Controls","VSS/Utils/UI","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core"],function(n,t,i,r,u,f,e,o,s,h,c){var l;Object.defineProperty(t,"__esModule",{value:!0});var a=u.delegate,w=h.domElem,v=h.KeyCode,y=function(){function n(){}return n.getNextUniqueID=function(){return n._currentId++},n._currentId=1e3,n}(),p=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._elementId="rm_id_picker"+y.getNextUniqueID(),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"multi-mru-identity-picker"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._enabled=typeof this._options.enabled=="boolean"?this._options.enabled:!0;this._render(this._options.selectedItems)},t.prototype.getValue=function(){return this._selectedItems},t.prototype.setValue=function(n){this._render(n)},t.prototype.setEnabled=function(n){this._identityPickerSearchControl.enableElement(n);this._enabled=n},t.prototype._render=function(n){var i=this,u,r;n=n||[];this._element.empty();this._selectedItemsMap={};this._selectedItems=[];this._$container=$("<ul>").addClass("multi-mru-identity-picker-container").appendTo(this._element);u=$("<div>").addClass("multi-mru-list-container").appendTo(this._element);r=$("<li>").addClass("picker-item").appendTo(this._$container);this._identityPickerSearchControl=o.create(s.IdentityPickerSearchControl,r,{elementId:this._elementId,operationScope:l.getOperationScopeOptions(),identityType:{User:!0,Group:!0},pageSize:this._options.pageSize,showContactCard:!0,consumerId:t._approversPickerConsumerId,callbacks:{onItemSelect:a(this,this._addSelection),onKeyPress:a(this,this._handleKeyDown)}});$.each(n,function(n,t){(!i._options.maxAllowedIdentities||n<i._options.maxAllowedIdentities)&&i._addSelection(t,!1)});this._options.maxAllowedIdentities&&this._selectedItems.length>=this._options.maxAllowedIdentities&&this._identityPickerSearchControl.hideElement()},t.prototype._addSelection=function(n,t){var f=this,s,r,u,o;if(t===void 0&&(t=!0),this._identityPickerSearchControl.clear(),s=n,r=n.hasOwnProperty("localId")?l.convertToWebApiIdentityRef(s):n,r&&!this._itemAlreadySelected(r)){u=$('<li data-bind="showRichContentTooltip: { text: tooltip, setAriaDescribedBy: true, cssClass: \'rm-rich-content-tooltip\' }" class="selection">\n                  <div class="item-text" data-bind="text: text"/>\n                  <div class="bowtie-icon bowtie-edit-delete" tabIndex=\'0\' data-bind="showRichContentTooltip: { text: iconTitle, setAriaDescribedBy: true, cssClass: \'rm-rich-content-tooltip\' }"><\/div>\n               <\/li>');i.applyBindings({text:n.displayName,tooltip:l.getFriendlyDistinctDisplayName(r),iconTitle:e.MruIdentityPickerRemoveSelection},u[0]);u.insertBefore($(".picker-item",this._$container));o=$(".bowtie-icon.bowtie-edit-delete",u);o.click(function(){if(f._enabled){f._removeSelection(r);var n=f._element.find("#"+f._elementId);return!!n&&n.length>0&&n.focus(),!1}});c.AccessibilityHelper.onEnterPress(o);this._selectedItemsMap[r.id]=u;this._selectedItems.push(r);this._options.maxAllowedIdentities>0&&this._selectedItems.length>=this._options.maxAllowedIdentities&&this._identityPickerSearchControl.hideElement();t&&this._fireChange()}},t.prototype._removeSelection=function(n,t){if(t===void 0&&(t=!0),n&&this._itemAlreadySelected(n)){this._identityPickerSearchControl.clear();this._selectedItems=l.subtract(this._selectedItems,[n],!1);var i;i=n.id?n.id:n.displayName;this._selectedItemsMap[i].remove();delete this._selectedItemsMap[i];this._options.maxAllowedIdentities>0&&this._selectedItems.length===this._options.maxAllowedIdentities-1&&this._identityPickerSearchControl.showElement();t&&this._fireChange()}},t.prototype._handleKeyDown=function(n){n===v.BACKSPACE&&this._identityPickerSearchControl.getIdentitySearchResult().unresolvedQueryTokens.length===0&&this._removeSelection(this._selectedItems[this._selectedItems.length-1])},t.prototype._itemAlreadySelected=function(n){var t=this._selectedItemsMap[n.id]?!0:!1,i=this._selectedItemsMap[n.displayName]?!0:!1;return t||i},t._approversPickerConsumerId="07ec6435-b63c-418b-82c2-d42eb0b9b94a",t}(o.BaseControl);t.MultiSelectIdentityPickerControl=p;l=function(){function n(){}return n.getFriendlyDistinctDisplayName=function(t){return t.displayName&&t.uniqueName?t.id?t.displayName:f.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.uniqueName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""},n.convertToWebApiIdentityRef=function(t){return{id:t.localId,displayName:t.displayName,isContainer:t.entityType.toLowerCase()!==n.IDENTITY_ENTITYTYPE_USER.toLowerCase()}},n.getOperationScopeOptions=function(){return{IMS:!0}},n.subtract=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0);return $.each(i,function(t,i){for(var f=u.length,r=0;r<f;r++)n.areItemsEqual(i,u[r])&&(u.splice(r,1),f--)}),r&&n._sortListByName(u),u},n._sortListByName=function(t){t.sort(function(t,i){if(n._isGroup(t)&&!n._isGroup(i))return 1;if(!n._isGroup(t)&&n._isGroup(i))return-1;var r=$.trim(t.displayName.toLowerCase()),u=$.trim(i.displayName.toLowerCase());return f.localeIgnoreCaseComparer(r,u)})},n._isGroup=function(n){var t=n.displayName||"";return n.isContainer||t.charAt(0)==="["&&t.indexOf("]\\")>0},n.areItemsEqual=function(n,t){var i,r;return n.id&&t.id?(i=$.trim(n.id.toLowerCase()),r=$.trim(t.id.toLowerCase())):n.uniqueName&&t.uniqueName?(i=$.trim(n.uniqueName.toLowerCase()),r=$.trim(t.uniqueName.toLowerCase())):(i=$.trim(n.displayName.toLowerCase())+(n.id||"").toLowerCase(),r=$.trim(t.displayName.toLowerCase())+(t.id||"").toLowerCase()),f.localeIgnoreCaseComparer(i,r)===0},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.IDENTITY_ENTITYTYPE_USER="User",n}();t.IdentityHelper=l;r.tfsModuleLoaded("TFS.ReleaseManagement.Presentation.Identities",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.Artifacts.ObjectViewModel",["require","exports","knockout","q","VSS/VSS","VSS/Context","VSS/Common/Contracts/FormInput","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/Number","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorModels","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Tags","ReleasePipeline/Scripts/CommonControls/RM.Tags","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Branch","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/TFS.ReleaseManagement.Host.TfsContext","DistributedTasksCommon/TFS.Tasks.Models"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var gt,ft,et,st,ht,ct,lt,ut,at,vt,yt,pt,wt,ni,bt,kt,ti,ot,ii,dt;Object.defineProperty(t,"__esModule",{value:!0});gt=nt.WellKnownRepositoryTypes;ft=function(){function n(n){this._inputValidation=n}return n.prototype.validate=function(){return!0},n.prototype._getInputValidation=function(){return this._inputValidation},n}();t.BaseValidator=ft;et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._maxLength=1024,i._minLength=0,i._isRequired=!1,t.minLength!==undefined&&(i._minLength=t.minLength),t.maxLength!==undefined&&(i._maxLength=t.maxLength),t.isRequired&&(i._isRequired=!0),i._pattern=t.pattern,i}return __extends(t,n),t.prototype.validate=function(n){var t=!1;return t=(!this._isRequired||!!n)&&n!==undefined?n.length>=this._minLength&&n.length<=this._maxLength:!1,t&&(t=this._validatePattern(n,this._pattern)),t},t.prototype._validatePattern=function(n,t){var i=!0,r,u;return t&&(r=$.trim(t),u=new RegExp(r),i=u.test(n)),i},t}(ft);t.StringValidator=et;st=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.validate=function(n){return s.ignoreCaseComparer(n,"true")===0||s.ignoreCaseComparer(n,"false")===0},t}(ft);t.BooleanValidator=st;ht=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._minValue=-2147483647,i._maxValue=2147483647,t.maxValue!==undefined&&(i._maxValue=t.maxValue),t.minValue!==undefined&&(i._minValue=t.minValue),i}return __extends(t,n),t.prototype.validate=function(n){var i=c.parseLocale(n),r=!1,t=parseInt(""+i,10),u=parseFloat(""+i);return!isNaN(i)&&t===u&&isFinite(t)&&t>=this._minValue&&t<=this._maxValue&&(r=!0),r},t}(ft);t.NumberValidator=ht;ct=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.validate=function(n){var t=36,i,r;return!n||n.length<t?!1:(i=n.trim(),r=i.length===t?this._getInputValidation().pattern||"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$":this._getInputValidation().pattern||"^{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}}$",this._validatePattern(n,r))},t}(et);t.GuidValidator=ct;lt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.validate=function(n){if(n&&n.length!==0){var t=this._getInputValidation().pattern||"^https?://.+$";return this._validatePattern(n,t)}return!1},t}(et);t.UriValidator=lt;ut=function(){function n(n,t,r){var u=this,f;this.id=i.observable("");this.name=i.observable("");this.description=i.observable("");this.value=i.observable("");this.templateName="artifact_type_input";this.inputMode=i.observable(e.InputMode.None);this.isQueryRequired=i.observable(!1);this.isValueUpdated=i.observable(!1);this.isReadOnly=i.observable(!1);this.isVisible=i.observable(!1);this.mode="textbox";this.defaultVersionTypeTooltip=v.DefaultVersionTypeTooltip;this.defaultVersionType=y.ArtifactDefaultVersionConstants.DefaultVersionType;this.defaultVersionBranch=y.ArtifactDefaultVersionConstants.DefaultVersionBranch;this.defaultVersionTags=y.ArtifactDefaultVersionConstants.DefaultVersionTags;this._inputModeTypeToStringMap={};this._previousValue="";this._disposalManager=new o.DisposalManager;this._showManageServicesLink=i.observable(!1);this._inputDescriptor=n;this._validator=t;this._initializeMappings();this._update(n);this.displayName=this._disposalManager.addDisposable(i.computed(function(){var n=s.htmlEncode(u.name()),t;return u._showManageServicesLink()&&(t=u._getManageServicesLink(),n=s.localeFormat(v.LabelWithManageServiceDisplayFormat,n,t)),u._isRequired()&&(u.value()===undefined||$.trim(u.value())==="")&&(n=s.localeFormat(v.FieldLabelFormatWithRequiredDecorator,n,v.RequiredFieldIndicator)),n}));f=r?!this.isDefaultVersionOrDependentInput():!this.isDefaultVersionDependentInput();this.isVisible(f)}return n.prototype.isInvalid=function(){return!this._validator.validate(this.value())},n.prototype.isDefaultVersionDependentInput=function(){return s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionBranch)===0||s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionTags)===0||s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionSpecific)===0},n.prototype.isDefaultVersionOrDependentInput=function(){return s.localeIgnoreCaseComparer(this._inputDescriptor.id,y.ArtifactDefaultVersionConstants.DefaultVersionType)===0||this.isDefaultVersionDependentInput()},n.prototype.isInputVisibile=function(n,t,i){if(w.ValidateParameters.isNullOrEmpty(this._inputDescriptor.groupName))return!0;var u=$.map(JSON.parse(this._inputDescriptor.groupName),function(n){return new rt.KeyValuePair(n.Key,n.Value)}),r=!1;return u.forEach(function(u){if(s.localeIgnoreCaseComparer(u.key(),n)===0&&(s.localeIgnoreCaseComparer(u.value(),t)===0||s.localeIgnoreCaseComparer(u.value(),i)===0)){r=!0;return}}),r},n.prototype.getValue=function(){return s.empty},n.prototype.getDependencyInputIds=function(){return this._inputDescriptor.dependencyInputIds||[]},n.prototype.getInputValues=function(){return this._inputDescriptor.values},n.prototype.hasDynamicValues=function(){return this._inputDescriptor.hasDynamicValueInformation},n.prototype.setIsReadOnly=function(n){n=this.isDefaultVersionOrDependentInput()?!1:n;this.isReadOnly(n);this.isReadOnly.valueHasMutated()},n.prototype.updateValues=function(n){n.isReadOnly&&(this.isReadOnly(n.isReadOnly),this.isReadOnly.valueHasMutated());this._inputDescriptor.values=n;this._setPreviousValue("")},n.prototype.clear=function(){this.value("");this._inputDescriptor.values=null},n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.setShowManageServicesLink=function(n){this._showManageServicesLink(n)},n.prototype._getPreviousValue=function(){return this._previousValue?$.trim(this._previousValue):""},n.prototype._setPreviousValue=function(n){this._previousValue=n},n.prototype._getDisposalManager=function(){return this._disposalManager},n.prototype._isRequired=function(){return this._inputDescriptor.validation.isRequired},n.prototype._handleFinalValue=function(){var n=$.trim(this.value()),t=$.trim(this._getPreviousValue());n!==""&&n!==t&&(this.isQueryRequired.valueHasMutated(),this._setPreviousValue(this.value()))},n.prototype._handleIntermediateValue=function(){var n=$.trim(this.value()),t=$.trim(this._getPreviousValue());n!==""&&n!==t&&(this.isValueUpdated.valueHasMutated(),this._setPreviousValue(this.value()))},n.prototype._update=function(n){this.id(n.id);this.name(n.name);this.description(n.description);this.inputMode(n.inputMode);this.mode=this._inputModeTypeToStringMap[n.inputMode]},n.prototype._initializeMappings=function(){this._inputModeTypeToStringMap[e.InputMode.CheckBox]="checkbox";this._inputModeTypeToStringMap[e.InputMode.Combo]="combo";this._inputModeTypeToStringMap[e.InputMode.PasswordBox]="password";this._inputModeTypeToStringMap[e.InputMode.RadioButtons]="radio";this._inputModeTypeToStringMap[e.InputMode.TextArea]="textArea";this._inputModeTypeToStringMap[e.InputMode.TextBox]="textbox";this._inputModeTypeToStringMap[e.InputMode.None]="none"},n.prototype._getManageServicesLink=function(){var n=it.TfsContext.getDefault().getActionUrl("","services",{area:"admin"});return s.format("<a href='{0}' target='_blank' rel='noopener noreferrer' title='{1}'>{2}<\/a>",n,v.ManageServicesTitle,v.ManageServices)},n}();t.InputViewModel=ut;at=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._getDisposalManager().addDisposable(u.value.subscribe(function(){u._handleFinalValue()})),u}return __extends(t,n),t.prototype.handleFinalValue=function(){this._handleFinalValue()},t.prototype.updateValues=function(t,i){var r,u;n.prototype.updateValues.call(this,t,i);t.possibleValues&&t.possibleValues.length>0?(b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&(r=h.first(t.possibleValues,function(n){return n.value===i[t.inputId].id})),r||(r=t.possibleValues[0]),u=r.displayValue||r.value,this.value(u),this._setPreviousValue(this.value())):!i||!i[t.inputId]?this.value(""):this.value(i[t.inputId].id)},t.prototype.getValue=function(){return this.value()},t}(ut);t.StringInputViewModel=at;vt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]),e,o;for(e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.possibleValues=i.observableArray([]),f.possiblebuildDefinitionValues=i.observableArray([]),f.displayText=i.observable(s.empty),f.selectedBuildDefinitionId=i.observable(s.empty),f.isBuildArtifactType=i.observable(!1),!t.values||!t.values.possibleValues||(o=$.map(t.values.possibleValues,function(n){return n.displayValue}),f.possibleValues=i.observableArray(o)),f._getDisposalManager().addDisposable(f.value.subscribe(function(){f._isValueInPossibleValues()?f._handleFinalValue():f._handleIntermediateValue()})),f}return __extends(t,n),t.prototype.updateValues=function(t,i,r,u){var c=this,f,e,v,o;if(n.prototype.updateValues.call(this,t,i),!w.ArrayHelper.hasItems(t.possibleValues)){this.value(s.empty);this.possibleValues([]);return}if(f=-1,e=s.empty,b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&i[t.inputId].id&&s.localeIgnoreCaseComparer(i[t.inputId].id,s.empty)!==0&&(e=i[t.inputId].id,f=h.findIndex(t.possibleValues,function(n){return s.localeIgnoreCaseComparer(n.value,e)===0})),s.localeIgnoreCaseComparer(t.inputId,l.ArtifactDefinitionConstants.DefinitionId)===0&&b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&f<0){this.value(s.empty);this.possibleValues([]);return}s.localeIgnoreCaseComparer(t.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionType)===0&&i&&!i.hasOwnProperty(y.ArtifactDefaultVersionConstants.DefaultVersionType)&&(f=h.findIndex(t.possibleValues,function(n){return s.localeIgnoreCaseComparer(n.value,y.ArtifactDefaultVersionConstants.SelectDuringReleaseCreation)===0}));this.isArtifactTypeBuild2(t.inputId,r)?(this.isBuildArtifactType(!0),o=[],v=a.serviceContext.buildManager().beginGetBuildDefinitions(u),v.then(function(n){t.possibleValues.forEach(function(t){var u=n.filter(function(n){return n.id===Number(t.value)}),i,r;w.ArrayHelper.hasItems(u)&&(i=u[0],r=b.BuildDefinitionNameUtils.getDisplayNameWithFolder(i.path,i.name),o.push(r),c.possiblebuildDefinitionValues.push(new dt(r,i.name,String(i.id))))});c._updateValues(t,f,e,o)},function(n){tt.currentContext.logError(n)})):(o=$.map(t.possibleValues,function(n){return n.displayValue?n.displayValue:n.value}),this._updateValues(t,f,e,o))},t.prototype.clear=function(){n.prototype.clear.call(this);this.possibleValues([])},t.prototype.getValue=function(){var n=this,t="",i=this.getInputValues();return i&&(this.isArtifactTypeBuild(i.inputId)?this.getInputValues().possibleValues.forEach(function(i){!((i.displayValue?i.displayValue===n.value():i.value===n.value())&&i.value===n.selectedBuildDefinitionId())||(t=n.selectedBuildDefinitionId())}):!this.getInputValues().possibleValues||this.getInputValues().possibleValues.forEach(function(i){(!i.displayValue?i.value===n.value():i.displayValue===n.value())&&(t=i.value)})),t===s.empty&&(t=this.value()),t},t.prototype.setSelectedValue=function(n,t){if(this.isArtifactTypeBuild2(this.id(),t)){var i=h.first(this.possiblebuildDefinitionValues(),function(t){return s.localeIgnoreCaseComparer(t.displayNameWithFolder,n)===0});this.displayText(i.displayNameWithFolder);this.selectedBuildDefinitionId(i.id);this.value(i.displayNameWithoutFolder)}else this.value(n),this.displayText(n)},t.prototype.getSelectedValue=function(){return this.isArtifactTypeBuild(this.id())?this.displayText():this.value()},t.prototype.handleBlur=function(){this.isInvalid()||this._handleFinalValue()},t.prototype.isInvalid=function(){var t=this.getInputValues();return t&&w.ArrayHelper.hasItems(t.possibleValues)&&t.isLimitedToPossibleValues?this._isValueInPossibleValues()?n.prototype.isInvalid.call(this):!0:n.prototype.isInvalid.call(this)},t.prototype.isArtifactTypeBuild=function(n){return s.localeIgnoreCaseComparer(n,l.ArtifactDefinitionConstants.DefinitionId)===0&&this.isBuildArtifactType()?!0:!1},t.prototype.isArtifactTypeBuild2=function(n,t){return s.localeIgnoreCaseComparer(n,l.ArtifactDefinitionConstants.DefinitionId)===0&&s.localeIgnoreCaseComparer(t,y.ArtifactTypes.Build)===0?!0:!1},t.prototype._isValueInPossibleValues=function(){var n=this.getInputValues()&&this.getInputValues().possibleValues&&$.map(this.getInputValues().possibleValues,function(n){return n.displayValue?n.displayValue:n.value});return n&&w.ArrayHelper.hasItems(n)&&n.indexOf(this.value())>=0?!0:!1},t.prototype._updateValues=function(n,t,i,r){if(i=t>=0?r[t]:!n.defaultValue||s.localeIgnoreCaseComparer(n.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionType)===0?w.ArrayHelper.hasItems(r)?r[0]:s.empty:n.defaultValue,this.displayText(i),this.isArtifactTypeBuild(n.inputId)&&!w.ValidateParameters.isNullOrEmpty(i)){var u=h.first(this.possiblebuildDefinitionValues(),function(n){return s.localeIgnoreCaseComparer(n.displayNameWithFolder,i)===0});this.selectedBuildDefinitionId(u.id);this.value(u.displayNameWithoutFolder)}else this.value(i);this._setPreviousValue(this.value());this.possibleValues(r)},t}(ut);t.ComboInputViewModel=vt;yt=function(n){function t(t,i,r){var u=__construct(this,n,[t,i,r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u._getDisposalManager().addDisposable(u.value.subscribe(function(n){$.trim(n)!==""&&u.isQueryRequired.valueHasMutated()})),u}return __extends(t,n),t.prototype.updateValues=function(t,i){n.prototype.updateValues.call(this,t,i);!i||!i[t.inputId]||(Boolean(i[t.inputId].id)?this.value("true"):this.value(""))},t.prototype.getValue=function(){return this.value()},t}(ut);t.CheckboxInputViewModel=yt;pt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.selectedArtifactSourceBranch=i.observable(null),f.repositoryId=i.observable(null),f._projectId=i.observable(null),f._definitionId=i.observable(null),f.branchViewModel=new g.BranchViewModel,f._getDisposalManager().addDisposable(f.repositoryId.subscribe(function(n){f.branchViewModel.repositoryId(n)})),f._getDisposalManager().addDisposable(f.selectedArtifactSourceBranch.subscribe(function(n){f.branchViewModel.selectedArtifactSourceBranch(n)})),f._getDisposalManager().addDisposable(f.value.subscribe(function(n){$.trim(n)!==""&&f.isQueryRequired.valueHasMutated()})),f}return __extends(t,n),t.prototype.getValue=function(){return this.selectedArtifactSourceBranch()?this.value(this.selectedArtifactSourceBranch()):this.value(s.empty),this.value()},t.prototype.updateValues=function(t,i){var u=this,r;n.prototype.updateValues.call(this,t,i);r=null;b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&i[t.inputId].id&&s.localeIgnoreCaseComparer(i[t.inputId].id,s.empty)!==0&&(r=i[t.inputId].id);!t.defaultValue||s.localeIgnoreCaseComparer(r,s.empty)!==0||(r=t.defaultValue);s.localeIgnoreCaseComparer(r,s.empty)===0&&(r=null);b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,l.ArtifactDefinitionConstants.ProjectId)&&i[l.ArtifactDefinitionConstants.ProjectId].id&&this._projectId(i[l.ArtifactDefinitionConstants.ProjectId].id);b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,l.ArtifactDefinitionConstants.DefinitionId)&&i[l.ArtifactDefinitionConstants.DefinitionId].id&&this._definitionId(i[l.ArtifactDefinitionConstants.DefinitionId].id);this._getBuildDefinition(this._projectId(),Number(this._definitionId())).then(function(n){!!n.repository&&n.repository.id&&s.localeIgnoreCaseComparer(n.repository.type,gt.TfsGit)===0&&(u.repositoryId(n.repository.id),u.selectedArtifactSourceBranch(r))},function(n){tt.currentContext.logError(n)})},t.prototype._getBuildDefinition=function(n,t){var i=r.defer();return a.serviceContext.buildManager().beginGetBuildDefinition(t,n).then(function(n){i.resolve(n)},function(n){i.reject(n)}),i.promise},t}(ut);t.BranchInputViewModel=pt;wt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.projectId=i.observable(null),f.tagsViewModel=new k.TagsViewModel,f._getDisposalManager().addDisposable(f.projectId.subscribe(function(n){f.tagsViewModel.projectId(n)})),f._getDisposalManager().addDisposable(f.value.subscribe(function(n){$.trim(n)!==""&&f.isQueryRequired.valueHasMutated()})),f}return __extends(t,n),t.prototype.getValue=function(){return!this.tagsViewModel||!this.tagsViewModel.tags()?this.value(s.empty):this.value(this.tagsViewModel.tags().join(d.TagControl.TAG_FORMATTING_SEPARATOR)),this.value()},t.prototype.updateValues=function(t,i){var r,u;n.prototype.updateValues.call(this,t,i);b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,l.ArtifactDefinitionConstants.ProjectId)&&i[l.ArtifactDefinitionConstants.ProjectId].id&&this.projectId(i[l.ArtifactDefinitionConstants.ProjectId].id);r=s.empty;b.ReleaseArtifactsHelper.hasDefinitionReferenceProperty(i,t.inputId)&&i[t.inputId].id&&s.localeIgnoreCaseComparer(i[t.inputId].id,s.empty)!==0&&(r=i[t.inputId].id);u=!r?[]:r.split(d.TagControl.TAG_SPLITTING_SEPARATOR);this.tagsViewModel.tags(u)},t}(ut);t.TagsInputViewModel=wt;ni=function(){function n(n,t,r){var u=this;this.name=i.observable("");this.displayName=i.observable("");this.iconCssClass=i.observable("");this.inputDescriptors=i.observableArray([]);this.artifactsChangeNotifier=i.observable(!1);this.serviceErrorMessage=i.observable(s.empty);this.sourceAliasTooltip=v.ArtifactSourceAliasHelpText;this._inputsMap={};this._inputViewModels=[];this._disposalManager=new o.DisposalManager;this._artifactTypeModel=n;this._model=t;this._update(n,r);this._dependencyValuesTracker=this._disposalManager.addDisposable(new bt(n,this._inputViewModels,this._model));this._disposalManager.addDisposable(this._dependencyValuesTracker.artifactsChangeNotifier.subscribe(function(){u.artifactsChangeNotifier.valueHasMutated()}));this._disposalManager.addDisposable(this._dependencyValuesTracker.serviceErrorMessage.subscribe(function(n){u.serviceErrorMessage(n)}))}return n.prototype.getInputViewModel=function(n){return this._inputsMap[n]},n.prototype.initializeDefaultValues=function(n){this._dependencyValuesTracker.initializeValues(n)},n.prototype.changeInputDescriptorsToReadOnly=function(n){$.each(this.inputDescriptors(),function(t,i){i.setIsReadOnly(n)})},n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.getActualSourceReference=function(){var n={};return this.inputDescriptors().forEach(function(t){s.ignoreCaseComparer(t.id(),l.ArtifactDefinitionConstants.ArtifactId)!==0&&(n[t.id()]={name:t.value(),id:t.getValue()})}),n},n.prototype.isAjaxRequestInProgress=function(){return this._dependencyValuesTracker.ajaxRequestsInProgress()>0},n.prototype.isDependentsUpdateInProgress=function(){return this._dependencyValuesTracker.dependentsUpdateInProgress()},n.prototype.validate=function(n){var t=[],i=[],r;return(this.inputDescriptors().forEach(function(n){n.id()===l.ArtifactDefinitionConstants.ArtifactId?n.isInvalid()&&(t.push(n.name()),i.push(n.id())):n.isVisible()&&n.isInvalid()&&(t.push(n.name()),i.push(n.id()))}),t.length>0)?n?(this.serviceErrorMessage(s.empty),r=v.ArtifactTypeFieldDeletedErrorMessage,i.indexOf(l.ArtifactDefinitionConstants.DefinitionId)>=0?r=v.ArtifactTypeFieldDeletedErrorMessage:i.indexOf(y.ArtifactDefaultVersionConstants.DefaultVersionBranch)>=0?r=v.ArtifactTypeFieldBranchDeletedErrorMessage:i.indexOf(y.ArtifactDefaultVersionConstants.DefaultVersionSpecific)>=0&&(r=v.ArtifactTypeFieldVersionDeletedErrorMessage),s.localeFormat(r,t.join(", "))):s.localeFormat(v.ArtifactTypeInvalidFieldsErrorMessage,t.join(", ")):null},n.prototype._update=function(n,t){var i=this;this.name(n.name);this.displayName(n.displayName);this.iconCssClass(b.ArtifactHelper.getArtifactIconCssClass(n.name));this._inputsMap={};this._inputViewModels=[];$.each(n.inputDescriptors,function(n,r){var u=i._createInputViewModel(r,t);i.inputDescriptors.push(u);u.id()===l.ArtifactDefinitionConstants.ArtifactId&&u.getInputValues()&&i.artifactsChangeNotifier.valueHasMutated()})},n.prototype._createInputViewModel=function(n,t){var r=this._getValidator(n.validation),i;return i=n.inputMode===e.InputMode.Combo?s.localeIgnoreCaseComparer(n.id,y.ArtifactDefaultVersionConstants.DefaultVersionBranch)===0?new pt(n,r,!!t):s.localeIgnoreCaseComparer(n.id,y.ArtifactDefaultVersionConstants.DefaultVersionTags)===0?new wt(n,r,!!t):new vt(n,r,!!t):n.inputMode===e.InputMode.CheckBox?new yt(n,r,!!t):new at(n,r,!!t),this._inputViewModels.push(i),this._inputsMap[n.id]=i,this._disposalManager.addDisposable(i),this._addEndpointLink(i,n),!t||(i.templateName=t),i},n.prototype._addEndpointLink=function(n,t){this._artifactTypeModel.name!==y.ArtifactTypes.Build&&t.id===l.ArtifactDefinitionConstants.ConnectionId&&n.setShowManageServicesLink(!0)},n.prototype._getValidator=function(n){var t;switch(n.dataType){case e.InputDataType.String:t=new et(n);break;case e.InputDataType.Guid:t=new ct(n);break;case e.InputDataType.Number:t=new ht(n);break;case e.InputDataType.Uri:t=new lt(n);break;case e.InputDataType.Boolean:t=new st(n);break;case e.InputDataType.None:default:t=new ft(n)}return t},n}();t.ArtifactTypeViewModel=ni;bt=function(){function n(n,t,r){this.artifactsChangeNotifier=i.observable(!1);this.serviceErrorMessage=i.observable(s.empty);this.ajaxRequestsInProgress=i.observable(0);this.dependentsUpdateInProgress=i.observable(!1);this._dependencyMap={};this._inputsMap={};this._disposalManager=new o.DisposalManager;this._artifactType=n;this._inputViewModels=t;this._model=r;this._buildDependencyMap();this._addValueChangedSubscription()}return n.prototype.initializeValues=function(n){this._definitionReference=n;var t=[];this._inputViewModels.forEach(function(i){var r={};r.inputId=i.id();i.getDependencyInputIds().length===0&&i.hasDynamicValues()?t.push(r):i.hasDynamicValues()||!!i.getInputValues()&&!!i.getInputValues().possibleValues&&!r.possibleValues||i.updateValues(r,n)});this._queryInputValuesAndUpdate({},t,this._definitionReference)},n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype._buildDependencyMap=function(){var n=this;this._inputViewModels.forEach(function(t){var i=t.getDependencyInputIds();i&&i.length>0&&i.forEach(function(i){n._dependencyMap[i]||(n._dependencyMap[i]=[]);n._dependencyMap[i].push(t)});n._inputsMap[t.id()]=t})},n.prototype._addValueChangedSubscription=function(){var n=this;this._inputViewModels.forEach(function(t){n._hasDependents(t.id())&&(n._disposalManager.addDisposable(t.isQueryRequired.subscribe(function(){n._handleValueChanged(t,t.value())})),n._disposalManager.addDisposable(t.isValueUpdated.subscribe(function(){var i=n._dependencyMap[t.id()];n._clearDependents(i,[])})))})},n.prototype._hasDependents=function(n){var t=this._dependencyMap[n];return t&&t.length>0},n.prototype._handleValueChanged=function(n,i){var e=this,r,o,f,u;(!t.artifactEditorMessageContext||t.artifactEditorMessageContext.clear(),n.isInvalid())||(this.dependentsUpdateInProgress(!0),r=this._dependencyMap[n.id()],o=[],r.forEach(function(t){o.push(t.id.peek());s.localeIgnoreCaseComparer(n.id(),y.ArtifactDefaultVersionConstants.DefaultVersionType)===0&&t.isVisible(t.isInputVisibile(n.id(),i,n.getValue()))}),this._clearDependents(r,[]),f=[],u={},r.forEach(function(n){var r=!1,t={},o,i;if(n.getDependencyInputIds().forEach(function(i){if(!r){var u=e._inputsMap[i];u.value()?t[u.id()]=e._getCurrentValue(u.value(),u.getInputValues()):s.localeIgnoreCaseComparer(n.id(),l.ArtifactDefinitionConstants.ArtifactId)===0?t[u.id()]=s.empty:r=!0}}),!r){o={};o.inputId=n.id();f.push(o);for(i in t)u[i]||(u[i]=t[i])}}),this._queryInputValuesAndUpdate(u,f,this._definitionReference))},n.prototype._getCurrentValue=function(n,t){if(t&&t.possibleValues&&t.possibleValues.length>0&&t.isLimitedToPossibleValues){var i=h.first(t.possibleValues,function(t){return t.displayValue===n});return i||(i=h.first(t.possibleValues,function(t){return t.value===n})),i?i.value?i.value:i.displayValue:""}return n},n.prototype._queryInputValuesAndUpdate=function(n,i,r){var u=this,e=[],o;i.forEach(function(t){var i;if(s.localeIgnoreCaseComparer(t.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionBranch)===0||s.localeIgnoreCaseComparer(t.inputId,y.ArtifactDefaultVersionConstants.DefaultVersionTags)===0)if(i=u._inputsMap[t.inputId],!r){var f={},o=n[l.ArtifactDefinitionConstants.ProjectId],h=n[l.ArtifactDefinitionConstants.DefinitionId];f[l.ArtifactDefinitionConstants.ProjectId]={id:o,name:o};f[l.ArtifactDefinitionConstants.DefinitionId]={id:h,name:h};i.updateValues(t,f)}else i.updateValues(t,r);else e.push(t)});o={currentValues:n,inputValues:e,resource:this._artifactType.name};this.ajaxRequestsInProgress(this.ajaxRequestsInProgress.peek()+1);this._model.queryInputValues(o).then(function(t){t&&t.inputValues.forEach(function(i){var e,o;i.possibleValues&&i.possibleValues.length>0&&i.possibleValues.sort(function(n,t){return s.localeIgnoreCaseComparer(n.displayValue,t.displayValue)});e=u._inputsMap[i.inputId];i.error&&$.trim(i.error.message)!==s.empty?u.serviceErrorMessage(s.localeFormat(v.InputValueQueryError,e?s.htmlEncode(e.name()):s.empty,s.htmlEncode(i.error.message))):e&&(u.serviceErrorMessage(s.empty),o=f.getDefaultWebContext().project.id,!n||(o=n[l.ArtifactDefinitionConstants.ProjectId]),e.updateValues(i,r,t.resource,o));e&&s.localeIgnoreCaseComparer(e.id(),l.ArtifactDefinitionConstants.ArtifactId)===0&&u.artifactsChangeNotifier.valueHasMutated();e&&s.localeIgnoreCaseComparer(e.id(),l.ArtifactDefinitionConstants.DefinitionId)===0&&u.artifactsChangeNotifier.valueHasMutated()});u.ajaxRequestsInProgress(u.ajaxRequestsInProgress.peek()-1)},function(n){!t.artifactEditorMessageContext||t.artifactEditorMessageContext.logError(w.ErrorHelper.getErrorMessage(n));u.ajaxRequestsInProgress(u.ajaxRequestsInProgress.peek()-1)});this.dependentsUpdateInProgress(!1)},n.prototype._clearDependents=function(n,t){var i=this,r=[];n.forEach(function(n){n.clear();n.id()===l.ArtifactDefinitionConstants.ArtifactId&&i.artifactsChangeNotifier.valueHasMutated();i._dependencyMap[n.id.peek()]&&i._dependencyMap[n.id.peek()].forEach(function(n){h.contains(t,n.id.peek())||(t.push(n.id.peek()),r.push(n))})});r.length>0&&this._clearDependents(r,t)},n}();t.DependentValuesTracker=bt;kt=function(){function n(n,t){this.artifact=i.observable(null);this._originalArtifact=jQuery.extend(!0,{},n);this._update(n);this.id=t==undefined?w.GUIDUtils.newGuid():t}return n.prototype.getValue=function(){return this.artifact()},n.prototype.getOriginalArtifact=function(){return this._originalArtifact},n.prototype._update=function(n){!n||this.artifact(jQuery.extend(!0,{},n))},n}();t.ArtifactViewModel=kt;ti=function(){function n(n){this.artifactsList=i.observableArray([]);this.update(n);this._changeTracker=new b.ChangeTracker(this)}return n.prototype.removeArtifact=function(n){var t=this.getArtifact(n);t&&this.artifactsList.remove(t)},n.prototype.setPrimaryArtifact=function(n){var i=this.artifactsList(),f=i.length,r,t,e,u;if(n)for(n.artifact().isPrimary=!0,this.updateArtifactInList(n),r=0;r<f;r++)t=i[r],s.localeIgnoreCaseComparer(n.artifact().alias,t.artifact().alias)!==0&&t.artifact().isPrimary&&(t.artifact().isPrimary=!1,this.updateArtifactInList(t));else f>0&&(e=h.first(i,function(n){return n.artifact.peek().isPrimary}),e||(u=i[0],u.artifact().isPrimary=!0,this.updateArtifactInList(u)))},n.prototype.updateArtifactInList=function(n){this.updateArtifactModel(n);this.artifactsList.valueHasMutated()},n.prototype.update=function(n){this._originalArtifacts=n||[];this._update(this._originalArtifacts)},n.prototype.updateArtifactModel=function(n){for(var i=this.artifactsList(),r=i.length,t=0;t<r;t++)s.ignoreCaseComparer(n.id,i[t].id)===0&&i[t].artifact(n.artifact())},n.prototype.addArtifacts=function(n){var t=this;n.forEach(function(n){t._addArtifact(n)});this.setPrimaryArtifact()},n.prototype.hasArtifactSource=function(n){for(var i=this.artifactsList(),r=i.length,t=0;t<r;t++)if(n===i[t].artifact().definitionReference[l.ArtifactDefinitionConstants.DefinitionId].id)return!0;return!1},n.prototype.hasDuplicateArtifactAlias=function(n){var i,r,t;if(n)for(i=this.artifactsList(),r=i.length,t=0;t<r;t++)if(n.id!==i[t].id&&s.localeIgnoreCaseComparer(n.getValue().alias,i[t].artifact().alias)===0)return!0;return!1},n.prototype.getValue=function(){return $.map(this.artifactsList(),function(n){return n.getValue()})},n.prototype.computeDirty=function(){var n=this.artifactsList(),t=this._originalArtifacts||[];return n.length!==t.length?!0:this._computeDirty(n,t)},n.prototype.dispose=function(){this._disposeArtifactsList();this._changeTracker.dispose()},n.prototype.hasArtifactInList=function(){return this.artifactsList().length>0},n.prototype.getArtifact=function(n){return h.first(this.artifactsList(),function(t){return s.ignoreCaseComparer(n,t.artifact().alias)===0})},n.prototype.artifactDefinitionHasChanged=function(n,t){if(n.isPrimary!==t.isPrimary||s.localeIgnoreCaseComparer(n.alias,t.alias)!==0||s.localeIgnoreCaseComparer(n.type,t.type)!==0)return!0;var i=n.definitionReference,r=t.definitionReference,f=l.ArtifactDefinitionConstants.DefinitionId;if(s.localeIgnoreCaseComparer(i[f].name,r[f].name)!==0||s.localeIgnoreCaseComparer(i[f].id,r[f].id)!==0)return!0;var o=y.ArtifactDefaultVersionConstants.DefaultVersionType,h=y.ArtifactDefaultVersionConstants.DefaultVersionBranch,c=y.ArtifactDefaultVersionConstants.DefaultVersionTags,a=y.ArtifactDefaultVersionConstants.DefaultVersionSpecific,v=y.ArtifactDefaultVersionConstants.LatestWithBranchAndTags,p=y.ArtifactDefaultVersionConstants.SpecificVersion,u=i[o],e=r[o];return!u&&!e?!1:!u&&e||u&&!e?!0:s.localeIgnoreCaseComparer(u.id,e.id)!==0?!0:s.localeIgnoreCaseComparer(u.id,v)===0&&(!this._artifactSourceReferenceIsIdentical(i[h],r[h])||!this._tagsAreIdentical(i[c],r[c]))?!0:s.localeIgnoreCaseComparer(u.id,p)===0&&!this._artifactSourceReferenceIsIdentical(i[a],r[a])?!0:!1},n.prototype._artifactSourceReferenceIsIdentical=function(n,t){var i=!n?s.empty:n.id,r=!t?s.empty:t.id;return s.localeIgnoreCaseComparer(i,r)===0},n.prototype._tagsAreIdentical=function(n,t){var r=!n?null:n.id,u=!t?null:t.id,f=!r?[]:r.split(d.TagControl.TAG_SPLITTING_SEPARATOR),e=!u?[]:u.split(d.TagControl.TAG_SPLITTING_SEPARATOR),i;return f.length!=e.length?!1:(i=!0,f.forEach(function(n){e.some(function(t){return s.localeIgnoreCaseComparer(t.trim(),n.trim())===0})||(i=!1)}),i)},n.prototype._computeDirty=function(n,t){var r=this,i=!1,u=t.sort(function(n,t){return s.localeIgnoreCaseComparer(n.alias,t.alias)}),f=n.sort(function(n,t){return s.localeIgnoreCaseComparer(n.artifact().alias,t.artifact().alias)});return $.each(u,function(n,t){var u=f[n].artifact(),e=t,o,s;if(r.artifactDefinitionHasChanged(u,e)){i=!0;return}if(o=p.Artifact.create(u).getVersionRankAsString(),s=p.Artifact.create(e).getVersionRankAsString(),o!==s){i=!0;return}}),i},n.prototype._addArtifact=function(n){var t=new kt(n);this.artifactsList.push(t)},n.prototype._update=function(n){this._disposeArtifactsList();this.addArtifacts(n)},n.prototype._disposeArtifactsList=function(){this.artifactsList([])},n}();t.ArtifactsListViewModel=ti;ot=function(){function n(){var n=this;this.isHoverEnabled=i.observable(!1);this.ignoreValidation=i.observable(!0);this.name=i.observable("");this.path=i.observable("");this.description=i.observable("");this.isNameValid=i.computed(function(){return n._isValidArtifactName(n.name())});this.isPathValid=i.computed(function(){return!!n.path()&&n.path().trim()!==""});this._changeTracker=new b.ChangeTracker(this);this._changeTracker.addDisposable(this.isNameValid);this._changeTracker.addDisposable(this.isPathValid)}return n.prototype.dispose=function(){this._changeTracker.dispose()},n.prototype.computeDirty=function(){return!!$.trim(this.name())||!!$.trim(this.path())||!!$.trim(this.description())},n.prototype.isValidName=function(){return this.isNameValid()},n.prototype.isValidPath=function(){return this.isPathValid()},n.prototype.validateName=function(){return!this.dirty()||this.isValidName()?!0:(this.ignoreValidation()&&this.ignoreValidation(!1),!1)},n.prototype.validatePath=function(){return!this.dirty()||this.isValidPath()?!0:(this.ignoreValidation()&&this.ignoreValidation(!1),!1)},n.prototype.enableHover=function(){this.isHoverEnabled(!0)},n.prototype.disableHover=function(){this.isHoverEnabled(!1)},n.prototype._isValidArtifactName=function(n){return!!n&&n.trim()!==""&&RegExp(y.RegExConstants.ArtifactTypeNameRegEx).test(n)},n}();t.NewArtifactDefinitionViewModel=ot;ii=function(){function n(){this.initialize();this._changeTracker=new b.ChangeTracker(this)}return n.prototype.initialize=function(){this.newArtifactDefinitions?this.newArtifactDefinitions().length>0&&this.newArtifactDefinitions([]):this.newArtifactDefinitions=i.observableArray();this.newArtifactDefinitions.push(new ot)},n.prototype.addArtifactDefinition=function(){this.newArtifactDefinitions.push(new ot)},n.prototype.computeDirty=function(){var n=h.first(this.newArtifactDefinitions(),function(n){return n.dirty()});return!!n},n.prototype.dispose=function(){$.each(this.newArtifactDefinitions(),function(n,t){t.dispose()});this._changeTracker.dispose()},n.prototype.validateName=function(){return this.isEmpty()||this.isValidName()||this.isDuplicate()},n.prototype.validatePath=function(){return this.isEmpty()||this.isValidPath()},n.prototype.isValidName=function(){var n=!0;return(this.newArtifactDefinitions().forEach(function(t){if(!t.validateName()){n=!1;return}}),!n)?v.ArtifactNameInvalidErrorMessage:null},n.prototype.isValidPath=function(){var n=!0;return(this.newArtifactDefinitions().forEach(function(t){if(!t.validatePath()){n=!1;return}}),!n)?v.ArtifactPathEmptyErrorMessage:null},n.prototype.isEmpty=function(){var n=!0;return(this.newArtifactDefinitions().forEach(function(t){t.dirty()&&(n=!1)}),n)?v.ArtifactListEmptyErrorMessage:null},n.prototype.isDuplicate=function(){var n=[],t={};return(this.newArtifactDefinitions().forEach(function(i){var r=i.name().trim().toLowerCase();t[r]&&n.push(i.name().trim());t[r]=!0}),n.length>0)?s.format(v.ArtifactAlreadyExistErrorMessage,n.join(", ")):null},n}();t.NewArtifactDefinitionsListViewModel=ii;dt=function(){function n(n,t,i){this.displayNameWithFolder=n;this.displayNameWithoutFolder=t;this.id=i}return n}();t.BuildDefinitionModel=dt;u.tfsModuleLoaded("TFS.ReleaseManagement.Artifacts.ObjectViewModel",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.LoadEnvironmentTemplatesDialog",["require","exports","knockout","q","VSS/VSS","VSS/Controls","VSS/Controls/Combos","VSS/Controls/Dialogs","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","DistributedTasksCommon/TFS.Tasks.Models","DistributedTasksCommon/TFS.Tasks.Common.Dialogs","TFS/Build/Contracts","DistributedTasksCommon/TFS.Knockout.HubPageExplorerPivot","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.Presentation.Identities","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleaseManagement/Core/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.EditorSnapshots","ReleasePipeline/Scripts/TFS.ReleaseManagement.Artifacts.ObjectViewModel","ReleasePipeline/Scripts/TFS.ReleaseManagement.WebApiServices","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager","ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils","ReleaseManagement/Core/Constants","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){var vt,yt,pt,ct,lt,wt,at,bt,kt,dt,ni;Object.defineProperty(t,"__esModule",{value:!0});var ti=h.delegate,ii=l.domElem,gt=function(){function n(n,t,i,r,u){this.id="";this.name="";this.description="";this._template=n;this._deleteFunction=t;this._deleteFunctionCallback=i;this.iconUrl=r||"";this._errorCallback=$.isFunction(u)?u:!k.currentContext?function(){}:ti(k.currentContext,k.currentContext.logError);this.id=n.id;this.name=n.name;this.description=n.description;this.canDelete=n.canDelete}return n.prototype.deleteCommand=function(){var n=this,t;this.canDelete&&$.isFunction(this._deleteFunction)&&$.isFunction(this._deleteFunctionCallback)&&(t=this._deleteFunction(this._template,function(t){t.then(n._deleteFunctionCallback,n._errorCallback)}))},n}();t.EnvironmentTemplateViewModel=gt;vt=function(n){function t(t,r,u){var f=__construct(this,n,[t,r,u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.templateVMs=i.observableArray([]),f}return __extends(t,n),t.prototype.removeTemplate=function(n){var t=s.findIndex(this.templateVMs(),function(t){return c.localeIgnoreCaseComparer(t.id,n.id)===0}),i;t>=0&&(i=this.templateVMs.peek()[t],this.templateVMs.remove(i),this.templateVMs.sort(function(n,t){return c.localeIgnoreCaseComparer(n.name,t.name)}))},t}(p.BasicPivotTab);t.EnvironmentTemplatesDialogPivotTab=vt;yt=function(n){function t(t,r,u){var f=__construct(this,n,[u]);for(var e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f.pageTemplate="environment_templates_page",f.pageCss="environment-templates-page-css",f.tabsHeaderCss="release-template-tabs new-exp",f.emptyDefinitionTab=i.observable(null),f.isInvalid=i.observable(!0),f.isInitialized=i.observable(!1),f.selectedTemplateId=i.observable(c.empty),f._templatesMap={},f._templates=[],f._iconUrlMap={},f._selectedTabId=c.empty,f._customTab=null,f._pageHtml="\n    <div class='"+f.tabsHeaderCss+"'>\n        <div class='bg-color-paint'>\n            <ul class='pivot-view releasemanagement-tabs new-exp' data-bind='foreach: tabs'>\n                <li data-bind=\"css: { 'selected': isSelected }, visible: isVisible, attr: {'tabindex': ((isSelected() == true) ? '0' : '-1'), 'title': title, 'aria-selected':isSelected }, click: $parent._onTabClick, event: { keydown: $parent._onTabKeyDown }\">\n                    <a data-bind='text: text'><\/a>\n                <\/li>\n            <\/ul>\n        <\/div>\n    <\/div>\n    <div class='releasemanagement-load-templates-dialog new-exp'>\n       <!-- ko foreach: tabs -->\n       <div class='tab-content-container' data-bind='visible: isSelected'>\n           <div data-bind='applyTemplate: { templateName: templateName, viewModel: $data }'><\/div>\n       <\/div>\n       <!-- /ko -->\n    <\/div>\n    <div class='template-empty-def-release-management new-exp'>\n       <!-- ko if: emptyDefinitionTab -->\n       <div data-bind='applyTemplate: { templateName: emptyDefinitionTab().templateName, viewModel: emptyDefinitionTab }'><\/div>\n       <!-- /ko -->\n    <\/div>",f._templatesTabTemplate="environment_templates_tab_content",f._templatesTabHTML="\n    <ul class='templates-list new-exp' data-bind='foreach: templateVMs, attr: { id: id }'>\n        <li tabindex='0' class='templates-list-item' data-bind='attr: { id: id, \"aria-label\": name, \"aria-describedby\": id + \"-description\" }, css: id'>\n            <div class='icon bowtie-icon ' data-bind='visible: iconUrl'>\n                <img data-bind='attr: { src: iconUrl }' />\n            <\/div>\n            <!-- ko ifnot: iconUrl -->\n            <div class='icon bowtie-icon empty' />\n            <!-- /ko -->\n            <div class='templates-list-item-details'>\n                <div class='releasemanagement-dialog-item-title' data-bind='text: name' />\n                <div class='templates-list-item-description' data-bind='text: description, attr: { id: id + \"-description\" } ' />\n            <\/div>\n            <div class='templates-list-item-delete' data-bind='visible: canDelete'>\n                <a data-bind='click: deleteCommand'>\n                    <span class='bowtie-icon bowtie-edit-delete' data-bind='attr: {title: ko.RMUtils.getRMResource(\"DeleteTemplate\")}' />\n                <\/a>\n            <\/div>\n        <\/li>\n    <\/ul>",f._templates=t,f._iconUrlMap=r,f._selectedTabId=!u.selectedTabId?d.TemplateCategoryDeployment:u.selectedTabId,f._changeTracker=new tt.ChangeTracker(f),f._onTabClick=function(n){var t=!n?c.empty:n.id;f.selectedTab(t)},f._onTabKeyDown=function(n,t){return nt.AccessibilityHelper.triggerClickOnEnterPress(t)},f._changeTracker.addDisposable(f.selectedTab.subscribe(function(n){f.hubTitleContent(n)})),nt.HtmlHelper.renderTemplateIfNeeded(f._templatesTabTemplate,f._templatesTabHTML),nt.HtmlHelper.renderTemplateIfNeeded(f.pageTemplate,f._pageHtml),f._createTemplatesMap(),f._initTabs(),f.hubTitleContent(f.selectedTab()),f.selectedTemplateId.valueHasMutated(),f.isInitialized(!0),f}return __extends(t,n),t.prototype.computeDirty=function(){return this.isInvalid(!this.selectedTemplateId()),this.isInvalid()},t.prototype.dispose=function(){!this._changeTracker||this._changeTracker.dispose()},t.prototype._createTemplatesMap=function(){var n=this;$.each(this._templates,function(t,i){var r=n._getCategory(i.category||"");n._templatesMap.hasOwnProperty(r)?n._templatesMap[r].push(i):n._templatesMap[r]=[i]})},t.prototype._initTabs=function(){var n=this,t=null;this.tabs([]);$.map(this._templatesMap,function(r,u){var f=new vt(u,u,n._templatesTabTemplate),e=[];$.each(r,function(t,i){var r=n._iconUrlMap.hasOwnProperty(i.id)?n._iconUrlMap[i.id]:c.empty;e.push(new gt(i,n._deleteTemplate,function(){f.removeTemplate(i);c.ignoreCaseComparer(i.id,n.selectedTemplateId.peek())===0&&n.selectedTemplateId(c.empty)},r))});e.sort(function(n,t){return c.localeIgnoreCaseComparer(n.name,t.name)});f.templateVMs=i.observableArray(e);switch(u){case d.TemplateCategoryCustom:t=f;break;case d.TemplateCategoryEmpty:n.emptyDefinitionTab(f);break;default:c.localeIgnoreCaseComparer(u,n._selectedTabId)===0&&f.isSelected(!0);n.tabs.push(f)}});this.tabs.sort(function(n,t){return c.localeIgnoreCaseComparer(n.id,t.id)});!t||this.tabs.push(t);this.selectedTab(this._selectedTabId)},t.prototype._deleteTemplate=function(n,t){ht.DialogUtils.confirm(c.localeFormat(d.ConfirmDeleteEnvironmentTemplate,n.name),function(i){i?t(w.serviceContext.releaseDefinitionManager().deleteEnvironmentTemplate(n.id)):t(r.defer().promise)},d.DeleteEnvironmentConfirmationTitle)},t.prototype._isEmptyTemplate=function(n){return n.id.toLowerCase()==="00000000-0000-0000-0000-000000000000"},t.prototype._getCategory=function(n){switch(n.toLowerCase()){case"deployment":return d.TemplateCategoryDeployment;case"custom":return d.TemplateCategoryCustom;case"empty":return d.TemplateCategoryEmpty;default:return d.TemplateCategoryOther}},t}(p.HubPageExplorerPivotBase);t.EnvironmentTemplatesPageViewModel=yt;pt=function(n){function t(){var t=__construct(this,n,arguments);for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return t.tooltip=i.computed(function(){return tt.ArtifactHelper.getArtifactTooltip(t.name())}),t}return __extends(t,n),t}(ut.ArtifactTypeViewModel);t.ArtifactTypeExtendedViewModel=pt;ct=function(){function n(n){this.isInvalid=i.observable(!0);this.isInitialized=i.observable(!1);this.errorMessage=i.observable(c.empty);this.selectedArtifactType=i.observable(null);this.artifactChanged=i.observable(!0);this.artifactTypes=i.observableArray([]);this.enableCI=i.observable(!1);this.selectedTemplateId=i.observable(c.empty);this.selectedTemplate=i.observable(null);this.labelForEnvironmentAdd=i.observable(c.empty);this.labelForEnvironmentClone=i.observable(c.empty);this.labelForTrigger=i.observable(c.empty);this.enableTrigger=i.observable(!1);this.preApprovalRadioButtonValue=i.observable(it.ApprovalRadioButtonTypes.IsAutomated);this.preApprovalCount=i.observable(0);this.environment=null;this.operationType=null;this.lastEnvironmentName=c.empty;this.pageTemplate="environment_settings_page";this.pageCss="env-set-page-css";this.preApprovalComboElementCss="pre-app-spec-combo-cell";this._artifactTypeMap={};this._invalidResourceId=-1;this._options=null;this._originalTemplateId=c.empty;this._artifactTypesPromise=null;this._artifactService=null;this._pageHtml="\n    <div class='env-set-global'>\n        <!-- ko if: labelForEnvironmentClone -->\n        <div class='env-clone-setting-text pad-min'>\n            <label data-bind='text: labelForEnvironmentClone, attr: {title: labelForEnvironmentClone}' />\n        <\/div>\n        <!-- /ko -->\n\n        <div class='artifacts-container' data-bind='visible: !labelForEnvironmentAdd()'>\n            <div class='pad-min'>\n                <div class='arti-header'>\n                    <span class='artifacts-name'>"+d.EnvironmentSettingsArtifactsText+"<\/span>\n                <\/div>\n                <div class='horizontal-line splitter horizontal env-set-section-head-splitter' />\n                <div class='artifacts-description'>\n                    <label>"+d.EnvironmentSettingsArtifactsDescriptionText+"<\/label>\n                <\/div>\n\n                <div class='artifacts'>\n                    <table>\n                        <tr role='tablist'>\n                            <!--ko foreach: artifactTypes -->\n                            <td class='no-pad border'>\n                                <div class='artifact-block' role='tab' tabindex='0' data-bind=\"css: { 'selected': (!!$parent.selectedArtifactType() && $parent.selectedArtifactType().name() === $data.name()) }, attr: { id: name }, showRichContentTooltip: { text: tooltip, setAriaDescribedBy: true }, click: $parent.artifactTypeClicked.bind($parent, $data.name()), event: { keydown: $parent.keyDownOnArtifactType.bind($parent, $data.name()) }\">\n                                    <!-- ko if: name() === '"+it.ArtifactTypes.JenkinsId+"' -->\n                                    <div data-bind=\"attr: { 'aria-label': displayName, 'class': 'block-image ' + iconCssClass()}\" />\n                                    <!--/ko-->\n                                    <!-- ko ifnot: name() === '"+it.ArtifactTypes.JenkinsId+"' -->\n                                    <div data-bind=\"attr: { 'class': 'block-image ' + iconCssClass()}\" />\n                                    <span class='block-text' data-bind='text: displayName' />\n                                    <!--/ko-->\n                                <\/div>\n                            <\/td>\n                            <!--/ko-->\n                            <td class='no-pad'>\n                                <div class='artifact-block' role='tab' tabindex='0' id='choose_later' data-bind=\"showRichContentTooltip: { text: ko.RMUtils.getRMResource('ChooseLaterOptionTooltipText'), setAriaDescribedBy: true }, css: { 'selected': (!$data.selectedArtifactType()) }, click: $data.artifactTypeClicked.bind($data, ''), event: { keydown: $data.keyDownOnArtifactType.bind($data, '') }\">\n                                    <div class='block-image' />\n                                    <span class='block-text'>"+d.EnvironmentSettingsArtifactsChooseLaterText+"<\/span>\n                                <\/div>\n                            <\/td>\n                        <\/tr>\n                    <\/table>\n                <\/div>\n            <\/div>\n\n            <!-- ko if: selectedArtifactType -->\n            <div class='input-container'>\n                <!-- ko with: selectedArtifactType -->\n                <table class='aritfact-type-editor-input-table'>\n                    <tbody data-bind='foreach: inputDescriptors'>\n                        <!-- ko if: mode !== 'none' -->\n                        <tr>\n                            <td class='pad-it'>\n                                <table>\n                                    <tbody data-bind='template: { name: templateName }' />\n                                <\/table>\n                            <\/td>\n                        <\/tr>\n                        <!-- /ko -->\n                    <\/tbody>\n                <\/table>\n                <!-- /ko -->\n            <\/div>\n            \n            <!-- ko if: (selectedArtifactType().name() === '"+it.ArtifactTypes.Build+"') -->\n            <div class='build-ci'>\n                <input id='build-ci' tabindex='0' type='checkbox' data-bind='checked: enableCI' />\n                <label for='build-ci'>"+d.ContinuousDeploymentForBuildCompleteLabelText+"<\/label>\n            <\/div>\n            <!-- /ko -->\n            \n            <!-- /ko -->\n        <\/div>\n\n        <!-- ko if: labelForEnvironmentAdd -->\n        <div class='pre-app-container'>\n            <div class='pad-min'>\n                <div class='pre-app-header'>\n                    <span>"+d.PreDeploymentApproval+"<\/span>\n                <\/div>\n                <div class='horizontal-line splitter horizontal env-set-section-head-splitter' />\n                <div class='pre-app-des'>\n                    <label>"+d.AddEnvironmentPreApprovalDescription+"<\/label>\n                <\/div>\n            <\/div>\n            <div class='pre-app-auto-head'>\n                <input id='pre-app-auto' type='radio' tabindex='0' name='preApprovalRadioButton' value='"+it.ApprovalRadioButtonTypes.IsAutomated+"' data-bind='checked: preApprovalRadioButtonValue' />\n                <label for='pre-app-auto'>"+d.PreApprovalAutomaticApproval+"<\/label>\n            <\/div>\n            <div class='pre-app-spec-head'>\n                <input id='pre-app-spec' type='radio' tabindex='0' name='preApprovalRadioButton' value='"+it.ApprovalRadioButtonTypes.SpecificUsers+"' data-bind='checked: preApprovalRadioButtonValue' />\n                <label for='pre-app-spec'>"+d.PreApprovalSpecificUsers+"<\/label>\n            <\/div>\n            <div class='"+this.preApprovalComboElementCss+"' data-bind=\"css : {'invalid': (preApprovalCount() <= 0)}, visible: preApprovalRadioButtonValue() === '"+it.ApprovalRadioButtonTypes.SpecificUsers+"'\" />\n        <\/div>\n\n        <div class='trig-container'>\n            <div class='pad-min'>\n                <div class='trig-header'>\n                    <span>"+d.EnvironmentDeploymentConditionsTitle+"<\/span>\n                <\/div>\n                <div class='horizontal-line splitter horizontal env-set-section-head-splitter' />\n            <\/div>\n            <div class='trig' data-bind='visible: labelForTrigger'>\n                <input tabindex='0' id='trig-check' type='checkbox' data-bind='checked: enableTrigger' />\n                <label for='trig-check' data-bind='text: labelForTrigger, attr: {title: labelForTrigger}' />\n            <\/div>\n        <\/div>\n        <!-- /ko -->\n    <\/div>";this._inputTemplate="input_desc_set";this._inputTemplateHtml="\n    <tr data-bind='visible: isVisible()'>\n        <td class='key-field'>\n            <!-- ko if: mode !== 'none' -->\n            <label data-bind=\"html: displayName, attr: { for: id, title: description}, css: { 'bold-text': isInvalid() }\" />\n            <!-- /ko -->\n        <\/td>\n    <\/tr>\n    <tr data-bind='visible: isVisible()'>\n        <td class='value-field fixed-size'>\n            <!-- ko if: mode === 'checkbox' -->\n            <input type='checkbox' data-bind=\"attr: { id: id }, checked: value, css: { 'invalid': isInvalid() }, disable: isReadOnly\" />\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'textbox' -->\n            <input type='text' data-bind=\"attr: { id: id }, value: value, valueUpdate: ['blur', 'afterkeydown'], css: { 'invalid': isInvalid() }, disable: isReadOnly, event: { blur: handleFinalValue }\" />\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'password' -->\n            <input type='password' data-bind=\"attr: { id: id }, value: value, valueUpdate: ['blur', 'afterkeydown'], css: { 'invalid': isInvalid() }, disable: isReadOnly, event: { blur: handleFinalValue }\" />\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'combo' && id() === defaultVersionBranch -->\n            <span data-bind=\"createBranchEnhancement: { viewModel: branchViewModel }\"><\/span>\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'combo' && id() === defaultVersionTags -->\n            <span data-bind=\"createTagEnhancement: { controlType: 'tags', viewModel: tagsViewModel, eventHandlers: [] }\"><\/span>\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'combo' && id() !== defaultVersionBranch && id() !== defaultVersionTags -->\n            <div class='pick-list' data-bind=\"attr: { id: id }, css: { 'invalid': isInvalid() }, disable: isReadOnly\"><\/div>\n            <!-- /ko -->\n\n            <!-- ko if: mode === 'textArea' -->\n            <textarea data-bind=\"attr: { id: id }, value: value, valueUpdate: ['blur', 'afterkeydown'], css: { 'invalid': isInvalid() }, disable: isReadOnly, event: { blur: handleFinalValue }\" />\n            <!-- /ko -->\n        <\/td>\n    <\/tr>";this._initialize(n);this._setSelectedEnvironmentParameters();this._bindEvents();this._setArtifactSources()}return n.prototype.artifactTypeClicked=function(n){var t=this;this._artifactTypeChanged(t,n)},n.prototype.keyDownOnArtifactType=function(n,t,i){var r=this;return nt.AccessibilityHelper.isEnterKeyPressEvent(i)?(this._artifactTypeChanged(r,n),!1):!0},n.prototype.computeDirty=function(){var n=this._isCloneEnv?!0:!!this.selectedTemplate();return n=n&&(this.preApprovalRadioButtonValue()===it.ApprovalRadioButtonTypes.IsAutomated||this.preApprovalCount()>0),n&&!!this.selectedArtifactType()&&s.first(this.selectedArtifactType().inputDescriptors(),function(t){return t.mode!=="none"&&t.isVisible()&&t.isInvalid()&&(n=!1),!n}),this.isInvalid(!n),this.isInvalid()},n.prototype.onManageQueuesLinkOnKeyDown=function(n,t){return nt.AccessibilityHelper.triggerClickOnEnterPress(t)},n.prototype.dispose=function(){!this._changeTracker||this._changeTracker.dispose()},n.prototype._initialize=function(n){this._options=n;this._changeTracker=new tt.ChangeTracker(this);this.operationType=this._options.operationType;this._isCloneEnv=this.operationType===it.EnvironmentDefinitionAddOperationType.CloneEnvironment;this._isAddEnv=this.operationType===it.EnvironmentDefinitionAddOperationType.AddEnvironment;this._isCreateRD=this.operationType===it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition},n.prototype._bindEvents=function(){var n=this;nt.HtmlHelper.renderTemplateIfNeeded(this._inputTemplate,this._inputTemplateHtml);nt.HtmlHelper.renderTemplateIfNeeded(this.pageTemplate,this._pageHtml);this._isCloneEnv||this._changeTracker.addDisposable(this.selectedTemplateId.subscribe(function(t){n._getTemplate(t)}));this.computeInitialization=i.computed(function(){if(n._isCreateRD&&n.artifactTypes().length<=0){n.isInitialized(!1);return}n.isInitialized(!0);return});this._changeTracker.addDisposable(this.computeInitialization)},n.prototype._setArtifactSources=function(){this._isCreateRD&&(this._artifactTypesPromise=w.serviceContext.artifactsDefinitionManager().beginGetArtifactTypes(),this._artifactService=new ft.ArtifactTypesService(et.BaseManager.releaseManagementClient),this._getSupportedArtifactTypes())},n.prototype._artifactTypeChanged=function(t,i){if(!t||!i){n._initializeAndSetSelectedArtifact(t,null,!0);return}var r=null;if(r=s.first(t.artifactTypes(),function(n){return c.localeIgnoreCaseComparer(n.name.peek(),i)===0}),!!r&&(!t.selectedArtifactType.peek()||c.localeIgnoreCaseComparer(i,t.selectedArtifactType.peek().name.peek())!==0)){n._initializeAndSetSelectedArtifact(t,r,!0);return}},n._initializeAndSetSelectedArtifact=function(n,t,i){i===void 0&&(i=!1);!t||t.initializeDefaultValues();!n||(n.selectedArtifactType(t),i&&n.artifactChanged.valueHasMutated())},n.prototype._getSupportedArtifactTypes=function(){var t=this;this._artifactTypesPromise.then(function(i){var f,r,u;t.errorMessage(c.empty);f=i.filter(function(n){return tt.ArtifactHelper.isSupportedArtifactType(n.name)});t._artifactTypeMap={};r=[];r=$.map(f,function(n){var i=new pt(n,t._artifactService,t._inputTemplate);return t._changeTracker.addDisposable(i),t._artifactTypeMap[n.name]=i,i});t.artifactTypes(r);u=t._artifactTypeMap[it.ArtifactTypes.Build];u?n._initializeAndSetSelectedArtifact(t,u):r.length>0&&n._initializeAndSetSelectedArtifact(t,r[0]);t.artifactTypes.valueHasMutated()},function(n){t.errorMessage(nt.ErrorHelper.getErrorMessage(n))})},n.prototype._setSelectedEnvironmentParameters=function(){if(!this._isCreateRD)if(this.labelForEnvironmentAdd(d.EnvironmentAddSettingsHeader),this.enableTrigger(!0),this.preApprovalRadioButtonValue(it.ApprovalRadioButtonTypes.IsAutomated),!this._options.snapshot)this._isAddEnv&&this.labelForTrigger(d.EnvironmentDeploymentConditionsOnReleaseCreationlTooltip);else if(this.environment=this._options.snapshot,!this._options.lastEnvironmentName||(this.lastEnvironmentName=this._options.lastEnvironmentName),this.labelForTrigger(c.localeFormat(d.EnvironmentTriggerAutomatically,this.lastEnvironmentName)),this._isCloneEnv){this.labelForEnvironmentClone(c.localeFormat(d.EnvironmentCloneSettingsHeader,this.environment.name));var n=s.first(this.environment.preDeployApprovals.approvals,function(n){return!n.isAutomated});!n||this.preApprovalRadioButtonValue(it.ApprovalRadioButtonTypes.SpecificUsers)}},n.prototype._getTemplate=function(n){var t=this,i;if(!this._isCloneEnv){if(!n){this.isInvalid(!0);return}this._originalTemplateId&&c.localeIgnoreCaseComparer(n,this._originalTemplateId)===0?this.selectedTemplate.valueHasMutated():(i=w.serviceContext.releaseDefinitionManager().getEnvironmentTemplate(n),i.then(function(i){t.errorMessage(c.empty);t._originalTemplateId=n;t.selectedTemplate(i)},function(n){t.errorMessage(nt.ErrorHelper.getErrorMessage(n))}))}},n}();t.SettingsPageViewModel=ct;lt=function(n){function t(t){var i=n.call(this,"template-wizard")||this;return i._options=null,i._options=t,i.rootDialogCssClass=i.rootDialogCssClass+" rd-wizard-root",i.lastPageNextIcon(""),i.lastPageNextText(d.CreateButtonText),i.errorMessage(c.empty),i.createCallback=t.createCallback,i.operationType=t.operationType,i}return __extends(t,n),t}(v.WizardDialogModel);t.ReleaseManagementWizardDialogModel=lt;wt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.rootViewModel=i.observable(null),r.build=null,r.build=t.build,r._getAllEnvironmentTemplates(),r}return __extends(t,n),t.prototype._getAllEnvironmentTemplates=function(){var n=this,t=w.serviceContext.releaseDefinitionManager().listEnvironmentTemplates();t.then(function(t){var u=[],i={};$.each(t,function(n,t){if(t.iconUri&&t.iconUri!=="")i[t.id]=t.iconUri;else if(t.iconTaskId){var r=w.serviceContext.releaseDefinitionManager().getTaskDefinition(t.iconTaskId,"*").then(function(n){!n||(i[t.id]=n.iconUrl)},function(){});u.push(r)}});r.allSettled(u).then(function(){n._createPages(t,i)})},function(t){n.errorMessage(nt.ErrorHelper.getErrorMessage(t))})},t.prototype._createPages=function(n,t){var u=[],i=new yt(n,t,{selectedTabId:d.TemplateCategoryDeployment}),f=new a.WizardPage(i.pageTemplate,d.EnvironmentTemplateSelectionPageTitle,0,i.pageCss,i.pageTemplate,i),r;u.push(f);r=new ct(this._options);f=new a.WizardPage(r.pageTemplate,c.empty,1,r.pageCss,r.pageTemplate,r);u.push(f);this.rootViewModel(i);this.wizardPages(u);this.loaded(!0)},t}(lt);t.CreateReleaseDefinitionWizardDialogModel=wt;at=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._preApprovals=[],i._currentPageOrder=0,i._operationType=t.operationType,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:600,height:600},t))},t.prototype.setNextButtonStatus=function(t){if(t===void 0&&(t=!0),!!this._element){var i=this._element.parent().find("button[id=next]");!i||(t?i.removeClass("cta brand-color-button"):i.addClass("cta brand-color-button"));n.prototype.changeNextButtonStatus.call(this,!t)}},t.prototype.getTitle=function(){return this._operationType===it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition?d.NewReleaseDefinitionDialogTitle:d.AddNewEnvironmentDialogText},t.prototype._getApprovalEventValue=function(n){return n===it.ApprovalRadioButtonTypes.SpecificUsers?ot.EventValues.manual:ot.EventValues.automated},t.prototype._addHelpElementForAddEnvironmentPage=function(n){if(this._canAddHelpElement()&&!!this._element){var i=this._element.parent().find(".ui-dialog-title"),t=i.find(".env-set-help");t&&t.length!==0||(t=$("<span />").addClass("bowtie-icon bowtie-status-info-outline env-set-help"),t.attr("title",n.viewModel().labelForEnvironmentAdd.peek()),i.append(t))}},t.prototype._addPreApprovalsComboElement=function(n){var i=this,t=this._element.parent().find("."+n.preApprovalComboElementCss+" .pre-app-combo-cont");t&&t.length!==0||(t=$("<div />").addClass("pre-app-combo-cont").attr("tabindex","0"),this._element.parent().find("."+n.preApprovalComboElementCss).append(t));this._preDeploymentApproverComboBox=f.BaseControl.createIn(b.MultiSelectIdentityPickerControl,t,{});t.change(function(){i._updatePageEnableStatus(n,i._preDeploymentApproverComboBox)});nt.ArrayHelper.hasItems(this._preApprovals)&&(this._preDeploymentApproverComboBox.setValue(this._preApprovals),t.change())},t.prototype._updatePageEnableStatus=function(n,t){!n||!t||(this._preApprovals=t.getValue(),n.preApprovalCount(this._preApprovals.length))},t.prototype._canAddHelpElement=function(){return this._operationType!==it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition},t}(v.WizardDialog);t.ReleaseManagementWizardDialog=at;bt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._controls=[],i._controlsDisposalManager=new h.DisposalManager,i._build=null,i._buildDefinitionName=c.empty,i._isCreateRD=!1,i._isAddEnv=!1,i._rdModel=t,i._bindEvents(),i}return __extends(t,n),t.prototype.onNextClick=function(){var t;if(this._rdModel.loaded()){n.prototype.onNextClick.call(this);var i=this.getViewModel(),e=i.currentWizardPage.peek(),f=i.wizardPages.peek(),o=f[0].viewModel(),r=f[1].viewModel();if(e)r.selectedTemplateId(o.selectedTemplateId());else{if(t=r.selectedTemplate.peek(),!!i.createCallback&&!!t&&!!t.environment){var h=tt.DeployPhaseHelper.getAgentBasedDeployPhases(t.environment.deployPhases),s=this._getSnapshot(r,t.environment,this._preDeploymentApproverComboBox),u=this._getArtifactData(r);this._publishDialogCompletedEvent(r);i.createCallback({template:t,snapshot:s,operationType:i.operationType,project:u.project,definition:u.definition,connection:u.connection,enableCI:u.enablCI})}this.close(!1)}}},t.prototype.close=function(t){t===void 0&&(t=!0);t&&this._publishDialogCancelledEvent();n.prototype.close.call(this);n.prototype.dispose.call(this)},t.prototype._publishDialogCancelledEvent=function(){var n=c.empty;n=this._isCreateRD?this._currentPageOrder===0?ot.ReleaseDefinitionFeatures.templateSelect:ot.ReleaseDefinitionFeatures.settings:this._currentPageOrder===0?ot.DefinitionEnvironmentFeatures.templateSelect:ot.DefinitionEnvironmentFeatures.addSettings;w.serviceContext.telemetryServiceManager().publishEvent(n,ot.Events.cancelClick,1)},t.prototype._publishDialogCompletedEvent=function(n){var t={},i=this._isCreateRD?ot.ReleaseDefinitionFeatures.createCompleted:ot.DefinitionEnvironmentFeatures.addCompleted;t[ot.EventProperties.templateId]=n.selectedTemplateId.peek();!n.selectedTemplate.peek()||(t[ot.EventProperties.templateName]=n.selectedTemplate.peek().name);this._isCreateRD?(t[ot.EventProperties.artifactSource]=n.selectedArtifactType.peek()?n.selectedArtifactType.peek().name.peek():ot.ReleaseDefinitionEventValues.noArtifactLinked,t[ot.EventProperties.ciEnabled]=n.enableCI.peek()):this._isAddEnv&&(t[ot.EventProperties.approval]=this._getApprovalEventValue(n.preApprovalRadioButtonValue.peek()),t[ot.EventProperties.triggerEnabled]=n.enableTrigger.peek());w.serviceContext.telemetryServiceManager().publishEvents(i,t)},t.prototype._bindEvents=function(){var n=this;this._isCreateRD=this._operationType===it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition;this._isAddEnv=this._operationType===it.EnvironmentDefinitionAddOperationType.AddEnvironment;this._build=this._rdModel.build;this.addDisposable(this._rdModel.loaded.subscribe(function(t){var i,r;if(t&&(i=n._rdModel.currentWizardPage(),i)){if(r=i.viewModel.peek(),n.addDisposable(r.isInvalid.subscribe(function(t){n.setNextButtonStatus(t)})),n._element.parent().focus(),n._currentPageOrder=i.order,i.order===0){n._initializeTemplatesPage(n._rdModel.rootViewModel.peek().selectedTemplateId.peek());nt.AccessibilityHelper.onEscape(n._element.parent(),function(){n.close(!1)});n.onClose=function(t){!t.currentTarget||t.type!=="dialogclose"||n._publishDialogCancelledEvent()}}else i.order===1&&(n._addHelpElementForAddEnvironmentPage(i),n._initializeSettingsPage(i));r.isInvalid.valueHasMutated()}}))},t.prototype._initializeTemplatesPage=function(n){var t=this,i=this._element.parent().find("ul.templates-list li"),r,u;i.removeClass("templates-list-item-selected");!n||(r=this._element.parent().find("ul.templates-list li."+n),r.addClass("templates-list-item-selected"));u=this;i.click(function(){i.removeClass("templates-list-item-selected");$(this).addClass("templates-list-item-selected");u._setSelectedTemplateId($(this))});i.dblclick(function(n){t._setSelectedTemplateId($(n.target));t.onNextClick()});i.keydown(function(n){var u,f,i=$(n.target),e,r;switch(n.keyCode){case l.KeyCode.ENTER:return e=t._element.parent().find("ul.templates-list li"),e.removeClass("templates-list-item-selected"),r=$(n.target),r[0].tagName!=="LI"&&(r=r.parent("li.templates-list-item")),r.addClass("templates-list-item-selected"),t._setSelectedTemplateId($(n.target)),t.onNextClick(),!1;case l.KeyCode.UP:return n.preventDefault(),f=i.prev()&&i.prev().length>0?i.prev():i.parent().children().last(),f.focus(),f.click(),!1;case l.KeyCode.DOWN:return n.preventDefault(),u=i.next()&&i.next().length>0?i.next():i.parent().children().first(),u.focus(),u.click(),!1;default:return!0}})},t.prototype._initializeSettingsPage=function(n){var i=this,t;!n||(t=n.viewModel(),this.addDisposable(t.errorMessage.subscribe(function(n){i._rdModel.errorMessage(n)})),this._isAddEnv&&this._addPreApprovalsComboElement(t),this._isCreateRD&&(this.addDisposable(t.artifactChanged.subscribe(function(){i._cleanupControls();!t.selectedArtifactType.peek()||i._enhanceControls(t.selectedArtifactType.peek())})),t.artifactChanged.valueHasMutated()))},t.prototype._enhanceControls=function(n){this._enhanceComboControls(n)},t.prototype._enhanceComboControls=function(n){var t=this;this.getElement().find(".artifacts-container .input-container .pick-list").each(function(r,u){var l,a,c;if(!($(u).find(".combo").length>0)){var v=$(u).attr("id"),o=n.getInputViewModel(v),h=o.possibleValues(),s=f.BaseControl.createIn(e.Combo,$(u),{change:function(){var t=i.dataFor(this.getElement()[0]);t.setSelectedValue(this.getText(),n.name())},blur:function(){var n=i.dataFor(this.getElement()[0]);n.handleBlur()},id:o.id(),label:o.name(),dropOptions:{itemCss:""},source:h,invalidCss:"invalid",allowEdit:!0});t._controlsDisposalManager.addDisposable(o.possibleValues.subscribe(function(){h=o.possibleValues();s.setSource(h);s.setText(o.getSelectedValue())}));t._controlsDisposalManager.addDisposable(o.isReadOnly.subscribe(function(){s.setEnabled(!o.isReadOnly())}));t._controlsDisposalManager.addDisposable(o.value.subscribe(function(){s.setInvalid(o.isInvalid())}));i.applyBindings(o,u);l=o.getSelectedValue();s.setText(l);o.id()===st.ArtifactDefinitionConstants.DefinitionId&&n.name()===it.ArtifactTypes.Build&&(o.isArtifactTypeBuild(o.id())?t._controlsDisposalManager.addDisposable(o.displayText.subscribe(function(n){!n||o.isInvalid()||(t._buildDefinitionName=n)})):t._controlsDisposalManager.addDisposable(o.value.subscribe(function(n){!n||o.isInvalid()||(t._buildDefinitionName=n)})),t._buildDefinitionName?(o.setSelectedValue(t._buildDefinitionName,n.name()),a=o.getSelectedValue(),s.setText(a)):!t._build||(o.isArtifactTypeBuild(o.id())?(c=tt.BuildDefinitionNameUtils.getDisplayNameWithFolder(t._build.definition.path,t._build.definition.name),o.setSelectedValue(c,n.name()),s.setText(c)):(s.setText(t._build.definition.name),o.value(t._build.definition.name)),t._buildDefinitionName=o.getSelectedValue()));t._controls.push(s);o.isReadOnly.valueHasMutated();o.value.valueHasMutated()}})},t.prototype._cleanupControls=function(){this._controls.length>0&&(this._controlsDisposalManager.dispose(),this._controls.forEach(function(n){n.dispose()}),this._controls=[])},t.prototype._getArtifactData=function(n){var i=null,r=null,u=null,f=null,t=n.selectedArtifactType.peek();return!t||(t.inputDescriptors().forEach(function(n){c.ignoreCaseComparer(n.id.peek(),st.ArtifactDefinitionConstants.DefinitionId)===0&&(u={name:n.value(),id:n.getValue()});t.name.peek()===it.ArtifactTypes.JenkinsId?c.ignoreCaseComparer(n.id.peek(),st.ArtifactDefinitionConstants.ConnectionId)===0&&(r={name:n.value(),id:n.getValue()}):t.name.peek()===it.ArtifactTypes.Build&&c.ignoreCaseComparer(n.id.peek(),st.ArtifactDefinitionConstants.ProjectId)===0&&(i={name:n.value(),id:n.getValue()})}),t.name.peek()===it.ArtifactTypes.Build&&(f=n.enableCI.peek()?y.BuildReason.IndividualCI:y.BuildReason.None)),{project:i,definition:u,connection:r,enablCI:f}},t.prototype._getSnapshot=function(n,t,i){var r=null;return this._isAddEnv&&(r=rt.EnvironmentSnapshot.createFromEnvironmentDefinition(t),r.conditions=[],n.enableTrigger.peek()&&(r.conditions=n.environment?[{name:n.lastEnvironmentName,conditionType:g.ConditionType.EnvironmentState,value:g.EnvironmentStatus.Succeeded.toString()}]:[{name:it.EnvironmentDeploymentConditionsTriggerTypeConstants.ReleaseStarted,conditionType:g.ConditionType.Event,value:c.empty}]),r.preDeployApprovals=n.preApprovalRadioButtonValue.peek()===it.ApprovalRadioButtonTypes.SpecificUsers?{approvalOptions:{releaseCreatorCanBeApprover:!0,requiredApproverCount:0,autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped:!1,enforceIdentityRevalidation:!1},approvals:tt.ApprovalsHelper.getApprovalSteps(i.getValue())}:{approvals:[{id:0,rank:1,approver:null,isAutomated:!0,isNotificationOn:!1}],approvalOptions:null}),r},t.prototype._setSelectedTemplateId=function(n){var t,i,r;n&&n[0]&&n[0].tagName&&(n[0].tagName!=="LI"&&(n=n.parents(".templates-list-item-selected")),t=n.attr("id"),!t||(i=this.getViewModel().wizardPages.peek(),r=i[0].viewModel.peek(),r.selectedTemplateId(t)))},t}(at);t.CreateReleaseDefinitionWizardDialog=bt;kt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.rootViewModel=i.observable(null),r._createPage(),r}return __extends(t,n),t.prototype._createPage=function(){var t=[],n=new ct(this._options),i=new a.WizardPage(n.pageTemplate,c.empty,0,n.pageCss,n.pageTemplate,n);t.push(i);this.rootViewModel(n);this.wizardPages(t);this.loaded(!0)},t}(lt);t.CloneDefinitionEnvironmentDialogModel=kt;dt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._cloneModel=t,i._bindEvents(),i}return __extends(t,n),t.prototype.onNextClick=function(){var t,r,u,i;this._cloneModel.loaded()&&(n.prototype.onNextClick.call(this),t=this.getViewModel(),r=t.currentWizardPage.peek(),r||(u=t.wizardPages.peek(),i=u[0].viewModel.peek(),this._publishDialogCompletedEvent(i),!t.createCallback||t.createCallback({snapshot:this._getClonedSnapshot(i,this._preDeploymentApproverComboBox),operationType:t.operationType}),this.close(!1)))},t.prototype.close=function(t){t===void 0&&(t=!0);t&&this._publishDialogCancelledEvent();n.prototype.close.call(this);n.prototype.dispose.call(this)},t.prototype._publishDialogCancelledEvent=function(){w.serviceContext.telemetryServiceManager().publishEvent(ot.DefinitionEnvironmentFeatures.cloneSettings,ot.Events.cancelClick,1)},t.prototype._publishDialogCompletedEvent=function(n){var t={};t[ot.EventProperties.approval]=this._getApprovalEventValue(n.preApprovalRadioButtonValue.peek());t[ot.EventProperties.orinalApproval]=this._getApprovalEventValue(this._originalApprovalType);t[ot.EventProperties.triggerEnabled]=n.enableTrigger.peek();w.serviceContext.telemetryServiceManager().publishEvents(ot.DefinitionEnvironmentFeatures.cloneCompleted,t)},t.prototype._bindEvents=function(){var n=this,t;this._isClone=this._operationType===it.EnvironmentDefinitionAddOperationType.CloneEnvironment;t=this._cloneModel.currentWizardPage.peek();this.addDisposable(this._cloneModel.currentWizardPage.peek().viewModel.peek().isInvalid.subscribe(function(t){n.setNextButtonStatus(t)}));this.addDisposable(this._cloneModel.loaded.subscribe(function(t){var i,r;if(t&&(i=n._cloneModel.currentWizardPage.peek(),i)){r=i.viewModel.peek();n.onClose=function(t){!t.currentTarget||t.type!=="dialogclose"||n._publishDialogCancelledEvent()};n._element.parent().focus();n._currentPageOrder=i.order;nt.AccessibilityHelper.onEscape(n._element.parent(),function(){n.close(!1)});n._addHelpElementForAddEnvironmentPage(i);n._initializeSettingsPage(i);r.isInvalid.valueHasMutated()}}));h.delay(this,100,function(){n._cloneModel.loaded.valueHasMutated()})},t.prototype._initializeSettingsPage=function(n){var r=this,i,t;!n||(i=this.getViewModel(),t=i.rootViewModel(),this._isClone&&(this.addDisposable(t.errorMessage.subscribe(function(n){r._cloneModel.errorMessage(n)})),nt.ArrayHelper.hasItems(t.environment.preDeployApprovals.approvals)&&(this._preApprovals=$.map(t.environment.preDeployApprovals.approvals,function(n){if(!n.isAutomated)return $.extend(!0,{},n.approver)}),this._originalApprovalType=nt.ArrayHelper.hasItems(this._preApprovals)?it.ApprovalRadioButtonTypes.SpecificUsers:it.ApprovalRadioButtonTypes.IsAutomated),this._addPreApprovalsComboElement(t)))},t.prototype._getClonedSnapshot=function(n,t){var i=null,u,r;return!!n.environment&&this._isClone&&(i=n.environment,i.conditions=[],i.schedules=[],u=tt.DeployPhaseHelper.getAgentBasedDeployPhases(i.deployPhases),n.enableTrigger.peek()&&(i.conditions=[{name:n.lastEnvironmentName,conditionType:g.ConditionType.EnvironmentState,value:g.EnvironmentStatus.Succeeded.toString()}]),r=!n.environment.preDeployApprovals.approvalOptions?null:$.extend(!0,{},n.environment.preDeployApprovals.approvalOptions),i.preDeployApprovals=n.preApprovalRadioButtonValue.peek()===it.ApprovalRadioButtonTypes.SpecificUsers?{approvals:tt.ApprovalsHelper.getApprovalSteps(t.getValue(),r),approvalOptions:r}:{approvals:[{id:0,rank:1,approver:null,isAutomated:!0,isNotificationOn:!1}],approvalOptions:null},i.name=c.localeFormat(d.ClonedEnvironmentNameText,n.environment.name)),i},t}(at);t.CloneDefinitionEnvironmentDialog=dt;ni=function(){function n(){}return n.showCreateReleaseDefinition=function(n,t){n.operationType!==it.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition||!t||w.serviceContext.telemetryServiceManager().publishEvent(ot.ReleaseDefinitionFeatures.createNew,ot.Events.click,t);o.Dialog.show(bt,new wt(n))},n.ShowCloneDefinitionEnvironmentDialog=function(n){o.Dialog.show(dt,new kt(n))},n}();t.DialogHelper=ni;u.tfsModuleLoaded("TFS.ReleaseManagement.LoadEnvironmentTemplatesDialog",t)});

define("ReleasePipeline/Scripts/TFS.ReleaseManagement.BuildIntegration",["require","exports","react","q","VSS/SDK/Shim","VSS/VSS","VSS/Controls/Dialogs","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls","VSS/Events/Action","VSS/Utils/String","VSS/LWP","VSS/Service","VSS/Contributions/Services","TFS/Build/Contracts","ReleasePipeline/Scripts/TFS.ReleaseManagement.CreateRelease.Controls","ReleasePipeline/Scripts/TFS.ReleaseManagement.Manager","ReleasePipeline/Scripts/TFS.ReleaseManagement.Types","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils.Core","ReleasePipeline/Scripts/TFS.ReleaseManagement.Utils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Context","ReleasePipeline/Scripts/TFS.ReleaseManagement.LoadEnvironmentTemplatesDialog","ReleasePipeline/Scripts/Resources/TFS.Resources.ReleasePipeline","ReleasePipeline/Scripts/TFS.ReleaseManagement.MessageArea","ReleasePipeline/Scripts/TFS.ReleaseManagement.TelemetryUtils","ReleasePipeline/Scripts/TFS.ReleaseManagement.Controls.UserDialog","VSS/LoaderPlugins/Css!RM:ReleasePipeline"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){var yt,ot,st,ht;Object.defineProperty(t,"__esModule",{value:!0});var ct=o.delegate,at=s.domElem,vt={WebPageData:{fields:null}},et=null,lt=function(){function n(){var n=this;this.messageCallBack=function(n){if(et){var t=et.getService("IGlobalMessagesService");t&&t.addBanner({componentType:"createReleaseHTMLBanner",contentProperties:{message:n.html()}},!0)}else rt.currentContext?rt.currentContext.logMessage(n):console.warn("Message "+n+"is not shown, context cannot be created")};this.errorCallBack=function(t){n._logError(t)}}return n.prototype.createRelease=function(n,t){if(t===void 0&&(t=null),n.result===p.BuildResult.Succeeded||n.result===p.BuildResult.PartiallySucceeded){this._createReleaseForBuild(n,t);return}if(n.status===p.BuildStatus.InProgress){ft.DialogUtils.alert(it.WaitForBuildCompletionToCreateRelease,function(){},it.CannotReleaseFromFailedBuildTitle);return}var i=n.status===p.BuildStatus.Completed?g.BuildHelper.ResultToTextMap[n.result]:g.BuildHelper.StatusToTextMap[n.status];ft.DialogUtils.alert(l.localeFormat(it.CannotReleaseFromFailedBuild,i),function(){},it.CannotReleaseFromFailedBuildTitle)},n.prototype._createReleaseForBuild=function(n,t){var i=this,r,u=l.format("{0}:{1}",n.project.id,n.definition.id.toString());this._getProjects(k.ArtifactTypes.Build,u).then(function(u){var f,e;if(d.ArrayHelper.hasItems(u)){for(u.sort(function(n,t){return n.name.localeCompare(t.name)}),f=0;f<u.length;f++)u[f].name===n.project.name&&(u.splice(0,0,u[f]),u.splice(f+1,1));i._createMessageAreaInBuild();r=u;d.ArrayHelper.hasItems(u)&&w.ReleasePipelineDialogs.createReleaseFromBuild(r,n.id,n.definition.id,i.messageCallBack,i.errorCallBack,null,n.buildNumber,t)}else b.FeaturesManager.areBasicLicenseReleaseManagementFeaturesEnabled()?(e=d.UrlHelper.getUrlForExtension(k.ExtensionArea.ReleaseCDExplorer,k.DefinitionDesignerActions.createReleaseDefinitionInNewEditorAction,{definitionId:0,buildDefinitionId:n.definition.id,buildDefinitionName:n.definition.name,projectId:n.project.id,projectName:n.project.name,source:k.ReleaseDefinitionCreationSource[k.ReleaseDefinitionCreationSource.BuildSummary]}),window.location.href=e):ft.DialogUtils.alert(it.NoReleaseDefinitionAlertContent,function(){},it.NoReleaseDefinitionAlertTitle)},function(n){i._logError(n)})},n.prototype._showLoadEnvironmentTemplatesDialog=function(n){tt.DialogHelper.showCreateReleaseDefinition({operationType:k.EnvironmentDefinitionAddOperationType.CreateReleaseDefinition,createCallback:this._createReleaseDefinitionFromBuild,build:n},ut.EventValues.build)},n.prototype._logError=function(n){rt.currentContext||this._createMessageAreaInBuild();rt.currentContext?rt.currentContext.logError(n):console.error(n)},n.prototype._createMessageAreaInBuild=function(){var r=$(n.BUILD_PIVOT_CONTENT_PANE),t,i;if(!!r&&r.length&&r.length>0){this._createMessageArea(n.BUILD_PIVOT_CONTENT_PANE,n.BUILD_PIVOT_HUB_PIVOT);return}if(t=$(n.BUILD_VNEXT_RIGHT_PANE),!!t&&t.length&&t.length>0){this._createMessageArea(n.BUILD_VNEXT_RIGHT_PANE,n.BUILD_VNEXT_VIEW,!0);return}if(i=$(n.BUILD_HUB_PIVOTBAR),!!i&&i.length&&i.length>0){this._createMessageArea(n.BUILD_HUB_PIVOTBAR,n.BUILD_PIVOTBAR_CONTENT,!0);return}},n.prototype._createMessageArea=function(n,t,i){var r,u,f;(i===void 0&&(i=!1),r=$(n).find(".create-release-container-message-area-build"),rt.currentContext&&r&&r.length&&r.length>0)||(u=$(n).find(t),r=$(at("div")).addClass("create-release-container-message-area-build"),f=new rt.MessageAreaViewModel,h.Enhancement.enhance(rt.MessageAreaView,r,{viewModel:f}),i?r.insertBefore(u):r.insertAfter(u),rt.currentContext=new rt.MessageContext(f))},n.prototype._getProjects=function(t,i){if(d.FeatureFlagUtils.isCreateReleaseDataProviderEnabled()){var u=v.getService(y.WebPageDataService).getPageData("ms.vss-releaseManagement-web.cdworkflow.crpanel.data-provider",vt.WebPageData);if(!!u)return r.resolve(u.linkedProjects)}return n._releaseDefinitionManager||(n._releaseDefinitionManager=nt.serviceContext.releaseDefinitionManager()),n._releaseDefinitionManager.getProjects(t,i)},n.prototype._getLinkedReleaseDefinitions=function(t,i,r){n._releaseDefinitionManager||(n._releaseDefinitionManager=nt.serviceContext.releaseDefinitionManager());var u=l.format("{0}:{1}",nt.serviceContext.webContext().project.id,r.definition.id.toString());return n._releaseDefinitionManager.getReleaseDefinitionsForArtifactSource(k.ArtifactTypes.Build,u,null,i)},n.prototype._environmentTemplateDialogOkCallBack=function(t,i,r){var u={definitionId:0,templateId:t.id,buildDefinitionId:!i?l.empty:i.toString(),buildDefinitionName:!r?l.empty:r};n.navigateToReleaseHub(u)},n.prototype._createReleaseDefinitionFromBuild=function(t){if(!!t){var i={definitionId:0,templateId:t.template.id,queueId:g.DeployPhaseHelper.getQueueIdOfAgentBasedDeployPhases(t.template.environment.deployPhases)};!t.definition||$.extend(i,{projectId:t.project.id,projectName:t.project.name,buildDefinitionId:t.definition.id,buildDefinitionName:t.definition.name,enableCI:t.enableCI});n.navigateToReleaseHub(i)}},n.navigateToReleaseHub=function(n){var t=k.ExtensionArea.ReleaseExplorer;c.getService().performAction(c.CommonActions.ACTION_WINDOW_NAVIGATE,{url:d.UrlHelper.getUrlForExtension(t,k.DefinitionDesignerActions.environmentsEditorAction,n)})},n.BUILD_VNEXT_RIGHT_PANE=".buildvnext-view-right-pane-content",n.BUILD_VNEXT_VIEW=".buildvnext-view-right-pane",n.BUILD_PIVOT_CONTENT_PANE=".build-pivot-content-container",n.BUILD_PIVOT_HUB_PIVOT=".hub-pivot",n.BUILD_HUB_PIVOTBAR=".vss-HubPivotBar",n.BUILD_PIVOTBAR_CONTENT=".vss-PivotBar--content",n}();t.BuildCommandHandler=lt;yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){this._buildDetails=t.buildDetails;this._okCallBack=t.okCallBack;var i={};i.yes={id:"yes",text:it.CreateReleaseDefinitionConfirmationDialogYesOption,click:ct(this,this._showEnvironmentTemplatesDialog)};i.no={id:"no",text:it.CreateReleaseDefinitionConfirmationDialogNoOption,click:ct(this,this._closeDialogBox)};n.prototype.initializeOptions.call(this,$.extend({resizable:!1,draggable:!1,height:180,width:450,buttons:i},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._createView()},t.prototype._createView=function(){var n=$("<div>"+it.CreateReleaseDefinitionConfirmationDialogContent+"<\/div>");this._element.append(n)},t.prototype._showEnvironmentTemplatesDialog=function(){this._okCallBack(this._buildDetails);this._closeDialogBox()},t.prototype._closeDialogBox=function(){this.close();this.dispose()},t.prototype.getTitle=function(){return it.CreateReleaseDefinitionConfirmationDialogTitle},t}(e.ModalDialog);ot=new lt;u.VSS.register("create-release-for-build",function(){return{execute:function(n,t){t===void 0&&(t=null);ot.createRelease(n,t)}}});st=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return et=i.props.vssPageContext,i}return __extends(t,n),t.prototype.render=function(){return ot.createRelease(this.props.buildDetails,this.props.endPerfScenario),null},t.componentType="createReleaseDialog",t}(i.Component);ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return i.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.message}},null)},t.componentType="createReleaseHTMLBanner",t}(i.Component);a.registerLWPComponent(st.componentType,st);a.registerLWPComponent(ht.componentType,ht);f.tfsModuleLoaded("TFS.ReleaseManagement.BuildIntegration",t)});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-async'); }